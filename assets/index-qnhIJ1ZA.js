var gG=Object.defineProperty;var bv=t=>{throw TypeError(t)};var MG=(t,e,i)=>e in t?gG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var xn=(t,e,i)=>MG(t,typeof e!="symbol"?e+"":e,i),Cv=(t,e,i)=>e.has(t)||bv("Cannot "+i);var Ve=(t,e,i)=>(Cv(t,e,"read from private field"),i?i.call(t):e.get(t)),Dn=(t,e,i)=>e.has(t)?bv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),Cn=(t,e,i,a)=>(Cv(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i);var Ev=(t,e,i,a)=>({set _(r){Cn(t,e,r,i)},get _(){return Ve(t,e,a)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function Ne(){}function AG(t,e){for(const i in e)t[i]=e[i];return t}function UO(t){return t()}function _v(){return Object.create(null)}function f9(t){t.forEach(UO)}function Fo(t){return typeof t=="function"}function ji(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function yG(t){return Object.keys(t).length===0}function a1(t,e,i,a){if(t){const r=$O(t,e,i,a);return t[0](r)}}function $O(t,e,i,a){return t[1]&&a?AG(i.ctx.slice(),t[1](a(e))):i.ctx}function r1(t,e,i,a){if(t[2]&&a){const r=t[2](a(i));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],l=Math.max(e.dirty.length,r.length);for(let u=0;u<l;u+=1)s[u]=e.dirty[u]|r[u];return s}return e.dirty|r}return e.dirty}function o1(t,e,i,a,r,s){if(r){const l=$O(e,i,a,s);t.p(l,r)}}function s1(t){if(t.ctx.length>32){const e=[],i=t.ctx.length/32;for(let a=0;a<i;a++)e[a]=-1;return e}return-1}function B(t,e){t.appendChild(e)}function Ct(t,e,i){t.insertBefore(e,i||null)}function bt(t){t.parentNode&&t.parentNode.removeChild(t)}function xi(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function K(t){return document.createElement(t)}function Ro(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function oe(t){return document.createTextNode(t)}function q(){return oe(" ")}function V9(){return oe("")}function Ue(t,e,i,a){return t.addEventListener(e,i,a),()=>t.removeEventListener(e,i,a)}function dt(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function Xi(t,e,i){const a=e.toLowerCase();a in t?t[a]=typeof t[a]=="boolean"&&i===""?!0:i:e in t?t[e]=typeof t[e]=="boolean"&&i===""?!0:i:dt(t,e,i)}function ur(t){return t===""?null:+t}function vG(t){return Array.from(t.childNodes)}function Ge(t,e){e=""+e,t.data!==e&&(t.data=e)}function Qi(t,e){t.value=e??""}function gn(t,e,i,a){i==null?t.style.removeProperty(e):t.style.setProperty(e,i,"")}function wa(t,e,i){for(let a=0;a<t.options.length;a+=1){const r=t.options[a];if(r.__value===e){r.selected=!0;return}}(!i||e!==void 0)&&(t.selectedIndex=-1)}function eo(t){const e=t.querySelector(":checked");return e&&e.__value}function f3(t,e){return new t(e)}let bf;function lf(t){bf=t}function GO(){if(!bf)throw new Error("Function called outside component initialization");return bf}function c9(t){GO().$$.on_mount.push(t)}function r9(t){GO().$$.on_destroy.push(t)}const Hu=[],Me=[];let Ku=[];const b6=[],bG=Promise.resolve();let C6=!1;function CG(){C6||(C6=!0,bG.then(HO))}function Zr(t){Ku.push(t)}function Re(t){b6.push(t)}const g5=new Set;let Nu=0;function HO(){if(Nu!==0)return;const t=bf;do{try{for(;Nu<Hu.length;){const e=Hu[Nu];Nu++,lf(e),EG(e.$$)}}catch(e){throw Hu.length=0,Nu=0,e}for(lf(null),Hu.length=0,Nu=0;Me.length;)Me.pop()();for(let e=0;e<Ku.length;e+=1){const i=Ku[e];g5.has(i)||(g5.add(i),i())}Ku.length=0}while(Hu.length);for(;b6.length;)b6.pop()();C6=!1,g5.clear(),lf(t)}function EG(t){if(t.fragment!==null){t.update(),f9(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Zr)}}function _G(t){const e=[],i=[];Ku.forEach(a=>t.indexOf(a)===-1?e.push(a):i.push(a)),i.forEach(a=>a()),Ku=e}const qm=new Set;let _c;function so(){_c={r:0,c:[],p:_c}}function lo(){_c.r||f9(_c.c),_c=_c.p}function Rt(t,e){t&&t.i&&(qm.delete(t),t.i(e))}function Dt(t,e,i,a){if(t&&t.o){if(qm.has(t))return;qm.add(t),_c.c.push(()=>{qm.delete(t),a&&(i&&t.d(1),a())}),t.o(e)}else a&&a()}function $e(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function wG(t,e){Dt(t,1,1,()=>{e.delete(t.key)})}function OG(t,e,i,a,r,s,l,u,d,c,f,M){let m=t.length,A=s.length,p=m;const y={};for(;p--;)y[t[p].key]=p;const E=[],v=new Map,w=new Map,x=[];for(p=A;p--;){const R=M(r,s,p),I=i(R);let P=l.get(I);P?x.push(()=>P.p(R,e)):(P=c(I,R),P.c()),v.set(I,E[p]=P),I in y&&w.set(I,Math.abs(p-y[I]))}const b=new Set,O=new Set;function S(R){Rt(R,1),R.m(u,f),l.set(R.key,R),f=R.first,A--}for(;m&&A;){const R=E[A-1],I=t[m-1],P=R.key,L=I.key;R===I?(f=R.first,m--,A--):v.has(L)?!l.has(P)||b.has(P)?S(R):O.has(L)?m--:w.get(P)>w.get(L)?(O.add(P),S(R)):(b.add(L),m--):(d(I,l),m--)}for(;m--;){const R=t[m];v.has(R.key)||d(R,l)}for(;A;)S(E[A-1]);return f9(x),E}function De(t,e,i){const a=t.$$.props[e];a!==void 0&&(t.$$.bound[a]=i,i(t.$$.ctx[a]))}function Ft(t){t&&t.c()}function kt(t,e,i){const{fragment:a,after_update:r}=t.$$;a&&a.m(e,i),Zr(()=>{const s=t.$$.on_mount.map(UO).filter(Fo);t.$$.on_destroy?t.$$.on_destroy.push(...s):f9(s),t.$$.on_mount=[]}),r.forEach(Zr)}function Nt(t,e){const i=t.$$;i.fragment!==null&&(_G(i.after_update),f9(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function xG(t,e){t.$$.dirty[0]===-1&&(Hu.push(t),CG(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Wi(t,e,i,a,r,s,l=null,u=[-1]){const d=bf;lf(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Ne,not_equal:r,bound:_v(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:_v(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};l&&l(c.root);let f=!1;if(c.ctx=i?i(t,e.props||{},(M,m,...A)=>{const p=A.length?A[0]:m;return c.ctx&&r(c.ctx[M],c.ctx[M]=p)&&(!c.skip_bound&&c.bound[M]&&c.bound[M](p),f&&xG(t,M)),m}):[],c.update(),f=!0,f9(c.before_update),c.fragment=a?a(c.ctx):!1,e.target){if(e.hydrate){const M=vG(e.target);c.fragment&&c.fragment.l(M),M.forEach(bt)}else c.fragment&&c.fragment.c();e.intro&&Rt(t.$$.fragment),kt(t,e.target,e.anchor),HO()}lf(d)}class Ki{constructor(){xn(this,"$$");xn(this,"$$set")}$destroy(){Nt(this,1),this.$destroy=Ne}$on(e,i){if(!Fo(i))return Ne;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(i),()=>{const r=a.indexOf(i);r!==-1&&a.splice(r,1)}}$set(e){this.$$set&&!yG(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const SG="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(SG);const u4="0.19.4";function bc(t,e,i){const a=new URLSearchParams(t.location.search);a.set(e,i);const r=`${t.location.protocol}//${t.location.host}${t.location.pathname}?${a.toString()}`;t.history.pushState({path:r},"",r)}function VO(t,e){return new URLSearchParams(t.location.search).get(e)}function yr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function l1(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d4(t){let e,i,a;t.length!==2?(e=yr,i=(u,d)=>yr(t(u),d),a=(u,d)=>t(u)-d):(e=t===yr||t===l1?t:TG,i=t,a=t);function r(u,d,c=0,f=u.length){if(c<f){if(e(d,d)!==0)return f;do{const M=c+f>>>1;i(u[M],d)<0?c=M+1:f=M}while(c<f)}return c}function s(u,d,c=0,f=u.length){if(c<f){if(e(d,d)!==0)return f;do{const M=c+f>>>1;i(u[M],d)<=0?c=M+1:f=M}while(c<f)}return c}function l(u,d,c=0,f=u.length){const M=r(u,d,c,f-1);return M>c&&a(u[M-1],d)>-a(u[M],d)?M-1:M}return{left:r,center:l,right:s}}function TG(){return 0}function QO(t){return t===null?NaN:+t}function*IG(t,e){if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(yield a)}}const BG=d4(yr),c1=BG.right;d4(QO).center;function h4(t,e){let i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&++i;else{let a=-1;for(let r of t)(r=e(r,++a,t))!=null&&(r=+r)>=r&&++i}return i}function RG(t){return t.length|0}function DG(t){return!(t>0)}function PG(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function LG(t){return e=>t(...e)}function kG(...t){const e=typeof t[t.length-1]=="function"&&LG(t.pop());t=t.map(PG);const i=t.map(RG),a=t.length-1,r=new Array(a+1).fill(0),s=[];if(a<0||i.some(DG))return s;for(;;){s.push(r.map((u,d)=>t[d][u]));let l=a;for(;++r[l]===i[l];){if(l===0)return e?s.map(e):s;r[l--]=0}}}function NG(t,e){var i=0;return Float64Array.from(t,a=>i+=+a||0)}function H7(t,e){let i=0,a,r=0,s=0;if(e===void 0)for(let l of t)l!=null&&(l=+l)>=l&&(a=l-r,r+=a/++i,s+=a*(l-r));else{let l=-1;for(let u of t)(u=e(u,++l,t))!=null&&(u=+u)>=u&&(a=u-r,r+=a/++i,s+=a*(u-r))}if(i>1)return s/(i-1)}function V7(t,e){const i=H7(t,e);return i&&Math.sqrt(i)}function Oa(t,e){let i,a;if(e===void 0)for(const r of t)r!=null&&(i===void 0?r>=r&&(i=a=r):(i>r&&(i=r),a<r&&(a=r)));else{let r=-1;for(let s of t)(s=e(s,++r,t))!=null&&(i===void 0?s>=s&&(i=a=s):(i>s&&(i=s),a<s&&(a=s)))}return[i,a]}class Uc{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let a=0;for(let r=0;r<this._n&&r<32;r++){const s=i[r],l=e+s,u=Math.abs(e)<Math.abs(s)?e-(l-s):s-(l-e);u&&(i[a++]=u),e=l}return i[a]=e,this._n=a+1,this}valueOf(){const e=this._partials;let i=this._n,a,r,s,l=0;if(i>0){for(l=e[--i];i>0&&(a=l,r=e[--i],l=a+r,s=r-(l-a),!s););i>0&&(s<0&&e[i-1]<0||s>0&&e[i-1]>0)&&(r=s*2,a=l+r,r==a-l&&(l=a))}return l}}class $c extends Map{constructor(e,i=jO){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(const[a,r]of e)this.set(a,r)}get(e){return super.get(E6(this,e))}has(e){return super.has(E6(this,e))}set(e,i){return super.set(zO(this,e),i)}delete(e){return super.delete(JO(this,e))}}class u1 extends Set{constructor(e,i=jO){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(const a of e)this.add(a)}has(e){return super.has(E6(this,e))}add(e){return super.add(zO(this,e))}delete(e){return super.delete(JO(this,e))}}function E6({_intern:t,_key:e},i){const a=e(i);return t.has(a)?t.get(a):i}function zO({_intern:t,_key:e},i){const a=e(i);return t.has(a)?t.get(a):(t.set(a,i),i)}function JO({_intern:t,_key:e},i){const a=e(i);return t.has(a)&&(i=t.get(a),t.delete(a)),i}function jO(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cf(t){return t}function d1(t,...e){return f4(t,Cf,Cf,e)}function Is(t,...e){return f4(t,Array.from,Cf,e)}function Xu(t,e,...i){return f4(t,Cf,e,i)}function FG(t,e,...i){return f4(t,Array.from,e,i)}function f4(t,e,i,a){return function r(s,l){if(l>=a.length)return i(s);const u=new $c,d=a[l++];let c=-1;for(const f of s){const M=d(f,++c,s),m=u.get(M);m?m.push(f):u.set(M,[f])}for(const[f,M]of u)u.set(f,r(M,l));return e(u)}(t,0)}function UG(t,e){return Array.from(e,i=>t[i])}function m3(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[i]=e;if(i&&i.length!==2||e.length>1){const a=Uint32Array.from(t,(r,s)=>s);return e.length>1?(e=e.map(r=>t.map(r)),a.sort((r,s)=>{for(const l of e){const u=Ef(l[r],l[s]);if(u)return u}})):(i=t.map(i),a.sort((r,s)=>Ef(i[r],i[s]))),UG(t,a)}return t.sort(Q7(i))}function Q7(t=yr){if(t===yr)return Ef;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,i)=>{const a=t(e,i);return a||a===0?a:(t(i,i)===0)-(t(e,e)===0)}}function Ef(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function z7(t,e,i){return(e.length!==2?m3(Xu(t,e,i),([a,r],[s,l])=>yr(r,l)||yr(a,s)):m3(d1(t,i),([a,r],[s,l])=>e(r,l)||yr(a,s))).map(([a])=>a)}var $G=Array.prototype,GG=$G.slice;function M5(t){return()=>t}const HG=Math.sqrt(50),VG=Math.sqrt(10),QG=Math.sqrt(2);function p3(t,e,i){const a=(e-t)/Math.max(0,i),r=Math.floor(Math.log10(a)),s=a/Math.pow(10,r),l=s>=HG?10:s>=VG?5:s>=QG?2:1;let u,d,c;return r<0?(c=Math.pow(10,-r)/l,u=Math.round(t*c),d=Math.round(e*c),u/c<t&&++u,d/c>e&&--d,c=-c):(c=Math.pow(10,r)*l,u=Math.round(t/c),d=Math.round(e/c),u*c<t&&++u,d*c>e&&--d),d<u&&.5<=i&&i<2?p3(t,e,i*2):[u,d,c]}function pd(t,e,i){if(e=+e,t=+t,i=+i,!(i>0))return[];if(t===e)return[t];const a=e<t,[r,s,l]=a?p3(e,t,i):p3(t,e,i);if(!(s>=r))return[];const u=s-r+1,d=new Array(u);if(a)if(l<0)for(let c=0;c<u;++c)d[c]=(s-c)/-l;else for(let c=0;c<u;++c)d[c]=(s-c)*l;else if(l<0)for(let c=0;c<u;++c)d[c]=(r+c)/-l;else for(let c=0;c<u;++c)d[c]=(r+c)*l;return d}function Gc(t,e,i){return e=+e,t=+t,i=+i,p3(t,e,i)[2]}function _6(t,e,i){e=+e,t=+t,i=+i;const a=e<t,r=a?Gc(e,t,i):Gc(t,e,i);return(a?-1:1)*(r<0?1/-r:r)}function zG(t,e,i){let a;for(;;){const r=Gc(t,e,i);if(r===a||r===0||!isFinite(r))return[t,e];r>0?(t=Math.floor(t/r)*r,e=Math.ceil(e/r)*r):r<0&&(t=Math.ceil(t*r)/r,e=Math.floor(e*r)/r),a=r}}function WO(t){return Math.max(1,Math.ceil(Math.log(h4(t))/Math.LN2)+1)}function g3(){var t=Cf,e=Oa,i=WO;function a(r){Array.isArray(r)||(r=Array.from(r));var s,l=r.length,u,d,c=new Array(l);for(s=0;s<l;++s)c[s]=t(r[s],s,r);var f=e(c),M=f[0],m=f[1],A=i(c,M,m);if(!Array.isArray(A)){const x=m,b=+A;if(e===Oa&&([M,m]=zG(M,m,b)),A=pd(M,m,b),A[0]<=M&&(d=Gc(M,m,b)),A[A.length-1]>=m)if(x>=m&&e===Oa){const O=Gc(M,m,b);isFinite(O)&&(O>0?m=(Math.floor(m/O)+1)*O:O<0&&(m=(Math.ceil(m*-O)+1)/-O))}else A.pop()}for(var p=A.length,y=0,E=p;A[y]<=M;)++y;for(;A[E-1]>m;)--E;(y||E<p)&&(A=A.slice(y,E),p=E-y);var v=new Array(p+1),w;for(s=0;s<=p;++s)w=v[s]=[],w.x0=s>0?A[s-1]:M,w.x1=s<p?A[s]:m;if(isFinite(d)){if(d>0)for(s=0;s<l;++s)(u=c[s])!=null&&M<=u&&u<=m&&v[Math.min(p,Math.floor((u-M)/d))].push(r[s]);else if(d<0){for(s=0;s<l;++s)if((u=c[s])!=null&&M<=u&&u<=m){const x=Math.floor((M-u)*d);v[Math.min(p,x+(A[x]<=u))].push(r[s])}}}else for(s=0;s<l;++s)(u=c[s])!=null&&M<=u&&u<=m&&v[c1(A,u,0,p)].push(r[s]);return v}return a.value=function(r){return arguments.length?(t=typeof r=="function"?r:M5(r),a):t},a.domain=function(r){return arguments.length?(e=typeof r=="function"?r:M5([r[0],r[1]]),a):e},a.thresholds=function(r){return arguments.length?(i=typeof r=="function"?r:M5(Array.isArray(r)?GG.call(r):r),a):i},a}function ca(t,e){let i;if(e===void 0)for(const a of t)a!=null&&(i<a||i===void 0&&a>=a)&&(i=a);else{let a=-1;for(let r of t)(r=e(r,++a,t))!=null&&(i<r||i===void 0&&r>=r)&&(i=r)}return i}function J7(t,e){let i,a=-1,r=-1;if(e===void 0)for(const s of t)++r,s!=null&&(i<s||i===void 0&&s>=s)&&(i=s,a=r);else for(let s of t)(s=e(s,++r,t))!=null&&(i<s||i===void 0&&s>=s)&&(i=s,a=r);return a}function Ir(t,e){let i;if(e===void 0)for(const a of t)a!=null&&(i>a||i===void 0&&a>=a)&&(i=a);else{let a=-1;for(let r of t)(r=e(r,++a,t))!=null&&(i>r||i===void 0&&r>=r)&&(i=r)}return i}function Pc(t,e){let i,a=-1,r=-1;if(e===void 0)for(const s of t)++r,s!=null&&(i>s||i===void 0&&s>=s)&&(i=s,a=r);else for(let s of t)(s=e(s,++r,t))!=null&&(i>s||i===void 0&&s>=s)&&(i=s,a=r);return a}function KO(t,e,i=0,a=1/0,r){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),a=Math.floor(Math.min(t.length-1,a)),!(i<=e&&e<=a))return t;for(r=r===void 0?Ef:Q7(r);a>i;){if(a-i>600){const d=a-i+1,c=e-i+1,f=Math.log(d),M=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*M*(d-M)/d)*(c-d/2<0?-1:1),A=Math.max(i,Math.floor(e-c*M/d+m)),p=Math.min(a,Math.floor(e+(d-c)*M/d+m));KO(t,e,A,p,r)}const s=t[e];let l=i,u=a;for(Ph(t,i,e),r(t[a],s)>0&&Ph(t,i,a);l<u;){for(Ph(t,l,u),++l,--u;r(t[l],s)<0;)++l;for(;r(t[u],s)>0;)--u}r(t[i],s)===0?Ph(t,i,u):(++u,Ph(t,u,a)),u<=e&&(i=u+1),e<=u&&(a=u-1)}return t}function Ph(t,e,i){const a=t[e];t[e]=t[i],t[i]=a}function XO(t,e=yr){let i,a=!1;if(e.length===1){let r;for(const s of t){const l=e(s);(a?yr(l,r)>0:yr(l,l)===0)&&(i=s,r=l,a=!0)}}else for(const r of t)(a?e(r,i)>0:e(r,r)===0)&&(i=r,a=!0);return i}function gd(t,e,i){if(t=Float64Array.from(IG(t,i)),!(!(a=t.length)||isNaN(e=+e))){if(e<=0||a<2)return Ir(t);if(e>=1)return ca(t);var a,r=(a-1)*e,s=Math.floor(r),l=ca(KO(t,s).subarray(0,s+1)),u=Ir(t.subarray(s+1));return l+(u-l)*(r-s)}}function JG(t,e,i=QO){if(!(!(a=t.length)||isNaN(e=+e))){if(e<=0||a<2)return+i(t[0],0,t);if(e>=1)return+i(t[a-1],a-1,t);var a,r=(a-1)*e,s=Math.floor(r),l=+i(t[s],s,t),u=+i(t[s+1],s+1,t);return l+(u-l)*(r-s)}}function jG(t,e,i){const a=h4(t),r=gd(t,.75)-gd(t,.25);return a&&r?Math.ceil((i-e)/(2*r*Math.pow(a,-1/3))):1}function YO(t,e,i){const a=h4(t),r=V7(t);return a&&r?Math.ceil((i-e)*Math.cbrt(a)/(3.49*r)):1}function Ol(t,e){let i=0,a=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(++i,a+=r);else{let r=-1;for(let s of t)(s=e(s,++r,t))!=null&&(s=+s)>=s&&(++i,a+=s)}if(i)return a/i}function Md(t,e){return gd(t,.5,e)}function*WG(t){for(const e of t)yield*e}function qO(t){return Array.from(WG(t))}function m4(t,e){const i=new $c;if(e===void 0)for(let s of t)s!=null&&s>=s&&i.set(s,(i.get(s)||0)+1);else{let s=-1;for(let l of t)(l=e(l,++s,t))!=null&&l>=l&&i.set(l,(i.get(l)||0)+1)}let a,r=0;for(const[s,l]of i)l>r&&(r=l,a=s);return a}function KG(t,e=XG){const i=[];let a,r=!1;for(const s of t)r&&i.push(e(a,s)),a=s,r=!0;return i}function XG(t,e){return[t,e]}function Ei(t,e,i){t=+t,e=+e,i=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+i;for(var a=-1,r=Math.max(0,Math.ceil((e-t)/i))|0,s=new Array(r);++a<r;)s[a]=t+a*i;return s}function ZO(t,e=yr){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let i=Array.from(t);const a=new Float64Array(i.length);e.length!==2&&(i=i.map(e),e=yr);const r=(u,d)=>e(i[u],i[d]);let s,l;return t=Uint32Array.from(i,(u,d)=>d),t.sort(e===yr?(u,d)=>Ef(i[u],i[d]):Q7(r)),t.forEach((u,d)=>{const c=r(u,s===void 0?u:s);c>=0?((s===void 0||c>0)&&(s=u,l=d),a[u]=l):a[u]=NaN}),a}function xl(t,e){let i=0;if(e===void 0)for(let a of t)(a=+a)&&(i+=a);else{let a=-1;for(let r of t)(r=+e(r,++a,t))&&(i+=r)}return i}function M3(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function So(t,...e){t=new u1(t);for(const i of e)for(const a of i)t.delete(a);return t}function YG(t){return t}var qG=3,wv=1e-6;function ZG(t){return"translate("+t+",0)"}function tH(t){return e=>+t(e)}function eH(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function iH(){return!this.__axis}function nH(t,e){var i=[],a=null,r=null,s=6,l=6,u=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,f="y",M=ZG;function m(A){var p=a??(e.ticks?e.ticks.apply(e,i):e.domain()),y=r??(e.tickFormat?e.tickFormat.apply(e,i):YG),E=Math.max(s,0)+u,v=e.range(),w=+v[0]+d,x=+v[v.length-1]+d,b=(e.bandwidth?eH:tH)(e.copy(),d),O=A.selection?A.selection():A,S=O.selectAll(".domain").data([null]),R=O.selectAll(".tick").data(p,e).order(),I=R.exit(),P=R.enter().append("g").attr("class","tick"),L=R.select("line"),k=R.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(P),L=L.merge(P.append("line").attr("stroke","currentColor").attr(f+"2",c*s)),k=k.merge(P.append("text").attr("fill","currentColor").attr(f,c*E).attr("dy","0.71em")),A!==O&&(S=S.transition(A),R=R.transition(A),L=L.transition(A),k=k.transition(A),I=I.transition(A).attr("opacity",wv).attr("transform",function(N){return isFinite(N=b(N))?M(N+d):this.getAttribute("transform")}),P.attr("opacity",wv).attr("transform",function(N){var $=this.parentNode.__axis;return M(($&&isFinite($=$(N))?$:b(N))+d)})),I.remove(),S.attr("d",l?"M"+w+","+c*l+"V"+d+"H"+x+"V"+c*l:"M"+w+","+d+"H"+x),R.attr("opacity",1).attr("transform",function(N){return M(b(N)+d)}),L.attr(f+"2",c*s),k.attr(f,c*E).text(y),O.filter(iH).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),O.each(function(){this.__axis=b})}return m.scale=function(A){return arguments.length?(e=A,m):e},m.ticks=function(){return i=Array.from(arguments),m},m.tickArguments=function(A){return arguments.length?(i=A==null?[]:Array.from(A),m):i.slice()},m.tickValues=function(A){return arguments.length?(a=A==null?null:Array.from(A),m):a&&a.slice()},m.tickFormat=function(A){return arguments.length?(r=A,m):r},m.tickSize=function(A){return arguments.length?(s=l=+A,m):s},m.tickSizeInner=function(A){return arguments.length?(s=+A,m):s},m.tickSizeOuter=function(A){return arguments.length?(l=+A,m):l},m.tickPadding=function(A){return arguments.length?(u=+A,m):u},m.offset=function(A){return arguments.length?(d=+A,m):d},m}function aH(t){return nH(qG,t)}var rH={value:()=>{}};function tx(){for(var t=0,e=arguments.length,i={},a;t<e;++t){if(!(a=arguments[t]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new Zm(i)}function Zm(t){this._=t}function oH(t,e){return t.trim().split(/^|\s+/).map(function(i){var a="",r=i.indexOf(".");if(r>=0&&(a=i.slice(r+1),i=i.slice(0,r)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}Zm.prototype=tx.prototype={constructor:Zm,on:function(t,e){var i=this._,a=oH(t+"",i),r,s=-1,l=a.length;if(arguments.length<2){for(;++s<l;)if((r=(t=a[s]).type)&&(r=sH(i[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(r=(t=a[s]).type)i[r]=Ov(i[r],t.name,e);else if(e==null)for(r in i)i[r]=Ov(i[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Zm(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var i=new Array(r),a=0,r,s;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],a=0,r=s.length;a<r;++a)s[a].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,i)}};function sH(t,e){for(var i=0,a=t.length,r;i<a;++i)if((r=t[i]).name===e)return r.value}function Ov(t,e,i){for(var a=0,r=t.length;a<r;++a)if(t[a].name===e){t[a]=rH,t=t.slice(0,a).concat(t.slice(a+1));break}return i!=null&&t.push({name:e,value:i}),t}var w6="http://www.w3.org/1999/xhtml";const Sl={svg:"http://www.w3.org/2000/svg",xhtml:w6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function p4(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),Sl.hasOwnProperty(e)?{space:Sl[e],local:t}:t}function lH(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===w6&&e.documentElement.namespaceURI===w6?e.createElement(t):e.createElementNS(i,t)}}function cH(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function g4(t){var e=p4(t);return(e.local?cH:lH)(e)}function uH(){}function j7(t){return t==null?uH:function(){return this.querySelector(t)}}function dH(t){typeof t!="function"&&(t=j7(t));for(var e=this._groups,i=e.length,a=new Array(i),r=0;r<i;++r)for(var s=e[r],l=s.length,u=a[r]=new Array(l),d,c,f=0;f<l;++f)(d=s[f])&&(c=t.call(d,d.__data__,f,s))&&("__data__"in d&&(c.__data__=d.__data__),u[f]=c);return new p0(a,this._parents)}function hH(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function fH(){return[]}function ex(t){return t==null?fH:function(){return this.querySelectorAll(t)}}function mH(t){return function(){return hH(t.apply(this,arguments))}}function pH(t){typeof t=="function"?t=mH(t):t=ex(t);for(var e=this._groups,i=e.length,a=[],r=[],s=0;s<i;++s)for(var l=e[s],u=l.length,d,c=0;c<u;++c)(d=l[c])&&(a.push(t.call(d,d.__data__,c,l)),r.push(d));return new p0(a,r)}function ix(t){return function(){return this.matches(t)}}function nx(t){return function(e){return e.matches(t)}}var gH=Array.prototype.find;function MH(t){return function(){return gH.call(this.children,t)}}function AH(){return this.firstElementChild}function yH(t){return this.select(t==null?AH:MH(typeof t=="function"?t:nx(t)))}var vH=Array.prototype.filter;function bH(){return Array.from(this.children)}function CH(t){return function(){return vH.call(this.children,t)}}function EH(t){return this.selectAll(t==null?bH:CH(typeof t=="function"?t:nx(t)))}function _H(t){typeof t!="function"&&(t=ix(t));for(var e=this._groups,i=e.length,a=new Array(i),r=0;r<i;++r)for(var s=e[r],l=s.length,u=a[r]=[],d,c=0;c<l;++c)(d=s[c])&&t.call(d,d.__data__,c,s)&&u.push(d);return new p0(a,this._parents)}function ax(t){return new Array(t.length)}function wH(){return new p0(this._enter||this._groups.map(ax),this._parents)}function A3(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}A3.prototype={constructor:A3,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function OH(t){return function(){return t}}function xH(t,e,i,a,r,s){for(var l=0,u,d=e.length,c=s.length;l<c;++l)(u=e[l])?(u.__data__=s[l],a[l]=u):i[l]=new A3(t,s[l]);for(;l<d;++l)(u=e[l])&&(r[l]=u)}function SH(t,e,i,a,r,s,l){var u,d,c=new Map,f=e.length,M=s.length,m=new Array(f),A;for(u=0;u<f;++u)(d=e[u])&&(m[u]=A=l.call(d,d.__data__,u,e)+"",c.has(A)?r[u]=d:c.set(A,d));for(u=0;u<M;++u)A=l.call(t,s[u],u,s)+"",(d=c.get(A))?(a[u]=d,d.__data__=s[u],c.delete(A)):i[u]=new A3(t,s[u]);for(u=0;u<f;++u)(d=e[u])&&c.get(m[u])===d&&(r[u]=d)}function TH(t){return t.__data__}function IH(t,e){if(!arguments.length)return Array.from(this,TH);var i=e?SH:xH,a=this._parents,r=this._groups;typeof t!="function"&&(t=OH(t));for(var s=r.length,l=new Array(s),u=new Array(s),d=new Array(s),c=0;c<s;++c){var f=a[c],M=r[c],m=M.length,A=BH(t.call(f,f&&f.__data__,c,a)),p=A.length,y=u[c]=new Array(p),E=l[c]=new Array(p),v=d[c]=new Array(m);i(f,M,y,E,v,A,e);for(var w=0,x=0,b,O;w<p;++w)if(b=y[w]){for(w>=x&&(x=w+1);!(O=E[x])&&++x<p;);b._next=O||null}}return l=new p0(l,a),l._enter=u,l._exit=d,l}function BH(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RH(){return new p0(this._exit||this._groups.map(ax),this._parents)}function DH(t,e,i){var a=this.enter(),r=this,s=this.exit();return typeof t=="function"?(a=t(a),a&&(a=a.selection())):a=a.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),i==null?s.remove():i(s),a&&r?a.merge(r).order():r}function PH(t){for(var e=t.selection?t.selection():t,i=this._groups,a=e._groups,r=i.length,s=a.length,l=Math.min(r,s),u=new Array(r),d=0;d<l;++d)for(var c=i[d],f=a[d],M=c.length,m=u[d]=new Array(M),A,p=0;p<M;++p)(A=c[p]||f[p])&&(m[p]=A);for(;d<r;++d)u[d]=i[d];return new p0(u,this._parents)}function LH(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var a=t[e],r=a.length-1,s=a[r],l;--r>=0;)(l=a[r])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function kH(t){t||(t=NH);function e(M,m){return M&&m?t(M.__data__,m.__data__):!M-!m}for(var i=this._groups,a=i.length,r=new Array(a),s=0;s<a;++s){for(var l=i[s],u=l.length,d=r[s]=new Array(u),c,f=0;f<u;++f)(c=l[f])&&(d[f]=c);d.sort(e)}return new p0(r,this._parents).order()}function NH(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function FH(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function UH(){return Array.from(this)}function $H(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],r=0,s=a.length;r<s;++r){var l=a[r];if(l)return l}return null}function GH(){let t=0;for(const e of this)++t;return t}function HH(){return!this.node()}function VH(t){for(var e=this._groups,i=0,a=e.length;i<a;++i)for(var r=e[i],s=0,l=r.length,u;s<l;++s)(u=r[s])&&t.call(u,u.__data__,s,r);return this}function QH(t){return function(){this.removeAttribute(t)}}function zH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JH(t,e){return function(){this.setAttribute(t,e)}}function jH(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function WH(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function KH(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function XH(t,e){var i=p4(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((e==null?i.local?zH:QH:typeof e=="function"?i.local?KH:WH:i.local?jH:JH)(i,e))}function rx(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function YH(t){return function(){this.style.removeProperty(t)}}function qH(t,e,i){return function(){this.style.setProperty(t,e,i)}}function ZH(t,e,i){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,i)}}function tV(t,e,i){return arguments.length>1?this.each((e==null?YH:typeof e=="function"?ZH:qH)(t,e,i??"")):Ad(this.node(),t)}function Ad(t,e){return t.style.getPropertyValue(e)||rx(t).getComputedStyle(t,null).getPropertyValue(e)}function eV(t){return function(){delete this[t]}}function iV(t,e){return function(){this[t]=e}}function nV(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function aV(t,e){return arguments.length>1?this.each((e==null?eV:typeof e=="function"?nV:iV)(t,e)):this.node()[t]}function ox(t){return t.trim().split(/^|\s+/)}function W7(t){return t.classList||new sx(t)}function sx(t){this._node=t,this._names=ox(t.getAttribute("class")||"")}sx.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lx(t,e){for(var i=W7(t),a=-1,r=e.length;++a<r;)i.add(e[a])}function cx(t,e){for(var i=W7(t),a=-1,r=e.length;++a<r;)i.remove(e[a])}function rV(t){return function(){lx(this,t)}}function oV(t){return function(){cx(this,t)}}function sV(t,e){return function(){(e.apply(this,arguments)?lx:cx)(this,t)}}function lV(t,e){var i=ox(t+"");if(arguments.length<2){for(var a=W7(this.node()),r=-1,s=i.length;++r<s;)if(!a.contains(i[r]))return!1;return!0}return this.each((typeof e=="function"?sV:e?rV:oV)(i,e))}function cV(){this.textContent=""}function uV(t){return function(){this.textContent=t}}function dV(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hV(t){return arguments.length?this.each(t==null?cV:(typeof t=="function"?dV:uV)(t)):this.node().textContent}function fV(){this.innerHTML=""}function mV(t){return function(){this.innerHTML=t}}function pV(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function gV(t){return arguments.length?this.each(t==null?fV:(typeof t=="function"?pV:mV)(t)):this.node().innerHTML}function MV(){this.nextSibling&&this.parentNode.appendChild(this)}function AV(){return this.each(MV)}function yV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vV(){return this.each(yV)}function bV(t){var e=typeof t=="function"?t:g4(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function CV(){return null}function EV(t,e){var i=typeof t=="function"?t:g4(t),a=e==null?CV:typeof e=="function"?e:j7(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function _V(){var t=this.parentNode;t&&t.removeChild(this)}function wV(){return this.each(_V)}function OV(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xV(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function SV(t){return this.select(t?xV:OV)}function TV(t){return arguments.length?this.property("__data__",t):this.node().__data__}function IV(t){return function(e){t.call(this,e,this.__data__)}}function BV(t){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");return a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),{type:e,name:i}})}function RV(t){return function(){var e=this.__on;if(e){for(var i=0,a=-1,r=e.length,s;i<r;++i)s=e[i],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++a]=s;++a?e.length=a:delete this.__on}}}function DV(t,e,i){return function(){var a=this.__on,r,s=IV(e);if(a){for(var l=0,u=a.length;l<u;++l)if((r=a[l]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=i),r.value=e;return}}this.addEventListener(t.type,s,i),r={type:t.type,name:t.name,value:e,listener:s,options:i},a?a.push(r):this.__on=[r]}}function PV(t,e,i){var a=BV(t+""),r,s=a.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,c=u.length,f;d<c;++d)for(r=0,f=u[d];r<s;++r)if((l=a[r]).type===f.type&&l.name===f.name)return f.value}return}for(u=e?DV:RV,r=0;r<s;++r)this.each(u(a[r],e,i));return this}function ux(t,e,i){var a=rx(t),r=a.CustomEvent;typeof r=="function"?r=new r(e,i):(r=a.document.createEvent("Event"),i?(r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function LV(t,e){return function(){return ux(this,t,e)}}function kV(t,e){return function(){return ux(this,t,e.apply(this,arguments))}}function NV(t,e){return this.each((typeof e=="function"?kV:LV)(t,e))}function*FV(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],r=0,s=a.length,l;r<s;++r)(l=a[r])&&(yield l)}var dx=[null];function p0(t,e){this._groups=t,this._parents=e}function h1(){return new p0([[document.documentElement]],dx)}function UV(){return this}p0.prototype=h1.prototype={constructor:p0,select:dH,selectAll:pH,selectChild:yH,selectChildren:EH,filter:_H,data:IH,enter:wH,exit:RH,join:DH,merge:PH,selection:UV,order:LH,sort:kH,call:FH,nodes:UH,node:$H,size:GH,empty:HH,each:VH,attr:XH,style:tV,property:aV,classed:lV,text:hV,html:gV,raise:AV,lower:vV,append:bV,insert:EV,remove:wV,clone:SV,datum:TV,on:PV,dispatch:NV,[Symbol.iterator]:FV};function Yu(t){return typeof t=="string"?new p0([[document.querySelector(t)]],[document.documentElement]):new p0([[t]],dx)}function $V(t){let e;for(;e=t.sourceEvent;)t=e;return t}function GV(t,e){if(t=$V(t),e===void 0&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function $d(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function f1(t,e){var i=Object.create(t.prototype);for(var a in e)i[a]=e[a];return i}function Nl(){}var Hc=.7,yd=1/Hc,qu="\\s*([+-]?\\d+)\\s*",_f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HV=/^#([0-9a-f]{3,8})$/,VV=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),QV=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),zV=new RegExp(`^rgba\\(${qu},${qu},${qu},${_f}\\)$`),JV=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${_f}\\)$`),jV=new RegExp(`^hsl\\(${_f},${Lo},${Lo}\\)$`),WV=new RegExp(`^hsla\\(${_f},${Lo},${Lo},${_f}\\)$`),xv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$d(Nl,Tl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sv,formatHex:Sv,formatHex8:KV,formatHsl:XV,formatRgb:Tv,toString:Tv});function Sv(){return this.rgb().formatHex()}function KV(){return this.rgb().formatHex8()}function XV(){return hx(this).formatHsl()}function Tv(){return this.rgb().formatRgb()}function Tl(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=HV.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?Iv(e):i===3?new lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Cm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Cm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=VV.exec(t))?new lr(e[1],e[2],e[3],1):(e=QV.exec(t))?new lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zV.exec(t))?Cm(e[1],e[2],e[3],e[4]):(e=JV.exec(t))?Cm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jV.exec(t))?Dv(e[1],e[2]/100,e[3]/100,1):(e=WV.exec(t))?Dv(e[1],e[2]/100,e[3]/100,e[4]):xv.hasOwnProperty(t)?Iv(xv[t]):t==="transparent"?new lr(NaN,NaN,NaN,0):null}function Iv(t){return new lr(t>>16&255,t>>8&255,t&255,1)}function Cm(t,e,i,a){return a<=0&&(t=e=i=NaN),new lr(t,e,i,a)}function K7(t){return t instanceof Nl||(t=Tl(t)),t?(t=t.rgb(),new lr(t.r,t.g,t.b,t.opacity)):new lr}function Il(t,e,i,a){return arguments.length===1?K7(t):new lr(t,e,i,a??1)}function lr(t,e,i,a){this.r=+t,this.g=+e,this.b=+i,this.opacity=+a}$d(lr,Il,f1(Nl,{brighter(t){return t=t==null?yd:Math.pow(yd,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lr(Lc(this.r),Lc(this.g),Lc(this.b),y3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bv,formatHex:Bv,formatHex8:YV,formatRgb:Rv,toString:Rv}));function Bv(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}`}function YV(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}${wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rv(){const t=y3(this.opacity);return`${t===1?"rgb(":"rgba("}${Lc(this.r)}, ${Lc(this.g)}, ${Lc(this.b)}${t===1?")":`, ${t})`}`}function y3(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wc(t){return t=Lc(t),(t<16?"0":"")+t.toString(16)}function Dv(t,e,i,a){return a<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Y0(t,e,i,a)}function hx(t){if(t instanceof Y0)return new Y0(t.h,t.s,t.l,t.opacity);if(t instanceof Nl||(t=Tl(t)),!t)return new Y0;if(t instanceof Y0)return t;t=t.rgb();var e=t.r/255,i=t.g/255,a=t.b/255,r=Math.min(e,i,a),s=Math.max(e,i,a),l=NaN,u=s-r,d=(s+r)/2;return u?(e===s?l=(i-a)/u+(i<a)*6:i===s?l=(a-e)/u+2:l=(e-i)/u+4,u/=d<.5?s+r:2-s-r,l*=60):u=d>0&&d<1?0:l,new Y0(l,u,d,t.opacity)}function O6(t,e,i,a){return arguments.length===1?hx(t):new Y0(t,e,i,a??1)}function Y0(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}$d(Y0,O6,f1(Nl,{brighter(t){return t=t==null?yd:Math.pow(yd,t),new Y0(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new Y0(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*e,r=2*i-a;return new lr(A5(t>=240?t-240:t+120,r,a),A5(t,r,a),A5(t<120?t+240:t-120,r,a),this.opacity)},clamp(){return new Y0(Pv(this.h),Em(this.s),Em(this.l),y3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=y3(this.opacity);return`${t===1?"hsl(":"hsla("}${Pv(this.h)}, ${Em(this.s)*100}%, ${Em(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Pv(t){return t=(t||0)%360,t<0?t+360:t}function Em(t){return Math.max(0,Math.min(1,t||0))}function A5(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const fx=Math.PI/180,mx=180/Math.PI,v3=18,px=.96422,gx=1,Mx=.82521,Ax=4/29,Zu=6/29,yx=3*Zu*Zu,qV=Zu*Zu*Zu;function vx(t){if(t instanceof ko)return new ko(t.l,t.a,t.b,t.opacity);if(t instanceof Es)return bx(t);t instanceof lr||(t=K7(t));var e=C5(t.r),i=C5(t.g),a=C5(t.b),r=y5((.2225045*e+.7168786*i+.0606169*a)/gx),s,l;return e===i&&i===a?s=l=r:(s=y5((.4360747*e+.3850649*i+.1430804*a)/px),l=y5((.0139322*e+.0971045*i+.7141733*a)/Mx)),new ko(116*r-16,500*(s-r),200*(r-l),t.opacity)}function x6(t,e,i,a){return arguments.length===1?vx(t):new ko(t,e,i,a??1)}function ko(t,e,i,a){this.l=+t,this.a=+e,this.b=+i,this.opacity=+a}$d(ko,x6,f1(Nl,{brighter(t){return new ko(this.l+v3*(t??1),this.a,this.b,this.opacity)},darker(t){return new ko(this.l-v3*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return e=px*v5(e),t=gx*v5(t),i=Mx*v5(i),new lr(b5(3.1338561*e-1.6168667*t-.4906146*i),b5(-.9787684*e+1.9161415*t+.033454*i),b5(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}}));function y5(t){return t>qV?Math.pow(t,1/3):t/yx+Ax}function v5(t){return t>Zu?t*t*t:yx*(t-Ax)}function b5(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function C5(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ZV(t){if(t instanceof Es)return new Es(t.h,t.c,t.l,t.opacity);if(t instanceof ko||(t=vx(t)),t.a===0&&t.b===0)return new Es(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*mx;return new Es(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function S6(t,e,i,a){return arguments.length===1?ZV(t):new Es(t,e,i,a??1)}function Es(t,e,i,a){this.h=+t,this.c=+e,this.l=+i,this.opacity=+a}function bx(t){if(isNaN(t.h))return new ko(t.l,0,0,t.opacity);var e=t.h*fx;return new ko(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}$d(Es,S6,f1(Nl,{brighter(t){return new Es(this.h,this.c,this.l+v3*(t??1),this.opacity)},darker(t){return new Es(this.h,this.c,this.l-v3*(t??1),this.opacity)},rgb(){return bx(this).rgb()}}));var Cx=-.14861,X7=1.78277,Y7=-.29227,M4=-.90649,wf=1.97294,Lv=wf*M4,kv=wf*X7,Nv=X7*Y7-M4*Cx;function tQ(t){if(t instanceof kc)return new kc(t.h,t.s,t.l,t.opacity);t instanceof lr||(t=K7(t));var e=t.r/255,i=t.g/255,a=t.b/255,r=(Nv*a+Lv*e-kv*i)/(Nv+Lv-kv),s=a-r,l=(wf*(i-r)-Y7*s)/M4,u=Math.sqrt(l*l+s*s)/(wf*r*(1-r)),d=u?Math.atan2(l,s)*mx-120:NaN;return new kc(d<0?d+360:d,u,r,t.opacity)}function Uo(t,e,i,a){return arguments.length===1?tQ(t):new kc(t,e,i,a??1)}function kc(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}$d(kc,Uo,f1(Nl,{brighter(t){return t=t==null?yd:Math.pow(yd,t),new kc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new kc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*fx,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),a=Math.cos(t),r=Math.sin(t);return new lr(255*(e+i*(Cx*a+X7*r)),255*(e+i*(Y7*a+M4*r)),255*(e+i*(wf*a)),this.opacity)}}));function eQ(t,e,i,a,r){var s=t*t,l=s*t;return((1-3*t+3*s-l)*e+(4-6*s+3*l)*i+(1+3*t+3*s-3*l)*a+l*r)/6}function iQ(t){var e=t.length-1;return function(i){var a=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),r=t[a],s=t[a+1],l=a>0?t[a-1]:2*r-s,u=a<e-1?t[a+2]:2*s-r;return eQ((i-a/e)*e,l,r,s,u)}}const A4=t=>()=>t;function Ex(t,e){return function(i){return t+i*e}}function nQ(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(a){return Math.pow(t+a*e,i)}}function q7(t,e){var i=e-t;return i?Ex(t,i>180||i<-180?i-360*Math.round(i/360):i):A4(isNaN(t)?e:t)}function aQ(t){return(t=+t)==1?Sr:function(e,i){return i-e?nQ(e,i,t):A4(isNaN(e)?i:e)}}function Sr(t,e){var i=e-t;return i?Ex(t,i):A4(isNaN(t)?e:t)}const Vc=function t(e){var i=aQ(e);function a(r,s){var l=i((r=Il(r)).r,(s=Il(s)).r),u=i(r.g,s.g),d=i(r.b,s.b),c=Sr(r.opacity,s.opacity);return function(f){return r.r=l(f),r.g=u(f),r.b=d(f),r.opacity=c(f),r+""}}return a.gamma=t,a}(1);function rQ(t){return function(e){var i=e.length,a=new Array(i),r=new Array(i),s=new Array(i),l,u;for(l=0;l<i;++l)u=Il(e[l]),a[l]=u.r||0,r[l]=u.g||0,s[l]=u.b||0;return a=t(a),r=t(r),s=t(s),u.opacity=1,function(d){return u.r=a(d),u.g=r(d),u.b=s(d),u+""}}}var oQ=rQ(iQ);function sQ(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,a=e.slice(),r;return function(s){for(r=0;r<i;++r)a[r]=t[r]*(1-s)+e[r]*s;return a}}function lQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cQ(t,e){var i=e?e.length:0,a=t?Math.min(i,t.length):0,r=new Array(a),s=new Array(i),l;for(l=0;l<a;++l)r[l]=m1(t[l],e[l]);for(;l<i;++l)s[l]=e[l];return function(u){for(l=0;l<a;++l)s[l]=r[l](u);return s}}function uQ(t,e){var i=new Date;return t=+t,e=+e,function(a){return i.setTime(t*(1-a)+e*a),i}}function Or(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function dQ(t,e){var i={},a={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?i[r]=m1(t[r],e[r]):a[r]=e[r];return function(s){for(r in i)a[r]=i[r](s);return a}}var T6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E5=new RegExp(T6.source,"g");function hQ(t){return function(){return t}}function fQ(t){return function(e){return t(e)+""}}function _x(t,e){var i=T6.lastIndex=E5.lastIndex=0,a,r,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(a=T6.exec(t))&&(r=E5.exec(e));)(s=r.index)>i&&(s=e.slice(i,s),u[l]?u[l]+=s:u[++l]=s),(a=a[0])===(r=r[0])?u[l]?u[l]+=r:u[++l]=r:(u[++l]=null,d.push({i:l,x:Or(a,r)})),i=E5.lastIndex;return i<e.length&&(s=e.slice(i),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?fQ(d[0].x):hQ(e):(e=d.length,function(c){for(var f=0,M;f<e;++f)u[(M=d[f]).i]=M.x(c);return u.join("")})}function m1(t,e){var i=typeof e,a;return e==null||i==="boolean"?A4(e):(i==="number"?Or:i==="string"?(a=Tl(e))?(e=a,Vc):_x:e instanceof Tl?Vc:e instanceof Date?uQ:lQ(e)?sQ:Array.isArray(e)?cQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dQ:Or)(t,e)}function Z7(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var Fv=180/Math.PI,I6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wx(t,e,i,a,r,s){var l,u,d;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(d=t*i+e*a)&&(i-=t*d,a-=e*d),(u=Math.sqrt(i*i+a*a))&&(i/=u,a/=u,d/=u),t*a<e*i&&(t=-t,e=-e,d=-d,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Fv,skewX:Math.atan(d)*Fv,scaleX:l,scaleY:u}}var _m;function mQ(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?I6:wx(e.a,e.b,e.c,e.d,e.e,e.f)}function pQ(t){return t==null||(_m||(_m=document.createElementNS("http://www.w3.org/2000/svg","g")),_m.setAttribute("transform",t),!(t=_m.transform.baseVal.consolidate()))?I6:(t=t.matrix,wx(t.a,t.b,t.c,t.d,t.e,t.f))}function Ox(t,e,i,a){function r(c){return c.length?c.pop()+" ":""}function s(c,f,M,m,A,p){if(c!==M||f!==m){var y=A.push("translate(",null,e,null,i);p.push({i:y-4,x:Or(c,M)},{i:y-2,x:Or(f,m)})}else(M||m)&&A.push("translate("+M+e+m+i)}function l(c,f,M,m){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),m.push({i:M.push(r(M)+"rotate(",null,a)-2,x:Or(c,f)})):f&&M.push(r(M)+"rotate("+f+a)}function u(c,f,M,m){c!==f?m.push({i:M.push(r(M)+"skewX(",null,a)-2,x:Or(c,f)}):f&&M.push(r(M)+"skewX("+f+a)}function d(c,f,M,m,A,p){if(c!==M||f!==m){var y=A.push(r(A)+"scale(",null,",",null,")");p.push({i:y-4,x:Or(c,M)},{i:y-2,x:Or(f,m)})}else(M!==1||m!==1)&&A.push(r(A)+"scale("+M+","+m+")")}return function(c,f){var M=[],m=[];return c=t(c),f=t(f),s(c.translateX,c.translateY,f.translateX,f.translateY,M,m),l(c.rotate,f.rotate,M,m),u(c.skewX,f.skewX,M,m),d(c.scaleX,c.scaleY,f.scaleX,f.scaleY,M,m),c=f=null,function(A){for(var p=-1,y=m.length,E;++p<y;)M[(E=m[p]).i]=E.x(A);return M.join("")}}}var gQ=Ox(mQ,"px, ","px)","deg)"),MQ=Ox(pQ,", ",")",")");function AQ(t){return function(e,i){var a=t((e=O6(e)).h,(i=O6(i)).h),r=Sr(e.s,i.s),s=Sr(e.l,i.l),l=Sr(e.opacity,i.opacity);return function(u){return e.h=a(u),e.s=r(u),e.l=s(u),e.opacity=l(u),e+""}}}const yQ=AQ(q7);function vQ(t,e){var i=Sr((t=x6(t)).l,(e=x6(e)).l),a=Sr(t.a,e.a),r=Sr(t.b,e.b),s=Sr(t.opacity,e.opacity);return function(l){return t.l=i(l),t.a=a(l),t.b=r(l),t.opacity=s(l),t+""}}function bQ(t){return function(e,i){var a=t((e=S6(e)).h,(i=S6(i)).h),r=Sr(e.c,i.c),s=Sr(e.l,i.l),l=Sr(e.opacity,i.opacity);return function(u){return e.h=a(u),e.c=r(u),e.l=s(u),e.opacity=l(u),e+""}}}const CQ=bQ(q7);function xx(t){return function e(i){i=+i;function a(r,s){var l=t((r=Uo(r)).h,(s=Uo(s)).h),u=Sr(r.s,s.s),d=Sr(r.l,s.l),c=Sr(r.opacity,s.opacity);return function(f){return r.h=l(f),r.s=u(f),r.l=d(Math.pow(f,i)),r.opacity=c(f),r+""}}return a.gamma=e,a}(1)}xx(q7);var tg=xx(Sr);function y4(t,e){e===void 0&&(e=t,t=m1);for(var i=0,a=e.length-1,r=e[0],s=new Array(a<0?0:a);i<a;)s[i]=t(r,r=e[++i]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return s[u](l-u)}}function io(t,e){for(var i=new Array(e),a=0;a<e;++a)i[a]=t(a/(e-1));return i}var vd=0,zh=0,Lh=0,Sx=1e3,b3,Jh,C3=0,Qc=0,v4=0,Of=typeof performance=="object"&&performance.now?performance:Date,Tx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function eg(){return Qc||(Tx(EQ),Qc=Of.now()+v4)}function EQ(){Qc=0}function E3(){this._call=this._time=this._next=null}E3.prototype=Ix.prototype={constructor:E3,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?eg():+i)+(e==null?0:+e),!this._next&&Jh!==this&&(Jh?Jh._next=this:b3=this,Jh=this),this._call=t,this._time=i,B6()},stop:function(){this._call&&(this._call=null,this._time=1/0,B6())}};function Ix(t,e,i){var a=new E3;return a.restart(t,e,i),a}function _Q(){eg(),++vd;for(var t=b3,e;t;)(e=Qc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--vd}function Uv(){Qc=(C3=Of.now())+v4,vd=zh=0;try{_Q()}finally{vd=0,OQ(),Qc=0}}function wQ(){var t=Of.now(),e=t-C3;e>Sx&&(v4-=e,C3=t)}function OQ(){for(var t,e=b3,i,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:b3=i);Jh=t,B6(a)}function B6(t){if(!vd){zh&&(zh=clearTimeout(zh));var e=t-Qc;e>24?(t<1/0&&(zh=setTimeout(Uv,t-Of.now()-v4)),Lh&&(Lh=clearInterval(Lh))):(Lh||(C3=Of.now(),Lh=setInterval(wQ,Sx)),vd=1,Tx(Uv))}}function $v(t,e,i){var a=new E3;return e=e==null?0:+e,a.restart(r=>{a.stop(),t(r+e)},e,i),a}var xQ=tx("start","end","cancel","interrupt"),SQ=[],Bx=0,Gv=1,R6=2,t3=3,Hv=4,D6=5,e3=6;function b4(t,e,i,a,r,s){var l=t.__transition;if(!l)t.__transition={};else if(i in l)return;TQ(t,i,{name:e,index:a,group:r,on:xQ,tween:SQ,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Bx})}function ig(t,e){var i=co(t,e);if(i.state>Bx)throw new Error("too late; already scheduled");return i}function Qo(t,e){var i=co(t,e);if(i.state>t3)throw new Error("too late; already running");return i}function co(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function TQ(t,e,i){var a=t.__transition,r;a[e]=i,i.timer=Ix(s,0,i.time);function s(c){i.state=Gv,i.timer.restart(l,i.delay,i.time),i.delay<=c&&l(c-i.delay)}function l(c){var f,M,m,A;if(i.state!==Gv)return d();for(f in a)if(A=a[f],A.name===i.name){if(A.state===t3)return $v(l);A.state===Hv?(A.state=e3,A.timer.stop(),A.on.call("interrupt",t,t.__data__,A.index,A.group),delete a[f]):+f<e&&(A.state=e3,A.timer.stop(),A.on.call("cancel",t,t.__data__,A.index,A.group),delete a[f])}if($v(function(){i.state===t3&&(i.state=Hv,i.timer.restart(u,i.delay,i.time),u(c))}),i.state=R6,i.on.call("start",t,t.__data__,i.index,i.group),i.state===R6){for(i.state=t3,r=new Array(m=i.tween.length),f=0,M=-1;f<m;++f)(A=i.tween[f].value.call(t,t.__data__,i.index,i.group))&&(r[++M]=A);r.length=M+1}}function u(c){for(var f=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(d),i.state=D6,1),M=-1,m=r.length;++M<m;)r[M].call(t,f);i.state===D6&&(i.on.call("end",t,t.__data__,i.index,i.group),d())}function d(){i.state=e3,i.timer.stop(),delete a[e];for(var c in a)return;delete t.__transition}}function IQ(t,e){var i=t.__transition,a,r,s=!0,l;if(i){e=e==null?null:e+"";for(l in i){if((a=i[l]).name!==e){s=!1;continue}r=a.state>R6&&a.state<D6,a.state=e3,a.timer.stop(),a.on.call(r?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[l]}s&&delete t.__transition}}function BQ(t){return this.each(function(){IQ(this,t)})}function RQ(t,e){var i,a;return function(){var r=Qo(this,t),s=r.tween;if(s!==i){a=i=s;for(var l=0,u=a.length;l<u;++l)if(a[l].name===e){a=a.slice(),a.splice(l,1);break}}r.tween=a}}function DQ(t,e,i){var a,r;if(typeof i!="function")throw new Error;return function(){var s=Qo(this,t),l=s.tween;if(l!==a){r=(a=l).slice();for(var u={name:e,value:i},d=0,c=r.length;d<c;++d)if(r[d].name===e){r[d]=u;break}d===c&&r.push(u)}s.tween=r}}function PQ(t,e){var i=this._id;if(t+="",arguments.length<2){for(var a=co(this.node(),i).tween,r=0,s=a.length,l;r<s;++r)if((l=a[r]).name===t)return l.value;return null}return this.each((e==null?RQ:DQ)(i,t,e))}function ng(t,e,i){var a=t._id;return t.each(function(){var r=Qo(this,a);(r.value||(r.value={}))[e]=i.apply(this,arguments)}),function(r){return co(r,a).value[e]}}function Rx(t,e){var i;return(typeof e=="number"?Or:e instanceof Tl?Vc:(i=Tl(e))?(e=i,Vc):_x)(t,e)}function LQ(t){return function(){this.removeAttribute(t)}}function kQ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function NQ(t,e,i){var a,r=i+"",s;return function(){var l=this.getAttribute(t);return l===r?null:l===a?s:s=e(a=l,i)}}function FQ(t,e,i){var a,r=i+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===r?null:l===a?s:s=e(a=l,i)}}function UQ(t,e,i){var a,r,s;return function(){var l,u=i(this),d;return u==null?void this.removeAttribute(t):(l=this.getAttribute(t),d=u+"",l===d?null:l===a&&d===r?s:(r=d,s=e(a=l,u)))}}function $Q(t,e,i){var a,r,s;return function(){var l,u=i(this),d;return u==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),d=u+"",l===d?null:l===a&&d===r?s:(r=d,s=e(a=l,u)))}}function GQ(t,e){var i=p4(t),a=i==="transform"?MQ:Rx;return this.attrTween(t,typeof e=="function"?(i.local?$Q:UQ)(i,a,ng(this,"attr."+t,e)):e==null?(i.local?kQ:LQ)(i):(i.local?FQ:NQ)(i,a,e))}function HQ(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function VQ(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function QQ(t,e){var i,a;function r(){var s=e.apply(this,arguments);return s!==a&&(i=(a=s)&&VQ(t,s)),i}return r._value=e,r}function zQ(t,e){var i,a;function r(){var s=e.apply(this,arguments);return s!==a&&(i=(a=s)&&HQ(t,s)),i}return r._value=e,r}function JQ(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var a=p4(t);return this.tween(i,(a.local?QQ:zQ)(a,e))}function jQ(t,e){return function(){ig(this,t).delay=+e.apply(this,arguments)}}function WQ(t,e){return e=+e,function(){ig(this,t).delay=e}}function KQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?jQ:WQ)(e,t)):co(this.node(),e).delay}function XQ(t,e){return function(){Qo(this,t).duration=+e.apply(this,arguments)}}function YQ(t,e){return e=+e,function(){Qo(this,t).duration=e}}function qQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?XQ:YQ)(e,t)):co(this.node(),e).duration}function ZQ(t,e){if(typeof e!="function")throw new Error;return function(){Qo(this,t).ease=e}}function tz(t){var e=this._id;return arguments.length?this.each(ZQ(e,t)):co(this.node(),e).ease}function ez(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;Qo(this,t).ease=i}}function iz(t){if(typeof t!="function")throw new Error;return this.each(ez(this._id,t))}function nz(t){typeof t!="function"&&(t=ix(t));for(var e=this._groups,i=e.length,a=new Array(i),r=0;r<i;++r)for(var s=e[r],l=s.length,u=a[r]=[],d,c=0;c<l;++c)(d=s[c])&&t.call(d,d.__data__,c,s)&&u.push(d);return new Bs(a,this._parents,this._name,this._id)}function az(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,a=e.length,r=i.length,s=Math.min(a,r),l=new Array(a),u=0;u<s;++u)for(var d=e[u],c=i[u],f=d.length,M=l[u]=new Array(f),m,A=0;A<f;++A)(m=d[A]||c[A])&&(M[A]=m);for(;u<a;++u)l[u]=e[u];return new Bs(l,this._parents,this._name,this._id)}function rz(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function oz(t,e,i){var a,r,s=rz(e)?ig:Qo;return function(){var l=s(this,t),u=l.on;u!==a&&(r=(a=u).copy()).on(e,i),l.on=r}}function sz(t,e){var i=this._id;return arguments.length<2?co(this.node(),i).on.on(t):this.each(oz(i,t,e))}function lz(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function cz(){return this.on("end.remove",lz(this._id))}function uz(t){var e=this._name,i=this._id;typeof t!="function"&&(t=j7(t));for(var a=this._groups,r=a.length,s=new Array(r),l=0;l<r;++l)for(var u=a[l],d=u.length,c=s[l]=new Array(d),f,M,m=0;m<d;++m)(f=u[m])&&(M=t.call(f,f.__data__,m,u))&&("__data__"in f&&(M.__data__=f.__data__),c[m]=M,b4(c[m],e,i,m,c,co(f,i)));return new Bs(s,this._parents,e,i)}function dz(t){var e=this._name,i=this._id;typeof t!="function"&&(t=ex(t));for(var a=this._groups,r=a.length,s=[],l=[],u=0;u<r;++u)for(var d=a[u],c=d.length,f,M=0;M<c;++M)if(f=d[M]){for(var m=t.call(f,f.__data__,M,d),A,p=co(f,i),y=0,E=m.length;y<E;++y)(A=m[y])&&b4(A,e,i,y,m,p);s.push(m),l.push(f)}return new Bs(s,l,e,i)}var hz=h1.prototype.constructor;function fz(){return new hz(this._groups,this._parents)}function mz(t,e){var i,a,r;return function(){var s=Ad(this,t),l=(this.style.removeProperty(t),Ad(this,t));return s===l?null:s===i&&l===a?r:r=e(i=s,a=l)}}function Dx(t){return function(){this.style.removeProperty(t)}}function pz(t,e,i){var a,r=i+"",s;return function(){var l=Ad(this,t);return l===r?null:l===a?s:s=e(a=l,i)}}function gz(t,e,i){var a,r,s;return function(){var l=Ad(this,t),u=i(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(t),Ad(this,t))),l===d?null:l===a&&d===r?s:(r=d,s=e(a=l,u))}}function Mz(t,e){var i,a,r,s="style."+e,l="end."+s,u;return function(){var d=Qo(this,t),c=d.on,f=d.value[s]==null?u||(u=Dx(e)):void 0;(c!==i||r!==f)&&(a=(i=c).copy()).on(l,r=f),d.on=a}}function Az(t,e,i){var a=(t+="")=="transform"?gQ:Rx;return e==null?this.styleTween(t,mz(t,a)).on("end.style."+t,Dx(t)):typeof e=="function"?this.styleTween(t,gz(t,a,ng(this,"style."+t,e))).each(Mz(this._id,t)):this.styleTween(t,pz(t,a,e),i).on("end.style."+t,null)}function yz(t,e,i){return function(a){this.style.setProperty(t,e.call(this,a),i)}}function vz(t,e,i){var a,r;function s(){var l=e.apply(this,arguments);return l!==r&&(a=(r=l)&&yz(t,l,i)),a}return s._value=e,s}function bz(t,e,i){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,vz(t,e,i??""))}function Cz(t){return function(){this.textContent=t}}function Ez(t){return function(){var e=t(this);this.textContent=e??""}}function _z(t){return this.tween("text",typeof t=="function"?Ez(ng(this,"text",t)):Cz(t==null?"":t+""))}function wz(t){return function(e){this.textContent=t.call(this,e)}}function Oz(t){var e,i;function a(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&wz(r)),e}return a._value=t,a}function xz(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Oz(t))}function Sz(){for(var t=this._name,e=this._id,i=Px(),a=this._groups,r=a.length,s=0;s<r;++s)for(var l=a[s],u=l.length,d,c=0;c<u;++c)if(d=l[c]){var f=co(d,e);b4(d,t,i,c,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Bs(a,this._parents,t,i)}function Tz(){var t,e,i=this,a=i._id,r=i.size();return new Promise(function(s,l){var u={value:l},d={value:function(){--r===0&&s()}};i.each(function(){var c=Qo(this,a),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(d)),c.on=e}),r===0&&s()})}var Iz=0;function Bs(t,e,i,a){this._groups=t,this._parents=e,this._name=i,this._id=a}function Px(){return++Iz}var us=h1.prototype;Bs.prototype={constructor:Bs,select:uz,selectAll:dz,selectChild:us.selectChild,selectChildren:us.selectChildren,filter:nz,merge:az,selection:fz,transition:Sz,call:us.call,nodes:us.nodes,node:us.node,size:us.size,empty:us.empty,each:us.each,on:sz,attr:GQ,attrTween:JQ,style:Az,styleTween:bz,text:_z,textTween:xz,remove:cz,tween:PQ,delay:KQ,duration:qQ,ease:tz,easeVarying:iz,end:Tz,[Symbol.iterator]:us[Symbol.iterator]};function Bz(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Rz={time:null,delay:0,duration:250,ease:Bz};function Dz(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function Pz(t){var e,i;t instanceof Bs?(e=t._id,t=t._name):(e=Px(),(i=Rz).time=eg(),t=t==null?null:t+"");for(var a=this._groups,r=a.length,s=0;s<r;++s)for(var l=a[s],u=l.length,d,c=0;c<u;++c)(d=l[c])&&b4(d,t,e,c,l,i||Dz(d,e));return new Bs(a,this._parents,t,e)}h1.prototype.interrupt=BQ;h1.prototype.transition=Pz;const P6=Math.PI,L6=2*P6,Cc=1e-6,Lz=L6-Cc;function Lx(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function kz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Lx;const i=10**e;return function(a){this._+=a[0];for(let r=1,s=a.length;r<s;++r)this._+=Math.round(arguments[r]*i)/i+a[r]}}class kx{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Lx:kz(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,a,r){this._append`Q${+e},${+i},${this._x1=+a},${this._y1=+r}`}bezierCurveTo(e,i,a,r,s,l){this._append`C${+e},${+i},${+a},${+r},${this._x1=+s},${this._y1=+l}`}arcTo(e,i,a,r,s){if(e=+e,i=+i,a=+a,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=a-e,c=r-i,f=l-e,M=u-i,m=f*f+M*M;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(m>Cc)if(!(Math.abs(M*d-c*f)>Cc)||!s)this._append`L${this._x1=e},${this._y1=i}`;else{let A=a-l,p=r-u,y=d*d+c*c,E=A*A+p*p,v=Math.sqrt(y),w=Math.sqrt(m),x=s*Math.tan((P6-Math.acos((y+m-E)/(2*v*w)))/2),b=x/w,O=x/v;Math.abs(b-1)>Cc&&this._append`L${e+b*f},${i+b*M}`,this._append`A${s},${s},0,0,${+(M*A>f*p)},${this._x1=e+O*d},${this._y1=i+O*c}`}}arc(e,i,a,r,s,l){if(e=+e,i=+i,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(r),d=a*Math.sin(r),c=e+u,f=i+d,M=1^l,m=l?r-s:s-r;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Cc||Math.abs(this._y1-f)>Cc)&&this._append`L${c},${f}`,a&&(m<0&&(m=m%L6+L6),m>Lz?this._append`A${a},${a},0,1,${M},${e-u},${i-d}A${a},${a},0,1,${M},${this._x1=c},${this._y1=f}`:m>Cc&&this._append`A${a},${a},0,${+(m>=P6)},${M},${this._x1=e+a*Math.cos(s)},${this._y1=i+a*Math.sin(s)}`)}rect(e,i,a,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${a=+a}v${+r}h${-a}Z`}toString(){return this._}}function bl(t=3){return new kx(+t)}function Nz(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _3(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,a=t.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+t.slice(i+1)]}function bd(t){return t=_3(Math.abs(t)),t?t[1]:NaN}function Fz(t,e){return function(i,a){for(var r=i.length,s=[],l=0,u=t[0],d=0;r>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),s.push(i.substring(r-=u,r+u)),!((d+=u+1)>a));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Uz(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}var $z=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xf(t){if(!(e=$z.exec(t)))throw new Error("invalid format: "+t);var e;return new ag({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xf.prototype=ag.prototype;function ag(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ag.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gz(t){t:for(var e=t.length,i=1,a=-1,r;i<e;++i)switch(t[i]){case".":a=r=i;break;case"0":a===0&&(a=i),r=i;break;default:if(!+t[i])break t;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(r+1):t}var Nx;function Hz(t,e){var i=_3(t,e);if(!i)return t+"";var a=i[0],r=i[1],s=r-(Nx=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=a.length;return s===l?a:s>l?a+new Array(s-l+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+_3(t,Math.max(0,e+s-1))[0]}function Vv(t,e){var i=_3(t,e);if(!i)return t+"";var a=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}const Qv={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nz,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Vv(t*100,e),r:Vv,s:Hz,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zv(t){return t}var Jv=Array.prototype.map,jv=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vz(t){var e=t.grouping===void 0||t.thousands===void 0?zv:Fz(Jv.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?zv:Uz(Jv.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function c(M){M=xf(M);var m=M.fill,A=M.align,p=M.sign,y=M.symbol,E=M.zero,v=M.width,w=M.comma,x=M.precision,b=M.trim,O=M.type;O==="n"?(w=!0,O="g"):Qv[O]||(x===void 0&&(x=12),b=!0,O="g"),(E||m==="0"&&A==="=")&&(E=!0,m="0",A="=");var S=y==="$"?i:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",R=y==="$"?a:/[%p]/.test(O)?l:"",I=Qv[O],P=/[defgprs%]/.test(O);x=x===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function L(k){var N=S,$=R,H,U,W;if(O==="c")$=I(k)+$,k="";else{k=+k;var J=k<0||1/k<0;if(k=isNaN(k)?d:I(Math.abs(k),x),b&&(k=Gz(k)),J&&+k==0&&p!=="+"&&(J=!1),N=(J?p==="("?p:u:p==="-"||p==="("?"":p)+N,$=(O==="s"?jv[8+Nx/3]:"")+$+(J&&p==="("?")":""),P){for(H=-1,U=k.length;++H<U;)if(W=k.charCodeAt(H),48>W||W>57){$=(W===46?r+k.slice(H+1):k.slice(H))+$,k=k.slice(0,H);break}}}w&&!E&&(k=e(k,1/0));var Q=N.length+k.length+$.length,G=Q<v?new Array(v-Q+1).join(m):"";switch(w&&E&&(k=e(G+k,G.length?v-$.length:1/0),G=""),A){case"<":k=N+k+$+G;break;case"=":k=N+G+k+$;break;case"^":k=G.slice(0,Q=G.length>>1)+N+k+$+G.slice(Q);break;default:k=G+N+k+$;break}return s(k)}return L.toString=function(){return M+""},L}function f(M,m){var A=c((M=xf(M),M.type="f",M)),p=Math.max(-8,Math.min(8,Math.floor(bd(m)/3)))*3,y=Math.pow(10,-p),E=jv[8+p/3];return function(v){return A(y*v)+E}}return{format:c,formatPrefix:f}}var wm,Gd,Fx;Qz({thousands:",",grouping:[3],currency:["$",""]});function Qz(t){return wm=Vz(t),Gd=wm.format,Fx=wm.formatPrefix,wm}function zz(t){return Math.max(0,-bd(Math.abs(t)))}function Jz(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bd(e)/3)))*3-bd(Math.abs(t)))}function jz(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bd(e)-bd(t))+1}var e9=1e-6,Ux=1e-12,h9=Math.PI,_a=h9/2,Wv=h9/4,g0=h9*2,Ur=180/h9,Ea=h9/180,U9=Math.abs,Hd=Math.atan,Rs=Math.atan2,l9=Math.cos,$x=Math.exp,w3=Math.log,_5=Math.pow,Wn=Math.sin,I0=Math.sign||function(t){return t>0?1:t<0?-1:0},t0=Math.sqrt,rg=Math.tan;function Gx(t){return t>1?0:t<-1?h9:Math.acos(t)}function L0(t){return t>1?_a:t<-1?-_a:Math.asin(t)}function B0(){}function O3(t,e){t&&Xv.hasOwnProperty(t.type)&&Xv[t.type](t,e)}var Kv={Feature:function(t,e){O3(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,r=i.length;++a<r;)O3(i[a].geometry,e)}},Xv={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,r=i.length;++a<r;)t=i[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){k6(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,r=i.length;++a<r;)k6(i[a],e,0)},Polygon:function(t,e){Yv(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,r=i.length;++a<r;)Yv(i[a],e)},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,r=i.length;++a<r;)O3(i[a],e)}};function k6(t,e,i){var a=-1,r=t.length-i,s;for(e.lineStart();++a<r;)s=t[a],e.point(s[0],s[1],s[2]);e.lineEnd()}function Yv(t,e){var i=-1,a=t.length;for(e.polygonStart();++i<a;)k6(t[i],e,1);e.polygonEnd()}function Ec(t,e){t&&Kv.hasOwnProperty(t.type)?Kv[t.type](t,e):O3(t,e)}function N6(t){return[Rs(t[1],t[0]),L0(t[2])]}function Cd(t){var e=t[0],i=t[1],a=l9(i);return[a*l9(e),a*Wn(e),Wn(i)]}function Om(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function x3(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function w5(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function F6(t){var e=t0(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function U6(t,e){function i(a,r){return a=t(a,r),e(a[0],a[1])}return t.invert&&e.invert&&(i.invert=function(a,r){return a=e.invert(a,r),a&&t.invert(a[0],a[1])}),i}function $6(t,e){return U9(t)>h9&&(t-=Math.round(t/g0)*g0),[t,e]}$6.invert=$6;function Hx(t,e,i){return(t%=g0)?e||i?U6(Zv(t),tb(e,i)):Zv(t):e||i?tb(e,i):$6}function qv(t){return function(e,i){return e+=t,U9(e)>h9&&(e-=Math.round(e/g0)*g0),[e,i]}}function Zv(t){var e=qv(t);return e.invert=qv(-t),e}function tb(t,e){var i=l9(t),a=Wn(t),r=l9(e),s=Wn(e);function l(u,d){var c=l9(d),f=l9(u)*c,M=Wn(u)*c,m=Wn(d),A=m*i+f*a;return[Rs(M*r-A*s,f*i-m*a),L0(A*r+M*s)]}return l.invert=function(u,d){var c=l9(d),f=l9(u)*c,M=Wn(u)*c,m=Wn(d),A=m*r-M*s;return[Rs(M*r+m*s,f*i+A*a),L0(A*i-f*a)]},l}function Wz(t){t=Hx(t[0]*Ea,t[1]*Ea,t.length>2?t[2]*Ea:0);function e(i){return i=t(i[0]*Ea,i[1]*Ea),i[0]*=Ur,i[1]*=Ur,i}return e.invert=function(i){return i=t.invert(i[0]*Ea,i[1]*Ea),i[0]*=Ur,i[1]*=Ur,i},e}function Kz(t,e,i,a,r,s){if(i){var l=l9(e),u=Wn(e),d=a*i;r==null?(r=e+a*g0,s=e-d/2):(r=eb(l,r),s=eb(l,s),(a>0?r<s:r>s)&&(r+=a*g0));for(var c,f=r;a>0?f>s:f<s;f-=d)c=N6([l,-u*l9(f),-u*Wn(f)]),t.point(c[0],c[1])}}function eb(t,e){e=Cd(e),e[0]-=t,F6(e);var i=Gx(-e[1]);return((-e[2]<0?-i:i)+g0-e9)%g0}function Vx(){var t=[],e;return{point:function(i,a,r){e.push([i,a,r])},lineStart:function(){t.push(e=[])},lineEnd:B0,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function i3(t,e){return U9(t[0]-e[0])<e9&&U9(t[1]-e[1])<e9}function Sm(t,e,i,a){this.x=t,this.z=e,this.o=i,this.e=a,this.v=!1,this.n=this.p=null}function Qx(t,e,i,a,r){var s=[],l=[],u,d;if(t.forEach(function(p){if(!((y=p.length-1)<=0)){var y,E=p[0],v=p[y],w;if(i3(E,v)){if(!E[2]&&!v[2]){for(r.lineStart(),u=0;u<y;++u)r.point((E=p[u])[0],E[1]);r.lineEnd();return}v[0]+=2*e9}s.push(w=new Sm(E,p,null,!0)),l.push(w.o=new Sm(E,null,w,!1)),s.push(w=new Sm(v,p,null,!1)),l.push(w.o=new Sm(v,null,w,!0))}}),!!s.length){for(l.sort(e),ib(s),ib(l),u=0,d=l.length;u<d;++u)l[u].e=i=!i;for(var c=s[0],f,M;;){for(var m=c,A=!0;m.v;)if((m=m.n)===c)return;f=m.z,r.lineStart();do{if(m.v=m.o.v=!0,m.e){if(A)for(u=0,d=f.length;u<d;++u)r.point((M=f[u])[0],M[1]);else a(m.x,m.n.x,1,r);m=m.n}else{if(A)for(f=m.p.z,u=f.length-1;u>=0;--u)r.point((M=f[u])[0],M[1]);else a(m.x,m.p.x,-1,r);m=m.p}m=m.o,f=m.z,A=!A}while(!m.v);r.lineEnd()}}}function ib(t){if(e=t.length){for(var e,i=0,a=t[0],r;++i<e;)a.n=r=t[i],r.p=a,a=r;a.n=r=t[0],r.p=a}}function O5(t){return U9(t[0])<=h9?t[0]:I0(t[0])*((U9(t[0])+h9)%g0-h9)}function Xz(t,e){var i=O5(e),a=e[1],r=Wn(a),s=[Wn(i),-l9(i),0],l=0,u=0,d=new Uc;r===1?a=_a+e9:r===-1&&(a=-_a-e9);for(var c=0,f=t.length;c<f;++c)if(m=(M=t[c]).length)for(var M,m,A=M[m-1],p=O5(A),y=A[1]/2+Wv,E=Wn(y),v=l9(y),w=0;w<m;++w,p=b,E=S,v=R,A=x){var x=M[w],b=O5(x),O=x[1]/2+Wv,S=Wn(O),R=l9(O),I=b-p,P=I>=0?1:-1,L=P*I,k=L>h9,N=E*S;if(d.add(Rs(N*P*Wn(L),v*R+N*l9(L))),l+=k?I+P*g0:I,k^p>=i^b>=i){var $=x3(Cd(A),Cd(x));F6($);var H=x3(s,$);F6(H);var U=(k^I>=0?-1:1)*L0(H[2]);(a>U||a===U&&($[0]||$[1]))&&(u+=k^I>=0?1:-1)}}return(l<-e9||l<e9&&d<-Ux)^u&1}function zx(t,e,i,a){return function(r){var s=e(r),l=Vx(),u=e(l),d=!1,c,f,M,m={point:A,lineStart:y,lineEnd:E,polygonStart:function(){m.point=v,m.lineStart=w,m.lineEnd=x,f=[],c=[]},polygonEnd:function(){m.point=A,m.lineStart=y,m.lineEnd=E,f=qO(f);var b=Xz(c,a);f.length?(d||(r.polygonStart(),d=!0),Qx(f,qz,b,i,r)):b&&(d||(r.polygonStart(),d=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),d&&(r.polygonEnd(),d=!1),f=c=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function A(b,O){t(b,O)&&r.point(b,O)}function p(b,O){s.point(b,O)}function y(){m.point=p,s.lineStart()}function E(){m.point=A,s.lineEnd()}function v(b,O){M.push([b,O]),u.point(b,O)}function w(){u.lineStart(),M=[]}function x(){v(M[0][0],M[0][1]),u.lineEnd();var b=u.clean(),O=l.result(),S,R=O.length,I,P,L;if(M.pop(),c.push(M),M=null,!!R){if(b&1){if(P=O[0],(I=P.length-1)>0){for(d||(r.polygonStart(),d=!0),r.lineStart(),S=0;S<I;++S)r.point((L=P[S])[0],L[1]);r.lineEnd()}return}R>1&&b&2&&O.push(O.pop().concat(O.shift())),f.push(O.filter(Yz))}}return m}}function Yz(t){return t.length>1}function qz(t,e){return((t=t.x)[0]<0?t[1]-_a-e9:_a-t[1])-((e=e.x)[0]<0?e[1]-_a-e9:_a-e[1])}const nb=zx(function(){return!0},Zz,eJ,[-h9,-_a]);function Zz(t){var e=NaN,i=NaN,a=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(s,l){var u=s>0?h9:-h9,d=U9(s-e);U9(d-h9)<e9?(t.point(e,i=(i+l)/2>0?_a:-_a),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(u,i),t.point(s,i),r=0):a!==u&&d>=h9&&(U9(e-a)<e9&&(e-=a*e9),U9(s-u)<e9&&(s-=u*e9),i=tJ(e,i,s,l),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(u,i),r=0),t.point(e=s,i=l),a=u},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-r}}}function tJ(t,e,i,a){var r,s,l=Wn(t-i);return U9(l)>e9?Hd((Wn(e)*(s=l9(a))*Wn(i)-Wn(a)*(r=l9(e))*Wn(t))/(r*s*l)):(e+a)/2}function eJ(t,e,i,a){var r;if(t==null)r=i*_a,a.point(-h9,r),a.point(0,r),a.point(h9,r),a.point(h9,0),a.point(h9,-r),a.point(0,-r),a.point(-h9,-r),a.point(-h9,0),a.point(-h9,r);else if(U9(t[0]-e[0])>e9){var s=t[0]<e[0]?h9:-h9;r=i*s/2,a.point(-s,r),a.point(0,r),a.point(s,r)}else a.point(e[0],e[1])}function iJ(t){var e=l9(t),i=2*Ea,a=e>0,r=U9(e)>e9;function s(f,M,m,A){Kz(A,t,i,m,f,M)}function l(f,M){return l9(f)*l9(M)>e}function u(f){var M,m,A,p,y;return{lineStart:function(){p=A=!1,y=1},point:function(E,v){var w=[E,v],x,b=l(E,v),O=a?b?0:c(E,v):b?c(E+(E<0?h9:-h9),v):0;if(!M&&(p=A=b)&&f.lineStart(),b!==A&&(x=d(M,w),(!x||i3(M,x)||i3(w,x))&&(w[2]=1)),b!==A)y=0,b?(f.lineStart(),x=d(w,M),f.point(x[0],x[1])):(x=d(M,w),f.point(x[0],x[1],2),f.lineEnd()),M=x;else if(r&&M&&a^b){var S;!(O&m)&&(S=d(w,M,!0))&&(y=0,a?(f.lineStart(),f.point(S[0][0],S[0][1]),f.point(S[1][0],S[1][1]),f.lineEnd()):(f.point(S[1][0],S[1][1]),f.lineEnd(),f.lineStart(),f.point(S[0][0],S[0][1],3)))}b&&(!M||!i3(M,w))&&f.point(w[0],w[1]),M=w,A=b,m=O},lineEnd:function(){A&&f.lineEnd(),M=null},clean:function(){return y|(p&&A)<<1}}}function d(f,M,m){var A=Cd(f),p=Cd(M),y=[1,0,0],E=x3(A,p),v=Om(E,E),w=E[0],x=v-w*w;if(!x)return!m&&f;var b=e*v/x,O=-e*w/x,S=x3(y,E),R=xm(y,b),I=xm(E,O);w5(R,I);var P=S,L=Om(R,P),k=Om(P,P),N=L*L-k*(Om(R,R)-1);if(!(N<0)){var $=t0(N),H=xm(P,(-L-$)/k);if(w5(H,R),H=N6(H),!m)return H;var U=f[0],W=M[0],J=f[1],Q=M[1],G;W<U&&(G=U,U=W,W=G);var z=W-U,j=U9(z-h9)<e9,nt=j||z<e9;if(!j&&Q<J&&(G=J,J=Q,Q=G),nt?j?J+Q>0^H[1]<(U9(H[0]-U)<e9?J:Q):J<=H[1]&&H[1]<=Q:z>h9^(U<=H[0]&&H[0]<=W)){var tt=xm(P,(-L+$)/k);return w5(tt,R),[H,N6(tt)]}}}function c(f,M){var m=a?t:h9-t,A=0;return f<-m?A|=1:f>m&&(A|=2),M<-m?A|=4:M>m&&(A|=8),A}return zx(l,u,s,a?[0,-t]:[-h9,t-h9])}function nJ(t,e,i,a,r,s){var l=t[0],u=t[1],d=e[0],c=e[1],f=0,M=1,m=d-l,A=c-u,p;if(p=i-l,!(!m&&p>0)){if(p/=m,m<0){if(p<f)return;p<M&&(M=p)}else if(m>0){if(p>M)return;p>f&&(f=p)}if(p=r-l,!(!m&&p<0)){if(p/=m,m<0){if(p>M)return;p>f&&(f=p)}else if(m>0){if(p<f)return;p<M&&(M=p)}if(p=a-u,!(!A&&p>0)){if(p/=A,A<0){if(p<f)return;p<M&&(M=p)}else if(A>0){if(p>M)return;p>f&&(f=p)}if(p=s-u,!(!A&&p<0)){if(p/=A,A<0){if(p>M)return;p>f&&(f=p)}else if(A>0){if(p<f)return;p<M&&(M=p)}return f>0&&(t[0]=l+f*m,t[1]=u+f*A),M<1&&(e[0]=l+M*m,e[1]=u+M*A),!0}}}}}var jh=1e9,Tm=-jh;function Jx(t,e,i,a){function r(c,f){return t<=c&&c<=i&&e<=f&&f<=a}function s(c,f,M,m){var A=0,p=0;if(c==null||(A=l(c,M))!==(p=l(f,M))||d(c,f)<0^M>0)do m.point(A===0||A===3?t:i,A>1?a:e);while((A=(A+M+4)%4)!==p);else m.point(f[0],f[1])}function l(c,f){return U9(c[0]-t)<e9?f>0?0:3:U9(c[0]-i)<e9?f>0?2:1:U9(c[1]-e)<e9?f>0?1:0:f>0?3:2}function u(c,f){return d(c.x,f.x)}function d(c,f){var M=l(c,1),m=l(f,1);return M!==m?M-m:M===0?f[1]-c[1]:M===1?c[0]-f[0]:M===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,M=Vx(),m,A,p,y,E,v,w,x,b,O,S,R={point:I,lineStart:N,lineEnd:$,polygonStart:L,polygonEnd:k};function I(U,W){r(U,W)&&f.point(U,W)}function P(){for(var U=0,W=0,J=A.length;W<J;++W)for(var Q=A[W],G=1,z=Q.length,j=Q[0],nt,tt,ht=j[0],pt=j[1];G<z;++G)nt=ht,tt=pt,j=Q[G],ht=j[0],pt=j[1],tt<=a?pt>a&&(ht-nt)*(a-tt)>(pt-tt)*(t-nt)&&++U:pt<=a&&(ht-nt)*(a-tt)<(pt-tt)*(t-nt)&&--U;return U}function L(){f=M,m=[],A=[],S=!0}function k(){var U=P(),W=S&&U,J=(m=qO(m)).length;(W||J)&&(c.polygonStart(),W&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),J&&Qx(m,u,U,s,c),c.polygonEnd()),f=c,m=A=p=null}function N(){R.point=H,A&&A.push(p=[]),O=!0,b=!1,w=x=NaN}function $(){m&&(H(y,E),v&&b&&M.rejoin(),m.push(M.result())),R.point=I,b&&f.lineEnd()}function H(U,W){var J=r(U,W);if(A&&p.push([U,W]),O)y=U,E=W,v=J,O=!1,J&&(f.lineStart(),f.point(U,W));else if(J&&b)f.point(U,W);else{var Q=[w=Math.max(Tm,Math.min(jh,w)),x=Math.max(Tm,Math.min(jh,x))],G=[U=Math.max(Tm,Math.min(jh,U)),W=Math.max(Tm,Math.min(jh,W))];nJ(Q,G,t,e,i,a)?(b||(f.lineStart(),f.point(Q[0],Q[1])),f.point(G[0],G[1]),J||f.lineEnd(),S=!1):J&&(f.lineStart(),f.point(U,W),S=!1)}w=U,x=W,b=J}return R}}const G6=t=>t;var x5=new Uc,H6=new Uc,jx,Wx,V6,Q6,Cs={point:B0,lineStart:B0,lineEnd:B0,polygonStart:function(){Cs.lineStart=aJ,Cs.lineEnd=oJ},polygonEnd:function(){Cs.lineStart=Cs.lineEnd=Cs.point=B0,x5.add(U9(H6)),H6=new Uc},result:function(){var t=x5/2;return x5=new Uc,t}};function aJ(){Cs.point=rJ}function rJ(t,e){Cs.point=Kx,jx=V6=t,Wx=Q6=e}function Kx(t,e){H6.add(Q6*t-V6*e),V6=t,Q6=e}function oJ(){Kx(jx,Wx)}var Ed=1/0,S3=Ed,Sf=-Ed,T3=Sf,I3={point:sJ,lineStart:B0,lineEnd:B0,polygonStart:B0,polygonEnd:B0,result:function(){var t=[[Ed,S3],[Sf,T3]];return Sf=T3=-(S3=Ed=1/0),t}};function sJ(t,e){t<Ed&&(Ed=t),t>Sf&&(Sf=t),e<S3&&(S3=e),e>T3&&(T3=e)}var z6=0,J6=0,Wh=0,B3=0,R3=0,Vu=0,j6=0,W6=0,Kh=0,Xx,Yx,To,Io,T0={point:zc,lineStart:ab,lineEnd:rb,polygonStart:function(){T0.lineStart=uJ,T0.lineEnd=dJ},polygonEnd:function(){T0.point=zc,T0.lineStart=ab,T0.lineEnd=rb},result:function(){var t=Kh?[j6/Kh,W6/Kh]:Vu?[B3/Vu,R3/Vu]:Wh?[z6/Wh,J6/Wh]:[NaN,NaN];return z6=J6=Wh=B3=R3=Vu=j6=W6=Kh=0,t}};function zc(t,e){z6+=t,J6+=e,++Wh}function ab(){T0.point=lJ}function lJ(t,e){T0.point=cJ,zc(To=t,Io=e)}function cJ(t,e){var i=t-To,a=e-Io,r=t0(i*i+a*a);B3+=r*(To+t)/2,R3+=r*(Io+e)/2,Vu+=r,zc(To=t,Io=e)}function rb(){T0.point=zc}function uJ(){T0.point=hJ}function dJ(){qx(Xx,Yx)}function hJ(t,e){T0.point=qx,zc(Xx=To=t,Yx=Io=e)}function qx(t,e){var i=t-To,a=e-Io,r=t0(i*i+a*a);B3+=r*(To+t)/2,R3+=r*(Io+e)/2,Vu+=r,r=Io*t-To*e,j6+=r*(To+t),W6+=r*(Io+e),Kh+=r*3,zc(To=t,Io=e)}function Zx(t){this._context=t}Zx.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,g0);break}}},result:B0};var K6=new Uc,S5,tS,eS,Xh,Yh,Tf={point:B0,lineStart:function(){Tf.point=fJ},lineEnd:function(){S5&&iS(tS,eS),Tf.point=B0},polygonStart:function(){S5=!0},polygonEnd:function(){S5=null},result:function(){var t=+K6;return K6=new Uc,t}};function fJ(t,e){Tf.point=iS,tS=Xh=t,eS=Yh=e}function iS(t,e){Xh-=t,Yh-=e,K6.add(t0(Xh*Xh+Yh*Yh)),Xh=t,Yh=e}let ob,D3,sb,lb;class cb{constructor(e){this._append=e==null?nS:mJ(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==sb||this._append!==D3){const a=this._radius,r=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,sb=a,D3=this._append,lb=this._,this._=r}this._+=lb;break}}}result(){const e=this._;return this._="",e.length?e:null}}function nS(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function mJ(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return nS;if(e!==ob){const i=10**e;ob=e,D3=function(r){let s=1;this._+=r[0];for(const l=r.length;s<l;++s)this._+=Math.round(arguments[s]*i)/i+r[s]}}return D3}function p1(t,e){let i=3,a=4.5,r,s;function l(u){return u&&(typeof a=="function"&&s.pointRadius(+a.apply(this,arguments)),Ec(u,r(s))),s.result()}return l.area=function(u){return Ec(u,r(Cs)),Cs.result()},l.measure=function(u){return Ec(u,r(Tf)),Tf.result()},l.bounds=function(u){return Ec(u,r(I3)),I3.result()},l.centroid=function(u){return Ec(u,r(T0)),T0.result()},l.projection=function(u){return arguments.length?(r=u==null?(t=null,G6):(t=u).stream,l):t},l.context=function(u){return arguments.length?(s=u==null?(e=null,new cb(i)):new Zx(e=u),typeof a!="function"&&s.pointRadius(a),l):e},l.pointRadius=function(u){return arguments.length?(a=typeof u=="function"?u:(s.pointRadius(+u),+u),l):a},l.digits=function(u){if(!arguments.length)return i;if(u==null)i=null;else{const d=Math.floor(u);if(!(d>=0))throw new RangeError(`invalid digits: ${u}`);i=d}return e===null&&(s=new cb(i)),l},l.projection(t).digits(i).context(e)}function X6(t){return{stream:C4(t)}}function C4(t){return function(e){var i=new Y6;for(var a in t)i[a]=t[a];return i.stream=e,i}}function Y6(){}Y6.prototype={constructor:Y6,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function og(t,e,i){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),Ec(i,t.stream(I3)),e(I3.result()),a!=null&&t.clipExtent(a),t}function sg(t,e,i){return og(t,function(a){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],l=Math.min(r/(a[1][0]-a[0][0]),s/(a[1][1]-a[0][1])),u=+e[0][0]+(r-l*(a[1][0]+a[0][0]))/2,d=+e[0][1]+(s-l*(a[1][1]+a[0][1]))/2;t.scale(150*l).translate([u,d])},i)}function aS(t,e,i){return sg(t,[[0,0],e],i)}function rS(t,e,i){return og(t,function(a){var r=+e,s=r/(a[1][0]-a[0][0]),l=(r-s*(a[1][0]+a[0][0]))/2,u=-s*a[0][1];t.scale(150*s).translate([l,u])},i)}function oS(t,e,i){return og(t,function(a){var r=+e,s=r/(a[1][1]-a[0][1]),l=-s*a[0][0],u=(r-s*(a[1][1]+a[0][1]))/2;t.scale(150*s).translate([l,u])},i)}var ub=16,pJ=l9(30*Ea);function db(t,e){return+e?MJ(t,e):gJ(t)}function gJ(t){return C4({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function MJ(t,e){function i(a,r,s,l,u,d,c,f,M,m,A,p,y,E){var v=c-a,w=f-r,x=v*v+w*w;if(x>4*e&&y--){var b=l+m,O=u+A,S=d+p,R=t0(b*b+O*O+S*S),I=L0(S/=R),P=U9(U9(S)-1)<e9||U9(s-M)<e9?(s+M)/2:Rs(O,b),L=t(P,I),k=L[0],N=L[1],$=k-a,H=N-r,U=w*$-v*H;(U*U/x>e||U9((v*$+w*H)/x-.5)>.3||l*m+u*A+d*p<pJ)&&(i(a,r,s,l,u,d,k,N,P,b/=R,O/=R,S,y,E),E.point(k,N),i(k,N,P,b,O,S,c,f,M,m,A,p,y,E))}}return function(a){var r,s,l,u,d,c,f,M,m,A,p,y,E={point:v,lineStart:w,lineEnd:b,polygonStart:function(){a.polygonStart(),E.lineStart=O},polygonEnd:function(){a.polygonEnd(),E.lineStart=w}};function v(I,P){I=t(I,P),a.point(I[0],I[1])}function w(){M=NaN,E.point=x,a.lineStart()}function x(I,P){var L=Cd([I,P]),k=t(I,P);i(M,m,f,A,p,y,M=k[0],m=k[1],f=I,A=L[0],p=L[1],y=L[2],ub,a),a.point(M,m)}function b(){E.point=v,a.lineEnd()}function O(){w(),E.point=S,E.lineEnd=R}function S(I,P){x(r=I,P),s=M,l=m,u=A,d=p,c=y,E.point=x}function R(){i(M,m,f,A,p,y,s,l,r,u,d,c,ub,a),E.lineEnd=b,b()}return E}}var AJ=C4({point:function(t,e){this.stream.point(t*Ea,e*Ea)}});function yJ(t){return C4({point:function(e,i){var a=t(e,i);return this.stream.point(a[0],a[1])}})}function vJ(t,e,i,a,r){function s(l,u){return l*=a,u*=r,[e+t*l,i-t*u]}return s.invert=function(l,u){return[(l-e)/t*a,(i-u)/t*r]},s}function hb(t,e,i,a,r,s){if(!s)return vJ(t,e,i,a,r);var l=l9(s),u=Wn(s),d=l*t,c=u*t,f=l/t,M=u/t,m=(u*i-l*e)/t,A=(u*e+l*i)/t;function p(y,E){return y*=a,E*=r,[d*y-c*E+e,i-c*y-d*E]}return p.invert=function(y,E){return[a*(f*y-M*E+m),r*(A-M*y-f*E)]},p}function Fl(t){return sS(function(){return t})()}function sS(t){var e,i=150,a=480,r=250,s=0,l=0,u=0,d=0,c=0,f,M=0,m=1,A=1,p=null,y=nb,E=null,v,w,x,b=G6,O=.5,S,R,I,P,L;function k(U){return I(U[0]*Ea,U[1]*Ea)}function N(U){return U=I.invert(U[0],U[1]),U&&[U[0]*Ur,U[1]*Ur]}k.stream=function(U){return P&&L===U?P:P=AJ(yJ(f)(y(S(b(L=U)))))},k.preclip=function(U){return arguments.length?(y=U,p=void 0,H()):y},k.postclip=function(U){return arguments.length?(b=U,E=v=w=x=null,H()):b},k.clipAngle=function(U){return arguments.length?(y=+U?iJ(p=U*Ea):(p=null,nb),H()):p*Ur},k.clipExtent=function(U){return arguments.length?(b=U==null?(E=v=w=x=null,G6):Jx(E=+U[0][0],v=+U[0][1],w=+U[1][0],x=+U[1][1]),H()):E==null?null:[[E,v],[w,x]]},k.scale=function(U){return arguments.length?(i=+U,$()):i},k.translate=function(U){return arguments.length?(a=+U[0],r=+U[1],$()):[a,r]},k.center=function(U){return arguments.length?(s=U[0]%360*Ea,l=U[1]%360*Ea,$()):[s*Ur,l*Ur]},k.rotate=function(U){return arguments.length?(u=U[0]%360*Ea,d=U[1]%360*Ea,c=U.length>2?U[2]%360*Ea:0,$()):[u*Ur,d*Ur,c*Ur]},k.angle=function(U){return arguments.length?(M=U%360*Ea,$()):M*Ur},k.reflectX=function(U){return arguments.length?(m=U?-1:1,$()):m<0},k.reflectY=function(U){return arguments.length?(A=U?-1:1,$()):A<0},k.precision=function(U){return arguments.length?(S=db(R,O=U*U),H()):t0(O)},k.fitExtent=function(U,W){return sg(k,U,W)},k.fitSize=function(U,W){return aS(k,U,W)},k.fitWidth=function(U,W){return rS(k,U,W)},k.fitHeight=function(U,W){return oS(k,U,W)};function $(){var U=hb(i,0,0,m,A,M).apply(null,e(s,l)),W=hb(i,a-U[0],r-U[1],m,A,M);return f=Hx(u,d,c),R=U6(e,W),I=U6(f,R),S=db(R,O),H()}function H(){return P=L=null,k}return function(){return e=t.apply(this,arguments),k.invert=e.invert&&N,$()}}function lg(t){var e=0,i=h9/3,a=sS(t),r=a(e,i);return r.parallels=function(s){return arguments.length?a(e=s[0]*Ea,i=s[1]*Ea):[e*Ur,i*Ur]},r}function bJ(t){var e=l9(t);function i(a,r){return[a*e,Wn(r)/e]}return i.invert=function(a,r){return[a/e,L0(r*e)]},i}function CJ(t,e){var i=Wn(t),a=(i+Wn(e))/2;if(U9(a)<e9)return bJ(t);var r=1+i*(2*a-i),s=t0(r)/a;function l(u,d){var c=t0(r-2*a*Wn(d))/a;return[c*Wn(u*=a),s-c*l9(u)]}return l.invert=function(u,d){var c=s-d,f=Rs(u,U9(c))*I0(c);return c*a<0&&(f-=h9*I0(u)*I0(c)),[f/a,L0((r-(u*u+c*c)*a*a)/(2*a))]},l}function P3(){return lg(CJ).scale(155.424).center([0,33.6442])}function lS(){return P3().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function EJ(t){var e=t.length;return{point:function(i,a){for(var r=-1;++r<e;)t[r].point(i,a)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}function _J(){var t,e,i=lS(),a,r=P3().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,l=P3().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,d,c={point:function(m,A){d=[m,A]}};function f(m){var A=m[0],p=m[1];return d=null,a.point(A,p),d||(s.point(A,p),d)||(u.point(A,p),d)}f.invert=function(m){var A=i.scale(),p=i.translate(),y=(m[0]-p[0])/A,E=(m[1]-p[1])/A;return(E>=.12&&E<.234&&y>=-.425&&y<-.214?r:E>=.166&&E<.234&&y>=-.214&&y<-.115?l:i).invert(m)},f.stream=function(m){return t&&e===m?t:t=EJ([i.stream(e=m),r.stream(m),l.stream(m)])},f.precision=function(m){return arguments.length?(i.precision(m),r.precision(m),l.precision(m),M()):i.precision()},f.scale=function(m){return arguments.length?(i.scale(m),r.scale(m*.35),l.scale(m),f.translate(i.translate())):i.scale()},f.translate=function(m){if(!arguments.length)return i.translate();var A=i.scale(),p=+m[0],y=+m[1];return a=i.translate(m).clipExtent([[p-.455*A,y-.238*A],[p+.455*A,y+.238*A]]).stream(c),s=r.translate([p-.307*A,y+.201*A]).clipExtent([[p-.425*A+e9,y+.12*A+e9],[p-.214*A-e9,y+.234*A-e9]]).stream(c),u=l.translate([p-.205*A,y+.212*A]).clipExtent([[p-.214*A+e9,y+.166*A+e9],[p-.115*A-e9,y+.234*A-e9]]).stream(c),M()},f.fitExtent=function(m,A){return sg(f,m,A)},f.fitSize=function(m,A){return aS(f,m,A)},f.fitWidth=function(m,A){return rS(f,m,A)},f.fitHeight=function(m,A){return oS(f,m,A)};function M(){return t=e=null,f}return f.scale(1070)}function cS(t){return function(e,i){var a=l9(e),r=l9(i),s=t(a*r);return s===1/0?[2,0]:[s*r*Wn(e),s*Wn(i)]}}function g1(t){return function(e,i){var a=t0(e*e+i*i),r=t(a),s=Wn(r),l=l9(r);return[Rs(e*s,a*l),L0(a&&i*s/a)]}}var uS=cS(function(t){return t0(2/(1+t))});uS.invert=g1(function(t){return 2*L0(t/2)});function wJ(){return Fl(uS).scale(124.75).clipAngle(180-.001)}var dS=cS(function(t){return(t=Gx(t))&&t/Wn(t)});dS.invert=g1(function(t){return t});function OJ(){return Fl(dS).scale(79.4188).clipAngle(180-.001)}function E4(t,e){return[t,w3(rg((_a+e)/2))]}E4.invert=function(t,e){return[t,2*Hd($x(e))-_a]};function xJ(){return hS(E4).scale(961/g0)}function hS(t){var e=Fl(t),i=e.center,a=e.scale,r=e.translate,s=e.clipExtent,l=null,u,d,c;e.scale=function(M){return arguments.length?(a(M),f()):a()},e.translate=function(M){return arguments.length?(r(M),f()):r()},e.center=function(M){return arguments.length?(i(M),f()):i()},e.clipExtent=function(M){return arguments.length?(M==null?l=u=d=c=null:(l=+M[0][0],u=+M[0][1],d=+M[1][0],c=+M[1][1]),f()):l==null?null:[[l,u],[d,c]]};function f(){var M=h9*a(),m=e(Wz(e.rotate()).invert([0,0]));return s(l==null?[[m[0]-M,m[1]-M],[m[0]+M,m[1]+M]]:t===E4?[[Math.max(m[0]-M,l),u],[Math.min(m[0]+M,d),c]]:[[l,Math.max(m[1]-M,u)],[d,Math.min(m[1]+M,c)]])}return f()}function Im(t){return rg((_a+t)/2)}function SJ(t,e){var i=l9(t),a=t===e?Wn(t):w3(i/l9(e))/w3(Im(e)/Im(t)),r=i*_5(Im(t),a)/a;if(!a)return E4;function s(l,u){r>0?u<-_a+e9&&(u=-_a+e9):u>_a-e9&&(u=_a-e9);var d=r/_5(Im(u),a);return[d*Wn(a*l),r-d*l9(a*l)]}return s.invert=function(l,u){var d=r-u,c=I0(a)*t0(l*l+d*d),f=Rs(l,U9(d))*I0(d);return d*a<0&&(f-=h9*I0(l)*I0(d)),[f/a,2*Hd(_5(r/c,1/a))-_a]},s}function TJ(){return lg(SJ).scale(109.5).parallels([30,30])}function L3(t,e){return[t,e]}L3.invert=L3;function IJ(){return Fl(L3).scale(152.63)}function BJ(t,e){var i=l9(t),a=t===e?Wn(t):(i-l9(e))/(e-t),r=i/a+t;if(U9(a)<e9)return L3;function s(l,u){var d=r-u,c=a*l;return[d*Wn(c),r-d*l9(c)]}return s.invert=function(l,u){var d=r-u,c=Rs(l,U9(d))*I0(d);return d*a<0&&(c-=h9*I0(l)*I0(d)),[c/a,r-I0(a)*t0(l*l+d*d)]},s}function RJ(){return lg(BJ).scale(131.154).center([0,13.9389])}var cf=1.340264,uf=-.081106,df=893e-6,hf=.003796,k3=t0(3)/2,DJ=12;function fS(t,e){var i=L0(k3*Wn(e)),a=i*i,r=a*a*a;return[t*l9(i)/(k3*(cf+3*uf*a+r*(7*df+9*hf*a))),i*(cf+uf*a+r*(df+hf*a))]}fS.invert=function(t,e){for(var i=e,a=i*i,r=a*a*a,s=0,l,u,d;s<DJ&&(u=i*(cf+uf*a+r*(df+hf*a))-e,d=cf+3*uf*a+r*(7*df+9*hf*a),i-=l=u/d,a=i*i,r=a*a*a,!(U9(l)<Ux));++s);return[k3*t*(cf+3*uf*a+r*(7*df+9*hf*a))/l9(i),L0(Wn(i)/k3)]};function PJ(){return Fl(fS).scale(177.158)}function mS(t,e){var i=l9(e),a=l9(t)*i;return[i*Wn(t)/a,Wn(e)/a]}mS.invert=g1(Hd);function LJ(){return Fl(mS).scale(144.049).clipAngle(60)}function pS(t,e){return[l9(e)*Wn(t),Wn(e)]}pS.invert=g1(L0);function kJ(){return Fl(pS).scale(249.5).clipAngle(90+e9)}function gS(t,e){var i=l9(e),a=1+l9(t)*i;return[i*Wn(t)/a,Wn(e)/a]}gS.invert=g1(function(t){return 2*Hd(t)});function NJ(){return Fl(gS).scale(250).clipAngle(142)}function MS(t,e){return[w3(rg((_a+e)/2)),-t]}MS.invert=function(t,e){return[-e,2*Hd($x(t))-_a]};function FJ(){var t=hS(MS),e=t.center,i=t.rotate;return t.center=function(a){return arguments.length?e([-a[1],a[0]]):(a=e(),[a[1],-a[0]])},t.rotate=function(a){return arguments.length?i([a[0],a[1],a.length>2?a[2]+90:90]):(a=i(),[a[0],a[1],a[2]-90])},i([0,0,90]).scale(159.155)}function zo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _4(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const q6=Symbol("implicit");function cg(){var t=new $c,e=[],i=[],a=q6;function r(s){let l=t.get(s);if(l===void 0){if(a!==q6)return a;t.set(s,l=e.push(s)-1)}return i[l%i.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new $c;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return r},r.range=function(s){return arguments.length?(i=Array.from(s),r):i.slice()},r.unknown=function(s){return arguments.length?(a=s,r):a},r.copy=function(){return cg(e,i).unknown(a)},zo.apply(r,arguments),r}function w4(){var t=cg().unknown(void 0),e=t.domain,i=t.range,a=0,r=1,s,l,u=!1,d=0,c=0,f=.5;delete t.unknown;function M(){var m=e().length,A=r<a,p=A?r:a,y=A?a:r;s=(y-p)/Math.max(1,m-d+c*2),u&&(s=Math.floor(s)),p+=(y-p-s*(m-d))*f,l=s*(1-d),u&&(p=Math.round(p),l=Math.round(l));var E=Ei(m).map(function(v){return p+s*v});return i(A?E.reverse():E)}return t.domain=function(m){return arguments.length?(e(m),M()):e()},t.range=function(m){return arguments.length?([a,r]=m,a=+a,r=+r,M()):[a,r]},t.rangeRound=function(m){return[a,r]=m,a=+a,r=+r,u=!0,M()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(m){return arguments.length?(u=!!m,M()):u},t.padding=function(m){return arguments.length?(d=Math.min(1,c=+m),M()):d},t.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),M()):d},t.paddingOuter=function(m){return arguments.length?(c=+m,M()):c},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),M()):f},t.copy=function(){return w4(e(),[a,r]).round(u).paddingInner(d).paddingOuter(c).align(f)},zo.apply(M(),arguments)}function AS(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AS(e())},t}function UJ(){return AS(w4.apply(null,arguments).paddingInner(1))}function $J(t){return function(){return t}}function Z6(t){return+t}var fb=[0,1];function R0(t){return t}function t7(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:$J(isNaN(e)?NaN:.5)}function GJ(t,e){var i;return t>e&&(i=t,t=e,e=i),function(a){return Math.max(t,Math.min(e,a))}}function HJ(t,e,i){var a=t[0],r=t[1],s=e[0],l=e[1];return r<a?(a=t7(r,a),s=i(l,s)):(a=t7(a,r),s=i(s,l)),function(u){return s(a(u))}}function VJ(t,e,i){var a=Math.min(t.length,e.length)-1,r=new Array(a),s=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<a;)r[l]=t7(t[l],t[l+1]),s[l]=i(e[l],e[l+1]);return function(u){var d=c1(t,u,1,a)-1;return s[d](r[d](u))}}function M1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function O4(){var t=fb,e=fb,i=m1,a,r,s,l=R0,u,d,c;function f(){var m=Math.min(t.length,e.length);return l!==R0&&(l=GJ(t[0],t[m-1])),u=m>2?VJ:HJ,d=c=null,M}function M(m){return m==null||isNaN(m=+m)?s:(d||(d=u(t.map(a),e,i)))(a(l(m)))}return M.invert=function(m){return l(r((c||(c=u(e,t.map(a),Or)))(m)))},M.domain=function(m){return arguments.length?(t=Array.from(m,Z6),f()):t.slice()},M.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},M.rangeRound=function(m){return e=Array.from(m),i=Z7,f()},M.clamp=function(m){return arguments.length?(l=m?!0:R0,f()):l!==R0},M.interpolate=function(m){return arguments.length?(i=m,f()):i},M.unknown=function(m){return arguments.length?(s=m,M):s},function(m,A){return a=m,r=A,f()}}function yS(){return O4()(R0,R0)}function QJ(t,e,i,a){var r=_6(t,e,i),s;switch(a=xf(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(s=Jz(r,l))&&(a.precision=s),Fx(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=jz(r,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=zz(r))&&(a.precision=s-(a.type==="%")*2);break}}return Gd(a)}function A1(t){var e=t.domain;return t.ticks=function(i){var a=e();return pd(a[0],a[a.length-1],i??10)},t.tickFormat=function(i,a){var r=e();return QJ(r[0],r[r.length-1],i??10,a)},t.nice=function(i){i==null&&(i=10);var a=e(),r=0,s=a.length-1,l=a[r],u=a[s],d,c,f=10;for(u<l&&(c=l,l=u,u=c,c=r,r=s,s=c);f-- >0;){if(c=Gc(l,u,i),c===d)return a[r]=l,a[s]=u,e(a);if(c>0)l=Math.floor(l/c)*c,u=Math.ceil(u/c)*c;else if(c<0)l=Math.ceil(l*c)/c,u=Math.floor(u*c)/c;else break;d=c}return t},t}function y1(){var t=yS();return t.copy=function(){return M1(t,y1())},zo.apply(t,arguments),A1(t)}function vS(t){var e;function i(a){return a==null||isNaN(a=+a)?e:a}return i.invert=i,i.domain=i.range=function(a){return arguments.length?(t=Array.from(a,Z6),i):t.slice()},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return vS(t).unknown(e)},t=arguments.length?Array.from(t,Z6):[0,1],A1(i)}function bS(t,e){t=t.slice();var i=0,a=t.length-1,r=t[i],s=t[a],l;return s<r&&(l=i,i=a,a=l,l=r,r=s,s=l),t[i]=e.floor(r),t[a]=e.ceil(s),t}function mb(t){return Math.log(t)}function pb(t){return Math.exp(t)}function zJ(t){return-Math.log(-t)}function JJ(t){return-Math.exp(-t)}function jJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function WJ(t){return t===10?jJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function KJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gb(t){return(e,i)=>-t(-e,i)}function CS(t){const e=t(mb,pb),i=e.domain;let a=10,r,s;function l(){return r=KJ(a),s=WJ(a),i()[0]<0?(r=gb(r),s=gb(s),t(zJ,JJ)):t(mb,pb),e}return e.base=function(u){return arguments.length?(a=+u,l()):a},e.domain=function(u){return arguments.length?(i(u),l()):i()},e.ticks=u=>{const d=i();let c=d[0],f=d[d.length-1];const M=f<c;M&&([c,f]=[f,c]);let m=r(c),A=r(f),p,y;const E=u==null?10:+u;let v=[];if(!(a%1)&&A-m<E){if(m=Math.floor(m),A=Math.ceil(A),c>0){for(;m<=A;++m)for(p=1;p<a;++p)if(y=m<0?p/s(-m):p*s(m),!(y<c)){if(y>f)break;v.push(y)}}else for(;m<=A;++m)for(p=a-1;p>=1;--p)if(y=m>0?p/s(-m):p*s(m),!(y<c)){if(y>f)break;v.push(y)}v.length*2<E&&(v=pd(c,f,E))}else v=pd(m,A,Math.min(A-m,E)).map(s);return M?v.reverse():v},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=xf(d)).precision==null&&(d.trim=!0),d=Gd(d)),u===1/0)return d;const c=Math.max(1,a*u/e.ticks().length);return f=>{let M=f/s(Math.round(r(f)));return M*a<a-.5&&(M*=a),M<=c?d(f):""}},e.nice=()=>i(bS(i(),{floor:u=>s(Math.floor(r(u))),ceil:u=>s(Math.ceil(r(u)))})),e}function ES(){const t=CS(O4()).domain([1,10]);return t.copy=()=>M1(t,ES()).base(t.base()),zo.apply(t,arguments),t}function Mb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ab(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _S(t){var e=1,i=t(Mb(e),Ab(e));return i.constant=function(a){return arguments.length?t(Mb(e=+a),Ab(e)):e},A1(i)}function wS(){var t=_S(O4());return t.copy=function(){return M1(t,wS()).constant(t.constant())},zo.apply(t,arguments)}function yb(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function XJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function YJ(t){return t<0?-t*t:t*t}function OS(t){var e=t(R0,R0),i=1;function a(){return i===1?t(R0,R0):i===.5?t(XJ,YJ):t(yb(i),yb(1/i))}return e.exponent=function(r){return arguments.length?(i=+r,a()):i},A1(e)}function xS(){var t=OS(O4());return t.copy=function(){return M1(t,xS()).exponent(t.exponent())},zo.apply(t,arguments),t}function SS(){var t=[],e=[],i=[],a;function r(){var l=0,u=Math.max(1,e.length);for(i=new Array(u-1);++l<u;)i[l-1]=JG(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?a:e[c1(i,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?i[u-1]:t[0],u<i.length?i[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(yr),r()},s.range=function(l){return arguments.length?(e=Array.from(l),r()):e.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.quantiles=function(){return i.slice()},s.copy=function(){return SS().domain(t).range(e).unknown(a)},zo.apply(s,arguments)}function TS(){var t=[.5],e=[0,1],i,a=1;function r(s){return s!=null&&s<=s?e[c1(t,s,0,a)]:i}return r.domain=function(s){return arguments.length?(t=Array.from(s),a=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),a=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return TS().domain(t).range(e).unknown(i)},zo.apply(r,arguments)}const T5=new Date,I5=new Date;function Xa(t,e,i,a){function r(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(t(s=new Date(+s)),s),r.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),r.round=s=>{const l=r(s),u=r.ceil(s);return s-l<u-s?l:u},r.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),r.range=(s,l,u)=>{const d=[];if(s=r.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let c;do d.push(c=new Date(+s)),e(s,u),t(s);while(c<s&&s<l);return d},r.filter=s=>Xa(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),i&&(r.count=(s,l)=>(T5.setTime(+s),I5.setTime(+l),t(T5),t(I5),Math.floor(i(T5,I5))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(a?l=>a(l)%s===0:l=>r.count(0,l)%s===0):r)),r}const N3=Xa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);N3.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xa(e=>{e.setTime(Math.floor(e/t)*t)},(e,i)=>{e.setTime(+e+i*t)},(e,i)=>(i-e)/t):N3);N3.range;const _s=1e3,D0=_s*60,ws=D0*60,Ds=ws*24,ug=Ds*7,vb=Ds*30,B5=Ds*365,q0=Xa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCSeconds());q0.range;const v1=Xa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s)},(t,e)=>{t.setTime(+t+e*D0)},(t,e)=>(e-t)/D0,t=>t.getMinutes());v1.range;const b1=Xa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*D0)},(t,e)=>(e-t)/D0,t=>t.getUTCMinutes());b1.range;const C1=Xa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s-t.getMinutes()*D0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getHours());C1.range;const E1=Xa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCHours());E1.range;const Kc=Xa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*D0)/Ds,t=>t.getDate()-1);Kc.range;const x4=Xa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ds,t=>t.getUTCDate()-1);x4.range;const S4=Xa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ds,t=>Math.floor(t/Ds));S4.range;function Xc(t){return Xa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,i)=>{e.setDate(e.getDate()+i*7)},(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*D0)/ug)}const _d=Xc(0),If=Xc(1),IS=Xc(2),BS=Xc(3),Jc=Xc(4),RS=Xc(5),DS=Xc(6);_d.range;If.range;IS.range;BS.range;Jc.range;RS.range;DS.range;function Yc(t){return Xa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i*7)},(e,i)=>(i-e)/ug)}const wd=Yc(0),Bf=Yc(1),PS=Yc(2),LS=Yc(3),jc=Yc(4),kS=Yc(5),NS=Yc(6);wd.range;Bf.range;PS.range;LS.range;jc.range;kS.range;NS.range;const _1=Xa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_1.range;const w1=Xa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());w1.range;const no=Xa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());no.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i*t)});no.range;const ao=Xa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)});ao.range;function FS(t,e,i,a,r,s){const l=[[q0,1,_s],[q0,5,5*_s],[q0,15,15*_s],[q0,30,30*_s],[s,1,D0],[s,5,5*D0],[s,15,15*D0],[s,30,30*D0],[r,1,ws],[r,3,3*ws],[r,6,6*ws],[r,12,12*ws],[a,1,Ds],[a,2,2*Ds],[i,1,ug],[e,1,vb],[e,3,3*vb],[t,1,B5]];function u(c,f,M){const m=f<c;m&&([c,f]=[f,c]);const A=M&&typeof M.range=="function"?M:d(c,f,M),p=A?A.range(c,+f+1):[];return m?p.reverse():p}function d(c,f,M){const m=Math.abs(f-c)/M,A=d4(([,,E])=>E).right(l,m);if(A===l.length)return t.every(_6(c/B5,f/B5,M));if(A===0)return N3.every(Math.max(_6(c,f,M),1));const[p,y]=l[m/l[A-1][2]<l[A][2]/m?A-1:A];return p.every(y)}return[u,d]}const[qJ,US]=FS(ao,w1,wd,S4,E1,b1),[ZJ,tj]=FS(no,_1,_d,Kc,C1,v1);function R5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function D5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kh(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function ej(t){var e=t.dateTime,i=t.date,a=t.time,r=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,c=Nh(r),f=Fh(r),M=Nh(s),m=Fh(s),A=Nh(l),p=Fh(l),y=Nh(u),E=Fh(u),v=Nh(d),w=Fh(d),x={a:J,A:Q,b:G,B:z,c:null,d:Ob,e:Ob,f:_j,g:Pj,G:kj,H:bj,I:Cj,j:Ej,L:$S,m:wj,M:Oj,p:j,q:nt,Q:Tb,s:Ib,S:xj,u:Sj,U:Tj,V:Ij,w:Bj,W:Rj,x:null,X:null,y:Dj,Y:Lj,Z:Nj,"%":Sb},b={a:tt,A:ht,b:pt,B:gt,c:null,d:xb,e:xb,f:Gj,g:Yj,G:Zj,H:Fj,I:Uj,j:$j,L:HS,m:Hj,M:Vj,p:Tt,q:vt,Q:Tb,s:Ib,S:Qj,u:zj,U:Jj,V:jj,w:Wj,W:Kj,x:null,X:null,y:Xj,Y:qj,Z:tW,"%":Sb},O={a:L,A:k,b:N,B:$,c:H,d:_b,e:_b,f:Mj,g:Eb,G:Cb,H:wb,I:wb,j:fj,L:gj,m:hj,M:mj,p:P,q:dj,Q:yj,s:vj,S:pj,u:oj,U:sj,V:lj,w:rj,W:cj,x:U,X:W,y:Eb,Y:Cb,Z:uj,"%":Aj};x.x=S(i,x),x.X=S(a,x),x.c=S(e,x),b.x=S(i,b),b.X=S(a,b),b.c=S(e,b);function S(Ot,ft){return function(St){var Mt=[],Pt=-1,Vt=0,ie=Ot.length,jt,Wt,me;for(St instanceof Date||(St=new Date(+St));++Pt<ie;)Ot.charCodeAt(Pt)===37&&(Mt.push(Ot.slice(Vt,Pt)),(Wt=bb[jt=Ot.charAt(++Pt)])!=null?jt=Ot.charAt(++Pt):Wt=jt==="e"?" ":"0",(me=ft[jt])&&(jt=me(St,Wt)),Mt.push(jt),Vt=Pt+1);return Mt.push(Ot.slice(Vt,Pt)),Mt.join("")}}function R(Ot,ft){return function(St){var Mt=kh(1900,void 0,1),Pt=I(Mt,Ot,St+="",0),Vt,ie;if(Pt!=St.length)return null;if("Q"in Mt)return new Date(Mt.Q);if("s"in Mt)return new Date(Mt.s*1e3+("L"in Mt?Mt.L:0));if(ft&&!("Z"in Mt)&&(Mt.Z=0),"p"in Mt&&(Mt.H=Mt.H%12+Mt.p*12),Mt.m===void 0&&(Mt.m="q"in Mt?Mt.q:0),"V"in Mt){if(Mt.V<1||Mt.V>53)return null;"w"in Mt||(Mt.w=1),"Z"in Mt?(Vt=D5(kh(Mt.y,0,1)),ie=Vt.getUTCDay(),Vt=ie>4||ie===0?Bf.ceil(Vt):Bf(Vt),Vt=x4.offset(Vt,(Mt.V-1)*7),Mt.y=Vt.getUTCFullYear(),Mt.m=Vt.getUTCMonth(),Mt.d=Vt.getUTCDate()+(Mt.w+6)%7):(Vt=R5(kh(Mt.y,0,1)),ie=Vt.getDay(),Vt=ie>4||ie===0?If.ceil(Vt):If(Vt),Vt=Kc.offset(Vt,(Mt.V-1)*7),Mt.y=Vt.getFullYear(),Mt.m=Vt.getMonth(),Mt.d=Vt.getDate()+(Mt.w+6)%7)}else("W"in Mt||"U"in Mt)&&("w"in Mt||(Mt.w="u"in Mt?Mt.u%7:"W"in Mt?1:0),ie="Z"in Mt?D5(kh(Mt.y,0,1)).getUTCDay():R5(kh(Mt.y,0,1)).getDay(),Mt.m=0,Mt.d="W"in Mt?(Mt.w+6)%7+Mt.W*7-(ie+5)%7:Mt.w+Mt.U*7-(ie+6)%7);return"Z"in Mt?(Mt.H+=Mt.Z/100|0,Mt.M+=Mt.Z%100,D5(Mt)):R5(Mt)}}function I(Ot,ft,St,Mt){for(var Pt=0,Vt=ft.length,ie=St.length,jt,Wt;Pt<Vt;){if(Mt>=ie)return-1;if(jt=ft.charCodeAt(Pt++),jt===37){if(jt=ft.charAt(Pt++),Wt=O[jt in bb?ft.charAt(Pt++):jt],!Wt||(Mt=Wt(Ot,St,Mt))<0)return-1}else if(jt!=St.charCodeAt(Mt++))return-1}return Mt}function P(Ot,ft,St){var Mt=c.exec(ft.slice(St));return Mt?(Ot.p=f.get(Mt[0].toLowerCase()),St+Mt[0].length):-1}function L(Ot,ft,St){var Mt=A.exec(ft.slice(St));return Mt?(Ot.w=p.get(Mt[0].toLowerCase()),St+Mt[0].length):-1}function k(Ot,ft,St){var Mt=M.exec(ft.slice(St));return Mt?(Ot.w=m.get(Mt[0].toLowerCase()),St+Mt[0].length):-1}function N(Ot,ft,St){var Mt=v.exec(ft.slice(St));return Mt?(Ot.m=w.get(Mt[0].toLowerCase()),St+Mt[0].length):-1}function $(Ot,ft,St){var Mt=y.exec(ft.slice(St));return Mt?(Ot.m=E.get(Mt[0].toLowerCase()),St+Mt[0].length):-1}function H(Ot,ft,St){return I(Ot,e,ft,St)}function U(Ot,ft,St){return I(Ot,i,ft,St)}function W(Ot,ft,St){return I(Ot,a,ft,St)}function J(Ot){return l[Ot.getDay()]}function Q(Ot){return s[Ot.getDay()]}function G(Ot){return d[Ot.getMonth()]}function z(Ot){return u[Ot.getMonth()]}function j(Ot){return r[+(Ot.getHours()>=12)]}function nt(Ot){return 1+~~(Ot.getMonth()/3)}function tt(Ot){return l[Ot.getUTCDay()]}function ht(Ot){return s[Ot.getUTCDay()]}function pt(Ot){return d[Ot.getUTCMonth()]}function gt(Ot){return u[Ot.getUTCMonth()]}function Tt(Ot){return r[+(Ot.getUTCHours()>=12)]}function vt(Ot){return 1+~~(Ot.getUTCMonth()/3)}return{format:function(Ot){var ft=S(Ot+="",x);return ft.toString=function(){return Ot},ft},parse:function(Ot){var ft=R(Ot+="",!1);return ft.toString=function(){return Ot},ft},utcFormat:function(Ot){var ft=S(Ot+="",b);return ft.toString=function(){return Ot},ft},utcParse:function(Ot){var ft=R(Ot+="",!0);return ft.toString=function(){return Ot},ft}}}var bb={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,ij=/^%/,nj=/[\\^$*+?|[\]().{}]/g;function S9(t,e,i){var a=t<0?"-":"",r=(a?-t:t)+"",s=r.length;return a+(s<i?new Array(i-s+1).join(e)+r:r)}function aj(t){return t.replace(nj,"\\$&")}function Nh(t){return new RegExp("^(?:"+t.map(aj).join("|")+")","i")}function Fh(t){return new Map(t.map((e,i)=>[e.toLowerCase(),i]))}function rj(t,e,i){var a=dr.exec(e.slice(i,i+1));return a?(t.w=+a[0],i+a[0].length):-1}function oj(t,e,i){var a=dr.exec(e.slice(i,i+1));return a?(t.u=+a[0],i+a[0].length):-1}function sj(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.U=+a[0],i+a[0].length):-1}function lj(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.V=+a[0],i+a[0].length):-1}function cj(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.W=+a[0],i+a[0].length):-1}function Cb(t,e,i){var a=dr.exec(e.slice(i,i+4));return a?(t.y=+a[0],i+a[0].length):-1}function Eb(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),i+a[0].length):-1}function uj(t,e,i){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),i+a[0].length):-1}function dj(t,e,i){var a=dr.exec(e.slice(i,i+1));return a?(t.q=a[0]*3-3,i+a[0].length):-1}function hj(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.m=a[0]-1,i+a[0].length):-1}function _b(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.d=+a[0],i+a[0].length):-1}function fj(t,e,i){var a=dr.exec(e.slice(i,i+3));return a?(t.m=0,t.d=+a[0],i+a[0].length):-1}function wb(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.H=+a[0],i+a[0].length):-1}function mj(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.M=+a[0],i+a[0].length):-1}function pj(t,e,i){var a=dr.exec(e.slice(i,i+2));return a?(t.S=+a[0],i+a[0].length):-1}function gj(t,e,i){var a=dr.exec(e.slice(i,i+3));return a?(t.L=+a[0],i+a[0].length):-1}function Mj(t,e,i){var a=dr.exec(e.slice(i,i+6));return a?(t.L=Math.floor(a[0]/1e3),i+a[0].length):-1}function Aj(t,e,i){var a=ij.exec(e.slice(i,i+1));return a?i+a[0].length:-1}function yj(t,e,i){var a=dr.exec(e.slice(i));return a?(t.Q=+a[0],i+a[0].length):-1}function vj(t,e,i){var a=dr.exec(e.slice(i));return a?(t.s=+a[0],i+a[0].length):-1}function Ob(t,e){return S9(t.getDate(),e,2)}function bj(t,e){return S9(t.getHours(),e,2)}function Cj(t,e){return S9(t.getHours()%12||12,e,2)}function Ej(t,e){return S9(1+Kc.count(no(t),t),e,3)}function $S(t,e){return S9(t.getMilliseconds(),e,3)}function _j(t,e){return $S(t,e)+"000"}function wj(t,e){return S9(t.getMonth()+1,e,2)}function Oj(t,e){return S9(t.getMinutes(),e,2)}function xj(t,e){return S9(t.getSeconds(),e,2)}function Sj(t){var e=t.getDay();return e===0?7:e}function Tj(t,e){return S9(_d.count(no(t)-1,t),e,2)}function GS(t){var e=t.getDay();return e>=4||e===0?Jc(t):Jc.ceil(t)}function Ij(t,e){return t=GS(t),S9(Jc.count(no(t),t)+(no(t).getDay()===4),e,2)}function Bj(t){return t.getDay()}function Rj(t,e){return S9(If.count(no(t)-1,t),e,2)}function Dj(t,e){return S9(t.getFullYear()%100,e,2)}function Pj(t,e){return t=GS(t),S9(t.getFullYear()%100,e,2)}function Lj(t,e){return S9(t.getFullYear()%1e4,e,4)}function kj(t,e){var i=t.getDay();return t=i>=4||i===0?Jc(t):Jc.ceil(t),S9(t.getFullYear()%1e4,e,4)}function Nj(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+S9(e/60|0,"0",2)+S9(e%60,"0",2)}function xb(t,e){return S9(t.getUTCDate(),e,2)}function Fj(t,e){return S9(t.getUTCHours(),e,2)}function Uj(t,e){return S9(t.getUTCHours()%12||12,e,2)}function $j(t,e){return S9(1+x4.count(ao(t),t),e,3)}function HS(t,e){return S9(t.getUTCMilliseconds(),e,3)}function Gj(t,e){return HS(t,e)+"000"}function Hj(t,e){return S9(t.getUTCMonth()+1,e,2)}function Vj(t,e){return S9(t.getUTCMinutes(),e,2)}function Qj(t,e){return S9(t.getUTCSeconds(),e,2)}function zj(t){var e=t.getUTCDay();return e===0?7:e}function Jj(t,e){return S9(wd.count(ao(t)-1,t),e,2)}function VS(t){var e=t.getUTCDay();return e>=4||e===0?jc(t):jc.ceil(t)}function jj(t,e){return t=VS(t),S9(jc.count(ao(t),t)+(ao(t).getUTCDay()===4),e,2)}function Wj(t){return t.getUTCDay()}function Kj(t,e){return S9(Bf.count(ao(t)-1,t),e,2)}function Xj(t,e){return S9(t.getUTCFullYear()%100,e,2)}function Yj(t,e){return t=VS(t),S9(t.getUTCFullYear()%100,e,2)}function qj(t,e){return S9(t.getUTCFullYear()%1e4,e,4)}function Zj(t,e){var i=t.getUTCDay();return t=i>=4||i===0?jc(t):jc.ceil(t),S9(t.getUTCFullYear()%1e4,e,4)}function tW(){return"+0000"}function Sb(){return"%"}function Tb(t){return+t}function Ib(t){return Math.floor(+t/1e3)}var Fu,dg,O1;eW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eW(t){return Fu=ej(t),dg=Fu.format,Fu.parse,O1=Fu.utcFormat,Fu.utcParse,Fu}function iW(t){return new Date(t)}function nW(t){return t instanceof Date?+t:+new Date(+t)}function hg(t,e,i,a,r,s,l,u,d,c){var f=yS(),M=f.invert,m=f.domain,A=c(".%L"),p=c(":%S"),y=c("%I:%M"),E=c("%I %p"),v=c("%a %d"),w=c("%b %d"),x=c("%B"),b=c("%Y");function O(S){return(d(S)<S?A:u(S)<S?p:l(S)<S?y:s(S)<S?E:a(S)<S?r(S)<S?v:w:i(S)<S?x:b)(S)}return f.invert=function(S){return new Date(M(S))},f.domain=function(S){return arguments.length?m(Array.from(S,nW)):m().map(iW)},f.ticks=function(S){var R=m();return t(R[0],R[R.length-1],S??10)},f.tickFormat=function(S,R){return R==null?O:c(R)},f.nice=function(S){var R=m();return(!S||typeof S.range!="function")&&(S=e(R[0],R[R.length-1],S??10)),S?m(bS(R,S)):f},f.copy=function(){return M1(f,hg(t,e,i,a,r,s,l,u,d,c))},f}function aW(){return zo.apply(hg(ZJ,tj,no,_1,_d,Kc,C1,v1,q0,dg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rW(){return zo.apply(hg(qJ,US,ao,w1,wd,x4,E1,b1,q0,O1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function T4(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function I4(){var t=0,e=.5,i=1,a=1,r,s,l,u,d,c=R0,f,M=!1,m;function A(y){return isNaN(y=+y)?m:(y=.5+((y=+f(y))-s)*(a*y<a*s?u:d),c(M?Math.max(0,Math.min(1,y)):y))}A.domain=function(y){return arguments.length?([t,e,i]=y,r=f(t=+t),s=f(e=+e),l=f(i=+i),u=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),a=s<r?-1:1,A):[t,e,i]},A.clamp=function(y){return arguments.length?(M=!!y,A):M},A.interpolator=function(y){return arguments.length?(c=y,A):c};function p(y){return function(E){var v,w,x;return arguments.length?([v,w,x]=E,c=y4(y,[v,w,x]),A):[c(0),c(.5),c(1)]}}return A.range=p(m1),A.rangeRound=p(Z7),A.unknown=function(y){return arguments.length?(m=y,A):m},function(y){return f=y,r=y(t),s=y(e),l=y(i),u=r===s?0:.5/(s-r),d=s===l?0:.5/(l-s),a=s<r?-1:1,A}}function QS(){var t=A1(I4()(R0));return t.copy=function(){return T4(t,QS())},_4.apply(t,arguments)}function zS(){var t=CS(I4()).domain([.1,1,10]);return t.copy=function(){return T4(t,zS()).base(t.base())},_4.apply(t,arguments)}function JS(){var t=_S(I4());return t.copy=function(){return T4(t,JS()).constant(t.constant())},_4.apply(t,arguments)}function jS(){var t=OS(I4());return t.copy=function(){return T4(t,jS()).exponent(t.exponent())},_4.apply(t,arguments)}function Kn(t){for(var e=t.length/6|0,i=new Array(e),a=0;a<e;)i[a]="#"+t.slice(a*6,++a*6);return i}const oW=Kn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),sW=Kn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),lW=Kn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Z0=Kn("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),cW=Kn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),uW=Kn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),dW=Kn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),hW=Kn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),fW=Kn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),mW=Kn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Co=Kn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),X9=t=>oQ(t[t.length-1]);var WS=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Kn);const KS=X9(WS);var XS=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Kn);const YS=X9(XS);var qS=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Kn);const ZS=X9(qS);var tT=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Kn);const eT=X9(tT);var e7=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Kn);const F3=X9(e7);var iT=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Kn);const nT=X9(iT);var i7=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Kn);const U3=X9(i7);var aT=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Kn);const rT=X9(aT);var oT=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Kn);const sT=X9(oT);var lT=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Kn);const cT=X9(lT);var uT=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Kn);const dT=X9(uT);var hT=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Kn);const fT=X9(hT);var mT=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Kn);const pT=X9(mT);var gT=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Kn);const MT=X9(gT);var AT=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Kn);const yT=X9(AT);var vT=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Kn);const bT=X9(vT);var CT=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Kn);const ET=X9(CT);var _T=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Kn);const wT=X9(_T);var OT=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Kn);const xT=X9(OT);var ST=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Kn);const TT=X9(ST);var IT=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Kn);const BT=X9(IT);var RT=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Kn);const DT=X9(RT);var PT=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Kn);const LT=X9(PT);var kT=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Kn);const NT=X9(kT);var FT=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Kn);const UT=X9(FT);var $T=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Kn);const GT=X9($T);var HT=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Kn);const VT=X9(HT);function QT(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const zT=tg(Uo(300,.5,0),Uo(-240,.5,1));var JT=tg(Uo(-100,.75,.35),Uo(80,1.5,.8)),jT=tg(Uo(260,.75,.35),Uo(80,1.5,.8)),Bm=Uo();function WT(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Bm.h=360*t-100,Bm.s=1.5-1.5*e,Bm.l=.8-.9*e,Bm+""}var Rm=Il(),pW=Math.PI/3,gW=Math.PI*2/3;function KT(t){var e;return t=(.5-t)*Math.PI,Rm.r=255*(e=Math.sin(t))*e,Rm.g=255*(e=Math.sin(t+pW))*e,Rm.b=255*(e=Math.sin(t+gW))*e,Rm+""}function XT(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function B4(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}const YT=B4(Kn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var qT=B4(Kn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ZT=B4(Kn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),tI=B4(Kn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function or(t){return function(){return t}}const eI=Math.cos,fg=Math.min,$3=Math.sin,Ya=Math.sqrt,Bb=1e-12,G3=Math.PI,R4=2*G3;function iI(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const a=Math.floor(i);if(!(a>=0))throw new RangeError(`invalid digits: ${i}`);e=a}return t},()=>new kx(e)}function nI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aI(t){this._context=t}aI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function x1(t){return new aI(t)}function rI(t){return t[0]}function oI(t){return t[1]}function sI(t,e){var i=or(!0),a=null,r=x1,s=null,l=iI(u);t=typeof t=="function"?t:t===void 0?rI:or(t),e=typeof e=="function"?e:e===void 0?oI:or(e);function u(d){var c,f=(d=nI(d)).length,M,m=!1,A;for(a==null&&(s=r(A=l())),c=0;c<=f;++c)!(c<f&&i(M=d[c],c,d))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(M,c,d),+e(M,c,d));if(A)return s=null,A+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:or(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:or(+d),u):e},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:or(!!d),u):i},u.curve=function(d){return arguments.length?(r=d,a!=null&&(s=r(a)),u):r},u.context=function(d){return arguments.length?(d==null?a=s=null:s=r(a=d),u):a},u}function MW(t,e,i){var a=null,r=or(!0),s=null,l=x1,u=null,d=iI(c);t=typeof t=="function"?t:t===void 0?rI:or(+t),e=typeof e=="function"?e:or(e===void 0?0:+e),i=typeof i=="function"?i:i===void 0?oI:or(+i);function c(M){var m,A,p,y=(M=nI(M)).length,E,v=!1,w,x=new Array(y),b=new Array(y);for(s==null&&(u=l(w=d())),m=0;m<=y;++m){if(!(m<y&&r(E=M[m],m,M))===v)if(v=!v)A=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),p=m-1;p>=A;--p)u.point(x[p],b[p]);u.lineEnd(),u.areaEnd()}v&&(x[m]=+t(E,m,M),b[m]=+e(E,m,M),u.point(a?+a(E,m,M):x[m],i?+i(E,m,M):b[m]))}if(w)return u=null,w+""||null}function f(){return sI().defined(r).curve(l).context(s)}return c.x=function(M){return arguments.length?(t=typeof M=="function"?M:or(+M),a=null,c):t},c.x0=function(M){return arguments.length?(t=typeof M=="function"?M:or(+M),c):t},c.x1=function(M){return arguments.length?(a=M==null?null:typeof M=="function"?M:or(+M),c):a},c.y=function(M){return arguments.length?(e=typeof M=="function"?M:or(+M),i=null,c):e},c.y0=function(M){return arguments.length?(e=typeof M=="function"?M:or(+M),c):e},c.y1=function(M){return arguments.length?(i=M==null?null:typeof M=="function"?M:or(+M),c):i},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(i)},c.lineX1=function(){return f().x(a).y(e)},c.defined=function(M){return arguments.length?(r=typeof M=="function"?M:or(!!M),c):r},c.curve=function(M){return arguments.length?(l=M,s!=null&&(u=l(s)),c):l},c.context=function(M){return arguments.length?(M==null?s=u=null:u=l(s=M),c):s},c}class lI{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}function AW(t){return new lI(t,!0)}function yW(t){return new lI(t,!1)}const vW=Ya(3),cI={draw(t,e){const i=Ya(e+fg(e/28,.75))*.59436,a=i/2,r=a*vW;t.moveTo(0,i),t.lineTo(0,-i),t.moveTo(-r,-a),t.lineTo(r,a),t.moveTo(-r,a),t.lineTo(r,-a)}},Rf={draw(t,e){const i=Ya(e/G3);t.moveTo(i,0),t.arc(0,0,i,0,R4)}},uI={draw(t,e){const i=Ya(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},dI=Ya(1/3),bW=dI*2,hI={draw(t,e){const i=Ya(e/bW),a=i*dI;t.moveTo(0,-i),t.lineTo(a,0),t.lineTo(0,i),t.lineTo(-a,0),t.closePath()}},fI={draw(t,e){const i=Ya(e)*.62625;t.moveTo(0,-i),t.lineTo(i,0),t.lineTo(0,i),t.lineTo(-i,0),t.closePath()}},mI={draw(t,e){const i=Ya(e-fg(e/7,2))*.87559;t.moveTo(-i,0),t.lineTo(i,0),t.moveTo(0,i),t.lineTo(0,-i)}},pI={draw(t,e){const i=Ya(e),a=-i/2;t.rect(a,a,i,i)}},gI={draw(t,e){const i=Ya(e)*.4431;t.moveTo(i,i),t.lineTo(i,-i),t.lineTo(-i,-i),t.lineTo(-i,i),t.closePath()}},CW=.8908130915292852,MI=$3(G3/10)/$3(7*G3/10),EW=$3(R4/10)*MI,_W=-eI(R4/10)*MI,AI={draw(t,e){const i=Ya(e*CW),a=EW*i,r=_W*i;t.moveTo(0,-i),t.lineTo(a,r);for(let s=1;s<5;++s){const l=R4*s/5,u=eI(l),d=$3(l);t.lineTo(d*i,-u*i),t.lineTo(u*a-d*r,d*a+u*r)}t.closePath()}},P5=Ya(3),yI={draw(t,e){const i=-Ya(e/(P5*3));t.moveTo(0,i*2),t.lineTo(-P5*i,-i),t.lineTo(P5*i,-i),t.closePath()}},wW=Ya(3),vI={draw(t,e){const i=Ya(e)*.6824,a=i/2,r=i*wW/2;t.moveTo(0,-i),t.lineTo(r,a),t.lineTo(-r,a),t.closePath()}},w0=-.5,O0=Ya(3)/2,n7=1/Ya(12),OW=(n7/2+1)*3,bI={draw(t,e){const i=Ya(e/OW),a=i/2,r=i*n7,s=a,l=i*n7+i,u=-s,d=l;t.moveTo(a,r),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(w0*a-O0*r,O0*a+w0*r),t.lineTo(w0*s-O0*l,O0*s+w0*l),t.lineTo(w0*u-O0*d,O0*u+w0*d),t.lineTo(w0*a+O0*r,w0*r-O0*a),t.lineTo(w0*s+O0*l,w0*l-O0*s),t.lineTo(w0*u+O0*d,w0*d-O0*u),t.closePath()}},CI={draw(t,e){const i=Ya(e-fg(e/6,1.7))*.6189;t.moveTo(-i,-i),t.lineTo(i,i),t.moveTo(-i,i),t.lineTo(i,-i)}},xW=[Rf,uI,hI,pI,AI,yI,bI],SW=[Rf,mI,CI,vI,cI,gI,fI];function Bl(){}function H3(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function D4(t){this._context=t}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:H3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TW(t){return new D4(t)}function EI(t){this._context=t}EI.prototype={areaStart:Bl,areaEnd:Bl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:H3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IW(t){return new EI(t)}function _I(t){this._context=t}_I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 3:this._point=4;default:H3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BW(t){return new _I(t)}function wI(t,e){this._basis=new D4(t),this._beta=e}wI.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var a=t[0],r=e[0],s=t[i]-a,l=e[i]-r,u=-1,d;++u<=i;)d=u/i,this._basis.point(this._beta*t[u]+(1-this._beta)*(a+d*s),this._beta*e[u]+(1-this._beta)*(r+d*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const RW=function t(e){function i(a){return e===1?new D4(a):new wI(a,e)}return i.beta=function(a){return t(+a)},i}(.85);function V3(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function mg(t,e){this._context=t,this._k=(1-e)/6}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:V3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:V3(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const DW=function t(e){function i(a){return new mg(a,e)}return i.tension=function(a){return t(+a)},i}(0);function pg(t,e){this._context=t,this._k=(1-e)/6}pg.prototype={areaStart:Bl,areaEnd:Bl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:V3(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const PW=function t(e){function i(a){return new pg(a,e)}return i.tension=function(a){return t(+a)},i}(0);function gg(t,e){this._context=t,this._k=(1-e)/6}gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V3(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const LW=function t(e){function i(a){return new gg(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Mg(t,e,i){var a=t._x1,r=t._y1,s=t._x2,l=t._y2;if(t._l01_a>Bb){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,d=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/d,r=(r*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/d}if(t._l23_a>Bb){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/f,l=(l*c+t._y1*t._l23_2a-i*t._l12_2a)/f}t._context.bezierCurveTo(a,r,s,l,t._x2,t._y2)}function OI(t,e){this._context=t,this._alpha=e}OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Mg(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kW=function t(e){function i(a){return e?new OI(a,e):new mg(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function xI(t,e){this._context=t,this._alpha=e}xI.prototype={areaStart:Bl,areaEnd:Bl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mg(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const NW=function t(e){function i(a){return e?new xI(a,e):new pg(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function SI(t,e){this._context=t,this._alpha=e}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mg(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const FW=function t(e){function i(a){return e?new SI(a,e):new gg(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function TI(t){this._context=t}TI.prototype={areaStart:Bl,areaEnd:Bl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function UW(t){return new TI(t)}function Rb(t){return t<0?-1:1}function Db(t,e,i){var a=t._x1-t._x0,r=e-t._x1,s=(t._y1-t._y0)/(a||r<0&&-0),l=(i-t._y1)/(r||a<0&&-0),u=(s*r+l*a)/(a+r);return(Rb(s)+Rb(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function Pb(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function L5(t,e,i){var a=t._x0,r=t._y0,s=t._x1,l=t._y1,u=(s-a)/3;t._context.bezierCurveTo(a+u,r+u*e,s-u,l-u*i,s,l)}function Q3(t){this._context=t}Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L5(this,this._t0,Pb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,L5(this,Pb(this,i=Db(this,t,e)),i);break;default:L5(this,this._t0,i=Db(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function II(t){this._context=new BI(t)}(II.prototype=Object.create(Q3.prototype)).point=function(t,e){Q3.prototype.point.call(this,e,t)};function BI(t){this._context=t}BI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,a,r,s){this._context.bezierCurveTo(e,t,a,i,s,r)}};function $W(t){return new Q3(t)}function GW(t){return new II(t)}function RI(t){this._context=t}RI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var a=Lb(t),r=Lb(e),s=0,l=1;l<i;++s,++l)this._context.bezierCurveTo(a[0][s],r[0][s],a[1][s],r[1][s],t[l],e[l]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Lb(t){var e,i=t.length-1,a,r=new Array(i),s=new Array(i),l=new Array(i);for(r[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,s[i-1]=7,l[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)a=r[e]/s[e-1],s[e]-=a,l[e]-=a*l[e-1];for(r[i-1]=l[i-1]/s[i-1],e=i-2;e>=0;--e)r[e]=(l[e]-r[e+1])/s[e];for(s[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)s[e]=2*t[e+1]-r[e+1];return[r,s]}function HW(t){return new RI(t)}function P4(t,e){this._context=t,this._t=e}P4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function VW(t){return new P4(t,.5)}function QW(t){return new P4(t,0)}function zW(t){return new P4(t,1)}function qh(t,e,i){this.k=t,this.x=e,this.y=i}qh.prototype={constructor:qh,scale:function(t){return t===1?this:new qh(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qh.prototype;const DI=new Map,PI=new Map,JW=new Map,jW=new Map;function n3(t){return DI.get(t)}function L4(t){return PI.get(t)}function ul(t){const e=t%12;return e===1||e===3||e===6||e===8||e===10}const kb=new Map([["Cb","B"],["Db","C#"],["Eb","D#"],["Fb","E"],["Gb","F#"],["Ab","G#"],["Bb","A#"]]),M0=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ag=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Ps=[{pitch:0,name:"C",octave:-1,label:"C-1",frequency:8.176},{pitch:1,name:"C#",octave:-1,label:"C#-1",frequency:8.662},{pitch:2,name:"D",octave:-1,label:"D-1",frequency:9.177},{pitch:3,name:"D#",octave:-1,label:"D#-1",frequency:9.723},{pitch:4,name:"E",octave:-1,label:"E-1",frequency:10.301},{pitch:5,name:"F",octave:-1,label:"F-1",frequency:10.913},{pitch:6,name:"F#",octave:-1,label:"F#-1",frequency:11.562},{pitch:7,name:"G",octave:-1,label:"G-1",frequency:12.25},{pitch:8,name:"G#",octave:-1,label:"G#-1",frequency:12.978},{pitch:9,name:"A",octave:-1,label:"A-1",frequency:13.75},{pitch:10,name:"A#",octave:-1,label:"A#-1",frequency:14.568},{pitch:11,name:"B",octave:-1,label:"B-1",frequency:15.434},{pitch:12,name:"C",octave:0,label:"C0",frequency:16.352},{pitch:13,name:"C#",octave:0,label:"C#0",frequency:17.324},{pitch:14,name:"D",octave:0,label:"D0",frequency:18.354},{pitch:15,name:"D#",octave:0,label:"D#0",frequency:19.445},{pitch:16,name:"E",octave:0,label:"E0",frequency:20.602},{pitch:17,name:"F",octave:0,label:"F0",frequency:21.827},{pitch:18,name:"F#",octave:0,label:"F#0",frequency:23.125},{pitch:19,name:"G",octave:0,label:"G0",frequency:24.5},{pitch:20,name:"G#",octave:0,label:"G#0",frequency:25.957},{pitch:21,name:"A",octave:0,label:"A0",frequency:27.5},{pitch:22,name:"A#",octave:0,label:"A#0",frequency:29.135},{pitch:23,name:"B",octave:0,label:"B0",frequency:30.868},{pitch:24,name:"C",octave:1,label:"C1",frequency:32.703},{pitch:25,name:"C#",octave:1,label:"C#1",frequency:34.648},{pitch:26,name:"D",octave:1,label:"D1",frequency:36.708},{pitch:27,name:"D#",octave:1,label:"D#1",frequency:38.891},{pitch:28,name:"E",octave:1,label:"E1",frequency:41.203},{pitch:29,name:"F",octave:1,label:"F1",frequency:43.654},{pitch:30,name:"F#",octave:1,label:"F#1",frequency:46.249},{pitch:31,name:"G",octave:1,label:"G1",frequency:48.999},{pitch:32,name:"G#",octave:1,label:"G#1",frequency:51.913},{pitch:33,name:"A",octave:1,label:"A1",frequency:55},{pitch:34,name:"A#",octave:1,label:"A#1",frequency:58.27},{pitch:35,name:"B",octave:1,label:"B1",frequency:61.735},{pitch:36,name:"C",octave:2,label:"C2",frequency:65.406},{pitch:37,name:"C#",octave:2,label:"C#2",frequency:69.296},{pitch:38,name:"D",octave:2,label:"D2",frequency:73.416},{pitch:39,name:"D#",octave:2,label:"D#2",frequency:77.782},{pitch:40,name:"E",octave:2,label:"E2",frequency:82.407},{pitch:41,name:"F",octave:2,label:"F2",frequency:87.307},{pitch:42,name:"F#",octave:2,label:"F#2",frequency:92.499},{pitch:43,name:"G",octave:2,label:"G2",frequency:97.999},{pitch:44,name:"G#",octave:2,label:"G#2",frequency:103.826},{pitch:45,name:"A",octave:2,label:"A2",frequency:110},{pitch:46,name:"A#",octave:2,label:"A#2",frequency:116.541},{pitch:47,name:"B",octave:2,label:"B2",frequency:123.471},{pitch:48,name:"C",octave:3,label:"C3",frequency:130.813},{pitch:49,name:"C#",octave:3,label:"C#3",frequency:138.591},{pitch:50,name:"D",octave:3,label:"D3",frequency:146.832},{pitch:51,name:"D#",octave:3,label:"D#3",frequency:155.563},{pitch:52,name:"E",octave:3,label:"E3",frequency:164.814},{pitch:53,name:"F",octave:3,label:"F3",frequency:174.614},{pitch:54,name:"F#",octave:3,label:"F#3",frequency:184.997},{pitch:55,name:"G",octave:3,label:"G3",frequency:195.998},{pitch:56,name:"G#",octave:3,label:"G#3",frequency:207.652},{pitch:57,name:"A",octave:3,label:"A3",frequency:220},{pitch:58,name:"A#",octave:3,label:"A#3",frequency:233.082},{pitch:59,name:"B",octave:3,label:"B3",frequency:246.942},{pitch:60,name:"C",octave:4,label:"C4",frequency:261.626},{pitch:61,name:"C#",octave:4,label:"C#4",frequency:277.183},{pitch:62,name:"D",octave:4,label:"D4",frequency:293.665},{pitch:63,name:"D#",octave:4,label:"D#4",frequency:311.127},{pitch:64,name:"E",octave:4,label:"E4",frequency:329.628},{pitch:65,name:"F",octave:4,label:"F4",frequency:349.228},{pitch:66,name:"F#",octave:4,label:"F#4",frequency:369.994},{pitch:67,name:"G",octave:4,label:"G4",frequency:391.995},{pitch:68,name:"G#",octave:4,label:"G#4",frequency:415.305},{pitch:69,name:"A",octave:4,label:"A4",frequency:440},{pitch:70,name:"A#",octave:4,label:"A#4",frequency:466.164},{pitch:71,name:"B",octave:4,label:"B4",frequency:493.883},{pitch:72,name:"C",octave:5,label:"C5",frequency:523.251},{pitch:73,name:"C#",octave:5,label:"C#5",frequency:554.365},{pitch:74,name:"D",octave:5,label:"D5",frequency:587.33},{pitch:75,name:"D#",octave:5,label:"D#5",frequency:622.254},{pitch:76,name:"E",octave:5,label:"E5",frequency:659.255},{pitch:77,name:"F",octave:5,label:"F5",frequency:698.456},{pitch:78,name:"F#",octave:5,label:"F#5",frequency:739.989},{pitch:79,name:"G",octave:5,label:"G5",frequency:783.991},{pitch:80,name:"G#",octave:5,label:"G#5",frequency:830.609},{pitch:81,name:"A",octave:5,label:"A5",frequency:880},{pitch:82,name:"A#",octave:5,label:"A#5",frequency:932.328},{pitch:83,name:"B",octave:5,label:"B5",frequency:987.767},{pitch:84,name:"C",octave:6,label:"C6",frequency:1046.502},{pitch:85,name:"C#",octave:6,label:"C#6",frequency:1108.731},{pitch:86,name:"D",octave:6,label:"D6",frequency:1174.659},{pitch:87,name:"D#",octave:6,label:"D#6",frequency:1244.508},{pitch:88,name:"E",octave:6,label:"E6",frequency:1318.51},{pitch:89,name:"F",octave:6,label:"F6",frequency:1396.913},{pitch:90,name:"F#",octave:6,label:"F#6",frequency:1479.978},{pitch:91,name:"G",octave:6,label:"G6",frequency:1567.982},{pitch:92,name:"G#",octave:6,label:"G#6",frequency:1661.219},{pitch:93,name:"A",octave:6,label:"A6",frequency:1760},{pitch:94,name:"A#",octave:6,label:"A#6",frequency:1864.655},{pitch:95,name:"B",octave:6,label:"B6",frequency:1975.533},{pitch:96,name:"C",octave:7,label:"C7",frequency:2093.005},{pitch:97,name:"C#",octave:7,label:"C#7",frequency:2217.461},{pitch:98,name:"D",octave:7,label:"D7",frequency:2349.318},{pitch:99,name:"D#",octave:7,label:"D#7",frequency:2489.016},{pitch:100,name:"E",octave:7,label:"E7",frequency:2637.02},{pitch:101,name:"F",octave:7,label:"F7",frequency:2793.826},{pitch:102,name:"F#",octave:7,label:"F#7",frequency:2959.955},{pitch:103,name:"G",octave:7,label:"G7",frequency:3135.963},{pitch:104,name:"G#",octave:7,label:"G#7",frequency:3322.438},{pitch:105,name:"A",octave:7,label:"A7",frequency:3520},{pitch:106,name:"A#",octave:7,label:"A#7",frequency:3729.31},{pitch:107,name:"B",octave:7,label:"B7",frequency:3951.066},{pitch:108,name:"C",octave:8,label:"C8",frequency:4186.009},{pitch:109,name:"C#",octave:8,label:"C#8",frequency:4434.922},{pitch:110,name:"D",octave:8,label:"D8",frequency:4698.636},{pitch:111,name:"D#",octave:8,label:"D#8",frequency:4978.032},{pitch:112,name:"E",octave:8,label:"E8",frequency:5274.041},{pitch:113,name:"F",octave:8,label:"F8",frequency:5587.652},{pitch:114,name:"F#",octave:8,label:"F#8",frequency:5919.911},{pitch:115,name:"G",octave:8,label:"G8",frequency:6271.927},{pitch:116,name:"G#",octave:8,label:"G#8",frequency:6644.875},{pitch:117,name:"A",octave:8,label:"A8",frequency:7040},{pitch:118,name:"A#",octave:8,label:"A#8",frequency:7458.62},{pitch:119,name:"B",octave:8,label:"B8",frequency:7902.133},{pitch:120,name:"C",octave:9,label:"C9",frequency:8372.018},{pitch:121,name:"C#",octave:9,label:"C#9",frequency:8869.844},{pitch:122,name:"D",octave:9,label:"D9",frequency:9397.273},{pitch:123,name:"D#",octave:9,label:"D#9",frequency:9956.063},{pitch:124,name:"E",octave:9,label:"E9",frequency:10548.08},{pitch:125,name:"F",octave:9,label:"F9",frequency:11175.3},{pitch:126,name:"F#",octave:9,label:"F#9",frequency:11839.82},{pitch:127,name:"G",octave:9,label:"G9",frequency:12543.85}],WW=[{number:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,group:"Piano",label:"Bright Acoustic Piano"},{number:2,group:"Piano",label:"Electric Grand Piano"},{number:3,group:"Piano",label:"Honky-tonk Piano"},{number:4,group:"Piano",label:"Electric Piano 1"},{number:5,group:"Piano",label:"Electric Piano 2"},{number:6,group:"Piano",label:"Harpsichord"},{number:7,group:"Piano",label:"Clavinet"},{number:8,group:"Chromatic Percussion",label:"Celesta"},{number:9,group:"Chromatic Percussion",label:"Glockenspiel"},{number:10,group:"Chromatic Percussion",label:"Music Box"},{number:11,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,group:"Chromatic Percussion",label:"Marimba"},{number:13,group:"Chromatic Percussion",label:"Xylophone"},{number:14,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,group:"Chromatic Percussion",label:"Dulcimer"},{number:16,group:"Organ",label:"Drawbar Organ"},{number:17,group:"Organ",label:"Percussive Organ"},{number:18,group:"Organ",label:"Rock Organ"},{number:19,group:"Organ",label:"Church Organ"},{number:20,group:"Organ",label:"Reed Organ"},{number:21,group:"Organ",label:"Accordion"},{number:22,group:"Organ",label:"Harmonica"},{number:23,group:"Organ",label:"Tango Accordion"},{number:24,group:"Guitar",label:"Acoustic Guitar(nylon)"},{number:25,group:"Guitar",label:"Acoustic Guitar(steel)"},{number:26,group:"Guitar",label:"Electric Guitar(jazz)"},{number:27,group:"Guitar",label:"Electric Guitar(clean)"},{number:28,group:"Guitar",label:"Electric Guitar(muted)"},{number:29,group:"Guitar",label:"Overdriven Guitar"},{number:30,group:"Guitar",label:"Distortion Guitar"},{number:31,group:"Guitar",label:"Guitar harmonics"},{number:32,group:"Bass",label:"Acoustic Bass"},{number:33,group:"Bass",label:"Electric Bass(finger)"},{number:34,group:"Bass",label:"Electric Bass(pick)"},{number:35,group:"Bass",label:"Fretless Bass"},{number:36,group:"Bass",label:"Slap Bass 1"},{number:37,group:"Bass",label:"Slap Bass 2"},{number:38,group:"Bass",label:"Synth Bass 1"},{number:39,group:"Bass",label:"Synth Bass 2"},{number:40,group:"Strings",label:"Violin"},{number:41,group:"Strings",label:"Viola"},{number:42,group:"Strings",label:"Cello"},{number:43,group:"Strings",label:"Contrabass"},{number:44,group:"Strings",label:"Tremolo Strings"},{number:45,group:"Strings",label:"Pizzicato Strings"},{number:46,group:"Strings",label:"Orchestral Harp"},{number:47,group:"Strings",label:"Timpani"},{number:48,group:"Strings (continued)",label:"String Ensemble 1"},{number:49,group:"Strings (continued)",label:"String Ensemble 2"},{number:50,group:"Strings (continued)",label:"Synth Strings 1"},{number:51,group:"Strings (continued)",label:"Synth Strings 2"},{number:52,group:"Strings (continued)",label:"Choir Aahs"},{number:53,group:"Strings (continued)",label:"Voice Oohs"},{number:54,group:"Strings (continued)",label:"Synth Voice"},{number:55,group:"Strings (continued)",label:"Orchestra Hit"},{number:56,group:"Brass",label:"Trumpet"},{number:57,group:"Brass",label:"Trombone"},{number:58,group:"Brass",label:"Tuba"},{number:59,group:"Brass",label:"Muted Trumpet"},{number:60,group:"Brass",label:"French Horn"},{number:61,group:"Brass",label:"Brass Section"},{number:62,group:"Brass",label:"Synth Brass 1"},{number:63,group:"Brass",label:"Synth Brass 2"},{number:64,group:"Reed",label:"Soprano Sax"},{number:65,group:"Reed",label:"Alto Sax"},{number:66,group:"Reed",label:"Tenor Sax"},{number:67,group:"Reed",label:"Baritone Sax"},{number:68,group:"Reed",label:"Oboe"},{number:69,group:"Reed",label:"English Horn"},{number:70,group:"Reed",label:"Bassoon"},{number:71,group:"Reed",label:"Clarinet"},{number:72,group:"Pipe",label:"Piccolo"},{number:73,group:"Pipe",label:"Flute"},{number:74,group:"Pipe",label:"Recorder"},{number:75,group:"Pipe",label:"Pan Flute"},{number:76,group:"Pipe",label:"Blown Bottle"},{number:77,group:"Pipe",label:"Shakuhachi"},{number:78,group:"Pipe",label:"Whistle"},{number:79,group:"Pipe",label:"Ocarina"},{number:80,group:"Synth Lead",label:"Lead 1(square)"},{number:81,group:"Synth Lead",label:"Lead 2(sawtooth)"},{number:82,group:"Synth Lead",label:"Lead 3(calliope)"},{number:83,group:"Synth Lead",label:"Lead 4(chiff)"},{number:84,group:"Synth Lead",label:"Lead 5(charang)"},{number:85,group:"Synth Lead",label:"Lead 6(voice)"},{number:86,group:"Synth Lead",label:"Lead 7(fifths)"},{number:87,group:"Synth Lead",label:"Lead 8(bass + lead)"},{number:88,group:"Synth Pad",label:"Pad 1(new age)"},{number:89,group:"Synth Pad",label:"Pad 2(warm)"},{number:90,group:"Synth Pad",label:"Pad 3(polysynth)"},{number:91,group:"Synth Pad",label:"Pad 4(choir)"},{number:92,group:"Synth Pad",label:"Pad 5(bowed)"},{number:93,group:"Synth Pad",label:"Pad 6(metallic)"},{number:94,group:"Synth Pad",label:"Pad 7(halo)"},{number:95,group:"Synth Pad",label:"Pad 8(sweep)"},{number:96,group:"Synth Effects",label:"FX 1(rain)"},{number:97,group:"Synth Effects",label:"FX 2(soundtrack)"},{number:98,group:"Synth Effects",label:"FX 3(crystal)"},{number:99,group:"Synth Effects",label:"FX 4(atmosphere)"},{number:100,group:"Synth Effects",label:"FX 5(brightness)"},{number:101,group:"Synth Effects",label:"FX 6(goblins)"},{number:102,group:"Synth Effects",label:"FX 7(echoes)"},{number:103,group:"Synth Effects",label:"FX 8(sci-fi)"},{number:104,group:"Ethnic",label:"Sitar"},{number:105,group:"Ethnic",label:"Banjo"},{number:106,group:"Ethnic",label:"Shamisen"},{number:107,group:"Ethnic",label:"Koto"},{number:108,group:"Ethnic",label:"Kalimba"},{number:109,group:"Ethnic",label:"Bag pipe"},{number:110,group:"Ethnic",label:"Fiddle"},{number:111,group:"Ethnic",label:"Shanai"},{number:112,group:"Percussive",label:"Tinkle Bell"},{number:113,group:"Percussive",label:"Agogo"},{number:114,group:"Percussive",label:"Steel Drums"},{number:115,group:"Percussive",label:"Woodblock"},{number:116,group:"Percussive",label:"Taiko Drum"},{number:117,group:"Percussive",label:"Melodic Tom"},{number:118,group:"Percussive",label:"Synth Drum"},{number:119,group:"Sound Effects",label:"Reverse Cymbal"},{number:120,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,group:"Sound Effects",label:"Breath Noise"},{number:122,group:"Sound Effects",label:"Seashore"},{number:123,group:"Sound Effects",label:"Bird Tweet"},{number:124,group:"Sound Effects",label:"Telephone Ring"},{number:125,group:"Sound Effects",label:"Helicopter"},{number:126,group:"Sound Effects",label:"Applause"},{number:127,group:"Sound Effects",label:"Gunshot"}],KW=[{number:1,subnumber:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,subnumber:1,group:"Piano",label:"Wide Acoustic Grand"},{number:1,subnumber:2,group:"Piano",label:"Dark Acoustic Grand"},{number:2,subnumber:0,group:"Piano",label:"Bright Acoustic Piano"},{number:2,subnumber:1,group:"Piano",label:"Wide Bright Acoustic"},{number:3,subnumber:0,group:"Piano",label:"Electric Grand Piano"},{number:3,subnumber:1,group:"Piano",label:"Wide Electric Grand"},{number:4,subnumber:0,group:"Piano",label:"Honky-tonk Piano"},{number:4,subnumber:1,group:"Piano",label:"Wide Honky-tonk"},{number:5,subnumber:0,group:"Piano",label:"Rhodes Piano"},{number:5,subnumber:1,group:"Piano",label:"Detuned Electric Piano 1"},{number:5,subnumber:2,group:"Piano",label:"Electric Piano 1 Variation"},{number:5,subnumber:3,group:"Piano",label:"60's Electric Piano"},{number:6,subnumber:0,group:"Piano",label:"Chorused Electric Piano"},{number:6,subnumber:1,group:"Piano",label:"Detuned Electric Piano 2"},{number:6,subnumber:2,group:"Piano",label:"Electric Piano 2 Variation"},{number:6,subnumber:3,group:"Piano",label:"Electric Piano Legend"},{number:6,subnumber:4,group:"Piano",label:"Electric Piano Phase"},{number:7,subnumber:0,group:"Piano",label:"Harpsichord"},{number:7,subnumber:1,group:"Piano",label:"Coupled Harpsichord"},{number:7,subnumber:2,group:"Piano",label:"Wide Harpsichord"},{number:7,subnumber:3,group:"Piano",label:"Open Harpsichord"},{number:8,subnumber:0,group:"Piano",label:"Clavinet"},{number:8,subnumber:1,group:"Piano",label:"Pulse Clavinet"},{number:9,subnumber:0,group:"Chromatic Percussion",label:"Celesta"},{number:10,subnumber:0,group:"Chromatic Percussion",label:"Glockenspiel"},{number:11,subnumber:0,group:"Chromatic Percussion",label:"Music Box"},{number:12,subnumber:0,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,subnumber:1,group:"Chromatic Percussion",label:"Wet Vibraphone"},{number:13,subnumber:0,group:"Chromatic Percussion",label:"Marimba"},{number:13,subnumber:1,group:"Chromatic Percussion",label:"Wide Marimba"},{number:14,subnumber:0,group:"Chromatic Percussion",label:"Xylophone"},{number:15,subnumber:0,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,subnumber:1,group:"Chromatic Percussion",label:"Church Bells"},{number:15,subnumber:2,group:"Chromatic Percussion",label:"Carillon"},{number:16,subnumber:0,group:"Chromatic Percussion",label:"Dulcimer / Santur"},{number:17,subnumber:0,group:"Organ",label:"Hammond Organ"},{number:17,subnumber:1,group:"Organ",label:"Detuned Organ 1"},{number:17,subnumber:2,group:"Organ",label:"60's Organ 1"},{number:17,subnumber:3,group:"Organ",label:"Organ 4"},{number:18,subnumber:0,group:"Organ",label:"Percussive Organ"},{number:18,subnumber:1,group:"Organ",label:"Detuned Organ 2"},{number:18,subnumber:2,group:"Organ",label:"Organ 5"},{number:19,subnumber:0,group:"Organ",label:"Rock Organ"},{number:20,subnumber:0,group:"Organ",label:"Church Organ 1"},{number:20,subnumber:1,group:"Organ",label:"Church Organ 2"},{number:20,subnumber:2,group:"Organ",label:"Church Organ 3"},{number:21,subnumber:0,group:"Organ",label:"Reed Organ"},{number:21,subnumber:1,group:"Organ",label:"Puff Organ"},{number:22,subnumber:0,group:"Organ",label:"French Accordion"},{number:22,subnumber:1,group:"Organ",label:"Italian Accordion"},{number:23,subnumber:0,group:"Organ",label:"Harmonica"},{number:24,subnumber:0,group:"Organ",label:"Bandoneon"},{number:25,subnumber:0,group:"Guitar",label:"Nylon-String Guitar"},{number:25,subnumber:1,group:"Guitar",label:"Ukelele"},{number:25,subnumber:2,group:"Guitar",label:"Open Nylon Guitar"},{number:25,subnumber:3,group:"Guitar",label:"Nylon Guitar 2"},{number:26,subnumber:0,group:"Guitar",label:"Steel-String Guitar"},{number:26,subnumber:1,group:"Guitar",label:"12-String Guitar"},{number:26,subnumber:2,group:"Guitar",label:"Mandolin"},{number:26,subnumber:3,group:"Guitar",label:"Steel + Body"},{number:27,subnumber:0,group:"Guitar",label:"Jazz Guitar"},{number:27,subnumber:1,group:"Guitar",label:"Hawaiian Guitar"},{number:28,subnumber:0,group:"Guitar",label:"Clean Electric Guitar"},{number:28,subnumber:1,group:"Guitar",label:"Chorus Guitar"},{number:28,subnumber:2,group:"Guitar",label:"Mid Tone Guitar"},{number:29,subnumber:0,group:"Guitar",label:"Muted Electric Guitar"},{number:29,subnumber:1,group:"Guitar",label:"Funk Guitar"},{number:29,subnumber:2,group:"Guitar",label:"Funk Guitar 2"},{number:29,subnumber:3,group:"Guitar",label:"Jazz Man"},{number:30,subnumber:0,group:"Guitar",label:"Overdriven Guitar"},{number:30,subnumber:1,group:"Guitar",label:"Guitar Pinch"},{number:31,subnumber:0,group:"Guitar",label:"Distortion Guitar"},{number:31,subnumber:1,group:"Guitar",label:"Feedback Guitar"},{number:31,subnumber:2,group:"Guitar",label:"Distortion Rtm Guitar"},{number:32,subnumber:0,group:"Guitar",label:"Guitar Harmonics"},{number:32,subnumber:1,group:"Guitar",label:"Guitar Feedback"},{number:33,subnumber:0,group:"Bass",label:"Acoustic Bass"},{number:34,subnumber:0,group:"Bass",label:"Fingered Bass"},{number:34,subnumber:1,group:"Bass",label:"Finger Slap"},{number:35,subnumber:0,group:"Bass",label:"Picked Bass"},{number:36,subnumber:0,group:"Bass",label:"Fretless Bass"},{number:37,subnumber:0,group:"Bass",label:"Slap Bass 1"},{number:38,subnumber:0,group:"Bass",label:"Slap Bass 2"},{number:39,subnumber:0,group:"Bass",label:"Synth Bass 1"},{number:39,subnumber:1,group:"Bass",label:"Synth Bass 101"},{number:39,subnumber:2,group:"Bass",label:"Synth Bass 3"},{number:39,subnumber:3,group:"Bass",label:"Clavi Bass"},{number:39,subnumber:4,group:"Bass",label:"Hammer"},{number:40,subnumber:0,group:"Bass",label:"Synth Bass 2"},{number:40,subnumber:1,group:"Bass",label:"Synth Bass 4"},{number:40,subnumber:2,group:"Bass",label:"Rubber Bass"},{number:40,subnumber:3,group:"Bass",label:"Attack Pulse"},{number:41,subnumber:0,group:"Strings",label:"Violin"},{number:41,subnumber:1,group:"Strings",label:"Slow Violin"},{number:42,subnumber:0,group:"Strings",label:"Viola"},{number:43,subnumber:0,group:"Strings",label:"Cello"},{number:44,subnumber:0,group:"Strings",label:"Contrabass"},{number:45,subnumber:0,group:"Strings",label:"Tremolo Strings"},{number:46,subnumber:0,group:"Strings",label:"Pizzicato Strings"},{number:47,subnumber:0,group:"Strings",label:"Harp"},{number:47,subnumber:1,group:"Strings",label:"Yang Qin"},{number:48,subnumber:0,group:"Strings",label:"Timpani"},{number:49,subnumber:0,group:"Orchestral Ensemble",label:"String Ensemble"},{number:49,subnumber:1,group:"Orchestral Ensemble",label:"Orchestra Strings"},{number:49,subnumber:2,group:"Orchestral Ensemble",label:"60's Strings"},{number:50,subnumber:0,group:"Orchestral Ensemble",label:"Slow String Ensemble"},{number:51,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 1"},{number:51,subnumber:1,group:"Orchestral Ensemble",label:"Synth Strings 3"},{number:52,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 2"},{number:53,subnumber:0,group:"Orchestral Ensemble",label:"Choir Aahs"},{number:53,subnumber:1,group:"Orchestral Ensemble",label:"Choir Aahs 2"},{number:54,subnumber:0,group:"Orchestral Ensemble",label:"Voice Oohs"},{number:54,subnumber:1,group:"Orchestral Ensemble",label:"Humming"},{number:55,subnumber:0,group:"Orchestral Ensemble",label:"Synth Voice"},{number:55,subnumber:1,group:"Orchestral Ensemble",label:"Analog Voice"},{number:56,subnumber:0,group:"Orchestral Ensemble",label:"Orchestra Hit"},{number:56,subnumber:1,group:"Orchestral Ensemble",label:"Bass Hit"},{number:56,subnumber:2,group:"Orchestral Ensemble",label:"6th Hit"},{number:56,subnumber:3,group:"Orchestral Ensemble",label:"Euro Hit"},{number:57,subnumber:0,group:"Brass",label:"Trumpet"},{number:57,subnumber:1,group:"Brass",label:"Dark Trumpet"},{number:58,subnumber:0,group:"Brass",label:"Trombone"},{number:58,subnumber:1,group:"Brass",label:"Trombone 2"},{number:58,subnumber:2,group:"Brass",label:"Bright Trombone"},{number:59,subnumber:0,group:"Brass",label:"Tuba"},{number:60,subnumber:0,group:"Brass",label:"Muted Trumpet"},{number:60,subnumber:1,group:"Brass",label:"Muted Trumpet 2"},{number:61,subnumber:0,group:"Brass",label:"French Horn"},{number:61,subnumber:1,group:"Brass",label:"French Horn 2"},{number:62,subnumber:0,group:"Brass",label:"Brass Section"},{number:62,subnumber:1,group:"Brass",label:"Brass Section"},{number:63,subnumber:0,group:"Brass",label:"Synth Brass 1"},{number:63,subnumber:1,group:"Brass",label:"Synth Brass 3"},{number:63,subnumber:2,group:"Brass",label:"Analog Brass 1"},{number:63,subnumber:3,group:"Brass",label:"Jump Brass"},{number:64,subnumber:0,group:"Brass",label:"Synth Brass 2"},{number:64,subnumber:1,group:"Brass",label:"Synth Brass 4"},{number:64,subnumber:2,group:"Brass",label:"Analog Brass 2"},{number:65,subnumber:0,group:"Reed",label:"Soprano Sax"},{number:66,subnumber:0,group:"Reed",label:"Alto Sax"},{number:67,subnumber:0,group:"Reed",label:"Tenor Sax"},{number:68,subnumber:0,group:"Reed",label:"Baritone Sax"},{number:69,subnumber:0,group:"Reed",label:"Oboe"},{number:70,subnumber:0,group:"Reed",label:"English Horn"},{number:71,subnumber:0,group:"Reed",label:"Bassoon"},{number:72,subnumber:0,group:"Reed",label:"Clarinet"},{number:73,subnumber:0,group:"Wind",label:"Piccolo"},{number:74,subnumber:0,group:"Wind",label:"Flute"},{number:75,subnumber:0,group:"Wind",label:"Recorder"},{number:76,subnumber:0,group:"Wind",label:"Pan Flute"},{number:77,subnumber:0,group:"Wind",label:"Blown Bottle"},{number:78,subnumber:0,group:"Wind",label:"Shakuhachi"},{number:79,subnumber:0,group:"Wind",label:"Whistle"},{number:80,subnumber:0,group:"Wind",label:"Ocarina"},{number:81,subnumber:0,group:"Lead",label:"Square Lead"},{number:81,subnumber:1,group:"Lead",label:"Square Wave"},{number:81,subnumber:2,group:"Lead",label:"Sine Wave"},{number:82,subnumber:0,group:"Lead",label:"Saw Lead"},{number:82,subnumber:1,group:"Lead",label:"Saw Wave"},{number:82,subnumber:2,group:"Lead",label:"Doctor Solo"},{number:82,subnumber:3,group:"Lead",label:"Natural Lead"},{number:82,subnumber:4,group:"Lead",label:"Sequenced Saw"},{number:83,subnumber:0,group:"Lead",label:"Synth Calliope"},{number:84,subnumber:0,group:"Lead",label:"Chiffer Lead"},{number:85,subnumber:0,group:"Lead",label:"Charang"},{number:85,subnumber:1,group:"Lead",label:"Wire Lead"},{number:86,subnumber:0,group:"Lead",label:"Solo Synth Vox"},{number:87,subnumber:0,group:"Lead",label:"5th Saw Wave"},{number:88,subnumber:0,group:"Lead",label:"Bass & Lead"},{number:88,subnumber:1,group:"Lead",label:"Delayed Lead"},{number:89,subnumber:0,group:"Synth Pad",label:"Fantasia Pad"},{number:90,subnumber:0,group:"Synth Pad",label:"Warm Pad"},{number:90,subnumber:1,group:"Synth Pad",label:"Sine Pad"},{number:91,subnumber:0,group:"Synth Pad",label:"Polysynth Pad"},{number:92,subnumber:0,group:"Synth Pad",label:"Space Voice Pad"},{number:92,subnumber:1,group:"Synth Pad",label:"Itopia"},{number:93,subnumber:0,group:"Synth Pad",label:"Bowed Glass Pad"},{number:94,subnumber:0,group:"Synth Pad",label:"Metal Pad"},{number:95,subnumber:0,group:"Synth Pad",label:"Halo Pad"},{number:96,subnumber:0,group:"Synth Pad",label:"Sweep Pad"},{number:97,subnumber:0,group:"Synth Effects",label:"Ice Rain"},{number:98,subnumber:0,group:"Synth Effects",label:"Soundtrack"},{number:99,subnumber:0,group:"Synth Effects",label:"Crystal"},{number:99,subnumber:1,group:"Synth Effects",label:"Synth Mallet"},{number:100,subnumber:0,group:"Synth Effects",label:"Atmosphere"},{number:101,subnumber:0,group:"Synth Effects",label:"Brightness"},{number:102,subnumber:0,group:"Synth Effects",label:"Goblin"},{number:103,subnumber:0,group:"Synth Effects",label:"Echo Drops"},{number:103,subnumber:1,group:"Synth Effects",label:"Echo Bell"},{number:103,subnumber:2,group:"Synth Effects",label:"Echo Pan"},{number:104,subnumber:0,group:"Synth Effects",label:"Star Theme"},{number:105,subnumber:0,group:"Ethnic",label:"Sitar"},{number:105,subnumber:1,group:"Ethnic",label:"Sitar 2"},{number:106,subnumber:0,group:"Ethnic",label:"Banjo"},{number:107,subnumber:0,group:"Ethnic",label:"Shamisen"},{number:108,subnumber:0,group:"Ethnic",label:"Koto"},{number:108,subnumber:1,group:"Ethnic",label:"Taisho Koto"},{number:109,subnumber:0,group:"Ethnic",label:"Kalimba"},{number:110,subnumber:0,group:"Ethnic",label:"Bagpipe"},{number:111,subnumber:0,group:"Ethnic",label:"Fiddle"},{number:112,subnumber:0,group:"Ethnic",label:"Shanai"},{number:113,subnumber:0,group:"Percussive",label:"Tinkle Bell"},{number:114,subnumber:0,group:"Percussive",label:"Agogo"},{number:115,subnumber:0,group:"Percussive",label:"Steel Drums"},{number:116,subnumber:0,group:"Percussive",label:"Woodblock"},{number:116,subnumber:1,group:"Percussive",label:"Castanets"},{number:117,subnumber:0,group:"Percussive",label:"Taiko Drum"},{number:117,subnumber:1,group:"Percussive",label:"Concert Bass Drum"},{number:118,subnumber:0,group:"Percussive",label:"Melodic Tom 1"},{number:118,subnumber:1,group:"Percussive",label:"Melodic Tom 2"},{number:119,subnumber:0,group:"Percussive",label:"Synth Drum"},{number:119,subnumber:1,group:"Percussive",label:"808 Tom"},{number:119,subnumber:2,group:"Percussive",label:"Electric Percussion"},{number:120,subnumber:0,group:"Percussive",label:"Reverse Cymbal"},{number:121,subnumber:0,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,subnumber:1,group:"Sound Effects",label:"Guitar Cut Noise"},{number:121,subnumber:2,group:"Sound Effects",label:"String Slap"},{number:122,subnumber:0,group:"Sound Effects",label:"Breath Noise"},{number:122,subnumber:1,group:"Sound Effects",label:"Flute Key Click"},{number:123,subnumber:0,group:"Sound Effects",label:"Seashore"},{number:123,subnumber:1,group:"Sound Effects",label:"Rain"},{number:123,subnumber:2,group:"Sound Effects",label:"Thunder"},{number:123,subnumber:3,group:"Sound Effects",label:"Wind"},{number:123,subnumber:4,group:"Sound Effects",label:"Stream"},{number:123,subnumber:5,group:"Sound Effects",label:"Bubble"},{number:124,subnumber:0,group:"Sound Effects",label:"Bird Tweet"},{number:124,subnumber:1,group:"Sound Effects",label:"Dog"},{number:124,subnumber:2,group:"Sound Effects",label:"Horse Gallop"},{number:124,subnumber:3,group:"Sound Effects",label:"Bird 2"},{number:125,subnumber:0,group:"Sound Effects",label:"Telephone 1"},{number:125,subnumber:1,group:"Sound Effects",label:"Telephone 2"},{number:125,subnumber:2,group:"Sound Effects",label:"Door Creaking"},{number:125,subnumber:3,group:"Sound Effects",label:"Door Closing"},{number:125,subnumber:4,group:"Sound Effects",label:"Scratch"},{number:125,subnumber:5,group:"Sound Effects",label:"Wind Chimes"},{number:126,subnumber:0,group:"Sound Effects",label:"Helicopter"},{number:126,subnumber:1,group:"Sound Effects",label:"Car Engine"},{number:126,subnumber:2,group:"Sound Effects",label:"Car Stop"},{number:126,subnumber:3,group:"Sound Effects",label:"Car Pass"},{number:126,subnumber:4,group:"Sound Effects",label:"Car Crash"},{number:126,subnumber:5,group:"Sound Effects",label:"Siren"},{number:126,subnumber:6,group:"Sound Effects",label:"Train"},{number:126,subnumber:7,group:"Sound Effects",label:"Jetplane"},{number:126,subnumber:8,group:"Sound Effects",label:"Starship"},{number:126,subnumber:9,group:"Sound Effects",label:"Burst Noise"},{number:127,subnumber:0,group:"Sound Effects",label:"Applause"},{number:127,subnumber:1,group:"Sound Effects",label:"Laughing"},{number:127,subnumber:2,group:"Sound Effects",label:"Screaming"},{number:127,subnumber:3,group:"Sound Effects",label:"Punch"},{number:127,subnumber:4,group:"Sound Effects",label:"Heart Beat"},{number:127,subnumber:5,group:"Sound Effects",label:"Footsteps"},{number:128,subnumber:0,group:"Sound Effects",label:"Gun Shot"},{number:128,subnumber:1,group:"Sound Effects",label:"Machine Gun"},{number:128,subnumber:2,group:"Sound Effects",label:"Lasergun"},{number:128,subnumber:3,group:"Sound Effects",label:"Explosion"}];for(const t of Ps)DI.set(t.pitch,t),PI.set(t.label,t);for(const t of WW)JW.set(t.number,t);for(const t of KW){const e=`${t.number}-${t.subnumber}`;jW.set(e,t)}let td=class a3{constructor(e=0,i=0,a=127,r=0,s=null){if(e<0||e>127)throw new Error(`Invalid pitch ${e}`);try{this.name=n3(e).label}catch{throw new Error(`Invalid pitch ${e}`)}this.pitch=e,this.start=i,this.velocity=a,this.channel=r,this.end=s}static from(e){let{pitch:i=0,start:a=0,velocity:r=127,channel:s=0,end:l=null,duration:u=null}=e;if(typeof i=="string"&&Number.isNaN(+i)){const d=L4(i);if(d==null)throw new Error("Invalid pitch for Note.from()");i=d.pitch}return l==null&&u!==null&&!Number.isNaN(u)&&(l=a+u),new a3(i,a,r,s,l)}static startPitchComparator(e,i){return e.start!==i.start?e.start-i.start:e.pitch-i.pitch}clone(){return new a3(this.pitch,this.start,this.velocity,this.channel,this.end)}getDuration(){return this.end===null?0:this.end-this.start}getName(){return this.name}getLetter(){return n3(this.pitch).name}getOctave(){return n3(this.pitch).octave}shiftTime(e){const i=this.clone();return i.start+=e,i.end=i.end===null?null:i.end+e,i}scaleTime(e){const i=this.clone();return i.start*=e,i.end=i.end===null?null:i.end*e,i}overlapsInTime(e){return this.start>=e.start&&this.start<=e.end||this.end>=e.start&&this.end<=e.end}overlapInSeconds(e){if(!this.overlapsInTime(e))return 0;const i=Math.max(this.start,e.start);return Math.min(this.end,e.end)-i}equals(e){return e instanceof a3?this.pitch===e.pitch&&this.start===e.start&&this.velocity===e.velocity&&this.channel===e.channel&&this.end===e.end:!1}toString(e=!1){return e?`Note(n: ${this.name}, p: ${this.pitch}, s: ${this.start}, e: ${this.end}, v: ${this.velocity}, c: ${this.channel})`:`Note(name: ${this.name}, pitch: ${this.pitch}, start: ${this.start}, end: ${this.end}, velocity: ${this.velocity}, channel: ${this.channel})`}};class Qu extends td{constructor(e=0,i=0,a=127,r=0,s=null,l=null,u=null){super(e,i,a,r,s),this.string=l,this.fret=u}static from(e){let{pitch:i=0,start:a=0,velocity:r=127,channel:s=0,end:l=null,string:u=null,fret:d=null}=e;if(typeof i=="string"&&Number.isNaN(+i)){const c=L4(i);if(c==null)throw new Error("Invalid pitch for GuitarNote.from()");i=c.pitch}return new Qu(i,a,r,s,l,u,d)}static fromNote(e,i,a){return new Qu(e.pitch,e.start,e.velocity,e.channel,e.end,i,a)}toNote(){return new td(this.pitch,this.start,this.velocity,this.channel,this.end)}clone(){return new Qu(this.pitch,this.start,this.velocity,this.channel,this.end,this.string,this.fret)}equals(e){return e instanceof Qu?this.pitch===e.pitch&&this.start===e.start&&this.velocity===e.velocity&&this.channel===e.channel&&this.end===e.end&&this.string===e.string&&this.fret===e.fret:!1}toString(e=!1){return e?`GuitarNote(n: ${this.name}, p: ${this.pitch}, s: ${this.start}, e: ${this.end}, v: ${this.velocity}, c: ${this.channel}, s: ${this.string}, f: ${this.fret})`:`GuitarNote(name: ${this.name}, pitch: ${this.pitch}, start: ${this.start}, end: ${this.end}, velocity: ${this.velocity}, channel: ${this.channel}, string: ${this.string}, fret: ${this.fret})`}}function XW(t,e){let i;if(e===void 0)for(const a of t)a!=null&&(i>a||i===void 0&&a>=a)&&(i=a);else{let a=-1;for(let r of t)(r=e(r,++a,t))!=null&&(i>r||i===void 0&&r>=r)&&(i=r)}return i}var YW={value:()=>{}};function LI(){for(var t=0,e=arguments.length,i={},a;t<e;++t){if(!(a=arguments[t]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new r3(i)}function r3(t){this._=t}function qW(t,e){return t.trim().split(/^|\s+/).map(function(i){var a="",r=i.indexOf(".");if(r>=0&&(a=i.slice(r+1),i=i.slice(0,r)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}r3.prototype=LI.prototype={constructor:r3,on:function(t,e){var i=this._,a=qW(t+"",i),r,s=-1,l=a.length;if(arguments.length<2){for(;++s<l;)if((r=(t=a[s]).type)&&(r=ZW(i[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(r=(t=a[s]).type)i[r]=Nb(i[r],t.name,e);else if(e==null)for(r in i)i[r]=Nb(i[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new r3(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var i=new Array(r),a=0,r,s;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],a=0,r=s.length;a<r;++a)s[a].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,i)}};function ZW(t,e){for(var i=0,a=t.length,r;i<a;++i)if((r=t[i]).name===e)return r.value}function Nb(t,e,i){for(var a=0,r=t.length;a<r;++a)if(t[a].name===e){t[a]=YW,t=t.slice(0,a).concat(t.slice(a+1));break}return i!=null&&t.push({name:e,value:i}),t}var a7="http://www.w3.org/1999/xhtml";const Fb={svg:"http://www.w3.org/2000/svg",xhtml:a7,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function k4(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),Fb.hasOwnProperty(e)?{space:Fb[e],local:t}:t}function tK(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===a7&&e.documentElement.namespaceURI===a7?e.createElement(t):e.createElementNS(i,t)}}function eK(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kI(t){var e=k4(t);return(e.local?eK:tK)(e)}function iK(){}function yg(t){return t==null?iK:function(){return this.querySelector(t)}}function nK(t){typeof t!="function"&&(t=yg(t));for(var e=this._groups,i=e.length,a=new Array(i),r=0;r<i;++r)for(var s=e[r],l=s.length,u=a[r]=new Array(l),d,c,f=0;f<l;++f)(d=s[f])&&(c=t.call(d,d.__data__,f,s))&&("__data__"in d&&(c.__data__=d.__data__),u[f]=c);return new k0(a,this._parents)}function NI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aK(){return[]}function FI(t){return t==null?aK:function(){return this.querySelectorAll(t)}}function rK(t){return function(){var e=t.apply(this,arguments);return e==null?[]:NI(e)}}function oK(t){typeof t=="function"?t=rK(t):t=FI(t);for(var e=this._groups,i=e.length,a=[],r=[],s=0;s<i;++s)for(var l=e[s],u=l.length,d,c=0;c<u;++c)(d=l[c])&&(a.push(t.call(d,d.__data__,c,l)),r.push(d));return new k0(a,r)}function UI(t){return function(){return this.matches(t)}}function $I(t){return function(e){return e.matches(t)}}var sK=Array.prototype.find;function lK(t){return function(){return sK.call(this.children,t)}}function cK(){return this.firstElementChild}function uK(t){return this.select(t==null?cK:lK(typeof t=="function"?t:$I(t)))}var dK=Array.prototype.filter;function hK(){return this.children}function fK(t){return function(){return dK.call(this.children,t)}}function mK(t){return this.selectAll(t==null?hK:fK(typeof t=="function"?t:$I(t)))}function pK(t){typeof t!="function"&&(t=UI(t));for(var e=this._groups,i=e.length,a=new Array(i),r=0;r<i;++r)for(var s=e[r],l=s.length,u=a[r]=[],d,c=0;c<l;++c)(d=s[c])&&t.call(d,d.__data__,c,s)&&u.push(d);return new k0(a,this._parents)}function GI(t){return new Array(t.length)}function gK(){return new k0(this._enter||this._groups.map(GI),this._parents)}function z3(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}z3.prototype={constructor:z3,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function MK(t){return function(){return t}}function AK(t,e,i,a,r,s){for(var l=0,u,d=e.length,c=s.length;l<c;++l)(u=e[l])?(u.__data__=s[l],a[l]=u):i[l]=new z3(t,s[l]);for(;l<d;++l)(u=e[l])&&(r[l]=u)}function yK(t,e,i,a,r,s,l){var u,d,c=new Map,f=e.length,M=s.length,m=new Array(f),A;for(u=0;u<f;++u)(d=e[u])&&(m[u]=A=l.call(d,d.__data__,u,e)+"",c.has(A)?r[u]=d:c.set(A,d));for(u=0;u<M;++u)A=l.call(t,s[u],u,s)+"",(d=c.get(A))?(a[u]=d,d.__data__=s[u],c.delete(A)):i[u]=new z3(t,s[u]);for(u=0;u<f;++u)(d=e[u])&&c.get(m[u])===d&&(r[u]=d)}function vK(t){return t.__data__}function bK(t,e){if(!arguments.length)return Array.from(this,vK);var i=e?yK:AK,a=this._parents,r=this._groups;typeof t!="function"&&(t=MK(t));for(var s=r.length,l=new Array(s),u=new Array(s),d=new Array(s),c=0;c<s;++c){var f=a[c],M=r[c],m=M.length,A=NI(t.call(f,f&&f.__data__,c,a)),p=A.length,y=u[c]=new Array(p),E=l[c]=new Array(p),v=d[c]=new Array(m);i(f,M,y,E,v,A,e);for(var w=0,x=0,b,O;w<p;++w)if(b=y[w]){for(w>=x&&(x=w+1);!(O=E[x])&&++x<p;);b._next=O||null}}return l=new k0(l,a),l._enter=u,l._exit=d,l}function CK(){return new k0(this._exit||this._groups.map(GI),this._parents)}function EK(t,e,i){var a=this.enter(),r=this,s=this.exit();return a=typeof t=="function"?t(a):a.append(t+""),e!=null&&(r=e(r)),i==null?s.remove():i(s),a&&r?a.merge(r).order():r}function _K(t){if(!(t instanceof k0))throw new Error("invalid merge");for(var e=this._groups,i=t._groups,a=e.length,r=i.length,s=Math.min(a,r),l=new Array(a),u=0;u<s;++u)for(var d=e[u],c=i[u],f=d.length,M=l[u]=new Array(f),m,A=0;A<f;++A)(m=d[A]||c[A])&&(M[A]=m);for(;u<a;++u)l[u]=e[u];return new k0(l,this._parents)}function wK(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var a=t[e],r=a.length-1,s=a[r],l;--r>=0;)(l=a[r])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function OK(t){t||(t=xK);function e(M,m){return M&&m?t(M.__data__,m.__data__):!M-!m}for(var i=this._groups,a=i.length,r=new Array(a),s=0;s<a;++s){for(var l=i[s],u=l.length,d=r[s]=new Array(u),c,f=0;f<u;++f)(c=l[f])&&(d[f]=c);d.sort(e)}return new k0(r,this._parents).order()}function xK(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function SK(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function TK(){return Array.from(this)}function IK(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],r=0,s=a.length;r<s;++r){var l=a[r];if(l)return l}return null}function BK(){let t=0;for(const e of this)++t;return t}function RK(){return!this.node()}function DK(t){for(var e=this._groups,i=0,a=e.length;i<a;++i)for(var r=e[i],s=0,l=r.length,u;s<l;++s)(u=r[s])&&t.call(u,u.__data__,s,r);return this}function PK(t){return function(){this.removeAttribute(t)}}function LK(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kK(t,e){return function(){this.setAttribute(t,e)}}function NK(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function FK(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function UK(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function $K(t,e){var i=k4(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((e==null?i.local?LK:PK:typeof e=="function"?i.local?UK:FK:i.local?NK:kK)(i,e))}function HI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function GK(t){return function(){this.style.removeProperty(t)}}function HK(t,e,i){return function(){this.style.setProperty(t,e,i)}}function VK(t,e,i){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,i)}}function QK(t,e,i){return arguments.length>1?this.each((e==null?GK:typeof e=="function"?VK:HK)(t,e,i??"")):Od(this.node(),t)}function Od(t,e){return t.style.getPropertyValue(e)||HI(t).getComputedStyle(t,null).getPropertyValue(e)}function zK(t){return function(){delete this[t]}}function JK(t,e){return function(){this[t]=e}}function jK(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function WK(t,e){return arguments.length>1?this.each((e==null?zK:typeof e=="function"?jK:JK)(t,e)):this.node()[t]}function VI(t){return t.trim().split(/^|\s+/)}function vg(t){return t.classList||new QI(t)}function QI(t){this._node=t,this._names=VI(t.getAttribute("class")||"")}QI.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function zI(t,e){for(var i=vg(t),a=-1,r=e.length;++a<r;)i.add(e[a])}function JI(t,e){for(var i=vg(t),a=-1,r=e.length;++a<r;)i.remove(e[a])}function KK(t){return function(){zI(this,t)}}function XK(t){return function(){JI(this,t)}}function YK(t,e){return function(){(e.apply(this,arguments)?zI:JI)(this,t)}}function qK(t,e){var i=VI(t+"");if(arguments.length<2){for(var a=vg(this.node()),r=-1,s=i.length;++r<s;)if(!a.contains(i[r]))return!1;return!0}return this.each((typeof e=="function"?YK:e?KK:XK)(i,e))}function ZK(){this.textContent=""}function tX(t){return function(){this.textContent=t}}function eX(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function iX(t){return arguments.length?this.each(t==null?ZK:(typeof t=="function"?eX:tX)(t)):this.node().textContent}function nX(){this.innerHTML=""}function aX(t){return function(){this.innerHTML=t}}function rX(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function oX(t){return arguments.length?this.each(t==null?nX:(typeof t=="function"?rX:aX)(t)):this.node().innerHTML}function sX(){this.nextSibling&&this.parentNode.appendChild(this)}function lX(){return this.each(sX)}function cX(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function uX(){return this.each(cX)}function dX(t){var e=typeof t=="function"?t:kI(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function hX(){return null}function fX(t,e){var i=typeof t=="function"?t:kI(t),a=e==null?hX:typeof e=="function"?e:yg(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function mX(){var t=this.parentNode;t&&t.removeChild(this)}function pX(){return this.each(mX)}function gX(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function MX(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function AX(t){return this.select(t?MX:gX)}function yX(t){return arguments.length?this.property("__data__",t):this.node().__data__}function vX(t){return function(e){t.call(this,e,this.__data__)}}function bX(t){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");return a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),{type:e,name:i}})}function CX(t){return function(){var e=this.__on;if(e){for(var i=0,a=-1,r=e.length,s;i<r;++i)s=e[i],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++a]=s;++a?e.length=a:delete this.__on}}}function EX(t,e,i){return function(){var a=this.__on,r,s=vX(e);if(a){for(var l=0,u=a.length;l<u;++l)if((r=a[l]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=i),r.value=e;return}}this.addEventListener(t.type,s,i),r={type:t.type,name:t.name,value:e,listener:s,options:i},a?a.push(r):this.__on=[r]}}function _X(t,e,i){var a=bX(t+""),r,s=a.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,c=u.length,f;d<c;++d)for(r=0,f=u[d];r<s;++r)if((l=a[r]).type===f.type&&l.name===f.name)return f.value}return}for(u=e?EX:CX,r=0;r<s;++r)this.each(u(a[r],e,i));return this}function jI(t,e,i){var a=HI(t),r=a.CustomEvent;typeof r=="function"?r=new r(e,i):(r=a.document.createEvent("Event"),i?(r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function wX(t,e){return function(){return jI(this,t,e)}}function OX(t,e){return function(){return jI(this,t,e.apply(this,arguments))}}function xX(t,e){return this.each((typeof e=="function"?OX:wX)(t,e))}function*SX(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],r=0,s=a.length,l;r<s;++r)(l=a[r])&&(yield l)}var TX=[null];function k0(t,e){this._groups=t,this._parents=e}function S1(){return new k0([[document.documentElement]],TX)}function IX(){return this}k0.prototype=S1.prototype={constructor:k0,select:nK,selectAll:oK,selectChild:uK,selectChildren:mK,filter:pK,data:bK,enter:gK,exit:CK,join:EK,merge:_K,selection:IX,order:wK,sort:OK,call:SK,nodes:TK,node:IK,size:BK,empty:RK,each:DK,attr:$K,style:QK,property:WK,classed:qK,text:iX,html:oX,raise:lX,lower:uX,append:dX,insert:fX,remove:pX,clone:AX,datum:yX,on:_X,dispatch:xX,[Symbol.iterator]:SX};function bg(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function WI(t,e){var i=Object.create(t.prototype);for(var a in e)i[a]=e[a];return i}function T1(){}var Df=.7,J3=1/Df,ed="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",No="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BX=/^#([0-9a-f]{3,8})$/,RX=new RegExp("^rgb\\("+[ed,ed,ed]+"\\)$"),DX=new RegExp("^rgb\\("+[No,No,No]+"\\)$"),PX=new RegExp("^rgba\\("+[ed,ed,ed,Pf]+"\\)$"),LX=new RegExp("^rgba\\("+[No,No,No,Pf]+"\\)$"),kX=new RegExp("^hsl\\("+[Pf,No,No]+"\\)$"),NX=new RegExp("^hsla\\("+[Pf,No,No,Pf]+"\\)$"),Ub={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bg(T1,xd,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$b,formatHex:$b,formatHsl:FX,formatRgb:Gb,toString:Gb});function $b(){return this.rgb().formatHex()}function FX(){return KI(this).formatHsl()}function Gb(){return this.rgb().formatRgb()}function xd(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=BX.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?Hb(e):i===3?new h0(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Dm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Dm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RX.exec(t))?new h0(e[1],e[2],e[3],1):(e=DX.exec(t))?new h0(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=PX.exec(t))?Dm(e[1],e[2],e[3],e[4]):(e=LX.exec(t))?Dm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kX.exec(t))?zb(e[1],e[2]/100,e[3]/100,1):(e=NX.exec(t))?zb(e[1],e[2]/100,e[3]/100,e[4]):Ub.hasOwnProperty(t)?Hb(Ub[t]):t==="transparent"?new h0(NaN,NaN,NaN,0):null}function Hb(t){return new h0(t>>16&255,t>>8&255,t&255,1)}function Dm(t,e,i,a){return a<=0&&(t=e=i=NaN),new h0(t,e,i,a)}function UX(t){return t instanceof T1||(t=xd(t)),t?(t=t.rgb(),new h0(t.r,t.g,t.b,t.opacity)):new h0}function r7(t,e,i,a){return arguments.length===1?UX(t):new h0(t,e,i,a??1)}function h0(t,e,i,a){this.r=+t,this.g=+e,this.b=+i,this.opacity=+a}bg(h0,r7,WI(T1,{brighter:function(t){return t=t==null?J3:Math.pow(J3,t),new h0(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Df:Math.pow(Df,t),new h0(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vb,formatHex:Vb,formatRgb:Qb,toString:Qb}));function Vb(){return"#"+k5(this.r)+k5(this.g)+k5(this.b)}function Qb(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function k5(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function zb(t,e,i,a){return a<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Bo(t,e,i,a)}function KI(t){if(t instanceof Bo)return new Bo(t.h,t.s,t.l,t.opacity);if(t instanceof T1||(t=xd(t)),!t)return new Bo;if(t instanceof Bo)return t;t=t.rgb();var e=t.r/255,i=t.g/255,a=t.b/255,r=Math.min(e,i,a),s=Math.max(e,i,a),l=NaN,u=s-r,d=(s+r)/2;return u?(e===s?l=(i-a)/u+(i<a)*6:i===s?l=(a-e)/u+2:l=(e-i)/u+4,u/=d<.5?s+r:2-s-r,l*=60):u=d>0&&d<1?0:l,new Bo(l,u,d,t.opacity)}function XI(t,e,i,a){return arguments.length===1?KI(t):new Bo(t,e,i,a??1)}function Bo(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}bg(Bo,XI,WI(T1,{brighter:function(t){return t=t==null?J3:Math.pow(J3,t),new Bo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Df:Math.pow(Df,t),new Bo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*e,r=2*i-a;return new h0(N5(t>=240?t-240:t+120,r,a),N5(t,r,a),N5(t<120?t+240:t-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function N5(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const YI=t=>()=>t;function $X(t,e){return function(i){return t+i*e}}function GX(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(a){return Math.pow(t+a*e,i)}}function HX(t){return(t=+t)==1?qI:function(e,i){return i-e?GX(e,i,t):YI(isNaN(e)?i:e)}}function qI(t,e){var i=e-t;return i?$X(t,i):YI(isNaN(t)?e:t)}const o7=function t(e){var i=HX(e);function a(r,s){var l=i((r=r7(r)).r,(s=r7(s)).r),u=i(r.g,s.g),d=i(r.b,s.b),c=qI(r.opacity,s.opacity);return function(f){return r.r=l(f),r.g=u(f),r.b=d(f),r.opacity=c(f),r+""}}return a.gamma=t,a}(1);function dl(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var s7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F5=new RegExp(s7.source,"g");function VX(t){return function(){return t}}function QX(t){return function(e){return t(e)+""}}function zX(t,e){var i=s7.lastIndex=F5.lastIndex=0,a,r,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(a=s7.exec(t))&&(r=F5.exec(e));)(s=r.index)>i&&(s=e.slice(i,s),u[l]?u[l]+=s:u[++l]=s),(a=a[0])===(r=r[0])?u[l]?u[l]+=r:u[++l]=r:(u[++l]=null,d.push({i:l,x:dl(a,r)})),i=F5.lastIndex;return i<e.length&&(s=e.slice(i),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?QX(d[0].x):VX(e):(e=d.length,function(c){for(var f=0,M;f<e;++f)u[(M=d[f]).i]=M.x(c);return u.join("")})}var Jb=180/Math.PI,l7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ZI(t,e,i,a,r,s){var l,u,d;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(d=t*i+e*a)&&(i-=t*d,a-=e*d),(u=Math.sqrt(i*i+a*a))&&(i/=u,a/=u,d/=u),t*a<e*i&&(t=-t,e=-e,d=-d,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Jb,skewX:Math.atan(d)*Jb,scaleX:l,scaleY:u}}var Pm;function JX(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?l7:ZI(e.a,e.b,e.c,e.d,e.e,e.f)}function jX(t){return t==null||(Pm||(Pm=document.createElementNS("http://www.w3.org/2000/svg","g")),Pm.setAttribute("transform",t),!(t=Pm.transform.baseVal.consolidate()))?l7:(t=t.matrix,ZI(t.a,t.b,t.c,t.d,t.e,t.f))}function tB(t,e,i,a){function r(c){return c.length?c.pop()+" ":""}function s(c,f,M,m,A,p){if(c!==M||f!==m){var y=A.push("translate(",null,e,null,i);p.push({i:y-4,x:dl(c,M)},{i:y-2,x:dl(f,m)})}else(M||m)&&A.push("translate("+M+e+m+i)}function l(c,f,M,m){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),m.push({i:M.push(r(M)+"rotate(",null,a)-2,x:dl(c,f)})):f&&M.push(r(M)+"rotate("+f+a)}function u(c,f,M,m){c!==f?m.push({i:M.push(r(M)+"skewX(",null,a)-2,x:dl(c,f)}):f&&M.push(r(M)+"skewX("+f+a)}function d(c,f,M,m,A,p){if(c!==M||f!==m){var y=A.push(r(A)+"scale(",null,",",null,")");p.push({i:y-4,x:dl(c,M)},{i:y-2,x:dl(f,m)})}else(M!==1||m!==1)&&A.push(r(A)+"scale("+M+","+m+")")}return function(c,f){var M=[],m=[];return c=t(c),f=t(f),s(c.translateX,c.translateY,f.translateX,f.translateY,M,m),l(c.rotate,f.rotate,M,m),u(c.skewX,f.skewX,M,m),d(c.scaleX,c.scaleY,f.scaleX,f.scaleY,M,m),c=f=null,function(A){for(var p=-1,y=m.length,E;++p<y;)M[(E=m[p]).i]=E.x(A);return M.join("")}}}var WX=tB(JX,"px, ","px)","deg)"),KX=tB(jX,", ",")",")"),Sd=0,Zh=0,Uh=0,eB=1e3,j3,tf,W3=0,Wc=0,N4=0,Lf=typeof performance=="object"&&performance.now?performance:Date,iB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Cg(){return Wc||(iB(XX),Wc=Lf.now()+N4)}function XX(){Wc=0}function K3(){this._call=this._time=this._next=null}K3.prototype=nB.prototype={constructor:K3,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Cg():+i)+(e==null?0:+e),!this._next&&tf!==this&&(tf?tf._next=this:j3=this,tf=this),this._call=t,this._time=i,c7()},stop:function(){this._call&&(this._call=null,this._time=1/0,c7())}};function nB(t,e,i){var a=new K3;return a.restart(t,e,i),a}function YX(){Cg(),++Sd;for(var t=j3,e;t;)(e=Wc-t._time)>=0&&t._call.call(null,e),t=t._next;--Sd}function jb(){Wc=(W3=Lf.now())+N4,Sd=Zh=0;try{YX()}finally{Sd=0,ZX(),Wc=0}}function qX(){var t=Lf.now(),e=t-W3;e>eB&&(N4-=e,W3=t)}function ZX(){for(var t,e=j3,i,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:j3=i);tf=t,c7(a)}function c7(t){if(!Sd){Zh&&(Zh=clearTimeout(Zh));var e=t-Wc;e>24?(t<1/0&&(Zh=setTimeout(jb,t-Lf.now()-N4)),Uh&&(Uh=clearInterval(Uh))):(Uh||(W3=Lf.now(),Uh=setInterval(qX,eB)),Sd=1,iB(jb))}}function Wb(t,e,i){var a=new K3;return e=e==null?0:+e,a.restart(r=>{a.stop(),t(r+e)},e,i),a}var tY=LI("start","end","cancel","interrupt"),eY=[],aB=0,Kb=1,u7=2,o3=3,Xb=4,d7=5,s3=6;function F4(t,e,i,a,r,s){var l=t.__transition;if(!l)t.__transition={};else if(i in l)return;iY(t,i,{name:e,index:a,group:r,on:tY,tween:eY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:aB})}function Eg(t,e){var i=uo(t,e);if(i.state>aB)throw new Error("too late; already scheduled");return i}function Jo(t,e){var i=uo(t,e);if(i.state>o3)throw new Error("too late; already running");return i}function uo(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function iY(t,e,i){var a=t.__transition,r;a[e]=i,i.timer=nB(s,0,i.time);function s(c){i.state=Kb,i.timer.restart(l,i.delay,i.time),i.delay<=c&&l(c-i.delay)}function l(c){var f,M,m,A;if(i.state!==Kb)return d();for(f in a)if(A=a[f],A.name===i.name){if(A.state===o3)return Wb(l);A.state===Xb?(A.state=s3,A.timer.stop(),A.on.call("interrupt",t,t.__data__,A.index,A.group),delete a[f]):+f<e&&(A.state=s3,A.timer.stop(),A.on.call("cancel",t,t.__data__,A.index,A.group),delete a[f])}if(Wb(function(){i.state===o3&&(i.state=Xb,i.timer.restart(u,i.delay,i.time),u(c))}),i.state=u7,i.on.call("start",t,t.__data__,i.index,i.group),i.state===u7){for(i.state=o3,r=new Array(m=i.tween.length),f=0,M=-1;f<m;++f)(A=i.tween[f].value.call(t,t.__data__,i.index,i.group))&&(r[++M]=A);r.length=M+1}}function u(c){for(var f=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(d),i.state=d7,1),M=-1,m=r.length;++M<m;)r[M].call(t,f);i.state===d7&&(i.on.call("end",t,t.__data__,i.index,i.group),d())}function d(){i.state=s3,i.timer.stop(),delete a[e];for(var c in a)return;delete t.__transition}}function nY(t,e){var i=t.__transition,a,r,s=!0,l;if(i){e=e==null?null:e+"";for(l in i){if((a=i[l]).name!==e){s=!1;continue}r=a.state>u7&&a.state<d7,a.state=s3,a.timer.stop(),a.on.call(r?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[l]}s&&delete t.__transition}}function aY(t){return this.each(function(){nY(this,t)})}function rY(t,e){var i,a;return function(){var r=Jo(this,t),s=r.tween;if(s!==i){a=i=s;for(var l=0,u=a.length;l<u;++l)if(a[l].name===e){a=a.slice(),a.splice(l,1);break}}r.tween=a}}function oY(t,e,i){var a,r;if(typeof i!="function")throw new Error;return function(){var s=Jo(this,t),l=s.tween;if(l!==a){r=(a=l).slice();for(var u={name:e,value:i},d=0,c=r.length;d<c;++d)if(r[d].name===e){r[d]=u;break}d===c&&r.push(u)}s.tween=r}}function sY(t,e){var i=this._id;if(t+="",arguments.length<2){for(var a=uo(this.node(),i).tween,r=0,s=a.length,l;r<s;++r)if((l=a[r]).name===t)return l.value;return null}return this.each((e==null?rY:oY)(i,t,e))}function _g(t,e,i){var a=t._id;return t.each(function(){var r=Jo(this,a);(r.value||(r.value={}))[e]=i.apply(this,arguments)}),function(r){return uo(r,a).value[e]}}function rB(t,e){var i;return(typeof e=="number"?dl:e instanceof xd?o7:(i=xd(e))?(e=i,o7):zX)(t,e)}function lY(t){return function(){this.removeAttribute(t)}}function cY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uY(t,e,i){var a,r=i+"",s;return function(){var l=this.getAttribute(t);return l===r?null:l===a?s:s=e(a=l,i)}}function dY(t,e,i){var a,r=i+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===r?null:l===a?s:s=e(a=l,i)}}function hY(t,e,i){var a,r,s;return function(){var l,u=i(this),d;return u==null?void this.removeAttribute(t):(l=this.getAttribute(t),d=u+"",l===d?null:l===a&&d===r?s:(r=d,s=e(a=l,u)))}}function fY(t,e,i){var a,r,s;return function(){var l,u=i(this),d;return u==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),d=u+"",l===d?null:l===a&&d===r?s:(r=d,s=e(a=l,u)))}}function mY(t,e){var i=k4(t),a=i==="transform"?KX:rB;return this.attrTween(t,typeof e=="function"?(i.local?fY:hY)(i,a,_g(this,"attr."+t,e)):e==null?(i.local?cY:lY)(i):(i.local?dY:uY)(i,a,e))}function pY(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function gY(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function MY(t,e){var i,a;function r(){var s=e.apply(this,arguments);return s!==a&&(i=(a=s)&&gY(t,s)),i}return r._value=e,r}function AY(t,e){var i,a;function r(){var s=e.apply(this,arguments);return s!==a&&(i=(a=s)&&pY(t,s)),i}return r._value=e,r}function yY(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var a=k4(t);return this.tween(i,(a.local?MY:AY)(a,e))}function vY(t,e){return function(){Eg(this,t).delay=+e.apply(this,arguments)}}function bY(t,e){return e=+e,function(){Eg(this,t).delay=e}}function CY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vY:bY)(e,t)):uo(this.node(),e).delay}function EY(t,e){return function(){Jo(this,t).duration=+e.apply(this,arguments)}}function _Y(t,e){return e=+e,function(){Jo(this,t).duration=e}}function wY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?EY:_Y)(e,t)):uo(this.node(),e).duration}function OY(t,e){if(typeof e!="function")throw new Error;return function(){Jo(this,t).ease=e}}function xY(t){var e=this._id;return arguments.length?this.each(OY(e,t)):uo(this.node(),e).ease}function SY(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;Jo(this,t).ease=i}}function TY(t){if(typeof t!="function")throw new Error;return this.each(SY(this._id,t))}function IY(t){typeof t!="function"&&(t=UI(t));for(var e=this._groups,i=e.length,a=new Array(i),r=0;r<i;++r)for(var s=e[r],l=s.length,u=a[r]=[],d,c=0;c<l;++c)(d=s[c])&&t.call(d,d.__data__,c,s)&&u.push(d);return new Ls(a,this._parents,this._name,this._id)}function BY(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,a=e.length,r=i.length,s=Math.min(a,r),l=new Array(a),u=0;u<s;++u)for(var d=e[u],c=i[u],f=d.length,M=l[u]=new Array(f),m,A=0;A<f;++A)(m=d[A]||c[A])&&(M[A]=m);for(;u<a;++u)l[u]=e[u];return new Ls(l,this._parents,this._name,this._id)}function RY(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function DY(t,e,i){var a,r,s=RY(e)?Eg:Jo;return function(){var l=s(this,t),u=l.on;u!==a&&(r=(a=u).copy()).on(e,i),l.on=r}}function PY(t,e){var i=this._id;return arguments.length<2?uo(this.node(),i).on.on(t):this.each(DY(i,t,e))}function LY(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function kY(){return this.on("end.remove",LY(this._id))}function NY(t){var e=this._name,i=this._id;typeof t!="function"&&(t=yg(t));for(var a=this._groups,r=a.length,s=new Array(r),l=0;l<r;++l)for(var u=a[l],d=u.length,c=s[l]=new Array(d),f,M,m=0;m<d;++m)(f=u[m])&&(M=t.call(f,f.__data__,m,u))&&("__data__"in f&&(M.__data__=f.__data__),c[m]=M,F4(c[m],e,i,m,c,uo(f,i)));return new Ls(s,this._parents,e,i)}function FY(t){var e=this._name,i=this._id;typeof t!="function"&&(t=FI(t));for(var a=this._groups,r=a.length,s=[],l=[],u=0;u<r;++u)for(var d=a[u],c=d.length,f,M=0;M<c;++M)if(f=d[M]){for(var m=t.call(f,f.__data__,M,d),A,p=uo(f,i),y=0,E=m.length;y<E;++y)(A=m[y])&&F4(A,e,i,y,m,p);s.push(m),l.push(f)}return new Ls(s,l,e,i)}var UY=S1.prototype.constructor;function $Y(){return new UY(this._groups,this._parents)}function GY(t,e){var i,a,r;return function(){var s=Od(this,t),l=(this.style.removeProperty(t),Od(this,t));return s===l?null:s===i&&l===a?r:r=e(i=s,a=l)}}function oB(t){return function(){this.style.removeProperty(t)}}function HY(t,e,i){var a,r=i+"",s;return function(){var l=Od(this,t);return l===r?null:l===a?s:s=e(a=l,i)}}function VY(t,e,i){var a,r,s;return function(){var l=Od(this,t),u=i(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(t),Od(this,t))),l===d?null:l===a&&d===r?s:(r=d,s=e(a=l,u))}}function QY(t,e){var i,a,r,s="style."+e,l="end."+s,u;return function(){var d=Jo(this,t),c=d.on,f=d.value[s]==null?u||(u=oB(e)):void 0;(c!==i||r!==f)&&(a=(i=c).copy()).on(l,r=f),d.on=a}}function zY(t,e,i){var a=(t+="")=="transform"?WX:rB;return e==null?this.styleTween(t,GY(t,a)).on("end.style."+t,oB(t)):typeof e=="function"?this.styleTween(t,VY(t,a,_g(this,"style."+t,e))).each(QY(this._id,t)):this.styleTween(t,HY(t,a,e),i).on("end.style."+t,null)}function JY(t,e,i){return function(a){this.style.setProperty(t,e.call(this,a),i)}}function jY(t,e,i){var a,r;function s(){var l=e.apply(this,arguments);return l!==r&&(a=(r=l)&&JY(t,l,i)),a}return s._value=e,s}function WY(t,e,i){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,jY(t,e,i??""))}function KY(t){return function(){this.textContent=t}}function XY(t){return function(){var e=t(this);this.textContent=e??""}}function YY(t){return this.tween("text",typeof t=="function"?XY(_g(this,"text",t)):KY(t==null?"":t+""))}function qY(t){return function(e){this.textContent=t.call(this,e)}}function ZY(t){var e,i;function a(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&qY(r)),e}return a._value=t,a}function tq(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ZY(t))}function eq(){for(var t=this._name,e=this._id,i=sB(),a=this._groups,r=a.length,s=0;s<r;++s)for(var l=a[s],u=l.length,d,c=0;c<u;++c)if(d=l[c]){var f=uo(d,e);F4(d,t,i,c,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ls(a,this._parents,t,i)}function iq(){var t,e,i=this,a=i._id,r=i.size();return new Promise(function(s,l){var u={value:l},d={value:function(){--r===0&&s()}};i.each(function(){var c=Jo(this,a),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(d)),c.on=e}),r===0&&s()})}var nq=0;function Ls(t,e,i,a){this._groups=t,this._parents=e,this._name=i,this._id=a}function sB(){return++nq}var yc=S1.prototype;Ls.prototype={constructor:Ls,select:NY,selectAll:FY,filter:IY,merge:BY,selection:$Y,transition:eq,call:yc.call,nodes:yc.nodes,node:yc.node,size:yc.size,empty:yc.empty,each:yc.each,on:PY,attr:mY,attrTween:yY,style:zY,styleTween:WY,text:YY,textTween:tq,remove:kY,tween:sY,delay:CY,duration:wY,ease:xY,easeVarying:TY,end:iq,[Symbol.iterator]:yc[Symbol.iterator]};function aq(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rq={time:null,delay:0,duration:250,ease:aq};function oq(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function sq(t){var e,i;t instanceof Ls?(e=t._id,t=t._name):(e=sB(),(i=rq).time=Cg(),t=t==null?null:t+"");for(var a=this._groups,r=a.length,s=0;s<r;++s)for(var l=a[s],u=l.length,d,c=0;c<u;++c)(d=l[c])&&F4(d,t,e,c,l,i||oq(d,e));return new Ls(a,this._parents,t,e)}S1.prototype.interrupt=aY;S1.prototype.transition=sq;function ef(t,e,i){this.k=t,this.x=e,this.y=i}ef.prototype={constructor:ef,scale:function(t){return t===1?this:new ef(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ef(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ef.prototype;function lq(t,e,i){return Math.max(e,Math.min(i,t))}class Oc{constructor(e=[],i=!1){i?this._notes=e:this._notes=e.map(a=>a.string!==void 0&&a.fret!==void 0?Qu.from(a):td.from(a))}getNotes(){return this._notes}setNotes(e){return this._notes=e,this}*[Symbol.iterator](){for(const e of this._notes)yield e}addNotes(e,i=!0){return this._notes=[...this._notes,...e],i&&this.sortByTime(),this}concat(e){return this._notes=[...this._notes,...e._notes],this}append(e,i=0){const a=this.getDuration(),r=e.clone();return r.shiftTime(a+i),this._notes=[...this._notes,...r._notes],this.sortByTime(),this}repeat(e){const i=this.clone();if(e<1)return new Oc;if(e===1)return i;const a=this.clone(),r=this.getDuration();for(let s=1;s<e;s++)a.shiftTime(r),i.concat(a);return i}length(){return this._notes.length}getStartTime(){return XW(this._notes,e=>e.start)}getDuration(){let e=0;for(const i of this._notes){const a=i.end===null?i.start:i.end;a>e&&(e=a)}return e}scaleTime(e){return this._notes=this._notes.map(i=>i.scaleTime(e)),this}shiftTime(e){return this._notes=this._notes.map(i=>i.shiftTime(e)),this}shiftToStartAt(e){this.sortByTime();const a=this._notes[0].start-e;return this._notes.forEach(r=>{r.start-=a,r.end!==null&&(r.end-=a)}),this}forEach(e){return this._notes.forEach((i,a,r)=>e(i,a,r)),this}sort(e){return this._notes=this._notes.sort(e),this}sortByTime(){return this._notes=this._notes.sort((e,i)=>e.start-i.start),this}map(e){return this._notes=this._notes.map((i,a,r)=>e(i,a,r)),this}slice(e,i){return this._notes=this._notes.slice(e,i),this}sliceTime(e,i,a="contained"){const r=e,s=i;let l;if(a==="start")l=u=>u.start>=r&&u.start<s;else if(a==="end")l=u=>u.end!==null&&u.end>=r&&u.end<s;else if(a==="contained")l=u=>u.end!==null&&u.start>=r&&u.end<s;else if(a==="touched")l=u=>u.start>=r&&u.start<=s||u.end!==null&&u.end>=r&&u.end<=s;else if(a==="touched-included")l=u=>u.start>=r&&u.start<=s||u.end!==null&&u.end>=r&&u.end<=s||u.end!==null&&u.start<=r&&u.end>=s;else throw new Error("Invalid slicing mode");return this._notes=this._notes.filter(l),this}sliceAtTimes(e,i,a=!1){if(e.length===0)return[this._notes];const r=this.getDuration();Math.max(...e)<=r&&e.push(r+1);const s=[];let l=0;for(const u of e)s.push(new Oc(this._notes,a).sliceTime(l,u,i).getNotes()),l=u;return s}segmentAtGaps(e,i){if(this._notes.length<2)return[this._notes];if(i==="start-start"){const a=this.clone().sortByTime().getNotes(),r=[];for(let s=1;s<a.length;s++)a[s].start-a[s-1].start>=e&&r.push(a[s].start);return this.sliceAtTimes(r,"start")}else{const a=[];for(const s of this._notes){const{start:l,end:u}=s,d=[];for(let c=0;c<a.length;c++){const[f,M]=a[c];(f>=l&&f<=u||M>=l&&M<=u)&&(a.splice(c,1),d.push([f,M]))}if(d.length===0)a.push([l,u]);else{const c=Math.min(l,...d.map(M=>M[0])),f=Math.max(u,...d.map(M=>M[1]));a.push([c,f])}}if(a.length===1)return[this._notes];const r=[];for(let s=1;s<a.length;s++){const l=a[s][0],u=a[s-1][1];l-u>=e&&r.push(l)}return this.sliceAtTimes(r,"start")}}segmentAtIndices(e){const i=[];let a=0;for(const r of e)i.push(this._notes.slice(a,r)),a=r;return i}filter(e){return this._notes=this._notes.filter((i,a,r)=>e(i,a,r)),this}filterPitches(e){return e instanceof Set||(e=new Set(e)),this._notes=this._notes.filter(i=>e.has(i.pitch)),this}transpose(e){return this._notes=this._notes.map(i=>td.from({...i,pitch:lq(i.pitch+e,0,127)})),this}removeOctaves(){return this._notes=this._notes.map(e=>td.from({...e,pitch:e.pitch%12})),this}reverse(){const e=this.getDuration();return this._notes=this._notes.map(i=>{const a=i.clone();return a.start=e-i.end,a.end=a.start+i.getDuration(),a}),this.sortByTime(),this}equals(e){if(!(e instanceof Oc))return!1;const i=e.getNotes();if(this._notes.length!==i.length)return!1;for(const[a,r]of i.entries())if(!this._notes[a].equals(r))return!1;return!0}clone(){return new Oc(this._notes)}}var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var r=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(i,a,r.get?r:{enumerable:!0,get:function(){return t[a]}})}),i}var uq={exports:{}};(function(t){(function(){const e=function(a){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;if(a=a.replace(/^.*?base64,/,""),a=String(a).replace(/[\t\n\f\r ]+/g,""),!s.test(a))throw new TypeError("Failed to execute _atob() : The string to be decoded is not correctly encoded.");a+="==".slice(2-(a.length&3));let l,u="",d,c,f=0;for(;f<a.length;)l=r.indexOf(a.charAt(f++))<<18|r.indexOf(a.charAt(f++))<<12|(d=r.indexOf(a.charAt(f++)))<<6|(c=r.indexOf(a.charAt(f++))),u+=d===64?String.fromCharCode(l>>16&255):c===64?String.fromCharCode(l>>16&255,l>>8&255):String.fromCharCode(l>>16&255,l>>8&255,l&255);return u},i={debug:!1,parse:function(a,r){if(a instanceof Uint8Array)return i.Uint8(a);if(typeof a=="string")return i.Base64(a);if(a instanceof HTMLElement&&a.type==="file")return i.addListener(a,r);throw new Error("MidiParser.parse() : Invalid input provided")},addListener:function(a,r){if(!File||!FileReader)throw new Error("The File|FileReader APIs are not supported in this browser. Use instead MidiParser.Base64() or MidiParser.Uint8()");if(a===void 0||!(a instanceof HTMLElement)||a.tagName!=="INPUT"||a.type.toLowerCase()!=="file")return console.warn("MidiParser.addListener() : Provided element is not a valid FILE INPUT element"),!1;r=r||function(){},a.addEventListener("change",function(s){if(!s.target.files.length)return!1;console.log("MidiParser.addListener() : File detected in INPUT ELEMENT processing data..");let l=new FileReader;l.readAsArrayBuffer(s.target.files[0]),l.onload=function(u){r(i.Uint8(new Uint8Array(u.target.result)))}})},Base64:function(a){a=String(a);let r=e(a),s=r.length,l=new Uint8Array(new ArrayBuffer(s));for(let u=0;u<s;u++)l[u]=r.charCodeAt(u);return i.Uint8(l)},Uint8:function(a){let r={data:null,pointer:0,movePointer:function(d){return this.pointer+=d,this.pointer},readInt:function(d){if(d=Math.min(d,this.data.byteLength-this.pointer),d<1)return-1;let c=0;if(d>1)for(let f=1;f<=d-1;f++)c+=this.data.getUint8(this.pointer)*Math.pow(256,d-f),this.pointer++;return c+=this.data.getUint8(this.pointer),this.pointer++,c},readStr:function(d){let c="";for(let f=1;f<=d;f++)c+=String.fromCharCode(this.readInt(1));return c},readIntVLV:function(){let d=0;if(this.pointer>=this.data.byteLength)return-1;if(this.data.getUint8(this.pointer)<128)d=this.readInt(1);else{let c=[];for(;this.data.getUint8(this.pointer)>=128;)c.push(this.readInt(1)-128);let f=this.readInt(1);for(let M=1;M<=c.length;M++)d+=c[c.length-M]*Math.pow(128,M);d+=f}return d}};if(r.data=new DataView(a.buffer,a.byteOffset,a.byteLength),r.readInt(4)!==1297377380)return console.warn("Header validation failed (not MIDI standard or file corrupt.)"),!1;r.readInt(4);let s={};s.formatType=r.readInt(2),s.tracks=r.readInt(2),s.track=[];let l=r.readInt(1),u=r.readInt(1);l>=128?(s.timeDivision=[],s.timeDivision[0]=l-128,s.timeDivision[1]=u):s.timeDivision=l*256+u;for(let d=1;d<=s.tracks;d++){s.track[d-1]={event:[]};let c=r.readInt(4);if(c===-1)break;if(c!==1297379947)return!1;r.readInt(4);let f=0,M=!1,m,A;for(;!M&&(f++,s.track[d-1].event[f-1]={},s.track[d-1].event[f-1].deltaTime=r.readIntVLV(),m=r.readInt(1),m!==-1);)if(m>=128?A=m:(m=A,r.movePointer(-1)),m===255){s.track[d-1].event[f-1].type=255,s.track[d-1].event[f-1].metaType=r.readInt(1);let p=r.readIntVLV();switch(s.track[d-1].event[f-1].metaType){case 47:case-1:M=!0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 6:s.track[d-1].event[f-1].data=r.readStr(p);break;case 33:case 89:case 81:s.track[d-1].event[f-1].data=r.readInt(p);break;case 84:s.track[d-1].event[f-1].data=[],s.track[d-1].event[f-1].data[0]=r.readInt(1),s.track[d-1].event[f-1].data[1]=r.readInt(1),s.track[d-1].event[f-1].data[2]=r.readInt(1),s.track[d-1].event[f-1].data[3]=r.readInt(1),s.track[d-1].event[f-1].data[4]=r.readInt(1);break;case 88:s.track[d-1].event[f-1].data=[],s.track[d-1].event[f-1].data[0]=r.readInt(1),s.track[d-1].event[f-1].data[1]=r.readInt(1),s.track[d-1].event[f-1].data[2]=r.readInt(1),s.track[d-1].event[f-1].data[3]=r.readInt(1);break;default:this.customInterpreter!==null&&(s.track[d-1].event[f-1].data=this.customInterpreter(s.track[d-1].event[f-1].metaType,r,p)),(this.customInterpreter===null||s.track[d-1].event[f-1].data===!1)&&(r.readInt(p),s.track[d-1].event[f-1].data=r.readInt(p),this.debug&&console.info("Unimplemented 0xFF meta event! data block readed as Integer"))}}else switch(m=m.toString(16).split(""),m[1]||m.unshift("0"),s.track[d-1].event[f-1].type=parseInt(m[0],16),s.track[d-1].event[f-1].channel=parseInt(m[1],16),s.track[d-1].event[f-1].type){case 15:{if(this.customInterpreter!==null&&(s.track[d-1].event[f-1].data=this.customInterpreter(s.track[d-1].event[f-1].type,r,!1)),this.customInterpreter===null||s.track[d-1].event[f-1].data===!1){let p=r.readIntVLV();s.track[d-1].event[f-1].data=r.readInt(p),this.debug&&console.info("Unimplemented 0xF exclusive events! data block readed as Integer")}break}case 10:case 11:case 14:case 8:case 9:s.track[d-1].event[f-1].data=[],s.track[d-1].event[f-1].data[0]=r.readInt(1),s.track[d-1].event[f-1].data[1]=r.readInt(1);break;case 12:case 13:s.track[d-1].event[f-1].data=r.readInt(1);break;case-1:M=!0;break;default:if(this.customInterpreter!==null&&(s.track[d-1].event[f-1].data=this.customInterpreter(s.track[d-1].event[f-1].metaType,r,!1)),this.customInterpreter===null||s.track[d-1].event[f-1].data===!1)return console.log("Unknown EVENT detected... reading cancelled!"),!1}}return s},customInterpreter:null};t.exports=i})()})(uq);function ta(t){return 1/(t/60)}const lB=[],dq=[2,1,1/2,1/4,1/8,1/16,1/32,1/64];for(const t of dq)for(let e=0;e<4;e++){let i=t,a=t;for(let r=0;r<e;r++)a/=2,i+=a;lB.push({type:t,dots:e,duration:i})}lB.sort((t,e)=>t.duration-e.duration);function U4(t,e,i,a){t.beginPath(),t.arc(e,i,a,0,2*Math.PI),t.stroke()}class Qn{constructor(e,i){this.name=e,this.notes=i,this.short=i.join(" "),this.pitches=i.map(a=>L4(a).pitch),this.stringCount=i.length}}const hq=new Map([["Guitar",new Map([[6,[new Qn("E stand.",["E2","A2","D3","G3","B3","E4"]),new Qn("Drop D",["D2","A2","D3","G3","B3","E4"]),new Qn("Drop C",["C2","G2","C3","F3","A3","D4"]),new Qn("1/2 down",["D#2","G#2","C#3","F#3","A#3","D#4"]),new Qn("1 down",["D2","G2","C3","F3","A3","D4"]),new Qn("1 1/2 down",["C#2","F#2","B2","E3","G#3","C#4"]),new Qn("2 down",["C2","F2","A#2","D#3","G3","C4"]),new Qn("DADGAG",["D2","A2","D3","G3","A3","D4"])]],[7,[new Qn("B stand.",["B1","E2","A2","D3","G3","B3","E4"]),new Qn("Drop A",["A1","E2","A2","D3","G3","B3","E4"]),new Qn("1/2 down",["A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new Qn("1 down",["A1","D2","G2","C3","F3","A3","D4"]),new Qn("1 1/2 down",["G#1","C#2","F#2","B2","E3","G#3","C#4"]),new Qn("2 down",["G1","C2","F2","A#2","D#3","G3","C4"])]],[8,[new Qn("F# stand.",["F#1","B1","E2","A2","D3","G3","B3","E4"]),new Qn("Drop E",["E1","B1","E2","A2","D3","G3","B3","E4"]),new Qn("1/2 down",["F1","A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new Qn("1 down",["E1","A1","D2","G2","C3","F3","A3","D4"]),new Qn("1 1/2 down",["D#1","G#1","C#2","F#2","B2","E3","G#3","C#4"]),new Qn("2 down",["D1","G1","C2","F2","A#2","D#3","G3","C4"])]]])],["Bass",new Map([[4,[new Qn("E stand.",["E1","A1","D2","G2"]),new Qn("Drop D",["D1","A1","D2","G2"]),new Qn("1/2 down",["D#1","G#1","C#2","F#2"]),new Qn("1 down",["D1","G1","C2","F2"]),new Qn("1 1/2 down",["C#1","F#1","B1","E2"]),new Qn("2 down",["C1","F1","A#1","D#2"])]],[5,[new Qn("B stand.",["B0","E1","A1","D2","G2"]),new Qn("Drop A",["A0","D1","A1","D2","G2"]),new Qn("1/2 down",["A#0","D#1","G#1","C#2","F#2"]),new Qn("1 down",["A0","D1","G1","C2","F2"]),new Qn("1 1/2 down",["G#0","C#1","F#1","B1","E2"]),new Qn("2 down",["G0","C1","F1","A#1","D#2"])]],[6,[new Qn("F# stand.",["F#0","B0","E1","A1","D2","G2"]),new Qn("Drop E",["E0","A0","D1","A1","D2","G2"]),new Qn("1/2 down",["F0","A#0","D#1","G#1","C#2","F#2"]),new Qn("1 down",["E1","A0","D1","G1","C2","F2"]),new Qn("1 1/2 down",["D#0","G#0","C#1","F#1","B1","E2"]),new Qn("2 down",["D0","G0","C1","F1","A#1","D#2"])]]])],["Ukulele",new Map([[4,[new Qn("Hawaii",["G4","C4","E4","A4"]),new Qn("Low G",["G3","C4","E4","A4"]),new Qn("D-tuning",["A4","D4","F#4","B4"]),new Qn("Canadian",["A3","D4","F#4","B4"]),new Qn("Bariton",["D3","G3","B3","E4"])]]])]]);function cB(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function uB(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var dB=[0,2,4,-1,1,3,5],hB=dB.map(t=>Math.floor(t*7/12));function fB(t){const{step:e,alt:i,oct:a,dir:r=1}=t,s=dB[e]+7*i;if(a===void 0)return[r*s];const l=a-hB[e]-4*i;return[r*s,r*l]}var fq=[3,0,4,1,5,2,6];function mB(t){const[e,i,a]=t,r=fq[mq(e)],s=Math.floor((e+1)/7);if(i===void 0)return{step:r,alt:s,dir:a};const l=i+4*s+hB[r];return{step:r,alt:s,oct:l,dir:a}}function mq(t){const e=(t+1)%7;return e<0?7+e:e}var Yb=(t,e)=>Array(Math.abs(e)+1).join(t),h7=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),pq="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",gq="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Mq=new RegExp("^"+pq+"|"+gq+"$");function Aq(t){const e=Mq.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var qb={};function kf(t){return typeof t=="string"?qb[t]||(qb[t]=yq(t)):uB(t)?kf(Cq(t)):cB(t)?kf(t.name):h7}var Zb=[0,2,4,5,7,9,11],pB="PMMPPMM";function yq(t){const e=Aq(t);if(e[0]==="")return h7;const i=+e[0],a=e[1],r=(Math.abs(i)-1)%7,s=pB[r];if(s==="M"&&a==="P")return h7;const l=s==="M"?"majorable":"perfectable",u=""+i+a,d=i<0?-1:1,c=i===8||i===-8?i:d*(r+1),f=bq(l,a),M=Math.floor((Math.abs(i)-1)/7),m=d*(Zb[r]+f+12*M),A=(d*(Zb[r]+f)%12+12)%12,p=fB({step:r,alt:f,oct:M,dir:d});return{empty:!1,name:u,num:i,q:a,step:r,alt:f,dir:d,type:l,simple:c,semitones:m,chroma:A,coord:p,oct:M}}function vq(t,e){const[i,a=0]=t,r=i*7+a*12<0,s=e||r?[-i,-a,-1]:[i,a,1];return kf(mB(s))}function bq(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Cq(t){const{step:e,alt:i,oct:a=0,dir:r}=t;if(!r)return"";const s=e+1+7*a,l=s===0?e+1:s,u=r<0?"-":"",d=pB[e]==="M"?"majorable":"perfectable";return u+l+Eq(d,i)}function Eq(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?Yb("A",e):Yb("d",t==="perfectable"?e:e+1)}var tC=(t,e)=>Array(Math.abs(e)+1).join(t),gB=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),eC=new Map,_q=t=>"CDEFGAB".charAt(t),wq=t=>t<0?tC("b",-t):tC("#",t),Oq=t=>t[0]==="b"?-t.length:t.length;function ua(t){const e=JSON.stringify(t),i=eC.get(e);if(i)return i;const a=typeof t=="string"?Bq(t):uB(t)?ua(Rq(t)):cB(t)?ua(t.name):gB;return eC.set(e,a),a}var xq=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Sq(t){const e=xq.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function Tq(t){return ua(mB(t))}var Iq=(t,e)=>(t%e+e)%e,U5=[0,2,4,5,7,9,11];function Bq(t){const e=Sq(t);if(e[0]===""||e[3]!=="")return gB;const i=e[0],a=e[1],r=e[2],s=(i.charCodeAt(0)+3)%7,l=Oq(a),u=r.length?+r:void 0,d=fB({step:s,alt:l,oct:u}),c=i+a+r,f=i+a,M=(U5[s]+l+120)%12,m=u===void 0?Iq(U5[s]+l,12)-12*99:U5[s]+l+12*(u+1),A=m>=0&&m<=127?m:null,p=u===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:a,alt:l,chroma:M,coord:d,freq:p,height:m,letter:i,midi:A,name:c,oct:u,pc:f,step:s}}function Rq(t){const{step:e,alt:i,oct:a}=t,r=_q(e);if(!r)return"";const s=r+wq(i);return a||a===0?s+a:s}function Td(t,e){const i=ua(t),a=Array.isArray(e)?e:kf(e).coord;if(i.empty||!a||a.length<2)return"";const r=i.coord,s=r.length===1?[r[0]+a[0]]:[r[0]+a[0],r[1]+a[1]];return Tq(s).name}function MB(t,e){const i=t.length;return a=>{if(!e)return"";const r=a<0?(i- -a%i)%i:a%i,s=Math.floor(a/i),l=Td(e,[0,s]);return Td(l,t[r])}}function Dq(t,e){const i=ua(t),a=ua(e);if(i.empty||a.empty)return"";const r=i.coord,s=a.coord,l=s[0]-r[0],u=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(l*7/12),d=a.height===i.height&&a.midi!==null&&i.oct===a.oct&&i.step>a.step;return vq([l,u],d).name}function Pq(t,e){const i=[];for(;e--;i[e]=e+t);return i}function Lq(t,e){const i=[];for(;e--;i[e]=t-e);return i}function kq(t,e){return t<e?Pq(t,e-t+1):Lq(t,t-e+1)}function I1(t,e){const i=e.length,a=(t%i+i)%i;return e.slice(a,i).concat(e.slice(0,a))}function Nq(t){return t.filter(e=>e===0||e)}var Rl={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},AB=t=>Number(t).toString(2).padStart(12,"0"),iC=t=>parseInt(t,2),Fq=/^[01]{12}$/;function Og(t){return Fq.test(t)}var Uq=t=>typeof t=="number"&&t>=0&&t<=4095,$q=t=>t&&Og(t.chroma),nC={[Rl.chroma]:Rl};function ks(t){const e=Og(t)?t:Uq(t)?AB(t):Array.isArray(t)?Jq(t):$q(t)?t.chroma:Rl.chroma;return nC[e]=nC[e]||zq(e)}var Gq=t=>ks(t).chroma,Hq=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Vq(t){const e=[];for(let i=0;i<12;i++)t.charAt(i)==="1"&&e.push(Hq[i]);return e}function yB(t,e=!0){const a=ks(t).chroma.split("");return Nq(a.map((r,s)=>{const l=I1(s,a);return e&&l[0]==="0"?null:l.join("")}))}function xg(t){const e=ks(t).setNum;return i=>{const a=ks(i).setNum;return e&&e!==a&&(a&e)===a}}function Sg(t){const e=ks(t).setNum;return i=>{const a=ks(i).setNum;return e&&e!==a&&(a|e)===a}}function Qq(t){const e=t.split("");return e.map((i,a)=>I1(a,e).join(""))}function zq(t){const e=iC(t),i=Qq(t).map(iC).filter(s=>s>=2048).sort()[0],a=AB(i),r=Vq(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:a,intervals:r}}function Jq(t){if(t.length===0)return Rl.chroma;let e;const i=[0,0,0,0,0,0,0,0,0,0,0,0];for(let a=0;a<t.length;a++)e=ua(t[a]),e.empty&&(e=kf(t[a])),e.empty||(i[e.chroma]=1);return i.join("")}var jq=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Wq=jq;({...Rl});var Tg=[],l3={};function vB(){return Tg.slice()}function Kq(t,e,i){const a=Yq(t),r={...ks(t),name:i||"",quality:a,intervals:t,aliases:e};Tg.push(r),r.name&&(l3[r.name]=r),l3[r.setNum]=r,l3[r.chroma]=r,r.aliases.forEach(s=>Xq(r,s))}function Xq(t,e){l3[e]=t}function Yq(t){const e=i=>t.indexOf(i)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}Wq.forEach(([t,e,i])=>Kq(t.split(" "),i.split(" "),e));Tg.sort((t,e)=>t.setNum-e.setNum);var qq=t=>{const e=t.reduce((i,a)=>{const r=ua(a).chroma;return r!==void 0&&(i[r]=i[r]||ua(a).name),i},{});return i=>e[i]};function Zq(t,e={}){const i=t.map(r=>ua(r).pc).filter(r=>r);return ua.length===0?[]:oZ(i,1,e).filter(r=>r.weight).sort((r,s)=>s.weight-r.weight).map(r=>r.name)}var $4={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},G4=t=>e=>!!(e&t),tZ=G4($4.anyThirds),eZ=G4($4.perfectFifth),iZ=G4($4.anySeventh),nZ=G4($4.nonPerfectFifths);function aZ(t){const e=parseInt(t.chroma,2);return tZ(e)&&eZ(e)&&iZ(e)}function rZ(t){const e=parseInt(t,2);return nZ(e)?t:(e|16).toString(2)}function oZ(t,e,i){const a=t[0],r=ua(a).chroma,s=qq(t),l=yB(t,!1),u=[];return l.forEach((d,c)=>{const f=i.assumePerfectFifth&&rZ(d);vB().filter(m=>i.assumePerfectFifth&&aZ(m)?m.chroma===f:m.chroma===d).forEach(m=>{const A=m.aliases[0],p=s(c);c!==r?u.push({weight:.5*e,name:`${p}${A}/${a}`}):u.push({weight:1*e,name:`${p}${A}`})})}),u}function bB(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function CB(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var EB=[0,2,4,-1,1,3,5],_B=EB.map(t=>Math.floor(t*7/12));function wB(t){const{step:e,alt:i,oct:a,dir:r=1}=t,s=EB[e]+7*i;if(a===void 0)return[r*s];const l=a-_B[e]-4*i;return[r*s,r*l]}var sZ=[3,0,4,1,5,2,6];function OB(t){const[e,i,a]=t,r=sZ[lZ(e)],s=Math.floor((e+1)/7);if(i===void 0)return{step:r,alt:s,dir:a};const l=i+4*s+_B[r];return{step:r,alt:s,oct:l,dir:a}}function lZ(t){const e=(t+1)%7;return e<0?7+e:e}var aC=(t,e)=>Array(Math.abs(e)+1).join(t),f7={empty:!0,name:"",acc:""},cZ="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",uZ="(AA|A|P|M|m|d|dd)([-+]?\\d+)",dZ=new RegExp("^"+cZ+"|"+uZ+"$");function hZ(t){const e=dZ.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var rC={};function X3(t){return typeof t=="string"?rC[t]||(rC[t]=fZ(t)):CB(t)?X3(gZ(t)):bB(t)?X3(t.name):f7}var oC=[0,2,4,5,7,9,11],xB="PMMPPMM";function fZ(t){const e=hZ(t);if(e[0]==="")return f7;const i=+e[0],a=e[1],r=(Math.abs(i)-1)%7,s=xB[r];if(s==="M"&&a==="P")return f7;const l=s==="M"?"majorable":"perfectable",u=""+i+a,d=i<0?-1:1,c=i===8||i===-8?i:d*(r+1),f=pZ(l,a),M=Math.floor((Math.abs(i)-1)/7),m=d*(oC[r]+f+12*M),A=(d*(oC[r]+f)%12+12)%12,p=wB({step:r,alt:f,oct:M,dir:d});return{empty:!1,name:u,num:i,q:a,step:r,alt:f,dir:d,type:l,simple:c,semitones:m,chroma:A,coord:p,oct:M}}function mZ(t,e){const[i,a=0]=t,r=i*7+a*12<0,s=e||r?[-i,-a,-1]:[i,a,1];return X3(OB(s))}function pZ(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function gZ(t){const{step:e,alt:i,oct:a=0,dir:r}=t;if(!r)return"";const s=e+1+7*a,l=s===0?e+1:s,u=r<0?"-":"",d=xB[e]==="M"?"majorable":"perfectable";return u+l+MZ(d,i)}function MZ(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?aC("A",e):aC("d",t==="perfectable"?e:e+1)}var sC=(t,e)=>Array(Math.abs(e)+1).join(t),SB={empty:!0,name:"",pc:"",acc:""},lC=new Map,AZ=t=>"CDEFGAB".charAt(t),yZ=t=>t<0?sC("b",-t):sC("#",t),vZ=t=>t[0]==="b"?-t.length:t.length;function Dl(t){const e=JSON.stringify(t),i=lC.get(e);if(i)return i;const a=typeof t=="string"?_Z(t):CB(t)?Dl(wZ(t)):bB(t)?Dl(t.name):SB;return lC.set(e,a),a}var bZ=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function TB(t){const e=bZ.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function CZ(t){return Dl(OB(t))}var EZ=(t,e)=>(t%e+e)%e,$5=[0,2,4,5,7,9,11];function _Z(t){const e=TB(t);if(e[0]===""||e[3]!=="")return SB;const i=e[0],a=e[1],r=e[2],s=(i.charCodeAt(0)+3)%7,l=vZ(a),u=r.length?+r:void 0,d=wB({step:s,alt:l,oct:u}),c=i+a+r,f=i+a,M=($5[s]+l+120)%12,m=u===void 0?EZ($5[s]+l,12)-12*99:$5[s]+l+12*(u+1),A=m>=0&&m<=127?m:null,p=u===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:a,alt:l,chroma:M,coord:d,freq:p,height:m,letter:i,midi:A,name:c,oct:u,pc:f,step:s}}function wZ(t){const{step:e,alt:i,oct:a}=t,r=AZ(e);if(!r)return"";const s=r+yZ(i);return a||a===0?s+a:s}function Y3(t,e){const i=Dl(t),a=Array.isArray(e)?e:X3(e).coord;if(i.empty||!a||a.length<2)return"";const r=i.coord,s=r.length===1?[r[0]+a[0]]:[r[0]+a[0],r[1]+a[1]];return CZ(s).name}function IB(t,e){const i=t.length;return a=>{if(!e)return"";const r=a<0?(i- -a%i)%i:a%i,s=Math.floor(a/i),l=Y3(e,[0,s]);return Y3(l,t[r])}}function OZ(t,e){const i=Dl(t),a=Dl(e);if(i.empty||a.empty)return"";const r=i.coord,s=a.coord,l=s[0]-r[0],u=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(l*7/12),d=a.height===i.height&&a.midi!==null&&i.midi!==null&&i.step>a.step;return mZ([l,u],d).name}function xZ(t,e,i){return function(...a){return console.warn(`${t} is deprecated. Use ${e}.`),i.apply(this,a)}}var SZ=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],TZ=SZ,IZ={...Rl,name:"",quality:"Unknown",intervals:[],aliases:[]},Ig=[],ff={};function BZ(t){return ff[t]||IZ}function BB(){return Ig.slice()}function RZ(t,e,i){const a=PZ(t),r={...ks(t),name:i||"",quality:a,intervals:t,aliases:e};Ig.push(r),r.name&&(ff[r.name]=r),ff[r.setNum]=r,ff[r.chroma]=r,r.aliases.forEach(s=>DZ(r,s))}function DZ(t,e){ff[e]=t}function PZ(t){const e=i=>t.indexOf(i)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}TZ.forEach(([t,e,i])=>RZ(t.split(" "),i.split(" "),e));Ig.sort((t,e)=>t.setNum-e.setNum);var LZ=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],kZ=LZ,NZ={...Rl,intervals:[],aliases:[]},Bg=[],mf={};function FZ(){return Bg.map(t=>t.name)}function RB(t){return mf[t]||NZ}function H4(){return Bg.slice()}function UZ(t,e,i=[]){const a={...ks(t),name:e,intervals:t,aliases:i};return Bg.push(a),mf[a.name]=a,mf[a.setNum]=a,mf[a.chroma]=a,a.aliases.forEach(r=>$Z(a,r)),a}function $Z(t,e){mf[e]=t}kZ.forEach(([t,e,...i])=>UZ(t.split(" "),e,i));var m7={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Rg(t){const[e,i,a,r]=TB(t);return e===""?["",t]:e==="A"&&r==="ug"?["","aug"]:[e+i,a+r]}function qc(t){if(t==="")return m7;if(Array.isArray(t)&&t.length===2)return c3(t[1],t[0]);{const[e,i]=Rg(t),a=c3(i,e);return a.empty?c3(t):a}}function c3(t,e,i){const a=BZ(t),r=Dl(e||""),s=Dl(i||"");if(a.empty||e&&r.empty||i&&s.empty)return m7;const l=OZ(r.pc,s.pc),u=a.intervals.indexOf(l)+1;if(!s.empty&&!u)return m7;const d=Array.from(a.intervals);for(let m=1;m<u;m++){const A=d[0][0],p=d[0][1],y=parseInt(A,10)+7;d.push(`${y}${p}`),d.shift()}const c=r.empty?[]:d.map(m=>Y3(r,m));t=a.aliases.indexOf(t)!==-1?t:a.aliases[0];const f=`${r.empty?"":r.pc}${t}${s.empty||u<=1?"":"/"+s.pc}`,M=`${e?r.pc+" ":""}${a.name}${u>1&&i?" over "+s.pc:""}`;return{...a,name:M,symbol:f,type:a.name,root:s.name,intervals:d,rootDegree:u,tonic:r.name,notes:c}}var GZ=xZ("Chord.chord","Chord.get",qc);function HZ(t,e){const[i,a]=Rg(t);return i?Y3(i,e)+a:t}function VZ(t){const e=qc(t),i=Sg(e.chroma);return H4().filter(a=>i(a.chroma)).map(a=>a.name)}function QZ(t){const e=qc(t),i=Sg(e.chroma);return BB().filter(a=>i(a.chroma)).map(a=>e.tonic+a.aliases[0])}function zZ(t){const e=qc(t),i=xg(e.chroma);return BB().filter(a=>i(a.chroma)).map(a=>e.tonic+a.aliases[0])}function JZ(t){const{intervals:e,tonic:i}=qc(t),a=IB(e,i);return r=>r?a(r>0?r-1:r):""}function jZ(t){const{intervals:e,tonic:i}=qc(t);return IB(e,i)}var Nf={getChord:c3,get:qc,detect:Zq,chordScales:VZ,extended:QZ,reduced:zZ,tokenize:Rg,transpose:HZ,degrees:JZ,steps:jZ,chord:GZ};function DB(t){return+t>=0&&+t<=127}function WZ(t){if(DB(t))return+t;const e=ua(t);return e.empty?null:e.midi}function KZ(t,e=440){return Math.pow(2,(t-69)/12)*e}var XZ=Math.log(2),YZ=Math.log(440);function Dg(t){const e=12*(Math.log(t)-YZ)/XZ+69;return Math.round(e*100)/100}var qZ="C C# D D# E F F# G G# A A# B".split(" "),ZZ="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Zc(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const a=(e.sharps===!0?qZ:ZZ)[t%12];if(e.pitchClass)return a;const r=Math.floor(t/12)-1;return a+r}function Pg(t){return t%12}function ttt(t){return t.split("").reduce((e,i,a)=>(a<12&&i==="1"&&e.push(a),e),[])}function ett(t){return t.map(Pg).sort((e,i)=>e-i).filter((e,i,a)=>i===0||e!==a[i-1])}function Lg(t){return Array.isArray(t)?ett(t):ttt(t)}function itt(t){const e=Lg(t);return i=>{const a=Pg(i);for(let r=0;r<12;r++){if(e.includes(a+r))return i+r;if(e.includes(a-r))return i-r}}}function PB(t,e){const i=Lg(t),a=i.length;return r=>{const s=r<0?(a- -r%a)%a:r%a,l=Math.floor(r/a);return i[s]+l*12+e}}function ntt(t,e){const i=PB(t,e);return a=>{if(a!==0)return i(a>0?a-1:a)}}var Ff={chroma:Pg,freqToMidi:Dg,isMidi:DB,midiToFreq:KZ,midiToNoteName:Zc,pcsetNearest:itt,pcset:Lg,pcsetDegrees:ntt,pcsetSteps:PB,toMidi:WZ},att=["C","D","E","F","G","A","B"],LB=t=>t.name,kB=t=>t.map(ua).filter(e=>!e.empty);function rtt(t){return t===void 0?att.slice():Array.isArray(t)?kB(t).map(LB):[]}var ro=ua,ott=t=>ro(t).name,stt=t=>ro(t).pc,ltt=t=>ro(t).acc,ctt=t=>ro(t).oct,utt=t=>ro(t).midi,dtt=t=>ro(t).freq,htt=t=>ro(t).chroma;function NB(t){return Zc(t)}function ftt(t){return Zc(Dg(t))}function mtt(t){return Zc(Dg(t),{sharps:!0})}function ptt(t){return Zc(t,{sharps:!0})}var gtt=Dq,B1=Td,Mtt=Td,FB=t=>e=>B1(e,t),Att=FB,UB=t=>e=>B1(t,e),ytt=UB;function $B(t,e){return B1(t,[e,0])}var vtt=$B;function btt(t,e){return B1(t,[0,e])}var kg=(t,e)=>t.height-e.height,Ctt=(t,e)=>e.height-t.height;function GB(t,e){return e=e||kg,kB(t).sort(e).map(LB)}function HB(t){return GB(t,kg).filter((e,i,a)=>i===0||e!==a[i-1])}var Ett=t=>{const e=ro(t);return e.empty?"":Zc(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function VB(t,e){const i=ro(t);if(i.empty)return"";const a=ro(e||Zc(i.midi||i.chroma,{sharps:i.alt<0,pitchClass:!0}));if(a.empty||a.chroma!==i.chroma)return"";if(i.oct===void 0)return a.pc;const r=i.chroma-i.alt,s=a.chroma-a.alt,l=r>11||s<0?-1:r<0||s>11?1:0,u=i.oct+l;return a.pc+u}var Ga={names:rtt,get:ro,name:ott,pitchClass:stt,accidentals:ltt,octave:ctt,midi:utt,ascending:kg,descending:Ctt,distance:gtt,sortedNames:GB,sortedUniqNames:HB,fromMidi:NB,fromMidiSharps:ptt,freq:dtt,fromFreq:ftt,fromFreqSharps:mtt,chroma:htt,transpose:B1,tr:Mtt,transposeBy:FB,trBy:Att,transposeFrom:UB,trFrom:ytt,transposeFifths:$B,transposeOctaves:btt,trFifths:vtt,simplify:Ett,enharmonic:VB},Ng=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],cC={...Rl,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},_tt=Ng.map(wtt),p7={};_tt.forEach(t=>{p7[t.name]=t,t.aliases.forEach(e=>{p7[e]=t})});function QB(t){return typeof t=="string"?p7[t.toLowerCase()]||cC:t&&t.name?QB(t.name):cC}function wtt(t){const[e,i,a,r,s,l,u]=t,d=u?[u]:[],c=Number(i).toString(2);return{empty:!1,intervals:RB(r).intervals,modeNum:e,chroma:c,normalized:c,name:r,setNum:i,alt:a,triad:s,seventh:l,aliases:d}}function zB(t){return(e,i)=>{const a=QB(e);if(a.empty)return[];const r=I1(a.modeNum,t),s=a.intervals.map(l=>Td(i,l));return r.map((l,u)=>s[u]+l)}}zB(Ng.map(t=>t[4]));zB(Ng.map(t=>t[5]));var Ott={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function JB(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),i=ua(t.substring(0,e));if(i.empty){const r=ua(t);return r.empty?["",t]:[r.name,""]}const a=t.substring(i.name.length+1).toLowerCase();return[i.name,a.length?a:""]}var xtt=FZ;function $o(t){const e=Array.isArray(t)?t:JB(t),i=ua(e[0]).name,a=RB(e[1]);if(a.empty)return Ott;const r=a.name,s=i?a.intervals.map(u=>Td(i,u)):[],l=i?i+" "+r:r;return{...a,name:l,type:r,tonic:i,notes:s}}var Stt=$o;function Ttt(t,e={}){const i=Gq(t),a=ua(e.tonic??t[0]??""),r=a.chroma;if(r===void 0)return[];const s=i.split("");s[r]="1";const l=I1(r,s).join(""),u=H4().find(c=>c.chroma===l),d=[];return u&&d.push(a.name+" "+u.name),e.match==="exact"||jB(l).forEach(c=>{d.push(a.name+" "+c)}),d}function Itt(t){const e=$o(t),i=xg(e.chroma);return vB().filter(a=>i(a.chroma)).map(a=>a.aliases[0])}function jB(t){const e=Og(t)?t:$o(t).chroma,i=Sg(e);return H4().filter(a=>i(a.chroma)).map(a=>a.name)}function Btt(t){const e=xg($o(t).chroma);return H4().filter(i=>e(i.chroma)).map(i=>i.name)}function WB(t){const e=t.map(r=>ua(r).pc).filter(r=>r),i=e[0],a=HB(e);return I1(a.indexOf(i),a)}function Rtt(t){const e=$o(t);if(e.empty)return[];const i=e.tonic?e.notes:e.intervals;return yB(e.chroma).map((a,r)=>{const s=$o(a).name;return s?[i[r],s]:["",""]}).filter(a=>a[0])}function Dtt(t){const e=Array.isArray(t)?WB(t):$o(t).notes,i=e.map(a=>ua(a).chroma);return a=>{const r=ua(typeof a=="number"?NB(a):a),s=r.height;if(s===void 0)return;const l=s%12,u=i.indexOf(l);if(u!==-1)return VB(r.name,e[u])}}function Ptt(t){const e=Dtt(t);return(i,a)=>{const r=ua(i).height,s=ua(a).height;return r===void 0||s===void 0?[]:kq(r,s).map(e).filter(l=>l)}}function Ltt(t){const{intervals:e,tonic:i}=$o(t),a=MB(e,i);return r=>r?a(r>0?r-1:r):""}function ktt(t){const{intervals:e,tonic:i}=$o(t);return MB(e,i)}var sr={degrees:Ltt,detect:Ttt,extended:jB,get:$o,modeNames:Rtt,names:xtt,rangeOf:Ptt,reduced:Btt,scaleChords:Itt,scaleNotes:WB,steps:ktt,tokenize:JB,scale:Stt};class ol{constructor(e,i){this.name=e,this.notes=i,this.short=i.join(" "),this.pitches=i.map(a=>L4(a).pitch),this.pitchesSorted=[...this.pitches].sort((a,r)=>a-r),this.keyCount=i.length}getNumbers(){const e=this.pitchesSorted,i=new Map;for(const[a,r]of e.entries()){let s=a+1,l="",u=r-12;for(;u>0&&i.has(u);)s=i.get(u).number,l+="",u-=12;i.set(r,{number:s,numberString:`${s}${l}`})}return[...i.values()].map(a=>a.numberString)}getLetters(){const e=this.pitchesSorted,i=new Map;for(const[a,r]of e.entries()){let s=a+1,l="",u=r-12;for(;u>0&&i.has(u);)s=i.get(u).number,l+="",u-=12;const d=n3(r).name;i.set(r,{number:s,letterString:`${d}${l}`})}return[...i.values()].map(a=>a.letterString)}}new ol("9 A Major",["A5","C#6","C#5","A5","A4","F#5","E5","E6","B5"]),new ol("9 A Minor",["A5","C6","C5","A5","A4","F5","E5","E6","B5"]),new ol("9 A Minor 7",["A5","C6","C5","A5","A4","F#5","E5","E6","B5"]),new ol("9 A Ake Bono",["A5","D6","D5","A5","A4","F5","E5","E6","A#5"]),new ol("9 A Hijaz",["G5","D6","D5","A5","A4","F#5","D#5","D#6","A#5"]),new ol("9 A Pygmy",["G5","C6","C5","G5","G4","D#5","D5","D#6","A#5"]),new ol("17 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","C4","E4","G4","B4","D5","F5","A5","C6","E6"]),new ol("21 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","B3","G3","F3","A3","C4","E4","G4","B4","D5","F5","A5","C6","E6"]);function Ntt(t){const{r:e,g:i,b:a}=xd(t).rgb();return(e+e+e+a+i+i+i+i>>3)/2.55}function Ftt(t,e=1){const i=XI(t);return i.s=e,i.toString()}const Utt=["#ff0000","#ff4e00","#db7b00","#ffcc00","#e4ed00","#81d700","#00ffb4","#00ffea","#00baff","#3c00ff","#a800ff","#ff00fd"].map(t=>Ftt(t,.5)),$tt=["#6699ff","#66ffff","#000000","#647878","#993366","#ff0000","#ffcc99","#ffff01","#ff9900","#009900","#66ff99","#0000cc"],Gtt=["#9aebff","#add5ff","#d6d6ff","#ebd5ff","#ffc2eb","#ffcbcc","#ffd5c2","#ffebc2","#ebffc2","#c2d599","#99ebbe","#adebeb"],Htt=["#FA0B0C","#FA0B0C","#F88010","#F88010","#F5F43C","#149033","#149033","#FA0B0C","#FA0B0C","#7F087C","#7F087C","#908791"],Vtt=["#1C0D82","#F5F5F5","#149033","#709226","#F5F43C","#F5D23B","#F88010","#FA0B0C","#A00C09","#D71386","#4B0E7D","#7F087C"],Qtt=["#1C0D82","#1C0D82","#7F087C","#7F087C","#FA0B0C","#F88010","#F88010","#F5F43C","#F5F43C","#709226","#709226","#149033"],ztt=["#FA0B0C","#F44712","#F88010","#F5D23B","#F5F43C","#149033","#1B9081","#1C0D82","#4B0E7D","#7F087C","#A61586","#D71386"],Jtt=["#6A1C1C","#FA0B0C","#F88010","#F5D23B","#F5F43C","#709226","#1B9081","#1C0D82","#7F087C","#D71386","#6A1C1C","#070707"],jtt=["#FA0B0C","#A00C09","#F44712","#F88010","#F5F43C","#709226","#149033","#27A481","#1B9081","#7F087C","#1C0D82","#D71386"],Wtt=["#FA0B0C","#A00C09","#F88010","#F6D111","#F5F43C","#BCE039","#149033","#27A481","#7F087C","#D71386","#D91951","#FA0B0C"],Ktt=["#F5F43C","#149033","#1B9081","#1C5BA0","#7F087C","#D71386","#9D0E55","#FA0B0C","#D32C0A","#D32C0A","#F62E0D","#F17A0F"],Xtt=["#FA0B0C","#D71386","#F5F43C","#5A5685","#1C5BA0","#A00C09","#1C0D82","#F88010","#7F087C","#149033","#5A5685","#1C5BA0"],Ytt=["#C40A09","#FA0B0C","#F44712","#F88010","#F5F43C","#BCE039","#149033","#1B9081","#1C0D82","#781887","#D71386","#9D0E55"],qtt=["#FA0B0C","#FA0B0C","#F88010","#F88010","#F5F43C","#F5F43C","#149033","#1B9081","#1B9081","#1C5BA0","#4B0E7D","#7F087C"],Ztt=["#FA0B0C","#F44712","#F88010","#F6D111","#F5F43C","#BCE039","#149033","#1B9081","#1C0D82","#A61586","#D71386","#AD0E48"],tet=["#BCE039","#149033","#1B9081","#1C0D82","#7F087C","#D71386","#6F0D45","#A00C09","#FA0B0C","#F88010","#EDF087","#F5F43C"],eet=o7("black","steelblue");Array.from({length:12}).map((t,e)=>eet(e/11));function iet(t){return 60*1/t}function net(t,e){return Ei(Math.ceil(t/12)*12,e+1,12)}function La(t,e,i){return t<e?e:t>i?i:t}function g7(t){return new Promise(e=>{setTimeout(e,t*1e3)})}function pf(t,e){return t.has(e)?t.delete(e):t.add(e),new Set(t)}function G5(t,e){for(const i of e)if(t.has(i))return!0;return!1}function uC(t,e){return Math.round(t/e)*e}function dC(t){const e=new Date,i=1e3*60*60*24,a=e.getTime()-t.getTime(),r=Math.round(a/i);return r===0?"today":r===1?"yesterday":r+" days ago"}function Uf(t,e,i,a,r){if(!t||t.length===0)return null;let s=0;const[l,u]=e.split(":").map(m=>+m),d=ta(i)*l,c=d/(l*u),f=Ei(0,d+c,c),M=d/a;for(const m of t){const A=(m+r)%d;let p=1/0;for(const y of f){const E=Math.abs(y-A);E<p&&(p=E)}p<=M&&s++}return s}const hC="",fC="",aet="",H5="",Id="",mC="",pC="",KB="",XB="",YB="",ret="",oet="",set="",gC="",Lm="",MC="",qB="",P0=[{title:"timing",description:"Performing actions at the itended time",children:[{id:"duration",title:"duration",description:"Notes should be played according to the intended duration"},{id:"sub-division",title:"sub-division",description:"Note onsets should follow a sub-division of beats consistently, for example, playing straight eighths or triplets"},{id:"tempo-keeping",title:"tempo keeping",description:"The tempo should be kept constant over a longer stretch of time without the help of a metronome"},{id:"swing-feel",title:"swing feel",description:"Playing a swing feel, meaning that every even (sub)beat is shifted in time consistently by the intended amount"},{id:"timing-consistency",title:"timing consistency",description:"When playing the same musical pattern multiple times, the timing should be similar"},{id:"syncopation",title:"syncopation",description:"When playing different rhythms together, the timing should be on grid"},{id:"synchronized-body-parts",title:"synchronized body parts",description:"Notes played with different body parts (e.g., hands) should be played synchronized"}]},{title:"pitch",description:"Playing or modulating notes at the intended pitch (frequency in Hertz)",children:[{id:"on-pitch",title:"on pitch",description:"When playing a melody, the notes' pitches should be hit correctly"},{id:"pitch-keeping",title:"pitch keeping",description:"The pitch should start and stay at the intended note"},{id:"bending",title:"bending",description:"Bends should reach and stay at the intended semitone; the bend should start and end as quickly as intended"},{id:"vibrato",title:"vibrato",description:"Vibratos should have the intended shift in pitch and the intended frequency of modulation"}]},{title:"dynamics",description:"Playing notes at the intended loudness and changing or varying this loudness as intended",children:[{id:"constant-dynamics",title:"constant dynamics",description:"Notes should have the same loudness"},{id:"accents",title:"accents",description:"Important notes should be louder than others, for example, to highlight the first of a group of 3 or 4 notes"},{id:"(de)crescendo",title:"(de)crescendo",description:"When getting louder/quieter, the loudness should in- or decrease smoothly"}]},{title:"chords",description:"Playing chord or arpeggios",children:[{id:"chord-timing",title:"chord timing",description:"Notes in a chord should start at the same time and the time between chords should be consistent"},{id:"arpeggio-timing",title:"arpeggio timing",description:"Notes in an arpeggio should be spaced out evenly and the time between arpeggios should be consistent"},{id:"chord-notes",title:"chord notes",description:"The notes in a chord should be played as planned or chosen to match the intended harmony or dissonance"}]},{title:"improvisation",description:"Improvisation",children:[{id:"pitch-intervals",title:"intervals",description:"In improvisation, the intervals between consecutive notes should match the intended harmony or dissonance"},{id:"scale-notes",title:"scale notes",description:"The musicians should know which notes belong to a scale"},{id:"scale-degrees",title:"scale degrees",description:"In improvisation, scale degrees should be used to appropriate amounts"}]},{title:"instrument",description:"Knowing and correctly using the instrument and all its part",children:[{id:"instrument-layout",title:"instrument layout",description:"The musician should know where notes are played on the instrument and use different parts of it appropriately"},{id:"strumming-direction",title:"strumming direction",description:"Chords should be strummed in the intended direction"},{id:"strumming-strings",title:"strumming strings",description:"Only the intended strings should be strummed"}]}];for(const t of P0)for(const[e,i]of t.children.entries())i.label=`${t.title.at(0).toUpperCase()}${e+1}`;function ZB(t){let e=[];for(const i of t)i.id?e.push(i):e=[...e,...ZB(i.children)];return e}const cet=ZB(P0);function AC(t,e,i){const a=t.slice();return a[5]=e[i],a}function yC(t,e,i){const a=t.slice();return a[8]=e[i],a}function vC(t){let e,i=$e(t[5].children),a=[];for(let r=0;r<i.length;r+=1)a[r]=bC(yC(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p(r,s){if(s&3){i=$e(r[5].children);let l;for(l=0;l<i.length;l+=1){const u=yC(r,i,l);a[l]?a[l].p(u,s):(a[l]=bC(u),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(r){r&&bt(e),xi(a,r)}}}function bC(t){let e,i=t[8].title+"",a,r,s,l;function u(){return t[4](t[8])}return{c(){e=K("button"),a=oe(i),r=q(),dt(e,"class","skill svelte-ard5v")},m(d,c){Ct(d,e,c),B(e,a),B(e,r),s||(l=Ue(e,"click",u),s=!0)},p(d,c){t=d,c&2&&i!==(i=t[8].title+"")&&Ge(a,i)},d(d){d&&bt(e),s=!1,l()}}}function CC(t){let e,i,a=(t[5].shown?hC:fC)+"",r,s,l=t[5].title+"",u,d,c,f,M;function m(){return t[3](t[5])}let A=t[5].shown&&vC(t);return{c(){e=K("button"),i=oe(`
            `),r=oe(a),s=q(),u=oe(l),d=q(),A&&A.c(),c=V9(),dt(e,"class","node svelte-ard5v")},m(p,y){Ct(p,e,y),B(e,i),B(e,r),B(e,s),B(e,u),Ct(p,d,y),A&&A.m(p,y),Ct(p,c,y),f||(M=Ue(e,"click",m),f=!0)},p(p,y){t=p,y&2&&a!==(a=(t[5].shown?hC:fC)+"")&&Ge(r,a),y&2&&l!==(l=t[5].title+"")&&Ge(u,l),t[5].shown?A?A.p(t,y):(A=vC(t),A.c(),A.m(c.parentNode,c)):A&&(A.d(1),A=null)},d(p){p&&(bt(e),bt(d),bt(c)),A&&A.d(p),f=!1,M()}}}function uet(t){let e,i,a,r=$e(t[1]),s=[];for(let l=0;l<r.length;l+=1)s[l]=CC(AC(t,r,l));return{c(){e=K("main"),i=K("h2"),i.textContent="skills",a=q();for(let l=0;l<s.length;l+=1)s[l].c();dt(e,"class","svelte-ard5v")},m(l,u){Ct(l,e,u),B(e,i),B(e,a);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null)},p(l,[u]){if(u&7){r=$e(l[1]);let d;for(d=0;d<r.length;d+=1){const c=AC(l,r,d);s[d]?s[d].p(c,u):(s[d]=CC(c),s[d].c(),s[d].m(e,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=r.length}},i:Ne,o:Ne,d(l){l&&bt(e),xi(s,l)}}}function det(t,e,i){let{currentSkills:a=new Set}=e,r=P0;const s=d=>{const c=!d.shown;c&&r.flat(1/0).forEach(f=>f.shown=!1),d.shown=c,i(1,r=[...r])},l=d=>s(d),u=d=>i(0,a=new Set([d.id]));return t.$$set=d=>{"currentSkills"in d&&i(0,a=d.currentSkills)},[a,r,s,l,u]}class het extends Ki{constructor(e){super(),Wi(this,e,det,uet,ji,{currentSkills:0})}}class to{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,i,a={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==to.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof i!="function")throw new TypeError("The callback must be a function.");const r=new EC(e,this,i,a);return this.eventMap[e]||(this.eventMap[e]=[]),a.prepend?this.eventMap[e].unshift(r):this.eventMap[e].push(r),r}addOneTimeListener(e,i,a={}){a.remaining=1,this.addListener(e,i,a)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,i){return e===void 0?this.eventMap[to.ANY_EVENT]&&this.eventMap[to.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,a])=>a.length>0):this.eventMap[e]&&this.eventMap[e].length>0?i instanceof EC?this.eventMap[e].filter(r=>r===i).length>0:typeof i=="function"?this.eventMap[e].filter(r=>r.callback===i).length>0:i==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(i=>{i.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(i=>{i.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...i){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let a=[],r=this.eventMap[to.ANY_EVENT]||[];return this.eventMap[e]&&(r=r.concat(this.eventMap[e])),r.forEach(s=>{if(s.suspended)return;let l=[...i];Array.isArray(s.arguments)&&(l=l.concat(s.arguments)),s.remaining>0&&(a.push(s.callback.apply(s.context,l)),s.count++),--s.remaining<1&&s.remove()}),a}removeListener(e,i,a={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let r=this.eventMap[e].filter(s=>i&&s.callback!==i||a.remaining&&a.remaining!==s.remaining||a.context&&a.context!==s.context);r.length?this.eventMap[e]=r:delete this.eventMap[e]}async waitFor(e,i={}){return i.duration=parseInt(i.duration),(isNaN(i.duration)||i.duration<=0)&&(i.duration=1/0),new Promise((a,r)=>{let s,l=this.addListener(e,()=>{clearTimeout(s),a()},{remaining:1});i.duration!==1/0&&(s=setTimeout(()=>{l.remove(),r("The duration expired before the event was emitted.")},i.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class EC{constructor(e,i,a,r={}){if(typeof e!="string"&&!(e instanceof String)&&e!==to.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!i)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof a!="function")throw new TypeError("The 'callback' must be a function.");r.arguments!==void 0&&!Array.isArray(r.arguments)&&(r.arguments=[r.arguments]),r=Object.assign({context:i,remaining:1/0,arguments:void 0,duration:1/0},r),r.duration!==1/0&&setTimeout(()=>this.remove(),r.duration),this.arguments=r.arguments,this.callback=a,this.context=r.context,this.count=0,this.event=e,this.remaining=parseInt(r.remaining)>=1?parseInt(r.remaining):1/0,this.suspended=!1,this.target=i}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class li{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),li.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),li.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),li.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),li.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class zu{constructor(e,i={}){this.duration=Di.defaults.note.duration,this.attack=Di.defaults.note.attack,this.release=Di.defaults.note.release,i.duration!=null&&(this.duration=i.duration),i.attack!=null&&(this.attack=i.attack),i.rawAttack!=null&&(this.attack=Ni.from7bitToFloat(i.rawAttack)),i.release!=null&&(this.release=i.release),i.rawRelease!=null&&(this.release=Ni.from7bitToFloat(i.rawRelease)),Number.isInteger(e)?this.identifier=Ni.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const i=Ni.getNoteDetails(e);if(Di.validation&&!e)throw new Error("Invalid note identifier");this._name=i.name,this._accidental=i.accidental,this._octave=i.octave}get name(){return this._name}set name(e){if(Di.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(Di.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(Di.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(Di.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(Di.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(Di.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return Ni.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=Ni.from7bitToFloat(e)}get rawRelease(){return Ni.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=Ni.from7bitToFloat(e)}get number(){return Ni.toNoteNumber(this.identifier)}getOffsetNumber(e=0,i=0){return Di.validation&&(e=parseInt(e)||0,i=parseInt(i)||0),Math.min(Math.max(this.number+e*12+i,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Ni{static toNoteNumber(e,i=0){if(i=i==null?0:parseInt(i),isNaN(i))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const a=this.getNoteDetails(e);if(!a)throw new TypeError("Invalid note identifier");const r={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let s=(a.octave+1+i)*12;if(s+=r[a.name],a.accidental&&(a.accidental.startsWith("b")?s-=a.accidental.length:s+=a.accidental.length),s<0||s>127)throw new RangeError("Invalid octaveOffset value");return s}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const i=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!i)throw new TypeError("Invalid note identifier");const a=i[1].toUpperCase(),r=parseInt(i[3]);let s=i[2].toLowerCase();return s=s===""?void 0:s,{accidental:s,identifier:a+(s||"")+r,name:a,octave:r}}static sanitizeChannels(e){let i;if(Di.validation){if(e==="all")i=["all"];else if(e==="none")return[]}return Array.isArray(e)?i=e:i=[e],i.indexOf("all")>-1&&(i=li.MIDI_CHANNEL_NUMBERS),i.map(function(a){return parseInt(a)}).filter(function(a){return a>=1&&a<=16})}static toTimestamp(e){let i=!1;const a=parseFloat(e);return isNaN(a)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?a>=0&&(i=Di.time+a):a>=0&&(i=a),i)}static guessNoteNumber(e,i){i=parseInt(i)||0;let a=!1;if(Number.isInteger(e)&&e>=0&&e<=127)a=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)a=parseInt(e);else if(typeof e=="string"||e instanceof String)try{a=this.toNoteNumber(e.trim(),i)}catch{return!1}return a}static toNoteIdentifier(e,i){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(i=i==null?0:parseInt(i),isNaN(i))throw new RangeError("Invalid octaveOffset value");const a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=Math.floor(e/12-1)+i;return a[e%12]+r.toString()}static buildNote(e,i={}){if(i.octaveOffset=parseInt(i.octaveOffset)||0,e instanceof zu)return e;let a=this.guessNoteNumber(e,i.octaveOffset);if(a===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return i.octaveOffset=void 0,new zu(a,i)}static buildNoteArray(e,i={}){let a=[];return Array.isArray(e)||(e=[e]),e.forEach(r=>{a.push(this.buildNote(r,i))}),a}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,i=0){Di.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),i=Math.min(Math.max(parseInt(i)||0,0),127));const a=((e<<7)+i)/16383;return Math.min(Math.max(a,0),1)}static fromFloatToMsbLsb(e){Di.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const i=Math.round(e*16383);return{msb:i>>7,lsb:i&127}}static offsetNumber(e,i=0,a=0){if(Di.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");i=parseInt(i)||0,a=parseInt(a)||0}return Math.min(Math.max(e+i*12+a,0),127)}static getPropertyByValue(e,i){return Object.keys(e).find(a=>e[a]===i)}static getCcNameByNumber(e){if(!(Di.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return li.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let i=li.CONTROL_CHANGE_MESSAGES.find(a=>a.name===e);return i?i.number:li.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let i in li.CHANNEL_MODE_MESSAGES)if(li.CHANNEL_MODE_MESSAGES.hasOwnProperty(i)&&e===li.CHANNEL_MODE_MESSAGES[i])return i;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class fet extends to{constructor(e,i){super(),this._output=e,this._number=i,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,i={time:0}){return this.output.send(e,i),this}sendKeyAftertouch(e,i,a={}){if(Di.validation){if(a.useRawValue&&(a.rawValue=a.useRawValue),isNaN(parseFloat(i)))throw new RangeError("Invalid key aftertouch value.");if(a.rawValue){if(!(i>=0&&i<=127&&Number.isInteger(i)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(i>=0&&i<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}a.rawValue||(i=Ni.fromFloatTo7Bit(i));const r=Di.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),Ni.buildNoteArray(e).forEach(s=>{this.send([(li.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),s.getOffsetNumber(r),i],{time:Ni.toTimestamp(a.time)})}),this}sendControlChange(e,i,a={}){if(typeof e=="string"&&(e=Ni.getCcNumberByName(e)),Array.isArray(i)||(i=[i]),Di.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(i=i.map(r=>{const s=Math.min(Math.max(parseInt(r),0),127);if(isNaN(s))throw new TypeError("Values must be integers between 0 and 127");return s}),i.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return i.forEach((r,s)=>{this.send([(li.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+s*32,i[s]],{time:Ni.toTimestamp(a.time)})}),this}_selectNonRegisteredParameter(e,i={}){return this.sendControlChange(99,e[0],i),this.sendControlChange(98,e[1],i),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,i={}){return this.sendControlChange(101,e[0],i),this.sendControlChange(100,e[1],i),this}_setCurrentParameter(e,i={}){return e=[].concat(e),this.sendControlChange(6,e[0],i),e.length<2?this:(this.sendControlChange(38,e[1],i),this)}sendRpnDecrement(e,i={}){if(Array.isArray(e)||(e=li.REGISTERED_PARAMETERS[e]),Di.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let a=!1;if(Object.getOwnPropertyNames(li.REGISTERED_PARAMETERS).forEach(r=>{li.REGISTERED_PARAMETERS[r][0]===e[0]&&li.REGISTERED_PARAMETERS[r][1]===e[1]&&(a=!0)}),!a)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,i),this.sendControlChange(97,0,i),this._deselectRegisteredParameter(i),this}sendRpnIncrement(e,i={}){if(Array.isArray(e)||(e=li.REGISTERED_PARAMETERS[e]),Di.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let a=!1;if(Object.getOwnPropertyNames(li.REGISTERED_PARAMETERS).forEach(r=>{li.REGISTERED_PARAMETERS[r][0]===e[0]&&li.REGISTERED_PARAMETERS[r][1]===e[1]&&(a=!0)}),!a)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,i),this.sendControlChange(96,0,i),this._deselectRegisteredParameter(i),this}playNote(e,i={}){this.sendNoteOn(e,i);const a=Array.isArray(e)?e:[e];for(let r of a)if(parseInt(r.duration)>0){const s={time:(Ni.toTimestamp(i.time)||Di.time)+parseInt(r.duration),release:r.release,rawRelease:r.rawRelease};this.sendNoteOff(r,s)}else if(parseInt(i.duration)>0){const s={time:(Ni.toTimestamp(i.time)||Di.time)+parseInt(i.duration),release:i.release,rawRelease:i.rawRelease};this.sendNoteOff(r,s)}return this}sendNoteOff(e,i={}){if(Di.validation){if(i.rawRelease!=null&&!(i.rawRelease>=0&&i.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(i.release!=null&&!(i.release>=0&&i.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");i.rawVelocity&&(i.rawRelease=i.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),i.velocity&&(i.release=i.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let a=64;i.rawRelease!=null?a=i.rawRelease:isNaN(i.release)||(a=Math.round(i.release*127));const r=Di.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Ni.buildNoteArray(e,{rawRelease:parseInt(a)}).forEach(s=>{this.send([(li.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),s.getOffsetNumber(r),s.rawRelease],{time:Ni.toTimestamp(i.time)})}),this}stopNote(e,i={}){return this.sendNoteOff(e,i)}sendNoteOn(e,i={}){if(Di.validation){if(i.rawAttack!=null&&!(i.rawAttack>=0&&i.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(i.attack!=null&&!(i.attack>=0&&i.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");i.rawVelocity&&(i.rawAttack=i.velocity,i.rawRelease=i.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),i.velocity&&(i.attack=i.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let a=64;i.rawAttack!=null?a=i.rawAttack:isNaN(i.attack)||(a=Math.round(i.attack*127));const r=Di.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Ni.buildNoteArray(e,{rawAttack:a}).forEach(s=>{this.send([(li.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),s.getOffsetNumber(r),s.rawAttack],{time:Ni.toTimestamp(i.time)})}),this}sendChannelMode(e,i=0,a={}){if(typeof e=="string"&&(e=li.CHANNEL_MODE_MESSAGES[e]),Di.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(i))||i<0||i>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(li.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,i],{time:Ni.toTimestamp(a.time)}),this}sendOmniMode(e,i={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,i):this.sendChannelMode("omnimodeoff",0,i),this}sendChannelAftertouch(e,i={}){if(Di.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(i.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return i.rawValue||(e=Ni.fromFloatTo7Bit(e)),this.send([(li.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e)],{time:Ni.toTimestamp(i.time)}),this}sendMasterTuning(e,i={}){if(e=parseFloat(e)||0,Di.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let a=Math.floor(e)+64,r=e-Math.floor(e);r=Math.round((r+1)/2*16383);let s=r>>7&127,l=r&127;return this.sendRpnValue("channelcoarsetuning",a,i),this.sendRpnValue("channelfinetuning",[s,l],i),this}sendModulationRange(e,i,a={}){if(Di.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(i!=null&&(!Number.isInteger(i)||!(i>=0&&i<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return i>=0&&i<=127||(i=0),this.sendRpnValue("modulationrange",[e,i],a),this}sendNrpnValue(e,i,a={}){if(i=[].concat(i),Di.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");i.forEach(r=>{if(!(r>=0&&r<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,a),this._setCurrentParameter(i,a),this._deselectNonRegisteredParameter(a),this}sendPitchBend(e,i={}){if(Di.validation)if(i.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(i.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let a=0,r=0;if(i.rawValue&&Array.isArray(e))a=e[0],r=e[1];else if(i.rawValue&&!Array.isArray(e))a=e;else{const s=Ni.fromFloatToMsbLsb((e+1)/2);a=s.msb,r=s.lsb}return this.send([(li.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),r,a],{time:Ni.toTimestamp(i.time)}),this}sendPitchBendRange(e,i,a={}){if(Di.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(i)||!(i>=0&&i<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,i],a),this}sendProgramChange(e,i={}){if(e=parseInt(e)||0,Di.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(li.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:Ni.toTimestamp(i.time)}),this}sendRpnValue(e,i,a={}){if(Array.isArray(e)||(e=li.REGISTERED_PARAMETERS[e]),Di.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(i).forEach(r=>{if(!(r>=0&&r<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,a),this._setCurrentParameter(i,a),this._deselectRegisteredParameter(a),this}sendTuningBank(e,i={}){if(Di.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,i),this}sendTuningProgram(e,i={}){if(Di.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,i),this}sendLocalControl(e,i={}){return e?this.sendChannelMode("localcontrol",127,i):this.sendChannelMode("localcontrol",0,i)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,i={}){return e==="mono"?this.sendChannelMode("monomodeon",0,i):this.sendChannelMode("polymodeon",0,i)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class M7 extends to{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let i=1;i<=16;i++)this.channels[i]=new fet(this,i);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let i={timestamp:Di.time};e.port.connection==="open"?(i.type="opened",i.target=this,i.port=i.target,this.emit("opened",i)):e.port.connection==="closed"&&e.port.state==="connected"?(i.type="closed",i.target=this,i.port=i.target,this.emit("closed",i)):e.port.connection==="closed"&&e.port.state==="disconnected"?(i.type="disconnected",i.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",i)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,i={time:0},a=0){if(e instanceof tR&&(e=Ni.isNode?e.data:e.rawData),e instanceof Uint8Array&&Ni.isNode&&(e=Array.from(e)),Di.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(i)&&(e=e.concat(i)),i=isNaN(a)?{time:0}:{time:a}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(r=>{if(r=parseInt(r),!(r>=0&&r<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),i||(i={time:0})}return this._midiOutput.send(e,Ni.toTimestamp(i.time)),this}sendSysex(e,i=[],a={}){if(e=[].concat(e),i instanceof Uint8Array){const r=new Uint8Array(1+e.length+i.length+1);r[0]=li.SYSTEM_MESSAGES.sysex,r.set(Uint8Array.from(e),1),r.set(i,1+e.length),r[r.length-1]=li.SYSTEM_MESSAGES.sysexend,this.send(r,{time:a.time})}else{const r=e.concat(i,li.SYSTEM_MESSAGES.sysexend);this.send([li.SYSTEM_MESSAGES.sysex].concat(r),{time:a.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():Di.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,i={}){if(Di.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([li.SYSTEM_MESSAGES.timecode,e],{time:i.time}),this}sendSongPosition(e=0,i={}){e=Math.floor(e)||0;var a=e>>7&127,r=e&127;return this.send([li.SYSTEM_MESSAGES.songposition,a,r],{time:i.time}),this}sendSongSelect(e=0,i={}){if(Di.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([li.SYSTEM_MESSAGES.songselect,e],{time:i.time}),this}sendTuneRequest(e={}){return this.send([li.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([li.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([li.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([li.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([li.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([li.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([li.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return Di.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,i,a={}){return a.channels==null&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendKeyAftertouch(e,i,a)}),this}sendControlChange(e,i,a={},r={}){if(Di.validation&&(Array.isArray(a)||Number.isInteger(a)||a==="all")){const s=a;a=r,a.channels=s,a.channels==="all"&&(a.channels=li.MIDI_CHANNEL_NUMBERS)}return a.channels==null&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).forEach(s=>{this.channels[s].sendControlChange(e,i,a)}),this}sendPitchBendRange(e=0,i=0,a={}){return a.channels==null&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendPitchBendRange(e,i,a)}),this}setPitchBendRange(e=0,i=0,a="all",r={}){return Di.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),r.channels=a,r.channels==="all"&&(r.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,i,r)}sendRpnValue(e,i,a={}){return a.channels==null&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendRpnValue(e,i,a)}),this}setRegisteredParameter(e,i=[],a="all",r={}){return Di.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),r.channels=a,r.channels==="all"&&(r.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,i,r)}sendChannelAftertouch(e,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendChannelAftertouch(e,i)}),this}sendPitchBend(e,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendPitchBend(e,i)}),this}sendProgramChange(e=0,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendProgramChange(e,i)}),this}sendModulationRange(e,i,a={}){return a.channels==null&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendModulationRange(e,i,a)}),this}setModulationRange(e=0,i=0,a="all",r={}){return Di.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),r.channels=a,r.channels==="all"&&(r.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,i,r)}sendMasterTuning(e,i={}){return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendMasterTuning(e,i)}),this}setMasterTuning(e,i={},a={}){return Di.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),a.channels=i,a.channels==="all"&&(a.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,a)}sendTuningProgram(e,i={}){return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendTuningProgram(e,i)}),this}setTuningProgram(e,i="all",a={}){return Di.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),a.channels=i,a.channels==="all"&&(a.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,a)}sendTuningBank(e=0,i={}){return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendTuningBank(e,i)}),this}setTuningBank(e,i="all",a={}){return Di.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),a.channels=i,a.channels==="all"&&(a.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,a)}sendChannelMode(e,i=0,a={},r={}){if(Di.validation&&(Array.isArray(a)||Number.isInteger(a)||a==="all")){const s=a;a=r,a.channels=s,a.channels==="all"&&(a.channels=li.MIDI_CHANNEL_NUMBERS)}return a.channels==null&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).forEach(s=>{this.channels[s].sendChannelMode(e,i,a)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(e.channels).forEach(i=>{this.channels[i].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(e.channels).forEach(i=>{this.channels[i].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},i={}){if(Di.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const a=e;e=i,e.channels=a,e.channels==="all"&&(e.channels=li.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(e.channels).forEach(a=>{this.channels[a].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendPolyphonicMode(e,i)}),this}sendLocalControl(e,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendLocalControl(e,i)}),this}sendOmniMode(e,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendOmniMode(e,i)}),this}sendNrpnValue(e,i,a={}){return a.channels==null&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendNrpnValue(e,i,a)}),this}setNonRegisteredParameter(e,i=[],a="all",r={}){return Di.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),r.channels=a,r.channels==="all"&&(r.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,i,r)}sendRpnIncrement(e,i={}){return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendRpnIncrement(e,i)}),this}incrementRegisteredParameter(e,i="all",a={}){return Di.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),a.channels=i,a.channels==="all"&&(a.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,a)}sendRpnDecrement(e,i={}){return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendRpnDecrement(e,i)}),this}decrementRegisteredParameter(e,i="all",a={}){return Di.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),a.channels=i,a.channels==="all"&&(a.channels=li.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,a)}sendNoteOff(e,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendNoteOff(e,i)}),this}stopNote(e,i){return this.sendNoteOff(e,i)}playNote(e,i={},a={}){if(Di.validation&&(i.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),i.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].playNote(e,i)}),this}sendNoteOn(e,i={},a={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const r=i;i=a,i.channels=r,i.channels==="all"&&(i.channels=li.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(i.channels).forEach(r=>{this.channels[r].sendNoteOn(e,i)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class _C{constructor(e=[],i={}){this.destinations=[],this.types=[...Object.keys(li.SYSTEM_MESSAGES),...Object.keys(li.CHANNEL_MESSAGES)],this.channels=li.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),i.types&&!Array.isArray(i.types)&&(i.types=[i.types]),i.channels&&!Array.isArray(i.channels)&&(i.channels=[i.channels]),Di.validation&&(e.forEach(a=>{if(!(a instanceof M7))throw new TypeError("Destinations must be of type 'Output'.")}),i.types!==void 0&&i.types.forEach(a=>{if(!li.SYSTEM_MESSAGES.hasOwnProperty(a)&&!li.CHANNEL_MESSAGES.hasOwnProperty(a))throw new TypeError("Type must be a valid message type.")}),i.channels!==void 0&&i.channels.forEach(a=>{if(!li.MIDI_CHANNEL_NUMBERS.includes(a))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,i.types&&(this.types=i.types),i.channels&&(this.channels=i.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(i=>{Di.validation&&!(i instanceof M7)||i.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class met extends to{constructor(e,i){super(),this._input=e,this._number=i,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const i=Object.assign({},e);i.port=this.input,i.target=this,i.type="midimessage",this.emit(i.type,i),this._parseEventForStandardMessages(i)}_parseEventForStandardMessages(e){const i=Object.assign({},e);i.type=i.message.type||"unknownmessage";const a=e.message.dataBytes[0],r=e.message.dataBytes[1];if(i.type==="noteoff"||i.type==="noteon"&&r===0)this.notesState[a]=!1,i.type="noteoff",i.note=new zu(Ni.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+Di.octaveOffset),{rawAttack:0,rawRelease:r}),i.value=Ni.from7bitToFloat(r),i.rawValue=r,i.velocity=i.note.release,i.rawVelocity=i.note.rawRelease;else if(i.type==="noteon")this.notesState[a]=!0,i.note=new zu(Ni.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+Di.octaveOffset),{rawAttack:r}),i.value=Ni.from7bitToFloat(r),i.rawValue=r,i.velocity=i.note.attack,i.rawVelocity=i.note.rawAttack;else if(i.type==="keyaftertouch")i.note=new zu(Ni.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+Di.octaveOffset)),i.value=Ni.from7bitToFloat(r),i.rawValue=r,i.identifier=i.note.identifier,i.key=i.note.number,i.rawKey=a;else if(i.type==="controlchange"){i.controller={number:a,name:li.CONTROL_CHANGE_MESSAGES[a].name,description:li.CONTROL_CHANGE_MESSAGES[a].description,position:li.CONTROL_CHANGE_MESSAGES[a].position},i.subtype=i.controller.name||"controller"+a,i.value=Ni.from7bitToFloat(r),i.rawValue=r;const s=Object.assign({},i);s.type=`${i.type}-controller${a}`,delete s.subtype,this.emit(s.type,s);const l=Object.assign({},i);l.type=`${i.type}-`+li.CONTROL_CHANGE_MESSAGES[a].name,delete l.subtype,l.type.indexOf("controller")!==0&&this.emit(l.type,l),i.message.dataBytes[0]>=120&&this._parseChannelModeMessage(i),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(i.message.dataBytes[0])&&this._parseEventForParameterNumber(i)}else i.type==="programchange"?(i.value=a,i.rawValue=i.value):i.type==="channelaftertouch"?(i.value=Ni.from7bitToFloat(a),i.rawValue=a):i.type==="pitchbend"?(i.value=((r<<7)+a-8192)/8192,i.rawValue=(r<<7)+a):i.type="unknownmessage";this.emit(i.type,i)}_parseChannelModeMessage(e){const i=Object.assign({},e);i.type=i.controller.name,i.type==="localcontrol"&&(i.value=i.message.data[2]===127,i.rawValue=i.message.data[2]),i.type==="omnimodeon"?(i.type="omnimode",i.value=!0,i.rawValue=i.message.data[2]):i.type==="omnimodeoff"&&(i.type="omnimode",i.value=!1,i.rawValue=i.message.data[2]),i.type==="monomodeon"?(i.type="monomode",i.value=!0,i.rawValue=i.message.data[2]):i.type==="polymodeon"&&(i.type="monomode",i.value=!1,i.rawValue=i.message.data[2]),this.emit(i.type,i)}_parseEventForParameterNumber(e){const i=e.message.dataBytes[0],a=e.message.dataBytes[1];i===99||i===101?(this._nrpnBuffer=[],this._rpnBuffer=[],i===99?this._nrpnBuffer=[e.message]:a!==127&&(this._rpnBuffer=[e.message])):i===98||i===100?i===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&a!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(i===6||i===38||i===96||i===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,i,a,r){e=e==="nrpn"?"nrpn":"rpn";const s={target:r.target,timestamp:r.timestamp,message:r.message,parameterMsb:i,parameterLsb:a,value:Ni.from7bitToFloat(r.message.dataBytes[1]),rawValue:r.message.dataBytes[1]};e==="rpn"?s.parameter=Object.keys(li.REGISTERED_PARAMETERS).find(d=>li.REGISTERED_PARAMETERS[d][0]===i&&li.REGISTERED_PARAMETERS[d][1]===a):s.parameter=(i<<7)+a;const l=li.CONTROL_CHANGE_MESSAGES[r.message.dataBytes[0]].name;s.type=`${e}-${l}`,this.emit(s.type,s);const u=Object.assign({},s);u.type==="nrpn-dataincrement"?u.type="nrpn-databuttonincrement":u.type==="nrpn-datadecrement"?u.type="nrpn-databuttondecrement":u.type==="rpn-dataincrement"?u.type="rpn-databuttonincrement":u.type==="rpn-datadecrement"&&(u.type="rpn-databuttondecrement"),this.emit(u.type,u),s.type=e,s.subtype=l,this.emit(s.type,s)}getChannelModeByNumber(e){return Di.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),Ni.getChannelModeByNumber(e)}getCcNameByNumber(e){if(Di.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return Ni.getCcNameByNumber(e)}getNoteState(e){e instanceof zu&&(e=e.identifier);const i=Ni.guessNoteNumber(e,Di.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[i]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class tR{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=Ni.getPropertyByValue(li.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=Ni.getPropertyByValue(li.SYSTEM_MESSAGES,this.command)),this.statusByte===li.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class pet extends to{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let i=1;i<=16;i++)this.channels[i]=new met(this,i);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let i={timestamp:Di.time,target:this,port:this};e.port.connection==="open"?(i.type="opened",this.emit("opened",i)):e.port.connection==="closed"&&e.port.state==="connected"?(i.type="closed",this.emit("closed",i)):e.port.connection==="closed"&&e.port.state==="disconnected"?(i.type="disconnected",i.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",i)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const i=new tR(e.data),a={port:this,target:this,message:i,timestamp:e.timeStamp,type:"midimessage",data:i.data,rawData:i.data,statusByte:i.data[0],dataBytes:i.dataBytes};this.emit("midimessage",a),i.isSystemMessage?this._parseEvent(a):i.isChannelMessage&&this.channels[i.channel]._processMidiMessageEvent(a),this._forwarders.forEach(r=>r.forward(i))}_parseEvent(e){const i=Object.assign({},e);i.type=i.message.type||"unknownmidimessage",i.type==="songselect"&&(i.song=e.data[1]+1,i.value=e.data[1],i.rawValue=i.value),this.emit(i.type,i)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){Di.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,i,a={}){if(Di.validation&&typeof a=="function"){let r=i!=null?[].concat(i):void 0;i=a,a={channels:r}}if(li.CHANNEL_EVENTS.includes(e)){a.channels===void 0&&(a.channels=li.MIDI_CHANNEL_NUMBERS);let r=[];return Ni.sanitizeChannels(a.channels).forEach(s=>{r.push(this.channels[s].addListener(e,i,a))}),r}else return super.addListener(e,i,a)}addOneTimeListener(e,i,a={}){return a.remaining=1,this.addListener(e,i,a)}on(e,i,a,r){return this.addListener(e,i,a,r)}hasListener(e,i,a={}){if(Di.validation&&typeof a=="function"){let r=[].concat(i);i=a,a={channels:r}}return li.CHANNEL_EVENTS.includes(e)?(a.channels===void 0&&(a.channels=li.MIDI_CHANNEL_NUMBERS),Ni.sanitizeChannels(a.channels).every(r=>this.channels[r].hasListener(e,i))):super.hasListener(e,i)}removeListener(e,i,a={}){if(Di.validation&&typeof a=="function"){let r=[].concat(i);i=a,a={channels:r}}if(a.channels===void 0&&(a.channels=li.MIDI_CHANNEL_NUMBERS),e==null)return Ni.sanitizeChannels(a.channels).forEach(r=>{this.channels[r]&&this.channels[r].removeListener()}),super.removeListener();li.CHANNEL_EVENTS.includes(e)?Ni.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].removeListener(e,i,a)}):super.removeListener(e,i,a)}addForwarder(e,i={}){let a;return e instanceof _C?a=e:a=new _C(e,i),this._forwarders.push(a),a}removeForwarder(e){this._forwarders=this._forwarders.filter(i=>i!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return Di.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class get extends to{constructor(){super(),this.defaults={note:{attack:Ni.from7bitToFloat(64),release:Ni.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},i=!1){if(Ni.isNode){try{window.navigator}catch{let u=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();global.navigator||(global.navigator={}),Object.assign(global.navigator,u)}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:i}),i&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const a={timestamp:this.time,target:this,type:"error",error:void 0},r={timestamp:this.time,target:this,type:"midiaccessgranted"},s={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(l){return a.error=l,this.emit("error",a),typeof e.callback=="function"&&e.callback(l),Promise.reject(l)}this.emit("midiaccessgranted",r),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(l){return a.error=l,this.emit("error",a),typeof e.callback=="function"&&e.callback(l),Promise.reject(l)}return this.emit("enabled",s),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(i.disconnected){for(let a=0;a<this._disconnectedInputs.length;a++)if(this._disconnectedInputs[a].id===e.toString())return this._disconnectedInputs[a]}else for(let a=0;a<this.inputs.length;a++)if(this.inputs[a].id===e.toString())return this.inputs[a]}getInputByName(e,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(i.disconnected){for(let a=0;a<this._disconnectedInputs.length;a++)if(~this._disconnectedInputs[a].name.indexOf(e))return this._disconnectedInputs[a]}else for(let a=0;a<this.inputs.length;a++)if(~this.inputs[a].name.indexOf(e))return this.inputs[a]}getOutputByName(e,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(i.disconnected){for(let a=0;a<this._disconnectedOutputs.length;a++)if(~this._disconnectedOutputs[a].name.indexOf(e))return this._disconnectedOutputs[a]}else for(let a=0;a<this.outputs.length;a++)if(~this.outputs[a].name.indexOf(e))return this.outputs[a]}getOutputById(e,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(i.disconnected){for(let a=0;a<this._disconnectedOutputs.length;a++)if(this._disconnectedOutputs[a].id===e.toString())return this._disconnectedOutputs[a]}else for(let a=0;a<this.outputs.length;a++)if(this.outputs[a].id===e.toString())return this.outputs[a]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),Ni.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?Ni.getNoteDetails(Ni.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),Ni.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),Ni.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),Ni.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,i={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),Ni.buildNoteArray(e,i)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),Ni.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(i=>e.push(i.destroy())),this.outputs.forEach(i=>e.push(i.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let i={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?i.port=this.getOutputById(e.port.id):e.port.type==="input"&&(i.port=this.getInputById(e.port.id)),this.emit(e.port.state,i);const a=Object.assign({},i);a.type="portschanged",this.emit(a.type,a)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?i.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(i.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,i);const a=Object.assign({},i);a.type="portschanged",this.emit(a.type,a)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let i=this._inputs.length-1;i>=0;i--){const a=this._inputs[i];Array.from(this.interface.inputs.values()).find(s=>s===a._midiInput)||(this._disconnectedInputs.push(a),this._inputs.splice(i,1))}let e=[];return this.interface.inputs.forEach(i=>{if(!this._inputs.find(a=>a._midiInput===i)){let a=this._disconnectedInputs.find(r=>r._midiInput===i);a||(a=new pet(i)),this._inputs.push(a),e.push(a.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let i=this._outputs.length-1;i>=0;i--){const a=this._outputs[i];Array.from(this.interface.outputs.values()).find(s=>s===a._midiOutput)||(this._disconnectedOutputs.push(a),this._outputs.splice(i,1))}let e=[];return this.interface.outputs.forEach(i=>{if(!this._outputs.find(a=>a._midiOutput===i)){let a=this._disconnectedOutputs.find(r=>r._midiOutput===i);a||(a=new M7(i)),this._outputs.push(a),e.push(a.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),Ni.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),Ni.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.11"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),li.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),li.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),li.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),li.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),li.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const Di=new get;Di.constructor=null;function Met(t,e,i){let{midiMessage:a=null}=e,{noteOn:r=null}=e,{noteOff:s=null}=e,{controlChange:l=null}=e,{pitchBend:u=null}=e,{errorCallback:d=M=>console.error(M)}=e,{midiDevices:c=[]}=e;const f=()=>{i(0,c=[]),Di.inputs.length<1?console.warn("No MIDI device detected"):(Di.inputs.forEach((M,m)=>{console.log(`MIDI device ${m}: ${M.name}`),a&&M.addListener("midimessage",a),r&&M.addListener("noteon",r),s&&M.addListener("noteoff",s),l&&M.addListener("controlchange",l),u&&M.addListener("pitchbend",u)}),i(0,c=[...Di.inputs]))};return c9(()=>{Di.enable().then(f).catch(d)}),r9(()=>{for(const M of Di.inputs)M.removeListener()}),t.$$set=M=>{"midiMessage"in M&&i(1,a=M.midiMessage),"noteOn"in M&&i(2,r=M.noteOn),"noteOff"in M&&i(3,s=M.noteOff),"controlChange"in M&&i(4,l=M.controlChange),"pitchBend"in M&&i(5,u=M.pitchBend),"errorCallback"in M&&i(6,d=M.errorCallback),"midiDevices"in M&&i(0,c=M.midiDevices)},[c,a,r,s,l,u,d]}class k9 extends Ki{constructor(e){super(),Wi(this,e,Met,null,ji,{midiMessage:1,noteOn:2,noteOff:3,controlChange:4,pitchBend:5,errorCallback:6,midiDevices:0})}}function Aet(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M=t[1].join(", ")+"",m,A,p,y,E=t[2].join(" or ")+"",v,w,x,b;return x=new k9({props:{noteOn:t[3]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`Play a chord on a MIDI instrument. The notes you played and the detected
        chord will be shown below.`,u=q(),d=K("div"),c=oe("Notes: "),f=K("b"),m=oe(M),A=K("br"),p=oe(`
        Detected chord: `),y=K("b"),v=oe(E),w=q(),Ft(x.$$.fragment),dt(l,"class","explanation"),dt(d,"class","visualization"),dt(e,"class","app")},m(O,S){Ct(O,e,S),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(d,f),B(f,m),B(d,A),B(d,p),B(d,y),B(y,v),B(e,w),kt(x,e,null),b=!0},p(O,[S]){(!b||S&1)&&a!==(a=O[0].title+"")&&Ge(r,a),(!b||S&2)&&M!==(M=O[1].join(", ")+"")&&Ge(m,M),(!b||S&4)&&E!==(E=O[2].join(" or ")+"")&&Ge(v,E)},i(O){b||(Rt(x.$$.fragment,O),b=!0)},o(O){Dt(x.$$.fragment,O),b=!1},d(O){O&&bt(e),Nt(x)}}}function yet(t,e,i){let{toolInfo:a}=e,r=0,s=[],l=[],u=[];const d=f=>{s.length===0&&(r=f.timestamp);const M=(f.timestamp-r)/1e3,m={number:f.note.number,velocity:f.rawVelocity,time:M,channel:f.message.channel};s.push(m),c()},c=()=>{const f=ca(s,M=>M.time);i(1,l=s.filter(M=>M.time>f-1).sort((M,m)=>M.number-m.number).map(M=>Ga.fromMidiSharps(M.number))),i(1,l=[...new Set(l)]),i(2,u=Nf.detect(l))};return c9(c),t.$$set=f=>{"toolInfo"in f&&i(0,a=f.toolInfo)},[a,l,u,d]}class vet extends Ki{constructor(e){super(),Wi(this,e,yet,Aet,ji,{toolInfo:0})}}function m0(t){return t!=null&&!Number.isNaN(t)}function oo(t,e){return+m0(e)-+m0(t)||yr(t,e)}function q3(t,e){return+m0(e)-+m0(t)||l1(t,e)}function Fg(t){return t!=null&&`${t}`!=""}function eR(t){return isFinite(t)?t:NaN}function V4(t){return t>0&&isFinite(t)?t:NaN}function Ug(t){return t<0&&isFinite(t)?t:NaN}function bet(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const i=t.getUTCHours(),a=t.getUTCMinutes(),r=t.getUTCSeconds(),s=t.getUTCMilliseconds();return`${Cet(t.getUTCFullYear())}-${ps(t.getUTCMonth()+1,2)}-${ps(t.getUTCDate(),2)}${i||a||r||s?`T${ps(i,2)}:${ps(a,2)}${r||s?`:${ps(r,2)}${s?`.${ps(s,3)}`:""}`:""}Z`:""}`}function Cet(t){return t<0?`-${ps(-t,6)}`:t>9999?`+${ps(t,6)}`:ps(t,4)}function ps(t,e){return`${t}`.padStart(e,"0")}const Eet=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function iR(t,e){return Eet.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function Bd(t){if(t==null)return;const e=t[0],i=t[t.length-1];return l1(e,i)}const Ju=1e3,Cl=Ju*60,El=Cl*60,Go=El*24,Eo=Go*7,Nc=Go*30,ll=Go*365,V5=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Ju],["5 seconds",5*Ju],["15 seconds",15*Ju],["30 seconds",30*Ju],["minute",Cl],["5 minutes",5*Cl],["15 minutes",15*Cl],["30 minutes",30*Cl],["hour",El],["3 hours",3*El],["6 hours",6*El],["12 hours",12*El],["day",Go],["2 days",2*Go],["week",Eo],["2 weeks",2*Eo],["month",Nc],["3 months",3*Nc],["6 months",6*Nc],["year",ll],["2 years",2*ll],["5 years",5*ll],["10 years",10*ll],["20 years",20*ll],["50 years",50*ll],["100 years",100*ll]],$g=new Map([["second",Ju],["minute",Cl],["hour",El],["day",Go],["monday",Eo],["tuesday",Eo],["wednesday",Eo],["thursday",Eo],["friday",Eo],["saturday",Eo],["sunday",Eo],["week",Eo],["month",Nc],["year",ll]]),nR=new Map([["second",q0],["minute",v1],["hour",C1],["day",Kc],["monday",If],["tuesday",IS],["wednesday",BS],["thursday",Jc],["friday",RS],["saturday",DS],["sunday",_d],["week",_d],["month",_1],["year",no]]),Gg=new Map([["second",q0],["minute",b1],["hour",E1],["day",S4],["monday",Bf],["tuesday",PS],["wednesday",LS],["thursday",jc],["friday",kS],["saturday",NS],["sunday",wd],["week",wd],["month",w1],["year",ao]]),R1=Symbol("intervalDuration"),Q4=Symbol("intervalType");for(const[t,e]of nR)e[R1]=$g.get(t),e[Q4]="time";for(const[t,e]of Gg)e[R1]=$g.get(t),e[Q4]="utc";const nf=[["year",ao,"utc"],["month",w1,"utc"],["day",S4,"utc",6*Nc],["hour",E1,"utc",3*Go],["minute",b1,"utc",6*El],["second",q0,"utc",30*Cl]],u3=[["year",no,"time"],["month",_1,"time"],["day",Kc,"time",6*Nc],["hour",C1,"time",3*Go],["minute",v1,"time",6*El],["second",q0,"time",30*Cl]],_et=[nf[0],u3[0],nf[1],u3[1],nf[2],u3[2],...nf.slice(3)];function aR(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let i=1;const a=/^(?:(\d+)\s+)/.exec(e);switch(a&&(e=e.slice(a[0].length),i=+a[1]),e){case"quarter":e="month",i*=3;break;case"half":e="month",i*=6;break}let r=Gg.get(e);if(!r)throw new Error(`unknown interval: ${t}`);if(i>1&&!r.every)throw new Error(`non-periodic interval: ${e}`);return[e,i]}function rR(t){return oR(aR(t),"time")}function Hg(t){return oR(aR(t),"utc")}function oR([t,e],i){let a=(i==="time"?nR:Gg).get(t);return e>1&&(a=a.every(e),a[R1]=$g.get(t)*e,a[Q4]=i),a}function wC(t,e){if(!(e>1))return;const i=t[R1];if(!V5.some(([,r])=>r===i)||i%Go===0&&Go<i&&i<Nc)return;const[a]=V5[d4(([,r])=>Math.log(r)).center(V5,Math.log(i*e))];return(t[Q4]==="time"?rR:Hg)(a)}function OC(t,e,i){const a=e==="time"?dg:O1;if(i==null)return a(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const r=wet(i);switch(t){case"millisecond":return Uu(a(".%L"),a(":%M:%S"),r);case"second":return Uu(a(":%S"),a("%-I:%M"),r);case"minute":return Uu(a("%-I:%M"),a("%p"),r);case"hour":return Uu(a("%-I %p"),a("%b %-d"),r);case"day":return Uu(a("%-d"),a("%b"),r);case"month":return Uu(a("%b"),a("%Y"),r);case"year":return a("%Y")}throw new Error("unable to format time ticks")}function wet(t){return t==="left"||t==="right"?(e,i)=>`
${e}
${i}`:t==="top"?(e,i)=>`${i}
${e}`:(e,i)=>`${e}
${i}`}function Oet(t){return t==="time"?u3:t==="utc"?nf:_et}function xet(t,e,i){const a=ca(KG(e,(r,s)=>Math.abs(s-r)));if(a<1e3)return OC("millisecond","utc",i);for(const[r,s,l,u]of Oet(t)){if(a>u||r==="hour"&&!a)break;if(e.every(d=>s.floor(d)>=d))return OC(r,l,i)}}function Uu(t,e,i){return(a,r,s)=>{const l=t(a,r),u=e(a,r),d=r-Bd(s);return r!==d&&s[d]!==void 0&&u===e(s[d],d)?l:i(l,u)}}const Vg=Object.getPrototypeOf(Uint8Array),Tet=Object.prototype.toString;function tu(t){return t instanceof Array||t instanceof Vg}function sR(t){return t instanceof Vg&&!Iet(t)}function lR(t){return(t==null?void 0:t.prototype)instanceof Vg&&!Bet(t)}function Iet(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function Bet(t){return t===BigInt64Array||t===BigUint64Array}const cR=Symbol("reindex");function ea(t,e,i){const a=typeof e;return a==="string"?_R(t)?Qg(t.getChild(e),i):xC(t,uR(e),i):a==="function"?xC(t,e,i):a==="number"||e instanceof Date||a==="boolean"?Ha(t,Os(e),i):typeof(e==null?void 0:e.transform)=="function"?A7(e.transform(t),i):Ret(A7(e,i),t==null?void 0:t[cR])}function Ret(t,e){return t!=null&&e?j4(t,e):t}function xC(t,e,i){return Ha(t,lR(i)?(a,r)=>Jg(e(a,r)):e,i)}function A7(t,e){return e===void 0?Pl(t):wR(t)?Qg(t,e):t instanceof e?t:e.from(t,lR(e)&&!sR(t)?Jg:void 0)}function Qg(t,e){return t==null?t:(e===void 0||e===Array)&&jet(t.type)?hR(t.toArray()):A7(t.toArray(),e)}const d3=[null],uR=t=>e=>{var a;const i=e[t];return i===void 0&&e.type==="Feature"?(a=e.properties)==null?void 0:a[t]:i},Ns={transform:Us},Q9={transform:t=>t},Det=()=>1,Pet=()=>!0,$r=t=>t==null?t:`${t}`,cr=t=>t==null?t:+t,zg=t=>t?t[0]:void 0,Z3=t=>t?t[1]:void 0,Os=t=>()=>t;function dR(t){const e=+`${t}`.slice(1)/100;return(i,a)=>gd(i,e,a)}function Do(t){return sR(t)?t:Ha(t,Jg,Float64Array)}function Jg(t){return t==null?NaN:Number(t)}function hR(t){return Ha(t,fR)}function fR(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?iR(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function N0(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:W4(t)?[void 0,t]:[t,void 0]}function Gr(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function mR(t,e,i){if(t!=null)return ho(t,e,i)}function ho(t,e,i){const a=`${t}`.toLowerCase();if(!i.includes(a))throw new Error(`invalid ${e}: ${t}`);return a}function Rd(t){return _R(t)?t:Pl(t)}function Pl(t){if(t==null||tu(t))return t;if(wR(t))return Qg(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function Ha(t,e,i=Array){return t==null?t:t instanceof i?t.map(e):i.from(t,e)}function $f(t,e=Array){return t instanceof e?t.slice():e.from(t)}function pR({x:t,x1:e,x2:i}){return t!==void 0||e!==void 0||i!==void 0}function gR({y:t,y1:e,y2:i}){return t!==void 0||e!==void 0||i!==void 0}function D1(t){return pR(t)||gR(t)||t.interval!==void 0}function Fs(t){return(t==null?void 0:t.toString)===Tet}function y7(t){return Fs(t)&&(t.type!==void 0||t.domain!==void 0)}function z4(t){return Fs(t)&&typeof t.transform!="function"}function Dd(t){return z4(t)&&t.value===void 0&&t.channel===void 0}function MR(t,e,i,a=Q9){return e===void 0&&i===void 0?(e=0,i=t===void 0?a:t):e===void 0?e=t===void 0?0:t:i===void 0&&(i=t===void 0?0:t),[e,i]}function P1(t,e){return t===void 0&&e===void 0?[zg,Z3]:[t,e]}function J4({z:t,fill:e,stroke:i}={}){return t===void 0&&([t]=N0(e)),t===void 0&&([t]=N0(i)),t}function Gf(t){return tu(t)?t.length:t==null?void 0:t.numRows}function Us(t){const e=Gf(t),i=new Uint32Array(e);for(let a=0;a<e;++a)i[a]=a;return i}function j4(t,e){return tu(t)?Ha(e,i=>t[i],t.constructor):Ha(e,i=>t.at(i))}function AR(t){return t.length===1?(e,i)=>t(j4(i,e)):t}function Fc(t,e,i){return t.subarray?t.subarray(e,i):t.slice(e,i)}function xs(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yR(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Hf(t){let e;return[{transform:()=>e,label:Ul(t)},i=>e=i]}function Xr(t){return t==null?[t]:Hf(t)}function Ul(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function t4(t,e){return{transform(i){const a=t.transform(i),r=e.transform(i);return e0(a)||e0(r)?Ha(a,(s,l)=>new Date((+a[l]+ +r[l])/2)):Ha(a,(s,l)=>(+a[l]+ +r[l])/2,Float64Array)},label:t.label}}function e4(t,e){const i=vR(e==null?void 0:e.interval,e==null?void 0:e.type);return i?Ha(t,i):t}function vR(t,e){const i=jg(t,e);return i&&(a=>m0(a)?i.floor(a):a)}function jg(t,e){if(t!=null){if(typeof t=="number")return Let(t);if(typeof t=="string")return(e==="time"?rR:Hg)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Let(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:i=>Math.floor(i*e)/e,offset:(i,a=1)=>(i*e+Math.floor(a))/e,range:(i,a)=>Ei(Math.ceil(i*e),a*e).map(r=>r/e)}:{floor:i=>Math.floor(i/e)*e,offset:(i,a=1)=>i+e*Math.floor(a),range:(i,a)=>Ei(Math.ceil(i/e),a/e).map(r=>r*e)}}function Vd(t,e){if(t=jg(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function ket(t,e){if(t=Vd(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Net(t){return ju(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function ju(t){return typeof(t==null?void 0:t.range)=="function"}function Qd(t){return t===void 0||z4(t)?t:{value:t}}function Fet(t){return t==null?null:{transform:e=>ea(e,t,Float64Array),label:Ul(t)}}function $l(t){return t&&typeof t[Symbol.iterator]=="function"}function bR(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function SC(t){for(const e of t){if(e==null)continue;const i=typeof e;return i==="string"||i==="boolean"}}function e0(t){for(const e of t)if(e!=null)return e instanceof Date}function Uet(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&iR(e)}function $et(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function Get(t){for(const e of t)if(e!=null)return typeof e=="number"}function Q5(t,e){let i;for(const a of t)if(a!=null){if(!e(a))return!1;i=!0}return i}const Het=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function W4(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Het.has(t))}function Vet(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function xr(t){return t==null||Vf(t)}function Vf(t){return/^\s*none\s*$/i.test(t)}function Qet(t){return/^\s*round\s*$/i.test(t)}function v7(t,e){return mR(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function K4(t="middle"){return v7(t,"frameAnchor")}function zet(t={},...e){let i=t;for(const a of e)for(const r in a)if(i[r]===void 0){const s=a[r];i===t?i={...i,[r]:s}:i[r]=s}return i}function Jet(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,i=>{const{name:a}=i;if(a==null)throw new Error("missing name");const r=`${a}`;if(r==="__proto__")throw new Error(`illegal name: ${r}`);if(e.has(r))throw new Error(`duplicate name: ${r}`);return e.add(r),[a,i]}))}function CR(t){return $l(t)?Jet(t):t}function ER(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=ho(t,"clip",["frame","sphere"])),t}function _R(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function wR(t){return t&&typeof t.toArray=="function"&&t.type}function jet(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const Po=Symbol("position"),$s=Symbol("color"),L1=Symbol("radius"),k1=Symbol("length"),N1=Symbol("opacity"),X4=Symbol("symbol"),OR=Symbol("projection"),xa=new Map([["x",Po],["y",Po],["fx",Po],["fy",Po],["r",L1],["color",$s],["opacity",N1],["symbol",X4],["length",k1],["projection",OR]]);function Wet(t){return t===Po||t===OR}function Ket(t){return t===Po||t===L1||t===k1||t===N1}const Xet=Math.sqrt(3),Yet=2/Xet,qet={draw(t,e){const i=Math.sqrt(e/Math.PI),a=i*Yet,r=a/2;t.moveTo(0,a),t.lineTo(i,r),t.lineTo(i,-r),t.lineTo(0,-a),t.lineTo(-i,-r),t.lineTo(-i,r),t.closePath()}},Wg=new Map([["asterisk",cI],["circle",Rf],["cross",uI],["diamond",hI],["diamond2",fI],["hexagon",qet],["plus",mI],["square",pI],["square2",gI],["star",AI],["times",CI],["triangle",yI],["triangle2",vI],["wye",bI]]);function Kg(t){return t&&typeof t.draw=="function"}function Zet(t){return Kg(t)?!0:typeof t!="string"?!1:Wg.has(t.toLowerCase())}function Xg(t){if(t==null||Kg(t))return t;const e=Wg.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function tit(t){if(t==null||Kg(t))return[void 0,t];if(typeof t=="string"){const e=Wg.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function zd({filter:t,sort:e,reverse:i,transform:a,initializer:r,...s}={},l){if(a===void 0&&(t!=null&&(a=xR(t)),e!=null&&!Dd(e)&&(a=z5(a,Yg(e))),i&&(a=z5(a,SR))),l!=null&&r!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(e===null||Dd(e))&&{sort:e},transform:z5(a,l)}}function Pd({filter:t,sort:e,reverse:i,initializer:a,...r}={},s){return a===void 0&&(t!=null&&(a=xR(t)),e!=null&&!Dd(e)&&(a=J5(a,Yg(e))),i&&(a=J5(a,SR))),{...r,...(e===null||Dd(e))&&{sort:e},initializer:J5(a,s)}}function z5(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(i,a,r){return{data:i,facets:a}=t.call(this,i,a,r),e.call(this,Rd(i),a,r)}}function J5(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(i,a,r,...s){let l,u,d,c,f,M;return{data:u=i,facets:d=a,channels:l}=t.call(this,i,a,r,...s),{data:f=u,facets:M=d,channels:c}=e.call(this,u,d,{...r,...l},...s),{data:f,facets:M,channels:{...l,...c}}}}function eit(t,e){return(t.initializer!=null?Pd:zd)(t,e)}function xR(t){return(e,i)=>{const a=ea(e,t);return{data:e,facets:i.map(r=>r.filter(s=>a[s]))}}}function SR(t,e){return{data:t,facets:e.map(i=>i.slice().reverse())}}function iit(t,{sort:e,...i}={}){return{...(z4(t)&&t.channel!==void 0?Pd:eit)(i,Yg(t)),sort:Dd(e)?e:null}}function Yg(t){return(typeof t=="function"&&t.length!==1?nit:ait)(t)}function nit(t){return(e,i)=>{const a=tu(e)?(r,s)=>t(e[r],e[s]):(r,s)=>t(e.get(r),e.get(s));return{data:e,facets:i.map(r=>r.slice().sort(a))}}}function ait(t){let e,i;({channel:e,value:t,order:i}={...Qd(t)});const a=e==null?void 0:e.startsWith("-");if(a&&(e=e.slice(1)),i===void 0&&(i=a?q3:oo),typeof i!="function")switch(`${i}`.toLowerCase()){case"ascending":i=oo;break;case"descending":i=q3;break;default:throw new Error(`invalid order: ${i}`)}return(r,s,l)=>{let u;if(e===void 0)u=ea(r,t);else{if(l===void 0)throw new Error("channel sort requires an initializer");if(u=l[e],!u)return{};u=u.value}const d=(c,f)=>i(u[c],u[f]);return{data:r,facets:s.map(c=>c.slice().sort(d))}}}function rit(t={y:"count"},e={}){const{x:i=Q9}=e;if(i==null)throw new Error("missing channel: x");return oit(i,null,t,e)}function oit(t,e,{data:i=tM,filter:a,sort:r,reverse:s,...l}={},u={}){l=cit(l,u),i=RR(i,Q9),r=r==null?void 0:IR("sort",r,u),a=a==null?void 0:BR("filter",a,u);const[d,c]=Xr(t),[f,M]=Xr(e),{z:m,fill:A,stroke:p,x1:y,x2:E,y1:v,y2:w,...x}=u,[b,O]=Xr(m),[S]=N0(A),[R]=N0(p),[I,P]=Xr(S),[L,k]=Xr(R);return{..."z"in u&&{z:b||m},..."fill"in u&&{fill:I||A},..."stroke"in u&&{stroke:L||p},...zd(x,(N,$,H)=>{const U=e4(ea(N,t),H==null?void 0:H.x),W=e4(ea(N,e),H==null?void 0:H.y),J=ea(N,m),Q=ea(N,S),G=ea(N,R),z=DR(l,{z:J,fill:Q,stroke:G}),j=[],nt=[],tt=U&&c([]),ht=W&&M([]),pt=J&&O([]),gt=Q&&P([]),Tt=G&&k([]);let vt=0;for(const Ot of l)Ot.initialize(N);r&&r.initialize(N),a&&a.initialize(N);for(const Ot of $){const ft=[];for(const St of l)St.scope("facet",Ot);r&&r.scope("facet",Ot),a&&a.scope("facet",Ot);for(const[St,Mt]of Mf(Ot,z))for(const[Pt,Vt]of Mf(Mt,W))for(const[ie,jt]of Mf(Vt,U)){const Wt={data:N};if(U&&(Wt.x=ie),W&&(Wt.y=Pt),z&&(Wt.z=St),!(a&&!a.reduce(jt,Wt))){ft.push(vt++),nt.push(i.reduceIndex(jt,N,Wt)),U&&tt.push(ie),W&&ht.push(Pt),J&&pt.push(z===J?St:J[jt[0]]),Q&&gt.push(z===Q?St:Q[jt[0]]),G&&Tt.push(z===G?St:G[jt[0]]);for(const me of l)me.reduce(jt,Wt);r&&r.reduce(jt,Wt)}}j.push(ft)}return PR(j,r,s),{data:nt,facets:j}}),...!gf(l,"x")&&(d?{x:d}:{x1:y,x2:E}),...!gf(l,"y")&&(f?{y:f}:{y1:v,y2:w}),...Object.fromEntries(l.map(({name:N,output:$})=>[N,$]))}}function gf(t,...e){for(const{name:i}of t)if(e.includes(i))return!0;return!1}function TR(t,e,i=qg){const a=Object.entries(t);return e.title!=null&&t.title===void 0&&a.push(["title",fit]),e.href!=null&&t.href===void 0&&a.push(["href",eM]),a.filter(([,r])=>r!==void 0).map(([r,s])=>s===null?sit(r):i(r,s,e))}function qg(t,e,i,a=Zg){let r;Fs(e)&&"reduce"in e&&(r=e.scale,e=e.reduce);const s=a(t,e,i),[l,u]=Hf(s.label);let d;return{name:t,output:r===void 0?l:{value:l,scale:r},initialize(c){s.initialize(c),d=u([])},scope(c,f){s.scope(c,f)},reduce(c,f){d.push(s.reduce(c,f))}}}function sit(t){return{name:t,initialize(){},scope(){},reduce(){}}}function Zg(t,e,i,a=Y4){const r=yR(t,i),s=a(e,r);let l,u;return{label:Ul(s===i4?null:r,s.label),initialize(d){l=r===void 0?d:ea(d,r),s.scope==="data"&&(u=s.reduceIndex(Us(d),l))},scope(d,c){s.scope===d&&(u=s.reduceIndex(c,l))},reduce(d,c){return s.scope==null?s.reduceIndex(d,l,c):s.reduceIndex(d,l,u,c)}}}function Mf(t,e){return e?d1(t,i=>e[i]):[[,t]]}function Y4(t,e,i=lit){if(t==null)return i(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Fs(t))return dit(t);if(typeof t=="function")return hit(t);if(/^p\d{2}$/i.test(t))return ms(dR(t));switch(`${t}`.toLowerCase()){case"first":return eM;case"last":return mit;case"identity":return tM;case"count":return i4;case"distinct":return pit;case"sum":return e==null?i4:git;case"proportion":return IC(e,"data");case"proportion-facet":return IC(e,"facet");case"deviation":return ms(V7);case"min":return ms(Ir);case"min-index":return ms(Pc);case"max":return ms(ca);case"max-index":return ms(J7);case"mean":return TC(Ol);case"median":return TC(Md);case"variance":return ms(H7);case"mode":return ms(m4)}return i(t)}function lit(t){throw new Error(`invalid reduce: ${t}`)}function cit(t,e){return TR(t,e,IR)}function IR(t,e,i){return qg(t,e,i,BR)}function BR(t,e,i){return Zg(t,e,i,RR)}function RR(t,e){return Y4(t,e,uit)}function uit(t){switch(`${t}`.toLowerCase()){case"x":return Mit;case"y":return Ait;case"z":return LR}throw new Error(`invalid group reduce: ${t}`)}function DR(t,e){for(const i in e){const a=e[i];if(a!==void 0&&!t.some(r=>r.name===i))return a}}function PR(t,e,i){if(e){const a=e.output.transform(),r=(s,l)=>oo(a[s],a[l]);t.forEach(s=>s.sort(r))}i&&t.forEach(a=>a.reverse())}function dit(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function hit(t){return{reduceIndex(e,i,a){return t(j4(i,e),a)}}}function ms(t){return{reduceIndex(e,i){return t(e,a=>i[a])}}}function TC(t){return{reduceIndex(e,i){const a=t(e,r=>i[r]);return e0(i)?new Date(a):a}}}const tM={reduceIndex(t,e){return j4(e,t)}},eM={reduceIndex(t,e){return e[t[0]]}},fit={reduceIndex(t,e){const a=m3(Xu(t,s=>s.length,s=>e[s]),Z3),r=a.slice(-5).reverse();if(r.length<a.length){const s=a.slice(0,-4);r[4]=[` ${s.length.toLocaleString("en-US")} more`,xl(s,Z3)]}return r.map(([s,l])=>`${s} (${l.toLocaleString("en-US")})`).join(`
`)}},mit={reduceIndex(t,e){return e[t[t.length-1]]}},i4={label:"Frequency",reduceIndex(t){return t.length}},pit={label:"Distinct",reduceIndex(t,e){const i=new u1;for(const a of t)i.add(e[a]);return i.size}},git=ms(xl);function IC(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(i,a,r=1)=>i.length/r}:{scope:e,reduceIndex:(i,a,r=1)=>xl(i,s=>a[s])/r}}const Mit={reduceIndex(t,e,{x:i}){return i}},Ait={reduceIndex(t,e,{y:i}){return i}},LR={reduceIndex(t,e,{z:i}){return i}};function Qf(t,{scale:e,type:i,value:a,filter:r,hint:s,label:l=Ul(a)},u){return s===void 0&&typeof(a==null?void 0:a.transform)=="function"&&(s=a.hint),kR(u,{scale:e,type:i,value:ea(t,a),label:l,filter:r,hint:s})}function yit(t,e){return Object.fromEntries(Object.entries(t).map(([i,a])=>[i,Qf(e,a,i)]))}function vit(t,e){const i=Object.fromEntries(Object.entries(t).map(([a,{scale:r,value:s}])=>{const l=r==null?null:e[r];return[a,l==null?s:Ha(s,l)]}));return i.channels=t,i}function kR(t,e){const{scale:i,value:a}=e;if(i===!0||i==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=i!==!0&&Q5(a,W4)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=i!==!0&&Q5(a,Vet)?null:"opacity",e.defaultScale="opacity";break;case"symbol":i!==!0&&Q5(a,Zet)?(e.scale=null,e.value=Ha(a,Xg)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=xa.has(t)?t:null;break}else if(i===!1)e.scale=null;else if(i!=null&&!xa.has(i))throw new Error(`unknown scale: ${i}`);return e}function bit(t,e,i,a,r){const{order:s,reverse:l,reduce:u=!0,limit:d}=r;for(const c in r){if(!xa.has(c))continue;let{value:f,order:M=s,reverse:m=l,reduce:A=u,limit:p=d}=Qd(r[c]);const y=f==null?void 0:f.startsWith("-");if(y&&(f=f.slice(1)),M=M===void 0?y!==(f==="width"||f==="height")?FR:NR:_it(M),A==null||A===!1)continue;const E=c==="fx"||c==="fy"?Eit(e,a[c]):Cit(i,c);if(!E)throw new Error(`missing channel for scale: ${c}`);const v=E.value,[w=0,x=1/0]=$l(p)?p:p<0?[p]:[0,p];if(f==null)E.domain=()=>{let b=Array.from(new u1(v));return m&&(b=b.reverse()),(w!==0||x!==1/0)&&(b=b.slice(w,x)),b};else{const b=f==="data"?t:f==="height"?BC(i,"y1","y2"):f==="width"?BC(i,"x1","x2"):b7(i,f,f==="y"?"y2":f==="x"?"x2":void 0),O=Y4(A===!0?"max":A,b);E.domain=()=>{let S=FG(Us(v),R=>O.reduceIndex(R,b),R=>v[R]);return M&&S.sort(M),m&&S.reverse(),(w!==0||x!==1/0)&&(S=S.slice(w,x)),S.map(zg)}}}}function Cit(t,e){for(const i in t){const a=t[i];if(a.scale===e)return a}}function Eit(t,e){const i=t.original;if(i===t)return e;const a=e.value,r=e.value=[];for(let s=0;s<i.length;++s){const l=a[i[s][0]];for(const u of t[s])r[u]=l}return e}function BC(t,e,i){const a=b7(t,e),r=b7(t,i);return Ha(r,(s,l)=>Math.abs(s-a[l]),Float64Array)}function b7(t,e,i){let a=t[e];if(!a&&i!==void 0&&(a=t[i]),a)return a.value;throw new Error(`missing channel: ${e}`)}function _it(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return NR;case"descending":return FR}throw new Error(`invalid order: ${t}`)}function NR([t,e],[i,a]){return oo(e,a)||oo(t,i)}function FR([t,e],[i,a]){return q3(e,a)||oo(t,i)}function RC(t,e){let i=t[e];if(i){for(;i.source;)i=i.source;return i.source===null?null:i}}const UR=new Map([["accent",sW],["category10",oW],["dark2",lW],["observable10",Z0],["paired",cW],["pastel1",uW],["pastel2",dW],["set1",hW],["set2",fW],["set3",mW],["tableau10",Co]]);function wit(t){return t!=null&&UR.has(`${t}`.toLowerCase())}const DC=new Map([...UR,["brbg",ds(WS,KS)],["prgn",ds(XS,YS)],["piyg",ds(qS,ZS)],["puor",ds(tT,eT)],["rdbu",ds(e7,F3)],["rdgy",ds(iT,nT)],["rdylbu",ds(i7,U3)],["rdylgn",ds(aT,rT)],["spectral",ds(oT,sT)],["burd",PC(e7,F3)],["buylrd",PC(i7,U3)],["blues",ar(RT,DT)],["greens",ar(PT,LT)],["greys",ar(kT,NT)],["oranges",ar(HT,VT)],["purples",ar(FT,UT)],["reds",ar($T,GT)],["turbo",hs(XT)],["viridis",hs(YT)],["magma",hs(qT)],["inferno",hs(ZT)],["plasma",hs(tI)],["cividis",hs(QT)],["cubehelix",hs(zT)],["warm",hs(JT)],["cool",hs(jT)],["bugn",ar(lT,cT)],["bupu",ar(uT,dT)],["gnbu",ar(hT,fT)],["orrd",ar(mT,pT)],["pubu",ar(AT,yT)],["pubugn",ar(gT,MT)],["purd",ar(vT,bT)],["rdpu",ar(CT,ET)],["ylgn",ar(OT,xT)],["ylgnbu",ar(_T,wT)],["ylorbr",ar(ST,TT)],["ylorrd",ar(IT,BT)],["rainbow",LC(WT)],["sinebow",LC(KT)]]);function ar(t,e){return({length:i})=>i===1?[t[3][1]]:i===2?[t[3][1],t[3][2]]:(i=Math.max(3,Math.floor(i)),i>9?io(e,i):t[i])}function ds(t,e){return({length:i})=>i===2?[t[3][0],t[3][2]]:(i=Math.max(3,Math.floor(i)),i>11?io(e,i):t[i])}function PC(t,e){return({length:i})=>i===2?[t[3][2],t[3][0]]:(i=Math.max(3,Math.floor(i)),i>11?io(a=>e(1-a),i):t[i].slice().reverse())}function hs(t){return({length:e})=>io(t,Math.max(2,Math.floor(e)))}function LC(t){return({length:e})=>io(t,Math.floor(e)+1).slice(0,-1)}function $R(t){const e=`${t}`.toLowerCase();if(!DC.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return DC.get(e)}function q4(t,e){const i=$R(t),a=typeof i=="function"?i({length:e}):i;return a.length!==e?a.slice(0,e):a}function Oit(t,e="greys"){const i=new Set,[a,r]=q4(e,2);for(const s of t)if(s!=null)if(s===!0)i.add(r);else if(s===!1)i.add(a);else return;return[...i]}const kC=new Map([["brbg",KS],["prgn",YS],["piyg",ZS],["puor",eT],["rdbu",F3],["rdgy",nT],["rdylbu",U3],["rdylgn",rT],["spectral",sT],["burd",t=>F3(1-t)],["buylrd",t=>U3(1-t)],["blues",DT],["greens",LT],["greys",NT],["purples",UT],["reds",GT],["oranges",VT],["turbo",XT],["viridis",YT],["magma",qT],["inferno",ZT],["plasma",tI],["cividis",QT],["cubehelix",zT],["warm",JT],["cool",jT],["bugn",cT],["bupu",dT],["gnbu",fT],["orrd",pT],["pubugn",MT],["pubu",yT],["purd",bT],["rdpu",ET],["ylgnbu",wT],["ylgn",xT],["ylorbr",TT],["ylorrd",BT],["rainbow",WT],["sinebow",KT]]);function iM(t){const e=`${t}`.toLowerCase();if(!kC.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return kC.get(e)}const xit=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Sit(t){return t!=null&&xit.has(`${t}`.toLowerCase())}const GR=t=>e=>t(1-e),j5=[0,1],NC=new Map([["number",Or],["rgb",Vc],["hsl",yQ],["hcl",CQ],["lab",vQ]]);function HR(t){const e=`${t}`.toLowerCase();if(!NC.has(e))throw new Error(`unknown interpolator: ${e}`);return NC.get(e)}function F1(t,e,i,{type:a,nice:r,clamp:s,zero:l,domain:u=QR(t,i),unknown:d,round:c,scheme:f,interval:M,range:m=xa.get(t)===L1?Uit(i,u):xa.get(t)===k1?$it(i,u):xa.get(t)===N1?j5:void 0,interpolate:A=xa.get(t)===$s?f==null&&m!==void 0?Vc:iM(f!==void 0?f:a==="cyclical"?"rainbow":"turbo"):c?Z7:Or,reverse:p}){if(M=Vd(M,a),(a==="cyclical"||a==="sequential")&&(a="linear"),typeof A!="function"&&(A=HR(A)),p=!!p,m!==void 0){const y=(u=Pl(u)).length,E=(m=Pl(m)).length;if(y!==E){if(A.length===1)throw new Error("invalid piecewise interpolator");A=y4(A,m),m=void 0}}if(A.length===1?(p&&(A=GR(A),p=!1),m===void 0&&(m=Float64Array.from(u,(y,E)=>E/(u.length-1)),m.length===2&&(m=j5)),e.interpolate((m===j5?Os:aM)(A))):e.interpolate(A),l){const[y,E]=Oa(u);(y>0||E<0)&&(u=$f(u),(Bd(u)||1)===Math.sign(y)?u[0]=0:u[u.length-1]=0)}return p&&(u=M3(u)),e.domain(u).unknown(d),r&&(e.nice(Tit(r,a)),u=e.domain()),m!==void 0&&e.range(m),s&&e.clamp(s),{type:a,domain:u,range:m,scale:e,interpolate:A,interval:M}}function Tit(t,e){return t===!0?void 0:typeof t=="number"?t:ket(t,e)}function Iit(t,e,i){return F1(t,y1(),e,i)}function Bit(t,e,i){return VR(t,e,{...i,exponent:.5})}function VR(t,e,{exponent:i=1,...a}){return F1(t,xS().exponent(i),e,{...a,type:"pow"})}function Rit(t,e,{base:i=10,domain:a=Git(e),...r}){return F1(t,ES().base(i),e,{...r,domain:a})}function Dit(t,e,{constant:i=1,...a}){return F1(t,wS().constant(i),e,a)}function Pit(t,e,{range:i,quantiles:a=i===void 0?5:(i=[...i]).length,n:r=a,scheme:s="rdylbu",domain:l=Hit(e),unknown:u,interpolate:d,reverse:c}){return i===void 0&&(i=d!==void 0?io(d,r):xa.get(t)===$s?q4(s,r):void 0),l.length>0&&(l=SS(l,i===void 0?{length:r}:i).quantiles()),nM(t,e,{domain:l,range:i,reverse:c,unknown:u})}function Lit(t,e,{range:i,n:a=i===void 0?5:(i=[...i]).length,scheme:r="rdylbu",domain:s=QR(t,e),unknown:l,interpolate:u,reverse:d}){const[c,f]=Oa(s);let M;return i===void 0?(M=pd(c,f,a),M[0]<=c&&M.splice(0,1),M[M.length-1]>=f&&M.pop(),a=M.length+1,i=u!==void 0?io(u,a):xa.get(t)===$s?q4(r,a):void 0):(M=io(Or(c,f),a+1).slice(1,-1),c instanceof Date&&(M=M.map(m=>new Date(m)))),Bd(Pl(s))<0&&M.reverse(),nM(t,e,{domain:M,range:i,reverse:d,unknown:l})}function nM(t,e,{domain:i=[0],unknown:a,scheme:r="rdylbu",interpolate:s,range:l=s!==void 0?io(s,i.length+1):xa.get(t)===$s?q4(r,i.length+1):void 0,reverse:u}){i=Pl(i);const d=Bd(i);if(!isNaN(d)&&!kit(i,d))throw new Error(`the ${t} scale has a non-monotonic domain`);return u&&(l=M3(l)),{type:"threshold",scale:TS(d<0?M3(i):i,l===void 0?[]:l).unknown(a),domain:i,range:l}}function kit(t,e){for(let i=1,a=t.length,r=t[0];i<a;++i){const s=l1(r,r=t[i]);if(s!==0&&s!==e)return!1}return!0}function Nit(t){return{type:"identity",scale:Ket(xa.get(t))?vS():e=>e}}function zf(t,e=eR){return t.length?[Ir(t,({value:i})=>i===void 0?i:Ir(i,e)),ca(t,({value:i})=>i===void 0?i:ca(i,e))]:[0,1]}function QR(t,e){const i=xa.get(t);return(i===L1||i===N1||i===k1?Fit:zf)(e)}function Fit(t){return[0,t.length?ca(t,({value:e})=>e===void 0?e:ca(e,eR)):1]}function Uit(t,e){const i=t.find(({radius:l})=>l!==void 0);if(i!==void 0)return[0,i.radius];const a=gd(t,.5,({value:l})=>l===void 0?NaN:gd(l,.25,V4)),r=e.map(l=>3*Math.sqrt(l/a)),s=30/ca(r);return s<1?r.map(l=>l*s):r}function $it(t,e){const i=Md(t,({value:s})=>s===void 0?NaN:Md(s,Math.abs)),a=e.map(s=>12*s/i),r=60/ca(a);return r<1?a.map(s=>s*r):a}function Git(t){for(const{value:e}of t)if(e!==void 0)for(let i of e){if(i>0)return zf(t,V4);if(i<0)return zf(t,Ug)}return[1,10]}function Hit(t){const e=[];for(const{value:i}of t)if(i!==void 0)for(const a of i)e.push(a);return e}function aM(t){return(e,i)=>a=>t(e+a*(i-e))}let C7=0,E7;function Vit(){const t=C7;return C7=0,E7=void 0,t}function Ss(t){t!==E7&&(E7=t,console.warn(t),++C7)}function Z4(t,e,i,a,{type:r,nice:s,clamp:l,domain:u=zf(a),unknown:d,pivot:c=0,scheme:f,range:M,symmetric:m=!0,interpolate:A=xa.get(t)===$s?f==null&&M!==void 0?Vc:iM(f!==void 0?f:"rdbu"):Or,reverse:p}){c=+c,u=Pl(u);let[y,E]=u;if(u.length>2&&Ss(`Warning: the diverging ${t} scale domain contains extra elements.`),l1(y,E)<0&&([y,E]=[E,y],p=!p),y=Math.min(y,c),E=Math.max(E,c),typeof A!="function"&&(A=HR(A)),M!==void 0&&(A=A.length===1?aM(A)(...M):y4(A,M)),p&&(A=GR(A)),m){const v=i.apply(c),w=v-i.apply(y),x=i.apply(E)-v;w<x?y=i.invert(v-x):w>x&&(E=i.invert(v+w))}return e.domain([y,c,E]).unknown(d).interpolator(A),l&&e.clamp(l),s&&e.nice(s),{type:r,domain:[y,E],pivot:c,interpolate:A,scale:e}}function Qit(t,e,i){return Z4(t,QS(),Wit,e,i)}function zit(t,e,i){return zR(t,e,{...i,exponent:.5})}function zR(t,e,{exponent:i=1,...a}){return Z4(t,jS().exponent(i=+i),Yit(i),e,{...a,type:"diverging-pow"})}function Jit(t,e,{base:i=10,pivot:a=1,domain:r=zf(e,a<0?Ug:V4),...s}){return Z4(t,zS().base(i=+i),Kit,e,{domain:r,pivot:a,...s})}function jit(t,e,{constant:i=1,...a}){return Z4(t,JS().constant(i=+i),qit(i),e,a)}const Wit={apply(t){return t},invert(t){return t}},Kit={apply:Math.log,invert:Math.exp},Xit={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Yit(t){return t===.5?Xit:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function qit(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function JR(t,e,i,a){return F1(t,e,i,a)}function Zit(t,e,i){return JR(t,aW(),e,i)}function tnt(t,e,i){return JR(t,rW(),e,i)}const U1=Symbol("ordinal");function jR(t,e,i,{type:a,interval:r,domain:s,range:l,reverse:u,hint:d}){return r=Vd(r,a),s===void 0&&(s=KR(i,r,t)),(a==="categorical"||a===U1)&&(a="ordinal"),u&&(s=M3(s)),s=e.domain(s).domain(),l!==void 0&&(typeof l=="function"&&(l=l(s)),e.range(l)),{type:a,domain:s,range:l,scale:e,hint:d,interval:r}}function ent(t,e,{type:i,interval:a,domain:r,range:s,scheme:l,unknown:u,...d}){a=Vd(a,i),r===void 0&&(r=KR(e,a,t));let c;if(xa.get(t)===X4)c=ant(e),s=s===void 0?rnt(c):Ha(s,Xg);else if(xa.get(t)===$s&&(s===void 0&&(i==="ordinal"||i===U1)&&(s=Oit(r,l),s!==void 0&&(l=void 0)),l===void 0&&s===void 0&&(l=i==="ordinal"?"turbo":"observable10"),l!==void 0))if(s!==void 0){const f=iM(l),M=s[0],m=s[1]-s[0];s=({length:A})=>io(p=>f(M+m*p),A)}else s=$R(l);if(u===q6)throw new Error(`implicit unknown on ${t} scale is not supported`);return jR(t,cg().unknown(u),e,{...d,type:i,domain:r,range:s,hint:c})}function int(t,e,{align:i=.5,padding:a=.5,...r}){return WR(UJ().align(i).padding(a),e,r,t)}function nnt(t,e,{align:i=.5,padding:a=.1,paddingInner:r=a,paddingOuter:s=t==="fx"||t==="fy"?0:a,...l}){return WR(w4().align(i).paddingInner(r).paddingOuter(s),e,l,t)}function WR(t,e,i,a){let{round:r}=i;return r!==void 0&&t.round(r=!!r),t=jR(a,t,e,i),t.round=r,t}function KR(t,e,i){const a=new u1;for(const{value:r,domain:s}of t){if(s!==void 0)return s();if(r!==void 0)for(const l of r)a.add(l)}if(e!==void 0){const[r,s]=Oa(a).map(e.floor,e);return e.range(r,e.offset(s))}if(a.size>1e4&&xa.get(i)===Po)throw new Error(`implicit ordinal domain of ${i} scale has more than 10,000 values`);return m3(a,oo)}function FC(t,e){let i;for(const{hint:a}of t){const r=a==null?void 0:a[e];if(r!==void 0){if(i===void 0)i=r;else if(i!==r)return}}return i}function ant(t){return{fill:FC(t,"fill"),stroke:FC(t,"stroke")}}function rnt(t){return xr(t.fill)?SW:xW}function _7(t,{label:e,inset:i=0,insetTop:a=i,insetRight:r=i,insetBottom:s=i,insetLeft:l=i,round:u,nice:d,clamp:c,zero:f,align:M,padding:m,projection:A,facet:{label:p=e}={},...y}={}){const E={};for(const[v,w]of t){const x=y[v],b=cnt(v,w,{round:xa.get(v)===Po?u:void 0,nice:d,clamp:c,zero:f,align:M,padding:m,projection:A,...x});if(b){let{label:O=v==="fx"||v==="fy"?p:e,percent:S,transform:R,inset:I,insetTop:P=I!==void 0?I:v==="y"?a:0,insetRight:L=I!==void 0?I:v==="x"?r:0,insetBottom:k=I!==void 0?I:v==="y"?s:0,insetLeft:N=I!==void 0?I:v==="x"?l:0}=x||{};if(R==null)R=void 0;else if(typeof R!="function")throw new Error("invalid scale transform; not a function");b.percent=!!S,b.label=O===void 0?snt(w,b):O,b.transform=R,v==="x"||v==="fx"?(b.insetLeft=+N,b.insetRight=+L):(v==="y"||v==="fy")&&(b.insetTop=+P,b.insetBottom=+k),E[v]=b}}return E}function UC(t){const e={},i={scales:e};for(const[a,r]of Object.entries(t)){const{scale:s,type:l,interval:u,label:d}=r;e[a]=mnt(r),i[a]=s,s.type=l,u!=null&&(s.interval=u),d!=null&&(s.label=d)}return i}function ont(t,e){const{x:i,y:a,fx:r,fy:s}=t,l=r||s?rM(e):e;r&&$C(r,l),s&&GC(s,l);const u=r||s?YR(t,e):e;i&&$C(i,u),a&&GC(a,u)}function snt(t=[],e){let i;for(const{label:a}of t)if(a!==void 0){if(i===void 0)i=a;else if(i!==a)return}if(i!==void 0)return!eu(e)&&e.percent&&(i=`${i} (%)`),{inferred:!0,toString:()=>i}}function XR(t){return Math.sign(Bd(t.domain()))*Math.sign(Bd(t.range()))}function rM(t){const{marginTop:e,marginRight:i,marginBottom:a,marginLeft:r,width:s,height:l,facet:{marginTop:u,marginRight:d,marginBottom:c,marginLeft:f}}=t;return{marginTop:Math.max(e,u),marginRight:Math.max(i,d),marginBottom:Math.max(a,c),marginLeft:Math.max(r,f),width:s,height:l}}function YR({fx:t,fy:e},i){const{marginTop:a,marginRight:r,marginBottom:s,marginLeft:l,width:u,height:d}=rM(i);return{marginTop:a,marginRight:r,marginBottom:s,marginLeft:l,width:t?t.scale.bandwidth()+l+r:u,height:e?e.scale.bandwidth()+a+s:d,facet:{width:u,height:d}}}function $C(t,e){if(t.range===void 0){const{insetLeft:i,insetRight:a}=t,{width:r,marginLeft:s=0,marginRight:l=0}=e,u=s+i,d=r-l-a;t.range=[u,Math.max(u,d)],eu(t)||(t.range=ZR(t)),t.scale.range(t.range)}qR(t)}function GC(t,e){if(t.range===void 0){const{insetTop:i,insetBottom:a}=t,{height:r,marginTop:s=0,marginBottom:l=0}=e,u=s+i,d=r-l-a;t.range=[Math.max(u,d),u],eu(t)?t.range.reverse():t.range=ZR(t),t.scale.range(t.range)}qR(t)}function qR(t){t.round===void 0&&dnt(t)&&lnt(t)<=30&&t.scale.round(!0)}function lnt({scale:t}){const e=t.domain().length,[i,a]=t.range(),r=t.paddingInner?t.paddingInner():1,s=t.paddingOuter?t.paddingOuter():t.padding(),l=e-r,u=Math.abs(a-i)/Math.max(1,l+s*2);return(u-Math.floor(u))*l}function ZR(t){const e=t.scale.domain().length+tD(t);if(!(e>2))return t.range;const[i,a]=t.range;return Array.from({length:e},(r,s)=>i+s/(e-1)*(a-i))}function cnt(t,e=[],i={}){const a=unt(t,e,i);if(i.type===void 0&&i.domain===void 0&&i.range===void 0&&i.interval==null&&t!=="fx"&&t!=="fy"&&eu({type:a})){const r=e.map(({value:s})=>s).filter(s=>s!==void 0);r.some(e0)?Ss(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${$u(a)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${$u(a)}".`):r.some(Uet)?Ss(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${$u(a)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${$u(a)}".`):r.some($et)&&Ss(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${$u(a)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${$u(a)}".`)}switch(i.type=a,a){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":i=km(e,i,Do);break;case"identity":switch(xa.get(t)){case Po:i=km(e,i,Do);break;case X4:i=km(e,i,hnt);break}break;case"utc":case"time":i=km(e,i,hR);break}switch(a){case"diverging":return Qit(t,e,i);case"diverging-sqrt":return zit(t,e,i);case"diverging-pow":return zR(t,e,i);case"diverging-log":return Jit(t,e,i);case"diverging-symlog":return jit(t,e,i);case"categorical":case"ordinal":case U1:return ent(t,e,i);case"cyclical":case"sequential":case"linear":return Iit(t,e,i);case"sqrt":return Bit(t,e,i);case"threshold":return nM(t,e,i);case"quantile":return Pit(t,e,i);case"quantize":return Lit(t,e,i);case"pow":return VR(t,e,i);case"log":return Rit(t,e,i);case"symlog":return Dit(t,e,i);case"utc":return tnt(t,e,i);case"time":return Zit(t,e,i);case"point":return int(t,e,i);case"band":return nnt(t,e,i);case"identity":return Nit(t);case void 0:return;default:throw new Error(`unknown scale type: ${a}`)}}function $u(t){return typeof t=="symbol"?t.description:t}function HC(t){return typeof t=="string"?`${t}`.toLowerCase():t}const VC={toString:()=>"projection"};function unt(t,e,{type:i,domain:a,range:r,scheme:s,pivot:l,projection:u}){if(i=HC(i),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&u!=null&&(i=VC);for(const c of e){const f=HC(c.type);if(f!==void 0){if(i===void 0)i=f;else if(i!==f)throw new Error(`scale incompatible with channel: ${i} !== ${f}`)}}if(i===VC)return;if(i!==void 0)return i;if(a===void 0&&!e.some(({value:c})=>c!==void 0))return;const d=xa.get(t);if(d===L1)return"sqrt";if(d===N1||d===k1)return"linear";if(d===X4)return"ordinal";if((a||r||[]).length>2)return W5(d);if(a!==void 0){if(SC(a))return W5(d);if(e0(a))return"utc"}else{const c=e.map(({value:f})=>f).filter(f=>f!==void 0);if(c.some(SC))return W5(d);if(c.some(e0))return"utc"}if(d===$s){if(l!=null||Sit(s))return"diverging";if(wit(s))return"categorical"}return"linear"}function W5(t){switch(t){case Po:return"point";case $s:return U1;default:return"ordinal"}}function eu({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===U1}function tD({type:t}){return t==="threshold"}function dnt({type:t}){return t==="point"||t==="band"}function Ho(t){if(t===void 0)return!0;const e=t.domain(),i=t(e[0]);for(let a=1,r=e.length;a<r;++a)if(t(e[a])-i)return!1;return!0}function km(t,{domain:e,...i},a){var r;for(const s of t)s.value!==void 0&&(e===void 0&&(e=(r=s.value)==null?void 0:r.domain),s.value=a(s.value));return{domain:e===void 0?e:a(e),...i}}function hnt(t){return Ha(t,Xg)}function fnt(t){return e=>{if(!xa.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function mnt({scale:t,type:e,domain:i,range:a,interpolate:r,interval:s,transform:l,percent:u,pivot:d}){if(e==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const c=t.unknown?t.unknown():void 0;return{type:e,domain:$f(i),...a!==void 0&&{range:$f(a)},...l!==void 0&&{transform:l},...u&&{percent:u},...c!==void 0&&{unknown:c},...s!==void 0&&{interval:s},...r!==void 0&&{interpolate:r},...t.clamp&&{clamp:t.clamp()},...d!==void 0&&{pivot:d,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:f=>t(f),...t.invert&&{invert:f=>t.invert(f)}}}function pnt(t,e){const{fx:i,fy:a}=_7(t,e),r=i==null?void 0:i.scale.domain(),s=a==null?void 0:a.scale.domain();return r&&s?kG(r,s).map(([l,u],d)=>({x:l,y:u,i:d})):r?r.map((l,u)=>({x:l,i:u})):s?s.map((l,u)=>({y:l,i:u})):void 0}function gnt(t,{x:e,y:i}){return e&&(e=w7(e)),i&&(i=w7(i)),t.filter(e&&i?a=>e.has(a.x)&&i.has(a.y):e?a=>e.has(a.x):a=>i.has(a.y)).sort(e&&i?(a,r)=>e.get(a.x)-e.get(r.x)||i.get(a.y)-i.get(r.y):e?(a,r)=>e.get(a.x)-e.get(r.x):(a,r)=>i.get(a.y)-i.get(r.y))}function oM(t,{fx:e,fy:i}){const a=Us(t),r=e==null?void 0:e.value,s=i==null?void 0:i.value;return e&&i?Xu(a,l=>(l.fx=r[l[0]],l.fy=s[l[0]],l),l=>r[l],l=>s[l]):e?Xu(a,l=>(l.fx=r[l[0]],l),l=>r[l]):Xu(a,l=>(l.fy=s[l[0]],l),l=>s[l])}function Mnt(t,e,{marginTop:i,marginLeft:a}){return t&&e?({x:r,y:s})=>`translate(${t(r)-a},${e(s)-i})`:t?({x:r})=>`translate(${t(r)-a},0)`:({y:r})=>`translate(0,${e(r)-i})`}function Ant(t){const e=[],i=new Uint32Array(xl(t,a=>a.length));for(const a of t){let r=0;for(const s of t)a!==s&&(i.set(s,r),r+=s.length);e.push(i.slice(0,r))}return e}const ynt=new Map([["top",K5],["right",q5],["bottom",X5],["left",Y5],["top-left",Nm(K5,Y5)],["top-right",Nm(K5,q5)],["bottom-left",Nm(X5,Y5)],["bottom-right",Nm(X5,q5)],["top-empty",Cnt],["right-empty",wnt],["bottom-empty",Ent],["left-empty",_nt],["empty",Ont]]);function vnt(t){if(t==null)return null;const e=ynt.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const QC=new WeakMap;function w7(t){let e=QC.get(t);return e||QC.set(t,e=new $c(Ha(t,(i,a)=>[i,a]))),e}function Gl(t,e){return w7(t).get(e)}function bnt(t,e,i){return e=xs(e),i=xs(i),t.find(a=>Object.is(xs(a.x),e)&&Object.is(xs(a.y),i))}function tp(t,e,i){var a;return(a=bnt(t,e,i))==null?void 0:a.empty}function K5(t,{y:e},{y:i}){return e?Gl(e,i)===0:!0}function X5(t,{y:e},{y:i}){return e?Gl(e,i)===e.length-1:!0}function Y5(t,{x:e},{x:i}){return e?Gl(e,i)===0:!0}function q5(t,{x:e},{x:i}){return e?Gl(e,i)===e.length-1:!0}function Cnt(t,{y:e},{x:i,y:a,empty:r}){if(r)return!1;if(!e)return;const s=Gl(e,a);if(s>0)return tp(t,i,e[s-1])}function Ent(t,{y:e},{x:i,y:a,empty:r}){if(r)return!1;if(!e)return;const s=Gl(e,a);if(s<e.length-1)return tp(t,i,e[s+1])}function _nt(t,{x:e},{x:i,y:a,empty:r}){if(r)return!1;if(!e)return;const s=Gl(e,i);if(s>0)return tp(t,e[s-1],a)}function wnt(t,{x:e},{x:i,y:a,empty:r}){if(r)return!1;if(!e)return;const s=Gl(e,i);if(s<e.length-1)return tp(t,e[s+1],a)}function Ont(t,e,{empty:i}){return i}function Nm(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Z5(t,{channels:{fx:e,fy:i},groups:a}){return e&&i?t.map(({x:r,y:s})=>{var l;return((l=a.get(r))==null?void 0:l.get(s))??[]}):e?t.map(({x:r})=>a.get(r)??[]):t.map(({y:r})=>a.get(r)??[])}const eD=Math.PI,fs=2*eD,t6=.618;function xnt({projection:t,inset:e=0,insetTop:i=e,insetRight:a=e,insetBottom:r=e,insetLeft:s=e}={},l){if(t==null)return;if(typeof t.stream=="function")return t;let u,d,c="frame";if(Fs(t)){let O;if({type:t,domain:d,inset:O,insetTop:i=O!==void 0?O:i,insetRight:a=O!==void 0?O:a,insetBottom:r=O!==void 0?O:r,insetLeft:s=O!==void 0?O:s,clip:c=c,...u}=t,t==null)return}typeof t!="function"&&({type:t}=O7(t));const{width:f,height:M,marginLeft:m,marginRight:A,marginTop:p,marginBottom:y}=l,E=f-m-A-s-a,v=M-p-y-i-r;if(t=t==null?void 0:t({width:E,height:v,clip:c,...u}),t==null)return;c=Snt(c,m,p,f-A,M-y);let w=m+s,x=p+i,b;if(d!=null){const[[O,S],[R,I]]=p1(t).bounds(d),P=Math.min(E/(R-O),v/(I-S));P>0?(w-=(P*(O+R)-E)/2,x-=(P*(S+I)-v)/2,b=X6({point(L,k){this.stream.point(L*P+w,k*P+x)}})):Ss("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??(b=w===0&&x===0?iD():X6({point(O,S){this.stream.point(O+w,S+x)}})),{stream:O=>t.stream(b.stream(c(O)))}}function O7(t){switch(`${t}`.toLowerCase()){case"albers-usa":return J0(_J,.7463,.4673);case"albers":return Fm(lS,.7463,.4673);case"azimuthal-equal-area":return J0(wJ,4,4);case"azimuthal-equidistant":return J0(OJ,fs,fs);case"conic-conformal":return Fm(TJ,fs,fs);case"conic-equal-area":return Fm(P3,6.1702,2.9781);case"conic-equidistant":return Fm(RJ,7.312,3.6282);case"equal-earth":return J0(PJ,5.4133,2.6347);case"equirectangular":return J0(IJ,fs,eD);case"gnomonic":return J0(LJ,3.4641,3.4641);case"identity":return{type:iD};case"reflect-y":return{type:Tnt};case"mercator":return J0(xJ,fs,fs);case"orthographic":return J0(kJ,2,2);case"stereographic":return J0(NJ,2,2);case"transverse-mercator":return J0(FJ,fs,fs);default:throw new Error(`unknown projection type: ${t}`)}}function Snt(t,e,i,a,r){if(t===!1||t==null||typeof t=="number")return s=>s;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Jx(e,i,a,r);default:throw new Error(`unknown projection clip type: ${t}`)}}function J0(t,e,i){return{type:({width:a,height:r,rotate:s,precision:l=.15,clip:u})=>{var c,f,M;const d=t();return l!=null&&((c=d.precision)==null||c.call(d,l)),s!=null&&((f=d.rotate)==null||f.call(d,s)),typeof u=="number"&&((M=d.clipAngle)==null||M.call(d,u)),a!=null&&(d.scale(Math.min(a/e,r/i)),d.translate([a/2,r/2])),d},aspectRatio:i/e}}function Fm(t,e,i){const{type:a,aspectRatio:r}=J0(t,e,i);return{type:s=>{const{parallels:l,domain:u,width:d,height:c}=s,f=a(s);return l!=null&&(f.parallels(l),u===void 0&&d!=null&&f.fitSize([d,c],{type:"Sphere"})),f},aspectRatio:r}}const iD=Os({stream:t=>t}),Tnt=Os(X6({point(t,e){this.stream.point(t,-e)}}));function Int(t,e,i,a){const r=i[t],s=i[e],l=r.length,u=i[t]=new Float64Array(l).fill(NaN),d=i[e]=new Float64Array(l).fill(NaN);let c;const f=a.stream({point(M,m){u[c]=M,d[c]=m}});for(c=0;c<l;++c)f.point(r[c],s[c])}function Bnt({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Fs(t)&&(t=t.type),t!=null)}function Rnt(t){if(typeof(t==null?void 0:t.stream)=="function")return t6;if(Fs(t)){let e,i;if({domain:e,type:t,...i}=t,e!=null&&t!=null){const a=typeof t=="string"?O7(t).type:t,[[r,s],[l,u]]=p1(a({...i,width:100,height:100})).bounds(e),d=(u-s)/(l-r);return d&&isFinite(d)?d<.2?.2:d>5?5:d:t6}}if(t!=null){if(typeof t!="function"){const{aspectRatio:e}=O7(t);if(e)return e}return t6}}function Dnt(t){const e=[],i=[],a={scale:"x",value:e},r={scale:"y",value:i},s={point(l,u){e.push(l),i.push(u)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const l of t.value)Ec(l,s);return[a,r]}function sM(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:i}=t;return{document:e,clip:ER(i)}}function ya(t,{document:e}){return Yu(g4(t).call(e.documentElement))}const x7=Symbol("unset");function lM(t){return(t.length===1?Pnt:Lnt)(t)}function Pnt(t){let e,i=x7;return a=>(Object.is(i,a)||(i=a,e=t(a)),e)}function Lnt(t){let e,i;return(...a)=>(((i==null?void 0:i.length)!==a.length||i.some((r,s)=>!Object.is(r,a[s])))&&(i=a,e=t(...a)),e)}const knt=lM(t=>new Intl.NumberFormat(t));lM((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}));lM((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function Nnt(t="en-US"){const e=knt(t);return i=>i!=null&&!isNaN(i)?e.format(i):void 0}function Fnt(t){return bet(t,"Invalid Date")}function Unt(t="en-US"){const e=Nnt(t);return i=>(i instanceof Date?Fnt:typeof i=="number"?e:$r)(i)}const Ld=Unt(),qr=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let $nt=0,Gnt=0;function nD(){return`plot-clip-${++$nt}`}function Hnt(){return`plot-pattern-${++Gnt}`}function Vnt(t,{title:e,href:i,ariaLabel:a,ariaDescription:r,ariaHidden:s,target:l,fill:u,fillOpacity:d,stroke:c,strokeWidth:f,strokeOpacity:M,strokeLinejoin:m,strokeLinecap:A,strokeMiterlimit:p,strokeDasharray:y,strokeDashoffset:E,opacity:v,mixBlendMode:w,imageFilter:x,paintOrder:b,pointerEvents:O,shapeRendering:S,channels:R},{ariaLabel:I,fill:P="currentColor",fillOpacity:L,stroke:k="none",strokeOpacity:N,strokeWidth:$,strokeLinecap:H,strokeLinejoin:U,strokeMiterlimit:W,paintOrder:J}){P===null&&(u=null,d=null),k===null&&(c=null,M=null),xr(P)?!xr(k)&&(!xr(u)||R!=null&&R.fill)&&(k="none"):xr(k)&&(!xr(c)||R!=null&&R.stroke)&&(P="none");const[Q,G]=N0(u,P),[z,j]=Gr(d,L),[nt,tt]=N0(c,k),[ht,pt]=Gr(M,N),[gt,Tt]=Gr(v);Vf(tt)||(f===void 0&&(f=$),A===void 0&&(A=H),m===void 0&&(m=U),p===void 0&&!Qet(m)&&(p=W),!Vf(G)&&b===void 0&&(b=J));const[vt,Ot]=Gr(f);return P!==null&&(t.fill=gr(G,"currentColor"),t.fillOpacity=Gh(j,1)),k!==null&&(t.stroke=gr(tt,"none"),t.strokeWidth=Gh(Ot,1),t.strokeOpacity=Gh(pt,1),t.strokeLinejoin=gr(m,"miter"),t.strokeLinecap=gr(A,"butt"),t.strokeMiterlimit=Gh(p,4),t.strokeDasharray=gr(y,"none"),t.strokeDashoffset=gr(E,"0")),t.target=$r(l),t.ariaLabel=$r(I),t.ariaDescription=$r(r),t.ariaHidden=$r(s),t.opacity=Gh(Tt,1),t.mixBlendMode=gr(w,"normal"),t.imageFilter=gr(x,"none"),t.paintOrder=gr(b,"normal"),t.pointerEvents=gr(O,"auto"),t.shapeRendering=gr(S,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:i,optional:!0,filter:null},ariaLabel:{value:a,optional:!0,filter:null},fill:{value:Q,scale:"auto",optional:!0},fillOpacity:{value:z,scale:"auto",optional:!0},stroke:{value:nt,scale:"auto",optional:!0},strokeOpacity:{value:ht,scale:"auto",optional:!0},strokeWidth:{value:vt,optional:!0},opacity:{value:gt,scale:"auto",optional:!0}}}function Qnt(t,e){e&&t.filter(i=>Fg(e[i])).append("title").call(Jnt,e)}function znt(t,e){e&&t.filter(([i])=>Fg(e[i])).append("title").call(jnt,e)}function Jnt(t,e){e&&t.text(i=>Ld(e[i]))}function jnt(t,e){e&&t.text(([i])=>Ld(e[i]))}function A0(t,{target:e,tip:i},{ariaLabel:a,title:r,fill:s,fillOpacity:l,stroke:u,strokeOpacity:d,strokeWidth:c,opacity:f,href:M}){a&&Un(t,"aria-label",m=>a[m]),s&&Un(t,"fill",m=>s[m]),l&&Un(t,"fill-opacity",m=>l[m]),u&&Un(t,"stroke",m=>u[m]),d&&Un(t,"stroke-opacity",m=>d[m]),c&&Un(t,"stroke-width",m=>c[m]),f&&Un(t,"opacity",m=>f[m]),M&&sD(t,m=>M[m],e),i||Qnt(t,r)}function aD(t,{target:e,tip:i},{ariaLabel:a,title:r,fill:s,fillOpacity:l,stroke:u,strokeOpacity:d,strokeWidth:c,opacity:f,href:M}){a&&Un(t,"aria-label",([m])=>a[m]),s&&Un(t,"fill",([m])=>s[m]),l&&Un(t,"fill-opacity",([m])=>l[m]),u&&Un(t,"stroke",([m])=>u[m]),d&&Un(t,"stroke-opacity",([m])=>d[m]),c&&Un(t,"stroke-width",([m])=>c[m]),f&&Un(t,"opacity",([m])=>f[m]),M&&sD(t,([m])=>M[m],e),i||znt(t,r)}function Wnt({ariaLabel:t,title:e,fill:i,fillOpacity:a,stroke:r,strokeOpacity:s,strokeWidth:l,opacity:u,href:d},{tip:c}){return[t,c?void 0:e,i,a,r,s,l,u,d].filter(f=>f!==void 0)}function Knt(t,e,i){const a=d1(t,r=>e[r]);return i===void 0&&a.size>1+t.length>>1&&Ss("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),a.values()}function*rD(t,e,i,a){const{z:r}=i,{z:s}=a,l=Wnt(a,i),u=[...e,...l];for(const d of s?Knt(t,s,r):[t]){let c,f;t:for(const M of d){for(const m of u)if(!m0(m[M])){f&&f.push(-1);continue t}if(c===void 0){f&&(yield f),c=l.map(m=>xs(m[M])),f=[M];continue}f.push(M);for(let m=0;m<l.length;++m)if(xs(l[m][M])!==c[m]){yield f,c=l.map(p=>xs(p[M])),f=[M];continue t}}f&&(yield f)}}function Xnt(t,e,i,a){let r;const{clip:s=a.clip}=e;switch(s){case"frame":{t=ya("svg:g",a).each(function(){this.appendChild(t.node()),t.node=()=>this}),r=Ynt(a,i);break}case"sphere":{r=qnt(a);break}}Un(t,"aria-label",e.ariaLabel),Un(t,"aria-description",e.ariaDescription),Un(t,"aria-hidden",e.ariaHidden),Un(t,"clip-path",r)}function oD(t){const e=new WeakMap;return(i,a)=>{let r=e.get(i);if(!r){const s=nD();Yu(i.ownerSVGElement).append("clipPath").attr("id",s).call(t,i,a),e.set(i,r=`url(#${s})`)}return r}}const Ynt=oD((t,e,i)=>{const{width:a,height:r,marginLeft:s,marginRight:l,marginTop:u,marginBottom:d}=i;t.append("rect").attr("x",s).attr("y",u).attr("width",a-l-s).attr("height",r-u-d)}),qnt=oD((t,e)=>{const{projection:i}=e;if(!i)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",p1(i)({type:"Sphere"}))});function i0(t,e,i,a){Xnt(t,e,i,a),Un(t,"class",e.className),Un(t,"fill",e.fill),Un(t,"fill-opacity",e.fillOpacity),Un(t,"stroke",e.stroke),Un(t,"stroke-width",e.strokeWidth),Un(t,"stroke-opacity",e.strokeOpacity),Un(t,"stroke-linejoin",e.strokeLinejoin),Un(t,"stroke-linecap",e.strokeLinecap),Un(t,"stroke-miterlimit",e.strokeMiterlimit),Un(t,"stroke-dasharray",e.strokeDasharray),Un(t,"stroke-dashoffset",e.strokeDashoffset),Un(t,"shape-rendering",e.shapeRendering),Un(t,"filter",e.imageFilter),Un(t,"paint-order",e.paintOrder);const{pointerEvents:r=a.pointerSticky===!1?"none":void 0}=e;Un(t,"pointer-events",r)}function Br(t,e){Znt(t,"mix-blend-mode",e.mixBlendMode),Un(t,"opacity",e.opacity)}function sD(t,e,i){t.each(function(a){const r=e(a);if(r!=null){const s=this.ownerDocument.createElementNS(Sl.svg,"a");s.setAttribute("fill","inherit"),s.setAttributeNS(Sl.xlink,"href",r),i!=null&&s.setAttribute("target",i),this.parentNode.insertBefore(s,this).appendChild(this)}})}function Un(t,e,i){i!=null&&t.attr(e,i)}function Znt(t,e,i){i!=null&&t.style(e,i)}function Qr(t,e,{x:i,y:a},r=qr,s=qr){r+=e.dx,s+=e.dy,i!=null&&i.bandwidth&&(r+=i.bandwidth()/2),a!=null&&a.bandwidth&&(s+=a.bandwidth()/2),(r||s)&&t.attr("transform",`translate(${r},${s})`)}function gr(t,e){if((t=$r(t))!==e)return t}function Gh(t,e){if((t=cr(t))!==e)return t}const t9t=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ep(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!t9t.test(t))throw new Error(`invalid class name: ${t}`);return t}function cM(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const i of t)Object.assign(i.style,e)}function $1({frameAnchor:t},{width:e,height:i,marginTop:a,marginRight:r,marginBottom:s,marginLeft:l}){return[/left$/.test(t)?l:/right$/.test(t)?e-r:(l+e-r)/2,/^top/.test(t)?a:/^bottom/.test(t)?i-s:(a+i-s)/2]}class Rr{constructor(e,i={},a={},r){const{facet:s="auto",facetAnchor:l,fx:u,fy:d,sort:c,dx:f=0,dy:M=0,margin:m=0,marginTop:A=m,marginRight:p=m,marginBottom:y=m,marginLeft:E=m,className:v,clip:w=r==null?void 0:r.clip,channels:x,tip:b,render:O}=a;if(this.data=e,this.sort=Dd(c)?c:null,this.initializer=Pd(a).initializer,this.transform=this.initializer?a.transform:zd(a).transform,s===null||s===!1?this.facet=null:(this.facet=ho(s===!0?"include":s,"facet",["auto","include","exclude","super"]),this.fx=e===d3&&typeof u=="string"?[u]:u,this.fy=e===d3&&typeof d=="string"?[d]:d),this.facetAnchor=vnt(l),i=CR(i),x!==void 0&&(i={...e9t(x),...i}),r!==void 0&&(i={...Vnt(this,a,r),...i}),this.channels=Object.fromEntries(Object.entries(i).map(([S,R])=>{if(z4(R.value)){const{value:I,label:P=R.label,scale:L=R.scale}=R.value;R={...R,label:P,scale:L,value:I}}if(e===d3&&typeof R.value=="string"){const{value:I}=R;R={...R,value:[I]}}return[S,R]}).filter(([S,{value:R,optional:I}])=>{if(R!=null)return!0;if(I)return!1;throw new Error(`missing channel value: ${S}`)})),this.dx=+f,this.dy=+M,this.marginTop=+A,this.marginRight=+p,this.marginBottom=+y,this.marginLeft=+E,this.clip=ER(w),this.tip=i9t(b),this.className=v?ep(v):null,this.facet==="super"){if(u||d)throw new Error("super-faceting cannot use fx or fy");for(const S in this.channels){const{scale:R}=i[S];if(!(R!=="x"&&R!=="y"))throw new Error("super-faceting cannot use x or y")}}O!=null&&(this.render=kd(O,this.render))}initialize(e,i,a){let r=Rd(this.data);e===void 0&&r!=null&&(e=[Us(r)]);const s=e;this.transform!=null&&({facets:e,data:r}=this.transform(r,e,a),r=Rd(r)),e!==void 0&&(e.original=s);const l=yit(this.channels,r);return this.sort!=null&&bit(r,e,l,i,this.sort),{data:r,facets:e,channels:l}}filter(e,i,a){for(const r in i){const{filter:s=m0}=i[r];if(s!==null){const l=a[r];e=e.filter(u=>s(l[u]))}}return e}project(e,i,a){for(const r in e)if(e[r].scale==="x"&&/^x|x$/.test(r)){const s=r.replace(/^x|x$/,"y");s in e&&e[s].scale==="y"&&Int(r,s,i,a.projection)}}scale(e,i,a){const r=vit(e,i);return a.projection&&this.project(e,r,a),r}}function uM(...t){return t.plot=Rr.prototype.plot,t}function kd(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(i,a,r,s,l,u){return t.call(this,i,a,r,s,l,(d,c,f,M,m)=>e.call(this,d,c,f,M,m,u))}}function e9t(t){return Object.fromEntries(Object.entries(CR(t)).map(([e,i])=>(i=typeof i=="string"?{value:i,label:e}:Qd(i),i.filter===void 0&&i.scale==null&&(i={...i,filter:null}),[e,i])))}function i9t(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ho(t,"tip",["x","y","xy"]):t}function Jd(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Fs(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function n9t(t,e,i={}){let a=.5-qr,r=.5+qr,s=.5+qr,l=.5-qr;for(const{marginTop:y,marginRight:E,marginBottom:v,marginLeft:w}of e)y>a&&(a=y),E>r&&(r=E),v>s&&(s=v),w>l&&(l=w);let{margin:u,marginTop:d=u!==void 0?u:a,marginRight:c=u!==void 0?u:r,marginBottom:f=u!==void 0?u:s,marginLeft:M=u!==void 0?u:l}=i;d=+d,c=+c,f=+f,M=+M;let{width:m=640,height:A=a9t(t,i,{width:m,marginTopDefault:a,marginRightDefault:r,marginBottomDefault:s,marginLeftDefault:l})+Math.max(0,d-a+f-s)}=i;m=+m,A=+A;const p={width:m,height:A,marginTop:d,marginRight:c,marginBottom:f,marginLeft:M};if(t.fx||t.fy){let{margin:y,marginTop:E=y!==void 0?y:d,marginRight:v=y!==void 0?y:c,marginBottom:w=y!==void 0?y:f,marginLeft:x=y!==void 0?y:M}=i.facet??{};E=+E,v=+v,w=+w,x=+x,p.facet={marginTop:E,marginRight:v,marginBottom:w,marginLeft:x}}return p}function a9t({x:t,y:e,fy:i,fx:a},{projection:r,aspectRatio:s},{width:l,marginTopDefault:u,marginRightDefault:d,marginBottomDefault:c,marginLeftDefault:f}){const M=i&&i.scale.domain().length||1,m=Rnt(r);if(m){const p=a?a.scale.domain().length:1,y=(1.1*M-.1)/(1.1*p-.1)*m,E=Math.max(.1,Math.min(10,y));return Math.round((l-f-d)*E+u+c)}const A=e?eu(e)?e.scale.domain().length||1:Math.max(7,17/M):1;if(s!=null){if(s=+s,!(isFinite(s)&&s>0))throw new Error(`invalid aspectRatio: ${s}`);const p=zC("y",e)/(zC("x",t)*s),y=a?a.scale.bandwidth():1,E=i?i.scale.bandwidth():1,v=y*(l-f-d)-t.insetLeft-t.insetRight;return(p*v+e.insetTop+e.insetBottom)/E+u+c}return!!(e||i)*Math.max(1,Math.min(60,A*M))*20+!!a*30+60}function zC(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:i,domain:a}=e;let r;switch(i){case"linear":case"utc":case"time":r=Number;break;case"pow":{const u=e.scale.exponent();r=d=>Math.pow(d,u);break}case"log":r=Math.log;break;case"point":case"band":return a.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${i}`)}const[s,l]=Oa(a);return Math.abs(r(l)-r(s))}const JC=new WeakMap;function dM(t,e,{x:i,y:a,px:r,py:s,maxRadius:l=40,channels:u,render:d,...c}={}){return l=+l,r!=null&&(i??(i=null),u={...u,px:{value:r,scale:"x"}}),s!=null&&(a??(a=null),u={...u,py:{value:s,scale:"y"}}),{x:i,y:a,channels:u,...c,render:kd(function(f,M,m,A,p,y){p={...p,pointerSticky:!1};const E=p.ownerSVGElement,{data:v}=p.getMarkState(this);let w=JC.get(E);w||JC.set(E,w={sticky:!1,roots:[],renders:[]});let x=w.renders.push(tt)-1;const{x:b,y:O,fx:S,fy:R}=M;let I=S?S(f.fx)-A.marginLeft:0,P=R?R(f.fy)-A.marginTop:0;b!=null&&b.bandwidth&&(I+=b.bandwidth()/2),O!=null&&O.bandwidth&&(P+=O.bandwidth()/2);const L=f.fi!=null;let k;if(L){let Tt=w.facetStates;Tt||(w.facetStates=Tt=new Map),k=Tt.get(this),k||Tt.set(this,k=new Map)}const[N,$]=$1(this,A),{px:H,py:U}=m,W=H?Tt=>H[Tt]:lD(m,N),J=U?Tt=>U[Tt]:cD(m,$);let Q,G,z,j;function nt(Tt,vt){if(L)if(j&&(j=cancelAnimationFrame(j)),Tt==null)k.delete(f.fi);else{k.set(f.fi,vt),j=requestAnimationFrame(()=>{j=null;for(const[Ot,ft]of k)if(ft<vt||ft===vt&&Ot<f.fi){Tt=null;break}tt(Tt)});return}tt(Tt)}function tt(Tt){if(Q===Tt&&z===w.sticky)return;Q=Tt,z=p.pointerSticky=w.sticky;const vt=Q==null?[]:[Q];L&&(vt.fx=f.fx,vt.fy=f.fy,vt.fi=f.fi);const Ot=y(vt,M,m,A,p);if(G){if(L){const ft=G.parentNode,St=G.getAttribute("transform"),Mt=Ot.getAttribute("transform");St?Ot.setAttribute("transform",St):Ot.removeAttribute("transform"),Mt?ft.setAttribute("transform",Mt):ft.removeAttribute("transform"),Ot.removeAttribute("aria-label"),Ot.removeAttribute("aria-description"),Ot.removeAttribute("aria-hidden")}G.replaceWith(Ot)}if(w.roots[x]=G=Ot,!(Q==null&&(k==null?void 0:k.size)>1)){const ft=Q==null?null:tu(v)?v[Q]:v.get(Q);p.dispatchValue(ft)}return Ot}function ht(Tt){if(w.sticky||Tt.pointerType==="mouse"&&Tt.buttons===1)return;let[vt,Ot]=GV(Tt);vt-=I,Ot-=P;const ft=vt<A.marginLeft||vt>A.width-A.marginRight?1:t,St=Ot<A.marginTop||Ot>A.height-A.marginBottom?1:e;let Mt=null,Pt=l*l;for(const Vt of f){const ie=ft*(W(Vt)-vt),jt=St*(J(Vt)-Ot),Wt=ie*ie+jt*jt;Wt<=Pt&&(Mt=Vt,Pt=Wt)}if(Mt!=null&&(t!==1||e!==1)){const Vt=W(Mt)-vt,ie=J(Mt)-Ot;Pt=Vt*Vt+ie*ie}nt(Mt,Pt)}function pt(Tt){Tt.pointerType==="mouse"&&Q!=null&&(w.sticky&&w.roots.some(vt=>vt==null?void 0:vt.contains(Tt.target))||(w.sticky?(w.sticky=!1,w.renders.forEach(vt=>vt(null))):(w.sticky=!0,tt(Q)),Tt.stopImmediatePropagation()))}function gt(Tt){Tt.pointerType==="mouse"&&(w.sticky||nt(null))}return E.addEventListener("pointerenter",ht),E.addEventListener("pointermove",ht),E.addEventListener("pointerdown",pt),E.addEventListener("pointerleave",gt),tt(null)},d)}}function r9t(t){return dM(1,1,t)}function o9t(t){return dM(1,.01,t)}function jC(t){return dM(.01,1,t)}function lD({x1:t,x2:e,x:i=t},a){return t&&e?r=>(t[r]+e[r])/2:i?r=>i[r]:()=>a}function cD({y1:t,y2:e,y:i=t},a){return t&&e?r=>(t[r]+e[r])/2:i?r=>i[r]:()=>a}function uD(t){return eu(t)&&t.interval===void 0?void 0:"tabular-nums"}function s9t(t,e){let{label:i=t.label,tickSize:a=6,width:r=240,height:s=44+a,marginTop:l=18,marginRight:u=0,marginBottom:d=16+a,marginLeft:c=0,style:f,ticks:M=(r-c-u)/64,tickFormat:m,fontVariant:A=uD(t),round:p=!0,opacity:y,className:E}=e;const v=sM(e);E=ep(E),y=Gr(y)[1],m===null&&(m=()=>null);const w=ya("svg",v).attr("class",`${E}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",r).attr("height",s).attr("viewBox",`0 0 ${r} ${s}`).call(N=>N.append("style").text(`:where(.${E}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${E}-ramp text) {
  white-space: pre;
}`)).call(cM,f);let x=N=>N.selectAll(".tick line").attr("y1",l+d-s),b;const O=p?(N,$)=>N.rangeRound($):(N,$)=>N.range($),{type:S,domain:R,range:I,interpolate:P,scale:L,pivot:k}=t;if(P){const N=I===void 0?P:y4(P.length===1?aM(P):P,I);b=O(L.copy(),io(Or(c,r-u),Math.min(R.length+(k!==void 0),I===void 0?1/0:I.length)));const $=256,H=v.document.createElement("canvas");H.width=$,H.height=1;const U=H.getContext("2d");for(let W=0,J=$-1;W<$;++W)U.fillStyle=N(W/J),U.fillRect(W,0,1,1);w.append("image").attr("opacity",y).attr("x",c).attr("y",l).attr("width",r-c-u).attr("height",s-l-d).attr("preserveAspectRatio","none").attr("xlink:href",H.toDataURL())}else if(S==="threshold"){const N=R,$=m===void 0?H=>H:typeof m=="string"?Gd(m):m;b=O(y1().domain([-1,I.length-1]),[c,r-u]),w.append("g").attr("fill-opacity",y).selectAll().data(I).enter().append("rect").attr("x",(H,U)=>b(U-1)).attr("y",l).attr("width",(H,U)=>b(U)-b(U-1)).attr("height",s-l-d).attr("fill",H=>H),M=Ha(N,(H,U)=>U),m=H=>$(N[H],H)}else b=O(w4().domain(R),[c,r-u]),w.append("g").attr("fill-opacity",y).selectAll().data(R).enter().append("rect").attr("x",b).attr("y",l).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",s-l-d).attr("fill",L),x=()=>{};return w.append("g").attr("transform",`translate(0,${s-d})`).call(aH(b).ticks(Array.isArray(M)?null:M,typeof m=="string"?m:void 0).tickFormat(typeof m=="function"?m:void 0).tickSize(a).tickValues(Array.isArray(M)?M:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",gr(A,"normal")).call(x).call(N=>N.select(".domain").remove()),i!==void 0&&w.append("text").attr("x",c).attr("y",l-6).attr("fill","currentColor").attr("font-weight","bold").text(i),w.node()}const dD=Math.PI/180;function G1(t,{marker:e,markerStart:i=e,markerMid:a=e,markerEnd:r=e}={}){t.markerStart=e6(i),t.markerMid=e6(a),t.markerEnd=e6(r)}function e6(t){if(t==null||t===!1)return null;if(t===!0)return KC;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return WC("auto");case"arrow-reverse":return WC("auto-start-reverse");case"dot":return l9t;case"circle":case"circle-fill":return KC;case"circle-stroke":return c9t;case"tick":return i6("auto");case"tick-x":return i6(90);case"tick-y":return i6(0)}throw new Error(`invalid marker: ${t}`)}function WC(t){return(e,i)=>ya("svg:marker",i).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(a=>a.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function l9t(t,e){return ya("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(i=>i.append("circle").attr("r",2.5)).node()}function KC(t,e){return ya("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(i=>i.append("circle").attr("r",3)).node()}function c9t(t,e){return ya("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(i=>i.append("circle").attr("r",3)).node()}function i6(t){return(e,i)=>ya("svg:marker",i).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(a=>a.append("path").attr("d","M0,-3v6")).node()}let u9t=0;function ip(t,e,{stroke:i},a){return fD(t,e,i&&(r=>i[r]),null,a)}function d9t(t,e,{stroke:i,z:a},r){return fD(t,e,i&&(([s])=>i[s]),a,r)}const S7=1,hD=2;function h9t(t,e){const i=new Uint8Array(e.length),a=t.data().filter(s=>s.length>1),r=a.length;for(let s=0,l=x7;s<r;++s){const u=a[s];if(u.length>1){const d=u[0];l!==(l=xs(e[d]))&&(i[d]|=S7)}}for(let s=r-1,l=x7;s>=0;--s){const u=a[s];if(u.length>1){const d=u[0];l!==(l=xs(e[d]))&&(i[d]|=hD)}}return([s])=>i[s]}function fD(t,{markerStart:e,markerMid:i,markerEnd:a,stroke:r},s=()=>r,l,u){if(!e&&!i&&!a)return;const d=new Map,c=l&&h9t(t,l);function f(M,m,A){return function(p){if(A&&!A(p))return;const y=s(p);let E=d.get(m);E||d.set(m,E=new Map);let v=E.get(y);if(!v){const w=this.parentNode.insertBefore(m(y,u),this),x=`plot-marker-${++u9t}`;w.setAttribute("id",x),E.set(y,v=`url(#${x})`)}this.setAttribute(M,v)}}e&&t.each(f("marker-start",e,c&&(M=>c(M)&S7))),i&&c&&t.each(f("marker-start",i,M=>!(c(M)&S7))),i&&t.each(f("marker-mid",i)),a&&t.each(f("marker-end",a,c&&(M=>c(M)&hD)))}function np({inset:t,insetLeft:e,insetRight:i,...a}={}){return[e,i]=mD(t,e,i),{inset:t,insetLeft:e,insetRight:i,...a}}function hM({inset:t,insetTop:e,insetBottom:i,...a}={}){return[e,i]=mD(t,e,i),{inset:t,insetTop:e,insetBottom:i,...a}}function mD(t,e,i){return t===void 0&&e===void 0&&i===void 0?qr?[1,0]:[.5,.5]:[e,i]}function pD(t,{interval:e}){return t={...Qd(t)},t.interval=jg(t.interval===void 0?e:t.interval),t}function ap(t,e,i,a){const{[t]:r,[`${t}1`]:s,[`${t}2`]:l}=i,{value:u,interval:d}=pD(r,i);if(u==null||d==null&&!a)return i;const c=Ul(r);if(d==null){let A;const p={transform:y=>A||(A=ea(y,u)),label:c};return{...i,[t]:void 0,[`${t}1`]:s===void 0?p:s,[`${t}2`]:l===void 0&&!(s===l&&a)?p:l}}let f,M;function m(A){return M!==void 0&&A===f?M:M=Ha(ea(f=A,u),p=>d.floor(p))}return e({...i,[t]:void 0,[`${t}1`]:s===void 0?{transform:m,label:c}:s,[`${t}2`]:l===void 0?{transform:A=>m(A).map(p=>d.offset(p)),label:c}:l})}function gD(t,e,i){const{[t]:a}=i,{value:r,interval:s}=pD(a,i);return r==null||s==null?i:e({...i,[t]:{label:Ul(a),transform:l=>{const u=Ha(ea(l,r),c=>s.floor(c)),d=u.map(c=>s.offset(c));return u.map(e0(u)?(c,f)=>c==null||isNaN(c=+c)||(f=d[f],f==null)||isNaN(f=+f)?void 0:new Date((c+f)/2):(c,f)=>c==null||(f=d[f],f==null)?NaN:(+c+ +f)/2)}}})}function MD(t={}){return ap("x",np,t,!0)}function f9t(t={}){return ap("y",hM,t,!0)}function fM(t={}){return ap("x",np,t)}function mM(t={}){return ap("y",hM,t)}function m9t(t={}){return gD("x",np,t)}function AD(t={}){return gD("y",hM,t)}const yD={ariaLabel:"rule",fill:null,stroke:"currentColor"};class p9t extends Rr{constructor(e,i={}){const{x:a,y1:r,y2:s,inset:l=0,insetTop:u=l,insetBottom:d=l}=i;super(e,{x:{value:a,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:s,scale:"y",optional:!0}},Jd(i,"x"),yD),this.insetTop=cr(u),this.insetBottom=cr(d),G1(this,i)}render(e,i,a,r,s){const{x:l,y:u}=i,{x:d,y1:c,y2:f}=a,{width:M,height:m,marginTop:A,marginRight:p,marginLeft:y,marginBottom:E}=r,{insetTop:v,insetBottom:w}=this;return ya("svg:g",s).call(i0,this,r,s).call(Qr,this,{x:d&&l},qr,0).call(x=>x.selectAll().data(e).enter().append("line").call(Br,this).attr("x1",d?b=>d[b]:(y+M-p)/2).attr("x2",d?b=>d[b]:(y+M-p)/2).attr("y1",c&&!Ho(u)?b=>c[b]+v:A+v).attr("y2",f&&!Ho(u)?u.bandwidth?b=>f[b]+u.bandwidth()-w:b=>f[b]-w:m-E-w).call(A0,this,a).call(ip,this,a,s)).node()}}class g9t extends Rr{constructor(e,i={}){const{x1:a,x2:r,y:s,inset:l=0,insetRight:u=l,insetLeft:d=l}=i;super(e,{y:{value:s,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},Jd(i,"y"),yD),this.insetRight=cr(u),this.insetLeft=cr(d),G1(this,i)}render(e,i,a,r,s){const{x:l,y:u}=i,{y:d,x1:c,x2:f}=a,{width:M,height:m,marginTop:A,marginRight:p,marginLeft:y,marginBottom:E}=r,{insetLeft:v,insetRight:w}=this;return ya("svg:g",s).call(i0,this,r,s).call(Qr,this,{y:d&&u},0,qr).call(x=>x.selectAll().data(e).enter().append("line").call(Br,this).attr("x1",c&&!Ho(l)?b=>c[b]+v:y+v).attr("x2",f&&!Ho(l)?l.bandwidth?b=>f[b]+l.bandwidth()-w:b=>f[b]-w:M-p-w).attr("y1",d?b=>d[b]:(A+m-E)/2).attr("y2",d?b=>d[b]:(A+m-E)/2).call(A0,this,a).call(ip,this,a,s)).node()}}function Ar(t,e){let{x:i=Q9,y:a,y1:r,y2:s,...l}=mM(e);return[r,s]=vD(a,r,s),new p9t(t,{...l,x:i,y1:r,y2:s})}function H9(t,e){let{y:i=Q9,x:a,x1:r,x2:s,...l}=fM(e);return[r,s]=vD(a,r,s),new g9t(t,{...l,y:i,x1:r,x2:s})}function vD(t,e,i){if(t==null){if(e===void 0){if(i!==void 0)return[0,i]}else if(i===void 0)return[0,e]}else{if(e===void 0)return i===void 0?[0,t]:[t,i];if(i===void 0)return[t,e]}return[e,i]}function Jf(t,...e){let i=e.length;for(let a=0,r=!0;a<i;++a)typeof e[a]!="function"&&(r&&(t=t.slice(),r=!1),t.splice(a,2,t[a]+e[a]+t[a+1]),e.splice(a,1),--a,--i);return a=>{let r=t[0];for(let s=0;s<i;++s)r+=e[s](a)+t[s+1];return r}}const M9t={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},bD="";class pM extends Rr{constructor(e,i={}){const{x:a,y:r,text:s=$l(e)&&bR(e)?Q9:Ns,frameAnchor:l,textAnchor:u=/right$/i.test(l)?"end":/left$/i.test(l)?"start":"middle",lineAnchor:d=/^top/i.test(l)?"top":/^bottom/i.test(l)?"bottom":"middle",lineHeight:c=1,lineWidth:f=1/0,textOverflow:M,monospace:m,fontFamily:A=m?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:y,fontVariant:E,fontWeight:v,rotate:w}=i,[x,b]=Gr(w,0),[O,S]=C9t(p);if(super(e,{x:{value:a,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:O,optional:!0},rotate:{value:Fet(x),optional:!0},text:{value:s,filter:Fg,optional:!0}},i,M9t),this.rotate=b,this.textAnchor=gr(u,"middle"),this.lineAnchor=ho(d,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+f,this.textOverflow=CD(M),this.monospace=!!m,this.fontFamily=$r(A),this.fontSize=S,this.fontStyle=$r(y),this.fontVariant=$r(E),this.fontWeight=$r(v),this.frameAnchor=K4(l),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=_D(this),this.clipLine=wD(this)}render(e,i,a,r,s){const{x:l,y:u}=i,{x:d,y:c,rotate:f,text:M,title:m,fontSize:A}=a,{rotate:p}=this,[y,E]=$1(this,r);return ya("svg:g",s).call(i0,this,r,s).call(ED,this,M,r).call(Qr,this,{x:d&&l,y:c&&u}).call(v=>v.selectAll().data(e).enter().append("text").call(Br,this).call(A9t,this,M,m).attr("transform",Jf`translate(${d?w=>d[w]:y},${c?w=>c[w]:E})${f?w=>` rotate(${f[w]})`:p?` rotate(${p})`:""}`).call(Un,"font-size",A&&(w=>A[w])).call(A0,this,a)).node()}}function CD(t){return t==null?null:ho(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function A9t(t,e,i,a){if(!i)return;const{lineAnchor:r,lineHeight:s,textOverflow:l,splitLines:u,clipLine:d}=e;t.each(function(c){const f=u(Ld(i[c])??"").map(d),M=f.length,m=r==="top"?.71:r==="bottom"?1-M:(164-M*100)/200;if(M>1){let A=0;for(let p=0;p<M;++p){if(++A,!f[p])continue;const y=this.ownerDocument.createElementNS(Sl.svg,"tspan");y.setAttribute("x",0),p===A-1?y.setAttribute("y",`${(m+p)*s}em`):y.setAttribute("dy",`${A*s}em`),y.textContent=f[p],this.appendChild(y),A=0}}else m&&this.setAttribute("y",`${m*s}em`),this.textContent=f[0];if(l&&!a&&f[0]!==i[c]){const A=this.ownerDocument.createElementNS(Sl.svg,"title");A.textContent=i[c],this.appendChild(A)}})}function Ta(t,{x:e,y:i,...a}={}){return a.frameAnchor===void 0&&([e,i]=P1(e,i)),new pM(t,{...a,x:e,y:i})}function y9t(t,{x:e=Q9,...i}={}){return new pM(t,AD({...i,x:e}))}function gM(t,{y:e=Q9,...i}={}){return new pM(t,m9t({...i,y:e}))}function ED(t,e,i){Un(t,"text-anchor",e.textAnchor),Un(t,"font-family",e.fontFamily),Un(t,"font-size",e.fontSize),Un(t,"font-style",e.fontStyle),Un(t,"font-variant",e.fontVariant===void 0?v9t(i):e.fontVariant),Un(t,"font-weight",e.fontWeight)}function v9t(t){return t&&(Get(t)||e0(t))?"tabular-nums":void 0}const b9t=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function C9t(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),b9t.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function E9t(t,e,i){const a=[];let r,s=0;for(const[l,u,d]of _9t(t)){if(r===void 0&&(r=l),s>r&&i(t,r,u)>e&&(a.push(t.slice(r,s)+(t[s-1]===bD?"-":"")),r=l),d){a.push(t.slice(r,u)),r=void 0;continue}s=u}return a}function*_9t(t){let e=0,i=0;const a=t.length;for(;i<a;){let r=1;switch(t[i]){case bD:case"-":++i,yield[e,i,!1],e=i;break;case" ":for(yield[e,i,!1];t[++i]===" ";);e=i;break;case"\r":t[i+1]===`
`&&++r;case`
`:yield[e,i,!0],i+=r,e=i;break;default:++i;break}}yield[e,i,!0]}const XC={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function MM(t,e=0,i=t.length){let a=0;for(let r=e;r<i;r=jd(t,r))a+=XC[t[r]]??(xD(t,r)?120:XC.e);return a}function AM(t,e=0,i=t.length){let a=0;for(let r=e;r<i;r=jd(t,r))a+=xD(t,r)?126:63;return a}function _D({monospace:t,lineWidth:e,textOverflow:i}){if(i!=null||e==1/0)return s=>s.split(/\r\n?|\n/g);const a=t?AM:MM,r=e*100;return s=>E9t(s,r,a)}function wD({monospace:t,lineWidth:e,textOverflow:i}){if(i==null||e==1/0)return s=>s;const a=t?AM:MM,r=e*100;switch(i){case"clip-start":return s=>qC(s,r,a,"");case"clip-end":return s=>YC(s,r,a,"");case"ellipsis-start":return s=>qC(s,r,a,id);case"ellipsis-middle":return s=>w9t(s,r,a,id);case"ellipsis-end":return s=>YC(s,r,a,id)}}const id="";function Nd(t,e,i,a){const r=[];let s=0;for(let l=0,u=0,d=t.length;l<d;l=u){u=jd(t,l);const c=i(t,l,u);if(s+c>e){for(s+=a;s>e&&l>0;)u=l,l=r.pop(),s-=i(t,l,u);return[l,e-s]}s+=c,r.push(l)}return[-1,0]}function YC(t,e,i,a){t=t.trim();const r=i(a),[s]=Nd(t,e,i,r);return s<0?t:t.slice(0,s).trimEnd()+a}function w9t(t,e,i,a){t=t.trim();const r=i(t);if(r<=e)return t;const s=i(a)/2,[l,u]=Nd(t,e/2,i,s),[d]=Nd(t,r-e/2-u+s,i,-s);return d<0?a:t.slice(0,l).trimEnd()+a+t.slice(jd(t,d)).trimStart()}function qC(t,e,i,a){t=t.trim();const r=i(t);if(r<=e)return t;const s=i(a),[l]=Nd(t,r-e+s,i,-s);return l<0?a:a+t.slice(jd(t,l)).trimStart()}const T7=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,ZC=new RegExp("\\p{Extended_Pictographic}","uy");function jd(t,e){return e+=O9t(t,e)?2:1,S9t(t,e)&&(e=T7.lastIndex),x9t(t,e)?jd(t,e+1):e}function OD(t,e){return t.charCodeAt(e)<128}function O9t(t,e){const i=t.charCodeAt(e);if(i>=55296&&i<56320){const a=t.charCodeAt(e+1);return a>=56320&&a<57344}return!1}function x9t(t,e){return t.charCodeAt(e)===8205}function S9t(t,e){return OD(t,e)?!1:(T7.lastIndex=e,T7.test(t))}function xD(t,e){return OD(t,e)?!1:(ZC.lastIndex=e,ZC.test(t))}const T9t={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},SD=3.5,I9t=SD*5,TD={draw(t,e,i){const a=e*i/I9t;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-a,a-e),t.lineTo(0,-e),t.lineTo(a,a-e)}},B9t={draw(t,e,i){t.moveTo(-i,0),t.lineTo(0,-e),t.lineTo(i,0)}},R9t=new Map([["arrow",TD],["spike",B9t]]);function D9t(t){return t&&typeof t.draw=="function"}function P9t(t){if(D9t(t))return t;const e=R9t.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class ID extends Rr{constructor(e,i={}){const{x:a,y:r,r:s=SD,length:l,rotate:u,shape:d=TD,anchor:c="middle",frameAnchor:f}=i,[M,m]=Gr(l,12),[A,p]=Gr(u,0);super(e,{x:{value:a,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:M,scale:"length",optional:!0},rotate:{value:A,optional:!0}},i,T9t),this.r=+s,this.length=m,this.rotate=p,this.shape=P9t(d),this.anchor=ho(c,"anchor",["start","middle","end"]),this.frameAnchor=K4(f)}render(e,i,a,r,s){const{x:l,y:u}=i,{x:d,y:c,length:f,rotate:M}=a,{length:m,rotate:A,anchor:p,shape:y,r:E}=this,[v,w]=$1(this,r);return ya("svg:g",s).call(i0,this,r,s).call(Qr,this,{x:d&&l,y:c&&u}).call(x=>x.selectAll().data(e).enter().append("path").call(Br,this).attr("transform",Jf`translate(${d?b=>d[b]:v},${c?b=>c[b]:w})${M?b=>` rotate(${M[b]})`:A?` rotate(${A})`:""}${p==="start"?"":p==="end"?f?b=>` translate(0,${f[b]})`:` translate(0,${m})`:f?b=>` translate(0,${f[b]/2})`:` translate(0,${m/2})`}`).attr("d",f?b=>{const O=bl();return y.draw(O,f[b],E),O}:(()=>{const b=bl();return y.draw(b,m,E),b})()).call(A0,this,a)).node()}}function L9t(t,e={}){const{x:i=Q9,...a}=e;return new ID(t,{...a,x:i})}function k9t(t,e={}){const{y:i=Q9,...a}=e;return new ID(t,{...a,y:i})}function Hl(t,e){return arguments.length<2&&!$l(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function rp({anchor:t}={},e){return t===void 0?e[0]:ho(t,"anchor",e)}function BD(t){return rp(t,["left","right"])}function RD(t){return rp(t,["right","left"])}function DD(t){return rp(t,["bottom","top"])}function PD(t){return rp(t,["top","bottom"])}function Vo(){const[t,e]=Hl(...arguments);return kD("y",BD(e),t,e)}function N9t(){const[t,e]=Hl(...arguments);return kD("fy",RD(e),t,e)}function LD(){const[t,e]=Hl(...arguments);return ND("x",DD(e),t,e)}function F9t(){const[t,e]=Hl(...arguments);return ND("fx",PD(e),t,e)}function kD(t,e,i,{color:a="currentColor",opacity:r=1,stroke:s=a,strokeOpacity:l=r,strokeWidth:u=1,fill:d=a,fillOpacity:c=r,textAnchor:f,textStroke:M,textStrokeOpacity:m,textStrokeWidth:A,tickSize:p=t==="y"?6:0,tickPadding:y,tickRotate:E,x:v,margin:w,marginTop:x=w===void 0?20:w,marginRight:b=w===void 0?e==="right"?40:0:w,marginBottom:O=w===void 0?20:w,marginLeft:S=w===void 0?e==="left"?40:0:w,label:R,labelAnchor:I,labelArrow:P,labelOffset:L,...k}){return p=cr(p),y=cr(y),E=cr(E),I!==void 0&&(I=ho(I,"labelAnchor",["center","top","bottom"])),P=zD(P),uM(p&&!xr(s)?U9t(t,e,i,{stroke:s,strokeOpacity:l,strokeWidth:u,tickSize:p,tickPadding:y,tickRotate:E,x:v,...k}):null,xr(d)?null:G9t(t,e,i,{fill:d,fillOpacity:c,stroke:M,strokeOpacity:m,strokeWidth:A,textAnchor:f,tickSize:p,tickPadding:y,tickRotate:E,x:v,marginTop:x,marginRight:b,marginBottom:O,marginLeft:S,...k}),!xr(d)&&R!==null?Ta([],GD({fill:d,fillOpacity:c,...k},function(N,$,H,U,W){const J=U[t],{marginTop:Q,marginRight:G,marginBottom:z,marginLeft:j}=t==="y"&&W.inset||W,nt=I??(J.bandwidth?"center":"top"),tt=L??(e==="right"?G:j)-3;return nt==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=nt,this.frameAnchor=`${nt}-${e}`,this.rotate=0),this.dy=nt==="top"?3-Q:nt==="bottom"?z-3:0,this.dx=e==="right"?tt:-tt,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[QD(t,J,{anchor:e,label:R,labelAnchor:nt,labelArrow:P})]}}}})):null)}function ND(t,e,i,{color:a="currentColor",opacity:r=1,stroke:s=a,strokeOpacity:l=r,strokeWidth:u=1,fill:d=a,fillOpacity:c=r,textAnchor:f,textStroke:M,textStrokeOpacity:m,textStrokeWidth:A,tickSize:p=t==="x"?6:0,tickPadding:y,tickRotate:E,y:v,margin:w,marginTop:x=w===void 0?e==="top"?30:0:w,marginRight:b=w===void 0?20:w,marginBottom:O=w===void 0?e==="bottom"?30:0:w,marginLeft:S=w===void 0?20:w,label:R,labelAnchor:I,labelArrow:P,labelOffset:L,...k}){return p=cr(p),y=cr(y),E=cr(E),I!==void 0&&(I=ho(I,"labelAnchor",["center","left","right"])),P=zD(P),uM(p&&!xr(s)?$9t(t,e,i,{stroke:s,strokeOpacity:l,strokeWidth:u,tickSize:p,tickPadding:y,tickRotate:E,y:v,...k}):null,xr(d)?null:H9t(t,e,i,{fill:d,fillOpacity:c,stroke:M,strokeOpacity:m,strokeWidth:A,textAnchor:f,tickSize:p,tickPadding:y,tickRotate:E,y:v,marginTop:x,marginRight:b,marginBottom:O,marginLeft:S,...k}),!xr(d)&&R!==null?Ta([],GD({fill:d,fillOpacity:c,...k},function(N,$,H,U,W){const J=U[t],{marginTop:Q,marginRight:G,marginBottom:z,marginLeft:j}=t==="x"&&W.inset||W,nt=I??(J.bandwidth?"center":"right"),tt=L??(e==="top"?Q:z)-3;return nt==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${nt}`,this.textAnchor=nt==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-tt:tt,this.dx=nt==="right"?G-3:nt==="left"?3-j:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[QD(t,J,{anchor:e,label:R,labelAnchor:nt,labelArrow:P})]}}}})):null)}function U9t(t,e,i,{strokeWidth:a=1,strokeLinecap:r=null,strokeLinejoin:s=null,facetAnchor:l=e+(t==="y"?"-empty":""),frameAnchor:u=e,tickSize:d,inset:c=0,insetLeft:f=c,insetRight:M=c,dx:m=0,y:A=t==="y"?void 0:null,...p}){return Wd(k9t,t,i,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:a,strokeLinecap:r,strokeLinejoin:s,facetAnchor:l,frameAnchor:u,y:A,...p,dx:e==="left"?+m-qr+ +f:+m+qr-M,anchor:"start",length:d,shape:e==="left"?X9t:Y9t})}function $9t(t,e,i,{strokeWidth:a=1,strokeLinecap:r=null,strokeLinejoin:s=null,facetAnchor:l=e+(t==="x"?"-empty":""),frameAnchor:u=e,tickSize:d,inset:c=0,insetTop:f=c,insetBottom:M=c,dy:m=0,x:A=t==="x"?void 0:null,...p}){return Wd(L9t,t,i,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:a,strokeLinejoin:s,strokeLinecap:r,facetAnchor:l,frameAnchor:u,x:A,...p,dy:e==="bottom"?+m-qr-M:+m+qr+ +f,anchor:"start",length:d,shape:e==="bottom"?W9t:K9t})}function G9t(t,e,i,{facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:r=e,tickSize:s,tickRotate:l=0,tickPadding:u=Math.max(3,9-s)+(Math.abs(l)>60?4*Math.cos(l*dD):0),text:d,textAnchor:c=Math.abs(l)>60?"middle":e==="left"?"end":"start",lineAnchor:f=l>60?"top":l<-60?"bottom":"middle",fontVariant:M,inset:m=0,insetLeft:A=m,insetRight:p=m,dx:y=0,y:E=t==="y"?void 0:null,...v}){return Wd(gM,t,i,{ariaLabel:`${t}-axis tick label`},{facetAnchor:a,frameAnchor:r,text:d,textAnchor:c,lineAnchor:f,fontVariant:M,rotate:l,y:E,...v,dx:e==="left"?+y-s-u+ +A:+y+ +s+ +u-p},function(w,x,b,O,S){M===void 0&&(this.fontVariant=VD(w)),d===void 0&&(S.text=HD(w,x,b,O,e))})}function H9t(t,e,i,{facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:r=e,tickSize:s,tickRotate:l=0,tickPadding:u=Math.max(3,9-s)+(Math.abs(l)>=10?4*Math.cos(l*dD):0),text:d,textAnchor:c=Math.abs(l)>=10?l<0^e==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(l)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:M,inset:m=0,insetTop:A=m,insetBottom:p=m,dy:y=0,x:E=t==="x"?void 0:null,...v}){return Wd(y9t,t,i,{ariaLabel:`${t}-axis tick label`},{facetAnchor:a,frameAnchor:r,text:d===void 0?null:d,textAnchor:c,lineAnchor:f,fontVariant:M,rotate:l,x:E,...v,dy:e==="bottom"?+y+ +s+ +u-p:+y-s-u+ +A},function(w,x,b,O,S){M===void 0&&(this.fontVariant=VD(w)),d===void 0&&(S.text=HD(w,x,b,O,e))})}function V9t(){const[t,e]=Hl(...arguments);return FD("y",BD(e),t,e)}function Q9t(){const[t,e]=Hl(...arguments);return FD("fy",RD(e),t,e)}function z9t(){const[t,e]=Hl(...arguments);return UD("x",DD(e),t,e)}function J9t(){const[t,e]=Hl(...arguments);return UD("fx",PD(e),t,e)}function FD(t,e,i,{y:a=t==="y"?void 0:null,x:r=null,x1:s=e==="left"?r:null,x2:l=e==="right"?r:null,...u}){return Wd(H9,t,i,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:a,x1:s,x2:l,...$D(u)})}function UD(t,e,i,{x:a=t==="x"?void 0:null,y:r=null,y1:s=e==="top"?r:null,y2:l=e==="bottom"?r:null,...u}){return Wd(Ar,t,i,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:a,y1:s,y2:l,...$D(u)})}function $D({color:t="currentColor",opacity:e=.1,stroke:i=t,strokeOpacity:a=e,strokeWidth:r=1,...s}){return{stroke:i,strokeOpacity:a,strokeWidth:r,...s}}function GD({fill:t,fillOpacity:e,fontFamily:i,fontSize:a,fontStyle:r,fontVariant:s,fontWeight:l,monospace:u,pointerEvents:d,shapeRendering:c,clip:f=!1},M){return[,t]=N0(t),[,e]=Gr(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:i,fontSize:a,fontStyle:r,fontVariant:s,fontWeight:l,monospace:u,pointerEvents:d,shapeRendering:c,clip:f,initializer:M}}function Wd(t,e,i,a,r,s){let l;function u(f,M,m,A,p,y){const E=f==null&&(e==="fx"||e==="fy"),{[e]:v}=A;if(!v)throw new Error(`missing scale: ${e}`);const w=v.domain();let{interval:x,ticks:b,tickFormat:O,tickSpacing:S=e==="x"?80:35}=r;if(typeof b=="string"&&JD(v)&&(x=b,b=void 0),b===void 0&&(b=Vd(x,v.type)??j9t(v,S)),f==null){if($l(b))f=Pl(b);else if(ju(b))f=n6(b,...Oa(w));else if(v.interval){let I=v.interval;if(v.ticks){const[P,L]=Oa(w),k=(L-P)/I[R1];I=wC(I,k/b)??I,f=n6(I,P,L)}else{f=w;const P=f.length;I=wC(I,P/b)??I,I!==v.interval&&(f=n6(I,...Oa(f)))}if(I===v.interval){const P=Math.round(f.length/b);P>1&&(f=f.filter((L,k)=>k%P===0))}}else v.ticks?f=v.ticks(b):f=w;if(!v.ticks&&f.length&&f!==w){const I=new u1(w);f=f.filter(P=>I.has(P)),f.length||Ss(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?M=[Us(f)]:l[e]={scale:e,value:Q9}}s==null||s.call(this,v,f,b,O,l);const R=Object.fromEntries(Object.entries(l).map(([I,P])=>[I,{...P,value:ea(f,P.value)}]));return E&&(M=y.filterFacets(f,R)),{data:f,facets:M,channels:R}}const d=Pd(r).initializer,c=t(i,Pd({...r,initializer:u},d));return i==null?(l=c.channels,c.channels={}):l={},a!==void 0&&Object.assign(c,a),c.clip===void 0&&(c.clip=!1),c}function j9t(t,e){const[i,a]=Oa(t.range());return(a-i)/e}function HD(t,e,i,a,r){return{value:yM(t,e,i,a,r)}}function yM(t,e,i,a,r){return typeof a=="function"&&!(t.type==="log"&&t.tickFormat)?a:a===void 0&&e&&e0(e)?xet(t.type,e,r)??Ld:t.tickFormat?t.tickFormat(typeof i=="number"?i:null,a):a===void 0?Ld:typeof a=="string"?(e0(t.domain())?O1:Gd)(a):Os(a)}function n6(t,e,i){return t.range(e,t.offset(t.floor(i)))}const W9t={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},K9t={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},X9t={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},Y9t={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function VD(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function QD(t,e,{anchor:i,label:a=e.label,labelAnchor:r,labelArrow:s}={}){if(!(a==null||a.inferred&&JD(e)&&/^(date|time|year)$/i.test(a))){if(a=String(a),s==="auto"&&(s=(!e.bandwidth||e.interval)&&!/[]/.test(a)),!s)return a;if(s===!0){const l=XR(e);l&&(s=/x$/.test(t)||r==="center"?/x$/.test(t)===l<0?"left":"right":l<0?"up":"down")}switch(s){case"left":return` ${a}`;case"right":return`${a} `;case"up":return i==="right"?`${a} `:` ${a}`;case"down":return i==="right"?`${a} `:` ${a}`}return a}}function zD(t="auto"){return xr(t)?!1:typeof t=="boolean"?t:ho(t,"labelArrow",["auto","up","right","down","left"])}function JD(t){return e0(t.domain())}function tE(t,e){if(e==null)return e;const i=t(e);if(!i)throw new Error(`scale not found: ${e}`);return i}function q9t(t,{opacity:e,...i}={}){if(!eu(t)&&!tD(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return jD(t,i,(a,r,s,l)=>a.append("svg").attr("width",s).attr("height",l).attr("fill",r.scale).attr("fill-opacity",Gr(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Z9t(t,{fill:e=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:i=1,stroke:a=(f=>(f=t.hint)==null?void 0:f.stroke)()!==void 0?t.hint.stroke:xr(e)?"currentColor":"none",strokeOpacity:r=1,strokeWidth:s=1.5,r:l=4.5,...u}={},d){const[M,m]=N0(e),[A,p]=N0(a),y=tE(d,M),E=tE(d,A),v=l*l*Math.PI;return i=Gr(i)[1],r=Gr(r)[1],s=Gr(s)[1],jD(t,u,(w,x,b,O)=>w.append("svg").attr("viewBox","-8 -8 16 16").attr("width",b).attr("height",O).attr("fill",M==="color"?S=>y.scale(S):m).attr("fill-opacity",i).attr("stroke",A==="color"?S=>E.scale(S):p).attr("stroke-opacity",r).attr("stroke-width",s).append("path").attr("d",S=>{const R=bl();return t.scale(S).draw(R,v),R}))}function jD(t,e={},i){let{columns:a,tickFormat:r,fontVariant:s=uD(t),swatchSize:l=15,swatchWidth:u=l,swatchHeight:d=l,marginLeft:c=0,className:f,style:M,width:m}=e;const A=sM(e);f=ep(f),r=yM(t.scale,t.domain,void 0,r);const p=ya("div",A).attr("class",`${f}-swatches ${f}-swatches-${a!=null?"columns":"wrap"}`);let y;return a!=null?(y=`:where(.${f}-swatches-columns .${f}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${f}-swatches-columns .${f}-swatch::before) {
  flex-shrink: 0;
}
:where(.${f}-swatches-columns .${f}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",a).selectAll().data(t.domain).enter().append("div").attr("class",`${f}-swatch`).call(i,t,u,d).call(E=>E.append("div").attr("class",`${f}-swatch-label`).attr("title",r).text(r))):(y=`:where(.${f}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${f}-swatches-wrap .${f}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${f}-swatch`).call(i,t,u,d).append(function(){return this.ownerDocument.createTextNode(r.apply(this,arguments))})),p.call(E=>E.insert("style","*").text(`:where(.${f}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${f}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${y}`)).style("margin-left",c?`${+c}px`:null).style("width",m===void 0?null:`${+m}px`).style("font-variant",gr(s,"normal")).call(cM,M).node()}const I7=new Map([["symbol",Z9t],["color",KD],["opacity",eat]]);function tat(t,e,i={}){return(a,r)=>{if(!I7.has(a))throw new Error(`unknown legend type: ${a}`);if(a in t)return I7.get(a)(t[a],WD(e,i[a],r),s=>t[s])}}function WD({className:t,...e},{label:i,ticks:a,tickFormat:r}={},s){return zet(s,{className:t,...e},{label:i,ticks:a,tickFormat:r})}function KD(t,{legend:e=!0,...i}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return q9t(t,i);case"ramp":return s9t(t,i);default:throw new Error(`unknown legend type: ${e}`)}}function eat({type:t,interpolate:e,...i},{legend:a=!0,color:r=Il(0,0,0),...s}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(a===!0&&(a="ramp"),`${a}`.toLowerCase()!=="ramp")throw new Error(`${a} opacity legends are not supported`);return KD({type:t,...i,interpolate:iat(r)},{legend:a,...s})}function iat(t){const{r:e,g:i,b:a}=Il(t)||Il(0,0,0);return r=>`rgba(${e},${i},${a},${r})`}function nat(t,e,i){const a=[];for(const[r,s]of I7){const l=i[r];if(l!=null&&l.legend&&r in t){const u=s(t[r],WD(e,t[r],l),d=>t[d]);u!=null&&a.push(u)}}return a}function XD(t={}){return pR(t)?t:{...t,x:Q9}}function op(t={}){return gR(t)?t:{...t,y:Q9}}function aat(t,e){if(e.length===1)return{data:t,facets:e};const i=Gf(t),a=new Uint8Array(i);let r=0;for(const u of e)for(const d of u)a[d]&&++r,a[d]=1;if(r===0)return{data:t,facets:e};t=$f(t);const s=t[cR]=new Uint32Array(i+r);e=e.map(u=>$f(u,Uint32Array));let l=i;a.fill(0);for(const u of e)for(let d=0,c=u.length;d<c;++d){const f=u[d];a[f]?(u[d]=l,t[l]=t[f],s[l]=f,++l):s[f]=f,a[f]=1}return{data:t,facets:e}}function rat(t={},e={}){arguments.length===1&&([t,e]=qD(t));const{y1:i,y:a=i,x:r,...s}=e,[l,u,d,c]=ZD(a,r,"y","x",t,s);return{...l,y1:i,y:u,x1:d,x2:c,x:t4(d,c)}}function oat(t={},e={}){arguments.length===1&&([t,e]=qD(t));const{x1:i,x:a=i,y:r,...s}=e,[l,u,d,c]=ZD(a,r,"x","y",t,s);return{...l,x1:i,x:u,y1:d,y2:c,y:t4(d,c)}}function YD({x:t,x1:e,x2:i,...a}={}){return a=Jd(a,"y"),e===void 0&&i===void 0?rat({x:t,...a}):([e,i]=MR(t,e,i),{...a,x1:e,x2:i})}function sp({y:t,y1:e,y2:i,...a}={}){return a=Jd(a,"x"),e===void 0&&i===void 0?oat({y:t,...a}):([e,i]=MR(t,e,i),{...a,y1:e,y2:i})}function qD(t){const{offset:e,order:i,reverse:a,...r}=t;return[{offset:e,order:i,reverse:a},r]}const sat={length:!0};function ZD(t,e=Det,i,a,{offset:r,order:s,reverse:l},u){if(e===null)throw new Error(`stack requires ${a}`);const d=J4(u),[c,f]=Xr(t),[M,m]=Hf(e),[A,p]=Hf(e);return M.hint=A.hint=sat,r=lat(r),s=dat(s,r,a),[zd(u,(y,E,v)=>{({data:y,facets:E}=aat(y,E));const w=t==null?void 0:f(e4(ea(y,t),v==null?void 0:v[i])),x=ea(y,e,Float64Array),b=ea(y,d),O=s&&s(y,w,x,b),S=Gf(y),R=m(new Float64Array(S)),I=p(new Float64Array(S)),P=[];for(const L of E){const k=w?Array.from(d1(L,N=>w[N]).values()):[L];if(O)for(const N of k)N.sort(O);for(const N of k){let $=0,H=0;l&&N.reverse();for(const U of N){const W=x[U];W<0?$=I[U]=(R[U]=$)+W:W>0?H=I[U]=(R[U]=H)+W:I[U]=R[U]=H}}P.push(k)}return r&&r(P,R,I,b),{data:y,facets:E}}),c,M,A]}function lat(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return cat;case"center":case"silhouette":return uat;case"wiggle":return eP}throw new Error(`unknown offset: ${t}`)}}function tP(t,e){let i=0,a=0;for(const r of t){const s=e[r];s<i&&(i=s),s>a&&(a=s)}return[i,a]}function cat(t,e,i){for(const a of t)for(const r of a){const[s,l]=tP(r,i);for(const u of r){const d=1/(l-s||1);e[u]=d*(e[u]-s),i[u]=d*(i[u]-s)}}}function uat(t,e,i){for(const a of t){for(const r of a){const[s,l]=tP(r,i);for(const u of r){const d=(l+s)/2;e[u]-=d,i[u]-=d}}iP(a,e,i)}nP(t,e,i)}function eP(t,e,i,a){for(const r of t){const s=new $c;let l=0;for(const u of r){let d=-1;const c=u.map(A=>Math.abs(i[A]-e[A])),f=u.map(A=>{d=a?a[A]:++d;const p=i[A]-e[A],y=s.has(d)?p-s.get(d):0;return s.set(d,p),y}),M=[0,...NG(f)];for(const A of u)e[A]+=l,i[A]+=l;const m=xl(c);m&&(l-=xl(c,(A,p)=>(f[p]/2+M[p])*A)/m)}iP(r,e,i)}nP(t,e,i)}function iP(t,e,i){const a=Ir(t,r=>Ir(r,s=>e[s]));for(const r of t)for(const s of r)e[s]-=a,i[s]-=a}function nP(t,e,i){const a=t.length;if(a===1)return;const r=t.map(u=>u.flat()),s=r.map(u=>(Ir(u,d=>e[d])+ca(u,d=>i[d]))/2),l=Ir(s);for(let u=0;u<a;u++){const d=l-s[u];for(const c of r[u])e[c]+=d,i[c]+=d}}function dat(t,e,i){if(t===void 0&&e===eP)return eE(oo);if(t!=null){if(typeof t=="string"){const a=t.startsWith("-"),r=a?q3:oo;switch((a?t.slice(1):t).toLowerCase()){case"value":case i:return hat(r);case"z":return fat(r);case"sum":return mat(r);case"appearance":return pat(r);case"inside-out":return eE(r)}return iE(uR(t))}if(typeof t=="function")return(t.length===1?iE:gat)(t);if(tu(t))return Mat(t);throw new Error(`invalid order: ${t}`)}}function hat(t){return(e,i,a)=>(r,s)=>t(a[r],a[s])}function fat(t){return(e,i,a,r)=>(s,l)=>t(r[s],r[l])}function mat(t){return lp(t,(e,i,a,r)=>z7(Us(e),s=>xl(s,l=>a[l]),s=>r[s]))}function pat(t){return lp(t,(e,i,a,r)=>z7(Us(e),s=>i[XO(s,l=>a[l])],s=>r[s]))}function eE(t){return lp(t,(e,i,a,r)=>{const s=Us(e),l=z7(s,M=>i[XO(M,m=>a[m])],M=>r[M]),u=Xu(s,M=>xl(M,m=>a[m]),M=>r[M]),d=[],c=[];let f=0;for(const M of l)f<0?(f+=u.get(M),d.push(M)):(f-=u.get(M),c.push(M));return c.reverse().concat(d)})}function iE(t){return e=>{const i=ea(e,t);return(a,r)=>oo(i[a],i[r])}}function gat(t){return e=>tu(e)?(i,a)=>t(e[i],e[a]):(i,a)=>t(e.get(i),e.get(a))}function Mat(t){return lp(oo,()=>t)}function lp(t,e){return(i,a,r,s)=>{if(!s)throw new Error("missing channel: z");const l=new $c(e(i,a,r,s).map((u,d)=>[u,d]));return(u,d)=>t(l.get(s[u]),l.get(s[d]))}}const Aat={ariaLabel:"rect"};class aP extends Rr{constructor(e,i={}){const{x1:a,y1:r,x2:s,y2:l}=i;super(e,{x1:{value:a,scale:"x",type:a!=null&&s==null?"band":void 0,optional:!0},y1:{value:r,scale:"y",type:r!=null&&l==null?"band":void 0,optional:!0},x2:{value:s,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0}},i,Aat),vM(this,i),bM(this,i)}render(e,i,a,r,s){const{x:l,y:u}=i;let{x1:d,y1:c,x2:f,y2:M}=a;const{marginTop:m,marginRight:A,marginBottom:p,marginLeft:y,width:E,height:v}=r,{projection:w}=s,{insetTop:x,insetRight:b,insetBottom:O,insetLeft:S}=this,{rx:R,ry:I,rx1y1:P,rx1y2:L,rx2y1:k,rx2y2:N}=this;(d||f)&&!w&&Ho(l)&&(d=f=null),(c||M)&&!w&&Ho(u)&&(c=M=null);const $=l!=null&&l.bandwidth?l.bandwidth():0,H=u!=null&&u.bandwidth?u.bandwidth():0;return ya("svg:g",s).call(i0,this,r,s).call(Qr,this,{},0,0).call(U=>U.selectAll().data(e).enter().call(P||L||k||N?W=>W.append("path").call(Br,this).call(CM,d&&f?J=>d[J]+(f[J]<d[J]?-b:S):d?J=>d[J]+S:y+S,c&&M?J=>c[J]+(M[J]<c[J]?-O:x):c?J=>c[J]+x:m+x,d&&f?J=>f[J]-(f[J]<d[J]?-S:b):d?J=>d[J]+$-b:E-A-b,c&&M?J=>M[J]-(M[J]<c[J]?-x:O):c?J=>c[J]+H-O:v-p-O,this).call(A0,this,a):W=>W.append("rect").call(Br,this).attr("x",d?f?J=>Math.min(d[J],f[J])+S:J=>d[J]+S:y+S).attr("y",c?M?J=>Math.min(c[J],M[J])+x:J=>c[J]+x:m+x).attr("width",d?f?J=>Math.max(0,Math.abs(f[J]-d[J])+$-S-b):$-S-b:E-A-y-b-S).attr("height",c?M?J=>Math.max(0,Math.abs(c[J]-M[J])+H-x-O):H-x-O:v-m-p-x-O).call(Un,"rx",R).call(Un,"ry",I).call(A0,this,a))).node()}}function vM(t,{inset:e=0,insetTop:i=e,insetRight:a=e,insetBottom:r=e,insetLeft:s=e}={}){t.insetTop=cr(i),t.insetRight=cr(a),t.insetBottom=cr(r),t.insetLeft=cr(s)}function bM(t,{r:e,rx:i,ry:a,rx1:r=e,ry1:s=e,rx2:l=e,ry2:u=e,rx1y1:d=r!==void 0?+r:s!==void 0?+s:0,rx1y2:c=r!==void 0?+r:u!==void 0?+u:0,rx2y1:f=l!==void 0?+l:s!==void 0?+s:0,rx2y2:M=l!==void 0?+l:u!==void 0?+u:0}={}){d||c||f||M?(t.rx1y1=d,t.rx1y2=c,t.rx2y1=f,t.rx2y2=M):(t.rx=gr(i,"auto"),t.ry=gr(a,"auto"))}function CM(t,e,i,a,r,s){const{rx1y1:l,rx1y2:u,rx2y1:d,rx2y2:c}=s;typeof e!="function"&&(e=Os(e)),typeof i!="function"&&(i=Os(i)),typeof a!="function"&&(a=Os(a)),typeof r!="function"&&(r=Os(r));const f=Math.max(Math.abs(l+d),Math.abs(u+c)),M=Math.max(Math.abs(l+u),Math.abs(d+c));t.attr("d",m=>{const A=e(m),p=i(m),y=a(m),E=r(m),v=A>y,w=p>E,x=v?y:A,b=v?A:y,O=w?E:p,S=w?p:E,R=Math.min(1,(b-x)/f,(S-O)/M),I=R*(v?w?c:d:w?u:l),P=R*(v?w?u:l:w?c:d),L=R*(v?w?l:u:w?d:c),k=R*(v?w?d:c:w?l:u);return`M${x},${O+$m(I,k)}A${I},${I} 0 0 ${I<0?0:1} ${x+Um(I,k)},${O}H${b-Um(P,L)}A${P},${P} 0 0 ${P<0?0:1} ${b},${O+$m(P,L)}V${S-$m(L,P)}A${L},${L} 0 0 ${L<0?0:1} ${b-Um(L,P)},${S}H${x+Um(k,I)}A${k},${k} 0 0 ${k<0?0:1} ${x},${S-$m(k,I)}Z`})}function Um(t,e){return e<0?t:Math.abs(t)}function $m(t,e){return e<0?Math.abs(t):t}function rP(t,e){return new aP(t,MD(f9t(e)))}function Ll(t,e={}){return D1(e)||(e={...e,x:Ns,y2:Q9,interval:1}),new aP(t,sp(MD(op(e))))}const yat={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},vat={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class bat extends Rr{constructor(e={}){const{anchor:i=null}=e;super(d3,void 0,e,i==null?yat:vat),this.anchor=mR(i,"anchor",["top","right","bottom","left"]),vM(this,e),i||bM(this,e)}render(e,i,a,r,s){const{marginTop:l,marginRight:u,marginBottom:d,marginLeft:c,width:f,height:M}=r,{anchor:m,insetTop:A,insetRight:p,insetBottom:y,insetLeft:E}=this,{rx:v,ry:w,rx1y1:x,rx1y2:b,rx2y1:O,rx2y2:S}=this,R=c+E,I=f-u-p,P=l+A,L=M-d-y;return ya(m?"svg:line":x||b||O||S?"svg:path":"svg:rect",s).datum(0).call(i0,this,r,s).call(Br,this).call(A0,this,a).call(Qr,this,{}).call(m==="left"?k=>k.attr("x1",R).attr("x2",R).attr("y1",P).attr("y2",L):m==="right"?k=>k.attr("x1",I).attr("x2",I).attr("y1",P).attr("y2",L):m==="top"?k=>k.attr("x1",R).attr("x2",I).attr("y1",P).attr("y2",P):m==="bottom"?k=>k.attr("x1",R).attr("x2",I).attr("y1",L).attr("y2",L):x||b||O||S?k=>k.call(CM,R,P,I,L,this):k=>k.attr("x",R).attr("y",P).attr("width",I-R).attr("height",L-P).attr("rx",v).attr("ry",w)).node()}}function Cat(t){return new bat(t)}const a6={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Eat=new Set(["geometry","href","src","ariaLabel","scales"]);class _at extends Rr{constructor(e,i={}){i.tip&&(i={...i,tip:!1}),i.title===void 0&&$l(e)&&bR(e)&&(i={...i,title:Q9});const{x:a,y:r,x1:s,x2:l,y1:u,y2:d,anchor:c,preferredAnchor:f="bottom",monospace:M,fontFamily:m=M?"ui-monospace, monospace":void 0,fontSize:A,fontStyle:p,fontVariant:y,fontWeight:E,lineHeight:v=1,lineWidth:w=20,frameAnchor:x,format:b,textAnchor:O="start",textOverflow:S,textPadding:R=8,title:I,pointerSize:P=12,pathFilter:L="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=i;super(e,{x:{value:s!=null&&l!=null?null:a,scale:"x",optional:!0},y:{value:u!=null&&d!=null?null:r,scale:"y",optional:!0},x1:{value:s,scale:"x",optional:l==null},y1:{value:u,scale:"y",optional:d==null},x2:{value:l,scale:"x",optional:s==null},y2:{value:d,scale:"y",optional:u==null},title:{value:I,optional:!0}},i,a6),this.anchor=v7(c,"anchor"),this.preferredAnchor=v7(f,"preferredAnchor"),this.frameAnchor=K4(x),this.textAnchor=gr(O,"middle"),this.textPadding=+R,this.pointerSize=+P,this.pathFilter=$r(L),this.lineHeight=+v,this.lineWidth=+w,this.textOverflow=CD(S),this.monospace=!!M,this.fontFamily=$r(m),this.fontSize=cr(A),this.fontStyle=$r(p),this.fontVariant=$r(y),this.fontWeight=$r(E);for(const k in a6)k in this.channels&&(this[k]=a6[k]);this.splitLines=_D(this),this.clipLine=wD(this),this.format=typeof b=="string"||typeof b=="function"?{title:b}:{...b}}render(e,i,a,r,s){const l=this,{x:u,y:d,fx:c,fy:f}=i,{ownerSVGElement:M,document:m}=s,{anchor:A,monospace:p,lineHeight:y,lineWidth:E}=this,{textPadding:v,pointerSize:w,pathFilter:x}=this,{marginTop:b,marginLeft:O}=r,{x1:S,y1:R,x2:I,y2:P,x:L=S??I,y:k=R??P}=a,N=c?c(e.fx)-O:0,$=f?f(e.fy)-b:0,[H,U]=$1(this,r),W=lD(a,H),J=cD(a,U),Q=p?AM:MM,G=Q(id);let z,j;"title"in a?(z=nE.call(this,{title:a.channels.title},i),j=Tat):(z=nE.call(this,a.channels,i),j=Iat);const nt=ya("svg:g",s).call(i0,this,r,s).call(ED,this).call(Qr,this,{x:L&&u,y:k&&d}).call(pt=>pt.selectAll().data(e).enter().append("g").attr("transform",gt=>`translate(${Math.round(W(gt))},${Math.round(J(gt))})`).call(Br,this).call(gt=>gt.append("path").attr("filter",x)).call(gt=>gt.append("text").each(function(Tt){const vt=Yu(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Ot=j.call(l,Tt,e,z,i,a);if(typeof Ot=="string")for(const ft of l.splitLines(Ot))tt(vt,{value:l.clipLine(ft)});else{const ft=new Set;for(const St of Ot){const{label:Mt=""}=St;Mt&&ft.has(Mt)||(ft.add(Mt),tt(vt,St))}}})));function tt(pt,{label:gt,value:Tt,color:vt,opacity:Ot}){gt??(gt=""),Tt??(Tt="");const ft=vt!=null||Ot!=null;let St,Mt=E*100;const[Pt]=Nd(gt,Mt,Q,G);if(Pt>=0)gt=gt.slice(0,Pt).trimEnd()+id,St=Tt.trim(),Tt="";else{(gt||!Tt&&!ft)&&(Tt=" "+Tt);const[ie]=Nd(Tt,Mt-Q(gt),Q,G);ie>=0&&(St=Tt.trim(),Tt=Tt.slice(0,ie).trimEnd()+id)}const Vt=pt.append("tspan").attr("x",0).attr("dy",`${y}em`).text("");gt&&Vt.append("tspan").attr("font-weight","bold").text(gt),Tt&&Vt.append(()=>m.createTextNode(Tt)),ft&&Vt.append("tspan").text(" ").attr("fill",vt).attr("fill-opacity",Ot).style("user-select","none"),St&&Vt.append("title").text(St)}function ht(){const{width:pt,height:gt}=r.facet??r;nt.selectChildren().each(function(Tt){let{x:vt,width:Ot,height:ft}=this.getBBox();Ot=Math.round(Ot),ft=Math.round(ft);let St=A;if(St===void 0){const Vt=W(Tt)+N,ie=J(Tt)+$,jt=Vt+Ot+w+v*2<pt,Wt=Vt-Ot-w-v*2>0,me=ie+ft+w+v*2<gt,Yt=ie-ft-w-v*2>0;St=jt&&Wt?me&&Yt?l.preferredAnchor:Yt?"bottom":"top":me&&Yt?jt?"left":"right":(jt||Wt)&&(me||Yt)?`${Yt?"bottom":"top"}-${jt?"left":"right"}`:l.preferredAnchor}const Mt=this.firstChild,Pt=this.lastChild;if(Mt.setAttribute("d",Sat(St,w,v,Ot,ft)),vt)for(const Vt of Pt.childNodes)Vt.setAttribute("x",-vt);Pt.setAttribute("y",`${+Oat(St,Pt.childNodes.length,y).toFixed(6)}em`),Pt.setAttribute("transform",`translate(${xat(St,w,v,Ot,ft)})`)}),nt.attr("visibility",null)}return e.length&&(nt.attr("visibility","hidden"),M.isConnected?Promise.resolve().then(ht):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ht)),nt.node()}}function wat(t,{x:e,y:i,...a}={}){return a.frameAnchor===void 0&&([e,i]=P1(e,i)),new _at(t,{...a,x:e,y:i})}function Oat(t,e,i){return/^top(?:-|$)/.test(t)?.94-i:-.29-e*i}function xat(t,e,i,a,r){switch(t){case"middle":return[-a/2,r/2];case"top-left":return[i,e+i];case"top":return[-a/2,e/2+i];case"top-right":return[-a-i,e+i];case"right":return[-e/2-a-i,r/2];case"bottom-left":return[i,-e-i];case"bottom":return[-a/2,-e/2-i];case"bottom-right":return[-a-i,-e-i];case"left":return[i+e/2,r/2]}}function Sat(t,e,i,a,r){const s=a+i*2,l=r+i*2;switch(t){case"middle":return`M${-s/2},${-l/2}h${s}v${l}h${-s}z`;case"top-left":return`M0,0l${e},${e}h${s-e}v${l}h${-s}z`;case"top":return`M0,0l${e/2},${e/2}h${(s-e)/2}v${l}h${-s}v${-l}h${(s-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-s}v${l}h${s}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-l/2}h${-s}v${l}h${s}v${e/2-l/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${s-e}v${-l}h${-s}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(s-e)/2}v${-l}h${-s}v${l}h${(s-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-s}v${-l}h${s}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-l/2}h${s}v${l}h${-s}v${e/2-l/2}z`}}function nE(t,e){var r,s;const i={};let a=this.format;a=aE(a,t,"x"),a=aE(a,t,"y"),this.format=a;for(const l in a){const u=a[l];if(!(u===null||u===!1))if(l==="fx"||l==="fy")i[l]=!0;else{const d=RC(t,l);d&&(i[l]=d)}}for(const l in t){if(l in i||l in a||Eat.has(l)||(l==="x"||l==="y")&&t.geometry)continue;const u=RC(t,l);if(u){if(u.scale==null&&u.defaultScale==="color")continue;i[l]=u}}this.facet&&(e.fx&&!("fx"in a)&&(i.fx=!0),e.fy&&!("fy"in a)&&(i.fy=!0));for(const l in i){const u=this.format[l];if(typeof u=="string"){const d=((r=i[l])==null?void 0:r.value)??((s=e[l])==null?void 0:s.domain())??[];this.format[l]=(e0(d)?O1:Gd)(u)}else if(u===void 0||u===!0){const d=e[l];this.format[l]=d!=null&&d.bandwidth?yM(d,d.domain()):Ld}}return i}function aE(t,e,i){if(!(i in t))return t;const a=`${i}1`,r=`${i}2`;if((a in t||!(a in e))&&(r in t||!(r in e)))return t;const s=Object.entries(t),l=t[i];return s.splice(s.findIndex(([u])=>u===i)+1,0,[a,l],[r,l]),Object.fromEntries(s)}function Tat(t,e,{title:i}){return this.format.title(i.value[t],t)}function*Iat(t,e,i,a,r){for(const s in i){if(s==="fx"||s==="fy"){yield{label:n4(a,i,s),value:this.format[s](e[s],t)};continue}if(s==="x1"&&"x2"in i||s==="y1"&&"y2"in i)continue;const l=i[s];if(s==="x2"&&"x1"in i)yield{label:oE(a,i,"x"),value:rE(this.format.x2,i.x1,l,t)};else if(s==="y2"&&"y1"in i)yield{label:oE(a,i,"y"),value:rE(this.format.y2,i.y1,l,t)};else{const u=l.value[t],d=l.scale;if(!m0(u)&&d==null)continue;yield{label:n4(a,i,s),value:this.format[s](u,t),color:d==="color"?r[s][t]:null,opacity:d==="opacity"?r[s][t]:null}}}}function rE(t,e,i,a){var r;return(r=i.hint)!=null&&r.length?`${t(i.value[a]-e.value[a],a)}`:`${t(e.value[a],a)}${t(i.value[a],a)}`}function oE(t,e,i){const a=n4(t,e,`${i}1`,i),r=n4(t,e,`${i}2`,i);return a===r?a:`${a}${r}`}function n4(t,e,i,a=i){const r=e[i],s=t[(r==null?void 0:r.scale)??i];return String((s==null?void 0:s.label)??(r==null?void 0:r.label)??a)}function Bn(t={}){var G;const{facet:e,style:i,title:a,subtitle:r,caption:s,ariaLabel:l,ariaDescription:u}=t,d=ep(t.className),c=t.marks===void 0?[]:lE(t.marks);c.push(...Nat(c));const f=Lat(e,t),M=new Map;for(const z of c){const j=cE(z,f,t);j&&M.set(z,j)}const m=new Map;f&&Hh(m,[f],t),Hh(m,M,t);const A=lE(Fat(c,m,t));for(const z of A){const j=cE(z,f,t);j&&M.set(z,j)}c.unshift(...A);let p=pnt(m,t);if(p!==void 0){const z=f?Z5(p,f):void 0;for(const nt of c){if(nt.facet===null||nt.facet==="super")continue;const tt=M.get(nt);tt!==void 0&&(tt.facetsIndex=nt.fx!=null||nt.fy!=null?Z5(p,tt):z)}const j=new Set;for(const{facetsIndex:nt}of M.values())nt==null||nt.forEach((tt,ht)=>{(tt==null?void 0:tt.length)>0&&j.add(ht)});p.forEach(0<j.size&&j.size<p.length?(nt,tt)=>nt.empty=!j.has(tt):nt=>nt.empty=!1);for(const nt of c)if(nt.facet==="exclude"){const tt=M.get(nt);tt!==void 0&&(tt.facetsIndex=Ant(tt.facetsIndex))}}for(const z of xa.keys())y7(t[z])&&z!=="fx"&&z!=="fy"&&m.set(z,[]);const y=new Map;for(const z of c){if(y.has(z))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:j,channels:nt}=M.get(z)??{},{data:tt,facets:ht,channels:pt}=z.initialize(j,nt,t);EM(pt,t),y.set(z,{data:tt,facets:ht,channels:pt})}const E=_7(Hh(m,y,t),t),v=n9t(E,c,t);ont(E,v);const w=UC(E),{fx:x,fy:b}=w,O=x||b?YR(E,v):v,S=x||b?zat(w,v):v,R=sM(t),I=R.document,P=g4("svg").call(I.documentElement);let L=P;R.ownerSVGElement=P,R.className=d,R.projection=xnt(t,O),R.filterFacets=(z,j)=>Z5(p,{channels:j,groups:oM(z,j)}),R.getMarkState=z=>{const j=y.get(z),nt=M.get(z);return{...j,channels:{...j.channels,...nt==null?void 0:nt.channels}}},R.dispatchValue=z=>{L.value!==z&&(L.value=z,L.dispatchEvent(new Event("input",{bubbles:!0})))};const k=new Set;for(const[z,j]of y)if(z.initializer!=null){const nt=z.facet==="super"?S:O,tt=z.initializer(j.data,j.facets,j.channels,w,nt,R);if(tt.data!==void 0&&(j.data=tt.data),tt.facets!==void 0&&(j.facets=tt.facets),tt.channels!==void 0){const{fx:ht,fy:pt,...gt}=tt.channels;Pat(gt),Object.assign(j.channels,gt);for(const Tt of Object.values(gt)){const{scale:vt}=Tt;vt!=null&&!Wet(xa.get(vt))&&(oP(Tt,t),k.add(vt))}(ht!=null||pt!=null)&&M.set(z,!0)}}if(k.size){const z=new Map;Hh(z,y,t,ht=>k.has(ht)),Hh(m,y,t,ht=>k.has(ht));const j=Qat(_7(z,t),E),{scales:nt,...tt}=UC(j);Object.assign(E,j),Object.assign(w,tt),Object.assign(w.scales,nt)}let N,$;p!==void 0&&(N={x:x==null?void 0:x.domain(),y:b==null?void 0:b.domain()},p=gnt(p,N),$=Mnt(x,b,v));for(const[z,j]of y)j.values=z.scale(j.channels,w,R);const{width:H,height:U}=v;Yu(P).attr("class",d).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",H).attr("height",U).attr("viewBox",`0 0 ${H} ${U}`).attr("aria-label",l).attr("aria-description",u).call(z=>z.append("style").text(`:where(.${d}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${d} text),
:where(.${d} tspan) {
  white-space: pre;
}`)).call(cM,i);for(const z of c){const{channels:j,values:nt,facets:tt}=y.get(z);if(p===void 0||z.facet==="super"){let ht=null;if(tt&&(ht=tt[0],ht=z.filter(ht,j,nt),ht.length===0))continue;const pt=z.render(ht,w,nt,S,R);if(pt==null)continue;P.appendChild(pt)}else{let ht;for(const pt of p){if(!(((G=z.facetAnchor)==null?void 0:G.call(z,p,N,pt))??!pt.empty))continue;let gt=null;if(tt){const vt=M.has(z);if(gt=tt[vt?pt.i:0],gt=z.filter(gt,j,nt),gt.length===0)continue;!vt&&gt===tt[0]&&(gt=Fc(gt)),gt.fx=pt.x,gt.fy=pt.y,gt.fi=pt.i}const Tt=z.render(gt,w,nt,O,R);if(Tt!=null){(ht??(ht=Yu(P).append("g"))).append(()=>Tt).datum(pt);for(const vt of["aria-label","aria-description","aria-hidden","transform"])Tt.hasAttribute(vt)&&(ht.attr(vt,Tt.getAttribute(vt)),Tt.removeAttribute(vt))}}ht==null||ht.selectChildren().attr("transform",$)}}const W=nat(E,R,t),{figure:J=a!=null||r!=null||s!=null||W.length>0}=t;J&&(L=I.createElement("figure"),L.className=`${d}-figure`,L.style.maxWidth="initial",a!=null&&L.append(sE(I,a,"h2")),r!=null&&L.append(sE(I,r,"h3")),L.append(...W,P),s!=null&&L.append(Bat(I,s)),"value"in P&&(L.value=P.value,delete P.value)),L.scale=fnt(w.scales),L.legend=tat(E,R,t);const Q=Vit();return Q>0&&Yu(P).append("text").attr("x",H).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${Q.toLocaleString("en-US")} warning${Q===1?"":"s"}. Please check the console.`),L}function sE(t,e,i){if(e.ownerDocument)return e;const a=t.createElement(i);return a.append(e),a}function Bat(t,e){const i=t.createElement("figcaption");return i.append(e),i}function lE(t){return t.flat(1/0).filter(e=>e!=null).map(Rat)}function Rat(t){return typeof t.render=="function"?t:new Dat(t)}class Dat extends Rr{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function EM(t,e){for(const i in t)oP(t[i],e);return t}function oP(t,e){const{scale:i,transform:a=!0}=t;if(i==null||!a)return;const{type:r,percent:s,interval:l,transform:u=s?d=>d==null?NaN:d*100:vR(l,r)}=e[i]??{};u!=null&&(t.value=Ha(t.value,u),t.transform=!1)}function Pat(t){for(const e in t)kR(e,t[e])}function Hh(t,e,i,a=Pet){var r,s;for(const{channels:l}of e.values())for(const u in l){const d=l[u],{scale:c}=d;if(c!=null&&a(c))if(c==="projection"){if(!Bnt(i)){const f=((r=i.x)==null?void 0:r.domain)===void 0,M=((s=i.y)==null?void 0:s.domain)===void 0;if(f||M){const[m,A]=Dnt(d);f&&r6(t,"x",m),M&&r6(t,"y",A)}}}else r6(t,c,d)}return t}function r6(t,e,i){const a=t.get(e);a!==void 0?a.push(i):t.set(e,[i])}function Lat(t,e){if(t==null)return;const{x:i,y:a}=t;if(i==null&&a==null)return;const r=Rd(t.data);if(r==null)throw new Error("missing facet data");const s={};i!=null&&(s.fx=Qf(r,{value:i,scale:"fx"})),a!=null&&(s.fy=Qf(r,{value:a,scale:"fy"})),EM(s,e);const l=oM(r,s);return{channels:s,groups:l,data:t.data}}function cE(t,e,i){if(t.facet===null||t.facet==="super")return;const{fx:a,fy:r}=t;if(a!=null||r!=null){const d=Rd(t.data??a??r);if(d===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(d===null)return;const c={};return a!=null&&(c.fx=Qf(d,{value:a,scale:"fx"})),r!=null&&(c.fy=Qf(d,{value:r,scale:"fy"})),EM(c,i),{channels:c,groups:oM(d,c)}}if(e===void 0)return;const{channels:s,groups:l,data:u}=e;if(t.facet!=="auto"||t.data===u)return{channels:s,groups:l};u.length>0&&(l.size>1||l.size===1&&s.fx&&s.fy&&[...l][0][1].size>1)&&Gf(Rd(t.data))===Gf(u)&&Ss(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function kat(t,e={}){return Pd({...e,x:null,y:null},(i,a,r,s,l,u)=>u.getMarkState(t))}function Nat(t){const e=[];for(const i of t){let a=i.tip;if(a){a===!0?a={}:typeof a=="string"&&(a={pointer:a});let{pointer:r,preferredAnchor:s}=a;r=/^x$/i.test(r)?o9t:/^y$/i.test(r)?jC:r9t,a=r(kat(i,a)),a.title=null,s===void 0&&(a.preferredAnchor=r===jC?"left":"bottom");const l=wat(i.data,a);l.facet=i.facet,l.facetAnchor=i.facetAnchor,e.push(l)}}return e}function Fat(t,e,i){let{projection:a,x:r={},y:s={},fx:l={},fy:u={},axis:d,grid:c,facet:f={},facet:{axis:M=d,grid:m}=f,x:{axis:A=d,grid:p=A===null?null:c}=r,y:{axis:y=d,grid:E=y===null?null:c}=s,fx:{axis:v=M,grid:w=v===null?null:m}=l,fy:{axis:x=M,grid:b=x===null?null:m}=u}=i;(a||!y7(r)&&!uE("x",t))&&(A=p=null),(a||!y7(s)&&!uE("y",t))&&(y=E=null),e.has("fx")||(v=w=null),e.has("fy")||(x=b=null),A===void 0&&(A=!Vm(t,"x")),y===void 0&&(y=!Vm(t,"y")),v===void 0&&(v=!Vm(t,"fx")),x===void 0&&(x=!Vm(t,"fy")),A===!0&&(A="bottom"),y===!0&&(y="left"),v===!0&&(v=A==="top"||A===null?"bottom":"top"),x===!0&&(x=y==="right"||y===null?"left":"right");const O=[];return Hm(O,b,Q9t,u),Gm(O,x,N9t,"right","left",f,u),Hm(O,w,J9t,l),Gm(O,v,F9t,"top","bottom",f,l),Hm(O,E,V9t,s),Gm(O,y,Vo,"left","right",i,s),Hm(O,p,z9t,r),Gm(O,A,LD,"bottom","top",i,r),O}function Gm(t,e,i,a,r,s,l){if(!e)return;const u=Uat(e);l=$at(u?a:e,s,l);const{line:d}=l;(i===Vo||i===LD)&&d&&!Vf(d)&&t.push(Cat(Gat(l))),t.push(i(l)),u&&t.push(i({...l,anchor:r,label:null}))}function Hm(t,e,i,a){!e||Vf(e)||t.push(i(Hat(e,a)))}function Uat(t){return/^\s*both\s*$/i.test(t)}function $at(t,e,{line:i=e.line,ticks:a,tickSize:r,tickSpacing:s,tickPadding:l,tickFormat:u,tickRotate:d,fontVariant:c,ariaLabel:f,ariaDescription:M,label:m=e.label,labelAnchor:A,labelArrow:p=e.labelArrow,labelOffset:y}){return{anchor:t,line:i,ticks:a,tickSize:r,tickSpacing:s,tickPadding:l,tickFormat:u,tickRotate:d,fontVariant:c,ariaLabel:f,ariaDescription:M,label:m,labelAnchor:A,labelArrow:p,labelOffset:y}}function Gat(t){const{anchor:e,line:i}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:i===!0?void 0:i}}function Hat(t,{stroke:e=W4(t)?t:void 0,ticks:i=Vat(t)?t:void 0,tickSpacing:a,ariaLabel:r,ariaDescription:s}){return{stroke:e,ticks:i,tickSpacing:a,ariaLabel:r,ariaDescription:s}}function Vat(t){switch(typeof t){case"number":return!0;case"string":return!W4(t)}return $l(t)||typeof(t==null?void 0:t.range)=="function"}function Vm(t,e){const i=`${e}-axis `;return t.some(a=>{var r;return(r=a.ariaLabel)==null?void 0:r.startsWith(i)})}function uE(t,e){for(const i of e)for(const a in i.channels){const{scale:r}=i.channels[a];if(r===t||r==="projection")return!0}return!1}function Qat(t,e){for(const i in t){const a=t[i],r=e[i];a.label===void 0&&r&&(a.label=r.label)}return t}function zat({fx:t,fy:e},i){const{marginTop:a,marginRight:r,marginBottom:s,marginLeft:l,width:u,height:d}=rM(i),c=t&&dE(t),f=e&&dE(e);return{marginTop:e?f[0]:a,marginRight:t?u-c[1]:r,marginBottom:e?d-f[1]:s,marginLeft:t?c[0]:l,inset:{marginTop:i.marginTop,marginRight:i.marginRight,marginBottom:i.marginBottom,marginLeft:i.marginLeft},width:u,height:d}}function dE(t){const e=t.domain();if(e.length===0)return[0,t.bandwidth()];let i=t(e[0]),a=t(e[e.length-1]);return a<i&&([i,a]=[a,i]),[i,a+t.bandwidth()]}const Jat=new Map([["basis",TW],["basis-closed",IW],["basis-open",BW],["bundle",RW],["bump-x",AW],["bump-y",yW],["cardinal",DW],["cardinal-closed",PW],["cardinal-open",LW],["catmull-rom",kW],["catmull-rom-closed",NW],["catmull-rom-open",FW],["linear",x1],["linear-closed",UW],["monotone-x",$W],["monotone-y",GW],["natural",HW],["step",VW],["step-after",zW],["step-before",QW]]);function sP(t=x1,e){if(typeof t=="function")return t;const i=Jat.get(`${t}`.toLowerCase());if(!i)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in i)return i.beta(e);if("tension"in i)return i.tension(e);if("alpha"in i)return i.alpha(e)}return i}function lP(t=Fd,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Fd:sP(t,e)}function Fd(t){return x1(t)}function cp(t={y:"count"},e={}){[t,e]=Kat(t,e);const{x:i,y:a}=e;return Wat(Xat(i,e,Q9),null,null,a,t,np(e))}function jat(t,e,i={}){if((i==null?void 0:i.interval)==null)return i;const{reduce:a=eM}=i,r={filter:null};return i[e]!=null&&(r[e]=a),i[`${e}1`]!=null&&(r[`${e}1`]=a),i[`${e}2`]!=null&&(r[`${e}2`]=a),t(r,i)}function cP(t={}){return jat(cp,"y",Jd(t,"x"))}function Wat(t,e,i,a,{data:r=tM,filter:s=i4,sort:l,reverse:u,...d}={},c={}){t=hE(t),e=hE(e),d=qat(d,c),r=hP(r,Q9),l=l==null?void 0:uP("sort",l,c),s=s==null?void 0:dP("filter",s,c),a!=null&&gf(d,"y","y1","y2")&&(a=null);const[f,M]=Xr(t),[m,A]=Xr(t),[p,y]=Xr(e),[E,v]=Xr(e),[w,x]=a!=null?[a,"y"]:[],[b,O]=Xr(w),{x:S,y:R,z:I,fill:P,stroke:L,x1:k,x2:N,y1:$,y2:H,domain:U,cumulative:W,thresholds:J,interval:Q,...G}=c,[z,j]=Xr(I),[nt]=N0(P),[tt]=N0(L),[ht,pt]=Xr(nt),[gt,Tt]=Xr(tt);return{..."z"in c&&{z:z||I},..."fill"in c&&{fill:ht||P},..."stroke"in c&&{stroke:gt||L},...zd(G,(vt,Ot,ft)=>{const St=e4(ea(vt,w),ft==null?void 0:ft[x]),Mt=ea(vt,I),Pt=ea(vt,nt),Vt=ea(vt,tt),ie=DR(d,{z:Mt,fill:Pt,stroke:Vt}),jt=[],Wt=[],me=St&&O([]),Yt=Mt&&j([]),pe=Pt&&pt([]),Qe=Vt&&Tt([]),ni=t&&M([]),ei=t&&A([]),Ci=e&&y([]),ai=e&&v([]),ti=ert(t,e,vt);let be=0;for(const ye of d)ye.initialize(vt);l&&l.initialize(vt),s&&s.initialize(vt);for(const ye of Ot){const ne=[];for(const Et of d)Et.scope("facet",ye);l&&l.scope("facet",ye),s&&s.scope("facet",ye);for(const[Et,yt]of Mf(ye,ie))for(const[Ht,wt]of Mf(yt,St))for(const[xt,Qt]of ti(wt))if(ie&&(Qt.z=Et),!(s&&!s.reduce(xt,Qt))){ne.push(be++),Wt.push(r.reduceIndex(xt,vt,Qt)),St&&me.push(Ht),Mt&&Yt.push(ie===Mt?Et:Mt[(xt.length>0?xt:wt)[0]]),Pt&&pe.push(ie===Pt?Et:Pt[(xt.length>0?xt:wt)[0]]),Vt&&Qe.push(ie===Vt?Et:Vt[(xt.length>0?xt:wt)[0]]),ni&&(ni.push(Qt.x1),ei.push(Qt.x2)),Ci&&(Ci.push(Qt.y1),ai.push(Qt.y2));for(const ut of d)ut.reduce(xt,Qt);l&&l.reduce(xt,Qt)}jt.push(ne)}return PR(jt,l,u),{data:Wt,facets:jt}}),...!gf(d,"x")&&(f?{x1:f,x2:m,x:t4(f,m)}:{x:S,x1:k,x2:N}),...!gf(d,"y")&&(p?{y1:p,y2:E,y:t4(p,E)}:{y:R,y1:$,y2:H}),...b&&{[x]:b},...Object.fromEntries(d.map(({name:vt,output:Ot})=>[vt,Ot]))}}function Kat({cumulative:t,domain:e,thresholds:i,interval:a,...r},s){return[r,{cumulative:t,domain:e,thresholds:i,interval:a,...s}]}function Xat(t,{cumulative:e,domain:i,thresholds:a,interval:r},s){return t={...Qd(t)},t.domain===void 0&&(t.domain=i),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=a),t.interval===void 0&&(t.interval=r),t.value===void 0&&(t.value=s),t.thresholds=Yat(t.thresholds,t.interval),t}function hE(t){if(t==null)return;const{value:e,cumulative:i,domain:a=Oa,thresholds:r}=t,s=l=>{let u=ea(l,e),d;if(e0(u)||trt(r)){u=Ha(u,fR,Float64Array);let[f,M]=typeof a=="function"?a(u):a,m=typeof r=="function"&&!ju(r)?r(u,f,M):r;typeof m=="number"&&(m=US(f,M,m)),ju(m)&&(a===Oa&&(f=m.floor(f),M=m.offset(m.floor(M))),m=m.range(f,m.offset(M))),d=m}else{u=Do(u);let[f,M]=typeof a=="function"?a(u):a,m=typeof r=="function"&&!ju(r)?r(u,f,M):r;if(typeof m=="number")if(a===Oa){let A=Gc(f,M,m);if(isFinite(A))if(A>0){let p=Math.round(f/A),y=Math.round(M/A);p*A<=f||--p,y*A>M||++y;let E=y-p+1;m=new Float64Array(E);for(let v=0;v<E;++v)m[v]=(p+v)*A}else if(A<0){A=-A;let p=Math.round(f*A),y=Math.round(M*A);p/A<=f||--p,y/A>M||++y;let E=y-p+1;m=new Float64Array(E);for(let v=0;v<E;++v)m[v]=(p+v)/A}else m=[f];else m=[f]}else m=pd(f,M,m);else ju(m)&&(a===Oa&&(f=m.floor(f),M=m.offset(m.floor(M))),m=m.range(f,m.offset(M)));d=m}const c=[];if(d.length===1)c.push([d[0],d[0]]);else for(let f=1;f<d.length;++f)c.push([d[f-1],d[f]]);return c.bin=(i<0?nrt:i>0?irt:_M)(c,d,u),c};return s.label=Ul(e),s}function Yat(t,e,i=fE){if(t===void 0)return e===void 0?i:Vd(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return jG;case"scott":return YO;case"sturges":return WO;case"auto":return fE}return Hg(t)}return t}function qat(t,e){return TR(t,e,uP)}function uP(t,e,i){return qg(t,e,i,dP)}function dP(t,e,i){return Zg(t,e,i,hP)}function hP(t,e){return Y4(t,e,Zat)}function Zat(t){switch(`${t}`.toLowerCase()){case"x":return art;case"x1":return ort;case"x2":return srt;case"y":return rrt;case"y1":return lrt;case"y2":return crt;case"z":return LR}throw new Error(`invalid bin reduce: ${t}`)}function fE(t,e,i){return Math.min(200,YO(t,e,i))}function trt(t){return Net(t)||$l(t)&&e0(t)}function ert(t,e,i){const a=t==null?void 0:t(i),r=e==null?void 0:e(i);return a&&r?function*(s){const l=a.bin(s);for(const[u,[d,c]]of a.entries()){const f=r.bin(l[u]);for(const[M,[m,A]]of r.entries())yield[f[M],{data:i,x1:d,y1:m,x2:c,y2:A}]}}:a?function*(s){const l=a.bin(s);for(const[u,[d,c]]of a.entries())yield[l[u],{data:i,x1:d,x2:c}]}:function*(s){const l=r.bin(s);for(const[u,[d,c]]of r.entries())yield[l[u],{data:i,y1:d,y2:c}]}}function _M(t,e,i){return e=Do(e),a=>{var s;const r=t.map(()=>[]);for(const l of a)(s=r[c1(e,i[l])-1])==null||s.push(l);return r}}function irt(t,e,i){const a=_M(t,e,i);return r=>{const s=a(r);for(let l=1,u=s.length;l<u;++l){const d=s[l-1],c=s[l];for(const f of d)c.push(f)}return s}}function nrt(t,e,i){const a=_M(t,e,i);return r=>{const s=a(r);for(let l=s.length-2;l>=0;--l){const u=s[l+1],d=s[l];for(const c of u)d.push(c)}return s}}function fP(t,e){const i=(+t+ +e)/2;return t instanceof Date?new Date(i):i}const art={reduceIndex(t,e,{x1:i,x2:a}){return fP(i,a)}},rrt={reduceIndex(t,e,{y1:i,y2:a}){return fP(i,a)}},ort={reduceIndex(t,e,{x1:i}){return i}},srt={reduceIndex(t,e,{x2:i}){return i}},lrt={reduceIndex(t,e,{y1:i}){return i}},crt={reduceIndex(t,e,{y2:i}){return i}},urt={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class mP extends Rr{constructor(e,i={}){const{x1:a,y1:r,x2:s,y2:l,z:u,curve:d,tension:c}=i;super(e,{x1:{value:a,scale:"x"},y1:{value:r,scale:"y"},x2:{value:s,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0},z:{value:J4(i),optional:!0}},i,urt),this.z=u,this.curve=sP(d,c)}filter(e){return e}render(e,i,a,r,s){const{x1:l,y1:u,x2:d=l,y2:c=u}=a;return ya("svg:g",s).call(i0,this,r,s).call(Qr,this,i,0,0).call(f=>f.selectAll().data(rD(e,[l,u,d,c],this,a)).enter().append("path").call(Br,this).call(aD,this,a).attr("d",MW().curve(this.curve).defined(M=>M>=0).x0(M=>l[M]).y0(M=>u[M]).x1(M=>d[M]).y1(M=>c[M]))).node()}}function mE(t,e){return e===void 0?up(t,{x:zg,y:Z3}):new mP(t,e)}function up(t,e){const{x:i=Ns,...a}=cP(e);return new mP(t,sp(op({...a,x1:i,x2:void 0})))}const drt={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class hrt extends Rr{constructor(e,i={}){const{x1:a,y1:r,x2:s,y2:l,curve:u,tension:d}=i;super(e,{x1:{value:a,scale:"x"},y1:{value:r,scale:"y"},x2:{value:s,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0}},i,drt),this.curve=lP(u,d),G1(this,i)}project(e,i,a){this.curve!==Fd&&super.project(e,i,a)}render(e,i,a,r,s){const{x1:l,y1:u,x2:d=l,y2:c=u}=a,{curve:f}=this;return ya("svg:g",s).call(i0,this,r,s).call(Qr,this,i).call(M=>M.selectAll().data(e).enter().append("path").call(Br,this).attr("d",f===Fd&&s.projection?frt(s.projection,l,u,d,c):m=>{const A=bl(),p=f(A);return p.lineStart(),p.point(l[m],u[m]),p.point(d[m],c[m]),p.lineEnd(),A}).call(A0,this,a).call(ip,this,a,s)).node()}}function frt(t,e,i,a,r){const s=p1(t);return e=Do(e),i=Do(i),a=Do(a),r=Do(r),l=>s({type:"LineString",coordinates:[[e[l],i[l]],[a[l],r[l]]]})}function pE(t,{x:e,x1:i,x2:a,y:r,y1:s,y2:l,...u}={}){return[i,a]=gE(e,i,a),[s,l]=gE(r,s,l),new hrt(t,{...u,x1:i,x2:a,y1:s,y2:l})}function gE(t,e,i){if(t===void 0){if(e===void 0){if(i!==void 0)return[i]}else if(i===void 0)return[e]}else{if(e===void 0)return i===void 0?[t]:[t,i];if(i===void 0)return[t,e]}return[e,i]}const mrt={ariaLabel:"bar"};class wM extends Rr{constructor(e,i,a={},r=mrt){super(e,i,a,r),vM(this,a),bM(this,a)}render(e,i,a,r,s){const{rx:l,ry:u,rx1y1:d,rx1y2:c,rx2y1:f,rx2y2:M}=this,m=this._x(i,a,r),A=this._y(i,a,r),p=this._width(i,a,r),y=this._height(i,a,r);return ya("svg:g",s).call(i0,this,r,s).call(this._transform,this,i).call(E=>E.selectAll().data(e).enter().call(d||c||f||M?v=>v.append("path").call(Br,this).call(CM,m,A,ME(m,p),ME(A,y),this).call(A0,this,a):v=>v.append("rect").call(Br,this).attr("x",m).attr("width",p).attr("y",A).attr("height",y).call(Un,"rx",l).call(Un,"ry",u).call(A0,this,a))).node()}_x(e,{x:i},{marginLeft:a}){const{insetLeft:r}=this;return i?s=>i[s]+r:a+r}_y(e,{y:i},{marginTop:a}){const{insetTop:r}=this;return i?s=>i[s]+r:a+r}_width({x:e},{x:i},{marginRight:a,marginLeft:r,width:s}){const{insetLeft:l,insetRight:u}=this,d=i&&e?e.bandwidth():s-a-r;return Math.max(0,d-l-u)}_height({y:e},{y:i},{marginTop:a,marginBottom:r,height:s}){const{insetTop:l,insetBottom:u}=this,d=i&&e?e.bandwidth():s-a-r;return Math.max(0,d-l-u)}}function ME(t,e){return typeof t=="function"&&typeof e=="function"?i=>t(i)+e(i):typeof t=="function"?i=>t(i)+e:typeof e=="function"?i=>t+e(i):t+e}class pP extends wM{constructor(e,i={},a){const{x1:r,x2:s,y:l}=i;super(e,{x1:{value:r,scale:"x"},x2:{value:s,scale:"x"},y:{value:l,scale:"y",type:"band",optional:!0}},i,a)}_transform(e,i,{x:a}){e.call(Qr,i,{x:a},0,0)}_x({x:e},{x1:i,x2:a},{marginLeft:r}){const{insetLeft:s}=this;return Ho(e)?r+s:l=>Math.min(i[l],a[l])+s}_width({x:e},{x1:i,x2:a},{marginRight:r,marginLeft:s,width:l}){const{insetLeft:u,insetRight:d}=this;return Ho(e)?l-r-s-u-d:c=>Math.max(0,Math.abs(a[c]-i[c])-u-d)}}class gP extends wM{constructor(e,i={},a){const{x:r,y1:s,y2:l}=i;super(e,{y1:{value:s,scale:"y"},y2:{value:l,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},i,a)}_transform(e,i,{y:a}){e.call(Qr,i,{y:a},0,0)}_y({y:e},{y1:i,y2:a},{marginTop:r}){const{insetTop:s}=this;return Ho(e)?r+s:l=>Math.min(i[l],a[l])+s}_height({y:e},{y1:i,y2:a},{marginTop:r,marginBottom:s,height:l}){const{insetTop:u,insetBottom:d}=this;return Ho(e)?l-r-s-u-d:c=>Math.max(0,Math.abs(a[c]-i[c])-u-d)}}function MP(t,e={}){return D1(e)||(e={...e,y:Ns,x2:Q9}),new pP(t,YD(fM(XD(e))))}function Kd(t,e={}){return D1(e)||(e={...e,x:Ns,y2:Q9}),new gP(t,sp(mM(op(e))))}const prt={ariaLabel:"cell"};class grt extends wM{constructor(e,{x:i,y:a,...r}={}){super(e,{x:{value:i,scale:"x",type:"band",optional:!0},y:{value:a,scale:"y",type:"band",optional:!0}},r,prt)}_transform(e,i){e.call(Qr,i,{},0,0)}}function a4(t,{x:e,y:i,...a}={}){return[e,i]=P1(e,i),new grt(t,{...a,x:e,y:i})}const Mrt={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Art(t){return t.sort===void 0&&t.reverse===void 0?iit({channel:"-r"},t):t}class AP extends Rr{constructor(e,i={}){const{x:a,y:r,r:s,rotate:l,symbol:u=Rf,frameAnchor:d}=i,[c,f]=Gr(l,0),[M,m]=tit(u),[A,p]=Gr(s,M==null?3:4.5);super(e,{x:{value:a,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:A,scale:"r",filter:V4,optional:!0},rotate:{value:c,optional:!0},symbol:{value:M,scale:"auto",optional:!0}},Art(i),Mrt),this.r=p,this.rotate=f,this.symbol=m,this.frameAnchor=K4(d);const{channels:y}=this,{symbol:E}=y;if(E){const{fill:v,stroke:w}=y;E.hint={fill:v?v.value===E.value?"color":"currentColor":this.fill??"currentColor",stroke:w?w.value===E.value?"color":"currentColor":this.stroke??"none"}}}render(e,i,a,r,s){const{x:l,y:u}=i,{x:d,y:c,r:f,rotate:M,symbol:m}=a,{r:A,rotate:p,symbol:y}=this,[E,v]=$1(this,r),w=y===Rf,x=f?void 0:A*A*Math.PI;return Ug(A)&&(e=[]),ya("svg:g",s).call(i0,this,r,s).call(Qr,this,{x:d&&l,y:c&&u}).call(b=>b.selectAll().data(e).enter().append(w?"circle":"path").call(Br,this).call(w?O=>{O.attr("cx",d?S=>d[S]:E).attr("cy",c?S=>c[S]:v).attr("r",f?S=>f[S]:A)}:O=>{O.attr("transform",Jf`translate(${d?S=>d[S]:E},${c?S=>c[S]:v})${M?S=>` rotate(${M[S]})`:p?` rotate(${p})`:""}`).attr("d",f&&m?S=>{const R=bl();return m[S].draw(R,f[S]*f[S]*Math.PI),R}:f?S=>{const R=bl();return y.draw(R,f[S]*f[S]*Math.PI),R}:m?S=>{const R=bl();return m[S].draw(R,x),R}:(()=>{const S=bl();return y.draw(S,x),S})())}).call(A0,this,a)).node()}}function f0(t,{x:e,y:i,...a}={}){return a.frameAnchor===void 0&&([e,i]=P1(e,i)),new AP(t,{...a,x:e,y:i})}function yrt(t,{x:e=Q9,...i}={}){return new AP(t,AD({...i,x:e}))}const vrt={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class yP extends Rr{constructor(e,i={}){const{x:a,y:r,z:s,curve:l,tension:u}=i;super(e,{x:{value:a,scale:"x"},y:{value:r,scale:"y"},z:{value:J4(i),optional:!0}},i,vrt),this.z=s,this.curve=lP(l,u),G1(this,i)}filter(e){return e}project(e,i,a){this.curve!==Fd&&super.project(e,i,a)}render(e,i,a,r,s){const{x:l,y:u}=a,{curve:d}=this;return ya("svg:g",s).call(i0,this,r,s).call(Qr,this,i).call(c=>c.selectAll().data(rD(e,[l,u],this,a)).enter().append("path").call(Br,this).call(aD,this,a).call(d9t,this,a,s).attr("d",d===Fd&&s.projection?brt(s.projection,l,u):sI().curve(d).defined(f=>f>=0).x(f=>l[f]).y(f=>u[f]))).node()}}function brt(t,e,i){const a=p1(t);return e=Do(e),i=Do(i),r=>{let s=[];const l=[s];for(const u of r)u===-1?(s=[],l.push(s)):s.push([e[u],i[u]]);return a({type:"MultiLineString",coordinates:l})}}function OM(t,{x:e,y:i,...a}={}){return[e,i]=P1(e,i),new yP(t,{...a,x:e,y:i})}function Crt(t,{x:e=Ns,y:i=Q9,...a}={}){return new yP(t,cP({...a,x:e,y:i}))}function Ert(t,e={}){let{y:i,y1:a,y2:r}=e;i===void 0&&a===void 0&&r===void 0&&(e={...e,y:i=Q9});const s={};return i!=null&&(s.y=t),a!=null&&(s.y1=t),r!=null&&(s.y2=t),_rt(s,e)}function _rt(t={},e={}){const i=J4(e),a=Object.entries(t).map(([r,s])=>{const l=yR(r,e);if(l==null)throw new Error(`missing channel: ${r}`);const[u,d]=Hf(l);return{key:r,input:l,output:u,setOutput:d,map:wrt(s)}});return{...zd(e,(r,s)=>{const l=ea(r,i),u=a.map(({input:c})=>ea(r,c)),d=a.map(({setOutput:c})=>c(new Array(r.length)));for(const c of s)for(const f of l?d1(c,M=>l[M]).values():[c])a.forEach(({map:M},m)=>M.mapIndex(f,u[m],d[m]));return{data:r,facets:s}}),...Object.fromEntries(a.map(({key:r,output:s})=>[r,s]))}}function wrt(t){if(t==null)throw new Error("missing map");if(typeof t.mapIndex=="function")return t;if(typeof t.map=="function"&&Fs(t))return Ort(t);if(typeof t=="function")return o6(AR(t));switch(`${t}`.toLowerCase()){case"cumsum":return Srt;case"rank":return o6((e,i)=>ZO(e,a=>i[a]));case"quantile":return o6((e,i)=>xrt(e,a=>i[a]))}throw new Error(`invalid map: ${t}`)}function Ort(t){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:t.map.bind(t)}}function xrt(t,e){const i=h4(t,e)-1;return ZO(t,e).map(a=>a/i)}function o6(t){return{mapIndex(e,i,a){const r=t(e,i);if(r.length!==e.length)throw new Error("map function returned a mismatched length");for(let s=0,l=e.length;s<l;++s)a[e[s]]=r[s]}}}const Srt={mapIndex(t,e,i){let a=0;for(const r of t)i[r]=a+=e[r]}};function Trt(t={},e){return arguments.length===1&&(e=t),Ert(Irt(t),e)}function Irt(t={}){typeof t=="number"&&(t={k:t});let{k:e,reduce:i,shift:a,anchor:r,strict:s}=t;if(r===void 0&&a!==void 0&&(r=Rrt(a),Ss(`Warning: the shift option is deprecated; please use anchor "${r}" instead.`)),!((e=Math.floor(e))>0))throw new Error(`invalid k: ${e}`);return Drt(i)(e,Brt(r,e),s)}function Brt(t="middle",e){switch(`${t}`.toLowerCase()){case"middle":return e-1>>1;case"start":return 0;case"end":return e-1}throw new Error(`invalid anchor: ${t}`)}function Rrt(t){switch(`${t}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${t}`)}function Drt(t="mean"){if(typeof t=="string"){if(/^p\d{2}$/i.test(t))return Qm(dR(t));switch(t.toLowerCase()){case"deviation":return Qm(V7);case"max":return zm((e,i)=>ca(e,a=>i[a]));case"mean":return Prt;case"median":return Qm(Md);case"min":return zm((e,i)=>Ir(e,a=>i[a]));case"mode":return zm((e,i)=>m4(e,a=>i[a]));case"sum":return vP;case"variance":return Qm(H7);case"difference":return Nrt;case"ratio":return Frt;case"first":return Urt;case"last":return $rt}}if(typeof t!="function")throw new Error(`invalid reduce: ${t}`);return zm(AR(t))}function Qm(t){return(e,i,a)=>a?{mapIndex(r,s,l){const u=c=>s[c]==null?NaN:+s[c];let d=0;for(let c=0;c<e-1;++c)isNaN(u(c))&&++d;for(let c=0,f=r.length-e+1;c<f;++c)isNaN(u(c+e-1))&&++d,l[r[c+i]]=d===0?t(Fc(r,c,c+e),u):NaN,isNaN(u(c))&&--d}}:{mapIndex(r,s,l){const u=d=>s[d]==null?NaN:+s[d];for(let d=-i;d<0;++d)l[r[d+i]]=t(Fc(r,0,d+e),u);for(let d=0,c=r.length-i;d<c;++d)l[r[d+i]]=t(Fc(r,d,d+e),u)}}}function zm(t){return(e,i,a)=>a?{mapIndex(r,s,l){let u=0;for(let d=0;d<e-1;++d)u+=m0(s[r[d]]);for(let d=0,c=r.length-e+1;d<c;++d)u+=m0(s[r[d+e-1]]),u===e&&(l[r[d+i]]=t(Fc(r,d,d+e),s)),u-=m0(s[r[d]])}}:{mapIndex(r,s,l){for(let u=-i;u<0;++u)l[r[u+i]]=t(Fc(r,0,u+e),s);for(let u=0,d=r.length-i;u<d;++u)l[r[u+i]]=t(Fc(r,u,u+e),s)}}}function vP(t,e,i){return i?{mapIndex(a,r,s){let l=0,u=0;for(let d=0;d<t-1;++d){const c=r[a[d]];c===null||isNaN(c)?++l:u+=+c}for(let d=0,c=a.length-t+1;d<c;++d){const f=r[a[d]],M=r[a[d+t-1]];M===null||isNaN(M)?++l:u+=+M,s[a[d+e]]=l===0?u:NaN,f===null||isNaN(f)?--l:u-=+f}}}:{mapIndex(a,r,s){let l=0;const u=a.length;for(let d=0,c=Math.min(u,t-e-1);d<c;++d)l+=+r[a[d]]||0;for(let d=-e,c=u-e;d<c;++d)l+=+r[a[d+t-1]]||0,s[a[d+e]]=l,l-=+r[a[d]]||0}}}function Prt(t,e,i){if(i){const a=vP(t,e,i);return{mapIndex(r,s,l){a.mapIndex(r,s,l);for(let u=0,d=r.length-t+1;u<d;++u)l[r[u+e]]/=t}}}else return{mapIndex(a,r,s){let l=0,u=0;const d=a.length;for(let c=0,f=Math.min(d,t-e-1);c<f;++c){let M=r[a[c]];M!==null&&!isNaN(M=+M)&&(l+=M,++u)}for(let c=-e,f=d-e;c<f;++c){let M=r[a[c+t-1]],m=r[a[c]];M!==null&&!isNaN(M=+M)&&(l+=M,++u),s[a[c+e]]=l/u,m!==null&&!isNaN(m=+m)&&(l-=m,--u)}}}}function Lrt(t,e,i,a){for(let r=i+a;i<r;++i){const s=t[e[i]];if(m0(s))return s}}function krt(t,e,i,a){for(let r=i+a-1;r>=i;--r){const s=t[e[r]];if(m0(s))return s}}function bP(t,e,i,a){for(let r=i+a;i<r;++i){let s=t[e[i]];if(s!==null&&!isNaN(s=+s))return s}}function CP(t,e,i,a){for(let r=i+a-1;r>=i;--r){let s=t[e[r]];if(s!==null&&!isNaN(s=+s))return s}}function Nrt(t,e,i){return i?{mapIndex(a,r,s){for(let l=0,u=a.length-t;l<u;++l){const d=r[a[l]],c=r[a[l+t-1]];s[a[l+e]]=d===null||c===null?NaN:c-d}}}:{mapIndex(a,r,s){for(let l=-e,u=a.length-t+e+1;l<u;++l)s[a[l+e]]=CP(r,a,l,t)-bP(r,a,l,t)}}}function Frt(t,e,i){return i?{mapIndex(a,r,s){for(let l=0,u=a.length-t;l<u;++l){const d=r[a[l]],c=r[a[l+t-1]];s[a[l+e]]=d===null||c===null?NaN:c/d}}}:{mapIndex(a,r,s){for(let l=-e,u=a.length-t+e+1;l<u;++l)s[a[l+e]]=CP(r,a,l,t)/bP(r,a,l,t)}}}function Urt(t,e,i){return i?{mapIndex(a,r,s){for(let l=0,u=a.length-t;l<u;++l)s[a[l+e]]=r[a[l]]}}:{mapIndex(a,r,s){for(let l=-e,u=a.length-t+e+1;l<u;++l)s[a[l+e]]=Lrt(r,a,l,t)}}}function $rt(t,e,i){return i?{mapIndex(a,r,s){for(let l=0,u=a.length-t;l<u;++l)s[a[l+e]]=r[a[l+t-1]]}}:{mapIndex(a,r,s){for(let l=-e,u=a.length-t+e+1;l<u;++l)s[a[l+e]]=krt(r,a,l,t)}}}const Grt={ariaLabel:"tick",fill:null,stroke:"currentColor"};class Hrt extends Rr{constructor(e,i,a){super(e,i,a,Grt),G1(this,a)}render(e,i,a,r,s){return ya("svg:g",s).call(i0,this,r,s).call(this._transform,this,i).call(l=>l.selectAll().data(e).enter().append("line").call(Br,this).attr("x1",this._x1(i,a,r)).attr("x2",this._x2(i,a,r)).attr("y1",this._y1(i,a,r)).attr("y2",this._y2(i,a,r)).call(A0,this,a).call(ip,this,a,s)).node()}}class Vrt extends Hrt{constructor(e,i={}){const{x:a,y:r,inset:s=0,insetTop:l=s,insetBottom:u=s}=i;super(e,{x:{value:a,scale:"x"},y:{value:r,scale:"y",type:"band",optional:!0}},i),this.insetTop=cr(l),this.insetBottom=cr(u)}_transform(e,i,{x:a}){e.call(Qr,i,{x:a},qr,0)}_x1(e,{x:i}){return a=>i[a]}_x2(e,{x:i}){return a=>i[a]}_y1({y:e},{y:i},{marginTop:a}){const{insetTop:r}=this;return i&&e?s=>i[s]+r:a+r}_y2({y:e},{y:i},{height:a,marginBottom:r}){const{insetBottom:s}=this;return i&&e?l=>i[l]+e.bandwidth()-s:a-r-s}}function Mr(t,{x:e=Q9,...i}={}){return new Vrt(t,{...i,x:e})}function Qrt(t,e){return zrt("y",t,e)}function zrt(t,e,{x1:i,x2:a,y1:r,y2:s,x:l=i===void 0&&a===void 0?Ns:void 0,y:u=r===void 0&&s===void 0?Q9:void 0,fill:d,positiveFill:c="#3ca951",negativeFill:f="#4269d0",fillOpacity:M=1,positiveFillOpacity:m=M,negativeFillOpacity:A=M,stroke:p,strokeOpacity:y,z:E=N0(p)[0],clip:v,tip:w,render:x,...b}={}){return[i,a]=AE(l,i,a),[r,s]=AE(u,r,s),i===a&&r===s&&(r=cl(0)),{tip:w}=Jd({tip:w},"x"),uM(xr(c)?null:Object.assign(mE(e,{x1:i,x2:a,y1:r,y2:s,z:E,fill:c,fillOpacity:m,render:kd(x,yE(t,!0)),clip:v,...b}),{ariaLabel:"positive difference"}),xr(f)?null:Object.assign(mE(e,{x1:i,x2:a,y1:r,y2:s,z:E,fill:f,fillOpacity:A,render:kd(x,yE(t,!1)),clip:v,...b}),{ariaLabel:"negative difference"}),OM(e,{x:a,y:s,z:E,stroke:p,strokeOpacity:y,tip:w,clip:!0,...b}))}function AE(t,e,i){return e===void 0&&i===void 0?e=i=cl(t):e===void 0?(i=cl(i),e=t===void 0?i:cl(t)):i===void 0?(e=cl(e),i=t===void 0?e:cl(t)):(e=cl(e),i=cl(i)),[e,i]}function cl(t){let e;const{value:i,label:a=Ul(i)}=Qd(t);return{transform:r=>e||(e=ea(r,i)),label:a}}function yE(t,e){const i="x",a=`${i}1`,r=`${i}2`,s=`${t}1`,l=`${t}2`;return(u,d,c,f,M,m)=>{const{[a]:A,[r]:p}=c,y=new Float32Array(A.length),E=new Float32Array(p.length),v=f.height;(e===XR(d[t])<0?y:E).fill(v);const w=m(u,d,{...c,[r]:A,[l]:E},f,M),x=m(u,d,{...c,[a]:p,[s]:y},f,M),b=w.querySelector("g")??w,O=x.querySelector("g")??x;for(let S=0;b.firstChild;S+=2){const R=nD(),I=ya("svg:clipPath",M).attr("id",R).node();I.appendChild(b.firstChild),O.childNodes[S].setAttribute("clip-path",`url(#${R})`),O.insertBefore(I,O.childNodes[S])}return x}}const EP={ariaLabel:"waffle"};class Jrt extends pP{constructor(e,{unit:i=1,gap:a=1,round:r,render:s,multiple:l,...u}={}){super(e,{...u,render:kd(s,_P("x"))},EP),this.unit=Math.max(0,i),this.gap=+a,this.round=wP(r),this.multiple=OP(l)}}class jrt extends gP{constructor(e,{unit:i=1,gap:a=1,round:r,render:s,multiple:l,...u}={}){super(e,{...u,render:kd(s,_P("y"))},EP),this.unit=Math.max(0,i),this.gap=+a,this.round=wP(r),this.multiple=OP(l)}}function _P(t){return function(e,i,a,r,s){const{unit:l,gap:u,rx:d,ry:c,round:f}=this,{document:M}=s,m=a.channels[`${t}1`].value,A=a.channels[`${t}2`].value,p=this[t==="y"?"_width":"_height"](i,a,r),y=this[t==="y"?"_x":"_y"](i,a,r),E=l*Wrt(i.scales[t]),{multiple:v=Math.max(1,Math.floor(Math.sqrt(p/E)))}=this,w=Math.min(p/v,E*v),x=E*v,b=t==="y"?([k,N])=>[k*w,-N*x]:([k,N])=>[N*x,k*w],O=(p-v*w)/2,S=typeof y=="function"?k=>y(k)+O:y+O,R=i[t](0),I=Hnt(),P=M.createElementNS(Sl.svg,"pattern");P.setAttribute("width",t==="y"?w:x),P.setAttribute("height",t==="y"?x:w),P.setAttribute("patternUnits","userSpaceOnUse");const L=P.appendChild(M.createElementNS(Sl.svg,"rect"));return L.setAttribute("x",u/2),L.setAttribute("y",u/2),L.setAttribute("width",(t==="y"?w:x)-u),L.setAttribute("height",(t==="y"?x:w)-u),d!=null&&L.setAttribute("rx",d),c!=null&&L.setAttribute("ry",c),ya("svg:g",s).call(i0,this,r,s).call(this._transform,this,i).call(k=>k.selectAll().data(e).enter().append(()=>P.cloneNode(!0)).attr("id",N=>`${I}-${N}`).select("rect").call(Br,this).call(A0,this,a)).call(k=>k.selectAll().data(e).enter().append("path").attr("transform",t==="y"?Jf`translate(${S},${R})`:Jf`translate(${R},${S})`).attr("d",N=>`M${B7(f(m[N]/l),f(A[N]/l),v).map(b).join("L")}Z`).attr("fill",N=>`url(#${I}-${N})`).attr("stroke",this.stroke==null?null:N=>`url(#${I}-${N})`)).node()}}function B7(t,e,i){if(t<0||e<0){const a=Math.ceil(-Math.min(t,e)/i);return B7(t+a*i,e+a*i,i).map(([r,s])=>[r,s-a])}return e<t?B7(e,t,i):[[0,Math.ceil(t/i)],[Math.floor(t%i),Math.ceil(t/i)],[Math.floor(t%i),Math.floor(t/i)+t%1],[Math.ceil(t%i),Math.floor(t/i)+t%1],...t%i>i-1?[]:[[Math.ceil(t%i),Math.floor(t/i)],[i,Math.floor(t/i)]],[i,Math.floor(e/i)],[Math.ceil(e%i),Math.floor(e/i)],[Math.ceil(e%i),Math.floor(e/i)+e%1],[Math.floor(e%i),Math.floor(e/i)+e%1],...e%i<1?[]:[[Math.floor(e%i),Math.ceil(e/i)],[0,Math.ceil(e/i)]]]}function wP(t){if(t===void 0||t===!1)return Number;if(t===!0)return Math.round;if(typeof t!="function")throw new Error(`invalid round: ${t}`);return t}function OP(t){return t===void 0?void 0:Math.max(1,Math.floor(t))}function Wrt({domain:t,range:e}){return vE(e)/vE(t)}function vE(t){const[e,i]=Oa(t);return i-e}function xc(t,e={}){return D1(e)||(e={...e,y:Ns,x2:Q9}),new Jrt(t,YD(fM(XD(e))))}function Krt(t,e={}){return D1(e)||(e={...e,x:Ns,y2:Q9}),new jrt(t,sp(mM(op(e))))}Rr.prototype.plot=function({marks:t=[],...e}={}){return Bn({...e,marks:[...t,this]})};function Xrt(t,e,i){const a=t.slice();return a[16]=e[i],a}function Yrt(t){let e;return{c(){e=K("option"),e.textContent=`${t[16]}`,e.__value=t[16],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function qrt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L=$e(["velocity","piano","channel","none"]),k=[];for(let N=0;N<4;N+=1)k[N]=Yrt(Xrt(t,L,N));return S=new k9({props:{noteOn:t[7],noteOff:t[8]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`The guitar tab below shows incoming MIDI notes as rectangles with their
        string (y position) and start and end times (x left and right side of
        the rectangle). The color encodes the MIDI velocity, which tells how
        hard/loud a note was played.`,u=q(),d=K("div"),c=K("label"),f=oe(`color
            `),M=K("select");for(let N=0;N<4;N+=1)k[N].c();m=q(),A=K("label"),p=oe(`time
            `),y=K("input"),E=q(),v=K("div"),w=q(),x=K("div"),b=K("button"),b.textContent="reset",O=q(),Ft(S.$$.fragment),dt(l,"class","explanation"),t[3]===void 0&&Zr(()=>t[9].call(M)),dt(y,"type","number"),dt(y,"min","10"),dt(y,"max","300"),dt(y,"step","10"),dt(A,"title","time in seconds for past notes to be shown"),dt(d,"class","control"),dt(v,"class","visualization"),dt(b,"title","Clear all played notes"),dt(x,"class","control"),dt(e,"class","app")},m(N,$){Ct(N,e,$),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(c,f),B(c,M);for(let H=0;H<4;H+=1)k[H]&&k[H].m(M,null);wa(M,t[3],!0),B(d,m),B(d,A),B(A,p),B(A,y),Qi(y,t[2]),B(e,E),B(e,v),t[11](v),B(e,w),B(e,x),B(x,b),B(e,O),kt(S,e,null),R=!0,I||(P=[Ue(M,"change",t[9]),Ue(y,"input",t[10]),Ue(b,"click",t[12])],I=!0)},p(N,[$]){(!R||$&1)&&a!==(a=N[0].title+"")&&Ge(r,a),$&8&&wa(M,N[3]),$&4&&ur(y.value)!==N[2]&&Qi(y,N[2])},i(N){R||(Rt(S.$$.fragment,N),R=!0)},o(N){Dt(S.$$.fragment,N),R=!1},d(N){N&&bt(e),xi(k,N),t[11](null),Nt(S),I=!1,f9(P)}}}let Zrt=900,t0t=500,e0t=6;function i0t(t,e,i){let{toolInfo:a}=e,r=[64,59,55,50,45,40],s,l=30,u="velocity",d=0,c=[],f=new Map,M=null;const m=x=>{const b=(x.timestamp-d)/1e3,O=x.message.channel-1,S={number:x.note.number,velocity:x.rawVelocity,time:b,channel:x.message.channel,string:O,fret:x.note.number-r[O]};if(f.has(x.note.number)){const R=f.get(x.note.number);R.end===void 0&&(R.end=b)}c.push(S),f.set(x.note.number,S)},A=x=>{if(f.has(x.note.number)){const b=f.get(x.note.number),O=(x.timestamp-d)/1e3;b.end=O}},p=()=>{const x=(performance.now()-d)/1e3,b=x-l,O=c.filter(k=>k.end>b||k.end===void 0),S=Oa(O,k=>k.number),R=r.map(Ga.fromMidiSharps);let I,P;u==="velocity"?(I={label:"Note velocity",scheme:"blues",domain:[0,127]},P="velocity"):u==="piano"?(I={label:"Piano key color",domain:["black","white"],range:["black","white"]},P=k=>ul(k.number)?"black":"white"):u==="channel"?(I={type:"categorical",label:"MIDI channel",scheme:"tableau10"},P=k=>k.channel):u==="none"&&(P="#ddd");const L=Bn({insetRight:10,width:Zrt,height:t0t,marginLeft:60,marginBottom:40,padding:0,x:{label:"Time in seconds",domain:[b,x]},y:{label:"String",grid:!0,domain:Ei(0,e0t),tickFormat:k=>R[k]},color:{...I,legend:u!=="none",marginLeft:100,width:300},marks:[H9(Ei(Math.ceil((S[0]-1)/12)*12,S[1]+2,12)),Ar([x],{stroke:"#888"}),MP(O,{clip:!0,x1:"time",x2:k=>k.end===void 0?x:Math.max(k.end,k.time+.025),y:"string",fill:P,stroke:"#ccc",rx:5}),Ta(O,{clip:!0,x:"time",y:"string",fill:"black",stroke:"white",text:"fret",textAnchor:"start",dx:2})]});i(1,s.textContent="",s),s.appendChild(L),M=requestAnimationFrame(p)};c9(()=>{i(4,d=performance.now()),M=requestAnimationFrame(p)}),r9(()=>{cancelAnimationFrame(M)});function y(){u=eo(this),i(3,u)}function E(){l=ur(this.value),i(2,l)}function v(x){Me[x?"unshift":"push"](()=>{s=x,i(1,s)})}const w=()=>{confirm("Reset played notes?")&&(i(5,c=[]),i(6,f=new Map),i(4,d=performance.now()))};return t.$$set=x=>{"toolInfo"in x&&i(0,a=x.toolInfo)},[a,s,l,u,d,c,f,m,A,y,E,v,w]}class n0t extends Ki{constructor(e){super(),Wi(this,e,i0t,qrt,ji,{toolInfo:0})}}function a0t(t){let e,i,a,r,s,l,u,d,c,f,M;return{c(){e=K("button"),i=K("div"),a=oe(t[2]),r=q(),s=Ro("svg"),l=Ro("rect"),d=Ro("circle"),dt(l,"x",sl),dt(l,"y",sl),dt(l,"width",Jm-2*sl),dt(l,"height",s6-2*sl),dt(l,"rx",8),dt(l,"fill",u=t[0]?"var(--accentDark)":"#aaa"),dt(l,"class","svelte-1ijr3d"),dt(d,"cx",c=t[0]?Jm-sl-Vh-2:sl+Vh+2),dt(d,"cy",s6/2),dt(d,"r",Vh),dt(d,"fill","white"),dt(d,"class","svelte-1ijr3d"),dt(s,"class","indicator"),dt(s,"width",Jm),dt(s,"height",s6),dt(e,"title",t[3]),dt(e,"class","svelte-1ijr3d")},m(m,A){Ct(m,e,A),B(e,i),B(i,a),B(e,r),B(e,s),B(s,l),B(s,d),f||(M=Ue(e,"click",t[4]),f=!0)},p(m,[A]){A&4&&Ge(a,m[2]),A&1&&u!==(u=m[0]?"var(--accentDark)":"#aaa")&&dt(l,"fill",u),A&1&&c!==(c=m[0]?Jm-sl-Vh-2:sl+Vh+2)&&dt(d,"cx",c),A&8&&dt(e,"title",m[3])},i:Ne,o:Ne,d(m){m&&bt(e),f=!1,M()}}}const Jm=30,s6=20,sl=2,Vh=5;function r0t(t,e,i){let{checked:a=!0}=e,{callback:r=()=>{}}=e,{label:s=""}=e,{title:l=""}=e;const u=()=>{i(0,a=!a),r()};return t.$$set=d=>{"checked"in d&&i(0,a=d.checked),"callback"in d&&i(1,r=d.callback),"label"in d&&i(2,s=d.label),"title"in d&&i(3,l=d.title)},[a,r,s,l,u]}class R9 extends Ki{constructor(e){super(),Wi(this,e,r0t,a0t,ji,{checked:0,callback:1,label:2,title:3})}}function o0t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P=t[1]>=6?"guitar":"bass guitar",L,k,N=t[2]===0?"in standard tuning":`${Math.abs(t[2])} ${t[2]<0?"steps down":"steps up"}`,$,H,U=t[3]?"and dropped":"",W,J,Q,G,z,j,nt,tt,ht,pt,gt;function Tt(St){t[8](St)}let vt={label:"dropped"};t[3]!==void 0&&(vt.checked=t[3]),p=new R9({props:vt}),Me.push(()=>De(p,"checked",Tt));function Ot(St){t[9](St)}let ft={label:"octave"};return t[4]!==void 0&&(ft.checked=t[4]),v=new R9({props:ft}),Me.push(()=>De(v,"checked",Ot)),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("label"),u=oe(`strings
        `),d=K("input"),c=q(),f=K("label"),M=oe(`tune up/down (semitones)
        `),m=K("input"),A=q(),Ft(p.$$.fragment),E=q(),Ft(v.$$.fragment),x=q(),b=K("div"),O=K("p"),S=oe("You selected a "),R=oe(t[1]),I=oe(" string "),L=oe(P),k=oe(", tuned "),$=oe(N),H=q(),W=oe(U),J=q(),Q=K("p"),G=oe("Resulting tuning, low to high:"),z=K("br"),j=q(),nt=K("b"),tt=oe(t[5]),dt(d,"type","number"),dt(d,"min","4"),dt(d,"max","8"),dt(d,"step","1"),dt(m,"type","number"),dt(m,"min","-12"),dt(m,"max","12"),dt(m,"step","1")},m(St,Mt){Ct(St,e,Mt),B(e,i),B(i,r),B(e,s),B(e,l),B(l,u),B(l,d),Qi(d,t[1]),B(e,c),B(e,f),B(f,M),B(f,m),Qi(m,t[2]),B(e,A),kt(p,e,null),B(e,E),kt(v,e,null),B(e,x),B(e,b),B(b,O),B(O,S),B(O,R),B(O,I),B(O,L),B(O,k),B(O,$),B(O,H),B(O,W),B(b,J),B(b,Q),B(Q,G),B(Q,z),B(Q,j),B(Q,nt),B(nt,tt),ht=!0,pt||(gt=[Ue(d,"input",t[6]),Ue(m,"input",t[7])],pt=!0)},p(St,[Mt]){(!ht||Mt&1)&&a!==(a=St[0].title+"")&&Ge(r,a),Mt&2&&ur(d.value)!==St[1]&&Qi(d,St[1]),Mt&4&&ur(m.value)!==St[2]&&Qi(m,St[2]);const Pt={};!y&&Mt&8&&(y=!0,Pt.checked=St[3],Re(()=>y=!1)),p.$set(Pt);const Vt={};!w&&Mt&16&&(w=!0,Vt.checked=St[4],Re(()=>w=!1)),v.$set(Vt),(!ht||Mt&2)&&Ge(R,St[1]),(!ht||Mt&2)&&P!==(P=St[1]>=6?"guitar":"bass guitar")&&Ge(L,P),(!ht||Mt&4)&&N!==(N=St[2]===0?"in standard tuning":`${Math.abs(St[2])} ${St[2]<0?"steps down":"steps up"}`)&&Ge($,N),(!ht||Mt&8)&&U!==(U=St[3]?"and dropped":"")&&Ge(W,U),(!ht||Mt&32)&&Ge(tt,St[5])},i(St){ht||(Rt(p.$$.fragment,St),Rt(v.$$.fragment,St),ht=!0)},o(St){Dt(p.$$.fragment,St),Dt(v.$$.fragment,St),ht=!1},d(St){St&&bt(e),Nt(p),Nt(v),pt=!1,f9(gt)}}}function s0t(t,e,i){let a,{toolInfo:r}=e,s=6,l=0,u=!1,d=!0;const c=(p,y,E,v)=>{let x=hq.get(p>5?"Guitar":"Bass").get(p)[0].pitches.map(b=>b+y);return E&&(x[0]-=2),v?x=x.map(b=>Ps[b].label):x=x.map(b=>Ps[b].name),x.join(" ")};function f(){s=ur(this.value),i(1,s)}function M(){l=ur(this.value),i(2,l)}function m(p){u=p,i(3,u)}function A(p){d=p,i(4,d)}return t.$$set=p=>{"toolInfo"in p&&i(0,r=p.toolInfo)},t.$$.update=()=>{t.$$.dirty&30&&i(5,a=c(s,l,u,d))},[r,s,l,u,d,a,f,M,m,A]}class l0t extends Ki{constructor(e){super(),Wi(this,e,s0t,o0t,ji,{toolInfo:0})}}function bE(t,e,i){const a=t.slice();return a[5]=e[i],a}function CE(t){let e,i,a=t[5].timestamp.toFixed(1)+"",r,s,l,u=t[5].port.manufacturer+"",d,c,f,M=t[5].port.name+"",m,A,p,y=t[5].message.channel+"",E,v,w,x=t[5].message.command+"",b,O,S=t[5].message.type+"",R,I,P,L=t[5].message.dataBytes+"",k,N,$,H=(["noteon","noteoff"].includes(t[5].message.type)?Ga.fromMidiSharps(t[5].message.dataBytes[0]):"")+"",U,W,J,Q=(["noteon","noteoff"].includes(t[5].message.type)?t[5].message.dataBytes[1]:"")+"",G,z;return{c(){e=K("tr"),i=K("td"),r=oe(a),s=q(),l=K("td"),d=oe(u),c=q(),f=K("td"),m=oe(M),A=q(),p=K("td"),E=oe(y),v=q(),w=K("td"),b=oe(x),O=q(),R=oe(S),I=q(),P=K("td"),k=oe(L),N=q(),$=K("td"),U=oe(H),W=q(),J=K("td"),G=oe(Q),z=q(),dt(i,"class","svelte-1x83ix2"),dt(l,"class","svelte-1x83ix2"),dt(f,"class","svelte-1x83ix2"),dt(p,"class","svelte-1x83ix2"),dt(w,"class","svelte-1x83ix2"),dt(P,"class","svelte-1x83ix2"),dt($,"class","svelte-1x83ix2"),dt(J,"class","svelte-1x83ix2"),dt(e,"class","svelte-1x83ix2")},m(j,nt){Ct(j,e,nt),B(e,i),B(i,r),B(e,s),B(e,l),B(l,d),B(e,c),B(e,f),B(f,m),B(e,A),B(e,p),B(p,E),B(e,v),B(e,w),B(w,b),B(w,O),B(w,R),B(e,I),B(e,P),B(P,k),B(e,N),B(e,$),B($,U),B(e,W),B(e,J),B(J,G),B(e,z)},p(j,nt){nt&2&&a!==(a=j[5].timestamp.toFixed(1)+"")&&Ge(r,a),nt&2&&u!==(u=j[5].port.manufacturer+"")&&Ge(d,u),nt&2&&M!==(M=j[5].port.name+"")&&Ge(m,M),nt&2&&y!==(y=j[5].message.channel+"")&&Ge(E,y),nt&2&&x!==(x=j[5].message.command+"")&&Ge(b,x),nt&2&&S!==(S=j[5].message.type+"")&&Ge(R,S),nt&2&&L!==(L=j[5].message.dataBytes+"")&&Ge(k,L),nt&2&&H!==(H=(["noteon","noteoff"].includes(j[5].message.type)?Ga.fromMidiSharps(j[5].message.dataBytes[0]):"")+"")&&Ge(U,H),nt&2&&Q!==(Q=(["noteon","noteoff"].includes(j[5].message.type)?j[5].message.dataBytes[1]:"")+"")&&Ge(G,Q)},d(j){j&&bt(e)}}}function c0t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A=t[1].length+"",p,y,E,v,w,x,b,O,S,R,I,P,L=$e(t[1].slice(0,100)),k=[];for(let N=0;N<L.length;N+=1)k[N]=CE(bE(t,L,N));return S=new k9({props:{midiMessage:t[2]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent="Input anything on a MIDI device to see the incoming messages below.",u=q(),d=K("div"),c=K("button"),c.textContent="reset",f=q(),M=K("div"),m=K("p"),p=oe(A),y=oe(" messages received"),E=q(),v=K("table"),w=K("thead"),w.innerHTML='<tr class="svelte-1x83ix2"><th>timestamp</th> <th>manufacturer</th> <th>name</th> <th>channel</th> <th>command</th> <th>data</th> <th>note</th> <th>velocity</th></tr>',x=q(),b=K("tbody");for(let N=0;N<k.length;N+=1)k[N].c();O=q(),Ft(S.$$.fragment),dt(l,"class","explanation"),dt(c,"title","Clear all messages"),dt(d,"class","control"),dt(v,"class","svelte-1x83ix2"),dt(M,"class","visualization"),dt(e,"class","app")},m(N,$){Ct(N,e,$),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(e,f),B(e,M),B(M,m),B(m,p),B(m,y),B(M,E),B(M,v),B(v,w),B(v,x),B(v,b);for(let H=0;H<k.length;H+=1)k[H]&&k[H].m(b,null);B(e,O),kt(S,e,null),R=!0,I||(P=Ue(c,"click",t[3]),I=!0)},p(N,[$]){if((!R||$&1)&&a!==(a=N[0].title+"")&&Ge(r,a),(!R||$&2)&&A!==(A=N[1].length+"")&&Ge(p,A),$&2){L=$e(N[1].slice(0,100));let H;for(H=0;H<L.length;H+=1){const U=bE(N,L,H);k[H]?k[H].p(U,$):(k[H]=CE(U),k[H].c(),k[H].m(b,null))}for(;H<k.length;H+=1)k[H].d(1);k.length=L.length}},i(N){R||(Rt(S.$$.fragment,N),R=!0)},o(N){Dt(S.$$.fragment,N),R=!1},d(N){N&&bt(e),xi(k,N),Nt(S),I=!1,P()}}}function u0t(t,e,i){let{toolInfo:a}=e,r=[];const s=u=>{i(1,r=[u,...r])};c9(()=>{performance.now()});const l=()=>{i(1,r=[])};return t.$$set=u=>{"toolInfo"in u&&i(0,a=u.toolInfo)},[a,r,s,l]}class d0t extends Ki{constructor(e){super(),Wi(this,e,u0t,c0t,ji,{toolInfo:0})}}const X0={accent:"#daecfb",accentDark:"#cadae8",wrong:"crimson"},nd={noteColormap:Utt,noteColormapAccessible:$tt,noteColormapAccessible2:Gtt,newton:Htt,castel:Vtt,field:Qtt,jameson:ztt,seemann:Jtt,rimington:jtt,bishop:Wtt,helmholtz:Ktt,scriabin:Xtt,klein:Ytt,aeppli:qtt,belmont:Ztt,zieverink:tet};function EE(t,e,i){const a=t.slice();return a[2]=e[i],a}function _E(t,e,i){const a=t.slice();return a[5]=e[i],a[7]=i,a}function h0t(t,e,i){const a=t.slice();return a[8]=e[i],a}function f0t(t){let e;return{c(){e=K("th"),e.textContent=`${t[8]}`},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function wE(t){let e,i=t[5]+"",a;return{c(){e=K("td"),a=oe(i),dt(e,"title",M0[t[7]]),gn(e,"background-color",t[5]),gn(e,"color",Ntt(t[5])>50?"black":"white"),gn(e,"font-size","12px"),dt(e,"class","svelte-1xnq8ek")},m(r,s){Ct(r,e,s),B(e,a)},p:Ne,d(r){r&&bt(e)}}}function OE(t){let e,i,a,r,s=$e(t[2].colors),l=[];for(let u=0;u<s.length;u+=1)l[u]=wE(_E(t,s,u));return{c(){e=K("tr"),i=K("td"),i.textContent=`${t[2].name}`,a=q();for(let u=0;u<l.length;u+=1)l[u].c();r=q(),dt(i,"class","svelte-1xnq8ek"),dt(e,"class","svelte-1xnq8ek")},m(u,d){Ct(u,e,d),B(e,i),B(e,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);B(e,r)},p(u,d){if(d&2){s=$e(u[2].colors);let c;for(c=0;c<s.length;c+=1){const f=_E(u,s,c);l[c]?l[c].p(f,d):(l[c]=wE(f),l[c].c(),l[c].m(e,r))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},d(u){u&&bt(e),xi(l,u)}}}function m0t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E=$e(M0),v=[];for(let b=0;b<E.length;b+=1)v[b]=f0t(h0t(t,E,b));let w=$e(t[1]),x=[];for(let b=0;b<w.length;b+=1)x[b]=OE(EE(t,w,b));return{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`See <a href="https://github.com/fheyen/musicvis-lib/blob/905edbdc8280e8ca76a329ffc83a160f3cda674a/src/utils/NoteColorUtils.js" target="_blank">here</a>
        for literature references and color string arrays. Most schemes are found
        in:
        <i>Schmidt, Kathryn L. (2019) Meaningful Music Visualizations. Purdue
            University Graduate School. <a href="https://doi.org/10.25394/PGS.7498700.v1" target="_blank">DOI</a>
            (page 13)</i>`,u=q(),d=K("div"),c=K("table"),f=K("thead"),M=K("tr"),m=K("th"),m.textContent="name",A=q();for(let b=0;b<v.length;b+=1)v[b].c();p=q(),y=K("tbody");for(let b=0;b<x.length;b+=1)x[b].c();dt(l,"class","explanation"),dt(M,"class","svelte-1xnq8ek"),dt(c,"class","svelte-1xnq8ek"),dt(d,"class","visualization"),dt(e,"class","app")},m(b,O){Ct(b,e,O),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(c,f),B(f,M),B(M,m),B(M,A);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(M,null);B(c,p),B(c,y);for(let S=0;S<x.length;S+=1)x[S]&&x[S].m(y,null)},p(b,[O]){if(O&1&&a!==(a=b[0].title+"")&&Ge(r,a),O&2){w=$e(b[1]);let S;for(S=0;S<w.length;S+=1){const R=EE(b,w,S);x[S]?x[S].p(R,O):(x[S]=OE(R),x[S].c(),x[S].m(y,null))}for(;S<x.length;S+=1)x[S].d(1);x.length=w.length}},i:Ne,o:Ne,d(b){b&&bt(e),xi(v,b),xi(x,b)}}}function p0t(t,e,i){let{toolInfo:a}=e;const r=[];for(const s in nd)nd.hasOwnProperty(s)&&r.push({name:s,colors:nd[s].map(l=>Tl(l).formatHex())});return t.$$set=s=>{"toolInfo"in s&&i(0,a=s.toolInfo)},[a,r]}class g0t extends Ki{constructor(e){super(),Wi(this,e,p0t,m0t,ji,{toolInfo:0})}}function M0t(t,e,i){const a=t.slice();return a[18]=e[i],a}function A0t(t){let e;return{c(){e=K("option"),e.textContent=`${t[18]}`,e.__value=t[18],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function y0t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N;function $(J){t[10](J)}let H={label:"ignore octave",title:"If active, only the note's chroma will be considered which reduces the y axis to the twelve notes"};t[4]!==void 0&&(H.checked=t[4]),c=new R9({props:H}),Me.push(()=>De(c,"checked",$));let U=$e(["velocity","piano","channel","none"]),W=[];for(let J=0;J<4;J+=1)W[J]=A0t(M0t(t,U,J));return P=new k9({props:{noteOn:t[7],noteOff:t[8],controlChange:t[9]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`The piano roll below shows incoming MIDI notes as rectangles with their
        pitch (y position) and start and end times (x left and right side of the
        rectangle). The color encodes the MIDI velocity, which tells how
        hard/loud a note was played.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),m=K("label"),A=oe(`color
            `),p=K("select");for(let J=0;J<4;J+=1)W[J].c();y=q(),E=K("label"),v=oe(`time
            `),w=K("input"),x=q(),b=K("div"),O=q(),S=K("div"),R=K("button"),R.textContent="reset",I=q(),Ft(P.$$.fragment),dt(l,"class","explanation"),t[3]===void 0&&Zr(()=>t[11].call(p)),dt(w,"type","number"),dt(w,"min","10"),dt(w,"max","300"),dt(w,"step","10"),dt(E,"title","time in seconds for past notes to be shown"),dt(d,"class","control"),dt(b,"class","visualization"),dt(R,"title","Clear all played notes"),dt(S,"class","control"),dt(e,"class","app")},m(J,Q){Ct(J,e,Q),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),B(d,m),B(m,A),B(m,p);for(let G=0;G<4;G+=1)W[G]&&W[G].m(p,null);wa(p,t[3],!0),B(d,y),B(d,E),B(E,v),B(E,w),Qi(w,t[2]),B(e,x),B(e,b),t[13](b),B(e,O),B(e,S),B(S,R),B(e,I),kt(P,e,null),L=!0,k||(N=[Ue(p,"change",t[11]),Ue(w,"input",t[12]),Ue(R,"click",t[14])],k=!0)},p(J,[Q]){(!L||Q&1)&&a!==(a=J[0].title+"")&&Ge(r,a);const G={};!f&&Q&16&&(f=!0,G.checked=J[4],Re(()=>f=!1)),c.$set(G),Q&8&&wa(p,J[3]),Q&4&&ur(w.value)!==J[2]&&Qi(w,J[2])},i(J){L||(Rt(c.$$.fragment,J),Rt(P.$$.fragment,J),L=!0)},o(J){Dt(c.$$.fragment,J),Dt(P.$$.fragment,J),L=!1},d(J){J&&bt(e),Nt(c),xi(W,J),t[13](null),Nt(P),k=!1,f9(N)}}}let v0t=900,b0t=500;function C0t(t,e,i){let{toolInfo:a}=e,r,s=30,l="velocity",u=!0,d=0,c=[];const f=new Map;let M=null;const m=O=>{const S=(O.timestamp-d)/1e3,R={number:O.note.number,velocity:O.rawVelocity,time:S,channel:O.message.channel};if(f.has(O.note.number)){const I=f.get(O.note.number);I.end===void 0&&(I.end=S)}c.push(R),f.set(O.note.number,R)},A=O=>{if(f.has(O.note.number)){const S=f.get(O.note.number),R=(O.timestamp-d)/1e3;S.end=R}},p=O=>{i(2,s=O.value*55+5)},y=()=>{const O=(performance.now()-d)/1e3,S=O-s,R=c.filter(N=>N.end>S||N.end===void 0),I=u?[0,11]:Oa(R,N=>N.number);let P,L;l==="velocity"?(P={label:"Note velocity",scheme:"blues",domain:[0,127]},L="velocity"):l==="piano"?(P={label:"Piano key color",domain:["black","white"],range:["black","#f8f8f8"]},L=N=>ul(N.number)?"black":"white"):l==="channel"?(P={type:"categorical",label:"MIDI channel",scheme:"tableau10"},L=N=>N.channel):l==="none"&&(L="#ddd");const k=Bn({insetRight:10,width:v0t,height:b0t,marginBottom:40,padding:0,x:{label:"Time in seconds",domain:[S,O]},y:{label:"MIDI Pitch",grid:!0,reverse:!0,domain:Ei(I[0]-1,I[1]+2),tickFormat:u?N=>{var $;return(($=Ps[N])==null?void 0:$.name)??""}:N=>{var $;return(($=Ps[N])==null?void 0:$.label)??""}},color:{...P,legend:l!=="none",marginLeft:100,width:300},marks:[H9(net(I[0]-1,I[1]+2)),Ar([O],{stroke:"#888"}),MP(R,{clip:!0,x1:"time",x2:N=>N.end===void 0?O:Math.max(N.end,N.time+.025),y:u?N=>N.number%12:N=>N.number,fill:L,stroke:"#ccc",rx:5})]});i(1,r.textContent="",r),r.appendChild(k),M=requestAnimationFrame(y)};c9(()=>{i(5,d=performance.now()),M=requestAnimationFrame(y)}),r9(()=>{cancelAnimationFrame(M)});function E(O){u=O,i(4,u)}function v(){l=eo(this),i(3,l)}function w(){s=ur(this.value),i(2,s)}function x(O){Me[O?"unshift":"push"](()=>{r=O,i(1,r)})}const b=()=>{confirm("Reset played notes?")&&(i(6,c=[]),i(5,d=performance.now()))};return t.$$set=O=>{"toolInfo"in O&&i(0,a=O.toolInfo)},[a,r,s,l,u,d,c,m,A,p,E,v,w,x,b]}class E0t extends Ki{constructor(e){super(),Wi(this,e,C0t,y0t,ji,{toolInfo:0})}}function n0(t){if(this.size=t|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(this.size*2),i=0;i<e.length;i+=2){const d=Math.PI*i/this.size;e[i]=Math.cos(d),e[i+1]=-Math.sin(d)}this.table=e;for(var a=0,r=1;this.size>r;r<<=1)a++;this._width=a%2===0?a-1:a,this._bitrev=new Array(1<<this._width);for(var s=0;s<this._bitrev.length;s++){this._bitrev[s]=0;for(var l=0;l<this._width;l+=2){var u=this._width-l-2;this._bitrev[s]|=(s>>>l&3)<<u}}this._out=null,this._data=null,this._inv=0}var _0t=n0;n0.prototype.fromComplexArray=function(e,i){for(var a=i||new Array(e.length>>>1),r=0;r<e.length;r+=2)a[r>>>1]=e[r];return a};n0.prototype.createComplexArray=function(){const e=new Array(this._csize);for(var i=0;i<e.length;i++)e[i]=0;return e};n0.prototype.toComplexArray=function(e,i){for(var a=i||this.createComplexArray(),r=0;r<a.length;r+=2)a[r]=e[r>>>1],a[r+1]=0;return a};n0.prototype.completeSpectrum=function(e){for(var i=this._csize,a=i>>>1,r=2;r<a;r+=2)e[i-r]=e[r],e[i-r+1]=-e[r+1]};n0.prototype.transform=function(e,i){if(e===i)throw new Error("Input and output buffers must be different");this._out=e,this._data=i,this._inv=0,this._transform4(),this._out=null,this._data=null};n0.prototype.realTransform=function(e,i){if(e===i)throw new Error("Input and output buffers must be different");this._out=e,this._data=i,this._inv=0,this._realTransform4(),this._out=null,this._data=null};n0.prototype.inverseTransform=function(e,i){if(e===i)throw new Error("Input and output buffers must be different");this._out=e,this._data=i,this._inv=1,this._transform4();for(var a=0;a<e.length;a++)e[a]/=this.size;this._out=null,this._data=null};n0.prototype._transform4=function(){var e=this._out,i=this._csize,a=this._width,r=1<<a,s=i/r<<1,l,u,d=this._bitrev;if(s===4)for(l=0,u=0;l<i;l+=s,u++){const y=d[u];this._singleTransform2(l,y,r)}else for(l=0,u=0;l<i;l+=s,u++){const y=d[u];this._singleTransform4(l,y,r)}var c=this._inv?-1:1,f=this.table;for(r>>=2;r>=2;r>>=2){s=i/r<<1;var M=s>>>2;for(l=0;l<i;l+=s)for(var m=l+M,A=l,p=0;A<m;A+=2,p+=r){const y=A,E=y+M,v=E+M,w=v+M,x=e[y],b=e[y+1],O=e[E],S=e[E+1],R=e[v],I=e[v+1],P=e[w],L=e[w+1],k=x,N=b,$=f[p],H=c*f[p+1],U=O*$-S*H,W=O*H+S*$,J=f[2*p],Q=c*f[2*p+1],G=R*J-I*Q,z=R*Q+I*J,j=f[3*p],nt=c*f[3*p+1],tt=P*j-L*nt,ht=P*nt+L*j,pt=k+G,gt=N+z,Tt=k-G,vt=N-z,Ot=U+tt,ft=W+ht,St=c*(U-tt),Mt=c*(W-ht),Pt=pt+Ot,Vt=gt+ft,ie=pt-Ot,jt=gt-ft,Wt=Tt+Mt,me=vt-St,Yt=Tt-Mt,pe=vt+St;e[y]=Pt,e[y+1]=Vt,e[E]=Wt,e[E+1]=me,e[v]=ie,e[v+1]=jt,e[w]=Yt,e[w+1]=pe}}};n0.prototype._singleTransform2=function(e,i,a){const r=this._out,s=this._data,l=s[i],u=s[i+1],d=s[i+a],c=s[i+a+1],f=l+d,M=u+c,m=l-d,A=u-c;r[e]=f,r[e+1]=M,r[e+2]=m,r[e+3]=A};n0.prototype._singleTransform4=function(e,i,a){const r=this._out,s=this._data,l=this._inv?-1:1,u=a*2,d=a*3,c=s[i],f=s[i+1],M=s[i+a],m=s[i+a+1],A=s[i+u],p=s[i+u+1],y=s[i+d],E=s[i+d+1],v=c+A,w=f+p,x=c-A,b=f-p,O=M+y,S=m+E,R=l*(M-y),I=l*(m-E),P=v+O,L=w+S,k=x+I,N=b-R,$=v-O,H=w-S,U=x-I,W=b+R;r[e]=P,r[e+1]=L,r[e+2]=k,r[e+3]=N,r[e+4]=$,r[e+5]=H,r[e+6]=U,r[e+7]=W};n0.prototype._realTransform4=function(){var e=this._out,i=this._csize,a=this._width,r=1<<a,s=i/r<<1,l,u,d=this._bitrev;if(s===4)for(l=0,u=0;l<i;l+=s,u++){const xt=d[u];this._singleRealTransform2(l,xt>>>1,r>>>1)}else for(l=0,u=0;l<i;l+=s,u++){const xt=d[u];this._singleRealTransform4(l,xt>>>1,r>>>1)}var c=this._inv?-1:1,f=this.table;for(r>>=2;r>=2;r>>=2){s=i/r<<1;var M=s>>>1,m=M>>>1,A=m>>>1;for(l=0;l<i;l+=s)for(var p=0,y=0;p<=A;p+=2,y+=r){var E=l+p,v=E+m,w=v+m,x=w+m,b=e[E],O=e[E+1],S=e[v],R=e[v+1],I=e[w],P=e[w+1],L=e[x],k=e[x+1],N=b,$=O,H=f[y],U=c*f[y+1],W=S*H-R*U,J=S*U+R*H,Q=f[2*y],G=c*f[2*y+1],z=I*Q-P*G,j=I*G+P*Q,nt=f[3*y],tt=c*f[3*y+1],ht=L*nt-k*tt,pt=L*tt+k*nt,gt=N+z,Tt=$+j,vt=N-z,Ot=$-j,ft=W+ht,St=J+pt,Mt=c*(W-ht),Pt=c*(J-pt),Vt=gt+ft,ie=Tt+St,jt=vt+Pt,Wt=Ot-Mt;if(e[E]=Vt,e[E+1]=ie,e[v]=jt,e[v+1]=Wt,p===0){var me=gt-ft,Yt=Tt-St;e[w]=me,e[w+1]=Yt;continue}if(p!==A){var pe=vt,Qe=-Ot,ni=gt,ei=-Tt,Ci=-c*Pt,ai=-c*Mt,ti=-c*St,be=-c*ft,ye=pe+Ci,ne=Qe+ai,Et=ni+be,yt=ei-ti,Ht=l+m-p,wt=l+M-p;e[Ht]=ye,e[Ht+1]=ne,e[wt]=Et,e[wt+1]=yt}}}};n0.prototype._singleRealTransform2=function(e,i,a){const r=this._out,s=this._data,l=s[i],u=s[i+a],d=l+u,c=l-u;r[e]=d,r[e+1]=0,r[e+2]=c,r[e+3]=0};n0.prototype._singleRealTransform4=function(e,i,a){const r=this._out,s=this._data,l=this._inv?-1:1,u=a*2,d=a*3,c=s[i],f=s[i+a],M=s[i+u],m=s[i+d],A=c+M,p=c-M,y=f+m,E=l*(f-m),v=A+y,w=p,x=-E,b=A-y,O=p,S=E;r[e]=v,r[e+1]=0,r[e+2]=w,r[e+3]=x,r[e+4]=b,r[e+5]=0,r[e+6]=O,r[e+7]=S};const w0t=wg(_0t);class Af{constructor(e,i){xn(this,"_inputLength");xn(this,"_fft");xn(this,"_bufferSupplier");xn(this,"_paddedInputBuffer");xn(this,"_transformBuffer");xn(this,"_inverseBuffer");if(e<1)throw new Error("Input length must be at least one");this._inputLength=e,this._fft=new w0t(S0t(2*e)),this._bufferSupplier=i,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}static forFloat32Array(e){return new Af(e,i=>new Float32Array(i))}static forFloat64Array(e){return new Af(e,i=>new Float64Array(i))}static forNumberArray(e){return new Af(e,i=>Array(i))}get inputLength(){return this._inputLength}autocorrelate(e,i=this._bufferSupplier(e.length)){if(e.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${e.length}`);for(let r=0;r<e.length;r++)this._paddedInputBuffer[r]=e[r];for(let r=e.length;r<this._paddedInputBuffer.length;r++)this._paddedInputBuffer[r]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const a=this._transformBuffer;for(let r=0;r<a.length;r+=2)a[r]=a[r]*a[r]+a[r+1]*a[r+1],a[r+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let r=0;r<e.length;r++)i[r]=this._inverseBuffer[2*r];return i}}function O0t(t){const e=[];let i=!1,a=-1/0,r=-1;for(let s=1;s<t.length-1;s++)t[s-1]<=0&&t[s]>0?(i=!0,r=s,a=t[s]):t[s-1]>0&&t[s]<=0?(i=!1,r!==-1&&e.push(r)):i&&t[s]>a&&(a=t[s],r=s);return e}function x0t(t,e){const[i,a,r]=[t-1,t,t+1],[s,l,u]=[e[i],e[a],e[r]],d=s/2-l+u/2,c=-(s/2)*(a+r)+l*(i+r)-u/2*(i+a),f=s*a*r/2-l*i*r+u*i*a/2,M=-c/(2*d),m=d*M*M+c*M+f;return[M,m]}class _l{constructor(e,i){xn(this,"_autocorrelator");xn(this,"_nsdfBuffer");xn(this,"_clarityThreshold",.9);xn(this,"_minVolumeAbsolute",0);xn(this,"_maxInputAmplitude",1);this._autocorrelator=new Af(e,i),this._nsdfBuffer=i(e)}static forFloat32Array(e){return new _l(e,i=>new Float32Array(i))}static forFloat64Array(e){return new _l(e,i=>new Float64Array(i))}static forNumberArray(e){return new _l(e,i=>Array(i))}get inputLength(){return this._autocorrelator.inputLength}set clarityThreshold(e){if(!Number.isFinite(e)||e<=0||e>1)throw new Error("clarityThreshold must be a number in the range (0, 1]");this._clarityThreshold=e}set minVolumeAbsolute(e){if(!Number.isFinite(e)||e<0||e>this._maxInputAmplitude)throw new Error(`minVolumeAbsolute must be a number in the range [0, ${this._maxInputAmplitude}]`);this._minVolumeAbsolute=e}set minVolumeDecibels(e){if(!Number.isFinite(e)||e>0)throw new Error("minVolumeDecibels must be a number <= 0");this._minVolumeAbsolute=this._maxInputAmplitude*10**(e/10)}set maxInputAmplitude(e){if(!Number.isFinite(e)||e<=0)throw new Error("maxInputAmplitude must be a number > 0");this._maxInputAmplitude=e}findPitch(e,i){if(this._belowMinimumVolume(e))return[0,0];this._nsdf(e);const a=O0t(this._nsdfBuffer);if(a.length===0)return[0,0];const r=Math.max(...a.map(d=>this._nsdfBuffer[d])),s=a.find(d=>this._nsdfBuffer[d]>=this._clarityThreshold*r),[l,u]=x0t(s,this._nsdfBuffer);return[i/l,Math.min(u,1)]}_belowMinimumVolume(e){if(this._minVolumeAbsolute===0)return!1;let i=0;for(let a=0;a<e.length;a++)i+=e[a]**2;return Math.sqrt(i/e.length)<this._minVolumeAbsolute}_nsdf(e){this._autocorrelator.autocorrelate(e,this._nsdfBuffer);let i=2*this._nsdfBuffer[0],a;for(a=0;a<this._nsdfBuffer.length&&i>0;a++)this._nsdfBuffer[a]=2*this._nsdfBuffer[a]/i,i-=e[a]**2+e[e.length-a-1]**2;for(;a<this._nsdfBuffer.length;a++)this._nsdfBuffer[a]=0}}function S0t(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}function T0t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A=t[2].toFixed(1)+"",p,y,E,v,w,x=(t[3]*100).toFixed()+"",b,O,S,R,I,P,L,k,N;return{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`Allow microphone access and make a sound, the detected pitch will be
        displayed below together with the closest note and the offset from this
        notes in cents.`,u=q(),d=K("div"),c=q(),f=K("div"),M=K("div"),m=oe("frequency: "),p=oe(A),y=oe(" Hz"),E=q(),v=K("div"),w=oe("clarity: "),b=oe(x),O=oe(" %"),S=q(),R=K("div"),I=oe("note: "),P=K("b"),L=oe(t[4]),k=q(),N=K("div"),dt(l,"class","explanation"),dt(d,"class","control"),dt(N,"class","visualization"),dt(e,"class","app")},m($,H){Ct($,e,H),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(e,c),B(e,f),B(f,M),B(M,m),B(M,p),B(M,y),B(f,E),B(f,v),B(v,w),B(v,b),B(v,O),B(f,S),B(f,R),B(R,I),B(R,P),B(P,L),B(e,k),B(e,N),t[5](N)},p($,[H]){H&1&&a!==(a=$[0].title+"")&&Ge(r,a),H&4&&A!==(A=$[2].toFixed(1)+"")&&Ge(p,A),H&8&&x!==(x=($[3]*100).toFixed()+"")&&Ge(b,x),H&16&&Ge(L,$[4])},i:Ne,o:Ne,d($){$&&bt(e),t[5](null)}}}let I0t=900,B0t=300;function R0t(t,e,i){let{toolInfo:a}=e,r,s,l,u,d=-20,c=0,f=0,M="",m=0,A=0,p=[];function y(w,x,b,O){w.getFloatTimeDomainData(b);const S=x.findPitch(b,O);i(2,c=S[0]),i(3,f=S[1]),i(4,M=Ga.fromFreq(c)),m=Ga.midi(M),A=(Ff.freqToMidi(c)-m)*100,p=[...p.slice(-50),A],E(),u=requestAnimationFrame(()=>y(w,x,b,O))}const E=()=>{i(1,r.textContent="",r);const w=Bn({width:I0t,height:B0t,marginLeft:40,x:{label:"offset in cents",domain:[-50,50]},y:{reverse:!0,ticks:[]},marks:[Ar([-50,0,50],{stroke:"#ddd"}),Mr(p,{stroke:"#333",x:x=>x,y:(x,b)=>b})]});r.appendChild(w)};c9(()=>{s=new window.AudioContext,l=s.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(w=>{s.createMediaStreamSource(w).connect(l);const x=_l.forFloat32Array(l.fftSize);x.minVolumeDecibels=d;const b=new Float32Array(x.inputLength);y(l,x,b,s.sampleRate)})}),r9(()=>{cancelAnimationFrame(u)});function v(w){Me[w?"unshift":"push"](()=>{r=w,i(1,r)})}return t.$$set=w=>{"toolInfo"in w&&i(0,a=w.toolInfo)},[a,r,c,f,M,v]}class D0t extends Ki{constructor(e){super(),Wi(this,e,R0t,T0t,ji,{toolInfo:0})}}function xE(t,e,i){const a=t.slice();return a[15]=e[i],a}function SE(t,e,i){const a=t.slice();return a[18]=e[i],a}function TE(t,e,i){const a=t.slice();return a[21]=e[i],a}function IE(t,e,i){const a=t.slice();return a[24]=e[i],a}function BE(t,e,i){const a=t.slice();return a[27]=e[i],a}function RE(t){let e,i=t[27]+"",a;return{c(){e=K("option"),a=oe(i),e.__value=t[27],Qi(e,e.__value)},m(r,s){Ct(r,e,s),B(e,a)},p:Ne,d(r){r&&bt(e)}}}function DE(t){let e,i=t[24]+"",a;return{c(){e=K("option"),a=oe(i),e.__value=t[24],Qi(e,e.__value)},m(r,s){Ct(r,e,s),B(e,a)},p:Ne,d(r){r&&bt(e)}}}function PE(t){let e,i,a,r=t[21].name+"",s,l,u=t[21].notes.join(" ")+"",d,c,f=[...So(t[3].notes,t[21].notes)].join(" ")+"",M,m,A,p;function y(){return t[12](t[21])}return{c(){e=K("div"),i=K("button"),i.textContent="show",a=q(),s=oe(r),l=oe(`:
                `),d=oe(u),c=oe(`
                (no `),M=oe(f),m=oe(")")},m(E,v){Ct(E,e,v),B(e,i),B(e,a),B(e,s),B(e,l),B(e,d),B(e,c),B(e,M),B(e,m),A||(p=Ue(i,"click",y),A=!0)},p(E,v){t=E,v&128&&r!==(r=t[21].name+"")&&Ge(s,r),v&128&&u!==(u=t[21].notes.join(" ")+"")&&Ge(d,u),v&136&&f!==(f=[...So(t[3].notes,t[21].notes)].join(" ")+"")&&Ge(M,f)},d(E){E&&bt(e),A=!1,p()}}}function LE(t){let e,i,a,r=t[18].name+"",s,l,u=t[18].notes.join(" ")+"",d,c,f=[...So(t[18].notes,t[3].notes)].join(" ")+"",M,m,A,p;function y(){return t[13](t[18])}return{c(){e=K("div"),i=K("button"),i.textContent="show",a=q(),s=oe(r),l=oe(`:
                `),d=oe(u),c=oe(`
                (adds `),M=oe(f),m=oe(")")},m(E,v){Ct(E,e,v),B(e,i),B(e,a),B(e,s),B(e,l),B(e,d),B(e,c),B(e,M),B(e,m),A||(p=Ue(i,"click",y),A=!0)},p(E,v){t=E,v&64&&r!==(r=t[18].name+"")&&Ge(s,r),v&64&&u!==(u=t[18].notes.join(" ")+"")&&Ge(d,u),v&72&&f!==(f=[...So(t[18].notes,t[3].notes)].join(" ")+"")&&Ge(M,f)},d(E){E&&bt(e),A=!1,p()}}}function kE(t){let e,i,a,r=t[15]+"",s,l,u=Nf.get(`${t[1]} ${t[15]}`).notes.join(" ")+"",d,c;return{c(){e=K("div"),i=oe(t[1]),a=q(),s=oe(r),l=oe(`:
                `),d=oe(u),c=q()},m(f,M){Ct(f,e,M),B(e,i),B(e,a),B(e,s),B(e,l),B(e,d),B(e,c)},p(f,M){M&2&&Ge(i,f[1]),M&32&&r!==(r=f[15]+"")&&Ge(s,r),M&34&&u!==(u=Nf.get(`${f[1]} ${f[15]}`).notes.join(" ")+"")&&Ge(d,u)},d(f){f&&bt(e)}}}function P0t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w=t[3].name+"",x,b,O,S,R=t[3].notes.join(" ")+"",I,P,L,k,N,$,H,U,W,J,Q,G,z=$e(t[8]),j=[];for(let ft=0;ft<z.length;ft+=1)j[ft]=RE(BE(t,z,ft));let nt=$e(t[9]),tt=[];for(let ft=0;ft<nt.length;ft+=1)tt[ft]=DE(IE(t,nt,ft));let ht=$e(t[7]),pt=[];for(let ft=0;ft<ht.length;ft+=1)pt[ft]=PE(TE(t,ht,ft));let gt=$e(t[6]),Tt=[];for(let ft=0;ft<gt.length;ft+=1)Tt[ft]=LE(SE(t,gt,ft));let vt=$e(t[5]),Ot=[];for(let ft=0;ft<vt.length;ft+=1)Ot[ft]=kE(xE(t,vt,ft));return{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`Select a root note and scale and see how this scale relates to others.
        This tool is mainly a graphical interface for <a href="https://github.com/tonaljs/tonal/tree/main/packages/scale" target="_blank">tonaljs.</a>`,u=q(),d=K("div"),c=K("label"),f=oe(`scale
            `),M=K("select");for(let ft=0;ft<j.length;ft+=1)j[ft].c();m=q(),A=K("select");for(let ft=0;ft<tt.length;ft+=1)tt[ft].c();p=q(),y=K("div"),E=K("h2"),v=oe("current scale: "),x=oe(w),b=q(),O=K("h3"),O.textContent="notes",S=q(),I=oe(R),P=q(),L=K("h3"),L.textContent="scales that are subsets",k=q();for(let ft=0;ft<pt.length;ft+=1)pt[ft].c();N=q(),$=K("h3"),$.textContent="scales that are supersets",H=q();for(let ft=0;ft<Tt.length;ft+=1)Tt[ft].c();U=q(),W=K("h3"),W.textContent="chords",J=q();for(let ft=0;ft<Ot.length;ft+=1)Ot[ft].c();dt(l,"class","explanation"),t[1]===void 0&&Zr(()=>t[10].call(M)),t[2]===void 0&&Zr(()=>t[11].call(A)),dt(d,"class","control"),dt(y,"class","visualization"),dt(e,"class","app")},m(ft,St){Ct(ft,e,St),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(c,f),B(c,M);for(let Mt=0;Mt<j.length;Mt+=1)j[Mt]&&j[Mt].m(M,null);wa(M,t[1],!0),B(c,m),B(c,A);for(let Mt=0;Mt<tt.length;Mt+=1)tt[Mt]&&tt[Mt].m(A,null);wa(A,t[2],!0),B(e,p),B(e,y),B(y,E),B(E,v),B(E,x),B(y,b),B(y,O),B(y,S),B(y,I),B(y,P),B(y,L),B(y,k);for(let Mt=0;Mt<pt.length;Mt+=1)pt[Mt]&&pt[Mt].m(y,null);B(y,N),B(y,$),B(y,H);for(let Mt=0;Mt<Tt.length;Mt+=1)Tt[Mt]&&Tt[Mt].m(y,null);B(y,U),B(y,W),B(y,J);for(let Mt=0;Mt<Ot.length;Mt+=1)Ot[Mt]&&Ot[Mt].m(y,null);t[14](y),Q||(G=[Ue(M,"change",t[10]),Ue(A,"change",t[11])],Q=!0)},p(ft,[St]){if(St&1&&a!==(a=ft[0].title+"")&&Ge(r,a),St&256){z=$e(ft[8]);let Mt;for(Mt=0;Mt<z.length;Mt+=1){const Pt=BE(ft,z,Mt);j[Mt]?j[Mt].p(Pt,St):(j[Mt]=RE(Pt),j[Mt].c(),j[Mt].m(M,null))}for(;Mt<j.length;Mt+=1)j[Mt].d(1);j.length=z.length}if(St&258&&wa(M,ft[1]),St&512){nt=$e(ft[9]);let Mt;for(Mt=0;Mt<nt.length;Mt+=1){const Pt=IE(ft,nt,Mt);tt[Mt]?tt[Mt].p(Pt,St):(tt[Mt]=DE(Pt),tt[Mt].c(),tt[Mt].m(A,null))}for(;Mt<tt.length;Mt+=1)tt[Mt].d(1);tt.length=nt.length}if(St&516&&wa(A,ft[2]),St&8&&w!==(w=ft[3].name+"")&&Ge(x,w),St&8&&R!==(R=ft[3].notes.join(" ")+"")&&Ge(I,R),St&140){ht=$e(ft[7]);let Mt;for(Mt=0;Mt<ht.length;Mt+=1){const Pt=TE(ft,ht,Mt);pt[Mt]?pt[Mt].p(Pt,St):(pt[Mt]=PE(Pt),pt[Mt].c(),pt[Mt].m(y,N))}for(;Mt<pt.length;Mt+=1)pt[Mt].d(1);pt.length=ht.length}if(St&76){gt=$e(ft[6]);let Mt;for(Mt=0;Mt<gt.length;Mt+=1){const Pt=SE(ft,gt,Mt);Tt[Mt]?Tt[Mt].p(Pt,St):(Tt[Mt]=LE(Pt),Tt[Mt].c(),Tt[Mt].m(y,U))}for(;Mt<Tt.length;Mt+=1)Tt[Mt].d(1);Tt.length=gt.length}if(St&34){vt=$e(ft[5]);let Mt;for(Mt=0;Mt<vt.length;Mt+=1){const Pt=xE(ft,vt,Mt);Ot[Mt]?Ot[Mt].p(Pt,St):(Ot[Mt]=kE(Pt),Ot[Mt].c(),Ot[Mt].m(y,null))}for(;Mt<Ot.length;Mt+=1)Ot[Mt].d(1);Ot.length=vt.length}},i:Ne,o:Ne,d(ft){ft&&bt(e),xi(j,ft),xi(tt,ft),xi(pt,ft),xi(Tt,ft),xi(Ot,ft),t[14](null),Q=!1,f9(G)}}}function L0t(t,e,i){let a,r,s,l,{toolInfo:u}=e,d,c="A",f="minor";const M=Ag,m=sr.names().sort();function A(){c=eo(this),i(1,c),i(8,M)}function p(){f=eo(this),i(2,f),i(9,m)}const y=w=>i(2,f=w.type),E=w=>i(2,f=w.type);function v(w){Me[w?"unshift":"push"](()=>{d=w,i(4,d)})}return t.$$set=w=>{"toolInfo"in w&&i(0,u=w.toolInfo)},t.$$.update=()=>{t.$$.dirty&6&&i(3,a=sr.get(`${c} ${f}`)),t.$$.dirty&10&&i(7,r=sr.reduced(a.name).map(w=>sr.get(`${c} ${w}`))),t.$$.dirty&10&&i(6,s=sr.extended(a.name).map(w=>sr.get(`${c} ${w}`))),t.$$.dirty&6&&i(5,l=sr.scaleChords(`${c} ${f}`))},[u,c,f,a,d,l,s,r,M,m,A,p,y,E,v]}class k0t extends Ki{constructor(e){super(),Wi(this,e,L0t,P0t,ji,{toolInfo:0})}}var xP={exports:{}};(function(t,e){(function(i,a){a()})($h,function(){function i(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function a(c,f,M){var m=new XMLHttpRequest;m.open("GET",c),m.responseType="blob",m.onload=function(){d(m.response,f,M)},m.onerror=function(){console.error("could not download file")},m.send()}function r(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $h=="object"&&$h.global===$h?$h:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(c,f,M){var m=l.URL||l.webkitURL,A=document.createElement("a");f=f||c.name||"download",A.download=f,A.rel="noopener",typeof c=="string"?(A.href=c,A.origin===location.origin?s(A):r(A.href)?a(c,f,M):s(A,A.target="_blank")):(A.href=m.createObjectURL(c),setTimeout(function(){m.revokeObjectURL(A.href)},4e4),setTimeout(function(){s(A)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,M){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(i(c,M),f);else if(r(c))a(c,f,M);else{var m=document.createElement("a");m.href=c,m.target="_blank",setTimeout(function(){s(m)})}}:function(c,f,M,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof c=="string")return a(c,f,M);var A=c.type==="application/octet-stream",p=/constructor/i.test(l.HTMLElement)||l.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||A&&p||u)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var x=E.result;x=y?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=x:location=x,m=null},E.readAsDataURL(c)}else{var v=l.URL||l.webkitURL,w=v.createObjectURL(c);m?m.location=w:location.href=w,m=null,setTimeout(function(){v.revokeObjectURL(w)},4e4)}});l.saveAs=d.saveAs=d,t.exports=d})})(xP);var N0t=xP.exports;const SP=wg(N0t);function yf(t,e){return e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e}function F0t(t,e){return typeof e=="object"&&e!==null&&e.dataType==="Map"?new Map(e.value):e}async function TP(t){const e=await t.text();return JSON.parse(e,F0t)}function IP(t,e){e._appId=t,e._softwareVersion=u4,e._date=new Date().toISOString();const i=JSON.stringify(e,yf,2),a=new Blob([i],{type:"text/plain;charset=utf-8"});SP(a,`${t}.json`)}function U0t(t,e,i){const a=t.slice();return a[18]=e[i],a}function NE(t,e,i){const a=t.slice();return a[21]=e[i],a}function FE(t){let e,i=t[21]+"",a;return{c(){e=K("option"),a=oe(i),e.__value=t[21],Qi(e,e.__value)},m(r,s){Ct(r,e,s),B(e,a)},p:Ne,d(r){r&&bt(e)}}}function $0t(t){let e;return{c(){e=K("option"),e.textContent=`${t[18]}`,e.__value=t[18],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function G0t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k=$e(t[6]),N=[];for(let J=0;J<k.length;J+=1)N[J]=FE(NE(t,k,J));let $=$e(["default","name","notes","number of notes"]),H=[];for(let J=0;J<4;J+=1)H[J]=$0t(U0t(t,$,J));function U(J){t[13](J)}let W={label:"colors",title:"Use dotted notes? If not, the closest non-dotted note will be taken.",callback:t[8]};return t[5]!==void 0&&(W.checked=t[5]),v=new R9({props:W}),Me.push(()=>De(v,"checked",U)),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`Select a root note and see all scales with this root and their notes.
        Using <a href="https://github.com/tonaljs/tonal/tree/main/packages/scale" target="_blank">tonaljs.</a>`,u=q(),d=K("div"),c=K("label"),f=oe(`scale
            `),M=K("select");for(let J=0;J<N.length;J+=1)N[J].c();m=q(),A=K("label"),p=oe(`ordering
            `),y=K("select");for(let J=0;J<4;J+=1)H[J].c();E=q(),Ft(v.$$.fragment),x=q(),b=K("div"),O=K("canvas"),S=q(),R=K("button"),R.textContent="export JSON",dt(l,"class","explanation"),t[1]===void 0&&Zr(()=>t[11].call(M)),t[2]===void 0&&Zr(()=>t[12].call(y)),dt(d,"class","control"),gn(O,"width",R7+"px"),gn(O,"height",h3+"px"),dt(b,"class","visualization"),dt(e,"class","app")},m(J,Q){Ct(J,e,Q),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(c,f),B(c,M);for(let G=0;G<N.length;G+=1)N[G]&&N[G].m(M,null);wa(M,t[1],!0),B(d,m),B(d,A),B(A,p),B(A,y);for(let G=0;G<4;G+=1)H[G]&&H[G].m(y,null);wa(y,t[2],!0),B(d,E),kt(v,d,null),B(e,x),B(e,b),B(b,O),t[14](O),t[15](b),B(e,S),B(e,R),I=!0,P||(L=[Ue(M,"change",t[11]),Ue(y,"change",t[12]),Ue(R,"click",t[16])],P=!0)},p(J,[Q]){if((!I||Q&1)&&a!==(a=J[0].title+"")&&Ge(r,a),Q&64){k=$e(J[6]);let z;for(z=0;z<k.length;z+=1){const j=NE(J,k,z);N[z]?N[z].p(j,Q):(N[z]=FE(j),N[z].c(),N[z].m(M,null))}for(;z<N.length;z+=1)N[z].d(1);N.length=k.length}Q&66&&wa(M,J[1]),Q&4&&wa(y,J[2]);const G={};!w&&Q&32&&(w=!0,G.checked=J[5],Re(()=>w=!1)),v.$set(G)},i(J){I||(Rt(v.$$.fragment,J),I=!0)},o(J){Dt(v.$$.fragment,J),I=!1},d(J){J&&bt(e),xi(N,J),xi(H,J),Nt(v),t[14](null),t[15](null),P=!1,f9(L)}}}const R7=400,h3=1200;function H0t(t,e,i){let a,r,{toolInfo:s}=e,l,u,d="C",c="default",f=!0;const M=M0,m=sr.names(),A=(O,S)=>{if(O==="default")return[...S];if(O==="name")return[...S].sort((R,I)=>R.name<I.name?-1:1);if(O==="notes")return[...S].sort((R,I)=>R.notes.join(" ")<I.notes.join(" ")?-1:1);if(O==="number of notes")return[...S].sort((R,I)=>R.notes.length>I.notes.length?-1:1)},p=()=>{if(!u)return;const O=u.getContext("2d"),S=window.devicePixelRatio,R=u.getBoundingClientRect();i(4,u.width=R.width*S,u),i(4,u.height=R.height*S,u),O.scale(S,S),i(4,u.style.width=`${R.width}px`,u),i(4,u.style.height=`${R.height}px`,u),O.fillStyle="white",O.fillRect(0,0,R7,h3);const I=130,P=(R7-I)/12,L=P*.9,k=(h3-30)/a.length,N=k*.9;O.textAlign="center",O.fillStyle="black";for(const[H,U]of M.entries()){const W=I+(H+.5)*P;O.fillText(U,W,10),O.fillText(U,W,h3-3)}const $=new Map(M.map((H,U)=>[H,U]));for(const[H,U]of r.entries()){const W=15+H*k;O.fillStyle="black",O.textAlign="right",O.fillText(U.type,I-5,W+k-2.5),O.fillStyle="#666";for(const J of U.notes){const Q=$.get(J);f?O.fillStyle=nd.noteColormap[Q]:O.fillStyle=J===d?"#777":"#bbb";const G=I+Q*P+P*.05;O.fillRect(G,W,L,N),O.fillStyle="white",O.textAlign="center";const z=I+(Q+.5)*P;O.fillText(J,z,W+k-3.5)}}};c9(p);function y(){d=eo(this),i(1,d),i(6,M)}function E(){c=eo(this),i(2,c)}function v(O){f=O,i(5,f)}function w(O){Me[O?"unshift":"push"](()=>{u=O,i(4,u)})}function x(O){Me[O?"unshift":"push"](()=>{l=O,i(3,l)})}const b=()=>{let O=[];for(const R of M){const I=m.map(P=>sr.get(`${R} ${P}`)).filter(P=>!P.empty).map(P=>(P.notes=P.notes.map(L=>kb.get(L)??L),P));O=O.concat(I)}const S=O.map(R=>({tonic:R.tonic,type:R.type,chroma:R.chroma,notes:R.notes}));IP("musical-scales",S)};return t.$$set=O=>{"toolInfo"in O&&i(0,s=O.toolInfo)},t.$$.update=()=>{t.$$.dirty&2&&i(10,a=m.map(O=>sr.get(`${d} ${O}`)).filter(O=>!O.empty).map(O=>(O.notes=O.notes.map(S=>kb.get(S)??S),O))),t.$$.dirty&1028&&i(9,r=A(c,a)),t.$$.dirty&512&&r&&p()},[s,d,c,l,u,f,M,m,p,r,a,y,E,v,w,x,b]}class V0t extends Ki{constructor(e){super(),Wi(this,e,H0t,G0t,ji,{toolInfo:0})}}const D7="app-settings",P7="usage",Ts=window.localStorage;function BP(){let t=0,e,i;for(i in Ts)Ts.hasOwnProperty(i)&&(e=(Ts[i].length+i.length)*2,t+=e);return t/1024}function Q0t(){let t="12345678",e=0;for(;;){try{Ts.setItem("__test__",t)}catch{break}t=`${t}${t}`,e=t.length}Ts.removeItem("__test__");const i=BP();return e*32/1024+i}function z0t(){const t=BP(),e=Q0t();return{currentKb:t,limitKb:e,percentFull:t/e*100}}function wl(){let t;return Ts.getItem(P7)!==null?(t=Ts.getItem(P7),t=JSON.parse(t)):t={appClicks:{},appRecordedData:{},ratings:{}},t}function jf(t){try{Ts.setItem(P7,JSON.stringify(t))}catch(e){window.alert("localStorage might be full: "+e.toString())}}function L7(t){const e=Ts.getItem(D7);if(e)return JSON.parse(e)[t]}function da(t,e){console.log(`[STORE] saving recording for ${t}`,e);const i=wl();i.appRecordedData||(i.appRecordedData={}),i.appRecordedData[t]||(i.appRecordedData[t]=[]);const a=i.appRecordedData[t],r=JSON.stringify(e);for(const s of a)if(r===JSON.stringify(s.data)){console.log("[STORE] the recording already exists");return}a.push({date:new Date().toISOString(),softwareVersion:u4,data:e}),jf(i)}function J0t(t,e){console.log(`[STORE] updating recording for ${t}`,e);const i=wl();if(!i.appRecordedData||!i.appRecordedData[t]){console.log("[STORE] error: recording does not exist");return}const a=i.appRecordedData[t],r=JSON.stringify(e.data);for(const[s,l]of a.entries())if(r===JSON.stringify(l.data)){a[s]=e,jf(i);return}console.log("[STORE] error: recording does not exist")}function j0t(t,e){console.log(`[STORE] deleting recording for ${t}`,e);const i=wl();i.appRecordedData&&i.appRecordedData[t]&&(i.appRecordedData[t]=i.appRecordedData[t].filter(a=>a.date!==e),jf(i))}function RP(t){const e=wl();return e.appRecordedData?e.appRecordedData[t]?e.appRecordedData[t]:[]:[]}function W0t(t){let e,i,a=t[0].title+"",r,s,l,u,d;return{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`Here, you can see how often and when you used each app. This data is
        only saved locally and can be reset in settings.`,u=q(),d=K("div"),dt(l,"class","explanation"),dt(d,"class","visualization"),dt(e,"class","app")},m(c,f){Ct(c,e,f),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),t[2](d)},p(c,[f]){f&1&&a!==(a=c[0].title+"")&&Ge(r,a)},i:Ne,o:Ne,d(c){c&&bt(e),t[2](null)}}}let jm=900,K0t=500;function X0t(t,e,i){let{toolInfo:a}=e,r;const s=wl();let l=[],u=new Set;for(const A in s.appClicks)if(Object.hasOwnProperty.call(s.appClicks,A)&&A!=="undefined"){const p=s.appClicks[A];l.push({id:A,dates:p.map(y=>new Date(y.substring(0,10))),useCount:p.length});for(const y of p)u.add(y.substring(0,10))}l=l.sort((A,p)=>p.useCount-A.useCount);const d=l.flatMap(A=>A.dates.map(p=>({app:A.id,date:p})));let c=[],f=[];for(const A in s.ratings)if(Object.hasOwnProperty.call(s.ratings,A)&&A!=="undefined"){const p=s.ratings[A];c.push({id:A,meanRating:Ol(p,y=>y.value)}),f.push({id:A,subRating:" mean over all",value:Ol(p,y=>y.value)});for(const y of p)f.push({id:A,subRating:y.id,value:y.value})}c=c.sort((A,p)=>p.meanRating-A.meanRating),c9(()=>{i(1,r.textContent="",r);const A=Bn({title:"Usage Count",width:jm,marginLeft:200,marginRight:60,x:{label:"times used"},y:{label:"app",grid:!0,domain:l.map(v=>v.id)},marks:[xc(l,{x:"useCount",y:"id",tip:!0,rx:4,fill:v=>X0.accent}),Ta(l,{x:"useCount",y:"id",text:"useCount",textAnchor:"start",dx:7,paintOrder:"stroke",fill:"#333",stroke:"white",strokeWidth:10})]});r.appendChild(A);const p=Bn({title:"Usage Dates",width:jm,height:K0t,marginLeft:200,x:{label:"time of usage"},y:{grid:!0,domain:l.map(v=>v.id)},marks:[f0(d,{x:"date",y:"app",tip:!0})]});r.appendChild(p);const y=Bn({title:"App Ratings",width:jm,marginLeft:200,marginRight:40,x:{label:"mean of partial ratings",domain:[0,5]},y:{label:"app",grid:!0,domain:c.map(v=>v.id)},marks:[xc(c,{x:"meanRating",y:"id",tip:!0,rx:8,fill:"gold"}),Ta(c,{x:"meanRating",y:"id",text:v=>`${v.meanRating.toFixed(1)} ${Id}`,textAnchor:"start",dx:7,paintOrder:"stroke",fill:"#333",stroke:"white",strokeWidth:10})]});r.appendChild(y);const E=Bn({title:"App Sub-Ratings",width:jm,marginLeft:200,marginRight:40,x:{axis:!1,domain:[0,5]},y:{label:"app",domain:c.map(v=>v.id)},facet:{data:f,x:"subRating",label:"sub-rating"},marks:[xc(f,{x:5,y:"id",rx:6,stroke:"#eee"}),xc(f,{x:"value",y:"id",tip:!0,rx:6,fill:"gold"})]});r.appendChild(E)});function m(A){Me[A?"unshift":"push"](()=>{r=A,i(1,r)})}return t.$$set=A=>{"toolInfo"in A&&i(0,a=A.toolInfo)},[a,r,m]}class Y0t extends Ki{constructor(e){super(),Wi(this,e,X0t,W0t,ji,{toolInfo:0})}}const r4=new Map([[49,{repPitch:49,label:"CC",name:"Crash Cymbal 1"}],[55,{repPitch:49,label:"CC",name:"Crash Cymbal 1"}],[52,{repPitch:57,label:"CC",name:"Crash Cymbal 2"}],[57,{repPitch:57,label:"CC",name:"Crash Cymbal 2"}],[22,{repPitch:46,label:"HH",name:"Hi-Hat"}],[26,{repPitch:46,label:"HH",name:"Hi-Hat"}],[42,{repPitch:46,label:"HH",name:"Hi-Hat"}],[46,{repPitch:46,label:"HH",name:"Hi-Hat"}],[44,{repPitch:44,label:"HH",name:"Hi-Hat Pedal"}],[51,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[53,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[59,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[38,{repPitch:38,label:"SN",name:"Snare"}],[40,{repPitch:38,label:"SN",name:"Snare"}],[48,{repPitch:48,label:"TO",name:"Tom 1"}],[50,{repPitch:48,label:"TO",name:"Tom 1"}],[45,{repPitch:45,label:"TO",name:"Tom 2"}],[47,{repPitch:45,label:"TO",name:"Tom 2"}],[43,{repPitch:43,label:"TO",name:"Stand Tom 1"}],[58,{repPitch:43,label:"TO",name:"Stand Tom 1"}],[39,{repPitch:41,label:"TO",name:"Stand Tom 2"}],[41,{repPitch:41,label:"TO",name:"Stand Tom 2"}],[35,{repPitch:36,label:"KD",name:"Kick Drum"}],[36,{repPitch:36,label:"KD",name:"Kick Drum"}]]);function q0t(t,e,i){const a=t.slice();return a[1]=e[i],a}function Z0t(t,e,i){const a=t.slice();return a[1]=e[i],a}function tot(t){let e,i,a,r,s,l,u,d,c;return{c(){e=K("tr"),i=K("td"),i.textContent=`${t[1].pitch}`,a=q(),r=K("td"),r.textContent=`${t[1].name}`,s=q(),l=K("td"),l.textContent=`${t[1].octave}`,u=q(),d=K("td"),d.textContent=`${t[1].frequency.toFixed(2)}`,c=q(),dt(i,"class","svelte-yn7py9"),dt(r,"class","svelte-yn7py9"),dt(l,"class","svelte-yn7py9"),dt(d,"class","svelte-yn7py9"),dt(e,"class","svelte-yn7py9")},m(f,M){Ct(f,e,M),B(e,i),B(e,a),B(e,r),B(e,s),B(e,l),B(e,u),B(e,d),B(e,c)},p:Ne,d(f){f&&bt(e)}}}function eot(t){let e,i,a,r,s,l,u,d,c;return{c(){e=K("tr"),i=K("td"),i.textContent=`${t[1].pitch}`,a=q(),r=K("td"),r.textContent=`${t[1].name}`,s=q(),l=K("td"),l.textContent=`${t[1].label}`,u=q(),d=K("td"),d.textContent=`${Ps[t[1].pitch].label}`,c=q(),dt(i,"class","svelte-yn7py9"),dt(r,"class","svelte-yn7py9"),dt(l,"class","svelte-yn7py9"),dt(d,"class","svelte-yn7py9"),dt(e,"class","svelte-yn7py9")},m(f,M){Ct(f,e,M),B(e,i),B(e,a),B(e,r),B(e,s),B(e,l),B(e,u),B(e,d),B(e,c)},p:Ne,d(f){f&&bt(e)}}}function iot(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I=$e(Ps),P=[];for(let N=0;N<I.length;N+=1)P[N]=tot(Z0t(t,I,N));let L=$e([...r4.entries()].map(not)),k=[];for(let N=0;N<L.length;N+=1)k[N]=eot(q0t(t,L,N));return{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent="Information on MIDI and MIDI drum notes.",u=q(),d=K("div"),c=K("div"),f=K("h3"),f.textContent="MIDI Notes",M=q(),m=K("table"),A=K("tbody"),p=K("tr"),p.innerHTML='<th class="svelte-yn7py9">number</th> <th class="svelte-yn7py9">name</th> <th class="svelte-yn7py9">octave</th> <th class="svelte-yn7py9">frequency (Hz)</th>',y=q();for(let N=0;N<P.length;N+=1)P[N].c();E=q(),v=K("div"),w=K("h3"),w.textContent="Drum Notes",x=q(),b=K("table"),O=K("tbody"),S=K("tr"),S.innerHTML='<th class="svelte-yn7py9">number</th> <th class="svelte-yn7py9">name</th> <th class="svelte-yn7py9">label</th> <th class="svelte-yn7py9">MIDI note</th>',R=q();for(let N=0;N<k.length;N+=1)k[N].c();dt(l,"class","explanation"),dt(p,"class","svelte-yn7py9"),dt(m,"class","svelte-yn7py9"),dt(S,"class","svelte-yn7py9"),dt(b,"class","svelte-yn7py9"),dt(d,"class","grid svelte-yn7py9"),dt(e,"class","app")},m(N,$){Ct(N,e,$),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(c,f),B(c,M),B(c,m),B(m,A),B(A,p),B(A,y);for(let H=0;H<P.length;H+=1)P[H]&&P[H].m(A,null);B(d,E),B(d,v),B(v,w),B(v,x),B(v,b),B(b,O),B(O,S),B(O,R);for(let H=0;H<k.length;H+=1)k[H]&&k[H].m(O,null)},p(N,[$]){$&1&&a!==(a=N[0].title+"")&&Ge(r,a)},i:Ne,o:Ne,d(N){N&&bt(e),xi(P,N),xi(k,N)}}}const not=([t,e])=>({pitch:t,...e});function aot(t,e,i){let{toolInfo:a}=e;return t.$$set=r=>{"toolInfo"in r&&i(0,a=r.toolInfo)},[a]}class rot extends Ki{constructor(e){super(),Wi(this,e,aot,iot,ji,{toolInfo:0})}}function UE(t,e,i){const a=t.slice();return a[4]=e[i],a}function oot(t){let e,i,a;var r=t[0].component;function s(l,u){return{props:{toolInfo:l[0]}}}return r&&(i=f3(r,s(t))),{c(){e=K("div"),i&&Ft(i.$$.fragment)},m(l,u){Ct(l,e,u),i&&kt(i,e,null),a=!0},p(l,u){if(u&1&&r!==(r=l[0].component)){if(i){so();const d=i;Dt(d.$$.fragment,1,0,()=>{Nt(d,1)}),lo()}r?(i=f3(r,s(l)),Ft(i.$$.fragment),Rt(i.$$.fragment,1),kt(i,e,null)):i=null}else if(r){const d={};u&1&&(d.toolInfo=l[0]),i.$set(d)}},i(l){a||(i&&Rt(i.$$.fragment,l),a=!0)},o(l){i&&Dt(i.$$.fragment,l),a=!1},d(l){l&&bt(e),i&&Nt(i)}}}function sot(t){let e,i,a=$e(t[2]),r=[];for(let s=0;s<a.length;s+=1)r[s]=$E(UE(t,a,s));return{c(){e=K("div");for(let s=0;s<r.length;s+=1)r[s].c();dt(e,"class",i="grid "+(t[1]?"rows":""))},m(s,l){Ct(s,e,l);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null)},p(s,l){if(l&5){a=$e(s[2]);let u;for(u=0;u<a.length;u+=1){const d=UE(s,a,u);r[u]?r[u].p(d,l):(r[u]=$E(d),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}l&2&&i!==(i="grid "+(s[1]?"rows":""))&&dt(e,"class",i)},i:Ne,o:Ne,d(s){s&&bt(e),xi(r,s)}}}function $E(t){let e,i,a,r,s,l,u;function d(){return t[3](t[4])}return{c(){e=K("div"),i=K("h2"),i.textContent=`${t[4].title}`,a=q(),r=K("div"),r.textContent=`${t[4].description}`,s=q(),dt(r,"class","description"),dt(e,"class","card")},m(c,f){Ct(c,e,f),B(e,i),B(e,a),B(e,r),B(e,s),l||(u=Ue(e,"click",d),l=!0)},p(c,f){t=c},d(c){c&&bt(e),l=!1,u()}}}function lot(t){let e,i,a,r;const s=[sot,oot],l=[];function u(d,c){return d[0]?1:0}return i=u(t),a=l[i]=s[i](t),{c(){e=K("main"),a.c()},m(d,c){Ct(d,e,c),l[i].m(e,null),r=!0},p(d,[c]){let f=i;i=u(d),i===f?l[i].p(d,c):(so(),Dt(l[f],1,1,()=>{l[f]=null}),lo(),a=l[i],a?a.p(d,c):(a=l[i]=s[i](d),a.c()),Rt(a,1),a.m(e,null))},i(d){r||(Rt(a),r=!0)},o(d){Dt(a),r=!1},d(d){d&&bt(e),l[i].d()}}}function cot(t,e,i){let a=[{id:"activity-tracker",title:"Activity Tracker",description:"Shows your activity on this website.",component:Y0t},{id:"midi-logger",title:"MIDI Logger",description:"Logs all incoming MIDI messages. Useful for getting to know a device or debugging MIDI issues.",component:d0t},{id:"midi-notes",title:"MIDI Notes",description:"Information on the MIDI standard note numbers.",component:rot},{id:"piano-roll",title:"Piano Roll",description:"Shows MIDI input as a piano roll.",component:E0t},{id:"guitar-tab",title:"Guitar Tab",description:"Shows MIDI input as guitar tab.",component:n0t},{id:"guitar-tunings",title:"Guitar Tunings",description:"Small tool that computes the notes for a guitar tuning based on parameters. Open tunings are not included.",component:l0t},{id:"chord-detection",title:"Chord Detection",description:"Play a chord and see what it's named.",component:vet},{id:"note-colors",title:"Note Colors",description:"Different note color schemes.",component:g0t},{id:"scale-sets",title:"Scale Sets",description:"See how different musical scales relate to each other.",component:k0t},{id:"scale-notes",title:"Scale Notes",description:"See which notes are in each scale.",component:V0t},{id:"tuner",title:"Tuner",description:"Tries to detect the currently most prominent pitch from microphone audio. Useful for tuning instruments.",component:D0t}],{currentTool:r}=e,{rows:s}=e;const l=u=>{i(0,r=u)};return t.$$set=u=>{"currentTool"in u&&i(0,r=u.currentTool),"rows"in u&&i(1,s=u.rows)},[r,s,a,l]}class uot extends Ki{constructor(e){super(),Wi(this,e,cot,lot,ji,{currentTool:0,rows:1})}}function dot(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q;return{c(){e=K("main"),i=K("h2"),i.textContent="Settings",a=q(),r=K("p"),r.textContent="This page contains global settings.",s=q(),l=K("h3"),l.textContent="Usage Data",u=q(),d=K("p"),d.textContent=`The website tracks usage data locally in your browser, but does not send
        it anywhere. You can export or reset it here.`,c=q(),f=K("p"),f.textContent=`Currently used: ${t[3].currentKb.toFixed()} of ${t[3].limitKb}
        KB (${t[3].percentFull.toFixed(1)}%).`,M=q(),m=K("button"),m.textContent="export usage",A=q(),p=K("button"),p.textContent="import usage",y=q(),E=K("input"),v=q(),w=K("button"),w.textContent="delete usage",x=q(),b=K("h3"),b.textContent="Guitar MIDI",O=q(),S=K("p"),S.textContent="These settings allow reducing noise from MIDI guitars.",R=q(),I=K("label"),P=oe(`Minimum velocity (0-127)
        `),L=K("input"),N=q(),$=K("label"),H=oe(`Minimum duration (seconds)
        `),U=K("input"),dt(r,"class","explanation"),dt(d,"class","explanation"),dt(f,"class","explanation"),dt(m,"title","Export usage statistics"),dt(p,"title","Import all data and settings"),dt(E,"type","file"),dt(E,"id","file-input"),gn(E,"display","none"),dt(w,"title","Reset usage statistics"),dt(L,"type","number"),dt(L,"min","0"),dt(L,"max","127"),L.value=k=t[0].guitarMidiMinVelocity??0,dt(I,"class","svelte-1dsjbtd"),dt(U,"type","number"),dt(U,"min","0"),dt(U,"max","0.5"),dt(U,"step","0.05"),U.value=W=t[0].guitarMidiMinDuration??0,dt($,"class","svelte-1dsjbtd")},m(G,z){Ct(G,e,z),B(e,i),B(e,a),B(e,r),B(e,s),B(e,l),B(e,u),B(e,d),B(e,c),B(e,f),B(e,M),B(e,m),B(e,A),B(e,p),B(e,y),B(e,E),t[7](E),B(e,v),B(e,w),B(e,x),B(e,b),B(e,O),B(e,S),B(e,R),B(e,I),B(I,P),B(I,L),B(e,N),B(e,$),B($,H),B($,U),J||(Q=[Ue(m,"click",t[5]),Ue(p,"click",t[6]),Ue(E,"input",t[4]),Ue(w,"click",t[8]),Ue(L,"change",t[9]),Ue(U,"change",t[10])],J=!0)},p(G,[z]){z&1&&k!==(k=G[0].guitarMidiMinVelocity??0)&&L.value!==k&&(L.value=k),z&1&&W!==(W=G[0].guitarMidiMinDuration??0)&&U.value!==W&&(U.value=W)},i:Ne,o:Ne,d(G){G&&bt(e),t[7](null),J=!1,f9(Q)}}}function hot(t,e,i){let a=JSON.parse(localStorage.getItem(D7)??"{}");const r=(p,y)=>{i(0,a[p]=y,a),localStorage.setItem(D7,JSON.stringify(a))},s=z0t();let l;const u=async p=>{if(confirm("Import and overwrite current usage statistics? Cannot be undone. Export current usage first!")){const y=await p.target.files[0].text();localStorage.setItem("usage",y)}},d=()=>{const p=localStorage.getItem("usage"),y=new Blob([p],{type:"text/plain;charset=utf-8"});SP(y,"usage.json")},c=()=>l.click();function f(p){Me[p?"unshift":"push"](()=>{l=p,i(1,l)})}return[a,l,r,s,u,d,c,f,()=>{confirm("Please only do this after exporting usage data! Do you really want to delete now?")&&localStorage.removeItem("usage")},p=>r("guitarMidiMinVelocity",+p.target.value),p=>r("guitarMidiMinDuration",+p.target.value)]}class fot extends Ki{constructor(e){super(),Wi(this,e,hot,dot,ji,{})}}var s4,l4,c4,ad,Yf,Tc,qf,rd,Zf,j0,_o,od;class xM{constructor(){Dn(this,s4,.04);Dn(this,l4,.1);Dn(this,c4,50);Dn(this,ad,!1);Dn(this,Yf,null);Dn(this,Tc,null);Dn(this,qf,4);Dn(this,rd,1/0);Dn(this,Zf);Dn(this,j0,null);Dn(this,_o,new AudioContext);Dn(this,od,null);xn(this,"_scheduler",()=>{const e=Ve(this,qf),i=60/Ve(this,Tc);let a=Ve(this,Zf)+Ve(this,j0)*i;for(;a<Ve(this,_o).currentTime+Ve(this,l4);)if(Ve(this,j0)<Ve(this,rd)-1){a+=i;const r=Ve(this,j0)%e===e-1||Ve(this,j0)===-1,s=a-Ve(this,_o).currentTime,l=performance.now()+s*1e3;this._playSound(a,l,r),Ev(this,j0)._++}Ve(this,j0)<Ve(this,rd)-1?Cn(this,Yf,setTimeout(this._scheduler,Ve(this,c4))):this.stop()})}get bpm(){return Ve(this,Tc)}get beatCount(){return Ve(this,j0)}onClick(e){Cn(this,od,e)}start(e,i=4,a=1/0){if(!e||Number.isNaN(+e)){console.error(`[Metronome] Invalid bpm ${e}`);return}if(!i||Number.isNaN(+i)){console.error(`[Metronome] Invalid accent ${i}`);return}if(!a||Number.isNaN(+a)){console.error(`[Metronome] Invalid maxBeeps ${a}`);return}Ve(this,_o).state==="suspended"&&Ve(this,_o).resume(),Cn(this,Tc,+e),Cn(this,qf,+i),Cn(this,rd,+a),Cn(this,ad,!0),console.log(`Metronome @ ${e}bpm, accent every ${i}. beat, limited to ${a}`),Cn(this,j0,-1),Cn(this,Zf,Ve(this,_o).currentTime),this._scheduler()}stop(){console.log("[Metronome] stopped"),clearTimeout(Ve(this,Yf)),Cn(this,ad,!1)}toggle(e,i=4,a=1/0){Ve(this,ad)?this.stop():(e===void 0&&(e=Ve(this,Tc)),this.start(e,i,a))}_playSound(e,i,a){Ve(this,od)&&Ve(this,od).call(this,e,i,a);const r=Ve(this,_o).createOscillator();r.connect(Ve(this,_o).destination);const s=a?300:200;r.frequency.value=s,r.start(e),r.stop(e+Ve(this,s4))}}s4=new WeakMap,l4=new WeakMap,c4=new WeakMap,ad=new WeakMap,Yf=new WeakMap,Tc=new WeakMap,qf=new WeakMap,rd=new WeakMap,Zf=new WeakMap,j0=new WeakMap,_o=new WeakMap,od=new WeakMap;function mot(t,e,i){let{key:a=" "}=e,{keyDown:r=()=>{}}=e,{keyUp:s=()=>{}}=e,{ctrlKey:l=!1}=e;const u=c=>{c.key===a&&(!l||c.ctrlKey)&&(c.preventDefault(),r())},d=c=>{c.key===a&&(c.preventDefault(),s())};return c9(()=>{document.addEventListener("keydown",u),document.addEventListener("keyup",d)}),r9(()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",d)}),t.$$set=c=>{"key"in c&&i(0,a=c.key),"keyDown"in c&&i(1,r=c.keyDown),"keyUp"in c&&i(2,s=c.keyUp),"ctrlKey"in c&&i(3,l=c.ctrlKey)},[a,r,s,l]}class Sa extends Ki{constructor(e){super(),Wi(this,e,mot,null,ji,{key:0,keyDown:1,keyUp:2,ctrlKey:3})}}function GE(t){let e,i,a;return{c(){e=K("input"),dt(e,"title","The number of beeps for count-in, set to 0 for infinite beeps"),dt(e,"type","number"),dt(e,"step","1"),dt(e,"min","0"),dt(e,"class","svelte-1hhwgra")},m(r,s){Ct(r,e,s),Qi(e,t[0]),i||(a=[Ue(e,"input",t[8]),Ue(e,"mousewheel",t[9])],i=!0)},p(r,s){s&1&&ur(e.value)!==r[0]&&Qi(e,r[0])},d(r){r&&bt(e),i=!1,f9(a)}}}function pot(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E,v=t[1]&&GE(t);return A=new Sa({props:{key:"m",keyDown:t[4]}}),{c(){e=K("main"),i=K("button"),a=K("div"),r=Ro("svg"),s=Ro("path"),l=Ro("line"),d=q(),c=K("div"),c.textContent="metronome",M=q(),v&&v.c(),m=q(),Ft(A.$$.fragment),dt(s,"d","M5,16 L15,16 L10,5 Z"),dt(s,"fill","white"),dt(s,"stroke","#888"),dt(s,"stroke-linejoin","round"),dt(l,"x1","10"),dt(l,"y1","13"),dt(l,"x2",u=t[3]?5:15),dt(l,"y2","2"),dt(l,"stroke","black"),dt(l,"stroke-width","2"),dt(l,"stroke-linecap","round"),dt(r,"width","20"),dt(r,"height","17"),dt(i,"title","Toggle metronome (shortcut: m)"),dt(i,"style",f=t[1]?"border-radius: 8px 0 0 8px;":""),dt(i,"class","svelte-1hhwgra"),dt(e,"class","svelte-1hhwgra")},m(w,x){Ct(w,e,x),B(e,i),B(i,a),B(a,r),B(r,s),B(r,l),B(i,d),B(i,c),t[7](i),B(e,M),v&&v.m(e,null),Ct(w,m,x),kt(A,w,x),p=!0,y||(E=Ue(i,"click",t[4]),y=!0)},p(w,[x]){(!p||x&8&&u!==(u=w[3]?5:15))&&dt(l,"x2",u),(!p||x&2&&f!==(f=w[1]?"border-radius: 8px 0 0 8px;":""))&&dt(i,"style",f),w[1]?v?v.p(w,x):(v=GE(w),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i(w){p||(Rt(A.$$.fragment,w),p=!0)},o(w){Dt(A.$$.fragment,w),p=!1},d(w){w&&(bt(e),bt(m)),t[7](null),v&&v.d(),Nt(A,w),y=!1,E()}}}function got(t,e,i){let{tempo:a=120}=e,{accent:r=4}=e,{beepCount:s=0}=e,{showBeepCountInput:l=!1}=e;const u=new xM;let d,c=!1;const f=()=>{u.toggle(a,r,s>0?s:1/0),i(2,d.style="background: var(--accent)",d),setTimeout(()=>i(2,d.style="",d),500),i(3,c=!c)};r9(()=>{u.stop(),i(3,c=!1)});const M=()=>{i(3,c=!c)};u.onClick(M);function m(y){Me[y?"unshift":"push"](()=>{d=y,i(2,d)})}function A(){s=ur(this.value),i(0,s)}const p=y=>{y.preventDefault();const E=y.deltaY<0?1:-1,v=Math.max(0,s+E);i(0,s=+v.toFixed())};return t.$$set=y=>{"tempo"in y&&i(5,a=y.tempo),"accent"in y&&i(6,r=y.accent),"beepCount"in y&&i(0,s=y.beepCount),"showBeepCountInput"in y&&i(1,l=y.showBeepCountInput)},[s,l,d,c,f,a,r,m,A,p]}class F0 extends Ki{constructor(e){super(),Wi(this,e,got,pot,ji,{tempo:5,accent:6,beepCount:0,showBeepCountInput:1})}}function Mot(t){let e,i,a,r,s,l;return{c(){e=K("label"),i=oe(t[2]),a=q(),r=K("input"),dt(r,"type","number"),dt(r,"min",t[4]),dt(r,"max",t[5]),dt(r,"step",t[6]),gn(r,"width","53px"),dt(e,"title",t[3])},m(u,d){Ct(u,e,d),B(e,i),B(e,a),B(e,r),Qi(r,t[0]),s||(l=[Ue(r,"input",t[7]),Ue(r,"change",function(){Fo(t[1])&&t[1].apply(this,arguments)}),Ue(r,"mousewheel",t[8])],s=!0)},p(u,[d]){t=u,d&4&&Ge(i,t[2]),d&16&&dt(r,"min",t[4]),d&32&&dt(r,"max",t[5]),d&64&&dt(r,"step",t[6]),d&1&&ur(r.value)!==t[0]&&Qi(r,t[0]),d&8&&dt(e,"title",t[3])},i:Ne,o:Ne,d(u){u&&bt(e),s=!1,f9(l)}}}function Aot(t,e,i){let{value:a}=e,{callback:r=()=>{}}=e,{label:s="tempo"}=e,{title:l="The tempo in beats per minute (bpm)"}=e,{min:u=30}=e,{max:d=400}=e,{step:c=5}=e;function f(){a=ur(this.value),i(0,a)}const M=m=>{m.preventDefault();const A=m.deltaY<0?c:-c;i(0,a=Math.min(d,Math.max(u,a+A))),r()};return t.$$set=m=>{"value"in m&&i(0,a=m.value),"callback"in m&&i(1,r=m.callback),"label"in m&&i(2,s=m.label),"title"in m&&i(3,l=m.title),"min"in m&&i(4,u=m.min),"max"in m&&i(5,d=m.max),"step"in m&&i(6,c=m.step)},[a,r,s,l,u,d,c,f,M]}class Hr extends Ki{constructor(e){super(),Wi(this,e,Aot,Mot,ji,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6})}}function yot(t){let e,i,a,r,s,l;return{c(){e=K("label"),i=oe(t[2]),a=q(),r=K("input"),dt(r,"type","number"),dt(r,"step",t[6]),dt(r,"min",t[4]),dt(r,"max",t[5]),gn(r,"width","55px"),dt(e,"title",t[3])},m(u,d){Ct(u,e,d),B(e,i),B(e,a),B(e,r),Qi(r,t[0]),s||(l=[Ue(r,"input",t[7]),Ue(r,"change",function(){Fo(t[1])&&t[1].apply(this,arguments)}),Ue(r,"mousewheel",t[8])],s=!0)},p(u,[d]){t=u,d&4&&Ge(i,t[2]),d&64&&dt(r,"step",t[6]),d&16&&dt(r,"min",t[4]),d&32&&dt(r,"max",t[5]),d&1&&ur(r.value)!==t[0]&&Qi(r,t[0]),d&8&&dt(e,"title",t[3])},i:Ne,o:Ne,d(u){u&&bt(e),s=!1,f9(l)}}}function vot(t,e,i){let{value:a}=e,{callback:r=()=>{}}=e,{label:s="note count"}=e,{title:l="The number of most recently played notes that are shown"}=e,{min:u=10}=e,{max:d=500}=e,{step:c=10}=e;function f(){a=ur(this.value),i(0,a)}const M=m=>{m.preventDefault();const A=m.deltaY<0?c:-c;i(0,a=Math.min(d,Math.max(u,a+A))),r()};return t.$$set=m=>{"value"in m&&i(0,a=m.value),"callback"in m&&i(1,r=m.callback),"label"in m&&i(2,s=m.label),"title"in m&&i(3,l=m.title),"min"in m&&i(4,u=m.min),"max"in m&&i(5,d=m.max),"step"in m&&i(6,c=m.step)},[a,r,s,l,u,d,c,f,M]}class iu extends Ki{constructor(e){super(),Wi(this,e,vot,yot,ji,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6})}}const Wf=[{name:"whole",beats:4,symbol:""},{name:"half",beats:2,symbol:""},{name:"quarter",beats:1,symbol:""},{name:"eighth",beats:.5,symbol:""},{name:"sixteenth",beats:.25,symbol:""},{name:"thirtysecond",beats:.125,symbol:""},{name:"sixtyfourth",beats:.0625,symbol:""},{name:"dotted-half",beats:3,symbol:".",dotted:!0},{name:"dotted-quarter",beats:1.5,symbol:".",dotted:!0},{name:"dotted-eighth",beats:.75,symbol:".",dotted:!0},{name:"dotted-sixteenth",beats:.375,symbol:".",dotted:!0},{name:"eighth-triplet",beats:1/3,symbol:"",tuplet:!0},{name:"eighth-quintuplet",beats:1/5,symbol:"",tuplet:!0},{name:"eighth-sixtuplet",beats:1/6,symbol:"",tuplet:!0}];function bot(t){let e,i,a,r,s,l,u;return r=new Sa({props:{key:"r",keyDown:t[2]}}),{c(){e=K("button"),i=oe("reset"),a=q(),Ft(r.$$.fragment),dt(e,"title",t[0]),e.disabled=t[1]},m(d,c){Ct(d,e,c),B(e,i),Ct(d,a,c),kt(r,d,c),s=!0,l||(u=Ue(e,"click",t[2]),l=!0)},p(d,[c]){(!s||c&1)&&dt(e,"title",d[0]),(!s||c&2)&&(e.disabled=d[1])},i(d){s||(Rt(r.$$.fragment,d),s=!0)},o(d){Dt(r.$$.fragment,d),s=!1},d(d){d&&(bt(e),bt(a)),Nt(r,d),l=!1,u()}}}function Cot(t,e,i){let{notes:a=[]}=e,{saveToStorage:r}=e,{callback:s=()=>{}}=e,{title:l="Clear all played notes (shortcut: r)"}=e,{disabled:u=!1}=e;const d=()=>{(a.length===0||confirm("Reset played notes?"))&&(r(),i(3,a=[]),s())};return t.$$set=c=>{"notes"in c&&i(3,a=c.notes),"saveToStorage"in c&&i(4,r=c.saveToStorage),"callback"in c&&i(5,s=c.callback),"title"in c&&i(0,l=c.title),"disabled"in c&&i(1,u=c.disabled)},[l,u,d,a,r,s]}class Y9 extends Ki{constructor(e){super(),Wi(this,e,Cot,bot,ji,{notes:3,saveToStorage:4,callback:5,title:0,disabled:1})}}function Eot(t){let e,i,a,r,s,l,u,d,c,f;return{c(){e=K("main"),i=K("button"),i.textContent="import",a=q(),r=K("button"),r.textContent="export",s=q(),l=K("button"),l.textContent="share",u=q(),d=K("input"),dt(i,"title","Import current app data and settings"),dt(i,"class","left svelte-m704f"),dt(r,"title","Export current app data and settings"),dt(r,"class","middle svelte-m704f"),dt(l,"title","Get a link that contains the current app configuration. It will also contain recorded data if it fits into the link"),dt(l,"class","right svelte-m704f"),dt(e,"class","svelte-m704f"),dt(d,"type","file"),dt(d,"id","file-input"),gn(d,"display","none")},m(M,m){Ct(M,e,m),B(e,i),B(e,a),B(e,r),B(e,s),B(e,l),t[9](l),Ct(M,u,m),Ct(M,d,m),t[10](d),c||(f=[Ue(i,"click",t[8]),Ue(r,"click",t[3]),Ue(l,"click",t[4]),Ue(d,"input",t[2])],c=!0)},p:Ne,i:Ne,o:Ne,d(M){M&&(bt(e),bt(u),bt(d)),t[9](null),t[10](null),c=!1,f9(f)}}}const l6=8e3;function _ot(t,e,i){let{appId:a}=e,{loadData:r}=e,{getExportData:s}=e,l,u;const d=async y=>{const E=y.target.files[0],v=await TP(E);r(v)},c=()=>{const y=s();IP(a,y)},f=y=>{const E=JSON.stringify(y,yf,0);console.log("json length",E.length);const v=encodeURI(E);return`${location.href.replace("&json=","").replace("?json=","")}&json=${v}`},M=()=>{const y=s();y._appId=a,y._softwareVersion=u4,y._date=new Date().toISOString();let E=f(y);if(E.length>l6)if(y.notes&&(y.notes=[]),y.bendValues&&(y.bendValues=[]),E=f(y),E.length>l6){alert(`Link is too long. Limit: ${l6}, length: ${E.length}`);return}else alert("Link was too long, so played data was removed and you can only send app settings");navigator.clipboard.writeText(E),i(1,u.style="background: lightblue",u),i(1,u.innerText="copied",u),setTimeout(()=>{i(1,u.style="",u),i(1,u.innerText="share",u)},500)};c9(()=>{const y=VO(window,"json");if(y&&y!=="")try{const E=decodeURI(y),v=JSON.parse(E);r(v)}catch(E){console.error("Error: Cannot open shared app settings"),console.error(E)}}),r9(()=>{bc(window,"json","")});const m=()=>l.click();function A(y){Me[y?"unshift":"push"](()=>{u=y,i(1,u)})}function p(y){Me[y?"unshift":"push"](()=>{l=y,i(0,l)})}return t.$$set=y=>{"appId"in y&&i(5,a=y.appId),"loadData"in y&&i(6,r=y.loadData),"getExportData"in y&&i(7,s=y.getExportData)},[l,u,d,c,M,a,r,s,m,A,p]}class aa extends Ki{constructor(e){super(),Wi(this,e,_ot,Eot,ji,{appId:5,loadData:6,getExportData:7})}}function HE(t){let e,i,a;return{c(){e=K("textarea"),dt(e,"class","svelte-14qy37")},m(r,s){Ct(r,e,s),Qi(e,t[4]),i||(a=[Ue(e,"input",t[7]),Ue(e,"keydown",t[5]),Ue(e,"keyup",t[5]),Ue(e,"keypress",t[5])],i=!0)},p(r,s){s&16&&Qi(e,r[4])},d(r){r&&bt(e),i=!1,f9(a)}}}function wot(t){let e,i,a=(t[3]?pC:mC)+"",r,s,l,u,d=t[3]&&HE(t);return{c(){e=K("main"),i=K("button"),r=oe(a),s=q(),d&&d.c()},m(c,f){Ct(c,e,f),B(e,i),B(i,r),B(e,s),d&&d.m(e,null),l||(u=Ue(i,"click",t[6]),l=!0)},p(c,[f]){f&8&&a!==(a=(c[3]?pC:mC)+"")&&Ge(r,a),c[3]?d?d.p(c,f):(d=HE(c),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:Ne,o:Ne,d(c){c&&bt(e),d&&d.d(),l=!1,u()}}}function Oot(t,e,i){let{appId:a}=e,{recording:r}=e,{loadRecordings:s=()=>{}}=e,l=!1,u=r.annotation??"";const d=M=>{M.stopPropagation()},c=()=>{if(i(3,l=!l),!l){const M=u.trim();(M.length>0||r.annotation.length>0)&&(i(0,r.annotation=M,r),J0t(a,r),s())}};function f(){u=this.value,i(4,u)}return t.$$set=M=>{"appId"in M&&i(1,a=M.appId),"recording"in M&&i(0,r=M.recording),"loadRecordings"in M&&i(2,s=M.loadRecordings)},[r,a,s,l,u,d,c,f]}class xot extends Ki{constructor(e){super(),Wi(this,e,Oot,wot,ji,{appId:1,recording:0,loadRecordings:2})}}function VE(t,e,i){const a=t.slice();return a[10]=e[i],a[12]=i,a}function QE(t){let e,i,a,r,s,l,u,d,c,f=[],M=new Map,m,A,p,y,E,v=$e(t[2]);const w=x=>x[10].date;for(let x=0;x<v.length;x+=1){let b=VE(t,v,x),O=w(b);M.set(O,f[x]=zE(O,b))}return A=new Sa({props:{key:"Escape",keyDown:t[6]}}),{c(){e=K("div"),i=K("div"),a=K("div"),r=K("h2"),r.textContent="Load From History",s=q(),l=K("button"),l.textContent="",u=q(),d=K("div"),d.innerHTML="<div>date</div> <div>notes</div> <div>load</div> <div>delete</div> <div>annotate</div>",c=q();for(let x=0;x<f.length;x+=1)f[x].c();m=q(),Ft(A.$$.fragment),dt(l,"title","close (shortcut: Escape)"),dt(l,"class","close svelte-23iviy"),dt(a,"class","heading svelte-23iviy"),dt(d,"class","recording svelte-23iviy"),dt(i,"class","modal-content svelte-23iviy"),dt(e,"class","modal svelte-23iviy")},m(x,b){Ct(x,e,b),B(e,i),B(i,a),B(a,r),B(a,s),B(a,l),B(i,u),B(i,d),B(i,c);for(let O=0;O<f.length;O+=1)f[O]&&f[O].m(i,null);Ct(x,m,b),kt(A,x,b),p=!0,y||(E=Ue(l,"click",t[6]),y=!0)},p(x,b){b&55&&(v=$e(x[2]),so(),f=OG(f,b,w,1,x,v,M,i,wG,zE,null,VE),lo())},i(x){if(!p){for(let b=0;b<v.length;b+=1)Rt(f[b]);Rt(A.$$.fragment,x),p=!0}},o(x){for(let b=0;b<f.length;b+=1)Dt(f[b]);Dt(A.$$.fragment,x),p=!1},d(x){x&&(bt(e),bt(m));for(let b=0;b<f.length;b+=1)f[b].d();Nt(A,x),y=!1,E()}}}function zE(t,e){var $;let i,a,r=e[10].date.substring(0,16).replace("T"," ")+"",s,l,u,d=(($=e[10].data.notes)==null?void 0:$.length)+"",c,f,M,m,A,p=e[4]===e[10].date?"confirm":"delete",y,E,v,w,x,b=(e[10].annotation?e[10].annotation.substring(0,20):"")+"",O,S,R,I,P,L;function k(...H){return e[8](e[10],...H)}function N(...H){return e[9](e[10],...H)}return v=new xot({props:{appId:e[0],recording:e[10],loadRecordings:e[5]}}),{key:t,first:null,c(){i=K("div"),a=K("div"),s=oe(r),l=q(),u=K("div"),c=oe(d),f=q(),M=K("button"),M.textContent="load",m=q(),A=K("button"),y=oe(p),E=q(),Ft(v.$$.fragment),w=q(),x=K("div"),O=oe(b),R=q(),dt(M,"class","svelte-23iviy"),dt(A,"class","delete svelte-23iviy"),dt(x,"title",S=e[10].annotation),dt(x,"class","annotation svelte-23iviy"),dt(i,"class","recording svelte-23iviy"),this.first=i},m(H,U){Ct(H,i,U),B(i,a),B(a,s),B(i,l),B(i,u),B(u,c),B(i,f),B(i,M),B(i,m),B(i,A),B(A,y),B(i,E),kt(v,i,null),B(i,w),B(i,x),B(x,O),B(i,R),I=!0,P||(L=[Ue(M,"click",k),Ue(A,"click",N)],P=!0)},p(H,U){var J;e=H,(!I||U&4)&&r!==(r=e[10].date.substring(0,16).replace("T"," ")+"")&&Ge(s,r),(!I||U&4)&&d!==(d=((J=e[10].data.notes)==null?void 0:J.length)+"")&&Ge(c,d),(!I||U&20)&&p!==(p=e[4]===e[10].date?"confirm":"delete")&&Ge(y,p);const W={};U&1&&(W.appId=e[0]),U&4&&(W.recording=e[10]),v.$set(W),(!I||U&4)&&b!==(b=(e[10].annotation?e[10].annotation.substring(0,20):"")+"")&&Ge(O,b),(!I||U&4&&S!==(S=e[10].annotation))&&dt(x,"title",S)},i(H){I||(Rt(v.$$.fragment,H),I=!0)},o(H){Dt(v.$$.fragment,H),I=!1},d(H){H&&bt(i),Nt(v),P=!1,f9(L)}}}function Sot(t){let e,i,a,r,s,l,u=t[3]&&QE(t);return{c(){e=K("button"),e.textContent="history",i=q(),u&&u.c(),a=V9(),dt(e,"title","Load a previously auto-saved take")},m(d,c){Ct(d,e,c),Ct(d,i,c),u&&u.m(d,c),Ct(d,a,c),r=!0,s||(l=Ue(e,"click",t[7]),s=!0)},p(d,[c]){d[3]?u?(u.p(d,c),c&8&&Rt(u,1)):(u=QE(d),u.c(),Rt(u,1),u.m(a.parentNode,a)):u&&(so(),Dt(u,1,1,()=>{u=null}),lo())},i(d){r||(Rt(u),r=!0)},o(d){Dt(u),r=!1},d(d){d&&(bt(e),bt(i),bt(a)),u&&u.d(d),s=!1,l()}}}function Tot(t,e,i){let{appId:a}=e,{loadData:r=A=>{}}=e,s=[],l=!1,u="";const d=()=>{i(2,s=RP(a).reverse())},c=A=>{i(3,l=!l)},f=()=>{d(),c()},M=(A,p)=>r(A.data),m=(A,p)=>{p.preventDefault(),u===A.date?(i(4,u=""),j0t(a,A.date),d()):i(4,u=A.date)};return t.$$set=A=>{"appId"in A&&i(0,a=A.appId),"loadData"in A&&i(1,r=A.loadData)},[a,r,s,l,u,d,c,f,M,m]}class ha extends Ki{constructor(e){super(),Wi(this,e,Tot,Sot,ji,{appId:0,loadData:1})}}const Iot=90,Bot=30,Rot=!1,Dot=[{time:0,velocity:.4566929133858268},{time:.42410000014305116,velocity:.3779527559055118},{time:.795,velocity:.3779527559055118},{time:1.181,velocity:.31496062992125984},{time:1.5501000001430512,velocity:.33070866141732286},{time:1.912100000143051,velocity:.25984251968503935},{time:2.275100000143051,velocity:.10236220472440945},{time:2.609100000143051,velocity:.16535433070866143},{time:2.971,velocity:.3937007874015748},{time:3.366100000143051,velocity:.2047244094488189},{time:3.7811000001430513,velocity:.1968503937007874},{time:4.166100000143051,velocity:.2440944881889764},{time:4.539,velocity:.47244094488188976},{time:4.7551000001430515,velocity:.4409448818897638},{time:4.946,velocity:.44881889763779526},{time:5.141100000143052,velocity:.4251968503937008},{time:5.338100000143051,velocity:.4251968503937008},{time:5.523,velocity:.4566929133858268},{time:5.701100000143051,velocity:.47244094488188976},{time:5.890100000143051,velocity:.4645669291338583},{time:6.069,velocity:.44881889763779526},{time:6.257,velocity:.4409448818897638},{time:6.440100000143051,velocity:.41732283464566927},{time:6.621100000143051,velocity:.4566929133858268},{time:6.801100000143051,velocity:.4409448818897638},{time:6.9841000001430515,velocity:.4409448818897638},{time:7.175,velocity:.3858267716535433},{time:7.414,velocity:.3464566929133858},{time:7.761100000143051,velocity:.1968503937007874},{time:8.095,velocity:.007874015748031496},{time:8.379,velocity:.16535433070866143},{time:8.61710000014305,velocity:.23622047244094488},{time:8.893,velocity:.23622047244094488},{time:9.12710000014305,velocity:.28346456692913385},{time:9.434,velocity:.11023622047244094},{time:9.702100000143052,velocity:.2047244094488189},{time:9.96310000014305,velocity:.1889763779527559},{time:10.230100000143052,velocity:.2204724409448819},{time:10.50210000014305,velocity:.18110236220472442},{time:10.778100000143052,velocity:.18110236220472442},{time:11.042100000143051,velocity:.2125984251968504},{time:11.288100000143052,velocity:.15748031496062992},{time:11.564100000143052,velocity:.18110236220472442},{time:11.81010000014305,velocity:.31496062992125984},{time:12.02710000014305,velocity:.3858267716535433},{time:12.35810000014305,velocity:.10236220472440945},{time:12.70010000014305,velocity:.08661417322834646},{time:13.080100000143052,velocity:.007874015748031496},{time:13.502,velocity:.031496062992125984},{time:13.82510000014305,velocity:.12598425196850394},{time:14.163100000143052,velocity:.15748031496062992},{time:14.513100000143051,velocity:.12598425196850394},{time:14.87410000014305,velocity:.14960629921259844},{time:15.203100000143051,velocity:.11811023622047244},{time:15.500100000143052,velocity:.2047244094488189},{time:15.772,velocity:.2047244094488189},{time:16.06410000014305,velocity:.1889763779527559},{time:16.38810000014305,velocity:.1732283464566929},{time:16.67710000014305,velocity:.16535433070866143},{time:16.996,velocity:.18110236220472442},{time:17.28210000014305,velocity:.2047244094488189},{time:17.60510000014305,velocity:.18110236220472442},{time:17.924100000143053,velocity:.14173228346456693},{time:18.28010000014305,velocity:.1732283464566929},{time:18.663,velocity:.1968503937007874},{time:19.04810000014305,velocity:.09448818897637795},{time:19.40710000014305,velocity:.10236220472440945},{time:19.802,velocity:.11811023622047244},{time:20.24110000014305,velocity:.13385826771653545},{time:20.618100000143052,velocity:.14173228346456693},{time:21.002100000143052,velocity:.5118110236220472},{time:21.339100000143052,velocity:.14960629921259844},{time:21.71610000014305,velocity:.08661417322834646},{time:22.10510000014305,velocity:.13385826771653545},{time:22.44810000014305,velocity:.4251968503937008},{time:22.84910000014305,velocity:.1889763779527559},{time:23.24010000014305,velocity:.12598425196850394},{time:23.60510000014305,velocity:.08661417322834646},{time:23.96310000014305,velocity:.3937007874015748},{time:24.38110000014305,velocity:.2047244094488189},{time:24.79810000014305,velocity:.1889763779527559},{time:25.17310000014305,velocity:.18110236220472442},{time:25.53310000014305,velocity:.4251968503937008},{time:25.93410000014305,velocity:.1968503937007874},{time:26.336100000143052,velocity:.18110236220472442},{time:26.69510000014305,velocity:.15748031496062992},{time:27.06710000014305,velocity:.29133858267716534},{time:27.51910000014305,velocity:.18110236220472442},{time:27.88410000014305,velocity:.2047244094488189},{time:28.264100000143053,velocity:.007874015748031496},{time:28.607100000143053,velocity:.3779527559055118},{time:29.022100000143052,velocity:.031496062992125984},{time:29.411,velocity:.14173228346456693},{time:29.76810000014305,velocity:.07874015748031496},{time:30.11710000014305,velocity:.4094488188976378},{time:30.525,velocity:.31496062992125984},{time:30.892100000143053,velocity:.29133858267716534},{time:31.293100000143053,velocity:.2047244094488189},{time:31.666,velocity:.4409448818897638},{time:32.076,velocity:.2047244094488189},{time:32.44910000014305,velocity:.13385826771653545},{time:32.82010000014305,velocity:.14173228346456693},{time:33.16710000014305,velocity:.4094488188976378},{time:33.487,velocity:.15748031496062992},{time:33.86510000014305,velocity:.11023622047244094},{time:34.24710000014305,velocity:.1889763779527559}],Pot="accents",Lot="2024-07-02T14:39:34.656Z",JE={tempo:Iot,pastNoteCount:Bot,useDotted:Rot,notes:Dot,_appId:Pot,_date:Lot};function kot(t){let e,i,a,r;const s=t[1].default,l=a1(s,t,t[0],null);return{c(){e=K("div"),i=K("h4"),i.textContent="Exercises",a=q(),l&&l.c(),dt(i,"class","svelte-1iskw7o"),dt(e,"class","exercise-content svelte-1iskw7o")},m(u,d){Ct(u,e,d),B(e,i),B(e,a),l&&l.m(e,null),r=!0},p(u,[d]){l&&l.p&&(!r||d&1)&&o1(l,s,u,u[0],r?r1(s,u[0],d,null):s1(u[0]),null)},i(u){r||(Rt(l,u),r=!0)},o(u){Dt(l,u),r=!1},d(u){u&&bt(e),l&&l.d(u)}}}function Not(t,e,i){let{$$slots:a={},$$scope:r}=e;return t.$$set=s=>{"$$scope"in s&&i(0,r=s.$$scope)},[r,a]}class z9 extends Ki{constructor(e){super(),Wi(this,e,Not,kot,ji,{})}}const kl=new Map([["A",9],["A#",10],["A##",11],["Ab",8],["Abb",7],["B",11],["B#",0],["B##",1],["Bb",10],["Bbb",9],["C",0],["C#",1],["C##",2],["Cb",11],["Cbb",10],["D",2],["D#",3],["D##",4],["Db",1],["Dbb",0],["E",4],["E#",5],["E##",6],["Eb",3],["Ebb",2],["F",5],["F#",6],["F##",7],["Fb",4],["Fbb",3],["G",7],["G#",8],["G##",9],["Gb",6],["Gbb",5]]),Tr=[{divisions:"4:1",label:" quarters"},{divisions:"4:2",label:" eighths"},{divisions:"4:3",label:" triplets"},{divisions:"4:4",label:" sixteenths"},{divisions:"4:5",label:" quintuplets"},{divisions:"4:6",label:" sixtuplets"},{divisions:"3:1",label:" quarters"},{divisions:"3:2",label:" eighths"},{divisions:"3:3",label:" triplets"},{divisions:"3:4",label:" sixteenths"},{divisions:"3:5",label:" quintuplets"},{divisions:"3:6",label:" sixtuplets"},{divisions:"2:1",label:" quarters"},{divisions:"2:2",label:" eighths"},{divisions:"2:3",label:" triplets"},{divisions:"2:4",label:" sixteenths"},{divisions:"2:5",label:" quintuplets"},{divisions:"2:6",label:" sixtuplets"}],Vr=[8,16,32,64,128,24,48,96,192],DP=[4,8,16,32,64,128],vc=[{semitones:0,name:"Unison",short:"P1",type:"perfect"},{semitones:1,name:"Minor 2nd",short:"m2",type:"minor"},{semitones:2,name:"Major 2nd",short:"M2",type:"major"},{semitones:3,name:"Minor 3rd",short:"m3",type:"minor"},{semitones:4,name:"Major 3rd",short:"M3",type:"major"},{semitones:5,name:"Perfect 4th",short:"P4",type:"perfect"},{semitones:6,name:"Augmented 4th",short:"A4",type:"tritone"},{semitones:7,name:"Perfect 5th",short:"P5",type:"perfect"},{semitones:8,name:"Minor 6th",short:"m6",type:"minor"},{semitones:9,name:"Major 6th",short:"M6",type:"major"},{semitones:10,name:"Minor 7th",short:"m7",type:"minor"},{semitones:11,name:"Major 7th",short:"M7",type:"major"},{semitones:12,name:"Perfect 8ve",short:"P8",type:"perfect"}],Ud=new Map([[0,"silent"],[16,"ppp"],[32,"pp"],[48,"p"],[64,"mp"],[80,"mf"],[96,"f"],[112,"ff"],[127,"fff"]]),Fot=new Map([["silent","silent"],["ppppp","almost silent"],["pppp","soft whispering"],["ppp","whispering"],["pp","almost a whisper"],["p","softer than speaking"],["mp","speaking voice"],["mf","speaking voice"],["f","louder than speaking"],["ff","loud speaking"],["fff","yelling"],["ffff","loud yelling"]]),Uot=new Map([[1,{degree:1,semitones:0,short:"Ton",name:"Tonic",meaning:"Tonal center, note of final resolution"}],[2,{degree:2,semitones:2,short:"SpT",name:"Supertonic",meaning:"One whole step above the tonic"}],[3,{degree:3,semitones:4,short:"Med",name:"Mediant",meaning:"Midway between tonic and dominant, (in minor key) tonic of relative major key"}],[4,{degree:4,semitones:5,short:"SbD",name:"Subdominant",meaning:"Lower dominant, happens to have the same interval below tonic as dominant is above tonic"}],[5,{degree:5,semitones:7,short:"Dom",name:"Dominant",meaning:"Second in importance to the tonic"}],[6,{degree:6,semitones:9,short:"SbM",name:"Submediant",meaning:"Lower mediant, midway between tonic and subdominant, (in major key) tonic of relative minor key"}],[7,{degree:7,semitones:11,short:"Lea",name:"Leading tone",meaning:"One whole step below tonic in natural minor scale"}]]),$ot=new Map([[1,{degree:1,semitones:0,short:"Ton",name:"Tonic",meaning:"Tonal center, note of final resolution"}],[2,{degree:2,semitones:2,short:"SpT",name:"Supertonic",meaning:"One whole step above the tonic"}],[3,{degree:3,semitones:3,short:"Med",name:"Mediant",meaning:"Midway between tonic and dominant, (in minor key) tonic of relative major key"}],[4,{degree:4,semitones:5,short:"SbD",name:"Subdominant",meaning:"Lower dominant, happens to have the same interval below tonic as dominant is above tonic"}],[5,{degree:5,semitones:7,short:"Dom",name:"Dominant",meaning:"Second in importance to the tonic"}],[6,{degree:6,semitones:8,short:"SbM",name:"Submediant",meaning:"Lower mediant, midway between tonic and subdominant, (in major key) tonic of relative minor key"}],[7,{degree:7,semitones:10,short:"SbT",name:"Subtonic",meaning:"One whole step below tonic in natural minor scale"}]]);function jE(t,e,i){const a=t.slice();return a[9]=e[i],a}function WE(t,e,i){const a=t.slice();return a[12]=e[i],a}function KE(t){let e,i,a,r,s,l,u,d=t[1]&&XE(t);return{c(){e=K("p"),e.textContent=`How much do you agree with these statements? 1 ${Id}:
            completely disagree, 5 ${Id}: completely agree`,i=q(),a=K("div"),d&&d.c(),r=q(),s=K("button"),s.textContent="reset",dt(a,"class","grid svelte-a1enf2")},m(c,f){Ct(c,e,f),Ct(c,i,f),Ct(c,a,f),d&&d.m(a,null),Ct(c,r,f),Ct(c,s,f),l||(u=Ue(s,"click",t[4]),l=!0)},p(c,f){c[1]?d?d.p(c,f):(d=XE(c),d.c(),d.m(a,null)):d&&(d.d(1),d=null)},d(c){c&&(bt(e),bt(i),bt(a),bt(r),bt(s)),d&&d.d(),l=!1,u()}}}function XE(t){let e,i,a,r,s=Ol(t[1],ZE).toFixed(1)+"",l,u,d,c=$e(t[1]),f=[];for(let M=0;M<c.length;M+=1)f[M]=qE(jE(t,c,M));return{c(){for(let M=0;M<f.length;M+=1)f[M].c();e=q(),i=K("div"),i.textContent="mean:",a=q(),r=K("div"),l=oe(s),u=q(),d=oe(Id),dt(i,"class","label svelte-a1enf2")},m(M,m){for(let A=0;A<f.length;A+=1)f[A]&&f[A].m(M,m);Ct(M,e,m),Ct(M,i,m),Ct(M,a,m),Ct(M,r,m),B(r,l),B(r,u),B(r,d)},p(M,m){if(m&10){c=$e(M[1]);let A;for(A=0;A<c.length;A+=1){const p=jE(M,c,A);f[A]?f[A].p(p,m):(f[A]=qE(p),f[A].c(),f[A].m(e.parentNode,e))}for(;A<f.length;A+=1)f[A].d(1);f.length=c.length}m&2&&s!==(s=Ol(M[1],ZE).toFixed(1)+"")&&Ge(l,s)},d(M){M&&(bt(e),bt(i),bt(a),bt(r)),xi(f,M)}}}function YE(t){let e,i,a,r,s;function l(){return t[7](t[9],t[12])}return{c(){e=K("button"),i=oe(Id),dt(e,"class",a="star "+(t[12]<=t[9].value?"":"rest")+" svelte-a1enf2")},m(u,d){Ct(u,e,d),B(e,i),r||(s=Ue(e,"click",l),r=!0)},p(u,d){t=u,d&2&&a!==(a="star "+(t[12]<=t[9].value?"":"rest")+" svelte-a1enf2")&&dt(e,"class",a)},d(u){u&&bt(e),r=!1,s()}}}function qE(t){let e,i=t[9].label+"",a,r,s,l=$e([1,2,3,4,5]),u=[];for(let d=0;d<5;d+=1)u[d]=YE(WE(t,l,d));return{c(){e=K("div"),a=oe(i),r=q(),s=K("div");for(let d=0;d<5;d+=1)u[d].c();dt(e,"class","label svelte-a1enf2")},m(d,c){Ct(d,e,c),B(e,a),Ct(d,r,c),Ct(d,s,c);for(let f=0;f<5;f+=1)u[f]&&u[f].m(s,null)},p(d,c){if(c&2&&i!==(i=d[9].label+"")&&Ge(a,i),c&10){l=$e([1,2,3,4,5]);let f;for(f=0;f<5;f+=1){const M=WE(d,l,f);u[f]?u[f].p(M,c):(u[f]=YE(M),u[f].c(),u[f].m(s,null))}for(;f<5;f+=1)u[f].d(1)}},d(d){d&&(bt(e),bt(r),bt(s)),xi(u,d)}}}function Got(t){let e,i,a,r,s,l=t[0]&&KE(t);return{c(){e=K("main"),i=K("button"),i.textContent=`${Id} rate this app`,a=q(),l&&l.c(),dt(e,"class","rating-button")},m(u,d){Ct(u,e,d),B(e,i),B(e,a),l&&l.m(e,null),r||(s=Ue(i,"click",t[6]),r=!0)},p(u,[d]){u[0]?l?l.p(u,d):(l=KE(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:Ne,o:Ne,d(u){u&&bt(e),l&&l.d(),r=!1,s()}}}const ZE=t=>t.value;function Hot(t,e,i){let{appId:a}=e,r=!1,s;const l=[{id:"makesSense",label:"What this app tries to do makes sense to me",value:0},{id:"good",label:"This app is good at what is does",value:0},{id:"useful",label:"This app is useful for me personally",value:0},{id:"usable",label:"This app is easy to use",value:0},{id:"learneable",label:"This app is quick and easy to learn",value:0},{id:"fun",label:"The app is fun to use",value:0},{id:"useRegular",label:"I would use this app regularly",value:0},{id:"useSpecific",label:"I would use this app for specific cases",value:0}],u=()=>{const m=wl();m.ratings||(m.ratings={}),m.ratings[a]?i(1,s=m.ratings[a]):i(1,s=structuredClone(l))},d=(m,A)=>{s.filter(y=>y.id===m)[0].value=A,i(1,s=[...s]);const p=wl();p.ratings=p.ratings??{},p.ratings[a]=s,jf(p)},c=()=>{i(1,s=structuredClone(l));const m=wl();m.ratings=m.ratings??{},m.ratings[a]=s,jf(m)},f=()=>{i(0,r=!r),r&&u()},M=(m,A)=>d(m.id,A);return t.$$set=m=>{"appId"in m&&i(5,a=m.appId)},[r,s,u,d,c,a,f,M]}class J9 extends Ki{constructor(e){super(),Wi(this,e,Hot,Got,ji,{appId:5})}}function Vot(t){let e,i,a,r,s,l,u;const d=t[10].default,c=a1(d,t,t[9],null);return{c(){e=K("label"),i=oe(t[2]),a=q(),r=K("select"),c&&c.c(),dt(r,"class",t[4]),r.disabled=t[5],dt(r,"style",t[6]),t[0]===void 0&&Zr(()=>t[12].call(r)),dt(e,"title",t[3])},m(f,M){Ct(f,e,M),B(e,i),B(e,a),B(e,r),c&&c.m(r,null),t[11](r),wa(r,t[0],!0),s=!0,l||(u=[Ue(r,"change",t[12]),Ue(r,"change",t[13]),Ue(r,"mousewheel",t[8])],l=!0)},p(f,[M]){(!s||M&4)&&Ge(i,f[2]),c&&c.p&&(!s||M&512)&&o1(c,d,f,f[9],s?r1(d,f[9],M,null):s1(f[9]),null),(!s||M&16)&&dt(r,"class",f[4]),(!s||M&32)&&(r.disabled=f[5]),(!s||M&64)&&dt(r,"style",f[6]),M&1&&wa(r,f[0]),(!s||M&8)&&dt(e,"title",f[3])},i(f){s||(Rt(c,f),s=!0)},o(f){Dt(c,f),s=!1},d(f){f&&bt(e),c&&c.d(f),t[11](null),l=!1,f9(u)}}}function Qot(t,e,i){let{$$slots:a={},$$scope:r}=e,{value:s}=e,{callback:l=v=>{}}=e,{label:u=""}=e,{title:d=""}=e,{className:c=""}=e,{disabled:f=!1}=e,{style:M=""}=e,m;const A=v=>{if(v.preventDefault(),f)return;const x=[...m.children].map(S=>S.value);let b=x.indexOf(s);if(b===-1&&(b=x.indexOf(s.toString()),b===-1))return;let O;v.deltaY<0?O=b>0?b-1:x.length-1:O=b<x.length-1?b+1:0,typeof s=="number"?i(0,s=+x[O]):i(0,s=x[O]),l(v)};function p(v){Me[v?"unshift":"push"](()=>{m=v,i(7,m)})}function y(){s=eo(this),i(0,s)}const E=v=>l(v);return t.$$set=v=>{"value"in v&&i(0,s=v.value),"callback"in v&&i(1,l=v.callback),"label"in v&&i(2,u=v.label),"title"in v&&i(3,d=v.title),"className"in v&&i(4,c=v.className),"disabled"in v&&i(5,f=v.disabled),"style"in v&&i(6,M=v.style),"$$scope"in v&&i(9,r=v.$$scope)},[s,l,u,d,c,f,M,m,A,r,a,p,y,E]}class ia extends Ki{constructor(e){super(),Wi(this,e,Qot,Vot,ji,{value:0,callback:1,label:2,title:3,className:4,disabled:5,style:6})}}function zot(t){let e,i,a,r;const s=t[6].default,l=a1(s,t,t[5],null);return{c(){e=K("main"),l&&l.c(),dt(e,"class","svelte-1ut9h26")},m(u,d){Ct(u,e,d),l&&l.m(e,null),t[7](e),i=!0,a||(r=[Ue(e,"drop",t[1]),Ue(e,"dragover",t[2]),Ue(e,"mouseleave",t[3]),Ue(e,"dragend",t[3]),Ue(e,"dragleave",t[3])],a=!0)},p(u,[d]){l&&l.p&&(!i||d&32)&&o1(l,s,u,u[5],i?r1(s,u[5],d,null):s1(u[5]),null)},i(u){i||(Rt(l,u),i=!0)},o(u){Dt(l,u),i=!1},d(u){u&&bt(e),l&&l.d(u),t[7](null),a=!1,f9(r)}}}function Jot(t,e,i){let{$$slots:a={},$$scope:r}=e,{loadData:s=M=>{}}=e,l;const u=async M=>{M.preventDefault();const m=M.dataTransfer.files[0],A=await TP(m);console.log("dropped json",A),s(A),i(0,l.style="background: none",l)},d=M=>{M.preventDefault(),i(0,l.style="background: var(--accent)",l)},c=()=>{i(0,l.style="background: none",l)};function f(M){Me[M?"unshift":"push"](()=>{l=M,i(0,l)})}return t.$$set=M=>{"loadData"in M&&i(4,s=M.loadData),"$$scope"in M&&i(5,r=M.$$scope)},[l,u,d,c,s,r,a,f]}class ra extends Ki{constructor(e){super(),Wi(this,e,Jot,zot,ji,{loadData:4})}}function jot(t,e,i){const a=t.slice();return a[25]=e[i][0],a[26]=e[i][1],a}function Wot(t,e,i){const a=t.slice();return a[29]=e[i],a}function Kot(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[29]} note`,e.__value=t[29],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Xot(t){let e,i=$e(DP),a=[];for(let r=0;r<i.length;r+=1)a[r]=Kot(Wot(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function Yot(t){let e;return{c(){e=K("option"),e.textContent=`${(t[25]/127).toFixed(1)} ${t[26]} `,e.__value=t[25]/127,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function qot(t){let e,i=$e(Ud.entries()),a=[];for(let r=0;r<i.length;r+=1)a[r]=Yot(jot(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function Zot(t){let e,i,a,r,s,l,u,d,c;return{c(){e=K("p"),e.textContent=`1) Play quarter notes and accent the first one in each group of
                4.`,i=q(),a=K("p"),a.textContent="2) Play triplets and accent the first note in each triplet.",r=q(),s=K("p"),s.textContent=`3) Switch between triplets and sixteenth notes and accent the
                first note in each group of 3 and 4.`,l=q(),u=K("p"),u.textContent=`4) Play triplets and accent the first note in each odd triplet
                and the second in each even triplet.`,d=q(),c=K("p"),c.innerHTML=`5) Try different accent patterns such as:<br/> <span style="margin-left: 25px"><b>1</b> e + <b>a</b> 2 e + a 3 <b>e</b> + a <b>4</b> e + a<br/></span> <span class="icon" style="margin-left: 25px"><span class="acc svelte-64izzl"></span>   <span class="acc svelte-64izzl"></span> |
                        | 
                    <span class="acc svelte-64izzl"></span>
                      |
                    <span class="acc svelte-64izzl"></span>
                      </span>`},m(f,M){Ct(f,e,M),Ct(f,i,M),Ct(f,a,M),Ct(f,r,M),Ct(f,s,M),Ct(f,l,M),Ct(f,u,M),Ct(f,d,M),Ct(f,c,M)},p:Ne,d(f){f&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u),bt(d),bt(c))}}}function tst(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt;function Vt(ye){t[14](ye)}let ie={callback:t[10]};t[1]!==void 0&&(ie.value=t[1]),c=new Hr({props:ie}),Me.push(()=>De(c,"value",Vt));function jt(ye){t[15](ye)}let Wt={callback:t[10],max:70};t[4]!==void 0&&(Wt.value=t[4]),m=new iu({props:Wt}),Me.push(()=>De(m,"value",jt));function me(ye){t[16](ye)}let Yt={label:"dotted notes",title:"Use dotted notes? If not, the closest non-dotted note will be taken.",callback:t[10]};t[5]!==void 0&&(Yt.checked=t[5]),y=new R9({props:Yt}),Me.push(()=>De(y,"checked",me));function pe(ye){t[17](ye)}let Qe={label:"tuplets",title:"Use tuplets? If not, the closest non-tuplet note will be taken.",callback:t[10]};t[6]!==void 0&&(Qe.checked=t[6]),w=new R9({props:Qe}),Me.push(()=>De(w,"checked",pe));function ni(ye){t[18](ye)}let ei={title:"You can filter out notes that are shorter than a given note duration.",label:"filtering",callback:t[10],$$slots:{default:[Xot]},$$scope:{ctx:t}};t[2]!==void 0&&(ei.value=t[2]),S=new ia({props:ei}),Me.push(()=>De(S,"value",ni));function Ci(ye){t[19](ye)}let ai={title:"You can choose a value for loudness to only show loud and quiet notes in two different sizes instead of exactly sizing notes by loudness. Set to 0 to use smooth sizing.",label:"loudness threshold",callback:t[10],$$slots:{default:[qot]},$$scope:{ctx:t}};t[7]!==void 0&&(ai.value=t[7]),P=new ia({props:ai}),Me.push(()=>De(P,"value",Ci)),U=new F0({props:{tempo:t[1],accent:4}});function ti(ye){t[21](ye)}let be={saveToStorage:t[13],callback:t[10]};return t[8]!==void 0&&(be.notes=t[8]),J=new Y9({props:be}),Me.push(()=>De(J,"notes",ti)),nt=new ha({props:{appId:t[0].id,loadData:t[12]}}),ht=new aa({props:{loadData:t[12],getExportData:t[11],appId:t[0].id}}),gt=new z9({props:{$$slots:{default:[Zot]},$$scope:{ctx:t}}}),vt=new J9({props:{appId:t[0].id}}),ft=new k9({props:{noteOn:t[9]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing accents, that is, playing some notes
            louder then others to highlight them. Set a tempo and start playing.
            The time between the notes you play will be displayed as note
            symbols, so you can see whether you play, for example, correct
            quarter notes. The note&#39;s velocity is encoded as font size, so you
            can see whether you accent the correct notes, for example the first
            note in each triplet, or the the first in each group of 4.
            <i>Note: the display is always one note behind.</i>`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),Ft(w.$$.fragment),b=q(),O=K("div"),Ft(S.$$.fragment),I=q(),Ft(P.$$.fragment),k=q(),N=K("div"),$=q(),H=K("div"),Ft(U.$$.fragment),W=q(),Ft(J.$$.fragment),G=q(),z=K("button"),z.textContent="example",j=q(),Ft(nt.$$.fragment),tt=q(),Ft(ht.$$.fragment),pt=q(),Ft(gt.$$.fragment),Tt=q(),Ft(vt.$$.fragment),Ot=q(),Ft(ft.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(O,"class","control"),dt(N,"class","visualization"),dt(H,"class","control"),dt(e,"class","app")},m(ye,ne){Ct(ye,e,ne),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(d,v),kt(w,d,null),B(e,b),B(e,O),kt(S,O,null),B(O,I),kt(P,O,null),B(e,k),B(e,N),t[20](N),B(e,$),B(e,H),kt(U,H,null),B(H,W),kt(J,H,null),B(H,G),B(H,z),B(H,j),kt(nt,H,null),B(H,tt),kt(ht,H,null),B(e,pt),kt(gt,e,null),B(e,Tt),kt(vt,e,null),B(e,Ot),kt(ft,e,null),St=!0,Mt||(Pt=Ue(z,"click",t[22]),Mt=!0)},p(ye,ne){(!St||ne[0]&1)&&a!==(a=ye[0].title+"")&&Ge(r,a);const Et={};!f&&ne[0]&2&&(f=!0,Et.value=ye[1],Re(()=>f=!1)),c.$set(Et);const yt={};!A&&ne[0]&16&&(A=!0,yt.value=ye[4],Re(()=>A=!1)),m.$set(yt);const Ht={};!E&&ne[0]&32&&(E=!0,Ht.checked=ye[5],Re(()=>E=!1)),y.$set(Ht);const wt={};!x&&ne[0]&64&&(x=!0,wt.checked=ye[6],Re(()=>x=!1)),w.$set(wt);const xt={};ne[1]&2&&(xt.$$scope={dirty:ne,ctx:ye}),!R&&ne[0]&4&&(R=!0,xt.value=ye[2],Re(()=>R=!1)),S.$set(xt);const Qt={};ne[1]&2&&(Qt.$$scope={dirty:ne,ctx:ye}),!L&&ne[0]&128&&(L=!0,Qt.value=ye[7],Re(()=>L=!1)),P.$set(Qt);const ut={};ne[0]&2&&(ut.tempo=ye[1]),U.$set(ut);const X={};!Q&&ne[0]&256&&(Q=!0,X.notes=ye[8],Re(()=>Q=!1)),J.$set(X);const Z={};ne[0]&1&&(Z.appId=ye[0].id),nt.$set(Z);const _t={};ne[0]&1&&(_t.appId=ye[0].id),ht.$set(_t);const Gt={};ne[1]&2&&(Gt.$$scope={dirty:ne,ctx:ye}),gt.$set(Gt);const Zt={};ne[0]&1&&(Zt.appId=ye[0].id),vt.$set(Zt)},i(ye){St||(Rt(c.$$.fragment,ye),Rt(m.$$.fragment,ye),Rt(y.$$.fragment,ye),Rt(w.$$.fragment,ye),Rt(S.$$.fragment,ye),Rt(P.$$.fragment,ye),Rt(U.$$.fragment,ye),Rt(J.$$.fragment,ye),Rt(nt.$$.fragment,ye),Rt(ht.$$.fragment,ye),Rt(gt.$$.fragment,ye),Rt(vt.$$.fragment,ye),Rt(ft.$$.fragment,ye),St=!0)},o(ye){Dt(c.$$.fragment,ye),Dt(m.$$.fragment,ye),Dt(y.$$.fragment,ye),Dt(w.$$.fragment,ye),Dt(S.$$.fragment,ye),Dt(P.$$.fragment,ye),Dt(U.$$.fragment,ye),Dt(J.$$.fragment,ye),Dt(nt.$$.fragment,ye),Dt(ht.$$.fragment,ye),Dt(gt.$$.fragment,ye),Dt(vt.$$.fragment,ye),Dt(ft.$$.fragment,ye),St=!1},d(ye){ye&&bt(e),Nt(c),Nt(m),Nt(y),Nt(w),Nt(S),Nt(P),t[20](null),Nt(U),Nt(J),Nt(nt),Nt(ht),Nt(gt),Nt(vt),Nt(ft),Mt=!1,Pt()}}}function est(t){let e,i;return e=new ra({props:{loadData:t[12],$$slots:{default:[tst]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&511|r[1]&2&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let Wm=900;function ist(t,e,i){let a,{appInfo:r}=e,s,l=90,u=20,d=!1,c=!1,f=16,M=0,m=0,A=[];const p=async N=>{A.length===0&&(m=N.timestamp);const $=(N.timestamp-m)/1e3;if(A.length>0&&$-A.at(-1).time<a)return;const H={time:$,velocity:N.velocity};i(8,A=[...A,H]),y()},y=()=>{i(3,s.textContent="",s);const N=[...Ud.keys()].map(z=>z/127),$=Bn({width:Wm,height:100,marginTop:30,marginLeft:Wm*.35,marginRight:Wm*.35,marginBottom:35,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"loudness",labelAnchor:"center",ticks:N,tickSize:0,tickFormat:(z,j)=>[...Ud.values()][j]},marks:[Ta(N,{text:z=>"",x:(z,j)=>z,fontSize:z=>z*60+10})]});if(s.appendChild($),A.length===0)return;let H=ta(l);const U=A.slice(-(u+1)),W=U.map((z,j)=>j===0?{}:{delta:(z.time-U[j-1].time)/H,velocity:U[j-1].velocity}),J=Wf.filter(z=>d||!z.dotted).filter(z=>c||!z.tuplet),Q=W.slice(1).map(z=>{const j=Pc(J,tt=>Math.abs(z.delta-tt.beats)),nt=J[j];return{...nt,beats:z,velocity:z.velocity,offsetPercent:(z.delta/nt.beats*100).toFixed()}}),G=Bn({width:Wm,height:110,marginTop:30,marginLeft:20,marginRight:20,marginBottom:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"",domain:Ei(1,u),ticks:[]},y:{},marks:[Ta(Q,{text:"symbol",x:(z,j)=>j,fontSize:M>0?z=>z.velocity<M?35:70:z=>z.velocity*60+10})]});s.appendChild(G)},E=()=>({tempo:l,pastNoteCount:u,useDotted:d,useTuplets:c,velocityThreshold:M,filterNote:f,notes:A}),v=N=>{w(),i(1,l=N.tempo),i(4,u=N.pastNoteCount),i(5,d=N.useDotted),i(6,c=N.useTuplets),i(7,M=N.velocityThreshold??0),i(2,f=N.filterNote??32),i(8,A=N.notes),y()},w=()=>{A.length>0&&JSON.stringify(A)!==JSON.stringify(JE.notes)&&da(r.id,E())};c9(y),r9(w);function x(N){l=N,i(1,l)}function b(N){u=N,i(4,u)}function O(N){d=N,i(5,d)}function S(N){c=N,i(6,c)}function R(N){f=N,i(2,f)}function I(N){M=N,i(7,M)}function P(N){Me[N?"unshift":"push"](()=>{s=N,i(3,s)})}function L(N){A=N,i(8,A)}const k=()=>v(JE);return t.$$set=N=>{"appInfo"in N&&i(0,r=N.appInfo)},t.$$.update=()=>{t.$$.dirty[0]&6&&(a=ta(l)*4/f)},[r,l,f,s,u,d,c,M,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k]}class nst extends Ki{constructor(e){super(),Wi(this,e,ist,est,ji,{appInfo:0},null,[-1,-1])}}function dp(t,e){const i=[];let a=[];for(const r of t)a.length===0||r.time-a.at(-1).time<e?a.push(r):(i.push(a),a=[r]);return i.push(a),i}const ast=10,rst=.4,ost=100,sst=[{number:57,velocity:17,time:0,channel:1},{number:59,velocity:3,time:.01,channel:1},{number:60,velocity:1,time:.013,channel:1},{number:43,velocity:1,time:.014,channel:1},{number:50,velocity:36,time:.014,channel:1},{number:55,velocity:37,time:.07,channel:1},{number:48,velocity:35,time:.257,channel:1},{number:59,velocity:12,time:.319,channel:1},{number:57,velocity:50,time:.398,channel:1},{number:55,velocity:47,time:.529,channel:1},{number:50,velocity:23,time:.554,channel:1},{number:47,velocity:36,time:.706,channel:1},{number:59,velocity:26,time:.762,channel:1},{number:60,velocity:20,time:.766,channel:1},{number:45,velocity:15,time:.898,channel:1},{number:57,velocity:32,time:.907,channel:1},{number:48,velocity:25,time:.9648999998569489,channel:1},{number:55,velocity:22,time:1.025,channel:1},{number:50,velocity:37,time:1.122,channel:1},{number:59,velocity:53,time:1.218,channel:1},{number:57,velocity:49,time:1.319899999856949,channel:1},{number:55,velocity:41,time:1.4638999998569489,channel:1},{number:59,velocity:60,time:1.6,channel:1},{number:57,velocity:54,time:1.718,channel:1},{number:55,velocity:46,time:1.831,channel:1},{number:59,velocity:53,time:1.961,channel:1},{number:57,velocity:60,time:2.058,channel:1},{number:55,velocity:52,time:2.153,channel:1},{number:47,velocity:18,time:2.267,channel:1},{number:59,velocity:60,time:2.2918999998569487,channel:1},{number:48,velocity:35,time:2.421,channel:1},{number:45,velocity:24,time:2.442,channel:1},{number:50,velocity:26,time:2.525,channel:1},{number:41,velocity:59,time:2.829,channel:1},{number:43,velocity:53,time:2.836899999856949,channel:1},{number:69,velocity:1,time:2.874899999856949,channel:1},{number:67,velocity:4,time:2.906,channel:1},{number:65,velocity:23,time:2.999,channel:1},{number:45,velocity:39,time:3.059,channel:1},{number:64,velocity:1,time:3.157899999856949,channel:1},{number:47,velocity:48,time:3.21,channel:1},{number:69,velocity:52,time:3.246,channel:1},{number:41,velocity:59,time:3.345,channel:1},{number:67,velocity:51,time:3.4408999998569487,channel:1},{number:65,velocity:26,time:3.577,channel:1},{number:45,velocity:13,time:3.689899999856949,channel:1},{number:43,velocity:11,time:3.691,channel:1},{number:69,velocity:42,time:3.780899999856949,channel:1},{number:67,velocity:38,time:3.85,channel:1},{number:43,velocity:1,time:4.144,channel:1},{number:45,velocity:1,time:4.246899999856949,channel:1},{number:64,velocity:1,time:4.436899999856949,channel:1},{number:47,velocity:10,time:4.448,channel:1},{number:48,velocity:9,time:4.457,channel:1},{number:62,velocity:33,time:4.473899999856949,channel:1},{number:60,velocity:33,time:4.593899999856949,channel:1},{number:64,velocity:52,time:4.771,channel:1},{number:62,velocity:47,time:4.923899999856949,channel:1},{number:60,velocity:54,time:5.057,channel:1},{number:64,velocity:52,time:5.291,channel:1},{number:62,velocity:48,time:5.399899999856949,channel:1},{number:60,velocity:60,time:5.460899999856949,channel:1},{number:64,velocity:48,time:5.681,channel:1},{number:62,velocity:58,time:5.757,channel:1},{number:60,velocity:64,time:5.83,channel:1},{number:64,velocity:50,time:6.114,channel:1},{number:62,velocity:32,time:6.179899999856949,channel:1},{number:60,velocity:67,time:6.248,channel:1},{number:64,velocity:30,time:6.677899999856949,channel:1},{number:62,velocity:64,time:6.777,channel:1},{number:60,velocity:39,time:6.828,channel:1},{number:64,velocity:48,time:7.201,channel:1},{number:62,velocity:50,time:7.300899999856949,channel:1},{number:60,velocity:56,time:7.3698999998569485,channel:1},{number:64,velocity:48,time:7.796,channel:1},{number:62,velocity:40,time:7.913899999856949,channel:1},{number:60,velocity:54,time:7.989,channel:1},{number:64,velocity:46,time:8.425899999856949,channel:1},{number:62,velocity:54,time:8.52389999985695,channel:1},{number:60,velocity:65,time:8.59389999985695,channel:1},{number:64,velocity:40,time:9.022,channel:1},{number:62,velocity:50,time:9.121,channel:1},{number:60,velocity:56,time:9.181899999856949,channel:1},{number:64,velocity:47,time:9.605899999856948,channel:1},{number:62,velocity:48,time:9.71289999985695,channel:1},{number:60,velocity:60,time:9.791,channel:1},{number:64,velocity:52,time:10.252,channel:1},{number:62,velocity:55,time:10.346,channel:1},{number:60,velocity:52,time:10.425899999856949,channel:1},{number:64,velocity:44,time:10.817899999856948,channel:1},{number:62,velocity:52,time:10.918,channel:1},{number:60,velocity:50,time:10.978,channel:1},{number:64,velocity:48,time:11.39889999985695,channel:1},{number:62,velocity:48,time:11.495,channel:1},{number:60,velocity:55,time:11.575,channel:1},{number:43,velocity:42,time:12.501,channel:1},{number:45,velocity:52,time:12.622,channel:1},{number:47,velocity:44,time:12.776,channel:1},{number:64,velocity:47,time:13.005899999856949,channel:1},{number:62,velocity:51,time:13.174,channel:1},{number:60,velocity:61,time:13.32,channel:1},{number:43,velocity:38,time:13.586899999856948,channel:1},{number:45,velocity:36,time:13.718,channel:1},{number:47,velocity:60,time:13.896,channel:1},{number:64,velocity:44,time:14.112899999856948,channel:1},{number:62,velocity:48,time:14.25,channel:1},{number:60,velocity:55,time:14.343,channel:1},{number:43,velocity:64,time:14.562,channel:1},{number:45,velocity:43,time:14.691,channel:1},{number:47,velocity:60,time:14.84089999985695,channel:1},{number:64,velocity:44,time:15.031,channel:1},{number:62,velocity:47,time:15.149,channel:1},{number:60,velocity:57,time:15.29,channel:1},{number:43,velocity:21,time:15.463,channel:1},{number:45,velocity:29,time:15.531899999856948,channel:1},{number:47,velocity:49,time:15.74189999985695,channel:1},{number:64,velocity:38,time:15.95689999985695,channel:1},{number:62,velocity:50,time:16.10089999985695,channel:1},{number:60,velocity:41,time:16.227,channel:1},{number:43,velocity:1,time:16.30389999985695,channel:1},{number:45,velocity:20,time:16.39789999985695,channel:1},{number:47,velocity:58,time:16.571,channel:1},{number:64,velocity:42,time:16.716,channel:1},{number:62,velocity:42,time:16.861,channel:1},{number:60,velocity:48,time:16.955,channel:1},{number:43,velocity:36,time:17.079,channel:1},{number:45,velocity:33,time:17.21089999985695,channel:1},{number:47,velocity:52,time:17.343,channel:1},{number:64,velocity:49,time:17.46089999985695,channel:1},{number:62,velocity:54,time:17.604,channel:1},{number:60,velocity:52,time:17.691,channel:1},{number:43,velocity:18,time:17.80189999985695,channel:1},{number:45,velocity:23,time:17.94,channel:1},{number:47,velocity:54,time:18.091,channel:1},{number:64,velocity:29,time:18.217,channel:1},{number:62,velocity:53,time:18.33989999985695,channel:1},{number:60,velocity:51,time:18.43489999985695,channel:1},{number:43,velocity:25,time:18.577,channel:1},{number:45,velocity:37,time:18.753899999856948,channel:1},{number:47,velocity:42,time:18.886899999856947,channel:1},{number:64,velocity:34,time:19.071,channel:1},{number:62,velocity:43,time:19.208,channel:1},{number:60,velocity:60,time:19.30689999985695,channel:1},{number:43,velocity:20,time:19.539,channel:1},{number:45,velocity:42,time:19.702,channel:1},{number:47,velocity:31,time:19.843,channel:1},{number:64,velocity:42,time:20.348,channel:1},{number:62,velocity:43,time:20.45889999985695,channel:1},{number:60,velocity:56,time:20.54089999985695,channel:1},{number:43,velocity:33,time:20.92589999985695,channel:1},{number:45,velocity:36,time:21.071,channel:1},{number:47,velocity:38,time:21.192,channel:1},{number:64,velocity:25,time:21.608,channel:1},{number:62,velocity:60,time:21.7,channel:1},{number:60,velocity:67,time:21.763,channel:1},{number:43,velocity:26,time:22.151899999856948,channel:1},{number:45,velocity:50,time:22.28489999985695,channel:1},{number:47,velocity:35,time:22.408,channel:1},{number:64,velocity:51,time:22.778,channel:1},{number:62,velocity:65,time:22.895,channel:1},{number:60,velocity:65,time:22.966,channel:1},{number:43,velocity:22,time:23.32389999985695,channel:1},{number:45,velocity:31,time:23.465899999856948,channel:1},{number:47,velocity:62,time:23.578,channel:1},{number:64,velocity:12,time:24.013,channel:1},{number:62,velocity:49,time:24.094,channel:1},{number:60,velocity:60,time:24.182,channel:1},{number:48,velocity:30,time:34.96,channel:1},{number:48,velocity:1,time:37.529,channel:1},{number:50,velocity:9,time:38.00989999985695,channel:1},{number:53,velocity:14,time:38.982,channel:1},{number:48,velocity:1,time:40.822,channel:1},{number:52,velocity:27,time:41.344,channel:1},{number:55,velocity:19,time:41.815899999856946,channel:1},{number:48,velocity:30,time:43.126899999856946,channel:1},{number:52,velocity:52,time:43.251,channel:1},{number:55,velocity:14,time:43.431,channel:1},{number:48,velocity:48,time:43.745,channel:1},{number:52,velocity:50,time:43.879,channel:1},{number:55,velocity:30,time:44.02,channel:1},{number:48,velocity:38,time:44.355,channel:1},{number:52,velocity:48,time:44.507,channel:1},{number:55,velocity:37,time:44.682,channel:1},{number:48,velocity:22,time:45.09489999985695,channel:1},{number:52,velocity:36,time:45.232,channel:1},{number:55,velocity:56,time:45.401,channel:1},{number:48,velocity:9,time:45.819,channel:1},{number:52,velocity:30,time:45.942,channel:1},{number:55,velocity:48,time:46.09189999985695,channel:1},{number:60,velocity:47,time:50.402,channel:1},{number:64,velocity:1,time:51.346,channel:1},{number:65,velocity:22,time:51.813,channel:1},{number:48,velocity:18,time:52.31,channel:1},{number:52,velocity:57,time:52.474,channel:1},{number:55,velocity:50,time:52.592,channel:1},{number:60,velocity:40,time:52.915,channel:1},{number:64,velocity:16,time:53.08,channel:1},{number:65,velocity:61,time:53.197,channel:1},{number:48,velocity:25,time:53.566,channel:1},{number:52,velocity:41,time:53.69,channel:1},{number:55,velocity:54,time:53.82689999985695,channel:1},{number:60,velocity:31,time:54.043,channel:1},{number:64,velocity:33,time:54.187,channel:1},{number:65,velocity:55,time:54.292,channel:1},{number:48,velocity:36,time:54.56389999985695,channel:1},{number:52,velocity:50,time:54.677,channel:1},{number:55,velocity:50,time:54.831,channel:1},{number:60,velocity:34,time:55.066,channel:1},{number:64,velocity:7,time:55.242,channel:1},{number:65,velocity:57,time:55.36,channel:1},{number:48,velocity:20,time:56.44,channel:1},{number:52,velocity:56,time:56.617,channel:1},{number:55,velocity:48,time:56.752,channel:1},{number:65,velocity:1,time:56.95,channel:1},{number:64,velocity:42,time:57.114,channel:1},{number:60,velocity:54,time:57.286,channel:1},{number:48,velocity:40,time:57.54989999985695,channel:1},{number:52,velocity:56,time:57.699,channel:1},{number:55,velocity:24,time:57.894,channel:1},{number:65,velocity:23,time:58.147,channel:1},{number:64,velocity:6,time:58.361,channel:1},{number:60,velocity:13,time:58.53189999985695,channel:1},{number:48,velocity:25,time:58.724,channel:1},{number:52,velocity:49,time:58.876899999856946,channel:1},{number:55,velocity:46,time:59.033,channel:1},{number:65,velocity:18,time:59.281,channel:1},{number:64,velocity:40,time:59.51,channel:1},{number:60,velocity:30,time:59.664,channel:1},{number:48,velocity:15,time:59.84589999985695,channel:1},{number:52,velocity:52,time:60.008,channel:1},{number:55,velocity:38,time:60.16,channel:1},{number:65,velocity:23,time:60.376,channel:1},{number:64,velocity:36,time:60.562,channel:1},{number:60,velocity:48,time:60.744,channel:1},{number:48,velocity:1,time:60.852,channel:1},{number:52,velocity:48,time:60.965,channel:1},{number:55,velocity:46,time:61.14989999985695,channel:1},{number:65,velocity:22,time:61.42189999985695,channel:1},{number:64,velocity:44,time:61.618,channel:1},{number:60,velocity:18,time:61.792,channel:1},{number:48,velocity:22,time:61.985,channel:1},{number:52,velocity:42,time:62.153,channel:1},{number:55,velocity:45,time:62.30189999985695,channel:1},{number:65,velocity:26,time:62.528,channel:1},{number:64,velocity:23,time:62.714,channel:1},{number:60,velocity:15,time:62.891,channel:1},{number:48,velocity:41,time:63.796,channel:1},{number:52,velocity:65,time:63.94189999985695,channel:1},{number:55,velocity:64,time:64.024,channel:1},{number:65,velocity:42,time:64.41889999985695,channel:1},{number:64,velocity:58,time:64.549,channel:1},{number:60,velocity:49,time:64.679,channel:1},{number:48,velocity:24,time:65.057,channel:1},{number:52,velocity:64,time:65.224,channel:1},{number:55,velocity:48,time:65.372,channel:1},{number:65,velocity:25,time:65.747,channel:1},{number:64,velocity:44,time:65.906,channel:1},{number:60,velocity:47,time:65.994,channel:1},{number:48,velocity:23,time:66.423,channel:1},{number:52,velocity:58,time:66.56689999985694,channel:1},{number:55,velocity:21,time:66.718,channel:1},{number:65,velocity:22,time:67.109,channel:1},{number:64,velocity:54,time:67.25489999985695,channel:1},{number:60,velocity:68,time:67.393,channel:1},{number:48,velocity:23,time:67.76289999985696,channel:1},{number:52,velocity:48,time:67.915,channel:1},{number:55,velocity:64,time:68.06889999985695,channel:1},{number:65,velocity:15,time:68.445,channel:1},{number:64,velocity:62,time:68.62289999985695,channel:1},{number:60,velocity:36,time:68.766,channel:1},{number:48,velocity:63,time:70.263,channel:1},{number:52,velocity:68,time:70.38289999985695,channel:1},{number:55,velocity:45,time:70.481,channel:1},{number:65,velocity:38,time:70.77,channel:1},{number:64,velocity:16,time:70.946,channel:1},{number:60,velocity:34,time:71.062,channel:1},{number:48,velocity:37,time:71.46989999985695,channel:1},{number:52,velocity:62,time:71.632,channel:1},{number:55,velocity:64,time:71.827,channel:1},{number:65,velocity:23,time:72.16789999985694,channel:1},{number:64,velocity:58,time:72.314,channel:1},{number:60,velocity:38,time:72.43389999985695,channel:1},{number:48,velocity:34,time:72.832,channel:1},{number:52,velocity:49,time:72.973,channel:1},{number:55,velocity:58,time:73.087,channel:1},{number:48,velocity:38,time:73.508,channel:1},{number:52,velocity:51,time:73.63289999985695,channel:1},{number:55,velocity:50,time:73.769,channel:1},{number:48,velocity:40,time:74.174,channel:1},{number:52,velocity:49,time:74.27989999985695,channel:1},{number:55,velocity:57,time:74.36489999985695,channel:1},{number:48,velocity:32,time:74.764,channel:1},{number:52,velocity:44,time:74.873,channel:1},{number:55,velocity:57,time:75.008,channel:1},{number:48,velocity:42,time:75.416,channel:1},{number:52,velocity:48,time:75.549,channel:1},{number:55,velocity:58,time:75.664,channel:1},{number:48,velocity:50,time:76.068,channel:1},{number:52,velocity:54,time:76.207,channel:1},{number:55,velocity:62,time:76.324,channel:1},{number:48,velocity:51,time:76.63689999985695,channel:1},{number:52,velocity:52,time:76.762,channel:1},{number:55,velocity:63,time:76.869,channel:1},{number:48,velocity:62,time:77.23389999985694,channel:1},{number:52,velocity:59,time:77.353,channel:1},{number:55,velocity:62,time:77.423,channel:1},{number:48,velocity:40,time:77.837,channel:1},{number:52,velocity:61,time:77.974,channel:1},{number:55,velocity:58,time:78.064,channel:1},{number:48,velocity:16,time:78.47189999985694,channel:1},{number:52,velocity:54,time:78.603,channel:1},{number:55,velocity:60,time:78.683,channel:1},{number:48,velocity:40,time:79.095,channel:1},{number:52,velocity:54,time:79.214,channel:1},{number:55,velocity:62,time:79.315,channel:1},{number:48,velocity:22,time:79.75,channel:1},{number:52,velocity:60,time:79.879,channel:1},{number:55,velocity:61,time:79.985,channel:1},{number:48,velocity:23,time:80.45789999985695,channel:1},{number:52,velocity:59,time:80.596,channel:1},{number:55,velocity:54,time:80.71,channel:1},{number:48,velocity:30,time:81.118,channel:1},{number:52,velocity:45,time:81.231,channel:1},{number:55,velocity:58,time:81.32389999985695,channel:1},{number:48,velocity:32,time:81.73689999985694,channel:1},{number:52,velocity:48,time:81.846,channel:1},{number:55,velocity:64,time:81.95,channel:1},{number:48,velocity:58,time:82.35189999985695,channel:1},{number:52,velocity:47,time:82.45,channel:1},{number:55,velocity:66,time:82.558,channel:1},{number:48,velocity:54,time:82.95689999985694,channel:1},{number:52,velocity:56,time:83.06,channel:1},{number:55,velocity:67,time:83.135,channel:1},{number:65,velocity:34,time:83.514,channel:1},{number:64,velocity:30,time:83.675,channel:1},{number:60,velocity:30,time:83.737,channel:1},{number:48,velocity:64,time:84.144,channel:1},{number:52,velocity:58,time:84.269,channel:1},{number:55,velocity:64,time:84.353,channel:1},{number:65,velocity:24,time:84.673,channel:1},{number:64,velocity:50,time:84.808,channel:1},{number:60,velocity:45,time:84.86389999985695,channel:1},{number:48,velocity:42,time:85.18989999985695,channel:1},{number:52,velocity:64,time:85.35189999985695,channel:1},{number:55,velocity:44,time:85.476,channel:1},{number:65,velocity:24,time:85.773,channel:1},{number:64,velocity:61,time:85.945,channel:1},{number:60,velocity:54,time:86.005,channel:1},{number:48,velocity:48,time:86.21889999985694,channel:1},{number:52,velocity:62,time:86.459,channel:1},{number:55,velocity:66,time:86.592,channel:1},{number:67,velocity:22,time:86.961,channel:1},{number:64,velocity:47,time:87.251,channel:1},{number:60,velocity:29,time:87.255,channel:1},{number:48,velocity:39,time:87.78,channel:1},{number:52,velocity:65,time:87.952,channel:1},{number:55,velocity:38,time:88.019,channel:1},{number:67,velocity:47,time:88.332,channel:1},{number:64,velocity:65,time:88.44889999985695,channel:1},{number:60,velocity:59,time:88.554,channel:1},{number:48,velocity:44,time:88.871,channel:1},{number:52,velocity:64,time:89.053,channel:1},{number:55,velocity:58,time:89.175,channel:1},{number:67,velocity:52,time:89.545,channel:1},{number:64,velocity:68,time:89.67289999985695,channel:1},{number:60,velocity:56,time:89.756,channel:1},{number:48,velocity:18,time:90.027,channel:1},{number:52,velocity:60,time:90.229,channel:1},{number:55,velocity:62,time:90.34089999985694,channel:1},{number:67,velocity:23,time:90.718,channel:1},{number:64,velocity:46,time:90.845,channel:1},{number:60,velocity:33,time:90.91289999985695,channel:1},{number:48,velocity:19,time:91.262,channel:1},{number:52,velocity:57,time:91.424,channel:1},{number:55,velocity:66,time:91.536,channel:1},{number:67,velocity:24,time:91.867,channel:1},{number:64,velocity:62,time:91.99789999985695,channel:1},{number:60,velocity:44,time:92.075,channel:1},{number:48,velocity:17,time:92.39189999985695,channel:1},{number:52,velocity:56,time:92.55789999985694,channel:1},{number:55,velocity:68,time:92.681,channel:1},{number:67,velocity:23,time:93.051,channel:1},{number:64,velocity:60,time:93.184,channel:1},{number:60,velocity:64,time:93.241,channel:1},{number:48,velocity:44,time:93.484,channel:1},{number:52,velocity:59,time:93.70189999985695,channel:1},{number:55,velocity:61,time:93.81189999985695,channel:1},{number:67,velocity:24,time:94.131,channel:1},{number:64,velocity:60,time:94.26889999985696,channel:1},{number:60,velocity:25,time:94.376,channel:1},{number:48,velocity:38,time:94.744,channel:1},{number:52,velocity:64,time:94.855,channel:1},{number:55,velocity:64,time:94.94889999985695,channel:1},{number:67,velocity:40,time:95.313,channel:1},{number:64,velocity:58,time:95.438,channel:1},{number:60,velocity:27,time:95.50389999985696,channel:1},{number:48,velocity:15,time:95.822,channel:1},{number:52,velocity:44,time:96.012,channel:1},{number:55,velocity:70,time:96.092,channel:1},{number:67,velocity:17,time:96.39589999985695,channel:1},{number:64,velocity:31,time:96.571,channel:1},{number:65,velocity:24,time:96.575,channel:1},{number:60,velocity:34,time:96.65689999985695,channel:1},{number:48,velocity:21,time:97.038,channel:1},{number:52,velocity:58,time:97.228,channel:1},{number:55,velocity:44,time:97.378,channel:1},{number:67,velocity:26,time:98.16789999985694,channel:1},{number:64,velocity:62,time:98.368,channel:1},{number:60,velocity:57,time:98.47789999985694,channel:1},{number:48,velocity:12,time:98.933,channel:1},{number:52,velocity:58,time:99.19589999985695,channel:1},{number:55,velocity:59,time:99.27989999985695,channel:1},{number:67,velocity:25,time:99.673,channel:1},{number:64,velocity:70,time:99.77989999985695,channel:1},{number:60,velocity:47,time:99.906,channel:1},{number:48,velocity:27,time:100.356,channel:1},{number:52,velocity:66,time:100.48889999985695,channel:1},{number:55,velocity:60,time:100.61,channel:1},{number:67,velocity:11,time:100.843,channel:1},{number:64,velocity:69,time:100.99489999985695,channel:1},{number:60,velocity:60,time:101.115,channel:1},{number:48,velocity:1,time:101.596,channel:1},{number:52,velocity:62,time:101.73289999985695,channel:1},{number:55,velocity:63,time:101.83689999985695,channel:1},{number:67,velocity:1,time:102.288,channel:1},{number:64,velocity:56,time:102.39589999985695,channel:1},{number:60,velocity:66,time:102.536,channel:1},{number:48,velocity:19,time:102.90189999985695,channel:1},{number:52,velocity:61,time:103.081,channel:1},{number:55,velocity:67,time:103.194,channel:1},{number:67,velocity:21,time:103.65689999985695,channel:1},{number:64,velocity:52,time:103.778,channel:1},{number:60,velocity:69,time:103.887,channel:1},{number:48,velocity:22,time:104.347,channel:1},{number:52,velocity:62,time:104.50489999985695,channel:1},{number:55,velocity:58,time:104.607,channel:1},{number:67,velocity:14,time:104.986,channel:1},{number:64,velocity:57,time:105.10689999985695,channel:1},{number:60,velocity:50,time:105.208,channel:1},{number:48,velocity:40,time:105.609,channel:1},{number:52,velocity:62,time:105.73489999985695,channel:1},{number:55,velocity:64,time:105.849,channel:1},{number:67,velocity:44,time:106.231,channel:1},{number:64,velocity:52,time:106.348,channel:1},{number:60,velocity:52,time:106.46,channel:1},{number:48,velocity:1,time:106.79489999985695,channel:1},{number:52,velocity:60,time:106.94,channel:1},{number:55,velocity:68,time:107.048,channel:1},{number:67,velocity:26,time:107.447,channel:1},{number:64,velocity:58,time:107.542,channel:1},{number:60,velocity:60,time:107.66289999985695,channel:1},{number:48,velocity:21,time:108.07089999985695,channel:1},{number:52,velocity:52,time:108.199,channel:1},{number:55,velocity:63,time:108.282,channel:1},{number:67,velocity:30,time:108.697,channel:1},{number:64,velocity:65,time:108.79489999985695,channel:1},{number:60,velocity:52,time:108.901,channel:1}],lst="chord-arpeggio-timing",cst="0.16.2",ust="2024-10-10T16:55:06.612Z",t_={pastBeats:ast,maxNoteDistance:rst,tempo:ost,notes:sst,_appId:lst,_softwareVersion:cst,_date:ust};function dst(t){let e,i,a,r,s,l,u;return{c(){e=K("label"),i=oe(t[2]),a=q(),r=K("input"),dt(r,"type","number"),dt(r,"step",t[6]),dt(r,"min",t[4]),dt(r,"max",t[5]),r.disabled=t[8],dt(r,"style",s="width: "+t[7]+"; "+t[9]),dt(e,"title",t[3])},m(d,c){Ct(d,e,c),B(e,i),B(e,a),B(e,r),Qi(r,t[0]),l||(u=[Ue(r,"input",t[10]),Ue(r,"change",function(){Fo(t[1])&&t[1].apply(this,arguments)}),Ue(r,"mousewheel",t[11])],l=!0)},p(d,[c]){t=d,c&4&&Ge(i,t[2]),c&64&&dt(r,"step",t[6]),c&16&&dt(r,"min",t[4]),c&32&&dt(r,"max",t[5]),c&256&&(r.disabled=t[8]),c&640&&s!==(s="width: "+t[7]+"; "+t[9])&&dt(r,"style",s),c&1&&ur(r.value)!==t[0]&&Qi(r,t[0]),c&8&&dt(e,"title",t[3])},i:Ne,o:Ne,d(d){d&&bt(e),l=!1,f9(u)}}}function hst(t,e,i){let{value:a}=e,{callback:r=()=>{}}=e,{label:s=""}=e,{title:l=""}=e,{min:u=10}=e,{max:d=1/0}=e,{step:c=10}=e,{width:f="55px"}=e,{disabled:M=!1}=e,{style:m=""}=e;function A(){a=ur(this.value),i(0,a)}const p=y=>{if(y.preventDefault(),M)return;const E=y.deltaY<0?c:-c,v=Math.min(d,Math.max(u,a+E));i(0,a=+v.toFixed(12)),r()};return t.$$set=y=>{"value"in y&&i(0,a=y.value),"callback"in y&&i(1,r=y.callback),"label"in y&&i(2,s=y.label),"title"in y&&i(3,l=y.title),"min"in y&&i(4,u=y.min),"max"in y&&i(5,d=y.max),"step"in y&&i(6,c=y.step),"width"in y&&i(7,f=y.width),"disabled"in y&&i(8,M=y.disabled),"style"in y&&i(9,m=y.style)},[a,r,s,l,u,d,c,f,M,m,A,p]}class na extends Ki{constructor(e){super(),Wi(this,e,hst,dst,ji,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6,width:7,disabled:8,style:9})}}function fst(t){let e,i,a;return{c(){e=K("p"),e.textContent=`1) Play a chord progression that is tricky for you. Make sure
                the time between each chord and the previous is always roughly
                the same.`,i=q(),a=K("p"),a.textContent=`2) Play an arpeggio of this chord progression (with a pause
                after each).`},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function mst(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt;function ht(Mt){t[11](Mt)}let pt={callback:t[7]};t[4]!==void 0&&(pt.value=t[4]),c=new Hr({props:pt}),Me.push(()=>De(c,"value",ht));function gt(Mt){t[12](Mt)}let Tt={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio (in beats)",label:"max note distance",callback:t[7],min:.05,max:5,step:.05};t[3]!==void 0&&(Tt.value=t[3]),m=new na({props:Tt}),Me.push(()=>De(m,"value",gt));function vt(Mt){t[13](Mt)}let Ot={title:"The time in beats that is shown",label:"beats shown",callback:t[7],min:10,max:300,step:10};t[2]!==void 0&&(Ot.value=t[2]),y=new na({props:Ot}),Me.push(()=>De(y,"value",vt)),O=new F0({props:{tempo:t[4],accent:4}});function ft(Mt){t[15](Mt)}let St={saveToStorage:t[10],callback:t[7]};return t[5]!==void 0&&(St.notes=t[5]),R=new Y9({props:St}),Me.push(()=>De(R,"notes",ft)),N=new ha({props:{appId:t[0].id,loadData:t[9]}}),H=new aa({props:{loadData:t[9],getExportData:t[8],appId:t[0].id}}),W=new z9({props:{$$slots:{default:[fst]},$$scope:{ctx:t}}}),Q=new J9({props:{appId:t[0].id}}),z=new k9({props:{noteOn:t[6]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing the timing between chords and between the
            notes in them. Play chords or short arpeggios with pauses inbetween.
            In the visualization below, you can then see how long the time
            between the first and last note of each chord/arpeggio was and how
            much time lies between consecutive chords/arpeggios.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),w=K("div"),x=q(),b=K("div"),Ft(O.$$.fragment),S=q(),Ft(R.$$.fragment),P=q(),L=K("button"),L.textContent="example",k=q(),Ft(N.$$.fragment),$=q(),Ft(H.$$.fragment),U=q(),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),G=q(),Ft(z.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(w,"class","visualization"),dt(b,"class","control"),dt(e,"class","app")},m(Mt,Pt){Ct(Mt,e,Pt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,v),B(e,w),t[14](w),B(e,x),B(e,b),kt(O,b,null),B(b,S),kt(R,b,null),B(b,P),B(b,L),B(b,k),kt(N,b,null),B(b,$),kt(H,b,null),B(e,U),kt(W,e,null),B(e,J),kt(Q,e,null),B(e,G),kt(z,e,null),j=!0,nt||(tt=Ue(L,"click",t[16]),nt=!0)},p(Mt,Pt){(!j||Pt&1)&&a!==(a=Mt[0].title+"")&&Ge(r,a);const Vt={};!f&&Pt&16&&(f=!0,Vt.value=Mt[4],Re(()=>f=!1)),c.$set(Vt);const ie={};!A&&Pt&8&&(A=!0,ie.value=Mt[3],Re(()=>A=!1)),m.$set(ie);const jt={};!E&&Pt&4&&(E=!0,jt.value=Mt[2],Re(()=>E=!1)),y.$set(jt);const Wt={};Pt&16&&(Wt.tempo=Mt[4]),O.$set(Wt);const me={};!I&&Pt&32&&(I=!0,me.notes=Mt[5],Re(()=>I=!1)),R.$set(me);const Yt={};Pt&1&&(Yt.appId=Mt[0].id),N.$set(Yt);const pe={};Pt&1&&(pe.appId=Mt[0].id),H.$set(pe);const Qe={};Pt&262144&&(Qe.$$scope={dirty:Pt,ctx:Mt}),W.$set(Qe);const ni={};Pt&1&&(ni.appId=Mt[0].id),Q.$set(ni)},i(Mt){j||(Rt(c.$$.fragment,Mt),Rt(m.$$.fragment,Mt),Rt(y.$$.fragment,Mt),Rt(O.$$.fragment,Mt),Rt(R.$$.fragment,Mt),Rt(N.$$.fragment,Mt),Rt(H.$$.fragment,Mt),Rt(W.$$.fragment,Mt),Rt(Q.$$.fragment,Mt),Rt(z.$$.fragment,Mt),j=!0)},o(Mt){Dt(c.$$.fragment,Mt),Dt(m.$$.fragment,Mt),Dt(y.$$.fragment,Mt),Dt(O.$$.fragment,Mt),Dt(R.$$.fragment,Mt),Dt(N.$$.fragment,Mt),Dt(H.$$.fragment,Mt),Dt(W.$$.fragment,Mt),Dt(Q.$$.fragment,Mt),Dt(z.$$.fragment,Mt),j=!1},d(Mt){Mt&&bt(e),Nt(c),Nt(m),Nt(y),t[14](null),Nt(O),Nt(R),Nt(N),Nt(H),Nt(W),Nt(Q),Nt(z),nt=!1,tt()}}}function pst(t){let e,i;return e=new ra({props:{loadData:t[9],$$slots:{default:[mst]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&262207&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let c6=900,gst=350;function Mst(t,e,i){let{appInfo:a}=e,r,s=10,l=.25,u=90,d=0,c=[];const f=O=>{c.length===0&&(d=O.timestamp);const S=(O.timestamp-d)/1e3,R={number:O.note.number,velocity:O.rawVelocity,time:S,channel:O.message.channel};i(5,c=[...c,R]),M()},M=()=>{const O=ta(u),S=ca(c,U=>U.time)/O+.5,R=S-s,I=c.filter(U=>U.time/O>R).map(U=>({...U,time:U.time/O})),L=dp(I,l).map(U=>Oa(U,W=>W.time)),k=L.slice(1).map((U,W)=>[L[W][0],U[0]]),N=Bn({insetRight:10,width:c6,height:gst,marginLeft:60,marginBottom:0,padding:0,x:{label:null,domain:[R,S],grid:!0},y:{label:"MIDI Pitch",grid:!0,reverse:!0,tickFormat:U=>Ps[U].label},marks:[Mr(I,{clip:!0,x:"time",y:"number",fill:"#ddd",stroke:"#ccc",strokeWidth:2.5,inset:4})]}),$=Bn({insetRight:10,width:c6,height:40,marginLeft:60,marginTop:0,marginBottom:0,padding:0,x:{label:null,domain:[R,S],grid:!0},y:{ticks:[],label:"durations"},marks:[pE(L,{clip:!0,x1:U=>U[0],x2:U=>U[1],y:0,strokeWidth:4,stroke:"#888"}),Ta(L,{clip:!0,x:U=>(U[0]+U[1])/2,y:0,text:(U,W)=>(U[1]-U[0]).toFixed(1),dy:10,textAnchor:"middle"})]}),H=Bn({insetRight:10,width:c6,height:75,marginLeft:60,marginTop:0,marginBottom:40,padding:0,x:{label:"Time in beats",domain:[R,S],tickSize:10,grid:!0},y:{ticks:[],label:"gaps"},marks:[pE(k,{clip:!0,x1:U=>U[0],x2:U=>U[1],y:0,marker:"dot",strokeWidth:4,stroke:"#888"}),Ta(k,{clip:!0,x:U=>(U[0]+U[1])/2,y:0,text:(U,W)=>(U[1]-U[0]).toFixed(1),dx:2,dy:12,textAnchor:"middle"})]});i(1,r.textContent="",r),r.appendChild(N),r.appendChild($),r.appendChild(H)};c9(M);const m=()=>({pastBeats:s,maxNoteDistance:l,tempo:u,notes:c}),A=O=>{p(),i(2,s=O.pastBeats),i(3,l=O.maxNoteDistance),i(4,u=O.tempo),i(5,c=O.notes),M()},p=()=>{c.length>0&&JSON.stringify(c)!==JSON.stringify(t_.notes)&&da(a.id,m())};r9(p);function y(O){u=O,i(4,u)}function E(O){l=O,i(3,l)}function v(O){s=O,i(2,s)}function w(O){Me[O?"unshift":"push"](()=>{r=O,i(1,r)})}function x(O){c=O,i(5,c)}const b=()=>A(t_);return t.$$set=O=>{"appInfo"in O&&i(0,a=O.appInfo)},[a,r,s,l,u,c,f,M,m,A,p,y,E,v,w,x,b]}class Ast extends Ki{constructor(e){super(),Wi(this,e,Mst,pst,ji,{appInfo:0})}}const yst=4,vst=5,bst=.1,Cst=[{time:1.398,number:62,note:"D",velocity:88,string:1,fret:3,channel:2,chordId:0},{time:1.413,number:66,note:"F",velocity:38,string:0,fret:2,channel:1,chordId:0},{time:7.616,number:59,note:"B",velocity:10,string:5,fret:19,channel:6,chordId:2},{time:7.648,number:40,note:"E",velocity:98,string:5,fret:0,channel:6,chordId:1},{time:7.67,number:70,note:"A",velocity:82,string:3,fret:20,channel:4,chordId:2},{time:7.67510000000149,number:47,note:"B",velocity:112,string:4,fret:2,channel:5,chordId:1},{time:7.688,number:74,note:"D",velocity:51,string:2,fret:19,channel:3},{time:7.692,number:52,note:"E",velocity:127,string:3,fret:2,channel:4,chordId:1},{time:7.701,number:55,note:"G",velocity:115,string:2,fret:0,channel:3,chordId:1},{time:7.716,number:59,note:"B",velocity:97,string:1,fret:0,channel:2,chordId:1},{time:7.72810000000149,number:64,note:"E",velocity:71,string:0,fret:0,channel:1,chordId:1},{time:11.857,number:45,note:"A",velocity:100,string:4,fret:0,channel:5,chordId:2},{time:11.85910000000149,number:70,note:"A",velocity:80,string:3,fret:20,channel:4,chordId:3},{time:11.87910000000149,number:74,note:"D",velocity:48,string:2,fret:19,channel:3,chordId:3},{time:11.881,number:52,note:"E",velocity:127,string:3,fret:2,channel:4,chordId:2},{time:11.892,number:57,note:"A",velocity:114,string:2,fret:2,channel:3,chordId:2},{time:11.89510000000149,number:72,note:"C",velocity:32,string:1,fret:13,channel:2},{time:11.907,number:60,note:"C",velocity:113,string:1,fret:1,channel:2,chordId:2},{time:11.92210000000149,number:64,note:"E",velocity:90,string:0,fret:0,channel:1,chordId:2},{time:17.361,number:60,note:"C",velocity:46,string:4,fret:15,channel:5},{time:17.364,number:43,note:"G",velocity:75,string:5,fret:3,channel:6,chordId:3},{time:17.38010000000149,number:69,note:"A",velocity:73,string:3,fret:19,channel:4},{time:17.388,number:47,note:"B",velocity:68,string:4,fret:2,channel:5,chordId:3}],Est="chord-diagrams",_st="2024-07-03T18:34:37.899Z",e_={pastChords:yst,maxFretSpan:vst,maxNoteDistance:bst,notes:Cst,_appId:Est,_date:_st};function wst(t){let e,i,a,r,s;return{c(){e=K("p"),e.textContent="1) Play an A minor chord.",i=q(),a=K("p"),a.textContent=`2) Play chords you don't know by placing your fingers in
                different positions. If they sound good, look what they are
                called.`,r=q(),s=K("p"),s.textContent="3) Play an A minor chord in three different positions."},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function Ost(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j;function nt(ft){t[11](ft)}let tt={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",callback:t[7],min:.05,max:5,step:.05};t[4]!==void 0&&(tt.value=t[4]),c=new na({props:tt}),Me.push(()=>De(c,"value",nt));function ht(ft){t[12](ft)}let pt={title:"maximum distance between the lowest and highest fret",label:"max. fret span",callback:t[7],min:5,max:25,step:1};t[3]!==void 0&&(pt.value=t[3]),m=new na({props:pt}),Me.push(()=>De(m,"value",ht));function gt(ft){t[13](ft)}let Tt={title:"The number of played chords that is displayed",label:"chord count",callback:t[7],min:10,max:300,step:10};t[2]!==void 0&&(Tt.value=t[2]),y=new na({props:Tt}),Me.push(()=>De(y,"value",gt));function vt(ft){t[15](ft)}let Ot={saveToStorage:t[10],callback:t[7]};return t[5]!==void 0&&(Ot.notes=t[5]),O=new Y9({props:Ot}),Me.push(()=>De(O,"notes",vt)),L=new ha({props:{appId:t[0].id,loadData:t[9]}}),N=new aa({props:{loadData:t[9],getExportData:t[8],appId:t[0].id}}),H=new z9({props:{$$slots:{default:[wst]},$$scope:{ctx:t}}}),W=new J9({props:{appId:t[0].id}}),Q=new k9({props:{noteOn:t[6]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing different chord shapes on a guitar. Play
            chords you know (or don't know yet) and see the chord names and
            diagrams.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),w=K("div"),x=q(),b=K("div"),Ft(O.$$.fragment),R=q(),I=K("button"),I.textContent="example",P=q(),Ft(L.$$.fragment),k=q(),Ft(N.$$.fragment),$=q(),Ft(H.$$.fragment),U=q(),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(w,"class","visualization"),dt(b,"class","control"),dt(e,"class","app")},m(ft,St){Ct(ft,e,St),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,v),B(e,w),t[14](w),B(e,x),B(e,b),kt(O,b,null),B(b,R),B(b,I),B(b,P),kt(L,b,null),B(b,k),kt(N,b,null),B(e,$),kt(H,e,null),B(e,U),kt(W,e,null),B(e,J),kt(Q,e,null),G=!0,z||(j=Ue(I,"click",t[16]),z=!0)},p(ft,St){(!G||St&1)&&a!==(a=ft[0].title+"")&&Ge(r,a);const Mt={};!f&&St&16&&(f=!0,Mt.value=ft[4],Re(()=>f=!1)),c.$set(Mt);const Pt={};!A&&St&8&&(A=!0,Pt.value=ft[3],Re(()=>A=!1)),m.$set(Pt);const Vt={};!E&&St&4&&(E=!0,Vt.value=ft[2],Re(()=>E=!1)),y.$set(Vt);const ie={};!S&&St&32&&(S=!0,ie.notes=ft[5],Re(()=>S=!1)),O.$set(ie);const jt={};St&1&&(jt.appId=ft[0].id),L.$set(jt);const Wt={};St&1&&(Wt.appId=ft[0].id),N.$set(Wt);const me={};St&2097152&&(me.$$scope={dirty:St,ctx:ft}),H.$set(me);const Yt={};St&1&&(Yt.appId=ft[0].id),W.$set(Yt)},i(ft){G||(Rt(c.$$.fragment,ft),Rt(m.$$.fragment,ft),Rt(y.$$.fragment,ft),Rt(O.$$.fragment,ft),Rt(L.$$.fragment,ft),Rt(N.$$.fragment,ft),Rt(H.$$.fragment,ft),Rt(W.$$.fragment,ft),Rt(Q.$$.fragment,ft),G=!0)},o(ft){Dt(c.$$.fragment,ft),Dt(m.$$.fragment,ft),Dt(y.$$.fragment,ft),Dt(O.$$.fragment,ft),Dt(L.$$.fragment,ft),Dt(N.$$.fragment,ft),Dt(H.$$.fragment,ft),Dt(W.$$.fragment,ft),Dt(Q.$$.fragment,ft),G=!1},d(ft){ft&&bt(e),Nt(c),Nt(m),Nt(y),t[14](null),Nt(O),Nt(L),Nt(N),Nt(H),Nt(W),Nt(Q),z=!1,j()}}}function xst(t){let e,i;return e=new ra({props:{loadData:t[9],$$slots:{default:[Ost]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&2097215&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let i_=200,n_=6,Sst=24;function Tst(t,e,i){let{appInfo:a}=e,r,s=5,l=5,u=.1;const d=L7("guitarMidiMinVelocity")??0;let c=[64,59,55,50,45,40];const f=c.map(Ga.fromMidiSharps);let M=0,m=[];const A=I=>{if(m.length===0&&(M=I.timestamp),I.rawVelocity>=d){const P=(I.timestamp-M)/1e3,L=I.message.channel-1,k={time:P,number:I.note.number,note:I.note.name+(I.note.accidental??""),velocity:I.rawVelocity,string:L,fret:I.note.number-c[L],channel:I.message.channel};i(5,m=[...m,k]),p()}},p=()=>{let I=dp(m,u);I=I.map(N=>{N=Is(N,W=>W.string).map(([W,J])=>{const Q=J7(J,G=>G.velocity);return J[Q]});const $=N.filter(W=>W.fret>0);let H;$.length===0?H=0:H=Ir($,W=>W.fret);const U=H+l;return N.filter(W=>W.fret<=U)}),I=I.filter(N=>N.length>2).slice(-s).reverse();for(const[N,$]of I.entries())for(const H of $)H.chordId=N;const P=I.map(N=>{let $=N.sort((H,U)=>H.number-U.number).map(H=>Ga.fromMidiSharps(H.number));return $=[...new Set($)],Nf.detect($)}),L=(i_-35)/3*(l+1)+50,k=(L-100)/(l+2);i(1,r.textContent="",r);for(const[N,$]of I.entries()){const H=$.filter(Q=>Q.fret>0);let U=0;H.length>0&&(U=Ir(H,Q=>Q.fret));const W=U+l,J=Bn({width:L,height:i_,marginLeft:40,marginRight:10,marginBottom:25,padding:0,figure:!0,subtitle:P[N].join(", "),style:{textAlign:"center",margin:"auto"},x:{domain:Ei(U===0?0:U-1,W+2),label:"",tickSize:0,tickPadding:15},y:{domain:Ei(0,n_),tickFormat:Q=>f[Q],label:"",tickSize:0,tickPadding:15},color:{domain:Ei(12),range:nd.noteColormap,legend:N===0,marginLeft:250,width:500,type:"categorical",tickFormat:Q=>M0[Q]},r:{domain:[0,127],range:[5,10]},marks:[Ar(Ei(0,Sst+1),{stroke:"#ddd",dx:k/2}),H9(Ei(0,n_),{stroke:"#ddd",strokeWidth:Q=>Math.sqrt(Q+1)}),f0([3,5,7,9,15,17,19,21],{x:Q=>Q,y:2,dy:k/2,fill:"#ddd",r:8}),f0([12,12,24,24],{x:Q=>Q,y:(Q,G)=>G%2===0?1:3,dy:k/2,fill:"#ddd",r:8}),f0($.filter(Q=>Q.fret>0),{x:"fret",y:"string",r:"velocity",fill:Q=>Q.number%12,tip:!0}),Ta($.filter(Q=>Q.fret>0),{x:"fret",y:"string",text:"note",fill:"white"}),f0($.filter(Q=>Q.fret===0),{x:U===0?0:U-1,y:"string",r:"velocity",stroke:Q=>Q.number%12,tip:!0})]});r.appendChild(J)}};c9(p);const y=()=>({pastChords:s,maxFretSpan:l,maxNoteDistance:u,notes:m}),E=I=>{v(),i(2,s=I.pastChords),i(4,u=I.maxNoteDistance),i(3,l=I.maxFretSpan),i(5,m=I.notes),p()},v=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(e_.notes)&&da(a.id,y())};r9(v);function w(I){u=I,i(4,u)}function x(I){l=I,i(3,l)}function b(I){s=I,i(2,s)}function O(I){Me[I?"unshift":"push"](()=>{r=I,i(1,r)})}function S(I){m=I,i(5,m)}const R=()=>E(e_);return t.$$set=I=>{"appInfo"in I&&i(0,a=I.appInfo)},[a,r,s,l,u,m,A,p,y,E,v,w,x,b,O,S,R]}class Ist extends Ki{constructor(e){super(),Wi(this,e,Tst,xst,ji,{appInfo:0})}}const Bst=!1,Rst=100,Dst=[{time:0,velocity:94,number:48,note:"C",isSharp:!1,channel:1},{time:.183,velocity:75,number:48,note:"C",isSharp:!1,channel:1},{time:.4210999999046326,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:.6070999999046326,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:.8060999999046325,velocity:66,number:48,note:"C",isSharp:!1,channel:1},{time:1.044,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:1.2450999999046326,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:1.437,velocity:63,number:48,note:"C",isSharp:!1,channel:1},{time:1.6300999999046326,velocity:61,number:48,note:"C",isSharp:!1,channel:1},{time:1.8420999999046326,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:2.049,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:2.2550999999046324,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:2.46,velocity:70,number:48,note:"C",isSharp:!1,channel:1},{time:2.6610999999046325,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:2.8620999999046326,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:3.068,velocity:70,number:48,note:"C",isSharp:!1,channel:1},{time:3.275,velocity:74,number:48,note:"C",isSharp:!1,channel:1},{time:3.4690999999046324,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:3.668,velocity:72,number:48,note:"C",isSharp:!1,channel:1}],Pst="dynamics",Lst="0.14.0",kst="2024-09-24T14:20:32.325Z",a_={isBinning:Bst,barLimit:Rst,notes:Dst,_appId:Pst,_softwareVersion:Lst,_date:kst},Nst=!1,Fst=100,Ust=[{time:0,velocity:31,number:47,note:"B",isSharp:!1,channel:1},{time:.2,velocity:70,number:47,note:"B",isSharp:!1,channel:1},{time:.4,velocity:88,number:47,note:"B",isSharp:!1,channel:1},{time:.6,velocity:110,number:47,note:"B",isSharp:!1,channel:1},{time:.8,velocity:123,number:47,note:"B",isSharp:!1,channel:1}],$st="dynamics",Gst="0.14.0",Hst="2024-09-24T13:45:03.134Z",r_={isBinning:Nst,barLimit:Fst,notes:Ust,_appId:$st,_softwareVersion:Gst,_date:Hst},Vst=!1,Qst=100,zst=[{time:0,velocity:123,number:47,note:"B",isSharp:!1,channel:1},{time:.2,velocity:110,number:47,note:"B",isSharp:!1,channel:1},{time:.4,velocity:88,number:47,note:"B",isSharp:!1,channel:1},{time:.6,velocity:70,number:47,note:"B",isSharp:!1,channel:1},{time:.8,velocity:31,number:47,note:"B",isSharp:!1,channel:1}],Jst="dynamics",jst="0.14.0",Wst="2024-09-24T13:45:03.134Z",o_={isBinning:Vst,barLimit:Qst,notes:zst,_appId:Jst,_softwareVersion:jst,_date:Wst},Kst=!1,Xst=50,Yst=[{time:0,velocity:90,number:48,note:"C",isSharp:!1,channel:1},{time:.384,velocity:66,number:48,note:"C",isSharp:!1,channel:1},{time:.8109000000953674,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:1.2799000000953675,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:1.7509000000953674,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:2.201,velocity:65,number:48,note:"C",isSharp:!1,channel:1},{time:2.679,velocity:65,number:48,note:"C",isSharp:!1,channel:1},{time:3.1679000000953677,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:3.6569000000953675,velocity:96,number:48,note:"C",isSharp:!1,channel:1},{time:4.164,velocity:68,number:48,note:"C",isSharp:!1,channel:1},{time:4.702,velocity:71,number:48,note:"C",isSharp:!1,channel:1},{time:5.2259000000953675,velocity:68,number:48,note:"C",isSharp:!1,channel:1},{time:5.767,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:6.298900000095367,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:6.853,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:7.42,velocity:69,number:48,note:"C",isSharp:!1,channel:1},{time:7.978900000095368,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:8.477900000095367,velocity:63,number:48,note:"C",isSharp:!1,channel:1},{time:9.05,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:9.594,velocity:69,number:48,note:"C",isSharp:!1,channel:1}],qst="dynamics",Zst="0.14.0",tlt="2024-09-24T14:22:40.445Z",u6={isBinning:Kst,barLimit:Xst,notes:Yst,_appId:qst,_softwareVersion:Zst,_date:tlt};function elt(t){let e,i,a,r;const s=t[2].default,l=a1(s,t,t[1],null);return{c(){e=K("button"),l&&l.c(),dt(e,"class","svelte-14tizqb")},m(u,d){Ct(u,e,d),l&&l.m(e,null),i=!0,a||(r=Ue(e,"click",function(){Fo(t[0])&&t[0].apply(this,arguments)}),a=!0)},p(u,[d]){t=u,l&&l.p&&(!i||d&2)&&o1(l,s,t,t[1],i?r1(s,t[1],d,null):s1(t[1]),null)},i(u){i||(Rt(l,u),i=!0)},o(u){Dt(l,u),i=!1},d(u){u&&bt(e),l&&l.d(u),a=!1,r()}}}function ilt(t,e,i){let{$$slots:a={},$$scope:r}=e,{onclick:s=()=>{}}=e;return t.$$set=l=>{"onclick"in l&&i(0,s=l.onclick),"$$scope"in l&&i(1,r=l.$$scope)},[s,r,a]}class Sc extends Ki{constructor(e){super(),Wi(this,e,ilt,elt,ji,{onclick:0})}}var PP={exports:{}},LP={exports:{}};function nlt(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0}function alt(t,e){for(var i=t.replace(/[^A-Za-z0-9\+\/]/g,""),a=i.length,r=e?Math.ceil((a*3+1>>2)/e)*e:a*3+1>>2,s=new Uint8Array(r),l,u,d=0,c=0,f=0;f<a;f++)if(u=f&3,d|=nlt(i.charCodeAt(f))<<18-6*u,u===3||a-f===1){for(l=0;l<3&&c<r;l++,c++)s[c]=d>>>(16>>>l&24)&255;d=0}return s}var rlt={decode:alt},olt=function(t,e){return new Promise(function(i,a){var r=new XMLHttpRequest;e&&(r.responseType=e),r.open("GET",t),r.onload=function(){r.status===200?i(r.response):a(Error(r.statusText))},r.onerror=function(){a(Error("Network Error"))},r.send()})};(function(t){var e=rlt,i=olt;function a(R){return function(I){return typeof I=="string"&&R.test(I)}}function r(R,I){return typeof R=="string"?R+I:typeof R=="function"?R(I):I}function s(R,I,P,L){var k=l(I)?u:d(I)?c:f(I)?M:m(I)?A:p(I)?y:E(I)?v:w(I)?x:b(I)?O:null,N=P||{};return k?k(R,I,N):L?Promise.resolve(L):Promise.reject("Source not valid ("+I+")")}s.fetch=i;function l(R){return R instanceof ArrayBuffer}function u(R,I,P){return new Promise(function(L,k){R.decodeAudioData(I,function(N){L(N)},function(){k("Can't decode audio data ("+I.slice(0,30)+"...)")})})}var d=a(/\.(mp3|wav|ogg)(\?.*)?$/i);function c(R,I,P){var L=r(P.from,I);return s(R,s.fetch(L,"arraybuffer"),P)}function f(R){return R&&typeof R.then=="function"}function M(R,I,P){return I.then(function(L){return s(R,L,P)})}var m=Array.isArray;function A(R,I,P){return Promise.all(I.map(function(L){return s(R,L,P,L)}))}function p(R){return R&&typeof R=="object"}function y(R,I,P){var L={},k=Object.keys(I).map(function(N){if(P.only&&P.only.indexOf(N)===-1)return null;var $=I[N];return s(R,$,P,$).then(function(H){L[N]=H})});return Promise.all(k).then(function(){return L})}var E=a(/\.json(\?.*)?$/i);function v(R,I,P){var L=r(P.from,I);return s(R,s.fetch(L,"text").then(JSON.parse),P)}var w=a(/^data:audio/);function x(R,I,P){var L=I.indexOf(",");return s(R,e.decode(I.slice(L+1)).buffer,P)}var b=a(/\.js(\?.*)?$/i);function O(R,I,P){var L=r(P.from,I);return s(R,s.fetch(L,"text").then(S),P)}function S(R){var I=R.indexOf("MIDI.Soundfont.");if(I<0)throw Error("Invalid MIDI.js Soundfont format");I=R.indexOf("=",I)+2;var P=R.lastIndexOf(",");return JSON.parse(R.slice(I,P)+"}")}t.exports&&(t.exports=s),typeof window<"u"&&(window.loadAudio=s)})(LP);var slt=LP.exports,kP={exports:{}},llt=clt;function clt(t){var e=t.createGain(),i=e._voltage=hlt(t),a=Gu(i),r=Gu(i),s=Gu(i);return e._startAmount=Gu(r),e._endAmount=Gu(s),e._multiplier=Gu(a),e._multiplier.connect(e),e._startAmount.connect(e),e._endAmount.connect(e),e.value=a.gain,e.startValue=r.gain,e.endValue=s.gain,e.startValue.value=0,e.endValue.value=0,Object.defineProperties(e,ult),e}var ult={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(t){var e=this._multiplier.gain,i=this._startAmount.gain,a=this._endAmount.gain;this._voltage.start(t),this._decayFrom=this._decayFrom=t+this.attack,this._startedAt=t;var r=this.sustain;e.cancelScheduledValues(t),i.cancelScheduledValues(t),a.cancelScheduledValues(t),a.setValueAtTime(0,t),this.attack?(e.setValueAtTime(0,t),e.linearRampToValueAtTime(1,t+this.attack),i.setValueAtTime(1,t),i.linearRampToValueAtTime(0,t+this.attack)):(e.setValueAtTime(1,t),i.setValueAtTime(0,t)),this.decay&&e.setTargetAtTime(r,this._decayFrom,s_(this.decay))}},stop:{value:function(t,e){e&&(t=t-this.release);var i=t+this.release;if(this.release){var a=this._multiplier.gain,r=this._startAmount.gain,s=this._endAmount.gain;a.cancelScheduledValues(t),r.cancelScheduledValues(t),s.cancelScheduledValues(t);var l=s_(this.release);if(this.attack&&t<this._decayFrom){var u=flt(0,1,this._startedAt,this._decayFrom,t);a.linearRampToValueAtTime(u,t),r.linearRampToValueAtTime(1-u,t),r.setTargetAtTime(0,t,l)}s.setTargetAtTime(1,t,l),a.setTargetAtTime(0,t,l)}return this._voltage.stop(i),i}},onended:{get:function(){return this._voltage.onended},set:function(t){this._voltage.onended=t}}},dlt=new Float32Array([1,1]);function hlt(t){var e=t.createBufferSource(),i=t.createBuffer(1,2,t.sampleRate);return i.getChannelData(0).set(dlt),e.buffer=i,e.loop=!0,e}function Gu(t){var e=t.context.createGain();return t.connect(e),e}function s_(t){return Math.log(t+1)/Math.log(100)}function flt(t,e,i,a,r){var s=e-t,l=a-i,u=r-i,d=u/l,c=t+d*s;return c<=t&&(c=t),c>=e&&(c=e),c}var mlt=llt,plt={},glt={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function Mlt(t,e,i){var a=!1,r=0,s={},l=t.createGain();l.gain.value=1;var u=Object.assign({},glt,i),d={context:t,out:l,opts:u};return e instanceof AudioBuffer?d.buffer=e:d.buffers=e,d.start=function(M,m,A){if(d.buffer&&M!==null)return d.start(null,M,m);var p=M?d.buffers[M]:d.buffer;if(p){if(!a){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+M+" not found.");return}var y=A||plt;m=Math.max(t.currentTime,m||0),d.emit("start",m,M,y);var E=f(M,p,y);return E.id=c(M,E),E.env.start(m),E.source.start(m),d.emit("started",m,E.id,E),y.duration&&E.stop(m+y.duration),E},d.play=function(M,m,A){return d.start(M,m,A)},d.stop=function(M,m){var A;return m=m||Object.keys(s),m.map(function(p){return A=s[p],A?(A.stop(M),A.id):null})},d.connect=function(M){return a=!0,l.connect(M),d},d.emit=function(M,m,A,p){d.onevent&&d.onevent(M,m,A,p);var y=d["on"+M];y&&y(m,A,p)},d;function c(M,m){return m.id=r++,s[m.id]=m,m.source.onended=function(){var A=t.currentTime;m.source.disconnect(),m.env.disconnect(),m.disconnect(),d.emit("ended",A,m.id,m)},m.id}function f(M,m,A){var p=t.createGain();return p.gain.value=0,p.connect(l),p.env=ylt(t,A,u),p.env.connect(p.gain),p.source=t.createBufferSource(),p.source.buffer=m,p.source.connect(p),p.source.loop=A.loop||u.loop,p.source.playbackRate.value=vlt(A.cents||u.cents),p.source.loopStart=A.loopStart||u.loopStart,p.source.loopEnd=A.loopEnd||u.loopEnd,p.stop=function(y){var E=y||t.currentTime;d.emit("stop",E,M);var v=p.env.stop(E);p.source.stop(v)},p}}function l_(t){return typeof t=="number"}var Alt=["attack","decay","sustain","release"];function ylt(t,e,i){var a=mlt(t),r=e.adsr||i.adsr;return Alt.forEach(function(s,l){r?a[s]=r[l]:a[s]=e[s]||i[s]}),a.value.value=l_(e.gain)?e.gain:l_(i.gain)?i.gain:1,a}function vlt(t){return t?Math.pow(2,t/1200):1}var blt=Mlt,Clt=function(t){return t.on=function(e,i){if(arguments.length===1&&typeof e=="function")return t.on("event",e);var a="on"+e,r=t[a];return t[a]=r?Elt(r,i):i,t},t};function Elt(t,e){return function(i,a,r,s){t(i,a,r,s),e(i,a,r,s)}}var NP=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function _lt(){return NP}var wlt=[0,2,4,5,7,9,11];function FP(t,e,i){if(typeof t!="string")return null;var a=NP.exec(t);if(!a||!e&&a[4])return null;var r={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};return r.pc=r.letter+r.acc,r.step=(r.letter.charCodeAt(0)+3)%7,r.alt=r.acc[0]==="b"?-r.acc.length:r.acc.length,r.chroma=wlt[r.step]+r.alt,a[3]&&(r.oct=+a[3],r.midi=r.chroma+12*(r.oct+1),r.freq=UP(r.midi,i)),e&&(r.tonicOf=a[4]),r}function UP(t,e){return Math.pow(2,(t-69)/12)*(e||440)}var $P={parse:FP,regex:_lt,midiToFreq:UP},Olt=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];Olt.forEach(function(t){$P[t]=function(e){var i=FP(e);return i&&typeof i[t]<"u"?i[t]:null}});var xlt=$P,Slt=xlt,Tlt=function(t){return t!==null&&t!==[]&&t>=0&&t<129},Ilt=function(t){return Tlt(t)?+t:Slt.midi(t)},Blt=function(t){if(t.buffers){var e=t.opts.map,i=typeof e=="function"?e:Ilt,a=function(s){return s?i(s)||s:null};t.buffers=Rlt(t.buffers,a);var r=t.start;t.start=function(s,l,u){var d=a(s),c=d%1;return c&&(d=Math.floor(d),u=Object.assign(u||{},{cents:Math.floor(c*100)})),r(d,l,u)}}return t};function Rlt(t,e){return Object.keys(t).reduce(function(i,a){return i[e(a)]=t[a],i},{})}var Dlt=Array.isArray,Plt=function(t){return t&&typeof t=="object"},Llt={},klt=function(t){return t.schedule=function(e,i){var a=t.context.currentTime,r=e<a?a:e;t.emit("schedule",r,i);var s,l,u,d;return i.map(function(c){if(c)Dlt(c)?(s=c[0],l=c[1]):(s=c.time,l=c);else return null;return Plt(l)?(u=l.name||l.key||l.note||l.midi||null,d=l):(u=l,d=Llt),t.start(u,r+(s||0),d)})},t};function Km(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var GP={exports:{}};(function(t,e){(function(i){t.exports=i()})(function(){return function i(a,r,s){function l(c,f){if(!r[c]){if(!a[c]){var M=typeof Km=="function"&&Km;if(!f&&M)return M(c,!0);if(u)return u(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var A=r[c]={exports:{}};a[c][0].call(A.exports,function(p){var y=a[c][1][p];return l(y||p)},A,A.exports,i,a,r,s)}return r[c].exports}for(var u=typeof Km=="function"&&Km,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(i,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){function l(u){if(this._event=u,this._data=u.data,this.receivedTime=u.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=u.data[0]&240,this.channel=u.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=u.data[1]&127,this.velocity=u.data[2]&127;break;case 144:this.messageType="noteon",this.key=u.data[1]&127,this.velocity=u.data[2]&127;break;case 160:this.messageType="keypressure",this.key=u.data[1]&127,this.pressure=u.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=u.data[1]&127,this.controllerValue=u.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=u.data[1];break;case 208:this.messageType="channelpressure",this.pressure=u.data[1]&127;break;case 224:this.messageType="pitchbendchange";var d=u.data[2]&127,c=u.data[1]&127;this.pitchBend=(d<<8)+c;break}}return new l(s)},a.exports=r.default},{}]},{},[1])(1)})})(GP);var Nlt=GP.exports,Flt=Nlt,Ult=function(t){return t.listenToMidi=function(e,i){var a={},r=i||{},s=r.gain||function(l){return l/127};return e.onmidimessage=function(l){var u=l.messageType?l:Flt(l);if(u.messageType==="noteon"&&u.velocity===0&&(u.messageType="noteoff"),!(r.channel&&u.channel!==r.channel))switch(u.messageType){case"noteon":a[u.key]=t.play(u.key,0,{gain:s(u.velocity)});break;case"noteoff":a[u.key]&&(a[u.key].stop(),delete a[u.key]);break}},t},t};(function(t){var e=blt,i=Clt,a=Blt,r=klt,s=Ult;function l(u,d,c){return s(r(a(i(e(u,d,c)))))}t.exports&&(t.exports=l),typeof window<"u"&&(window.SamplePlayer=l)})(kP);var $lt=kP.exports;function c_(t,e){return Array(e+1).join(t)}function SM(t){return typeof t=="number"}function Glt(t){return typeof t=="string"}function Hlt(t){return typeof t<"u"}function HP(t,e){return Math.pow(2,(t-69)/12)*(e||440)}var VP=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function Vlt(){return VP}var Qlt=[0,2,4,5,7,9,11];function Gs(t,e,i){if(typeof t!="string")return null;var a=VP.exec(t);if(!a||!e&&a[4])return null;var r={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};r.pc=r.letter+r.acc,r.step=(r.letter.charCodeAt(0)+3)%7,r.alt=r.acc[0]==="b"?-r.acc.length:r.acc.length;var s=Qlt[r.step]+r.alt;return r.chroma=s<0?12+s:s%12,a[3]&&(r.oct=+a[3],r.midi=s+12*(r.oct+1),r.freq=HP(r.midi,i)),e&&(r.tonicOf=a[4]),r}var zlt="CDEFGAB";function Jlt(t){return SM(t)?t<0?c_("b",-t):c_("#",t):""}function jlt(t){return SM(t)?""+t:""}function QP(t,e,i){return t===null||typeof t>"u"?null:t.step?QP(t.step,t.alt,t.oct):t<0||t>6?null:zlt.charAt(t)+Jlt(e)+jlt(i)}function zP(t){if((SM(t)||Glt(t))&&t>=0&&t<128)return+t;var e=Gs(t);return e&&Hlt(e.midi)?e.midi:null}function Wlt(t,e){var i=zP(t);return i===null?null:HP(i,e)}function Klt(t){return(Gs(t)||{}).letter}function Xlt(t){return(Gs(t)||{}).acc}function Ylt(t){return(Gs(t)||{}).pc}function qlt(t){return(Gs(t)||{}).step}function Zlt(t){return(Gs(t)||{}).alt}function tct(t){return(Gs(t)||{}).chroma}function ect(t){return(Gs(t)||{}).oct}const ict=Object.freeze(Object.defineProperty({__proto__:null,acc:Xlt,alt:Zlt,build:QP,chroma:tct,freq:Wlt,letter:Klt,midi:zP,oct:ect,parse:Gs,pc:Ylt,regex:Vlt,step:qlt},Symbol.toStringTag,{value:"Module"})),nct=cq(ict);var d6,u_;function act(){if(u_)return d6;u_=1;var t=nct;function e(r,s){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof e))return new e(r);this.nameToUrl=s||e.nameToUrl,this.ctx=r,this.instruments={},this.promises=[]}e.prototype.onready=function(r){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(r)},e.prototype.instrument=function(r,s){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var l=this.ctx;if(r=r||"default",r in this.instruments)return this.instruments[r];var u={name:r,play:a(l,s)};if(this.instruments[r]=u,r!=="default"){var d=e.instrument(l,r,s).then(function(c){return u.play=c.play,u});this.promises.push(d),u.onready=function(c){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),d.then(c)}}else u.onready=function(c){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),c()};return u};function i(r,s,l){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),e.instrument(r,s,l).then(function(u){return u.buffers})}e.loadBuffers=i;function a(r,s){return s=s||{},function(l,u,d,c){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var f=l>0&&l<129?+l:t.midi(l),M=f?t.midiToFreq(f,440):null;if(M){d=d||.2,c=c||{};var m=c.destination||s.destination||r.destination,A=c.vcoType||s.vcoType||"sine",p=c.gain||s.gain||.4,y=r.createOscillator();y.type=A,y.frequency.value=M;var E=r.createGain();return E.gain.value=p,y.connect(E),E.connect(m),y.start(u),d>0&&y.stop(u+d),y}}}return e.noteToMidi=t.midi,d6=e,d6}(function(t){var e=slt,i=$lt;function a(u,d,c){if(arguments.length===1)return function(p,y){return a(u,p,y)};var f=c||{},M=f.isSoundfontURL||r,m=f.nameToUrl||s,A=M(d)?d:m(d,f.soundfont,f.format);return e(u,A,{only:f.only||f.notes}).then(function(p){var y=i(u,p,f).connect(f.destination?f.destination:u.destination);return y.url=A,y.name=d,y})}function r(u){return/\.js(\?.*)?$/i.test(u)}function s(u,d,c){return c=c==="ogg"?c:"mp3",d=d==="FluidR3_GM"?d:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+d+"/"+u+"-"+c+".js"}var l=act();l.instrument=a,l.nameToUrl=s,t.exports&&(t.exports=l),typeof window<"u"&&(window.Soundfont=l)})(PP);var rct=PP.exports;const oct=wg(rct);var fl,sd,ld,cd,ml,pl,gl,t1,Ml,ud,Ic,wo,gs,Bc,W0,dd,Ms,As,e1;const Wu=class Wu{constructor(){Dn(this,fl,null);Dn(this,sd,null);Dn(this,ld,null);Dn(this,cd,1);Dn(this,ml,null);Dn(this,pl,!1);Dn(this,gl,!1);xn(this,"currentPlayTime",null);Dn(this,t1,null);Dn(this,Ml,new AudioContext);Dn(this,ud,null);Dn(this,Ic,null);Dn(this,wo,0);Dn(this,gs,-1);Dn(this,Bc,[]);Dn(this,W0,[]);Dn(this,dd,null);Dn(this,Ms,!1);Dn(this,As,!1);Dn(this,e1,null);xn(this,"onTimeChange",e=>(Cn(this,fl,e),this));xn(this,"onStop",e=>(Cn(this,sd,e),this));xn(this,"getAvailableInstruments",()=>[...Wu.validInstruments.values()]);xn(this,"setVolume",e=>(Cn(this,cd,e),this));xn(this,"setLogging",e=>(Cn(this,gl,e),this));xn(this,"isPlaying",()=>Ve(this,Ms));xn(this,"isPaused",()=>Ve(this,As));xn(this,"playNotes",(e,i="acoustic_grand_piano",a=0,r=-1,s=1,l=!1)=>{if(Ve(this,Ms)&&!Ve(this,As)&&!Ve(this,pl)&&this.stop(),!e||e.length===0){console.warn("[PLAYER] Was called with no data");return}if(!Wu.validInstruments.has(i)){console.error(`[Player] Sound ${i} is not supported!`);return}Cn(this,Bc,[...e]);let u=new Oc(e).sortByTime();Cn(this,dd,u.getDuration()),a>0&&(u=u.filter(d=>d.start>=a).shiftTime(-a),console.log(`[Player] Will start at ${a.toFixed(2)} seconds with ${u.length()} notes left`)),s!==1&&s>0&&(u=u.scaleTime(1/s),Cn(this,dd,Ve(this,dd)/s)),e=u.getNotes(),console.log(`[Player] Playing ${e.length} notes with '${i}', speed ${s}, and volume ${Ve(this,cd)}`),Ve(this,Ml).state==="suspended"&&Ve(this,Ml).resume(),Cn(this,ld,i),Cn(this,wo,a),Cn(this,gs,r),Cn(this,ml,s),Cn(this,pl,l),Cn(this,W0,[...e]),i===Ve(this,e1)?this._start():this.preloadInstrument(i).then(this._start)});xn(this,"_start",()=>{console.log("[Player] Starting"),Cn(this,Ms,!0),Cn(this,As,!1),Cn(this,Ic,Ve(this,Ml).currentTime),this._scheduler()});xn(this,"_updateTime",e=>{const i=(e-Ve(this,Ic))*Ve(this,ml)+Ve(this,wo);this.currentPlayTime=i,Ve(this,fl)&&Ve(this,fl).call(this,i)});xn(this,"_playNote",(e,i)=>{const a=e.getDuration();Ve(this,gl)&&console.log(`[Player] Playing ${e.getName()} for ${a}s`);try{Ve(this,t1).play(e.pitch,i,{duration:a,gain:e.velocity,sustain:e.getDuration()})}catch(r){console.error("[Player] Error for note",e,r)}});xn(this,"_scheduler",()=>{const a=Ve(this,Ml).currentTime;this._updateTime(a);const r=(Ve(this,gs)-Ve(this,wo))/Ve(this,ml)+Ve(this,wo);for(;Ve(this,W0).length>0;){const l=Ve(this,Ic)+Ve(this,W0)[0].start;if(l>a+.1||Ve(this,gs)!==-1&&Ve(this,W0)[0].start+Ve(this,wo)>=r)break;const u=Ve(this,W0).shift();this._playNote(u,l)}const s=a-Ve(this,Ic)+Ve(this,wo);Ve(this,gs)!==-1&&s>=r?this._stopOrLoop():s>=Ve(this,dd)?this._stopOrLoop():Cn(this,ud,setTimeout(this._scheduler,33))});xn(this,"_stopOrLoop",()=>{Ve(this,pl)?this.playNotes(Ve(this,Bc),Ve(this,ld),Ve(this,wo),Ve(this,gs),Ve(this,ml),Ve(this,pl)):this.stop()});xn(this,"stop",(e=!0)=>{if(Ve(this,Ms))return console.log("[Player] Stopping player"),clearTimeout(Ve(this,ud)),this.currentPlayTime=null,Cn(this,Ms,!1),Cn(this,As,!1),Cn(this,Bc,[]),Cn(this,W0,[]),Ve(this,fl)&&Ve(this,fl).call(this,null),e&&Ve(this,sd)&&Ve(this,sd).call(this),this});xn(this,"pause",()=>(console.log("[Player] Pausing player"),clearTimeout(Ve(this,ud)),Cn(this,As,!0),this));xn(this,"resume",()=>{if(console.log("[Player] Resuming player"),!Ve(this,W0)||Ve(this,W0).length===0){console.warn("[Player] Cannot resume player since it has not been started!");return}return this.playNotes(Ve(this,Bc),Ve(this,ld),this.currentPlayTime,Ve(this,gs),Ve(this,ml),Ve(this,pl)),this});xn(this,"pauseOrResume",()=>{if(!Ve(this,Ms)){console.warn("[Player] Cannot pause / resume when player is not playing!");return}return Ve(this,As)?this.resume():this.pause(),this})}async preloadInstrument(e){if(e==="silent")return;const i=`soundfonts/${e}-mp3.js`;Ve(this,gl)&&console.log(`[Player] Pre-loading sound font from ${i}`),Wu.validInstruments.has(e)||console.warn(`[Player] Invalid sound ${e}`),Ve(this,gl)&&console.log(`[Player] Loading soundfont ${e}`);const a={from:"",gain:Ve(this,cd)},r=await oct.instrument(Ve(this,Ml),i,a);Cn(this,e1,e),Cn(this,t1,r),Ve(this,gl)&&console.log(`[Player] Finished loading soundfont ${e}`)}};fl=new WeakMap,sd=new WeakMap,ld=new WeakMap,cd=new WeakMap,ml=new WeakMap,pl=new WeakMap,gl=new WeakMap,t1=new WeakMap,Ml=new WeakMap,ud=new WeakMap,Ic=new WeakMap,wo=new WeakMap,gs=new WeakMap,Bc=new WeakMap,W0=new WeakMap,dd=new WeakMap,Ms=new WeakMap,As=new WeakMap,e1=new WeakMap,xn(Wu,"validInstruments",new Map([["acoustic_grand_piano",{value:"acoustic_grand_piano",label:"Acoustic grand piano"}],["acoustic_guitar_nylon",{value:"acoustic_guitar_nylon",label:"Acoustic guitar nylon"}],["acoustic_guitar_steel",{value:"acoustic_guitar_steel",label:"Acoustic guitar steel"}],["electric_bass_finger",{value:"electric_bass_finger",label:"Electric bass finger"}],["electric_guitar_clean",{value:"electric_guitar_clean",label:"Electric guitar clean"}],["percussion",{value:"percussion",label:"Percussion"}]]));let k7=Wu;function d_(t){let e,i,a;function r(l){t[9](l)}let s={title:"sound",style:"margin: 0 -12.5px 0 -0.5px; border-radius: 0",disabled:t[1].length===0||t[4],$$slots:{default:[sct]},$$scope:{ctx:t}};return t[0]!==void 0&&(s.value=t[0]),e=new ia({props:s}),Me.push(()=>De(e,"value",r)),{c(){Ft(e.$$.fragment)},m(l,u){kt(e,l,u),a=!0},p(l,u){const d={};u&18&&(d.disabled=l[1].length===0||l[4]),u&1048576&&(d.$$scope={dirty:u,ctx:l}),!i&&u&1&&(i=!0,d.value=l[0],Re(()=>i=!1)),e.$set(d)},i(l){a||(Rt(e.$$.fragment,l),a=!0)},o(l){Dt(e.$$.fragment,l),a=!1},d(l){Nt(e,l)}}}function sct(t){let e,i,a,r,s,l,u;return{c(){e=K("option"),e.textContent=`${set}`,i=q(),a=K("option"),a.textContent=`${KB}`,r=q(),s=K("option"),s.textContent=`${XB}`,l=q(),u=K("option"),u.textContent=`${YB}`,e.__value="silent",Qi(e,e.__value),a.__value="acoustic_grand_piano",Qi(a,a.__value),s.__value="percussion",Qi(s,s.__value),u.__value="acoustic_guitar_nylon",Qi(u,u.__value)},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function lct(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E,v,w=t[3]&&d_(t);function x(O){t[10](O)}let b={title:"replay speed (2 means twice as fast, 0.5 half as fast)",min:.5,max:10,step:.5,width:"40px",disabled:t[1].length===0||t[4],style:"border-radius: 0 8px 8px 0; margin: 0;"};return t[2]!==void 0&&(b.value=t[2]),A=new na({props:b}),Me.push(()=>De(A,"value",x)),{c(){e=K("main"),i=K("button"),a=Ro("svg"),r=Ro("path"),l=Ro("circle"),d=Ro("circle"),M=q(),w&&w.c(),m=q(),Ft(A.$$.fragment),dt(r,"x",0),dt(r,"y",0),dt(r,"d",s=`M4,4 L4,${rr-4} L${rr-4},${t[4]?rr-4:rr/2} L${t[4]?rr-4:4},4 Z`),dt(r,"fill","#444"),dt(r,"stroke","#444"),dt(r,"stroke-width","3"),dt(r,"stroke-linejoin","round"),dt(r,"rx","3"),dt(r,"class","svelte-cvgzat"),dt(l,"cx",rr/2),dt(l,"cy",rr/2),dt(l,"r",N7),dt(l,"stroke","#888"),dt(l,"visibility",u=t[4]?"visible":"hidden"),dt(l,"class","svelte-cvgzat"),dt(d,"cx",rr/2),dt(d,"cy",rr/2),dt(d,"r",N7),dt(d,"stroke","white"),dt(d,"visibility",c=t[4]?"visible":"hidden"),dt(d,"class","svelte-cvgzat"),dt(a,"width",rr+"px"),dt(a,"height",rr+"px"),gn(a,"width",rr+"px"),gn(a,"height",rr+"px"),dt(a,"class","svelte-cvgzat"),dt(i,"title","replay the current notes, click again to stop"),i.disabled=f=t[1].length===0,dt(i,"class","svelte-cvgzat"),dt(e,"class","svelte-cvgzat")},m(O,S){Ct(O,e,S),B(e,i),B(i,a),B(a,r),B(a,l),B(a,d),t[8](d),B(e,M),w&&w.m(e,null),B(e,m),kt(A,e,null),y=!0,E||(v=Ue(i,"click",t[6]),E=!0)},p(O,[S]){(!y||S&16&&s!==(s=`M4,4 L4,${rr-4} L${rr-4},${O[4]?rr-4:rr/2} L${O[4]?rr-4:4},4 Z`))&&dt(r,"d",s),(!y||S&16&&u!==(u=O[4]?"visible":"hidden"))&&dt(l,"visibility",u),(!y||S&16&&c!==(c=O[4]?"visible":"hidden"))&&dt(d,"visibility",c),(!y||S&2&&f!==(f=O[1].length===0))&&(i.disabled=f),O[3]?w?(w.p(O,S),S&8&&Rt(w,1)):(w=d_(O),w.c(),Rt(w,1),w.m(e,m)):w&&(so(),Dt(w,1,1,()=>{w=null}),lo());const R={};S&18&&(R.disabled=O[1].length===0||O[4]),!p&&S&4&&(p=!0,R.value=O[2],Re(()=>p=!1)),A.$set(R)},i(O){y||(Rt(w),Rt(A.$$.fragment,O),y=!0)},o(O){Dt(w),Dt(A.$$.fragment,O),y=!1},d(O){O&&bt(e),t[8](null),w&&w.d(),Nt(A),E=!1,v()}}}const rr=24,N7=4.5;function cct(t,e,i){let{notes:a=[]}=e,{speed:r=1}=e,{callback:s=()=>{}}=e,{allowSound:l=!0}=e,{sound:u="silent"}=e,d=[],c,f=!1,M,m,A=0;const p=new k7,y=()=>{i(4,f=!0);const R=1e3/r;c=[...a],i(1,a=[]),d=[];let[I,P]=Oa(c,k=>k.time??k);P=P-I;for(const k of c){const N=(k.time??k)-I;d.push(setTimeout(()=>{i(1,a=[...a,k]),a.length===c.length?v():s()},N*R))}const L=()=>{const k=(performance.now()-A)/1e3*r;x(k/P),m=requestAnimationFrame(L)};if(A=performance.now(),m=requestAnimationFrame(L),u!=="silent"){const k=c.at(0).time,N=c.map($=>{const H=$.time-k,U=$.duration??.2;let W=$.velocityRaw??$.velocity??1;return W=W<=1?W:W/127,td.from({pitch:$.number??33,start:H,end:H+U,duration:U,velocity:W,channel:0})});p.playNotes(N,u,0,void 0,r)}},E=()=>{i(4,f=!1),i(1,a=c);for(const R of d)clearTimeout(R);cancelAnimationFrame(m),d=[],p.stop()},v=()=>{E(),s()},w=()=>{f?v():y()};r9(E);const x=R=>{const I=2*Math.PI*N7,P=R*I;M.setAttribute("stroke-dasharray",[P,I-P]),M.setAttribute("stroke-dashoffset",1/4*I)};function b(R){Me[R?"unshift":"push"](()=>{M=R,i(5,M)})}function O(R){u=R,i(0,u)}function S(R){r=R,i(2,r)}return t.$$set=R=>{"notes"in R&&i(1,a=R.notes),"speed"in R&&i(2,r=R.speed),"callback"in R&&i(7,s=R.callback),"allowSound"in R&&i(3,l=R.allowSound),"sound"in R&&i(0,u=R.sound)},t.$$.update=()=>{t.$$.dirty&1&&p.preloadInstrument(u)},[u,a,r,l,f,M,w,s,b,O,S]}class y0 extends Ki{constructor(e){super(),Wi(this,e,cct,lct,ji,{notes:1,speed:2,callback:7,allowSound:3,sound:0})}}function uct(t,e,i){const a=t.slice();return a[24]=e[i],a}function dct(t){let e;return{c(){e=K("option"),e.textContent=`${t[24]}`,e.__value=t[24],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function hct(t){let e,i=$e(["none","channel","sharps","note","drum"]),a=[];for(let r=0;r<5;r+=1)a[r]=dct(uct(t,i,r));return{c(){for(let r=0;r<5;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<5;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function fct(t){let e;return{c(){e=oe("example")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function mct(t){let e;return{c(){e=oe("example")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function pct(t){let e;return{c(){e=oe("example")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function gct(t){let e;return{c(){e=oe("example")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function Mct(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E;return a=new Sc({props:{onclick:t[18],$$slots:{default:[fct]},$$scope:{ctx:t}}}),u=new Sc({props:{onclick:t[19],$$slots:{default:[mct]},$$scope:{ctx:t}}}),M=new Sc({props:{onclick:t[20],$$slots:{default:[pct]},$$scope:{ctx:t}}}),y=new Sc({props:{onclick:t[21],$$slots:{default:[gct]},$$scope:{ctx:t}}}),{c(){e=K("p"),i=oe(`1) Play all notes between a mezzo-piano (mp) and a forte (f).
                `),Ft(a.$$.fragment),r=q(),s=K("p"),l=oe(`2) Play a crescendo, starting at below pp and rising until above
                ff smoothly.
                `),Ft(u.$$.fragment),d=q(),c=K("p"),f=oe(`3) Play a descrescendo from above ff to below pp.
                `),Ft(M.$$.fragment),m=q(),A=K("p"),p=oe(`4) Play accents, for example on each 4th note. They should be
                loud enough to be easily distinguishable from the non-accented
                notes.
                `),Ft(y.$$.fragment)},m(v,w){Ct(v,e,w),B(e,i),kt(a,e,null),Ct(v,r,w),Ct(v,s,w),B(s,l),kt(u,s,null),Ct(v,d,w),Ct(v,c,w),B(c,f),kt(M,c,null),Ct(v,m,w),Ct(v,A,w),B(A,p),kt(y,A,null),E=!0},p(v,w){const x={};w&134217728&&(x.$$scope={dirty:w,ctx:v}),a.$set(x);const b={};w&134217728&&(b.$$scope={dirty:w,ctx:v}),u.$set(b);const O={};w&134217728&&(O.$$scope={dirty:w,ctx:v}),M.$set(O);const S={};w&134217728&&(S.$$scope={dirty:w,ctx:v}),y.$set(S)},i(v){E||(Rt(a.$$.fragment,v),Rt(u.$$.fragment,v),Rt(M.$$.fragment,v),Rt(y.$$.fragment,v),E=!0)},o(v){Dt(a.$$.fragment,v),Dt(u.$$.fragment,v),Dt(M.$$.fragment,v),Dt(y.$$.fragment,v),E=!1},d(v){v&&(bt(e),bt(r),bt(s),bt(d),bt(c),bt(m),bt(A)),Nt(a),Nt(u),Nt(M),Nt(y)}}}function Act(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht;function pt(ie){t[11](ie)}let gt={label:"rounding",title:"You can change between seeing exact bar heights and binned (rounded) heights.",callback:t[7]};t[2]!==void 0&&(gt.checked=t[2]),c=new R9({props:gt}),Me.push(()=>De(c,"checked",pt));function Tt(ie){t[12](ie)}let vt={title:"The number of most recent notes that are shown as bars.",label:"bars",callback:t[7],step:25,min:25,max:1e3};t[3]!==void 0&&(vt.value=t[3]),m=new na({props:vt}),Me.push(()=>De(m,"value",Tt));function Ot(ie){t[13](ie)}let ft={label:"color",callback:t[7],$$slots:{default:[hct]},$$scope:{ctx:t}};t[4]!==void 0&&(ft.value=t[4]),y=new ia({props:ft}),Me.push(()=>De(y,"value",Ot));function St(ie){t[15](ie)}let Mt={saveToStorage:t[10],callback:t[7]};t[5]!==void 0&&(Mt.notes=t[5]),O=new Y9({props:Mt}),Me.push(()=>De(O,"notes",St)),L=new ha({props:{appId:t[0].id,loadData:t[9]}});function Pt(ie){t[17](ie)}let Vt={callback:t[7]};return t[5]!==void 0&&(Vt.notes=t[5]),N=new y0({props:Vt}),Me.push(()=>De(N,"notes",Pt)),U=new aa({props:{loadData:t[9],getExportData:t[8],appId:t[0].id}}),J=new z9({props:{$$slots:{default:[Mct]},$$scope:{ctx:t}}}),G=new J9({props:{appId:t[0].id}}),j=new k9({props:{noteOn:t[6]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing controlling the loudness of notes, for
            example to keep at a roughly constant loudness, play accents, or
            smoothly in- or decrease it. The loudness of each note is be shown
            as a bar in chart below. Bar heights can be rounded to the closest
            <a href="https://en.wikipedia.org/wiki/Dynamics_(music)" target="_blank" referrerpolicy="no-referrer">dynamics marking</a> for a clearer overview.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),w=K("div"),x=q(),b=K("div"),Ft(O.$$.fragment),R=q(),I=K("button"),I.textContent="example",P=q(),Ft(L.$$.fragment),k=q(),Ft(N.$$.fragment),H=q(),Ft(U.$$.fragment),W=q(),Ft(J.$$.fragment),Q=q(),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control svelte-dntfva"),dt(w,"class","visualization svelte-dntfva"),dt(b,"class","control svelte-dntfva"),dt(e,"class","app")},m(ie,jt){Ct(ie,e,jt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,v),B(e,w),t[14](w),B(e,x),B(e,b),kt(O,b,null),B(b,R),B(b,I),B(b,P),kt(L,b,null),B(b,k),kt(N,b,null),B(b,H),kt(U,b,null),B(e,W),kt(J,e,null),B(e,Q),kt(G,e,null),B(e,z),kt(j,e,null),nt=!0,tt||(ht=Ue(I,"click",t[16]),tt=!0)},p(ie,jt){(!nt||jt&1)&&a!==(a=ie[0].title+"")&&Ge(r,a);const Wt={};!f&&jt&4&&(f=!0,Wt.checked=ie[2],Re(()=>f=!1)),c.$set(Wt);const me={};!A&&jt&8&&(A=!0,me.value=ie[3],Re(()=>A=!1)),m.$set(me);const Yt={};jt&134217728&&(Yt.$$scope={dirty:jt,ctx:ie}),!E&&jt&16&&(E=!0,Yt.value=ie[4],Re(()=>E=!1)),y.$set(Yt);const pe={};!S&&jt&32&&(S=!0,pe.notes=ie[5],Re(()=>S=!1)),O.$set(pe);const Qe={};jt&1&&(Qe.appId=ie[0].id),L.$set(Qe);const ni={};!$&&jt&32&&($=!0,ni.notes=ie[5],Re(()=>$=!1)),N.$set(ni);const ei={};jt&1&&(ei.appId=ie[0].id),U.$set(ei);const Ci={};jt&134217728&&(Ci.$$scope={dirty:jt,ctx:ie}),J.$set(Ci);const ai={};jt&1&&(ai.appId=ie[0].id),G.$set(ai)},i(ie){nt||(Rt(c.$$.fragment,ie),Rt(m.$$.fragment,ie),Rt(y.$$.fragment,ie),Rt(O.$$.fragment,ie),Rt(L.$$.fragment,ie),Rt(N.$$.fragment,ie),Rt(U.$$.fragment,ie),Rt(J.$$.fragment,ie),Rt(G.$$.fragment,ie),Rt(j.$$.fragment,ie),nt=!0)},o(ie){Dt(c.$$.fragment,ie),Dt(m.$$.fragment,ie),Dt(y.$$.fragment,ie),Dt(O.$$.fragment,ie),Dt(L.$$.fragment,ie),Dt(N.$$.fragment,ie),Dt(U.$$.fragment,ie),Dt(J.$$.fragment,ie),Dt(G.$$.fragment,ie),Dt(j.$$.fragment,ie),nt=!1},d(ie){ie&&bt(e),Nt(c),Nt(m),Nt(y),t[14](null),Nt(O),Nt(L),Nt(N),Nt(U),Nt(J),Nt(G),Nt(j),tt=!1,ht()}}}function yct(t){let e,i;return e=new ra({props:{loadData:t[9],$$slots:{default:[Act]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&134217791&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let vct=900,bct=300;function Cct(t,e,i){let{appInfo:a}=e,r;const s=Ud;let l=!1,u=50,d="none",c,f=[];const M=k=>{f.length===0&&(c=k.timestamp);const $={time:(k.timestamp-c)/1e3,velocity:k.rawVelocity,number:k.note.number,note:k.note.name+(k.note.accidental??""),isSharp:!!k.note.accidental,channel:k.message.channel};i(5,f=[...f,$]),m()},m=()=>{let k=f;if(l){const W=[...s.keys()];k=f.map(J=>{const Q=Pc(W,G=>Math.abs(J.velocity-G));return{...J,velocity:W[Q]}})}const N=[...s.keys()];let $,H;if(d==="sharps")H=["natural","sharp"],$=["#ddd","#888"];else if(d==="channel")$=Z0,H=Ei($.length);else if(d==="note")H=M0,$=nd.noteColormapAccessible2;else if(d==="drum"){const W=[...r4.values()].map(J=>J.label);H=[...new Set(W),"other"],$=Z0}const U=Bn({width:vct,height:bct,marginLeft:45,marginRight:120,x:{axis:!1},y:{domain:[0,128]},color:{legend:d!=="none",type:"categorical",domain:H,range:$},marks:[Kd(k.slice(-u),{x:(W,J)=>J,y:W=>W.velocity,fill:W=>{var J;if(d==="none")return"#ddd";if(d==="channel")return W.channel%H.length;if(d==="sharps")return W.isSharp?"sharp":"natural";if(d==="drum")return((J=r4.get(W.number))==null?void 0:J.label)??"other";if(d==="note")return W.note},rx1y1:4,rx2y1:4,inset:0,dx:.5}),H9(N,{stroke:"#888"}),Vo({anchor:"left",ticks:N,tickFormat:W=>s.get(W),tickSize:0}),Vo({anchor:"right",ticks:N,tickFormat:W=>Fot.get(s.get(W)),tickSize:0})]});i(1,r.textContent="",r),r.appendChild(U)};c9(m);const A=()=>({isBinning:l,barLimit:u,notes:f}),p=k=>{y(),i(2,l=k.isBinning),i(3,u=k.barLimit),i(5,f=k.notes),m()},y=()=>{const k=JSON.stringify(f);f.length>0&&k!==JSON.stringify(a_.notes)&&k!==JSON.stringify(r_.notes)&&k!==JSON.stringify(o_.notes)&&k!==JSON.stringify(u6.notes)&&da(a.id,A())};r9(y);function E(k){l=k,i(2,l)}function v(k){u=k,i(3,u)}function w(k){d=k,i(4,d)}function x(k){Me[k?"unshift":"push"](()=>{r=k,i(1,r)})}function b(k){f=k,i(5,f)}const O=()=>p(u6);function S(k){f=k,i(5,f)}const R=()=>p(a_),I=()=>p(r_),P=()=>p(o_),L=()=>p(u6);return t.$$set=k=>{"appInfo"in k&&i(0,a=k.appInfo)},[a,r,l,u,d,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L]}class Ect extends Ki{constructor(e){super(),Wi(this,e,Cct,yct,ji,{appInfo:0})}}function h_(t,e,i){const a=t.slice();return a[13]=e[i],a}function f_(t,e,i){const a=t.slice();return a[16]=e[i],a}function m_(t){let e,i=t[16]+"",a;return{c(){e=K("option"),a=oe(i),e.__value=t[16],Qi(e,e.__value)},m(r,s){Ct(r,e,s),B(e,a)},p:Ne,d(r){r&&bt(e)}}}function p_(t){let e,i=t[13]+"",a,r;return{c(){e=K("option"),a=oe(i),e.__value=r=t[13],Qi(e,e.__value)},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){l&16&&i!==(i=s[13]+"")&&Ge(a,i),l&16&&r!==(r=s[13])&&(e.__value=r,Qi(e,e.__value))},d(s){s&&bt(e)}}}function _ct(t){let e,i,a,r,s,l,u,d=$e(t[5]),c=[];for(let m=0;m<d.length;m+=1)c[m]=m_(f_(t,d,m));let f=$e(t[4]),M=[];for(let m=0;m<f.length;m+=1)M[m]=p_(h_(t,f,m));return{c(){e=K("label"),i=oe(`scale
    `),a=K("select");for(let m=0;m<c.length;m+=1)c[m].c();r=q(),s=K("select");for(let m=0;m<M.length;m+=1)M[m].c();dt(a,"class","select1 svelte-1ks8yfh"),a.disabled=t[3],t[0]===void 0&&Zr(()=>t[10].call(a)),dt(s,"class","select2 svelte-1ks8yfh"),s.disabled=t[3],t[1]===void 0&&Zr(()=>t[11].call(s))},m(m,A){Ct(m,e,A),B(e,i),B(e,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(a,null);wa(a,t[0],!0),B(e,r),B(e,s);for(let p=0;p<M.length;p+=1)M[p]&&M[p].m(s,null);wa(s,t[1],!0),l||(u=[Ue(a,"change",t[10]),Ue(a,"change",function(){Fo(t[2])&&t[2].apply(this,arguments)}),Ue(a,"mousewheel",t[6]),Ue(s,"change",t[11]),Ue(s,"change",function(){Fo(t[2])&&t[2].apply(this,arguments)}),Ue(s,"mousewheel",t[7])],l=!0)},p(m,[A]){if(t=m,A&32){d=$e(t[5]);let p;for(p=0;p<d.length;p+=1){const y=f_(t,d,p);c[p]?c[p].p(y,A):(c[p]=m_(y),c[p].c(),c[p].m(a,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=d.length}if(A&8&&(a.disabled=t[3]),A&33&&wa(a,t[0]),A&16){f=$e(t[4]);let p;for(p=0;p<f.length;p+=1){const y=h_(t,f,p);M[p]?M[p].p(y,A):(M[p]=p_(y),M[p].c(),M[p].m(s,null))}for(;p<M.length;p+=1)M[p].d(1);M.length=f.length}A&8&&(s.disabled=t[3]),A&18&&wa(s,t[1])},i:Ne,o:Ne,d(m){m&&bt(e),xi(c,m),xi(M,m),l=!1,f9(u)}}}function wct(t,e,i){let a,{scaleRoot:r="C"}=e,{scaleType:s="major"}=e,{scaleInfo:l=null}=e,{callback:u=()=>{}}=e,{disabled:d=!1}=e,{allowedScales:c=null}=e;const f=Ag,M=(E,v)=>{i(8,l=sr.get(`${E} ${v}`))},m=E=>{if(E.preventDefault(),d)return;let v=f.indexOf(r);if(v===-1)return;let w;E.deltaY<0?w=v>0?v-1:f.length-1:w=v<f.length-1?v+1:0,i(0,r=f[w]),u()},A=E=>{if(E.preventDefault(),d)return;let v=a.indexOf(s);if(v===-1)return;let w;E.deltaY<0?w=v>0?v-1:a.length-1:w=v<a.length-1?v+1:0,i(1,s=a[w]),u()};function p(){r=eo(this),i(0,r),i(5,f)}function y(){s=eo(this),i(1,s),i(4,a),i(9,c)}return t.$$set=E=>{"scaleRoot"in E&&i(0,r=E.scaleRoot),"scaleType"in E&&i(1,s=E.scaleType),"scaleInfo"in E&&i(8,l=E.scaleInfo),"callback"in E&&i(2,u=E.callback),"disabled"in E&&i(3,d=E.disabled),"allowedScales"in E&&i(9,c=E.allowedScales)},t.$$.update=()=>{t.$$.dirty&512&&i(4,a=c??sr.names().sort()),t.$$.dirty&3&&M(r,s)},[r,s,u,d,a,f,m,A,l,c,p,y]}class Xd extends Ki{constructor(e){super(),Wi(this,e,wct,_ct,ji,{scaleRoot:0,scaleType:1,scaleInfo:8,callback:2,disabled:3,allowedScales:9})}}const Oct=200,xct=!0,Sct="A",Tct="minor",Ict=[{time:7.219,number:66,velocity:18,string:5,fret:26,channel:6},{time:7.232,number:48,velocity:86,string:5,fret:8,channel:6},{time:7.561,number:50,velocity:54,string:5,fret:10,channel:6},{time:7.834,number:51,velocity:15,string:5,fret:11,channel:6},{time:7.87,number:52,velocity:20,string:5,fret:12,channel:6},{time:7.986,number:51,velocity:10,string:5,fret:11,channel:6},{time:8.029,number:53,velocity:10,string:4,fret:8,channel:5},{time:8.045,number:53,velocity:23,string:4,fret:8,channel:5},{time:8.262,number:55,velocity:39,string:4,fret:10,channel:5},{time:8.48,number:56,velocity:26,string:4,fret:11,channel:5},{time:11.407,number:48,velocity:20,string:5,fret:8,channel:6},{time:11.661,number:50,velocity:42,string:5,fret:10,channel:6},{time:11.887,number:52,velocity:35,string:5,fret:12,channel:6},{time:12.074,number:53,velocity:28,string:4,fret:8,channel:5},{time:12.275,number:55,velocity:11,string:4,fret:10,channel:5},{time:12.461,number:57,velocity:41,string:4,fret:12,channel:5},{time:12.725,number:59,velocity:88,string:3,fret:9,channel:4},{time:12.965,number:60,velocity:70,string:3,fret:10,channel:4},{time:13.167,number:62,velocity:61,string:3,fret:12,channel:4},{time:13.195,number:62,velocity:34,string:3,fret:12,channel:4},{time:13.384,number:63,velocity:10,string:2,fret:8,channel:3},{time:13.4,number:64,velocity:10,string:2,fret:9,channel:3},{time:13.544,number:65,velocity:10,string:2,fret:10,channel:3},{time:13.581,number:65,velocity:16,string:2,fret:10,channel:3},{time:13.782,number:67,velocity:42,string:2,fret:12,channel:3},{time:13.993,number:69,velocity:10,string:1,fret:10,channel:2},{time:14.004,number:69,velocity:64,string:1,fret:10,channel:2},{time:14.197,number:71,velocity:42,string:1,fret:12,channel:2},{time:14.216,number:71,velocity:45,string:1,fret:12,channel:2},{time:14.386,number:72,velocity:23,string:1,fret:13,channel:2},{time:14.424,number:72,velocity:60,string:1,fret:13,channel:2},{time:14.605,number:74,velocity:41,string:0,fret:10,channel:1},{time:14.826,number:76,velocity:16,string:0,fret:12,channel:1},{time:15.049,number:77,velocity:76,string:0,fret:13,channel:1},{time:15.369,number:40,velocity:10,string:5,fret:0,channel:6},{time:28.428,number:35,velocity:63,string:5,fret:-5,channel:6},{time:28.462,number:43,velocity:53,string:5,fret:3,channel:6},{time:28.657,number:44,velocity:53,string:5,fret:4,channel:6},{time:28.693,number:45,velocity:49,string:5,fret:5,channel:6},{time:28.907,number:47,velocity:69,string:5,fret:7,channel:6},{time:29.121,number:48,velocity:74,string:4,fret:3,channel:5},{time:29.344,number:50,velocity:45,string:4,fret:5,channel:5},{time:29.62,number:51,velocity:59,string:4,fret:6,channel:5},{time:29.649,number:52,velocity:51,string:4,fret:7,channel:5},{time:29.778,number:54,velocity:86,string:3,fret:4,channel:4},{time:29.98,number:55,velocity:61,string:3,fret:5,channel:4},{time:30.16,number:56,velocity:46,string:3,fret:6,channel:4},{time:30.182,number:57,velocity:76,string:3,fret:7,channel:4},{time:30.38,number:59,velocity:63,string:2,fret:4,channel:3},{time:30.567,number:60,velocity:49,string:2,fret:5,channel:3},{time:30.577,number:60,velocity:40,string:2,fret:5,channel:3},{time:30.754,number:62,velocity:28,string:2,fret:7,channel:3},{time:30.787,number:62,velocity:51,string:2,fret:7,channel:3},{time:30.982,number:64,velocity:38,string:1,fret:5,channel:2},{time:31.174,number:66,velocity:25,string:1,fret:7,channel:2},{time:31.365,number:67,velocity:10,string:1,fret:8,channel:2},{time:31.39,number:67,velocity:54,string:1,fret:8,channel:2},{time:31.584,number:69,velocity:72,string:0,fret:5,channel:1},{time:31.77,number:71,velocity:54,string:0,fret:7,channel:1},{time:31.996,number:72,velocity:83,string:0,fret:8,channel:1},{time:42.253,number:45,velocity:29,string:5,fret:5,channel:6},{time:42.421,number:46,velocity:38,string:5,fret:6,channel:6},{time:42.439,number:46,velocity:99,string:5,fret:6,channel:6},{time:42.495,number:47,velocity:91,string:5,fret:7,channel:6},{time:42.623,number:48,velocity:82,string:5,fret:8,channel:6},{time:42.824,number:50,velocity:51,string:4,fret:5,channel:5},{time:42.95,number:52,velocity:66,string:4,fret:7,channel:5},{time:43.112,number:53,velocity:86,string:4,fret:8,channel:5},{time:43.237,number:52,velocity:10,string:3,fret:2,channel:4},{time:43.258,number:52,velocity:70,string:4,fret:7,channel:5},{time:43.439,number:50,velocity:65,string:4,fret:5,channel:5},{time:43.609,number:46,velocity:79,string:5,fret:6,channel:6},{time:62.003,number:45,velocity:52,string:5,fret:5,channel:6},{time:62.237,number:46,velocity:39,string:5,fret:6,channel:6},{time:62.288,number:47,velocity:39,string:5,fret:7,channel:6},{time:62.487,number:48,velocity:79,string:5,fret:8,channel:6},{time:62.719,number:50,velocity:69,string:4,fret:5,channel:5},{time:62.948,number:52,velocity:47,string:4,fret:7,channel:5},{time:63.181,number:53,velocity:62,string:4,fret:8,channel:5},{time:63.432,number:55,velocity:101,string:3,fret:5,channel:4},{time:63.668,number:57,velocity:60,string:3,fret:7,channel:4},{time:63.908,number:59,velocity:58,string:3,fret:9,channel:4},{time:64.129,number:60,velocity:62,string:2,fret:5,channel:3},{time:64.342,number:62,velocity:40,string:2,fret:7,channel:3},{time:64.565,number:64,velocity:69,string:2,fret:9,channel:3},{time:64.808,number:65,velocity:74,string:1,fret:6,channel:2},{time:65.075,number:67,velocity:63,string:1,fret:8,channel:2},{time:65.335,number:69,velocity:46,string:1,fret:10,channel:2},{time:65.381,number:69,velocity:106,string:1,fret:10,channel:2},{time:65.724,number:71,velocity:85,string:0,fret:7,channel:1},{time:66.051,number:72,velocity:62,string:0,fret:8,channel:1},{time:66.395,number:74,velocity:43,string:0,fret:10,channel:1},{time:66.42,number:74,velocity:107,string:0,fret:10,channel:1},{time:67.3,number:57,velocity:16,string:5,fret:17,channel:6},{time:67.339,number:47,velocity:42,string:5,fret:7,channel:6},{time:67.599,number:47,velocity:16,string:5,fret:7,channel:6},{time:67.628,number:48,velocity:28,string:5,fret:8,channel:6},{time:67.824,number:61,velocity:20,string:5,fret:21,channel:6},{time:67.847,number:50,velocity:51,string:5,fret:10,channel:6},{time:68.044,number:52,velocity:37,string:4,fret:7,channel:5},{time:68.264,number:53,velocity:18,string:4,fret:8,channel:5},{time:68.441,number:55,velocity:10,string:4,fret:10,channel:5},{time:68.473,number:55,velocity:38,string:4,fret:10,channel:5},{time:68.674,number:57,velocity:59,string:3,fret:7,channel:4},{time:68.861,number:59,velocity:40,string:3,fret:9,channel:4},{time:68.874,number:59,velocity:34,string:3,fret:9,channel:4},{time:69.05,number:60,velocity:28,string:3,fret:10,channel:4},{time:69.096,number:60,velocity:66,string:3,fret:10,channel:4},{time:69.307,number:62,velocity:76,string:2,fret:7,channel:3},{time:69.551,number:64,velocity:38,string:2,fret:9,channel:3},{time:69.747,number:65,velocity:20,string:2,fret:10,channel:3},{time:69.779,number:65,velocity:54,string:2,fret:10,channel:3},{time:70.005,number:61,velocity:10,string:1,fret:2,channel:2},{time:70.013,number:67,velocity:82,string:1,fret:8,channel:2},{time:70.211,number:68,velocity:59,string:1,fret:9,channel:2},{time:70.256,number:69,velocity:20,string:1,fret:10,channel:2},{time:70.464,number:71,velocity:53,string:1,fret:12,channel:2},{time:70.66,number:72,velocity:69,string:0,fret:8,channel:1},{time:70.887,number:74,velocity:34,string:0,fret:10,channel:1},{time:71.097,number:75,velocity:20,string:0,fret:11,channel:1},{time:71.109,number:59,velocity:116,string:1,fret:0,channel:2},{time:71.133,number:76,velocity:62,string:0,fret:12,channel:1},{time:71.407,number:48,velocity:100,string:5,fret:8,channel:6},{time:71.676,number:50,velocity:82,string:5,fret:10,channel:6},{time:71.836,number:52,velocity:75,string:5,fret:12,channel:6},{time:71.865,number:52,velocity:51,string:5,fret:12,channel:6},{time:72.055,number:53,velocity:74,string:4,fret:8,channel:5},{time:72.227,number:54,velocity:52,string:4,fret:9,channel:5},{time:72.278,number:55,velocity:46,string:4,fret:10,channel:5},{time:72.445,number:57,velocity:26,string:4,fret:12,channel:5},{time:72.484,number:57,velocity:28,string:4,fret:12,channel:5},{time:72.688,number:59,velocity:94,string:3,fret:9,channel:4},{time:72.909,number:60,velocity:80,string:3,fret:10,channel:4},{time:73.112,number:62,velocity:76,string:3,fret:12,channel:4},{time:73.331,number:64,velocity:69,string:2,fret:9,channel:3},{time:73.552,number:65,velocity:39,string:2,fret:10,channel:3},{time:73.736,number:66,velocity:16,string:2,fret:11,channel:3},{time:73.768,number:67,velocity:54,string:2,fret:12,channel:3},{time:73.948,number:69,velocity:10,string:1,fret:10,channel:2},{time:73.96,number:69,velocity:85,string:1,fret:10,channel:2},{time:74.16789999985694,number:71,velocity:28,string:1,fret:12,channel:2},{time:74.318,number:72,velocity:25,string:1,fret:13,channel:2},{time:74.37,number:72,velocity:72,string:1,fret:13,channel:2},{time:74.578,number:74,velocity:68,string:0,fret:10,channel:1},{time:74.809,number:76,velocity:16,string:0,fret:12,channel:1},{time:74.999,number:77,velocity:11,string:0,fret:13,channel:1},{time:75.06,number:77,velocity:46,string:0,fret:13,channel:1},{time:75.269,number:71,velocity:10,string:1,fret:12,channel:2},{time:75.274,number:50,velocity:10,string:5,fret:10,channel:6},{time:75.321,number:50,velocity:10,string:3,fret:0,channel:4},{time:75.324,number:50,velocity:72,string:5,fret:10,channel:6},{time:75.562,number:52,velocity:51,string:5,fret:12,channel:6},{time:75.843,number:53,velocity:66,string:5,fret:13,channel:6},{time:76.087,number:55,velocity:79,string:4,fret:10,channel:5},{time:76.363,number:57,velocity:64,string:4,fret:12,channel:5},{time:76.597,number:59,velocity:52,string:4,fret:14,channel:5},{time:76.619,number:59,velocity:68,string:4,fret:14,channel:5},{time:76.866,number:61,velocity:10,string:3,fret:11,channel:4},{time:76.877,number:60,velocity:96,string:3,fret:10,channel:4},{time:77.147,number:62,velocity:79,string:3,fret:12,channel:4},{time:77.412,number:64,velocity:94,string:3,fret:14,channel:4},{time:77.697,number:65,velocity:88,string:2,fret:10,channel:3},{time:77.991,number:67,velocity:64,string:2,fret:12,channel:3},{time:78.304,number:69,velocity:76,string:2,fret:14,channel:3},{time:78.658,number:64,velocity:10,string:1,fret:5,channel:2},{time:78.67,number:70,velocity:112,string:1,fret:11,channel:2},{time:79.132,number:71,velocity:101,string:1,fret:12,channel:2},{time:79.571,number:72,velocity:78,string:1,fret:13,channel:2},{time:79.594,number:72,velocity:79,string:1,fret:13,channel:2},{time:79.862,number:73,velocity:55,string:1,fret:14,channel:2},{time:79.898,number:74,velocity:61,string:1,fret:15,channel:2},{time:80.154,number:76,velocity:89,string:0,fret:12,channel:1},{time:80.428,number:77,velocity:66,string:0,fret:13,channel:1},{time:80.468,number:77,velocity:54,string:0,fret:13,channel:1},{time:80.718,number:78,velocity:25,string:0,fret:14,channel:1},{time:80.751,number:79,velocity:45,string:0,fret:15,channel:1},{time:81.041,number:52,velocity:62,string:5,fret:12,channel:6},{time:81.30789999985694,number:53,velocity:33,string:5,fret:13,channel:6},{time:81.487,number:54,velocity:16,string:5,fret:14,channel:6},{time:81.516,number:55,velocity:51,string:5,fret:15,channel:6},{time:81.617,number:54,velocity:29,string:5,fret:14,channel:6},{time:81.691,number:57,velocity:61,string:4,fret:12,channel:5},{time:81.865,number:59,velocity:32,string:4,fret:14,channel:5},{time:82.008,number:60,velocity:10,string:4,fret:15,channel:5},{time:82.198,number:62,velocity:75,string:3,fret:12,channel:4},{time:82.358,number:63,velocity:48,string:3,fret:13,channel:4},{time:82.385,number:64,velocity:25,string:3,fret:14,channel:4},{time:82.517,number:65,velocity:10,string:3,fret:15,channel:4},{time:82.56,number:63,velocity:15,string:3,fret:13,channel:4},{time:82.573,number:65,velocity:15,string:3,fret:15,channel:4},{time:82.717,number:67,velocity:64,string:2,fret:12,channel:3},{time:82.891,number:69,velocity:13,string:2,fret:14,channel:3},{time:83.062,number:71,velocity:20,string:2,fret:16,channel:3},{time:83.185,number:70,velocity:10,string:2,fret:15,channel:3},{time:83.264,number:71,velocity:89,string:1,fret:12,channel:2},{time:83.706,number:72,velocity:80,string:1,fret:13,channel:2},{time:84.126,number:73,velocity:59,string:1,fret:14,channel:2},{time:84.156,number:74,velocity:64,string:1,fret:15,channel:2},{time:84.421,number:76,velocity:88,string:1,fret:17,channel:2},{time:84.661,number:77,velocity:66,string:0,fret:13,channel:1},{time:84.867,number:79,velocity:48,string:0,fret:15,channel:1},{time:84.898,number:79,velocity:64,string:0,fret:15,channel:1},{time:85.144,number:81,velocity:35,string:0,fret:17,channel:1},{time:85.159,number:81,velocity:104,string:0,fret:17,channel:1},{time:86.08,number:54,velocity:15,string:5,fret:14,channel:6},{time:86.09,number:54,velocity:33,string:5,fret:14,channel:6},{time:86.836,number:55,velocity:30,string:5,fret:15,channel:6},{time:87.076,number:57,velocity:10,string:5,fret:17,channel:6},{time:87.255,number:65,velocity:10,string:4,fret:20,channel:5},{time:87.277,number:58,velocity:10,string:4,fret:13,channel:5},{time:87.297,number:59,velocity:73,string:4,fret:14,channel:5},{time:87.929,number:53,velocity:10,string:5,fret:13,channel:6},{time:87.953,number:53,velocity:86,string:5,fret:13,channel:6},{time:88.263,number:54,velocity:58,string:5,fret:14,channel:6},{time:88.281,number:55,velocity:44,string:5,fret:15,channel:6},{time:88.45,number:57,velocity:21,string:5,fret:17,channel:6},{time:88.469,number:56,velocity:29,string:5,fret:16,channel:6},{time:88.486,number:57,velocity:65,string:5,fret:17,channel:6},{time:88.651,number:59,velocity:13,string:4,fret:14,channel:5},{time:88.667,number:59,velocity:84,string:4,fret:14,channel:5},{time:88.853,number:60,velocity:49,string:4,fret:15,channel:5},{time:89.03,number:62,velocity:64,string:4,fret:17,channel:5},{time:89.195,number:64,velocity:23,string:3,fret:14,channel:4},{time:89.215,number:64,velocity:107,string:3,fret:14,channel:4},{time:89.425,number:65,velocity:80,string:3,fret:15,channel:4},{time:89.657,number:67,velocity:49,string:3,fret:17,channel:4},{time:89.688,number:67,velocity:110,string:3,fret:17,channel:4},{time:90.017,number:69,velocity:94,string:2,fret:14,channel:3},{time:90.527,number:71,velocity:72,string:2,fret:16,channel:3},{time:90.562,number:71,velocity:80,string:2,fret:16,channel:3},{time:91.016,number:72,velocity:109,string:2,fret:17,channel:3},{time:91.325,number:73,velocity:92,string:2,fret:18,channel:3},{time:91.411,number:72,velocity:88,string:2,fret:17,channel:3},{time:91.843,number:74,velocity:103,string:1,fret:15,channel:2},{time:92.442,number:76,velocity:76,string:1,fret:17,channel:2},{time:92.466,number:76,velocity:94,string:1,fret:17,channel:2},{time:92.915,number:77,velocity:113,string:1,fret:18,channel:2},{time:93.36,number:79,velocity:99,string:0,fret:15,channel:1},{time:93.798,number:79,velocity:110,string:0,fret:15,channel:1},{time:94.263,number:81,velocity:111,string:0,fret:17,channel:1},{time:94.662,number:82,velocity:82,string:0,fret:18,channel:1},{time:94.692,number:83,velocity:117,string:0,fret:19,channel:1},{time:95.906,number:83,velocity:10,string:0,fret:19,channel:1},{time:95.923,number:66,velocity:30,string:0,fret:2,channel:1},{time:95.931,number:84,velocity:116,string:0,fret:20,channel:1},{time:97.088,number:64,velocity:10,string:2,fret:9,channel:3},{time:97.099,number:63,velocity:10,string:2,fret:8,channel:3},{time:97.115,number:62,velocity:10,string:2,fret:7,channel:3},{time:119.823,number:45,velocity:26,string:5,fret:5,channel:6},{time:120.768,number:46,velocity:42,string:5,fret:6,channel:6},{time:120.811,number:45,velocity:42,string:5,fret:5,channel:6},{time:120.913,number:46,velocity:38,string:5,fret:6,channel:6},{time:120.971,number:47,velocity:42,string:5,fret:7,channel:6},{time:122.494,number:66,velocity:10,string:1,fret:7,channel:2},{time:122.495,number:68,velocity:10,string:3,fret:18,channel:4},{time:122.496,number:68,velocity:10,string:4,fret:23,channel:5},{time:128.328,number:51,velocity:69,string:5,fret:11,channel:6},{time:130.462,number:52,velocity:71,string:5,fret:12,channel:6},{time:131.418,number:40,velocity:46,string:5,fret:0,channel:6},{time:135.011,number:55,velocity:79,string:5,fret:15,channel:6}],Bct="fretboard-heatmap",Rct="0.13.4",Dct="2024-09-17T13:22:57.806Z",g_={pastNoteCount:Oct,showScale:xct,scaleRoot:Sct,scaleType:Tct,notes:Ict,_appId:Bct,_softwareVersion:Rct,_date:Dct};function Pct(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent="1) Play the note A over the whole fretboard.",i=q(),a=K("p"),a.textContent=`2) Play the A minor pentatonic scale over the whole fretboard,
                string by string. Check if you played wrong notes.`,r=q(),s=K("p"),s.textContent="3) Improvise in A minor pentatonic over the whole fretboard.",l=q(),u=K("p"),u.textContent=`4) Improvise in a scale you do not know yet over the whole
                fretboard.`},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function Lct(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt;function Tt(Yt){t[13](Yt)}let vt={callback:t[9]};t[3]!==void 0&&(vt.value=t[3]),c=new iu({props:vt}),Me.push(()=>De(c,"value",Tt));function Ot(Yt){t[14](Yt)}let ft={label:"show scale",title:"If active, the color hue will show whether notes are in the selected scale or not",callback:t[9]};t[4]!==void 0&&(ft.checked=t[4]),m=new R9({props:ft}),Me.push(()=>De(m,"checked",Ot));function St(Yt){t[15](Yt)}function Mt(Yt){t[16](Yt)}function Pt(Yt){t[17](Yt)}let Vt={callback:t[9],disabled:!t[4]};t[5]!==void 0&&(Vt.scaleRoot=t[5]),t[6]!==void 0&&(Vt.scaleType=t[6]),t[1]!==void 0&&(Vt.scaleInfo=t[1]),y=new Xd({props:Vt}),Me.push(()=>De(y,"scaleRoot",St)),Me.push(()=>De(y,"scaleType",Mt)),Me.push(()=>De(y,"scaleInfo",Pt));function ie(Yt){t[19](Yt)}let jt={saveToStorage:t[12],callback:t[9]};t[7]!==void 0&&(jt.notes=t[7]),R=new Y9({props:jt}),Me.push(()=>De(R,"notes",ie)),N=new ha({props:{appId:t[0].id,loadData:t[11]}});function Wt(Yt){t[21](Yt)}let me={callback:t[9]};return t[7]!==void 0&&(me.notes=t[7]),H=new y0({props:me}),Me.push(()=>De(H,"notes",Wt)),J=new aa({props:{loadData:t[11],getExportData:t[10],appId:t[0].id}}),G=new z9({props:{$$slots:{default:[Pct]},$$scope:{ctx:t}}}),j=new J9({props:{appId:t[0].id}}),tt=new k9({props:{noteOn:t[8]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing scales and improvisation on a guitar. The
            heatmap below shows how often you played each fretboard position. If
            a scale is shown, the color hue will tell you whether a note you
            played belongs to the scale or not.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),x=q(),b=K("div"),O=q(),S=K("div"),Ft(R.$$.fragment),P=q(),L=K("button"),L.textContent="example",k=q(),Ft(N.$$.fragment),$=q(),Ft(H.$$.fragment),W=q(),Ft(J.$$.fragment),Q=q(),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),nt=q(),Ft(tt.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(b,"class","visualization"),dt(S,"class","control"),dt(e,"class","app")},m(Yt,pe){Ct(Yt,e,pe),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,x),B(e,b),t[18](b),B(e,O),B(e,S),kt(R,S,null),B(S,P),B(S,L),B(S,k),kt(N,S,null),B(S,$),kt(H,S,null),B(S,W),kt(J,S,null),B(e,Q),kt(G,e,null),B(e,z),kt(j,e,null),B(e,nt),kt(tt,e,null),ht=!0,pt||(gt=Ue(L,"click",t[20]),pt=!0)},p(Yt,pe){(!ht||pe&1)&&a!==(a=Yt[0].title+"")&&Ge(r,a);const Qe={};!f&&pe&8&&(f=!0,Qe.value=Yt[3],Re(()=>f=!1)),c.$set(Qe);const ni={};!A&&pe&16&&(A=!0,ni.checked=Yt[4],Re(()=>A=!1)),m.$set(ni);const ei={};pe&16&&(ei.disabled=!Yt[4]),!E&&pe&32&&(E=!0,ei.scaleRoot=Yt[5],Re(()=>E=!1)),!v&&pe&64&&(v=!0,ei.scaleType=Yt[6],Re(()=>v=!1)),!w&&pe&2&&(w=!0,ei.scaleInfo=Yt[1],Re(()=>w=!1)),y.$set(ei);const Ci={};!I&&pe&128&&(I=!0,Ci.notes=Yt[7],Re(()=>I=!1)),R.$set(Ci);const ai={};pe&1&&(ai.appId=Yt[0].id),N.$set(ai);const ti={};!U&&pe&128&&(U=!0,ti.notes=Yt[7],Re(()=>U=!1)),H.$set(ti);const be={};pe&1&&(be.appId=Yt[0].id),J.$set(be);const ye={};pe&134217728&&(ye.$$scope={dirty:pe,ctx:Yt}),G.$set(ye);const ne={};pe&1&&(ne.appId=Yt[0].id),j.$set(ne)},i(Yt){ht||(Rt(c.$$.fragment,Yt),Rt(m.$$.fragment,Yt),Rt(y.$$.fragment,Yt),Rt(R.$$.fragment,Yt),Rt(N.$$.fragment,Yt),Rt(H.$$.fragment,Yt),Rt(J.$$.fragment,Yt),Rt(G.$$.fragment,Yt),Rt(j.$$.fragment,Yt),Rt(tt.$$.fragment,Yt),ht=!0)},o(Yt){Dt(c.$$.fragment,Yt),Dt(m.$$.fragment,Yt),Dt(y.$$.fragment,Yt),Dt(R.$$.fragment,Yt),Dt(N.$$.fragment,Yt),Dt(H.$$.fragment,Yt),Dt(J.$$.fragment,Yt),Dt(G.$$.fragment,Yt),Dt(j.$$.fragment,Yt),Dt(tt.$$.fragment,Yt),ht=!1},d(Yt){Yt&&bt(e),Nt(c),Nt(m),Nt(y),t[18](null),Nt(R),Nt(N),Nt(H),Nt(J),Nt(G),Nt(j),Nt(tt),pt=!1,gt()}}}function kct(t){let e,i;return e=new ra({props:{loadData:t[11],$$slots:{default:[Lct]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&134217983&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let M_=900,A_=6,h6=24;function Nct(t,e,i){let a,{appInfo:r}=e,s=[64,59,55,50,45,40];const l=s.map(Ga.fromMidiSharps);let u,d,c=200,f=!0,M="A",m="minor pentatonic",A=0,p=[];const y=(H,U,W,J)=>{if(!J)return!1;const Q=(W[H]+U)%12;return a.has(Q)},E=H=>{p.length===0&&(A=H.timestamp);const U=(H.timestamp-A)/1e3,W=H.message.channel-1,J={time:U,number:H.note.number,velocity:H.rawVelocity,string:W,fret:H.note.number-s[W],channel:H.message.channel};i(7,p=[...p,J]),v()},v=()=>{const H=p.slice(-c),U=(M_-100)/25,W=Is(H,Q=>Q.string,Q=>Q.fret).flatMap(([Q,G])=>G.map(([z,j])=>({string:Q,fret:z,count:j.length}))),J=Bn({width:M_,aspectRatio:1,marginLeft:50,marginBottom:40,padding:0,x:{domain:Ei(0,h6+1),ticks:Ei(0,h6+1),tickSize:0},y:{domain:Ei(0,A_),tickFormat:Q=>l[Q],tickSize:0},color:{legend:f,marginLeft:100,width:400,scheme:"tableau10",domain:["in scale","not in scale"]},marks:[Ar(Ei(0,h6+1),{stroke:"#ddd",dx:U/2}),H9(Ei(0,A_),{stroke:"#ddd",strokeWidth:Q=>Math.sqrt(Q+1)}),f0([3,5,7,9,15,17,19,21],{x:Q=>Q,y:2,dy:U/2,fill:"#ddd",r:8}),f0([12,12,24,24],{x:Q=>Q,y:(Q,G)=>G%2===0?1:3,dy:U/2,fill:"#ddd",r:8}),a4(W,{x:"fret",y:"string",fill:Q=>f?y(Q.string,Q.fret,s,d)?"in scale":"not in scale":"#222",opacity:"count",inset:5,rx:10,tip:!0}),Ta(W,{text:Q=>Q.count,x:"fret",y:"string",fill:"black",stroke:"white",strokeWidth:3,paintOrder:"stroke"})]});i(2,u.textContent="",u),u.appendChild(J)};c9(v);const w=()=>({pastNoteCount:c,showScale:f,scaleRoot:M,scaleType:m,notes:p}),x=H=>{b(),i(3,c=H.pastNoteCount),i(4,f=H.showScale),i(5,M=H.scaleRoot),i(6,m=H.scaleType),i(7,p=H.notes),v()},b=()=>{p.length>0&&JSON.stringify(p)!==JSON.stringify(g_.notes)&&da(r.id,w())};r9(b);function O(H){c=H,i(3,c)}function S(H){f=H,i(4,f)}function R(H){M=H,i(5,M)}function I(H){m=H,i(6,m)}function P(H){d=H,i(1,d)}function L(H){Me[H?"unshift":"push"](()=>{u=H,i(2,u)})}function k(H){p=H,i(7,p)}const N=()=>x(g_);function $(H){p=H,i(7,p)}return t.$$set=H=>{"appInfo"in H&&i(0,r=H.appInfo)},t.$$.update=()=>{t.$$.dirty&2&&(a=new Set(d?d.notes.map(H=>kl.get(H)):[]))},[r,d,u,c,f,M,m,p,E,v,w,x,b,O,S,R,I,P,L,k,N,$]}class Fct extends Ki{constructor(e){super(),Wi(this,e,Nct,kct,ji,{appInfo:0})}}const Uct="A",$ct="minor pentatonic",Gct=[{number:40,velocity:37,time:2350918,channel:6,string:5,fret:0},{number:51,velocity:25,time:2352454,channel:5,string:4,fret:6},{number:53,velocity:26,time:2.3532251000000015e6,channel:5,string:4,fret:8},{number:54,velocity:26,time:2354759,channel:5,string:4,fret:9},{number:54,velocity:53,time:2355472,channel:5,string:4,fret:9},{number:54,velocity:60,time:2355922,channel:5,string:4,fret:9},{number:45,velocity:59,time:2.3565161000000015e6,channel:5,string:4,fret:0},{number:45,velocity:68,time:2357219,channel:5,string:4,fret:0},{number:45,velocity:54,time:2358039,channel:5,string:4,fret:0},{number:64,velocity:23,time:2358541,channel:5,string:4,fret:19},{number:52,velocity:50,time:2358818,channel:5,string:4,fret:7},{number:52,velocity:54,time:2359522,channel:5,string:4,fret:7},{number:53,velocity:34,time:2360283,channel:5,string:4,fret:8},{number:50,velocity:78,time:2362538,channel:4,string:3,fret:0},{number:59,velocity:51,time:2363308,channel:3,string:2,fret:4},{number:62,velocity:41,time:2.3633171000000015e6,channel:3,string:2,fret:7},{number:62,velocity:48,time:2364013,channel:3,string:2,fret:7},{number:62,velocity:56,time:2364387,channel:3,string:2,fret:7},{number:62,velocity:54,time:2364806,channel:3,string:2,fret:7},{number:58,velocity:58,time:2365522,channel:4,string:3,fret:8},{number:58,velocity:64,time:2.3661131000000015e6,channel:4,string:3,fret:8},{number:59,velocity:74,time:2366564,channel:4,string:3,fret:9},{number:45,velocity:42,time:2367792,channel:6,string:5,fret:5},{number:45,velocity:56,time:2368309,channel:6,string:5,fret:5},{number:48,velocity:32,time:2368671,channel:6,string:5,fret:8},{number:48,velocity:23,time:2368756,channel:6,string:5,fret:8},{number:50,velocity:25,time:2369214,channel:5,string:4,fret:5},{number:52,velocity:40,time:2369748,channel:5,string:4,fret:7},{number:55,velocity:64,time:2370356,channel:4,string:3,fret:5},{number:57,velocity:68,time:2371007,channel:4,string:3,fret:7},{number:57,velocity:57,time:2372634,channel:4,string:3,fret:7}],Hct="fretboard-improvisation-intervals",Vct="2024-07-03T18:53:20.636Z",y_={root:Uct,scale:$ct,notes:Gct,_appId:Hct,_date:Vct};function Qct(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent="1) Go through the scale in steps of 1.",i=q(),a=K("p"),a.textContent="2) Go through the scale in steps of 2.",r=q(),s=K("p"),s.textContent="3) Go through the scale in steps of 3.",l=q(),u=K("p"),u.textContent="4) ..."},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function zct(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt;function tt(Mt){t[12](Mt)}function ht(Mt){t[13](Mt)}let pt={callback:t[8]};t[2]!==void 0&&(pt.scaleRoot=t[2]),t[3]!==void 0&&(pt.scaleType=t[3]),c=new Xd({props:pt}),Me.push(()=>De(c,"scaleRoot",tt)),Me.push(()=>De(c,"scaleType",ht));function gt(Mt){t[14](Mt)}let Tt={title:"Toggle between note names and scale steps",label:"note names",callback:t[8]};t[4]!==void 0&&(Tt.checked=t[4]),A=new R9({props:Tt}),Me.push(()=>De(A,"checked",gt));function vt(Mt){t[15](Mt)}let Ot={title:"Limit frets to those that are in reach",label:"limit frets",callback:t[8]};t[5]!==void 0&&(Ot.checked=t[5]),E=new R9({props:Ot}),Me.push(()=>De(E,"checked",vt));function ft(Mt){t[17](Mt)}let St={saveToStorage:t[11],callback:t[8]};return t[6]!==void 0&&(St.notes=t[6]),S=new Y9({props:St}),Me.push(()=>De(S,"notes",ft)),k=new ha({props:{appId:t[0].id,loadData:t[10]}}),$=new aa({props:{loadData:t[10],getExportData:t[9],appId:t[0].id}}),U=new z9({props:{$$slots:{default:[Qct]},$$scope:{ctx:t}}}),J=new J9({props:{appId:t[0].id}}),G=new k9({props:{noteOn:t[7]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing scales on a guitar. Each time you play a
            note, the fretboard below shows you how far each note of the scale
            is away from the note you just played.`,u=q(),d=K("div"),Ft(c.$$.fragment),m=q(),Ft(A.$$.fragment),y=q(),Ft(E.$$.fragment),w=q(),x=K("div"),b=q(),O=K("div"),Ft(S.$$.fragment),I=q(),P=K("button"),P.textContent="example",L=q(),Ft(k.$$.fragment),N=q(),Ft($.$$.fragment),H=q(),Ft(U.$$.fragment),W=q(),Ft(J.$$.fragment),Q=q(),Ft(G.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(x,"class","visualization"),dt(O,"class","control"),dt(e,"class","app")},m(Mt,Pt){Ct(Mt,e,Pt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,m),kt(A,d,null),B(d,y),kt(E,d,null),B(e,w),B(e,x),t[16](x),B(e,b),B(e,O),kt(S,O,null),B(O,I),B(O,P),B(O,L),kt(k,O,null),B(O,N),kt($,O,null),B(e,H),kt(U,e,null),B(e,W),kt(J,e,null),B(e,Q),kt(G,e,null),z=!0,j||(nt=Ue(P,"click",t[18]),j=!0)},p(Mt,Pt){(!z||Pt&1)&&a!==(a=Mt[0].title+"")&&Ge(r,a);const Vt={};!f&&Pt&4&&(f=!0,Vt.scaleRoot=Mt[2],Re(()=>f=!1)),!M&&Pt&8&&(M=!0,Vt.scaleType=Mt[3],Re(()=>M=!1)),c.$set(Vt);const ie={};!p&&Pt&16&&(p=!0,ie.checked=Mt[4],Re(()=>p=!1)),A.$set(ie);const jt={};!v&&Pt&32&&(v=!0,jt.checked=Mt[5],Re(()=>v=!1)),E.$set(jt);const Wt={};!R&&Pt&64&&(R=!0,Wt.notes=Mt[6],Re(()=>R=!1)),S.$set(Wt);const me={};Pt&1&&(me.appId=Mt[0].id),k.$set(me);const Yt={};Pt&1&&(Yt.appId=Mt[0].id),$.$set(Yt);const pe={};Pt&4194304&&(pe.$$scope={dirty:Pt,ctx:Mt}),U.$set(pe);const Qe={};Pt&1&&(Qe.appId=Mt[0].id),J.$set(Qe)},i(Mt){z||(Rt(c.$$.fragment,Mt),Rt(A.$$.fragment,Mt),Rt(E.$$.fragment,Mt),Rt(S.$$.fragment,Mt),Rt(k.$$.fragment,Mt),Rt($.$$.fragment,Mt),Rt(U.$$.fragment,Mt),Rt(J.$$.fragment,Mt),Rt(G.$$.fragment,Mt),z=!0)},o(Mt){Dt(c.$$.fragment,Mt),Dt(A.$$.fragment,Mt),Dt(E.$$.fragment,Mt),Dt(S.$$.fragment,Mt),Dt(k.$$.fragment,Mt),Dt($.$$.fragment,Mt),Dt(U.$$.fragment,Mt),Dt(J.$$.fragment,Mt),Dt(G.$$.fragment,Mt),z=!1},d(Mt){Mt&&bt(e),Nt(c),Nt(A),Nt(E),t[16](null),Nt(S),Nt(k),Nt($),Nt(U),Nt(J),Nt(G),j=!1,nt()}}}function Jct(t){let e,i;return e=new ra({props:{loadData:t[10],$$slots:{default:[zct]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&4194431&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let v_=900,f6=6,m6=24;function jct(t,e,i){let{appInfo:a}=e,r,s="A",l="minor pentatonic",u=!1,d=!1,c,f=[],M=[64,59,55,50,45,40];const m=M.map(Ga.fromMidiSharps),A=P=>{f.length===0&&(c=P.timestamp);const L=(P.timestamp-c)/1e3,k=P.message.channel-1,N={number:P.note.number,velocity:P.rawVelocity,time:L,channel:P.message.channel,string:k,fret:P.note.number-M[k]};i(6,f=[...f,N]),p()},p=()=>{const P=f.at(-1),L=[];if(P){const $=P.number%12,H=sr.get(`${s} ${l}`),U=new Map(H.notes.map((G,z)=>{const j=kl.get(G);let nt=j-$;nt=nt>=0?nt:nt+12;const tt={name:G,chroma:j,interval:H.intervals[z],degree:z,offset:nt};return[j,tt]}));if(!U.has($))return;const W=U.get($).degree;let J=0,Q=m6;d&&(J=P.fret-4,Q=P.fret+4);for(let G=0;G<f6;G++)for(let z=J;z<Q+1;z++){const j=(M[G]+z)%12;if(!U.has(j))continue;const nt=U.get(j),tt=nt.degree-W;L.push({...nt,string:G,fret:z,step:nt.offset,degreeStep:tt>=0?tt:tt+U.size})}}const k=(v_-100)/25,N=Bn({width:v_,marginLeft:50,marginBottom:40,padding:0,aspectRatio:1,x:{domain:Ei(0,m6+1),tickSize:0},y:{domain:Ei(0,f6),tickFormat:$=>m[$],tickSize:0},color:{legend:!0,marginLeft:100,width:400,type:"ordinal",scheme:"YlGnBu"},marks:[Ar(Ei(0,m6+1),{stroke:"#ddd",dx:k/2}),H9(Ei(0,f6),{stroke:"#ddd",strokeWidth:$=>Math.sqrt($+1)}),f0([3,5,7,9,15,17,19,21],{x:$=>$,y:2,dy:k/2,fill:"#ddd",r:8}),f0([12,12,24,24],{x:$=>$,y:($,H)=>H%2===0?1:3,dy:k/2,fill:"#ddd",r:8}),P?a4([P],{x:"fret",y:"string",fill:"black",tip:!0,inset:2,rx:5}):null,a4(L,{x:"fret",y:"string",fill:"degreeStep",inset:6,rx:10,tip:!0}),Ta(L,{x:"fret",y:"string",fill:"white",text:u?"name":"degreeStep",stroke:"#aaa",strokeWidth:3})]});i(1,r.textContent="",r),r.appendChild(N)};c9(p);const y=()=>({root:s,scale:l,notes:f}),E=P=>{v(),i(2,s=P.root),i(3,l=P.scale),i(6,f=P.notes),p()},v=()=>{f.length>0&&JSON.stringify(f)!==JSON.stringify(y_.notes)&&da(a.id,y())};r9(v);function w(P){s=P,i(2,s)}function x(P){l=P,i(3,l)}function b(P){u=P,i(4,u)}function O(P){d=P,i(5,d)}function S(P){Me[P?"unshift":"push"](()=>{r=P,i(1,r)})}function R(P){f=P,i(6,f)}const I=()=>E(y_);return t.$$set=P=>{"appInfo"in P&&i(0,a=P.appInfo)},[a,r,s,l,u,d,f,A,p,y,E,v,w,x,b,O,S,R,I]}class Wct extends Ki{constructor(e){super(),Wi(this,e,jct,Jct,ji,{appInfo:0})}}const Kct=200,Xct=[{number:71,velocity:10,time:0,channel:4,string:3,fret:21,stringJitter:3.0527503697270792,fretJitter:20.852767519941064},{number:46,velocity:10,time:.547,channel:4,string:3,fret:-4,stringJitter:3.029960778946016,fretJitter:-3.840037950028},{number:67,velocity:10,time:.557,channel:5,string:4,fret:22,stringJitter:3.836334103727247,fretJitter:22.070234554601182},{number:55,velocity:127,time:.56,channel:4,string:3,fret:5,stringJitter:2.8824380664978735,fretJitter:4.916348401136441},{number:56,velocity:10,time:.574,channel:3,string:2,fret:1,stringJitter:2.102623736690846,fretJitter:.9386731064144801},{number:55,velocity:10,time:.594,channel:3,string:2,fret:0,stringJitter:2.032912208976604,fretJitter:-.19355279022107405},{number:66,velocity:10,time:.623,channel:5,string:4,fret:21,stringJitter:4.159894727058031,fretJitter:21.193242459343857},{number:67,velocity:10,time:.653,channel:5,string:4,fret:22,stringJitter:4.05706699965243,fretJitter:22.040492333241446},{number:55,velocity:10,time:.711,channel:5,string:4,fret:10,stringJitter:4.156674616255691,fretJitter:9.997432375691092},{number:49,velocity:10,time:.828,channel:5,string:4,fret:4,stringJitter:4.100653951328178,fretJitter:3.8918990859533285},{number:56,velocity:10,time:.856,channel:3,string:2,fret:1,stringJitter:2.1766614458842497,fretJitter:1.0664069356869277},{number:56,velocity:127,time:.857,channel:4,string:3,fret:6,stringJitter:3.047208632091266,fretJitter:6.116152429371706},{number:56,velocity:10,time:.87,channel:5,string:4,fret:11,stringJitter:3.9100773368176087,fretJitter:10.930966752759316},{number:55,velocity:127,time:.928,channel:4,string:3,fret:5,stringJitter:2.831910515168213,fretJitter:5.045352547379308},{number:56,velocity:127,time:1.059,channel:4,string:3,fret:6,stringJitter:2.955379219741407,fretJitter:6.196599397762682},{number:55,velocity:127,time:1.146,channel:4,string:3,fret:5,stringJitter:2.956644724847434,fretJitter:5.067854938469387},{number:56,velocity:127,time:1.262,channel:4,string:3,fret:6,stringJitter:2.996549878065108,fretJitter:6.15225998011141},{number:55,velocity:127,time:1.364,channel:4,string:3,fret:5,stringJitter:2.8813202218525085,fretJitter:5.166877758448339},{number:52,velocity:50,time:1.464,channel:5,string:4,fret:7,stringJitter:4.187524516649621,fretJitter:6.822439961989486},{number:55,velocity:112,time:1.648,channel:4,string:3,fret:5,stringJitter:3.0064856742497446,fretJitter:5.170134086645376},{number:57,velocity:102,time:1.77,channel:4,string:3,fret:7,stringJitter:2.946317062783766,fretJitter:6.860698966611293},{number:57,velocity:89,time:1.798,channel:4,string:3,fret:7,stringJitter:2.9728880446125765,fretJitter:7.098532722787549},{number:77,velocity:15,time:1.96,channel:3,string:2,fret:22,stringJitter:1.8652733311845928,fretJitter:21.85499967149996},{number:60,velocity:121,time:1.974,channel:3,string:2,fret:5,stringJitter:2.166835874356281,fretJitter:5.074130268118923},{number:60,velocity:10,time:1.99,channel:2,string:1,fret:1,stringJitter:.941331821636458,fretJitter:.8855146772639667},{number:61,velocity:112,time:2.191,channel:3,string:2,fret:6,stringJitter:1.8796577629068492,fretJitter:5.873567732298981},{number:60,velocity:107,time:2.321,channel:3,string:2,fret:5,stringJitter:2.054983413008459,fretJitter:5.018618346715098},{number:57,velocity:25,time:2.352,channel:4,string:3,fret:7,stringJitter:3.1366441249219994,fretJitter:6.830953183647111},{number:60,velocity:103,time:2.532,channel:3,string:2,fret:5,stringJitter:1.8816086740278333,fretJitter:5.084900406308304},{number:62,velocity:88,time:2.64,channel:3,string:2,fret:7,stringJitter:2.085339413014724,fretJitter:7.11834320043367},{number:62,velocity:94,time:2.676,channel:3,string:2,fret:7,stringJitter:1.9295364945691489,fretJitter:7.12784754196827},{number:77,velocity:43,time:2.938,channel:3,string:2,fret:22,stringJitter:2.17198016292292,fretJitter:21.934820623983015},{number:63,velocity:127,time:2.949,channel:3,string:2,fret:8,stringJitter:2.172881094922703,fretJitter:7.931819196919087},{number:62,velocity:127,time:2.96,channel:3,string:2,fret:7,stringJitter:2.0992026816155547,fretJitter:6.9801469609921165},{number:63,velocity:127,time:3.061,channel:3,string:2,fret:8,stringJitter:1.8046760944244813,fretJitter:7.911663542457728},{number:62,velocity:103,time:3.228,channel:3,string:2,fret:7,stringJitter:1.990681946185678,fretJitter:7.188190878379507},{number:63,velocity:96,time:3.482,channel:3,string:2,fret:8,stringJitter:1.8795369000403057,fretJitter:8.171888692039811},{number:64,velocity:98,time:3.526,channel:3,string:2,fret:9,stringJitter:2.0309055952606796,fretJitter:8.992657758022409},{number:63,velocity:95,time:3.584,channel:3,string:2,fret:8,stringJitter:2.0561460158584746,fretJitter:8.094907826952214},{number:62,velocity:91,time:3.626,channel:3,string:2,fret:7,stringJitter:2.166053483837073,fretJitter:7.19521582909766},{number:64,velocity:92,time:3.743,channel:3,string:2,fret:9,stringJitter:2.072420345420894,fretJitter:9.193615325028594},{number:63,velocity:90,time:3.831,channel:3,string:2,fret:8,stringJitter:1.8730663052670542,fretJitter:8.166905319687382},{number:62,velocity:87,time:3.86,channel:3,string:2,fret:7,stringJitter:1.8899613375788569,fretJitter:7.011889092037036},{number:63,velocity:87,time:3.976,channel:3,string:2,fret:8,stringJitter:1.8179037432169398,fretJitter:8.129764431693493},{number:62,velocity:83,time:4.092,channel:3,string:2,fret:7,stringJitter:1.8781725843425308,fretJitter:6.962574221385173},{number:63,velocity:82,time:4.222,channel:3,string:2,fret:8,stringJitter:1.9900363988391279,fretJitter:7.875881678054991},{number:61,velocity:77,time:4.309,channel:3,string:2,fret:6,stringJitter:2.0367112305343023,fretJitter:6.033946794401041},{number:60,velocity:77,time:4.351,channel:3,string:2,fret:5,stringJitter:1.9912976012864445,fretJitter:5.1689640052533},{number:59,velocity:77,time:4.367,channel:3,string:2,fret:4,stringJitter:1.836508631904857,fretJitter:3.970509986275754},{number:58,velocity:77,time:4.397,channel:3,string:2,fret:3,stringJitter:2.0337471931975153,fretJitter:2.9774273174267067},{number:57,velocity:77,time:4.425,channel:3,string:2,fret:2,stringJitter:1.9134537541370364,fretJitter:1.9444565961851654},{number:62,velocity:10,time:4.854,channel:2,string:1,fret:3,stringJitter:.8199234053840364,fretJitter:3.150239071358032},{number:55,velocity:102,time:4.857,channel:3,string:2,fret:0,stringJitter:2.0136059947909697,fretJitter:.04138231034028231},{number:61,velocity:10,time:4.86,channel:2,string:1,fret:2,stringJitter:.8245172078675986,fretJitter:1.802832726410003},{number:57,velocity:92,time:5.021,channel:3,string:2,fret:2,stringJitter:2.0844245300460025,fretJitter:1.8574553763705999},{number:58,velocity:86,time:5.253,channel:3,string:2,fret:3,stringJitter:1.805408075774284,fretJitter:3.1704809089489294},{number:57,velocity:87,time:5.339,channel:3,string:2,fret:2,stringJitter:1.8273735999894036,fretJitter:2.1901391039016236},{number:55,velocity:80,time:5.427,channel:3,string:2,fret:0,stringJitter:1.9074579561020828,fretJitter:.015558729414600415},{number:57,velocity:81,time:5.543,channel:3,string:2,fret:2,stringJitter:2.042385880288325,fretJitter:2.0510056351205517},{number:55,velocity:82,time:5.803,channel:3,string:2,fret:0,stringJitter:2.0525759507220442,fretJitter:-.19015779359159257},{number:57,velocity:66,time:5.935,channel:3,string:2,fret:2,stringJitter:1.882647112581037,fretJitter:2.1118226508096756},{number:55,velocity:69,time:6.054,channel:3,string:2,fret:0,stringJitter:2.1491939149902155,fretJitter:-.05118015858733012},{number:57,velocity:54,time:6.182,channel:3,string:2,fret:2,stringJitter:2.1344623726409573,fretJitter:2.0011154192546674},{number:55,velocity:48,time:6.283,channel:3,string:2,fret:0,stringJitter:2.0546720959753717,fretJitter:-.09769723951840154},{number:57,velocity:37,time:6.427,channel:3,string:2,fret:2,stringJitter:2.0223828520330818,fretJitter:1.885377596608556},{number:55,velocity:63,time:6.487,channel:3,string:2,fret:0,stringJitter:2.1107748266443753,fretJitter:.11870661894319996},{number:57,velocity:44,time:6.63,channel:3,string:2,fret:2,stringJitter:2.141780845751707,fretJitter:2.096377023481074},{number:55,velocity:43,time:6.718,channel:3,string:2,fret:0,stringJitter:2.0305367448542904,fretJitter:-.07351291201268433},{number:57,velocity:41,time:6.776,channel:3,string:2,fret:2,stringJitter:2.06512839399967,fretJitter:2.0275434689579996},{number:56,velocity:10,time:6.859,channel:3,string:2,fret:1,stringJitter:1.9173881268469608,fretJitter:.982817539480198},{number:55,velocity:10,time:6.878,channel:3,string:2,fret:0,stringJitter:2.0733559878213543,fretJitter:-.18323031341892593},{number:57,velocity:10,time:6.98,channel:3,string:2,fret:2,stringJitter:1.8589325670145616,fretJitter:2.046180996766146},{number:55,velocity:58,time:7.004,channel:3,string:2,fret:0,stringJitter:1.9940758116637591,fretJitter:.1349936589351451},{number:57,velocity:56,time:7.139,channel:3,string:2,fret:2,stringJitter:2.0407367319349947,fretJitter:2.0170996082063923},{number:55,velocity:46,time:7.241,channel:3,string:2,fret:0,stringJitter:1.8231935557413395,fretJitter:-.15217434862710616},{number:57,velocity:49,time:7.327,channel:3,string:2,fret:2,stringJitter:2.1858701658836903,fretJitter:2.0371964692378413},{number:55,velocity:46,time:7.415,channel:3,string:2,fret:0,stringJitter:2.124907526148567,fretJitter:.0651891204573201},{number:57,velocity:48,time:7.502,channel:3,string:2,fret:2,stringJitter:2.0562896613599158,fretJitter:2.070914536874852},{number:55,velocity:45,time:7.559,channel:3,string:2,fret:0,stringJitter:2.0995347731291005,fretJitter:-.05302025568670246},{number:57,velocity:48,time:7.633,channel:3,string:2,fret:2,stringJitter:2.1776549846053097,fretJitter:1.8592154283588445},{number:56,velocity:20,time:7.69,channel:3,string:2,fret:1,stringJitter:1.9058794780779982,fretJitter:1.046129511974484},{number:55,velocity:23,time:7.705,channel:3,string:2,fret:0,stringJitter:1.9906879254243466,fretJitter:-.061997997785624384},{number:57,velocity:26,time:7.821,channel:3,string:2,fret:2,stringJitter:2.0828463836325115,fretJitter:2.095837131144209},{number:55,velocity:16,time:7.923,channel:3,string:2,fret:0,stringJitter:2.0347121533757693,fretJitter:.0386782027110411},{number:57,velocity:20,time:7.994,channel:3,string:2,fret:2,stringJitter:1.8546220384563337,fretJitter:1.9735004822245272},{number:55,velocity:18,time:8.082,channel:3,string:2,fret:0,stringJitter:1.9825273620302863,fretJitter:.16648592675781454},{number:57,velocity:13,time:8.199,channel:3,string:2,fret:2,stringJitter:2.1494318608186402,fretJitter:2.0805322897893936},{number:55,velocity:10,time:8.271,channel:3,string:2,fret:0,stringJitter:2.0062355488226458,fretJitter:-.14157814586940595},{number:57,velocity:15,time:8.328,channel:3,string:2,fret:2,stringJitter:2.0530555738911196,fretJitter:1.9685025183951654},{number:55,velocity:11,time:8.445,channel:3,string:2,fret:0,stringJitter:1.961446699023405,fretJitter:-.07847064709983914},{number:57,velocity:10,time:8.467,channel:3,string:2,fret:2,stringJitter:1.9200802039921379,fretJitter:1.8550732676184298},{number:67,velocity:10,time:8.565,channel:3,string:2,fret:12,stringJitter:2.0282746788103125,fretJitter:11.99379633909593},{number:57,velocity:10,time:8.68,channel:3,string:2,fret:2,stringJitter:1.8060212101364603,fretJitter:1.9949083334539968},{number:55,velocity:10,time:8.809,channel:3,string:2,fret:0,stringJitter:1.9968403821091683,fretJitter:-.16075148128882538},{number:57,velocity:10,time:8.869,channel:3,string:2,fret:2,stringJitter:2.053952158687462,fretJitter:1.9729399601403939},{number:62,velocity:48,time:8.968,channel:3,string:2,fret:7,stringJitter:1.9066397920412932,fretJitter:6.845667563317418},{number:55,velocity:33,time:9.635,channel:3,string:2,fret:0,stringJitter:1.9554076303612462,fretJitter:.08985537435949215},{number:57,velocity:33,time:9.679,channel:3,string:2,fret:2,stringJitter:2.006131188775902,fretJitter:2.0035728320742616},{number:55,velocity:33,time:9.808,channel:3,string:2,fret:0,stringJitter:2.1218071841294335,fretJitter:.05982131547390512},{number:57,velocity:34,time:9.882,channel:3,string:2,fret:2,stringJitter:2.17525914229317,fretJitter:2.17961457457226},{number:64,velocity:21,time:9.956,channel:3,string:2,fret:9,stringJitter:2.158068938544951,fretJitter:9.080823690517088},{number:55,velocity:20,time:9.969,channel:3,string:2,fret:0,stringJitter:2.137244677780941,fretJitter:.09027213410741393},{number:62,velocity:58,time:10.038,channel:3,string:2,fret:7,stringJitter:1.8588326595193139,fretJitter:7.045047807825833},{number:61,velocity:37,time:10.374,channel:2,string:1,fret:2,stringJitter:1.0133818719329792,fretJitter:1.8009537258830002},{number:59,velocity:10,time:10.448,channel:2,string:1,fret:0,stringJitter:.8266544627050606,fretJitter:.08785365403940233},{number:63,velocity:40,time:10.607,channel:3,string:2,fret:8,stringJitter:2.0675887589277715,fretJitter:8.025646234130294},{number:64,velocity:35,time:10.925,channel:3,string:2,fret:9,stringJitter:2.0613250546326456,fretJitter:9.069210033699239},{number:63,velocity:32,time:11.318,channel:3,string:2,fret:8,stringJitter:1.9329486545891403,fretJitter:7.99872648836041},{number:62,velocity:32,time:11.404,channel:3,string:2,fret:7,stringJitter:1.8017141899340257,fretJitter:7.075520983037791},{number:63,velocity:30,time:11.623,channel:3,string:2,fret:8,stringJitter:1.8924231787061339,fretJitter:8.153840561402285},{number:60,velocity:10,time:13.1,channel:2,string:1,fret:1,stringJitter:1.0843165843616691,fretJitter:1.037201579452091},{number:57,velocity:57,time:13.343,channel:3,string:2,fret:2,stringJitter:2.1209742038198285,fretJitter:1.873879359274892},{number:55,velocity:87,time:13.565,channel:3,string:2,fret:0,stringJitter:2.049235891858333,fretJitter:.14515816796066625},{number:57,velocity:79,time:13.828,channel:3,string:2,fret:2,stringJitter:1.8299823910609376,fretJitter:1.8618401483206135},{number:62,velocity:87,time:14.004,channel:3,string:2,fret:7,stringJitter:1.8989880584133891,fretJitter:7.093411475979755},{number:63,velocity:66,time:14.381,channel:3,string:2,fret:8,stringJitter:2.0728083688839076,fretJitter:8.168997763371568},{number:62,velocity:61,time:14.612,channel:3,string:2,fret:7,stringJitter:1.9619343349848593,fretJitter:6.982809543507766},{number:57,velocity:64,time:15.007,channel:3,string:2,fret:2,stringJitter:1.934740508609123,fretJitter:2.178246823110037},{number:57,velocity:10,time:15.024,channel:4,string:3,fret:7,stringJitter:3.025825605668801,fretJitter:7.101629764516491},{number:55,velocity:86,time:15.256,channel:3,string:2,fret:0,stringJitter:2.0727293966393123,fretJitter:.10634740210315385},{number:57,velocity:68,time:15.541,channel:3,string:2,fret:2,stringJitter:2.004515786544579,fretJitter:1.9395972787836113},{number:62,velocity:79,time:15.671,channel:3,string:2,fret:7,stringJitter:2.0571405170760295,fretJitter:6.97032864406111},{number:63,velocity:61,time:15.932,channel:3,string:2,fret:8,stringJitter:1.9073111320372733,fretJitter:8.13293728767538},{number:62,velocity:54,time:16.135,channel:3,string:2,fret:7,stringJitter:1.9331285842768338,fretJitter:7.091121970575898},{number:55,velocity:64,time:16.464,channel:3,string:2,fret:0,stringJitter:2.0396887045384875,fretJitter:.12593159446206742},{number:57,velocity:13,time:16.469,channel:4,string:3,fret:7,stringJitter:3.0474637910013667,fretJitter:7.042543546438278},{number:69,velocity:11,time:16.512,channel:4,string:3,fret:19,stringJitter:3.048600940826076,fretJitter:19.08057483279986},{number:57,velocity:63,time:16.687,channel:3,string:2,fret:2,stringJitter:1.9106965739885449,fretJitter:1.9377962435545337},{number:57,velocity:46,time:16.89,channel:4,string:3,fret:7,stringJitter:2.874136552513325,fretJitter:7.0839436417412145},{number:62,velocity:66,time:16.92,channel:3,string:2,fret:7,stringJitter:2.183894130490536,fretJitter:6.959946877944432},{number:62,velocity:10,time:17.651,channel:3,string:2,fret:7,stringJitter:1.829913020279669,fretJitter:7.098837699410008},{number:66,velocity:10,time:17.653,channel:2,string:1,fret:7,stringJitter:1.1664440287066213,fretJitter:7.033090675047493},{number:63,velocity:10,time:17.921,channel:3,string:2,fret:8,stringJitter:2.0143313867095034,fretJitter:8.010475425927039},{number:62,velocity:10,time:18.065,channel:3,string:2,fret:7,stringJitter:2.0723392311165707,fretJitter:6.9589892531225725},{number:57,velocity:46,time:18.647,channel:3,string:2,fret:2,stringJitter:2.088477632994576,fretJitter:1.8110909868917},{number:58,velocity:127,time:18.775,channel:3,string:2,fret:3,stringJitter:2.0015117763184405,fretJitter:3.191231798670006},{number:57,velocity:127,time:18.792,channel:3,string:2,fret:2,stringJitter:1.8181498738073374,fretJitter:1.8517060668973364},{number:58,velocity:127,time:19.023,channel:3,string:2,fret:3,stringJitter:2.0245376417864556,fretJitter:3.0510434176839043},{number:55,velocity:127,time:19.095,channel:3,string:2,fret:0,stringJitter:1.930791591976754,fretJitter:-.16435060988978112},{number:59,velocity:66,time:19.410899999856948,channel:2,string:1,fret:0,stringJitter:1.1166423588544676,fretJitter:.15343419281171755},{number:55,velocity:52,time:19.754,channel:3,string:2,fret:0,stringJitter:1.8177597589396592,fretJitter:.09061867307311831},{number:55,velocity:70,time:20.029,channel:3,string:2,fret:0,stringJitter:2.0118189910797866,fretJitter:-.09314825645700707},{number:46,velocity:10,time:20.511,channel:4,string:3,fret:-4,stringJitter:3.195397883275431,fretJitter:-4.049455120871644},{number:50,velocity:100,time:20.576,channel:4,string:3,fret:0,stringJitter:2.901323121329329,fretJitter:.1329821567242842},{number:44,velocity:10,time:20.582,channel:6,string:5,fret:4,stringJitter:5.164184355142562,fretJitter:4.029219040038233},{number:50,velocity:75,time:23.544,channel:4,string:3,fret:0,stringJitter:3.0502924851251914,fretJitter:-.19357718406200242},{number:40,velocity:108,time:23.765,channel:6,string:5,fret:0,stringJitter:4.845351062940406,fretJitter:.11529101446743138},{number:65,velocity:10,time:23.827,channel:5,string:4,fret:20,stringJitter:3.9748842111108273,fretJitter:19.847210441543503},{number:45,velocity:10,time:23.958,channel:5,string:4,fret:0,stringJitter:3.99821439068817,fretJitter:-.19133437175300463},{number:69,velocity:10,time:24.035,channel:1,string:0,fret:5,stringJitter:.01829166130950908,fretJitter:5.038454441472295},{number:45,velocity:10,time:24.074,channel:5,string:4,fret:0,stringJitter:4.051238761075715,fretJitter:-.04165056403621197},{number:40,velocity:91,time:24.095,channel:6,string:5,fret:0,stringJitter:5.191873752944205,fretJitter:-.12384511546253973},{number:43,velocity:123,time:24.388,channel:6,string:5,fret:3,stringJitter:5.099339459442163,fretJitter:2.8170339833540736},{number:44,velocity:109,time:24.683,channel:6,string:5,fret:4,stringJitter:4.994845094117178,fretJitter:3.9026645287646025},{number:43,velocity:109,time:24.784,channel:6,string:5,fret:3,stringJitter:4.830022248288978,fretJitter:3.148247458857538},{number:44,velocity:107,time:24.916,channel:6,string:5,fret:4,stringJitter:4.992234025675853,fretJitter:3.9363608335394344},{number:43,velocity:103,time:24.989,channel:6,string:5,fret:3,stringJitter:5.005704531053527,fretJitter:3.0218888928894283},{number:44,velocity:101,time:25.09,channel:6,string:5,fret:4,stringJitter:4.916523994359646,fretJitter:4.022986664279088},{number:43,velocity:100,time:25.177,channel:6,string:5,fret:3,stringJitter:4.865612122015528,fretJitter:2.9521054159990894},{number:44,velocity:100,time:25.264,channel:6,string:5,fret:4,stringJitter:5.043390790256722,fretJitter:3.8783931629195787},{number:43,velocity:99,time:25.351,channel:6,string:5,fret:3,stringJitter:4.824907047696148,fretJitter:3.0995895151802277},{number:40,velocity:10,time:25.445,channel:6,string:5,fret:0,stringJitter:4.842027028400909,fretJitter:.17069121755727226},{number:47,velocity:10,time:25.56,channel:5,string:4,fret:2,stringJitter:4.1728730249162425,fretJitter:1.8563750817512956},{number:48,velocity:10,time:25.684,channel:5,string:4,fret:3,stringJitter:4.100281765051265,fretJitter:3.01385643126276},{number:45,velocity:13,time:25.709,channel:5,string:4,fret:0,stringJitter:4.14804990704892,fretJitter:.17181557340676284},{number:50,velocity:10,time:25.751,channel:4,string:3,fret:0,stringJitter:3.0038342806059988,fretJitter:.1238113702733264},{number:43,velocity:105,time:25.838,channel:6,string:5,fret:3,stringJitter:5.010862912932194,fretJitter:3.1737276864945025},{number:44,velocity:96,time:26.12,channel:6,string:5,fret:4,stringJitter:4.8216153808004005,fretJitter:3.904473763732289},{number:43,velocity:91,time:26.194,channel:6,string:5,fret:3,stringJitter:5.120250201967704,fretJitter:3.1377411048968264},{number:40,velocity:66,time:26.468,channel:6,string:5,fret:0,stringJitter:4.834416819145997,fretJitter:-.10626588056595576},{number:42,velocity:54,time:26.68,channel:6,string:5,fret:2,stringJitter:5.015112335298659,fretJitter:1.9237268443207378},{number:43,velocity:48,time:26.73,channel:6,string:5,fret:3,stringJitter:4.914440229487738,fretJitter:2.923637213035725},{number:44,velocity:43,time:26.846,channel:6,string:5,fret:4,stringJitter:4.802296115345538,fretJitter:3.942233709501487},{number:45,velocity:44,time:26.89,channel:6,string:5,fret:5,stringJitter:5.128534914597288,fretJitter:5.013839197461191},{number:48,velocity:40,time:27.284,channel:6,string:5,fret:8,stringJitter:5.048409074051589,fretJitter:7.868041840504702},{number:49,velocity:25,time:27.658,channel:6,string:5,fret:9,stringJitter:5.143134233154639,fretJitter:9.063424842157918},{number:48,velocity:21,time:27.746,channel:6,string:5,fret:8,stringJitter:4.87217294522303,fretJitter:7.823899533213007},{number:49,velocity:21,time:27.876,channel:6,string:5,fret:9,stringJitter:5.199634307389643,fretJitter:8.953464726120341},{number:48,velocity:20,time:27.96389999985695,channel:6,string:5,fret:8,stringJitter:5.076523026272827,fretJitter:7.866894386709969},{number:55,velocity:10,time:28.157,channel:4,string:3,fret:5,stringJitter:3.143970645604788,fretJitter:5.061219898196488},{number:52,velocity:10,time:28.324,channel:5,string:4,fret:7,stringJitter:4.119673477041268,fretJitter:7.182863980288184},{number:52,velocity:49,time:28.39,channel:5,string:4,fret:7,stringJitter:3.9808493275438313,fretJitter:6.83016474656199},{number:55,velocity:127,time:28.61,channel:4,string:3,fret:5,stringJitter:2.8039889995924256,fretJitter:5.133716381404976},{number:55,velocity:10,time:28.617,channel:3,string:2,fret:0,stringJitter:2.0700224153301234,fretJitter:.017724892890214682},{number:40,velocity:10,time:28.634,channel:6,string:5,fret:0,stringJitter:4.904637498687721,fretJitter:.1786961667139326},{number:52,velocity:41,time:28.857,channel:5,string:4,fret:7,stringJitter:4.1449943267521006,fretJitter:7.007801707537437},{number:57,velocity:127,time:29.06,channel:4,string:3,fret:7,stringJitter:3.016077271569384,fretJitter:6.823681307132823},{number:58,velocity:127,time:29.313,channel:4,string:3,fret:8,stringJitter:3.088754760776821,fretJitter:7.890147712521095},{number:57,velocity:118,time:29.414,channel:4,string:3,fret:7,stringJitter:3.054106719021188,fretJitter:7.031660750381766},{number:50,velocity:81,time:29.496,channel:5,string:4,fret:5,stringJitter:3.9788280614773597,fretJitter:5.181675103764911},{number:60,velocity:49,time:30.244,channel:3,string:2,fret:5,stringJitter:1.9220693007409866,fretJitter:4.883574655494117},{number:61,velocity:127,time:30.254,channel:3,string:2,fret:6,stringJitter:2.0238285519438444,fretJitter:6.031669339252516},{number:60,velocity:10,time:30.258,channel:2,string:1,fret:1,stringJitter:1.0244719305409127,fretJitter:1.0934673607789247},{number:60,velocity:127,time:30.299,channel:3,string:2,fret:5,stringJitter:1.8116857623698026,fretJitter:4.897432017873656},{number:57,velocity:94,time:30.535,channel:4,string:3,fret:7,stringJitter:2.925272675054598,fretJitter:6.975565629856614},{number:60,velocity:103,time:30.727,channel:3,string:2,fret:5,stringJitter:1.8899591494140422,fretJitter:4.999249468426139},{number:62,velocity:127,time:30.874,channel:3,string:2,fret:7,stringJitter:1.8858177395505766,fretJitter:6.9041017077465145},{number:78,velocity:57,time:31.165,channel:3,string:2,fret:23,stringJitter:2.0712373185639805,fretJitter:23.00208327442135},{number:63,velocity:127,time:31.176,channel:3,string:2,fret:8,stringJitter:2.0052696078299914,fretJitter:7.896198809073561},{number:62,velocity:127,time:31.199,channel:3,string:2,fret:7,stringJitter:2.0616372633234747,fretJitter:7.0707849129443145},{number:63,velocity:127,time:31.33,channel:3,string:2,fret:8,stringJitter:1.9158331036784997,fretJitter:8.122669847668451},{number:72,velocity:10,time:31.657,channel:1,string:0,fret:8,stringJitter:-.17649304649457456,fretJitter:7.881552169792651},{number:67,velocity:103,time:31.726,channel:2,string:1,fret:8,stringJitter:1.19815477243051,fretJitter:7.857343241260483},{number:62,velocity:93,time:31.922,channel:3,string:2,fret:7,stringJitter:1.944481683910443,fretJitter:7.119662413805593},{number:63,velocity:83,time:32.084,channel:3,string:2,fret:8,stringJitter:1.942036141831999,fretJitter:7.842227485301944},{number:64,velocity:75,time:32.273,channel:3,string:2,fret:9,stringJitter:1.819010892099416,fretJitter:8.970112680634687},{number:63,velocity:71,time:32.374,channel:3,string:2,fret:8,stringJitter:2.105022794245322,fretJitter:7.973445276223093},{number:62,velocity:71,time:32.447,channel:3,string:2,fret:7,stringJitter:2.0809218466265613,fretJitter:7.0453530434153},{number:64,velocity:112,time:32.753,channel:2,string:1,fret:5,stringJitter:1.1761449751379367,fretJitter:4.8214594066193435},{number:60,velocity:50,time:33.5,channel:3,string:2,fret:5,stringJitter:2.127087172183359,fretJitter:5.175956019097664},{number:59,velocity:34,time:33.81,channel:3,string:2,fret:4,stringJitter:2.155120933531928,fretJitter:4.148567953111318},{number:58,velocity:34,time:33.855,channel:3,string:2,fret:3,stringJitter:2.171903077203648,fretJitter:2.8943832899371857},{number:57,velocity:30,time:34.261,channel:3,string:2,fret:2,stringJitter:1.879247611915978,fretJitter:2.0380720418976623},{number:55,velocity:26,time:34.784,channel:3,string:2,fret:0,stringJitter:1.991475477885496,fretJitter:.05715514538083948},{number:57,velocity:23,time:34.928,channel:3,string:2,fret:2,stringJitter:2.1958250588363124,fretJitter:2.0910003133081085},{number:69,velocity:10,time:35.189,channel:2,string:1,fret:10,stringJitter:.9248162285535728,fretJitter:10.052001635098035},{number:60,velocity:51,time:35.225,channel:2,string:1,fret:1,stringJitter:1.014623995123563,fretJitter:1.1814680986569441},{number:60,velocity:102,time:35.233,channel:2,string:1,fret:1,stringJitter:1.0322726685320678,fretJitter:1.1209968890908593},{number:57,velocity:79,time:35.698,channel:3,string:2,fret:2,stringJitter:2.1069992359125576,fretJitter:2.183369063645509},{number:59,velocity:40,time:36.014,channel:2,string:1,fret:0,stringJitter:.8264328542712638,fretJitter:-.18334575014214716},{number:60,velocity:33,time:36.234,channel:2,string:1,fret:1,stringJitter:1.1336524873593166,fretJitter:1.033012880758558},{number:67,velocity:10,time:36.440899999856946,channel:1,string:0,fret:3,stringJitter:.12666385503976116,fretJitter:3.124201514441849},{number:62,velocity:35,time:36.452,channel:2,string:1,fret:3,stringJitter:.8506233330900422,fretJitter:3.0419287901014456},{number:60,velocity:10,time:37.239,channel:2,string:1,fret:1,stringJitter:.8963170780039686,fretJitter:1.101999254192079},{number:59,velocity:10,time:37.366,channel:2,string:1,fret:0,stringJitter:1.0400655458267956,fretJitter:.13979065447690947},{number:57,velocity:28,time:37.53,channel:3,string:2,fret:2,stringJitter:2.0414581228711657,fretJitter:1.9517592018231231},{number:55,velocity:18,time:37.918,channel:3,string:2,fret:0,stringJitter:1.9721259395600244,fretJitter:.023466181764945127},{number:59,velocity:20,time:38.018,channel:2,string:1,fret:0,stringJitter:.8674307245834115,fretJitter:.1692578450660565},{number:60,velocity:10,time:38.135,channel:2,string:1,fret:1,stringJitter:1.179043636821771,fretJitter:.8899749829086259},{number:57,velocity:44,time:38.318,channel:3,string:2,fret:2,stringJitter:2.1220979700155556,fretJitter:1.997760750563193},{number:59,velocity:10,time:38.497,channel:2,string:1,fret:0,stringJitter:1.1126661525449653,fretJitter:-21992351614130714e-21},{number:55,velocity:52,time:38.5,channel:3,string:2,fret:0,stringJitter:1.8092958305176634,fretJitter:.00030126464408795076},{number:52,velocity:74,time:38.671,channel:4,string:3,fret:2,stringJitter:3.1234841486015137,fretJitter:1.8652748299649602},{number:48,velocity:10,time:39.331,channel:5,string:4,fret:3,stringJitter:3.911390239287978,fretJitter:3.1057856405614572},{number:48,velocity:40,time:39.388,channel:5,string:4,fret:3,stringJitter:3.9163934615472606,fretJitter:3.0335711055799095},{number:47,velocity:70,time:39.698,channel:5,string:4,fret:2,stringJitter:4.0622523056042406,fretJitter:2.0718754583352466},{number:45,velocity:46,time:40.022,channel:5,string:4,fret:0,stringJitter:4.038017252369724,fretJitter:.14941286627107148},{number:47,velocity:42,time:40.181,channel:5,string:4,fret:2,stringJitter:3.861685770879404,fretJitter:1.9575688176302557},{number:45,velocity:79,time:40.358,channel:5,string:4,fret:0,stringJitter:4.072216734863474,fretJitter:.09132942780903913},{number:47,velocity:66,time:40.572,channel:5,string:4,fret:2,stringJitter:4.056698116670275,fretJitter:2.1061219151721566},{number:52,velocity:29,time:40.677,channel:4,string:3,fret:2,stringJitter:2.9974414397020754,fretJitter:2.161932437509364},{number:45,velocity:96,time:40.679,channel:5,string:4,fret:0,stringJitter:4.132836642299995,fretJitter:-.06948149778706485},{number:47,velocity:86,time:40.875,channel:5,string:4,fret:2,stringJitter:4.035596707512545,fretJitter:2.173068245410054},{number:45,velocity:87,time:40.994,channel:5,string:4,fret:0,stringJitter:4.168383053649789,fretJitter:-.16322965276770018},{number:47,velocity:76,time:41.139,channel:5,string:4,fret:2,stringJitter:3.895593583844239,fretJitter:1.9438912135907631},{number:52,velocity:38,time:41.156,channel:4,string:3,fret:2,stringJitter:2.9544916637059653,fretJitter:1.9522488772349877},{number:45,velocity:86,time:41.159,channel:5,string:4,fret:0,stringJitter:3.9802252503050273,fretJitter:.01185510563532395},{number:47,velocity:76,time:41.328,channel:5,string:4,fret:2,stringJitter:3.8875712299294607,fretJitter:2.124845287293299},{number:45,velocity:73,time:41.413,channel:5,string:4,fret:0,stringJitter:4.005659983390166,fretJitter:-.03741082465910397},{number:48,velocity:64,time:41.455,channel:5,string:4,fret:3,stringJitter:4.113431364863314,fretJitter:2.932896230669495},{number:47,velocity:63,time:41.472,channel:5,string:4,fret:2,stringJitter:3.932075824042968,fretJitter:1.8436933089952066},{number:45,velocity:51,time:41.56,channel:5,string:4,fret:0,stringJitter:3.8110789433870664,fretJitter:-.17039966321304753},{number:52,velocity:29,time:41.675,channel:4,string:3,fret:2,stringJitter:3.167154979540071,fretJitter:2.0708043257443802},{number:45,velocity:15,time:41.706,channel:5,string:4,fret:0,stringJitter:3.9931040399214646,fretJitter:.044509663196104214},{number:52,velocity:40,time:41.882,channel:4,string:3,fret:2,stringJitter:2.8090254728075394,fretJitter:2.0506210911780838},{number:45,velocity:71,time:41.884,channel:5,string:4,fret:0,stringJitter:3.966002455283151,fretJitter:-.17534323825988363},{number:47,velocity:69,time:42.067,channel:5,string:4,fret:2,stringJitter:4.081374636652109,fretJitter:1.988244569984114},{number:45,velocity:72,time:42.107,channel:5,string:4,fret:0,stringJitter:3.8231188182997173,fretJitter:.059585991607033775},{number:47,velocity:70,time:42.256,channel:5,string:4,fret:2,stringJitter:3.8412561272375885,fretJitter:1.910727166122618},{number:45,velocity:68,time:42.542,channel:5,string:4,fret:0,stringJitter:3.8851107796205158,fretJitter:-.008300064116237404},{number:47,velocity:61,time:42.705,channel:5,string:4,fret:2,stringJitter:3.866055078535835,fretJitter:2.1848161054295074},{number:52,velocity:100,time:42.8,channel:5,string:4,fret:7,stringJitter:4.112115388327679,fretJitter:7.164420931170822},{number:40,velocity:10,time:42.884,channel:6,string:5,fret:0,stringJitter:4.8988650354995995,fretJitter:-.05048558529474665},{number:45,velocity:78,time:43.033,channel:5,string:4,fret:0,stringJitter:4.18104794382282,fretJitter:.12471367786626208},{number:52,velocity:97,time:43.15,channel:5,string:4,fret:7,stringJitter:3.9481034939691515,fretJitter:6.969890832460764},{number:46,velocity:37,time:43.164,channel:6,string:5,fret:6,stringJitter:4.845589980365731,fretJitter:5.844687720584641},{number:47,velocity:51,time:43.2,channel:6,string:5,fret:7,stringJitter:5.108814705175541,fretJitter:7.042897952029021},{number:52,velocity:40,time:43.338,channel:4,string:3,fret:2,stringJitter:2.8149573011810416,fretJitter:1.891321070600492},{number:45,velocity:85,time:43.342,channel:5,string:4,fret:0,stringJitter:4.143192096104121,fretJitter:.13900471797707087},{number:52,velocity:71,time:43.517,channel:5,string:4,fret:7,stringJitter:4.140644733853075,fretJitter:7.088184915952678},{number:45,velocity:66,time:43.591,channel:5,string:4,fret:0,stringJitter:3.880213950405595,fretJitter:-.18566079816186357},{number:47,velocity:64,time:43.62,channel:5,string:4,fret:2,stringJitter:3.837901837049043,fretJitter:2.154336116401028},{number:45,velocity:55,time:43.7,channel:5,string:4,fret:0,stringJitter:3.809248494994617,fretJitter:-.01587397698718105},{number:52,velocity:56,time:43.808,channel:5,string:4,fret:7,stringJitter:4.011427067112883,fretJitter:7.048159953269349},{number:52,velocity:32,time:43.946,channel:4,string:3,fret:2,stringJitter:3.070168147500154,fretJitter:2.0120709757345705},{number:45,velocity:83,time:43.949,channel:5,string:4,fret:0,stringJitter:3.8172315657770066,fretJitter:-.04692831387981},{number:52,velocity:61,time:44.083,channel:5,string:4,fret:7,stringJitter:4.132156789003692,fretJitter:6.977497995827291},{number:47,velocity:60,time:44.141,channel:5,string:4,fret:2,stringJitter:3.8742669840418826,fretJitter:2.005082600818577},{number:45,velocity:74,time:44.206,channel:5,string:4,fret:0,stringJitter:3.929047822638117,fretJitter:-.14534206629267218},{number:52,velocity:61,time:44.332,channel:5,string:4,fret:7,stringJitter:4.077363527181352,fretJitter:6.981630702181463},{number:47,velocity:51,time:44.402,channel:5,string:4,fret:2,stringJitter:3.968559059196354,fretJitter:2.141821754929665},{number:45,velocity:57,time:44.548,channel:5,string:4,fret:0,stringJitter:3.961571542594987,fretJitter:.04702764222942806},{number:52,velocity:52,time:44.608,channel:5,string:4,fret:7,stringJitter:4.08789101862244,fretJitter:7.029500279709699},{number:47,velocity:50,time:44.664,channel:5,string:4,fret:2,stringJitter:3.8495774844861925,fretJitter:1.8916268214582963},{number:52,velocity:38,time:44.733,channel:4,string:3,fret:2,stringJitter:2.9178112712636146,fretJitter:1.8674685170729501},{number:45,velocity:65,time:44.737,channel:5,string:4,fret:0,stringJitter:3.904415852317078,fretJitter:.06011804631342983},{number:52,velocity:78,time:44.862,channel:5,string:4,fret:7,stringJitter:4.175794319092954,fretJitter:7.094774719022329},{number:45,velocity:52,time:44.993,channel:5,string:4,fret:0,stringJitter:4.152713998704918,fretJitter:-.09463714985922139},{number:47,velocity:58,time:45.2,channel:5,string:4,fret:2,stringJitter:3.909198184161033,fretJitter:1.9618572415980975},{number:53,velocity:77,time:45.277,channel:5,string:4,fret:8,stringJitter:3.821964653670939,fretJitter:8.159052731902214},{number:52,velocity:13,time:45.496,channel:4,string:3,fret:2,stringJitter:2.977556781918297,fretJitter:1.8215108204034869},{number:45,velocity:45,time:45.498,channel:5,string:4,fret:0,stringJitter:4.019658324298773,fretJitter:.1943183655020068},{number:54,velocity:71,time:45.639,channel:5,string:4,fret:9,stringJitter:4.012196443794314,fretJitter:9.086340179447578},{number:45,velocity:64,time:45.828,channel:5,string:4,fret:0,stringJitter:4.186440838848528,fretJitter:-.17233036427730186},{number:52,velocity:10,time:45.831,channel:4,string:3,fret:2,stringJitter:2.9711869499472563,fretJitter:1.9699276955761307},{number:47,velocity:40,time:46.043,channel:5,string:4,fret:2,stringJitter:4.026399305773483,fretJitter:1.910737358588802},{number:45,velocity:54,time:46.148,channel:5,string:4,fret:0,stringJitter:3.843445673203856,fretJitter:-.1579244956398756},{number:54,velocity:39,time:46.275,channel:5,string:4,fret:9,stringJitter:4.128567162793445,fretJitter:9.195004377589951},{number:52,velocity:67,time:46.405,channel:4,string:3,fret:2,stringJitter:3.11304316052492,fretJitter:2.0312340571370457},{number:45,velocity:89,time:46.408,channel:5,string:4,fret:0,stringJitter:4.016823521513967,fretJitter:.023814467716833487},{number:40,velocity:10,time:46.543,channel:6,string:5,fret:0,stringJitter:5.178802107198464,fretJitter:-.17752473592897022},{number:54,velocity:77,time:46.566,channel:5,string:4,fret:9,stringJitter:4.158447079624742,fretJitter:9.187915281068033},{number:45,velocity:62,time:46.769,channel:5,string:4,fret:0,stringJitter:3.87344602172195,fretJitter:-.05220498671381524},{number:52,velocity:10,time:46.772,channel:4,string:3,fret:2,stringJitter:3.134031326382185,fretJitter:1.8766054023685215},{number:54,velocity:56,time:46.93,channel:5,string:4,fret:9,stringJitter:3.828640363846113,fretJitter:9.124274393329975},{number:47,velocity:42,time:46.987,channel:5,string:4,fret:2,stringJitter:4.153930914280564,fretJitter:1.8495450114310799},{number:46,velocity:34,time:47.074,channel:5,string:4,fret:1,stringJitter:4.039458770387808,fretJitter:.8238243836521886},{number:54,velocity:68,time:47.103,channel:5,string:4,fret:9,stringJitter:3.963968038290662,fretJitter:8.859991276575004},{number:55,velocity:83,time:47.347,channel:5,string:4,fret:10,stringJitter:3.8545358383005714,fretJitter:10.009539342410566},{number:55,velocity:71,time:47.702,channel:5,string:4,fret:10,stringJitter:3.8489893309131302,fretJitter:9.869140277336719},{number:52,velocity:55,time:47.912,channel:4,string:3,fret:2,stringJitter:3.145816799665859,fretJitter:1.8459148369843943},{number:45,velocity:83,time:47.916,channel:5,string:4,fret:0,stringJitter:4.043239705937016,fretJitter:.0661072337079828},{number:55,velocity:88,time:48.026,channel:5,string:4,fret:10,stringJitter:4.102863642612885,fretJitter:10.106374916351653},{number:52,velocity:49,time:48.182,channel:4,string:3,fret:2,stringJitter:3.1926693913640847,fretJitter:2.174353400021632},{number:45,velocity:71,time:48.186,channel:5,string:4,fret:0,stringJitter:3.815156799074419,fretJitter:-.13822122781065493},{number:50,velocity:10,time:48.249,channel:4,string:3,fret:0,stringJitter:2.8392518623073975,fretJitter:.16838020483675403},{number:50,velocity:41,time:48.264,channel:6,string:5,fret:10,stringJitter:5.112489042642219,fretJitter:10.03055995697194},{number:56,velocity:102,time:48.551,channel:5,string:4,fret:11,stringJitter:4.107781484823511,fretJitter:11.189568504346854},{number:55,velocity:80,time:48.568,channel:5,string:4,fret:10,stringJitter:4.0808225896339865,fretJitter:10.182870471455875},{number:47,velocity:47,time:48.684,channel:5,string:4,fret:2,stringJitter:3.8409676724175417,fretJitter:1.9967589175080078},{number:51,velocity:26,time:48.799,channel:4,string:3,fret:1,stringJitter:3.08261870503544,fretJitter:.9643152535236635},{number:45,velocity:66,time:48.803,channel:5,string:4,fret:0,stringJitter:3.813501207051154,fretJitter:-.09475168532903125},{number:56,velocity:92,time:48.868,channel:5,string:4,fret:11,stringJitter:4.018069112382181,fretJitter:11.06539356132408},{number:55,velocity:89,time:48.887,channel:5,string:4,fret:10,stringJitter:4.048199307280121,fretJitter:9.870930485875368},{number:47,velocity:75,time:49.004,channel:5,string:4,fret:2,stringJitter:3.9913396257506664,fretJitter:2.087740036699091},{number:45,velocity:78,time:49.133,channel:5,string:4,fret:0,stringJitter:3.9818239074288617,fretJitter:-.03607723031879617},{number:57,velocity:95,time:49.164,channel:5,string:4,fret:12,stringJitter:4.18300098956821,fretJitter:11.809288911526032},{number:47,velocity:41,time:49.322,channel:5,string:4,fret:2,stringJitter:3.8860521212203682,fretJitter:2.1583570882168783},{number:45,velocity:35,time:49.468,channel:5,string:4,fret:0,stringJitter:4.174606477833053,fretJitter:-.12022403592071412},{number:57,velocity:82,time:49.527,channel:5,string:4,fret:12,stringJitter:3.9120459368481915,fretJitter:12.091771879419845},{number:47,velocity:69,time:49.642,channel:5,string:4,fret:2,stringJitter:3.822061440919452,fretJitter:2.101254961715798},{number:45,velocity:57,time:49.817,channel:5,string:4,fret:0,stringJitter:3.9370587634655902,fretJitter:-.014681058772277746},{number:57,velocity:72,time:49.862,channel:5,string:4,fret:12,stringJitter:3.924510404190217,fretJitter:11.810919964273},{number:47,velocity:29,time:49.991,channel:5,string:4,fret:2,stringJitter:4.058718582387336,fretJitter:2.1528682356212263},{number:57,velocity:68,time:50.14,channel:5,string:4,fret:12,stringJitter:4.123784652948332,fretJitter:11.84475102656841},{number:45,velocity:65,time:50.252,channel:5,string:4,fret:0,stringJitter:3.8801738204108194,fretJitter:-.07192547356534407},{number:47,velocity:50,time:50.352,channel:5,string:4,fret:2,stringJitter:3.994622236157597,fretJitter:2.073669743979762},{number:45,velocity:47,time:50.483,channel:5,string:4,fret:0,stringJitter:3.844795122559092,fretJitter:.14445879160871158},{number:57,velocity:77,time:50.505,channel:5,string:4,fret:12,stringJitter:3.8091949830282674,fretJitter:11.98734167487183},{number:45,velocity:68,time:50.615,channel:5,string:4,fret:0,stringJitter:3.969485383944118,fretJitter:.04724171266601536},{number:47,velocity:65,time:50.686,channel:5,string:4,fret:2,stringJitter:4.140582235853749,fretJitter:1.8239376203311397},{number:52,velocity:37,time:50.794,channel:4,string:3,fret:2,stringJitter:2.8244455741807886,fretJitter:1.9960899110036041},{number:45,velocity:88,time:50.796,channel:5,string:4,fret:0,stringJitter:3.874205797473901,fretJitter:-.11632192590093525},{number:57,velocity:100,time:50.899,channel:5,string:4,fret:12,stringJitter:3.87796741334465,fretJitter:12.122783031127781},{number:45,velocity:91,time:51.05,channel:5,string:4,fret:0,stringJitter:4.031631203610506,fretJitter:.09981097677635936},{number:47,velocity:90,time:51.266,channel:5,string:4,fret:2,stringJitter:3.8045229511760583,fretJitter:1.9511628087106618},{number:47,velocity:67,time:51.742,channel:5,string:4,fret:2,stringJitter:4.097416012736435,fretJitter:1.9253663805970298},{number:47,velocity:99,time:52.049,channel:5,string:4,fret:2,stringJitter:4.086867539954764,fretJitter:1.9146390764001895},{number:47,velocity:69,time:53.125,channel:5,string:4,fret:2,stringJitter:3.8865009683375122,fretJitter:2.1083219877104984},{number:47,velocity:87,time:53.372,channel:5,string:4,fret:2,stringJitter:3.896785441039544,fretJitter:1.8124493597700315},{number:47,velocity:71,time:53.771,channel:5,string:4,fret:2,stringJitter:3.9188367109809676,fretJitter:2.083851432488578},{number:48,velocity:107,time:53.989,channel:5,string:4,fret:3,stringJitter:4.117009696974587,fretJitter:2.9065886131485414},{number:47,velocity:60,time:54.49,channel:5,string:4,fret:2,stringJitter:3.831293373335917,fretJitter:2.0277063730253784},{number:47,velocity:108,time:54.709,channel:5,string:4,fret:2,stringJitter:4.154536981760903,fretJitter:1.8983512069432273},{number:46,velocity:10,time:55.871,channel:6,string:5,fret:6,stringJitter:4.9879834958074385,fretJitter:6.00683754735986},{number:47,velocity:10,time:55.897,channel:6,string:5,fret:7,stringJitter:5.119724378118322,fretJitter:6.848841683518534},{number:70,velocity:10,time:57.195,channel:4,string:3,fret:20,stringJitter:3.1537929150629544,fretJitter:19.96522667791111},{number:57,velocity:10,time:57.217,channel:4,string:3,fret:7,stringJitter:2.8974403719528476,fretJitter:6.908364442497514},{number:52,velocity:10,time:57.225,channel:5,string:4,fret:7,stringJitter:3.9418496671702674,fretJitter:6.8055080466123155},{number:40,velocity:10,time:57.281,channel:5,string:4,fret:-5,stringJitter:3.897820301321991,fretJitter:-5.175734653583516},{number:45,velocity:108,time:57.318,channel:6,string:5,fret:5,stringJitter:5.197841301469486,fretJitter:5.080946076445797},{number:82,velocity:10,time:57.331,channel:3,string:2,fret:27,stringJitter:1.898868343623205,fretJitter:27.163499993862352},{number:52,velocity:10,time:57.332,channel:5,string:4,fret:7,stringJitter:3.8465503592392576,fretJitter:6.918578135695647},{number:53,velocity:104,time:57.351,channel:5,string:4,fret:8,stringJitter:3.9034828700267603,fretJitter:7.983925890258329},{number:65,velocity:46,time:57.355,channel:4,string:3,fret:15,stringJitter:2.864389568329549,fretJitter:15.017050878408416},{number:52,velocity:100,time:57.361,channel:5,string:4,fret:7,stringJitter:4.19304172254028,fretJitter:6.953415921945986},{number:84,velocity:10,time:57.369,channel:2,string:1,fret:25,stringJitter:1.1039575494006244,fretJitter:24.976526102246222},{number:76,velocity:39,time:57.377,channel:4,string:3,fret:26,stringJitter:2.90736403293318,fretJitter:25.858844235892764},{number:58,velocity:118,time:57.391,channel:4,string:3,fret:8,stringJitter:2.8795204795861475,fretJitter:8.107331792262716},{number:67,velocity:10,time:57.406,channel:3,string:2,fret:12,stringJitter:2.1636521873829286,fretJitter:11.833087931783524},{number:57,velocity:119,time:57.434,channel:4,string:3,fret:7,stringJitter:2.8007641788431425,fretJitter:7.14680980604992},{number:61,velocity:99,time:57.435,channel:3,string:2,fret:6,stringJitter:1.9280586981194106,fretJitter:6.127275484326595},{number:60,velocity:98,time:57.447,channel:3,string:2,fret:5,stringJitter:1.9525136890081856,fretJitter:5.093793489953166},{number:64,velocity:99,time:57.472,channel:2,string:1,fret:5,stringJitter:1.0395197042893007,fretJitter:5.154904497867641},{number:69,velocity:61,time:57.502,channel:1,string:0,fret:5,stringJitter:.03002199705194313,fretJitter:5.082301319525345},{number:69,velocity:10,time:68.776,channel:2,string:1,fret:10,stringJitter:.9522314680678254,fretJitter:9.950973496841245},{number:60,velocity:127,time:70.567,channel:2,string:1,fret:1,stringJitter:.9577240178386256,fretJitter:1.0966643202493485},{number:60,velocity:10,time:70.587,channel:1,string:0,fret:-4,stringJitter:-.004148214225425928,fretJitter:-3.870771213957345},{number:59,velocity:113,time:70.93,channel:2,string:1,fret:0,stringJitter:1.0849773454584595,fretJitter:-.15951907686085562},{number:55,velocity:48,time:71.029,channel:3,string:2,fret:0,stringJitter:1.8829488565423738,fretJitter:-.035757957792295694},{number:55,velocity:62,time:71.463,channel:3,string:2,fret:0,stringJitter:2.010567038279527,fretJitter:.10632067543175659},{number:52,velocity:80,time:71.61389999985695,channel:4,string:3,fret:2,stringJitter:3.170727476392511,fretJitter:1.9667810089806923},{number:55,velocity:123,time:71.806,channel:3,string:2,fret:0,stringJitter:1.8668313349098677,fretJitter:.07541227046997401},{number:75,velocity:16,time:72.655,channel:3,string:2,fret:20,stringJitter:2.1437771451674545,fretJitter:19.955176690051967},{number:57,velocity:127,time:72.668,channel:3,string:2,fret:2,stringJitter:1.973106375637657,fretJitter:2.1954097719095005},{number:58,velocity:122,time:72.991,channel:3,string:2,fret:3,stringJitter:1.9705888746156188,fretJitter:2.913831417443554},{number:57,velocity:118,time:73.107,channel:3,string:2,fret:2,stringJitter:1.8425675985935892,fretJitter:2.0104566971461892},{number:58,velocity:114,time:73.238,channel:3,string:2,fret:3,stringJitter:1.8424079669022326,fretJitter:3.1992991153327313},{number:57,velocity:114,time:73.324,channel:3,string:2,fret:2,stringJitter:2.0324502677524867,fretJitter:2.002677341363683},{number:55,velocity:110,time:73.542,channel:3,string:2,fret:0,stringJitter:2.073007475546549,fretJitter:.002448066811610694},{number:50,velocity:59,time:73.623,channel:4,string:3,fret:0,stringJitter:2.8011375992696506,fretJitter:-.06904083136802175},{number:52,velocity:48,time:73.702,channel:4,string:3,fret:2,stringJitter:2.988466127953393,fretJitter:2.130816124559305},{number:55,velocity:104,time:73.898,channel:3,string:2,fret:0,stringJitter:2.1467917663661265,fretJitter:.05149534619289771},{number:50,velocity:26,time:74.572,channel:4,string:3,fret:0,stringJitter:3.0724587357321034,fretJitter:.09945977647741665},{number:57,velocity:98,time:74.619,channel:3,string:2,fret:2,stringJitter:1.806530098213404,fretJitter:1.9641117011217237},{number:58,velocity:91,time:75.022,channel:3,string:2,fret:3,stringJitter:1.9471947765106772,fretJitter:2.853246215951857},{number:57,velocity:88,time:75.095,channel:3,string:2,fret:2,stringJitter:2.1782668378558676,fretJitter:1.8243819176439122},{number:59,velocity:91,time:75.456,channel:2,string:1,fret:0,stringJitter:.9060607788014952,fretJitter:.1498745716301124},{number:60,velocity:81,time:75.589,channel:2,string:1,fret:1,stringJitter:1.1267167239889642,fretJitter:1.1425290895154705},{number:59,velocity:66,time:75.719,channel:2,string:1,fret:0,stringJitter:.8164024353622805,fretJitter:.1768876136264102},{number:55,velocity:40,time:75.783,channel:3,string:2,fret:0,stringJitter:2.13837381075533,fretJitter:-.03020981455913905},{number:57,velocity:32,time:75.821,channel:3,string:2,fret:2,stringJitter:1.9550294323104749,fretJitter:1.8340903331083234},{number:55,velocity:18,time:75.936,channel:3,string:2,fret:0,stringJitter:1.9915746712031106,fretJitter:.11866257874889596},{number:59,velocity:69,time:75.978,channel:2,string:1,fret:0,stringJitter:.9300997201658108,fretJitter:-.15814621402297535},{number:60,velocity:60,time:76.082,channel:2,string:1,fret:1,stringJitter:1.1975725993461008,fretJitter:.861458957927259},{number:59,velocity:53,time:76.184,channel:2,string:1,fret:0,stringJitter:.8543047420491391,fretJitter:.025396088851816767},{number:55,velocity:30,time:76.258,channel:3,string:2,fret:0,stringJitter:1.8559907707068835,fretJitter:.11353175551353507},{number:57,velocity:29,time:76.285,channel:3,string:2,fret:2,stringJitter:2.0673709035639742,fretJitter:1.9607151518435033},{number:55,velocity:13,time:76.387,channel:3,string:2,fret:0,stringJitter:1.9338945195928297,fretJitter:-.13047122376350268},{number:59,velocity:70,time:76.482,channel:2,string:1,fret:0,stringJitter:1.0688797872248879,fretJitter:-.020203258938640813},{number:60,velocity:66,time:76.546,channel:2,string:1,fret:1,stringJitter:.8103645253277773,fretJitter:.9762407313046666},{number:59,velocity:50,time:76.662,channel:2,string:1,fret:0,stringJitter:1.1664657408144752,fretJitter:.1808432776480202},{number:60,velocity:46,time:76.749,channel:2,string:1,fret:1,stringJitter:.9241203945792617,fretJitter:1.0581876326232935},{number:59,velocity:42,time:76.851,channel:2,string:1,fret:0,stringJitter:.9109753454721237,fretJitter:-.1105411597557696},{number:57,velocity:13,time:76.967,channel:3,string:2,fret:2,stringJitter:2.1023286698818215,fretJitter:2.0001229033173957},{number:55,velocity:11,time:77.083,channel:3,string:2,fret:0,stringJitter:2.1687413533386013,fretJitter:-.0009327850205004041},{number:57,velocity:10,time:77.271,channel:3,string:2,fret:2,stringJitter:1.8580849501692236,fretJitter:2.008832210288312},{number:55,velocity:51,time:77.415,channel:3,string:2,fret:0,stringJitter:1.8635653749380698,fretJitter:-.0005184258081342819},{number:56,velocity:10,time:77.553,channel:4,string:3,fret:6,stringJitter:2.8645853277877955,fretJitter:5.99036689683215},{number:52,velocity:65,time:77.574,channel:4,string:3,fret:2,stringJitter:2.817559926908286,fretJitter:1.8472581112453987},{number:50,velocity:40,time:77.764,channel:4,string:3,fret:0,stringJitter:3.0964162187120556,fretJitter:.16525770617414237},{number:55,velocity:85,time:77.798,channel:3,string:2,fret:0,stringJitter:2.0932948082236353,fretJitter:-.04952548998758682},{number:57,velocity:69,time:78.012,channel:3,string:2,fret:2,stringJitter:2.1835857478014304,fretJitter:1.9795842125752396},{number:58,velocity:124,time:78.366,channel:3,string:2,fret:3,stringJitter:2.1745700076516545,fretJitter:3.038224602700511},{number:59,velocity:111,time:78.549,channel:3,string:2,fret:4,stringJitter:2.003392694498203,fretJitter:4.04854781726571},{number:58,velocity:105,time:78.693,channel:3,string:2,fret:3,stringJitter:2.1062743114731286,fretJitter:2.9112944178601516},{number:57,velocity:103,time:78.723,channel:3,string:2,fret:2,stringJitter:2.065849597959494,fretJitter:1.8145330854370314},{number:56,velocity:93,time:78.839,channel:3,string:2,fret:1,stringJitter:1.8022520367241595,fretJitter:1.0586577262202803},{number:55,velocity:87,time:78.881,channel:3,string:2,fret:0,stringJitter:1.8230312187746651,fretJitter:-.19499260633954024},{number:52,velocity:79,time:78.986,channel:4,string:3,fret:2,stringJitter:2.819489527109666,fretJitter:1.846082261614614},{number:50,velocity:61,time:79.173,channel:4,string:3,fret:0,stringJitter:3.070083915788524,fretJitter:-.11948754256980738},{number:52,velocity:80,time:79.522,channel:4,string:3,fret:2,stringJitter:3.1742637844483683,fretJitter:2.1208212884750415},{number:53,velocity:73,time:79.578,channel:4,string:3,fret:3,stringJitter:3.011830551414814,fretJitter:3.1655376261453267},{number:54,velocity:71,time:79.622,channel:4,string:3,fret:4,stringJitter:2.8639634740626647,fretJitter:4.0821238259909585},{number:55,velocity:71,time:79.695,channel:4,string:3,fret:5,stringJitter:2.9779767478867814,fretJitter:4.930016164176881},{number:57,velocity:55,time:80.392,channel:4,string:3,fret:7,stringJitter:3.086983279413228,fretJitter:6.884097329024001},{number:60,velocity:83,time:80.572,channel:3,string:2,fret:5,stringJitter:2.1210479406653837,fretJitter:5.044253892632007},{number:62,velocity:71,time:80.697,channel:3,string:2,fret:7,stringJitter:1.8566533307376063,fretJitter:6.955865805562495},{number:62,velocity:92,time:80.723,channel:3,string:2,fret:7,stringJitter:2.0254088803673063,fretJitter:6.8847421060779554},{number:63,velocity:67,time:80.871,channel:3,string:2,fret:8,stringJitter:1.8462105147407168,fretJitter:7.8629880912375745},{number:77,velocity:29,time:81.409,channel:3,string:2,fret:22,stringJitter:1.937015408728875,fretJitter:21.928086575498245},{number:64,velocity:124,time:81.422,channel:3,string:2,fret:9,stringJitter:2.004486108680557,fretJitter:9.009257523490021},{number:63,velocity:93,time:82.118,channel:3,string:2,fret:8,stringJitter:2.1789958457909506,fretJitter:7.998007251668483},{number:62,velocity:91,time:82.234,channel:3,string:2,fret:7,stringJitter:1.9474509631117722,fretJitter:6.878111651745075},{number:60,velocity:90,time:82.35,channel:3,string:2,fret:5,stringJitter:2.1940505302645974,fretJitter:4.8939499828821},{number:57,velocity:107,time:82.398,channel:4,string:3,fret:7,stringJitter:2.9392103480245395,fretJitter:6.9023831912772895},{number:61,velocity:94,time:82.55,channel:3,string:2,fret:6,stringJitter:2.0406714682655496,fretJitter:5.810342400730568},{number:60,velocity:99,time:82.553,channel:3,string:2,fret:5,stringJitter:2.114298836467118,fretJitter:4.983167396953301},{number:61,velocity:84,time:82.977,channel:3,string:2,fret:6,stringJitter:1.923049304422347,fretJitter:6.1245402791180386},{number:60,velocity:84,time:83.02,channel:3,string:2,fret:5,stringJitter:2.129944864356827,fretJitter:5.00558670145536},{number:56,velocity:10,time:84.497,channel:4,string:3,fret:6,stringJitter:2.9401716725994786,fretJitter:6.082138272880584},{number:57,velocity:10,time:84.527,channel:4,string:3,fret:7,stringJitter:3.1353564850087707,fretJitter:7.128087077249617},{number:56,velocity:10,time:84.711,channel:4,string:3,fret:6,stringJitter:3.0661585653305785,fretJitter:6.096246803964858},{number:57,velocity:109,time:84.725,channel:4,string:3,fret:7,stringJitter:3.066792046547398,fretJitter:6.834317446279417},{number:60,velocity:81,time:84.746,channel:3,string:2,fret:5,stringJitter:2.0985863686201722,fretJitter:4.895178870487667},{number:55,velocity:125,time:85.095,channel:4,string:3,fret:5,stringJitter:2.9414058613691436,fretJitter:5.046572207539897},{number:61,velocity:69,time:85.115,channel:3,string:2,fret:6,stringJitter:2.1234251039656318,fretJitter:6.179186564985409},{number:55,velocity:127,time:85.468,channel:4,string:3,fret:5,stringJitter:3.0895351181020607,fretJitter:4.8769414176922155},{number:62,velocity:97,time:85.487,channel:3,string:2,fret:7,stringJitter:2.1972616416026742,fretJitter:6.986088500935576},{number:63,velocity:82,time:85.994,channel:3,string:2,fret:8,stringJitter:1.9885941478575744,fretJitter:8.036539916840622},{number:50,velocity:102,time:86.253,channel:4,string:3,fret:0,stringJitter:3.167875624565366,fretJitter:.10698293306206344},{number:55,velocity:87,time:86.439,channel:4,string:3,fret:5,stringJitter:2.878447395048303,fretJitter:5.0696393659084},{number:57,velocity:74,time:86.616,channel:4,string:3,fret:7,stringJitter:2.974732398654704,fretJitter:7.178818093621379},{number:60,velocity:122,time:86.885,channel:3,string:2,fret:5,stringJitter:1.8699817034271575,fretJitter:4.833635749527314},{number:57,velocity:23,time:87.266,channel:4,string:3,fret:7,stringJitter:2.8642692119690265,fretJitter:6.835189874867966},{number:57,velocity:71,time:87.284,channel:4,string:3,fret:7,stringJitter:2.9229940148209304,fretJitter:7.004814427187521},{number:69,velocity:47,time:87.487,channel:4,string:3,fret:19,stringJitter:2.868528313649831,fretJitter:18.88146150650979},{number:57,velocity:127,time:87.632,channel:4,string:3,fret:7,stringJitter:3.1403614890163865,fretJitter:6.857232798885548},{number:45,velocity:10,time:87.648,channel:5,string:4,fret:0,stringJitter:4.154281288345267,fretJitter:-.03889004569476287},{number:60,velocity:89,time:87.65,channel:3,string:2,fret:5,stringJitter:1.9807471256797111,fretJitter:4.944570316414838},{number:57,velocity:127,time:87.96,channel:4,string:3,fret:7,stringJitter:3.194474927217514,fretJitter:7.158314097977467},{number:60,velocity:103,time:87.973,channel:3,string:2,fret:5,stringJitter:2.0884716335188123,fretJitter:4.912074952286949},{number:55,velocity:124,time:88.625,channel:4,string:3,fret:5,stringJitter:2.851767724383209,fretJitter:4.973843767093333},{number:60,velocity:85,time:88.636,channel:3,string:2,fret:5,stringJitter:1.9895108802552355,fretJitter:4.826921941189384},{number:57,velocity:127,time:89.122,channel:4,string:3,fret:7,stringJitter:2.979508834065281,fretJitter:7.145050799670163},{number:61,velocity:75,time:89.136,channel:3,string:2,fret:6,stringJitter:2.1907708324725457,fretJitter:5.851256180938232},{number:60,velocity:80,time:89.141,channel:3,string:2,fret:5,stringJitter:1.886735483509904,fretJitter:4.856628093765597},{number:57,velocity:124,time:89.655,channel:4,string:3,fret:7,stringJitter:2.948906388310993,fretJitter:7.008888721234185},{number:60,velocity:93,time:89.668,channel:3,string:2,fret:5,stringJitter:2.0875851338621003,fretJitter:5.118132875515847},{number:55,velocity:123,time:90.055,channel:4,string:3,fret:5,stringJitter:2.930870109859764,fretJitter:5.038238668466817},{number:60,velocity:90,time:90.069,channel:3,string:2,fret:5,stringJitter:2.0513042173210563,fretJitter:5.155134957264804},{number:56,velocity:113,time:90.266,channel:4,string:3,fret:6,stringJitter:2.8983183140755284,fretJitter:5.8570538031220405},{number:60,velocity:66,time:90.282,channel:3,string:2,fret:5,stringJitter:2.131542578013738,fretJitter:4.927237588495147},{number:57,velocity:121,time:90.287,channel:4,string:3,fret:7,stringJitter:2.8225794097775165,fretJitter:6.865165064979718},{number:84,velocity:10,time:90.427,channel:2,string:1,fret:25,stringJitter:.8296228507902653,fretJitter:25.16027974446036},{number:57,velocity:127,time:90.634,channel:4,string:3,fret:7,stringJitter:3.1191590413699877,fretJitter:7.126757287193878},{number:60,velocity:76,time:90.647,channel:3,string:2,fret:5,stringJitter:2.135165204827776,fretJitter:4.844245963508637},{number:50,velocity:117,time:91.032,channel:4,string:3,fret:0,stringJitter:3.1979507543845576,fretJitter:.15044670154476042},{number:60,velocity:91,time:91.228,channel:3,string:2,fret:5,stringJitter:1.9827881056855403,fretJitter:4.996149535707335},{number:62,velocity:89,time:91.26,channel:3,string:2,fret:7,stringJitter:2.1142718673388403,fretJitter:6.958548060399856},{number:65,velocity:127,time:91.557,channel:3,string:2,fret:10,stringJitter:2.0567890182157726,fretJitter:10.1252274544953},{number:67,velocity:127,time:91.578,channel:3,string:2,fret:12,stringJitter:2.0749006203511087,fretJitter:11.819795296225898},{number:51,velocity:127,time:91.872,channel:3,string:2,fret:-4,stringJitter:1.999741547660242,fretJitter:-4.046154162095061},{number:63,velocity:10,time:91.873,channel:2,string:1,fret:4,stringJitter:1.0283592491453029,fretJitter:3.8049276328582575},{number:62,velocity:127,time:91.898,channel:3,string:2,fret:7,stringJitter:1.8250736897210627,fretJitter:6.935580118099832},{number:60,velocity:100,time:92.108,channel:3,string:2,fret:5,stringJitter:2.0634302106344995,fretJitter:5.0327461918177745},{number:57,velocity:71,time:92.307,channel:4,string:3,fret:7,stringJitter:3.1539922175720183,fretJitter:7.126387484109998},{number:55,velocity:66,time:92.524,channel:4,string:3,fret:5,stringJitter:2.975371373131587,fretJitter:5.026017531840938},{number:57,velocity:88,time:92.889,channel:4,string:3,fret:7,stringJitter:2.8889252112156987,fretJitter:6.824663527222392},{number:64,velocity:50,time:93.005,channel:1,string:0,fret:0,stringJitter:-.13893036540474873,fretJitter:-.12288197995628361},{number:52,velocity:103,time:93.124,channel:5,string:4,fret:7,stringJitter:4.197269006083766,fretJitter:7.196695861774265},{number:53,velocity:92,time:93.335,channel:5,string:4,fret:8,stringJitter:3.934619251925457,fretJitter:8.147774479789705},{number:52,velocity:81,time:93.437,channel:5,string:4,fret:7,stringJitter:4.025527768009778,fretJitter:6.943396905998201},{number:52,velocity:68,time:93.999,channel:5,string:4,fret:7,stringJitter:3.8927936525924114,fretJitter:6.972563317201001},{number:53,velocity:60,time:94.106,channel:5,string:4,fret:8,stringJitter:4.032371795483348,fretJitter:8.030842800713595},{number:54,velocity:44,time:94.888,channel:5,string:4,fret:9,stringJitter:4.00581066695924,fretJitter:8.997212382814913},{number:55,velocity:43,time:94.917,channel:5,string:4,fret:10,stringJitter:4.1420688702518795,fretJitter:10.119818373109268},{number:56,velocity:41,time:95.207,channel:5,string:4,fret:11,stringJitter:3.9155330836215434,fretJitter:10.885957274280752},{number:55,velocity:41,time:95.282,channel:5,string:4,fret:10,stringJitter:3.9017569184158925,fretJitter:10.114090239833125},{number:56,velocity:40,time:95.367,channel:5,string:4,fret:11,stringJitter:4.076775847603771,fretJitter:11.137946492514597},{number:57,velocity:40,time:95.397,channel:5,string:4,fret:12,stringJitter:3.980475859887376,fretJitter:11.820579321475769},{number:58,velocity:38,time:95.977,channel:5,string:4,fret:13,stringJitter:4.1969313861130075,fretJitter:13.166844849641484},{number:57,velocity:38,time:96.048,channel:5,string:4,fret:12,stringJitter:4.184455770769138,fretJitter:11.8456823829492},{number:58,velocity:37,time:96.18,channel:5,string:4,fret:13,stringJitter:4.146763287272479,fretJitter:12.805008877049794},{number:57,velocity:37,time:96.252,channel:5,string:4,fret:12,stringJitter:4.157521210990117,fretJitter:11.866078367397739},{number:50,velocity:105,time:97.912,channel:5,string:4,fret:5,stringJitter:3.935048990129177,fretJitter:4.900544273199355},{number:52,velocity:87,time:98.153,channel:5,string:4,fret:7,stringJitter:3.80413694764904,fretJitter:7.065794702042368},{number:55,velocity:75,time:98.258,channel:4,string:3,fret:5,stringJitter:2.927021931476385,fretJitter:5.166933587477671},{number:57,velocity:105,time:98.606,channel:4,string:3,fret:7,stringJitter:3.087090875977828,fretJitter:6.879573509009704},{number:55,velocity:103,time:98.893,channel:4,string:3,fret:5,stringJitter:3.1398040466305894,fretJitter:5.1935189277504765},{number:52,velocity:43,time:99.006,channel:5,string:4,fret:7,stringJitter:4.138674019721708,fretJitter:7.093869477331462},{number:52,velocity:43,time:99.245,channel:5,string:4,fret:7,stringJitter:3.8960969137635293,fretJitter:7.03703818733848},{number:50,velocity:10,time:99.721,channel:5,string:4,fret:5,stringJitter:4.044977389088034,fretJitter:4.8760223500159885},{number:48,velocity:46,time:99.806,channel:6,string:5,fret:8,stringJitter:5.065696002244238,fretJitter:7.803025751424008},{number:47,velocity:70,time:99.975,channel:6,string:5,fret:7,stringJitter:4.826127277941111,fretJitter:6.906684891332601},{number:57,velocity:52,time:100.13,channel:4,string:3,fret:7,stringJitter:2.8848503296629002,fretJitter:7.061999599196573},{number:58,velocity:127,time:100.183,channel:4,string:3,fret:8,stringJitter:2.9955292167889596,fretJitter:7.946757715301627},{number:57,velocity:127,time:100.243,channel:4,string:3,fret:7,stringJitter:3.006134158956673,fretJitter:7.056996559069336},{number:58,velocity:127,time:100.577,channel:4,string:3,fret:8,stringJitter:2.8787168066888182,fretJitter:8.170655988740814},{number:57,velocity:127,time:100.664,channel:4,string:3,fret:7,stringJitter:3.17129131312868,fretJitter:6.820787050916877},{number:57,velocity:83,time:101.25,channel:4,string:3,fret:7,stringJitter:2.980372933226781,fretJitter:7.013113782992326},{number:60,velocity:105,time:101.485,channel:3,string:2,fret:5,stringJitter:2.0792764800892427,fretJitter:4.936065932698832},{number:57,velocity:23,time:101.621,channel:4,string:3,fret:7,stringJitter:3.0908215700720696,fretJitter:7.079983108866982},{number:57,velocity:79,time:101.655,channel:4,string:3,fret:7,stringJitter:2.9552351195902884,fretJitter:7.154016694982165},{number:60,velocity:98,time:101.822,channel:3,string:2,fret:5,stringJitter:2.0477415143090876,fretJitter:5.039685149020709},{number:62,velocity:78,time:101.941,channel:3,string:2,fret:7,stringJitter:1.8599042001626356,fretJitter:6.83213752128759},{number:62,velocity:100,time:101.953,channel:3,string:2,fret:7,stringJitter:1.9327558707805927,fretJitter:6.934531883614743},{number:62,velocity:66,time:102.18,channel:3,string:2,fret:7,stringJitter:1.9085381164404198,fretJitter:6.926499379352729},{number:62,velocity:127,time:102.195,channel:3,string:2,fret:7,stringJitter:1.8117788825261272,fretJitter:6.942657663709045},{number:63,velocity:127,time:102.435,channel:3,string:2,fret:8,stringJitter:1.8452195287130757,fretJitter:7.97722507544195},{number:62,velocity:127,time:102.45,channel:3,string:2,fret:7,stringJitter:2.0297423360087343,fretJitter:7.050926888538993},{number:60,velocity:115,time:102.654,channel:3,string:2,fret:5,stringJitter:2.0913024205610884,fretJitter:5.1740438918775595},{number:57,velocity:92,time:102.842,channel:4,string:3,fret:7,stringJitter:2.8025192895098736,fretJitter:7.018251104153521},{number:50,velocity:76,time:103.145,channel:4,string:3,fret:0,stringJitter:2.809989764604314,fretJitter:-.1907809003861754},{number:60,velocity:102,time:103.217,channel:3,string:2,fret:5,stringJitter:2.038540773681805,fretJitter:4.897827322001632},{number:61,velocity:101,time:103.406,channel:3,string:2,fret:6,stringJitter:1.9135405031241381,fretJitter:6.195008828299235},{number:60,velocity:96,time:103.523,channel:3,string:2,fret:5,stringJitter:2.0101316545390677,fretJitter:5.099884642166499},{number:57,velocity:38,time:103.651,channel:4,string:3,fret:7,stringJitter:3.1838553332230006,fretJitter:6.985597097233305},{number:60,velocity:97,time:103.875,channel:3,string:2,fret:5,stringJitter:1.9016849403201825,fretJitter:5.156723729440784},{number:62,velocity:80,time:104.016,channel:3,string:2,fret:7,stringJitter:2.133400031966091,fretJitter:7.0145128116739235},{number:62,velocity:115,time:104.092,channel:3,string:2,fret:7,stringJitter:1.9478116994147616,fretJitter:7.108964780424227},{number:65,velocity:127,time:104.599,channel:3,string:2,fret:10,stringJitter:1.8931734860907135,fretJitter:10.191998196577886},{number:64,velocity:127,time:104.612,channel:3,string:2,fret:9,stringJitter:1.957953149887989,fretJitter:8.991064066754436},{number:63,velocity:113,time:104.829,channel:3,string:2,fret:8,stringJitter:1.8610187635507693,fretJitter:7.871040794298289},{number:62,velocity:113,time:104.902,channel:3,string:2,fret:7,stringJitter:1.9963881715740948,fretJitter:7.044764079969457},{number:60,velocity:109,time:105.032,channel:3,string:2,fret:5,stringJitter:1.970613171933777,fretJitter:4.983951831642268},{number:57,velocity:75,time:105.097,channel:4,string:3,fret:7,stringJitter:2.926490701828041,fretJitter:7.104624314556079},{number:60,velocity:114,time:105.258,channel:3,string:2,fret:5,stringJitter:1.8451204089224786,fretJitter:4.972277006568449},{number:61,velocity:108,time:105.467,channel:3,string:2,fret:6,stringJitter:1.8936011475749643,fretJitter:6.055366405817688},{number:60,velocity:104,time:105.554,channel:3,string:2,fret:5,stringJitter:1.8790809471309011,fretJitter:5.0598178967335015},{number:50,velocity:21,time:105.64,channel:4,string:3,fret:0,stringJitter:2.8474685927307415,fretJitter:-.0820096992581667},{number:55,velocity:100,time:105.757,channel:3,string:2,fret:0,stringJitter:1.9618413542331679,fretJitter:.1200855673853491},{number:69,velocity:127,time:106.401,channel:2,string:1,fret:10,stringJitter:1.044419298905434,fretJitter:9.933853054999185},{number:68,velocity:127,time:106.598,channel:2,string:1,fret:9,stringJitter:1.1419039761809378,fretJitter:9.111402858834143},{number:67,velocity:122,time:106.715,channel:2,string:1,fret:8,stringJitter:.887587649669058,fretJitter:8.030974646763205},{number:66,velocity:120,time:106.845,channel:2,string:1,fret:7,stringJitter:1.1709899557187493,fretJitter:6.830177947492103},{number:64,velocity:120,time:106.904,channel:2,string:1,fret:5,stringJitter:.9159602977395143,fretJitter:5.000337545819516},{number:64,velocity:83,time:106.91,channel:2,string:1,fret:5,stringJitter:1.1584438412266298,fretJitter:5.1909018813612935},{number:62,velocity:80,time:107.099,channel:3,string:2,fret:7,stringJitter:1.886536081164515,fretJitter:7.154632386514145},{number:64,velocity:81,time:107.302,channel:2,string:1,fret:5,stringJitter:.8210480140376639,fretJitter:5.131944381445494},{number:65,velocity:57,time:107.455,channel:2,string:1,fret:6,stringJitter:.938765120836929,fretJitter:6.1293000874096935},{number:67,velocity:127,time:107.484,channel:2,string:1,fret:8,stringJitter:1.1460470839344399,fretJitter:8.069176942853053},{number:67,velocity:44,time:107.807,channel:2,string:1,fret:8,stringJitter:.8948749209796908,fretJitter:8.087427528023426},{number:57,velocity:127,time:107.815,channel:2,string:1,fret:-2,stringJitter:1.1698956206379807,fretJitter:-2.047483767042293},{number:67,velocity:127,time:107.848,channel:2,string:1,fret:8,stringJitter:1.1762044664260451,fretJitter:8.199183198462881},{number:68,velocity:127,time:107.92,channel:2,string:1,fret:9,stringJitter:1.140080873314322,fretJitter:9.177324764360689},{number:69,velocity:125,time:108.5,channel:2,string:1,fret:10,stringJitter:1.0158586328823078,fretJitter:9.941326242901042},{number:60,velocity:120,time:113.05,channel:3,string:2,fret:5,stringJitter:1.993063672605258,fretJitter:4.844641458510499},{number:62,velocity:108,time:113.361,channel:3,string:2,fret:7,stringJitter:2.07761482423073,fretJitter:6.9485934231719355},{number:64,velocity:68,time:113.55,channel:2,string:1,fret:5,stringJitter:1.0287034744246397,fretJitter:5.003674235776154},{number:61,velocity:71,time:113.741,channel:3,string:2,fret:6,stringJitter:1.8432867071963595,fretJitter:6.056057940805568},{number:62,velocity:75,time:113.768,channel:3,string:2,fret:7,stringJitter:1.845079404963335,fretJitter:6.94605206889115},{number:64,velocity:98,time:113.931,channel:2,string:1,fret:5,stringJitter:1.064227385955586,fretJitter:4.952789429886136},{number:67,velocity:102,time:114.114,channel:2,string:1,fret:8,stringJitter:1.1697094031255424,fretJitter:8.139795986595253},{number:68,velocity:127,time:114.50889999985695,channel:2,string:1,fret:9,stringJitter:1.0542238040485274,fretJitter:8.822661469373852},{number:67,velocity:127,time:114.521,channel:2,string:1,fret:8,stringJitter:1.0054957001825684,fretJitter:7.948778239302299},{number:68,velocity:127,time:114.623,channel:2,string:1,fret:9,stringJitter:1.0008561306164296,fretJitter:9.00500485236409},{number:67,velocity:127,time:114.827,channel:2,string:1,fret:8,stringJitter:.9782268259085558,fretJitter:7.896179857231036},{number:67,velocity:127,time:114.989,channel:2,string:1,fret:8,stringJitter:1.111502672873063,fretJitter:8.199910737041227},{number:67,velocity:127,time:116.505,channel:2,string:1,fret:8,stringJitter:1.150169412924256,fretJitter:7.994327945206984},{number:64,velocity:45,time:117.007,channel:2,string:1,fret:5,stringJitter:1.0119901955492225,fretJitter:5.086151209979286},{number:68,velocity:127,time:117.018,channel:2,string:1,fret:9,stringJitter:.9422349653269644,fretJitter:9.091827694863422},{number:67,velocity:127,time:117.046,channel:2,string:1,fret:8,stringJitter:.8373485069995449,fretJitter:7.976785653089588},{number:68,velocity:127,time:117.221,channel:2,string:1,fret:9,stringJitter:1.0677041436714396,fretJitter:8.922426299036363},{number:69,velocity:127,time:118.034,channel:2,string:1,fret:10,stringJitter:.9565454246933858,fretJitter:10.0028372607623},{number:65,velocity:10,time:121.213,channel:2,string:1,fret:6,stringJitter:.8175487009545672,fretJitter:6.036796193831116},{number:65,velocity:127,time:121.23,channel:2,string:1,fret:6,stringJitter:.8783036080498754,fretJitter:6.0900936656117315},{number:64,velocity:127,time:121.241,channel:2,string:1,fret:5,stringJitter:.9904010270596514,fretJitter:5.1782250021378715},{number:62,velocity:100,time:121.467,channel:3,string:2,fret:7,stringJitter:2.1269086053506694,fretJitter:6.913701983526817},{number:67,velocity:117,time:121.806,channel:2,string:1,fret:8,stringJitter:.9347526460433331,fretJitter:8.008555155154735},{number:68,velocity:103,time:122.2,channel:2,string:1,fret:9,stringJitter:1.168870508548313,fretJitter:9.093616286385942},{number:69,velocity:105,time:122.228,channel:2,string:1,fret:10,stringJitter:1.0001287385680075,fretJitter:10.155549232744812},{number:69,velocity:109,time:122.764,channel:2,string:1,fret:10,stringJitter:1.1872600831562317,fretJitter:10.189309212098303},{number:69,velocity:110,time:123.77,channel:2,string:1,fret:10,stringJitter:.8652662827094217,fretJitter:10.137986661612029},{number:69,velocity:114,time:123.991,channel:2,string:1,fret:10,stringJitter:1.1741607723732117,fretJitter:9.892457153663445},{number:67,velocity:71,time:124.59,channel:3,string:2,fret:12,stringJitter:1.9885312879357666,fretJitter:12.071810814448336},{number:67,velocity:102,time:124.842,channel:3,string:2,fret:12,stringJitter:1.9851744003354703,fretJitter:11.981128771716465},{number:68,velocity:72,time:125.258,channel:3,string:2,fret:13,stringJitter:1.938535326305623,fretJitter:13.177357523661225},{number:72,velocity:64,time:125.279,channel:2,string:1,fret:13,stringJitter:.9506758587937332,fretJitter:13.018724398704572},{number:72,velocity:118,time:125.515,channel:2,string:1,fret:13,stringJitter:1.0262731781735759,fretJitter:12.963741705543486},{number:69,velocity:71,time:126.234,channel:3,string:2,fret:14,stringJitter:2.0830064917014983,fretJitter:14.127624275623477},{number:70,velocity:74,time:126.479,channel:3,string:2,fret:15,stringJitter:2.0490125171696296,fretJitter:15.084140585952591},{number:69,velocity:72,time:126.552,channel:3,string:2,fret:14,stringJitter:1.865337086346254,fretJitter:14.182914562728334},{number:70,velocity:68,time:126.754,channel:3,string:2,fret:15,stringJitter:1.8200050741533322,fretJitter:15.143392187746956},{number:69,velocity:66,time:126.827,channel:3,string:2,fret:14,stringJitter:1.9262143388029453,fretJitter:13.892440113456324},{number:67,velocity:65,time:126.842,channel:3,string:2,fret:12,stringJitter:1.8989457765105875,fretJitter:12.072934897773305},{number:64,velocity:71,time:126.965,channel:4,string:3,fret:14,stringJitter:3.0959087931777374,fretJitter:13.806167605564852},{number:67,velocity:98,time:127.131,channel:3,string:2,fret:12,stringJitter:2.174807516010411,fretJitter:11.953019073230205},{number:69,velocity:83,time:127.306,channel:3,string:2,fret:14,stringJitter:1.9340581826418288,fretJitter:13.92038972250743},{number:72,velocity:116,time:127.519,channel:2,string:1,fret:13,stringJitter:1.0277612941374745,fretJitter:13.069094059046618},{number:71,velocity:90,time:127.814,channel:2,string:1,fret:12,stringJitter:.8694168123543278,fretJitter:12.098630344735849},{number:71,velocity:111,time:127.853,channel:2,string:1,fret:12,stringJitter:.9407546895379209,fretJitter:11.886439648707576},{number:69,velocity:81,time:128.14,channel:3,string:2,fret:14,stringJitter:2.1205526603793556,fretJitter:13.849761398693332},{number:71,velocity:99,time:128.351,channel:2,string:1,fret:12,stringJitter:1.022551792220641,fretJitter:12.196257134559366},{number:72,velocity:88,time:128.512,channel:2,string:1,fret:13,stringJitter:.9085880857972761,fretJitter:13.071037821020118},{number:72,velocity:120,time:128.533,channel:2,string:1,fret:13,stringJitter:.8292885293653444,fretJitter:13.126702853826894},{number:73,velocity:102,time:128.671,channel:2,string:1,fret:14,stringJitter:1.1575627400533748,fretJitter:13.886273098544223},{number:81,velocity:10,time:128.831,channel:2,string:1,fret:22,stringJitter:.97440999681045,fretJitter:22.025213517350124},{number:72,velocity:127,time:128.849,channel:2,string:1,fret:13,stringJitter:1.038507862220973,fretJitter:12.990821716684076},{number:73,velocity:127,time:128.947,channel:2,string:1,fret:14,stringJitter:.8473245137929966,fretJitter:14.185684040700892},{number:74,velocity:127,time:129.048,channel:2,string:1,fret:15,stringJitter:1.0991185828928736,fretJitter:15.072484154971626},{number:72,velocity:127,time:129.144,channel:2,string:1,fret:13,stringJitter:1.118848460374609,fretJitter:12.916093118534944},{number:71,velocity:67,time:129.397,channel:2,string:1,fret:12,stringJitter:1.08091236158834,fretJitter:11.822205017450646},{number:69,velocity:94,time:129.57,channel:3,string:2,fret:14,stringJitter:2.116836236272194,fretJitter:13.970719893593008},{number:71,velocity:124,time:129.804,channel:2,string:1,fret:12,stringJitter:.860639882329006,fretJitter:11.88986956813141},{number:76,velocity:127,time:130.572,channel:2,string:1,fret:17,stringJitter:.8837822517073906,fretJitter:17.18552460570829},{number:75,velocity:127,time:130.89,channel:2,string:1,fret:16,stringJitter:.9764098979097224,fretJitter:16.111773312430948},{number:74,velocity:123,time:130.993,channel:2,string:1,fret:15,stringJitter:1.186577665810702,fretJitter:14.825692135201404},{number:73,velocity:121,time:131.022,channel:2,string:1,fret:14,stringJitter:.9628422526889275,fretJitter:14.169260291029657},{number:52,velocity:11,time:131.698,channel:4,string:3,fret:2,stringJitter:2.883418306900817,fretJitter:2.12163048179884},{number:69,velocity:62,time:131.69989999985694,channel:3,string:2,fret:14,stringJitter:2.1577100329770333,fretJitter:13.955582537253548},{number:50,velocity:10,time:131.776,channel:4,string:3,fret:0,stringJitter:3.068333681816953,fretJitter:.19226308821628368},{number:64,velocity:11,time:131.986,channel:3,string:2,fret:9,stringJitter:2.1504328103629895,fretJitter:8.913429180499755},{number:67,velocity:124,time:131.998,channel:3,string:2,fret:12,stringJitter:1.9377364130634145,fretJitter:12.189931388421124},{number:68,velocity:114,time:132.182,channel:3,string:2,fret:13,stringJitter:1.8106118037147654,fretJitter:12.843163199137317},{number:67,velocity:112,time:132.255,channel:3,string:2,fret:12,stringJitter:1.9520540468438379,fretJitter:11.817645618602093},{number:66,velocity:104,time:132.415,channel:3,string:2,fret:11,stringJitter:2.075146715718241,fretJitter:10.842910510328647},{number:65,velocity:103,time:132.43,channel:3,string:2,fret:10,stringJitter:1.9818047462415365,fretJitter:10.184767274824038},{number:64,velocity:101,time:132.459,channel:3,string:2,fret:9,stringJitter:2.142603652434471,fretJitter:8.965198338915359},{number:63,velocity:99,time:132.473,channel:3,string:2,fret:8,stringJitter:1.849457343919107,fretJitter:8.158914116706939},{number:62,velocity:97,time:132.488,channel:3,string:2,fret:7,stringJitter:2.1294737415038445,fretJitter:6.948937101703831},{number:61,velocity:96,time:132.516,channel:3,string:2,fret:6,stringJitter:2.007627155152125,fretJitter:5.859997129037199},{number:60,velocity:96,time:132.56,channel:3,string:2,fret:5,stringJitter:1.8780652797680246,fretJitter:4.926351941992702},{number:57,velocity:60,time:132.918,channel:4,string:3,fret:7,stringJitter:3.108836490762958,fretJitter:7.153477261823518},{number:56,velocity:47,time:133.17,channel:4,string:3,fret:6,stringJitter:3.1727129559315546,fretJitter:5.982189507152249},{number:55,velocity:108,time:133.196,channel:4,string:3,fret:5,stringJitter:3.0293151871911808,fretJitter:5.1137006846475925},{number:54,velocity:99,time:133.475,channel:4,string:3,fret:4,stringJitter:3.137572122001633,fretJitter:4.169535731582331},{number:53,velocity:100,time:133.489,channel:4,string:3,fret:3,stringJitter:3.1208960044815552,fretJitter:3.166963376666869},{number:52,velocity:95,time:133.533,channel:4,string:3,fret:2,stringJitter:2.8599326614054563,fretJitter:1.873372024755537},{number:50,velocity:94,time:133.929,channel:4,string:3,fret:0,stringJitter:2.860888489773719,fretJitter:.09582670728452447},{number:52,velocity:85,time:134.316,channel:4,string:3,fret:2,stringJitter:3.0097404058268378,fretJitter:1.9036721455328693},{number:57,velocity:109,time:134.619,channel:3,string:2,fret:2,stringJitter:2.0077673555544675,fretJitter:2.0387547668861137},{number:55,velocity:102,time:135.113,channel:3,string:2,fret:0,stringJitter:2.036480548126545,fretJitter:-.0926905491905961},{number:52,velocity:101,time:135.55,channel:4,string:3,fret:2,stringJitter:2.8706187245953956,fretJitter:1.92176027976875},{number:55,velocity:69,time:137.052,channel:3,string:2,fret:0,stringJitter:2.1139460400123555,fretJitter:-.16734273100224606},{number:57,velocity:61,time:137.116,channel:3,string:2,fret:2,stringJitter:2.0196705491491422,fretJitter:1.965196082328994},{number:55,velocity:41,time:137.247,channel:3,string:2,fret:0,stringJitter:1.8528178581754795,fretJitter:.05817455897295503},{number:52,velocity:61,time:137.312,channel:4,string:3,fret:2,stringJitter:2.929118387090056,fretJitter:2.1510560555768663},{number:55,velocity:64,time:137.922,channel:3,string:2,fret:0,stringJitter:1.8940232064832276,fretJitter:.19560766847714384},{number:57,velocity:61,time:137.988,channel:3,string:2,fret:2,stringJitter:1.9985345240821362,fretJitter:2.180214855337996},{number:55,velocity:33,time:138.103,channel:3,string:2,fret:0,stringJitter:2.1415279073249027,fretJitter:-.16827272222458625},{number:52,velocity:102,time:138.156,channel:4,string:3,fret:2,stringJitter:2.9997503133568353,fretJitter:1.8636856681400396},{number:53,velocity:95,time:138.437,channel:4,string:3,fret:3,stringJitter:3.0018268984263607,fretJitter:2.9156856484483122},{number:52,velocity:91,time:138.509,channel:4,string:3,fret:2,stringJitter:2.8781180372199744,fretJitter:2.006500530218188},{number:55,velocity:34,time:138.725,channel:3,string:2,fret:0,stringJitter:1.9512167373794551,fretJitter:.045247386415908246},{number:57,velocity:23,time:138.785,channel:3,string:2,fret:2,stringJitter:1.9304559557346357,fretJitter:1.8984167071905278},{number:50,velocity:41,time:138.923,channel:4,string:3,fret:0,stringJitter:3.0317390430379234,fretJitter:.06953344460089683},{number:52,velocity:37,time:138.959,channel:4,string:3,fret:2,stringJitter:3.1245156272088828,fretJitter:2.107848865950095},{number:55,velocity:21,time:139.168,channel:3,string:2,fret:0,stringJitter:1.8892004109248195,fretJitter:-.14128885986271886},{number:57,velocity:10,time:139.264,channel:3,string:2,fret:2,stringJitter:1.8219058548104945,fretJitter:2.0594474102588642},{number:55,velocity:10,time:139.365,channel:3,string:2,fret:0,stringJitter:2.0267037974857014,fretJitter:-.0910955215469354},{number:50,velocity:71,time:139.395,channel:4,string:3,fret:0,stringJitter:2.8140389852877017,fretJitter:-.057555575967888295},{number:52,velocity:56,time:139.423,channel:4,string:3,fret:2,stringJitter:3.0227188045829614,fretJitter:1.8530734040481733},{number:55,velocity:39,time:139.987,channel:3,string:2,fret:0,stringJitter:2.1498994560114766,fretJitter:-.19309277637812627},{number:57,velocity:33,time:140.178,channel:3,string:2,fret:2,stringJitter:2.1271574994354374,fretJitter:1.893035265524209},{number:60,velocity:108,time:140.385,channel:2,string:1,fret:1,stringJitter:1.0783079313042094,fretJitter:1.1875156137319873},{number:50,velocity:10,time:140.716,channel:4,string:3,fret:0,stringJitter:2.8311741241036184,fretJitter:.020787056391433724},{number:57,velocity:51,time:140.95,channel:3,string:2,fret:2,stringJitter:2.0026723919522014,fretJitter:2.165142340452411},{number:52,velocity:90,time:141.182,channel:4,string:3,fret:2,stringJitter:2.8228171062883947,fretJitter:1.9277284008609286},{number:52,velocity:119,time:141.687,channel:4,string:3,fret:2,stringJitter:3.0941422409183015,fretJitter:2.0237919514570497},{number:57,velocity:119,time:141.72,channel:3,string:2,fret:2,stringJitter:1.9185500369679755,fretJitter:2.1415140208707397},{number:79,velocity:13,time:141.725,channel:2,string:1,fret:20,stringJitter:1.0809825484836952,fretJitter:19.8757285284249},{number:60,velocity:124,time:141.738,channel:2,string:1,fret:1,stringJitter:1.0640903075514798,fretJitter:.9248382968057736},{number:45,velocity:10,time:141.749,channel:5,string:4,fret:0,stringJitter:4.009602564716046,fretJitter:.1961777784493556},{number:64,velocity:108,time:141.751,channel:1,string:0,fret:0,stringJitter:-.16446369046537487,fretJitter:.10520730771158773},{number:52,velocity:99,time:142.17,channel:4,string:3,fret:2,stringJitter:3.1293874753914572,fretJitter:2.0569262366663277},{number:57,velocity:104,time:142.198,channel:3,string:2,fret:2,stringJitter:2.0459616623429264,fretJitter:2.0609558876658842},{number:60,velocity:112,time:142.217,channel:2,string:1,fret:1,stringJitter:.9418389500465343,fretJitter:.8399362989313452},{number:45,velocity:10,time:142.227,channel:5,string:4,fret:0,stringJitter:3.8415508914494185,fretJitter:-.19331364494290437},{number:64,velocity:87,time:142.233,channel:1,string:0,fret:0,stringJitter:.16506585915676686,fretJitter:-.06644188303525214},{number:50,velocity:50,time:144.313,channel:5,string:4,fret:5,stringJitter:4.139039868886442,fretJitter:4.887351309206514},{number:45,velocity:63,time:144.334,channel:6,string:5,fret:5,stringJitter:4.941494689432066,fretJitter:5.158426977703691},{number:50,velocity:114,time:144.578,channel:5,string:4,fret:5,stringJitter:3.8712208067055105,fretJitter:5.036956995602717},{number:50,velocity:10,time:144.584,channel:4,string:3,fret:0,stringJitter:3.0386551444526244,fretJitter:.03983705460899065},{number:52,velocity:92,time:144.996,channel:5,string:4,fret:7,stringJitter:3.850970417515316,fretJitter:7.025648840058453},{number:55,velocity:88,time:145.163,channel:4,string:3,fret:5,stringJitter:3.0482903089512834,fretJitter:5.09518464550394},{number:57,velocity:74,time:145.315,channel:4,string:3,fret:7,stringJitter:3.109373278906633,fretJitter:7.158469276967745},{number:57,velocity:127,time:145.554,channel:4,string:3,fret:7,stringJitter:2.852960062295297,fretJitter:7.083780548175564},{number:58,velocity:127,time:145.808,channel:4,string:3,fret:8,stringJitter:3.144829429833727,fretJitter:7.860194078023978},{number:45,velocity:33,time:145.81,channel:5,string:4,fret:0,stringJitter:4.123362026507105,fretJitter:.14846111376990212},{number:57,velocity:126,time:146.069,channel:4,string:3,fret:7,stringJitter:2.9791988557899574,fretJitter:7.011902626267943},{number:55,velocity:122,time:146.345,channel:4,string:3,fret:5,stringJitter:3.0076551649425336,fretJitter:4.888472711276902},{number:45,velocity:52,time:146.433,channel:5,string:4,fret:0,stringJitter:3.839979154976822,fretJitter:.016326030247531965},{number:40,velocity:94,time:146.485,channel:6,string:5,fret:0,stringJitter:5.199246045272426,fretJitter:.17629230118264516},{number:45,velocity:90,time:146.782,channel:6,string:5,fret:5,stringJitter:5.04375164869089,fretJitter:5.14690540783864},{number:52,velocity:90,time:146.79,channel:5,string:4,fret:7,stringJitter:4.057685465912575,fretJitter:6.9825481918141},{number:57,velocity:117,time:146.801,channel:4,string:3,fret:7,stringJitter:3.1443694137695553,fretJitter:6.87308189989137},{number:60,velocity:85,time:146.813,channel:3,string:2,fret:5,stringJitter:2.058807055467545,fretJitter:4.997736928968691},{number:64,velocity:68,time:146.826,channel:2,string:1,fret:5,stringJitter:.954704870918519,fretJitter:4.9424265636757445},{number:45,velocity:103,time:147.149,channel:6,string:5,fret:5,stringJitter:4.828452308860369,fretJitter:4.817126143705802},{number:52,velocity:106,time:147.172,channel:5,string:4,fret:7,stringJitter:3.8187446153251603,fretJitter:7.132038013180112},{number:58,velocity:127,time:147.192,channel:4,string:3,fret:8,stringJitter:2.8076309136321176,fretJitter:8.084026403286904},{number:57,velocity:127,time:147.216,channel:4,string:3,fret:7,stringJitter:3.099966862586802,fretJitter:7.054062827052129},{number:60,velocity:122,time:147.219,channel:3,string:2,fret:5,stringJitter:2.023942545464902,fretJitter:5.116700072489896},{number:64,velocity:89,time:147.241,channel:2,string:1,fret:5,stringJitter:1.0115606670301749,fretJitter:5.1390240947131405},{number:45,velocity:112,time:148.333,channel:6,string:5,fret:5,stringJitter:4.976328620179393,fretJitter:5.0880561859313715},{number:51,velocity:78,time:148.348,channel:5,string:4,fret:6,stringJitter:4.114265632934718,fretJitter:6.037696071221079},{number:46,velocity:114,time:148.362,channel:6,string:5,fret:6,stringJitter:4.914216904359782,fretJitter:5.880460876651019},{number:47,velocity:115,time:148.391,channel:6,string:5,fret:7,stringJitter:5.106897675628606,fretJitter:6.928851492216802},{number:48,velocity:107,time:148.433,channel:6,string:5,fret:8,stringJitter:4.835453581936526,fretJitter:8.073902841572771},{number:50,velocity:98,time:148.855,channel:6,string:5,fret:10,stringJitter:5.175452246091159,fretJitter:9.979851301780482},{number:53,velocity:102,time:149.076,channel:5,string:4,fret:8,stringJitter:4.091373263516354,fretJitter:7.949327830773807},{number:55,velocity:79,time:149.317,channel:5,string:4,fret:10,stringJitter:3.89178628313054,fretJitter:10.126346765076622},{number:73,velocity:21,time:149.521,channel:4,string:3,fret:23,stringJitter:3.1062045651678076,fretJitter:23.021736174598757},{number:59,velocity:127,time:149.532,channel:4,string:3,fret:9,stringJitter:3.1142162097681854,fretJitter:9.10591013566017},{number:55,velocity:51,time:150.53,channel:5,string:4,fret:10,stringJitter:4.071423275655633,fretJitter:9.805662032567628},{number:54,velocity:32,time:150.844,channel:5,string:4,fret:9,stringJitter:4.029143583132017,fretJitter:8.948092880844005},{number:54,velocity:87,time:150.891,channel:5,string:4,fret:9,stringJitter:3.877250098636188,fretJitter:8.93706213087961},{number:52,velocity:61,time:152.208,channel:5,string:4,fret:7,stringJitter:4.087431755891906,fretJitter:6.959729458105678},{number:51,velocity:60,time:152.237,channel:5,string:4,fret:6,stringJitter:3.81023282245888,fretJitter:5.850249254818841},{number:50,velocity:60,time:152.266,channel:5,string:4,fret:5,stringJitter:3.8085897035628253,fretJitter:5.12719588059724},{number:49,velocity:60,time:152.295,channel:5,string:4,fret:4,stringJitter:3.95661724510488,fretJitter:3.8925886895697177},{number:48,velocity:58,time:152.338,channel:5,string:4,fret:3,stringJitter:3.97104888894035,fretJitter:3.0823939268494476},{number:47,velocity:58,time:152.367,channel:5,string:4,fret:2,stringJitter:3.9565724249866947,fretJitter:1.9010077745033804},{number:74,velocity:10,time:152.661,channel:4,string:3,fret:24,stringJitter:2.980564896598016,fretJitter:23.977700341225614},{number:41,velocity:42,time:152.66889999985696,channel:6,string:5,fret:1,stringJitter:5.199787139503095,fretJitter:.8771686909752276},{number:48,velocity:73,time:152.688,channel:5,string:4,fret:3,stringJitter:3.8216225034386535,fretJitter:3.1773055936765138},{number:79,velocity:10,time:152.691,channel:3,string:2,fret:24,stringJitter:1.9499653643617056,fretJitter:23.887820081173988},{number:52,velocity:110,time:152.712,channel:4,string:3,fret:2,stringJitter:2.8613572717723144,fretJitter:1.8338820000874023},{number:55,velocity:95,time:152.733,channel:3,string:2,fret:0,stringJitter:1.9532588632763102,fretJitter:.08361834329473634},{number:60,velocity:98,time:152.754,channel:2,string:1,fret:1,stringJitter:1.1729685759544566,fretJitter:1.02436904313601},{number:64,velocity:61,time:152.779,channel:1,string:0,fret:0,stringJitter:-.18160827552289832,fretJitter:-.15025798761623144},{number:41,velocity:54,time:153.177,channel:6,string:5,fret:1,stringJitter:5.144900979227119,fretJitter:1.1651280959659727},{number:48,velocity:82,time:153.2,channel:5,string:4,fret:3,stringJitter:4.043492921959836,fretJitter:3.064775650773372},{number:52,velocity:109,time:153.24,channel:4,string:3,fret:2,stringJitter:2.9712125478678706,fretJitter:1.908756757060082},{number:55,velocity:90,time:153.28,channel:3,string:2,fret:0,stringJitter:1.863026523659629,fretJitter:.18983958153082414},{number:60,velocity:88,time:153.319,channel:2,string:1,fret:1,stringJitter:1.1288830286512606,fretJitter:1.091020563480361},{number:64,velocity:81,time:153.35,channel:1,string:0,fret:0,stringJitter:.03386316254103266,fretJitter:-.03627513514050662},{number:63,velocity:77,time:154.544,channel:4,string:3,fret:13,stringJitter:3.1668361231005235,fretJitter:12.816135479577595},{number:43,velocity:96,time:154.71,channel:6,string:5,fret:3,stringJitter:4.856162536775875,fretJitter:2.988426557408692},{number:44,velocity:94,time:154.747,channel:6,string:5,fret:4,stringJitter:5.12439783010277,fretJitter:4.148032637260192},{number:45,velocity:97,time:154.777,channel:6,string:5,fret:5,stringJitter:4.843782808845268,fretJitter:5.026076475164851},{number:43,velocity:79,time:155.081,channel:6,string:5,fret:3,stringJitter:4.861649402185764,fretJitter:3.146346159731902},{number:44,velocity:78,time:155.356,channel:6,string:5,fret:4,stringJitter:5.114269981530727,fretJitter:3.823514705061123},{number:43,velocity:77,time:155.443,channel:6,string:5,fret:3,stringJitter:5.034137264630567,fretJitter:3.1431323649937704},{number:46,velocity:76,time:155.647,channel:6,string:5,fret:6,stringJitter:4.869965714685383,fretJitter:6.17821741203279},{number:48,velocity:97,time:155.822,channel:5,string:4,fret:3,stringJitter:4.08986246125675,fretJitter:2.804020370751561},{number:50,velocity:77,time:155.981,channel:5,string:4,fret:5,stringJitter:4.0337999907672994,fretJitter:5.15832826837992},{number:65,velocity:15,time:156.183,channel:4,string:3,fret:15,stringJitter:2.907102070096086,fretJitter:15.166075100673302},{number:53,velocity:127,time:156.198,channel:4,string:3,fret:3,stringJitter:2.8522396355259922,fretJitter:3.0173432946661154},{number:53,velocity:10,time:156.21,channel:3,string:2,fret:-2,stringJitter:1.9427024336790037,fretJitter:-2.1587387185270566},{number:55,velocity:120,time:156.416,channel:4,string:3,fret:5,stringJitter:3.113797308860239,fretJitter:4.830709541050352},{number:55,velocity:127,time:156.626,channel:4,string:3,fret:5,stringJitter:2.8619755262228943,fretJitter:5.1341922227172905},{number:56,velocity:127,time:156.764,channel:4,string:3,fret:6,stringJitter:2.972104483177816,fretJitter:5.835307010518939},{number:55,velocity:127,time:157.097,channel:4,string:3,fret:5,stringJitter:2.946290786026925,fretJitter:5.161586507469871},{number:53,velocity:127,time:157.141,channel:4,string:3,fret:3,stringJitter:3.1452868651959207,fretJitter:2.80783616277796},{number:50,velocity:77,time:157.235,channel:5,string:4,fret:5,stringJitter:3.8856706587918084,fretJitter:4.8192826389342205},{number:45,velocity:83,time:157.496,channel:5,string:4,fret:0,stringJitter:4.051257019174903,fretJitter:-.1408171874511873},{number:40,velocity:10,time:157.68,channel:6,string:5,fret:0,stringJitter:4.869438250617492,fretJitter:.18851279936910537},{number:45,velocity:103,time:157.788,channel:5,string:4,fret:0,stringJitter:4.035338414140728,fretJitter:.05401062009121276},{number:40,velocity:89,time:157.819,channel:6,string:5,fret:0,stringJitter:5.009600529476416,fretJitter:-.06326773404739931}],Yct="fretboard-jitter",qct="0.13.4",Zct="2024-09-17T12:52:08.824Z",b_={pastNoteCount:Kct,notes:Xct,_appId:Yct,_softwareVersion:qct,_date:Zct};function tut(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent="1) Play the note A over the whole fretboard.",i=q(),a=K("p"),a.textContent=`2) Play the A minor pentatonic scale over the whole fretboard,
                string by string. Check if you played wrong notes.`,r=q(),s=K("p"),s.textContent="3) Improvise in A minor pentatonic over the whole fretboard.",l=q(),u=K("p"),u.textContent=`4) Improvise in a scale you do not know yet over the whole
                fretboard.`},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function eut(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q;function G(pt){t[10](pt)}let z={callback:t[6]};t[2]!==void 0&&(z.value=t[2]),c=new iu({props:z}),Me.push(()=>De(c,"value",G));function j(pt){t[12](pt)}let nt={saveToStorage:t[9],callback:t[6]};t[3]!==void 0&&(nt.notes=t[3]),y=new Y9({props:nt}),Me.push(()=>De(y,"notes",j)),b=new ha({props:{appId:t[0].id,loadData:t[8]}});function tt(pt){t[14](pt)}let ht={callback:t[6]};return t[3]!==void 0&&(ht.notes=t[3]),S=new y0({props:ht}),Me.push(()=>De(S,"notes",tt)),P=new aa({props:{loadData:t[8],getExportData:t[7],appId:t[0].id}}),k=new z9({props:{$$slots:{default:[tut]},$$scope:{ctx:t}}}),$=new J9({props:{appId:t[0].id}}),U=new k9({props:{noteOn:t[4],controlChange:t[5]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing improvisation on a guitar. The fretboard
            below shows you where you played notes. Each note is a dot that is
            moved a little bit from its exact position to avoid overlap. A
            note's color indicates how recently you played it and its area tells
            how loud it was played.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),m=K("div"),A=q(),p=K("div"),Ft(y.$$.fragment),v=q(),w=K("button"),w.textContent="example",x=q(),Ft(b.$$.fragment),O=q(),Ft(S.$$.fragment),I=q(),Ft(P.$$.fragment),L=q(),Ft(k.$$.fragment),N=q(),Ft($.$$.fragment),H=q(),Ft(U.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(m,"class","visualization"),dt(p,"class","control"),dt(e,"class","app")},m(pt,gt){Ct(pt,e,gt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(e,M),B(e,m),t[11](m),B(e,A),B(e,p),kt(y,p,null),B(p,v),B(p,w),B(p,x),kt(b,p,null),B(p,O),kt(S,p,null),B(p,I),kt(P,p,null),B(e,L),kt(k,e,null),B(e,N),kt($,e,null),B(e,H),kt(U,e,null),W=!0,J||(Q=Ue(w,"click",t[13]),J=!0)},p(pt,gt){(!W||gt&1)&&a!==(a=pt[0].title+"")&&Ge(r,a);const Tt={};!f&&gt&4&&(f=!0,Tt.value=pt[2],Re(()=>f=!1)),c.$set(Tt);const vt={};!E&&gt&8&&(E=!0,vt.notes=pt[3],Re(()=>E=!1)),y.$set(vt);const Ot={};gt&1&&(Ot.appId=pt[0].id),b.$set(Ot);const ft={};!R&&gt&8&&(R=!0,ft.notes=pt[3],Re(()=>R=!1)),S.$set(ft);const St={};gt&1&&(St.appId=pt[0].id),P.$set(St);const Mt={};gt&524288&&(Mt.$$scope={dirty:gt,ctx:pt}),k.$set(Mt);const Pt={};gt&1&&(Pt.appId=pt[0].id),$.$set(Pt)},i(pt){W||(Rt(c.$$.fragment,pt),Rt(y.$$.fragment,pt),Rt(b.$$.fragment,pt),Rt(S.$$.fragment,pt),Rt(P.$$.fragment,pt),Rt(k.$$.fragment,pt),Rt($.$$.fragment,pt),Rt(U.$$.fragment,pt),W=!0)},o(pt){Dt(c.$$.fragment,pt),Dt(y.$$.fragment,pt),Dt(b.$$.fragment,pt),Dt(S.$$.fragment,pt),Dt(P.$$.fragment,pt),Dt(k.$$.fragment,pt),Dt($.$$.fragment,pt),Dt(U.$$.fragment,pt),W=!1},d(pt){pt&&bt(e),Nt(c),t[11](null),Nt(y),Nt(b),Nt(S),Nt(P),Nt(k),Nt($),Nt(U),J=!1,Q()}}}function iut(t){let e,i;return e=new ra({props:{loadData:t[8],$$slots:{default:[eut]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&524303&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let Qh=900,C_=6,p6=24;function nut(t,e,i){let{appInfo:a}=e;const r=()=>(Math.random()-.5)*.4;let s=[64,59,55,50,45,40];const l=s.map(Ga.fromMidiSharps);let u,d=200,c=0,f=[];const M=S=>{f.length===0&&(c=S.timestamp);const R=(S.timestamp-c)/1e3,I=S.message.channel-1,P=S.note.number-s[I],L={number:S.note.number,velocity:S.rawVelocity,time:R,channel:S.message.channel,string:I,fret:P,stringJitter:I+r(),fretJitter:P+r()};i(3,f=[...f,L]),A()},m=S=>{i(2,d=Math.round(La(S.rawValue*2,0,200))),A()},A=()=>{const S=f.slice(-d),R=(Qh-100)/25,I=Bn({width:Qh,aspectRatio:1,marginLeft:50,marginBottom:40,padding:0,x:{domain:[-1,p6+1.5],ticks:Ei(0,p6+1),tickSize:0,label:"fret"},y:{domain:[C_-.5,-.5],tickFormat:k=>l[k],tickSize:0,label:"string"},color:{legend:!0,marginLeft:300,width:550,scheme:"viridis",reverse:!0,domain:[0,d],label:"note index: old (yellow) to new (purple)"},r:{domain:[0,127],range:[0,5]},marks:[Ar(Ei(0,p6+1),{stroke:"#ddd",dx:R/2}),H9(Ei(0,C_),{stroke:"#ddd",strokeWidth:k=>Math.sqrt(k+1)}),f0([3,5,7,9,15,17,19,21],{x:k=>k,y:2,dy:R/2,fill:"#ddd",r:8}),f0([12,12,24,24],{x:k=>k,y:(k,N)=>N%2===0?1:3,dy:R/2,fill:"#ddd",r:8}),f0(S,{x:"fretJitter",y:"stringJitter",fill:(k,N)=>N,stroke:"#888",strokeWidth:.5,r:"velocity",opacity:.5,tip:!0,title:k=>`string: ${l[k.string]}
fret: ${k.fret}
loudness: ${(k.velocity/127).toFixed(2)}
time:${k.time.toFixed(1)} s`})]}),P=[...Ud.keys()].map(k=>k/127),L=Bn({width:Qh,height:47,marginTop:0,marginLeft:Qh*.35,marginRight:Qh*.35,marginBottom:30,x:{label:"loudness",labelAnchor:"center",ticks:P,tickSize:0,tickPadding:3,tickFormat:(k,N)=>[...Ud.values()][N]},marks:[yrt(P,{x:(k,N)=>k,fill:"#888",r:k=>k})]});i(1,u.textContent="",u),u.appendChild(I),u.appendChild(L)};c9(A);const p=()=>({pastNoteCount:d,notes:f}),y=S=>{E(),i(2,d=S.pastNoteCount),i(3,f=S.notes),A()},E=()=>{f.length>0&&JSON.stringify(f)!==JSON.stringify(b_.notes)&&da(a.id,p())};r9(E);function v(S){d=S,i(2,d)}function w(S){Me[S?"unshift":"push"](()=>{u=S,i(1,u)})}function x(S){f=S,i(3,f)}const b=()=>y(b_);function O(S){f=S,i(3,f)}return t.$$set=S=>{"appInfo"in S&&i(0,a=S.appInfo)},[a,u,d,f,M,m,A,p,y,E,v,w,x,b,O]}class aut extends Ki{constructor(e){super(),Wi(this,e,nut,iut,ji,{appInfo:0})}}var JP={exports:{}};(function(t,e){var i={};(function(r,s){t.exports=s()})(self,()=>(()=>{var a={"./node_modules/an-array/index.js":u=>{var d=Object.prototype.toString;u.exports=c;function c(f){return f.BYTES_PER_ELEMENT&&d.call(f.buffer)==="[object ArrayBuffer]"||Array.isArray(f)}},"./node_modules/as-number/index.js":u=>{u.exports=function(c,f){return typeof c=="number"?c:typeof f=="number"?f:0}},"./node_modules/base64-js/index.js":(u,d)=>{d.byteLength=E,d.toByteArray=w,d.fromByteArray=O;for(var c=[],f=[],M=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,p=m.length;A<p;++A)c[A]=m[A],f[m.charCodeAt(A)]=A;f[45]=62,f[95]=63;function y(S){var R=S.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=S.indexOf("=");I===-1&&(I=R);var P=I===R?0:4-I%4;return[I,P]}function E(S){var R=y(S),I=R[0],P=R[1];return(I+P)*3/4-P}function v(S,R,I){return(R+I)*3/4-I}function w(S){var R,I=y(S),P=I[0],L=I[1],k=new M(v(S,P,L)),N=0,$=L>0?P-4:P,H;for(H=0;H<$;H+=4)R=f[S.charCodeAt(H)]<<18|f[S.charCodeAt(H+1)]<<12|f[S.charCodeAt(H+2)]<<6|f[S.charCodeAt(H+3)],k[N++]=R>>16&255,k[N++]=R>>8&255,k[N++]=R&255;return L===2&&(R=f[S.charCodeAt(H)]<<2|f[S.charCodeAt(H+1)]>>4,k[N++]=R&255),L===1&&(R=f[S.charCodeAt(H)]<<10|f[S.charCodeAt(H+1)]<<4|f[S.charCodeAt(H+2)]>>2,k[N++]=R>>8&255,k[N++]=R&255),k}function x(S){return c[S>>18&63]+c[S>>12&63]+c[S>>6&63]+c[S&63]}function b(S,R,I){for(var P,L=[],k=R;k<I;k+=3)P=(S[k]<<16&16711680)+(S[k+1]<<8&65280)+(S[k+2]&255),L.push(x(P));return L.join("")}function O(S){for(var R,I=S.length,P=I%3,L=[],k=16383,N=0,$=I-P;N<$;N+=k)L.push(b(S,N,N+k>$?$:N+k));return P===1?(R=S[I-1],L.push(c[R>>2]+c[R<<4&63]+"==")):P===2&&(R=(S[I-2]<<8)+S[I-1],L.push(c[R>>10]+c[R>>4&63]+c[R<<2&63]+"=")),L.join("")}},"./node_modules/buffer-equal/index.js":(u,d,c)=>{var f=c("./node_modules/buffer/index.js").Buffer;u.exports=function(M,m){if(f.isBuffer(M)&&f.isBuffer(m)){if(typeof M.equals=="function")return M.equals(m);if(M.length!==m.length)return!1;for(var A=0;A<M.length;A++)if(M[A]!==m[A])return!1;return!0}}},"./node_modules/buffer/index.js":(u,d,c)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const f=c("./node_modules/base64-js/index.js"),M=c("./node_modules/ieee754/index.js"),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=E,d.SlowBuffer=k,d.INSPECT_MAX_BYTES=50;const A=2147483647;d.kMaxLength=A,E.TYPED_ARRAY_SUPPORT=p(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const ut=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ut,X),ut.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function y(ut){if(ut>A)throw new RangeError('The value "'+ut+'" is invalid for option "size"');const X=new Uint8Array(ut);return Object.setPrototypeOf(X,E.prototype),X}function E(ut,X,Z){if(typeof ut=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(ut)}return v(ut,X,Z)}E.poolSize=8192;function v(ut,X,Z){if(typeof ut=="string")return O(ut,X);if(ArrayBuffer.isView(ut))return R(ut);if(ut==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut);if(yt(ut,ArrayBuffer)||ut&&yt(ut.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yt(ut,SharedArrayBuffer)||ut&&yt(ut.buffer,SharedArrayBuffer)))return I(ut,X,Z);if(typeof ut=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _t=ut.valueOf&&ut.valueOf();if(_t!=null&&_t!==ut)return E.from(_t,X,Z);const Gt=P(ut);if(Gt)return Gt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ut[Symbol.toPrimitive]=="function")return E.from(ut[Symbol.toPrimitive]("string"),X,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut)}E.from=function(ut,X,Z){return v(ut,X,Z)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function w(ut){if(typeof ut!="number")throw new TypeError('"size" argument must be of type number');if(ut<0)throw new RangeError('The value "'+ut+'" is invalid for option "size"')}function x(ut,X,Z){return w(ut),ut<=0?y(ut):X!==void 0?typeof Z=="string"?y(ut).fill(X,Z):y(ut).fill(X):y(ut)}E.alloc=function(ut,X,Z){return x(ut,X,Z)};function b(ut){return w(ut),y(ut<0?0:L(ut)|0)}E.allocUnsafe=function(ut){return b(ut)},E.allocUnsafeSlow=function(ut){return b(ut)};function O(ut,X){if((typeof X!="string"||X==="")&&(X="utf8"),!E.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const Z=N(ut,X)|0;let _t=y(Z);const Gt=_t.write(ut,X);return Gt!==Z&&(_t=_t.slice(0,Gt)),_t}function S(ut){const X=ut.length<0?0:L(ut.length)|0,Z=y(X);for(let _t=0;_t<X;_t+=1)Z[_t]=ut[_t]&255;return Z}function R(ut){if(yt(ut,Uint8Array)){const X=new Uint8Array(ut);return I(X.buffer,X.byteOffset,X.byteLength)}return S(ut)}function I(ut,X,Z){if(X<0||ut.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ut.byteLength<X+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let _t;return X===void 0&&Z===void 0?_t=new Uint8Array(ut):Z===void 0?_t=new Uint8Array(ut,X):_t=new Uint8Array(ut,X,Z),Object.setPrototypeOf(_t,E.prototype),_t}function P(ut){if(E.isBuffer(ut)){const X=L(ut.length)|0,Z=y(X);return Z.length===0||ut.copy(Z,0,0,X),Z}if(ut.length!==void 0)return typeof ut.length!="number"||Ht(ut.length)?y(0):S(ut);if(ut.type==="Buffer"&&Array.isArray(ut.data))return S(ut.data)}function L(ut){if(ut>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return ut|0}function k(ut){return+ut!=ut&&(ut=0),E.alloc(+ut)}E.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==E.prototype},E.compare=function(X,Z){if(yt(X,Uint8Array)&&(X=E.from(X,X.offset,X.byteLength)),yt(Z,Uint8Array)&&(Z=E.from(Z,Z.offset,Z.byteLength)),!E.isBuffer(X)||!E.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===Z)return 0;let _t=X.length,Gt=Z.length;for(let Zt=0,ue=Math.min(_t,Gt);Zt<ue;++Zt)if(X[Zt]!==Z[Zt]){_t=X[Zt],Gt=Z[Zt];break}return _t<Gt?-1:Gt<_t?1:0},E.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(X,Z){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return E.alloc(0);let _t;if(Z===void 0)for(Z=0,_t=0;_t<X.length;++_t)Z+=X[_t].length;const Gt=E.allocUnsafe(Z);let Zt=0;for(_t=0;_t<X.length;++_t){let ue=X[_t];if(yt(ue,Uint8Array))Zt+ue.length>Gt.length?(E.isBuffer(ue)||(ue=E.from(ue)),ue.copy(Gt,Zt)):Uint8Array.prototype.set.call(Gt,ue,Zt);else if(E.isBuffer(ue))ue.copy(Gt,Zt);else throw new TypeError('"list" argument must be an Array of Buffers');Zt+=ue.length}return Gt};function N(ut,X){if(E.isBuffer(ut))return ut.length;if(ArrayBuffer.isView(ut)||yt(ut,ArrayBuffer))return ut.byteLength;if(typeof ut!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ut);const Z=ut.length,_t=arguments.length>2&&arguments[2]===!0;if(!_t&&Z===0)return 0;let Gt=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return ti(ut).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z*2;case"hex":return Z>>>1;case"base64":return ne(ut).length;default:if(Gt)return _t?-1:ti(ut).length;X=(""+X).toLowerCase(),Gt=!0}}E.byteLength=N;function $(ut,X,Z){let _t=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0,X>>>=0,Z<=X))return"";for(ut||(ut="utf8");;)switch(ut){case"hex":return vt(this,X,Z);case"utf8":case"utf-8":return tt(this,X,Z);case"ascii":return gt(this,X,Z);case"latin1":case"binary":return Tt(this,X,Z);case"base64":return nt(this,X,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,X,Z);default:if(_t)throw new TypeError("Unknown encoding: "+ut);ut=(ut+"").toLowerCase(),_t=!0}}E.prototype._isBuffer=!0;function H(ut,X,Z){const _t=ut[X];ut[X]=ut[Z],ut[Z]=_t}E.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<X;Z+=2)H(this,Z,Z+1);return this},E.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<X;Z+=4)H(this,Z,Z+3),H(this,Z+1,Z+2);return this},E.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<X;Z+=8)H(this,Z,Z+7),H(this,Z+1,Z+6),H(this,Z+2,Z+5),H(this,Z+3,Z+4);return this},E.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?tt(this,0,X):$.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(X){if(!E.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:E.compare(this,X)===0},E.prototype.inspect=function(){let X="";const Z=d.INSPECT_MAX_BYTES;return X=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(X+=" ... "),"<Buffer "+X+">"},m&&(E.prototype[m]=E.prototype.inspect),E.prototype.compare=function(X,Z,_t,Gt,Zt){if(yt(X,Uint8Array)&&(X=E.from(X,X.offset,X.byteLength)),!E.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(Z===void 0&&(Z=0),_t===void 0&&(_t=X?X.length:0),Gt===void 0&&(Gt=0),Zt===void 0&&(Zt=this.length),Z<0||_t>X.length||Gt<0||Zt>this.length)throw new RangeError("out of range index");if(Gt>=Zt&&Z>=_t)return 0;if(Gt>=Zt)return-1;if(Z>=_t)return 1;if(Z>>>=0,_t>>>=0,Gt>>>=0,Zt>>>=0,this===X)return 0;let ue=Zt-Gt,ve=_t-Z;const Fe=Math.min(ue,ve),Je=this.slice(Gt,Zt),ii=X.slice(Z,_t);for(let re=0;re<Fe;++re)if(Je[re]!==ii[re]){ue=Je[re],ve=ii[re];break}return ue<ve?-1:ve<ue?1:0};function U(ut,X,Z,_t,Gt){if(ut.length===0)return-1;if(typeof Z=="string"?(_t=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Z=+Z,Ht(Z)&&(Z=Gt?0:ut.length-1),Z<0&&(Z=ut.length+Z),Z>=ut.length){if(Gt)return-1;Z=ut.length-1}else if(Z<0)if(Gt)Z=0;else return-1;if(typeof X=="string"&&(X=E.from(X,_t)),E.isBuffer(X))return X.length===0?-1:W(ut,X,Z,_t,Gt);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?Gt?Uint8Array.prototype.indexOf.call(ut,X,Z):Uint8Array.prototype.lastIndexOf.call(ut,X,Z):W(ut,[X],Z,_t,Gt);throw new TypeError("val must be string, number or Buffer")}function W(ut,X,Z,_t,Gt){let Zt=1,ue=ut.length,ve=X.length;if(_t!==void 0&&(_t=String(_t).toLowerCase(),_t==="ucs2"||_t==="ucs-2"||_t==="utf16le"||_t==="utf-16le")){if(ut.length<2||X.length<2)return-1;Zt=2,ue/=2,ve/=2,Z/=2}function Fe(ii,re){return Zt===1?ii[re]:ii.readUInt16BE(re*Zt)}let Je;if(Gt){let ii=-1;for(Je=Z;Je<ue;Je++)if(Fe(ut,Je)===Fe(X,ii===-1?0:Je-ii)){if(ii===-1&&(ii=Je),Je-ii+1===ve)return ii*Zt}else ii!==-1&&(Je-=Je-ii),ii=-1}else for(Z+ve>ue&&(Z=ue-ve),Je=Z;Je>=0;Je--){let ii=!0;for(let re=0;re<ve;re++)if(Fe(ut,Je+re)!==Fe(X,re)){ii=!1;break}if(ii)return Je}return-1}E.prototype.includes=function(X,Z,_t){return this.indexOf(X,Z,_t)!==-1},E.prototype.indexOf=function(X,Z,_t){return U(this,X,Z,_t,!0)},E.prototype.lastIndexOf=function(X,Z,_t){return U(this,X,Z,_t,!1)};function J(ut,X,Z,_t){Z=Number(Z)||0;const Gt=ut.length-Z;_t?(_t=Number(_t),_t>Gt&&(_t=Gt)):_t=Gt;const Zt=X.length;_t>Zt/2&&(_t=Zt/2);let ue;for(ue=0;ue<_t;++ue){const ve=parseInt(X.substr(ue*2,2),16);if(Ht(ve))return ue;ut[Z+ue]=ve}return ue}function Q(ut,X,Z,_t){return Et(ti(X,ut.length-Z),ut,Z,_t)}function G(ut,X,Z,_t){return Et(be(X),ut,Z,_t)}function z(ut,X,Z,_t){return Et(ne(X),ut,Z,_t)}function j(ut,X,Z,_t){return Et(ye(X,ut.length-Z),ut,Z,_t)}E.prototype.write=function(X,Z,_t,Gt){if(Z===void 0)Gt="utf8",_t=this.length,Z=0;else if(_t===void 0&&typeof Z=="string")Gt=Z,_t=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(_t)?(_t=_t>>>0,Gt===void 0&&(Gt="utf8")):(Gt=_t,_t=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Zt=this.length-Z;if((_t===void 0||_t>Zt)&&(_t=Zt),X.length>0&&(_t<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");Gt||(Gt="utf8");let ue=!1;for(;;)switch(Gt){case"hex":return J(this,X,Z,_t);case"utf8":case"utf-8":return Q(this,X,Z,_t);case"ascii":case"latin1":case"binary":return G(this,X,Z,_t);case"base64":return z(this,X,Z,_t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,X,Z,_t);default:if(ue)throw new TypeError("Unknown encoding: "+Gt);Gt=(""+Gt).toLowerCase(),ue=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function nt(ut,X,Z){return X===0&&Z===ut.length?f.fromByteArray(ut):f.fromByteArray(ut.slice(X,Z))}function tt(ut,X,Z){Z=Math.min(ut.length,Z);const _t=[];let Gt=X;for(;Gt<Z;){const Zt=ut[Gt];let ue=null,ve=Zt>239?4:Zt>223?3:Zt>191?2:1;if(Gt+ve<=Z){let Fe,Je,ii,re;switch(ve){case 1:Zt<128&&(ue=Zt);break;case 2:Fe=ut[Gt+1],(Fe&192)===128&&(re=(Zt&31)<<6|Fe&63,re>127&&(ue=re));break;case 3:Fe=ut[Gt+1],Je=ut[Gt+2],(Fe&192)===128&&(Je&192)===128&&(re=(Zt&15)<<12|(Fe&63)<<6|Je&63,re>2047&&(re<55296||re>57343)&&(ue=re));break;case 4:Fe=ut[Gt+1],Je=ut[Gt+2],ii=ut[Gt+3],(Fe&192)===128&&(Je&192)===128&&(ii&192)===128&&(re=(Zt&15)<<18|(Fe&63)<<12|(Je&63)<<6|ii&63,re>65535&&re<1114112&&(ue=re))}}ue===null?(ue=65533,ve=1):ue>65535&&(ue-=65536,_t.push(ue>>>10&1023|55296),ue=56320|ue&1023),_t.push(ue),Gt+=ve}return pt(_t)}const ht=4096;function pt(ut){const X=ut.length;if(X<=ht)return String.fromCharCode.apply(String,ut);let Z="",_t=0;for(;_t<X;)Z+=String.fromCharCode.apply(String,ut.slice(_t,_t+=ht));return Z}function gt(ut,X,Z){let _t="";Z=Math.min(ut.length,Z);for(let Gt=X;Gt<Z;++Gt)_t+=String.fromCharCode(ut[Gt]&127);return _t}function Tt(ut,X,Z){let _t="";Z=Math.min(ut.length,Z);for(let Gt=X;Gt<Z;++Gt)_t+=String.fromCharCode(ut[Gt]);return _t}function vt(ut,X,Z){const _t=ut.length;(!X||X<0)&&(X=0),(!Z||Z<0||Z>_t)&&(Z=_t);let Gt="";for(let Zt=X;Zt<Z;++Zt)Gt+=wt[ut[Zt]];return Gt}function Ot(ut,X,Z){const _t=ut.slice(X,Z);let Gt="";for(let Zt=0;Zt<_t.length-1;Zt+=2)Gt+=String.fromCharCode(_t[Zt]+_t[Zt+1]*256);return Gt}E.prototype.slice=function(X,Z){const _t=this.length;X=~~X,Z=Z===void 0?_t:~~Z,X<0?(X+=_t,X<0&&(X=0)):X>_t&&(X=_t),Z<0?(Z+=_t,Z<0&&(Z=0)):Z>_t&&(Z=_t),Z<X&&(Z=X);const Gt=this.subarray(X,Z);return Object.setPrototypeOf(Gt,E.prototype),Gt};function ft(ut,X,Z){if(ut%1!==0||ut<0)throw new RangeError("offset is not uint");if(ut+X>Z)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(X,Z,_t){X=X>>>0,Z=Z>>>0,_t||ft(X,Z,this.length);let Gt=this[X],Zt=1,ue=0;for(;++ue<Z&&(Zt*=256);)Gt+=this[X+ue]*Zt;return Gt},E.prototype.readUintBE=E.prototype.readUIntBE=function(X,Z,_t){X=X>>>0,Z=Z>>>0,_t||ft(X,Z,this.length);let Gt=this[X+--Z],Zt=1;for(;Z>0&&(Zt*=256);)Gt+=this[X+--Z]*Zt;return Gt},E.prototype.readUint8=E.prototype.readUInt8=function(X,Z){return X=X>>>0,Z||ft(X,1,this.length),this[X]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(X,Z){return X=X>>>0,Z||ft(X,2,this.length),this[X]|this[X+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(X,Z){return X=X>>>0,Z||ft(X,2,this.length),this[X]<<8|this[X+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(X,Z){return X=X>>>0,Z||ft(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(X,Z){return X=X>>>0,Z||ft(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},E.prototype.readBigUInt64LE=xt(function(X){X=X>>>0,ni(X,"offset");const Z=this[X],_t=this[X+7];(Z===void 0||_t===void 0)&&ei(X,this.length-8);const Gt=Z+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,Zt=this[++X]+this[++X]*2**8+this[++X]*2**16+_t*2**24;return BigInt(Gt)+(BigInt(Zt)<<BigInt(32))}),E.prototype.readBigUInt64BE=xt(function(X){X=X>>>0,ni(X,"offset");const Z=this[X],_t=this[X+7];(Z===void 0||_t===void 0)&&ei(X,this.length-8);const Gt=Z*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],Zt=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+_t;return(BigInt(Gt)<<BigInt(32))+BigInt(Zt)}),E.prototype.readIntLE=function(X,Z,_t){X=X>>>0,Z=Z>>>0,_t||ft(X,Z,this.length);let Gt=this[X],Zt=1,ue=0;for(;++ue<Z&&(Zt*=256);)Gt+=this[X+ue]*Zt;return Zt*=128,Gt>=Zt&&(Gt-=Math.pow(2,8*Z)),Gt},E.prototype.readIntBE=function(X,Z,_t){X=X>>>0,Z=Z>>>0,_t||ft(X,Z,this.length);let Gt=Z,Zt=1,ue=this[X+--Gt];for(;Gt>0&&(Zt*=256);)ue+=this[X+--Gt]*Zt;return Zt*=128,ue>=Zt&&(ue-=Math.pow(2,8*Z)),ue},E.prototype.readInt8=function(X,Z){return X=X>>>0,Z||ft(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},E.prototype.readInt16LE=function(X,Z){X=X>>>0,Z||ft(X,2,this.length);const _t=this[X]|this[X+1]<<8;return _t&32768?_t|4294901760:_t},E.prototype.readInt16BE=function(X,Z){X=X>>>0,Z||ft(X,2,this.length);const _t=this[X+1]|this[X]<<8;return _t&32768?_t|4294901760:_t},E.prototype.readInt32LE=function(X,Z){return X=X>>>0,Z||ft(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},E.prototype.readInt32BE=function(X,Z){return X=X>>>0,Z||ft(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},E.prototype.readBigInt64LE=xt(function(X){X=X>>>0,ni(X,"offset");const Z=this[X],_t=this[X+7];(Z===void 0||_t===void 0)&&ei(X,this.length-8);const Gt=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(_t<<24);return(BigInt(Gt)<<BigInt(32))+BigInt(Z+this[++X]*256+this[++X]*65536+this[++X]*16777216)}),E.prototype.readBigInt64BE=xt(function(X){X=X>>>0,ni(X,"offset");const Z=this[X],_t=this[X+7];(Z===void 0||_t===void 0)&&ei(X,this.length-8);const Gt=(Z<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(Gt)<<BigInt(32))+BigInt(this[++X]*16777216+this[++X]*65536+this[++X]*256+_t)}),E.prototype.readFloatLE=function(X,Z){return X=X>>>0,Z||ft(X,4,this.length),M.read(this,X,!0,23,4)},E.prototype.readFloatBE=function(X,Z){return X=X>>>0,Z||ft(X,4,this.length),M.read(this,X,!1,23,4)},E.prototype.readDoubleLE=function(X,Z){return X=X>>>0,Z||ft(X,8,this.length),M.read(this,X,!0,52,8)},E.prototype.readDoubleBE=function(X,Z){return X=X>>>0,Z||ft(X,8,this.length),M.read(this,X,!1,52,8)};function St(ut,X,Z,_t,Gt,Zt){if(!E.isBuffer(ut))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>Gt||X<Zt)throw new RangeError('"value" argument is out of bounds');if(Z+_t>ut.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(X,Z,_t,Gt){if(X=+X,Z=Z>>>0,_t=_t>>>0,!Gt){const ve=Math.pow(2,8*_t)-1;St(this,X,Z,_t,ve,0)}let Zt=1,ue=0;for(this[Z]=X&255;++ue<_t&&(Zt*=256);)this[Z+ue]=X/Zt&255;return Z+_t},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(X,Z,_t,Gt){if(X=+X,Z=Z>>>0,_t=_t>>>0,!Gt){const ve=Math.pow(2,8*_t)-1;St(this,X,Z,_t,ve,0)}let Zt=_t-1,ue=1;for(this[Z+Zt]=X&255;--Zt>=0&&(ue*=256);)this[Z+Zt]=X/ue&255;return Z+_t},E.prototype.writeUint8=E.prototype.writeUInt8=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,1,255,0),this[Z]=X&255,Z+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,2,65535,0),this[Z]=X&255,this[Z+1]=X>>>8,Z+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,2,65535,0),this[Z]=X>>>8,this[Z+1]=X&255,Z+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,4,4294967295,0),this[Z+3]=X>>>24,this[Z+2]=X>>>16,this[Z+1]=X>>>8,this[Z]=X&255,Z+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,4,4294967295,0),this[Z]=X>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=X&255,Z+4};function Mt(ut,X,Z,_t,Gt){Qe(X,_t,Gt,ut,Z,7);let Zt=Number(X&BigInt(4294967295));ut[Z++]=Zt,Zt=Zt>>8,ut[Z++]=Zt,Zt=Zt>>8,ut[Z++]=Zt,Zt=Zt>>8,ut[Z++]=Zt;let ue=Number(X>>BigInt(32)&BigInt(4294967295));return ut[Z++]=ue,ue=ue>>8,ut[Z++]=ue,ue=ue>>8,ut[Z++]=ue,ue=ue>>8,ut[Z++]=ue,Z}function Pt(ut,X,Z,_t,Gt){Qe(X,_t,Gt,ut,Z,7);let Zt=Number(X&BigInt(4294967295));ut[Z+7]=Zt,Zt=Zt>>8,ut[Z+6]=Zt,Zt=Zt>>8,ut[Z+5]=Zt,Zt=Zt>>8,ut[Z+4]=Zt;let ue=Number(X>>BigInt(32)&BigInt(4294967295));return ut[Z+3]=ue,ue=ue>>8,ut[Z+2]=ue,ue=ue>>8,ut[Z+1]=ue,ue=ue>>8,ut[Z]=ue,Z+8}E.prototype.writeBigUInt64LE=xt(function(X,Z=0){return Mt(this,X,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=xt(function(X,Z=0){return Pt(this,X,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(X,Z,_t,Gt){if(X=+X,Z=Z>>>0,!Gt){const Fe=Math.pow(2,8*_t-1);St(this,X,Z,_t,Fe-1,-Fe)}let Zt=0,ue=1,ve=0;for(this[Z]=X&255;++Zt<_t&&(ue*=256);)X<0&&ve===0&&this[Z+Zt-1]!==0&&(ve=1),this[Z+Zt]=(X/ue>>0)-ve&255;return Z+_t},E.prototype.writeIntBE=function(X,Z,_t,Gt){if(X=+X,Z=Z>>>0,!Gt){const Fe=Math.pow(2,8*_t-1);St(this,X,Z,_t,Fe-1,-Fe)}let Zt=_t-1,ue=1,ve=0;for(this[Z+Zt]=X&255;--Zt>=0&&(ue*=256);)X<0&&ve===0&&this[Z+Zt+1]!==0&&(ve=1),this[Z+Zt]=(X/ue>>0)-ve&255;return Z+_t},E.prototype.writeInt8=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,1,127,-128),X<0&&(X=255+X+1),this[Z]=X&255,Z+1},E.prototype.writeInt16LE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,2,32767,-32768),this[Z]=X&255,this[Z+1]=X>>>8,Z+2},E.prototype.writeInt16BE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,2,32767,-32768),this[Z]=X>>>8,this[Z+1]=X&255,Z+2},E.prototype.writeInt32LE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,4,2147483647,-2147483648),this[Z]=X&255,this[Z+1]=X>>>8,this[Z+2]=X>>>16,this[Z+3]=X>>>24,Z+4},E.prototype.writeInt32BE=function(X,Z,_t){return X=+X,Z=Z>>>0,_t||St(this,X,Z,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[Z]=X>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=X&255,Z+4},E.prototype.writeBigInt64LE=xt(function(X,Z=0){return Mt(this,X,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=xt(function(X,Z=0){return Pt(this,X,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Vt(ut,X,Z,_t,Gt,Zt){if(Z+_t>ut.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function ie(ut,X,Z,_t,Gt){return X=+X,Z=Z>>>0,Gt||Vt(ut,X,Z,4),M.write(ut,X,Z,_t,23,4),Z+4}E.prototype.writeFloatLE=function(X,Z,_t){return ie(this,X,Z,!0,_t)},E.prototype.writeFloatBE=function(X,Z,_t){return ie(this,X,Z,!1,_t)};function jt(ut,X,Z,_t,Gt){return X=+X,Z=Z>>>0,Gt||Vt(ut,X,Z,8),M.write(ut,X,Z,_t,52,8),Z+8}E.prototype.writeDoubleLE=function(X,Z,_t){return jt(this,X,Z,!0,_t)},E.prototype.writeDoubleBE=function(X,Z,_t){return jt(this,X,Z,!1,_t)},E.prototype.copy=function(X,Z,_t,Gt){if(!E.isBuffer(X))throw new TypeError("argument should be a Buffer");if(_t||(_t=0),!Gt&&Gt!==0&&(Gt=this.length),Z>=X.length&&(Z=X.length),Z||(Z=0),Gt>0&&Gt<_t&&(Gt=_t),Gt===_t||X.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(_t<0||_t>=this.length)throw new RangeError("Index out of range");if(Gt<0)throw new RangeError("sourceEnd out of bounds");Gt>this.length&&(Gt=this.length),X.length-Z<Gt-_t&&(Gt=X.length-Z+_t);const Zt=Gt-_t;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Z,_t,Gt):Uint8Array.prototype.set.call(X,this.subarray(_t,Gt),Z),Zt},E.prototype.fill=function(X,Z,_t,Gt){if(typeof X=="string"){if(typeof Z=="string"?(Gt=Z,Z=0,_t=this.length):typeof _t=="string"&&(Gt=_t,_t=this.length),Gt!==void 0&&typeof Gt!="string")throw new TypeError("encoding must be a string");if(typeof Gt=="string"&&!E.isEncoding(Gt))throw new TypeError("Unknown encoding: "+Gt);if(X.length===1){const ue=X.charCodeAt(0);(Gt==="utf8"&&ue<128||Gt==="latin1")&&(X=ue)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(Z<0||this.length<Z||this.length<_t)throw new RangeError("Out of range index");if(_t<=Z)return this;Z=Z>>>0,_t=_t===void 0?this.length:_t>>>0,X||(X=0);let Zt;if(typeof X=="number")for(Zt=Z;Zt<_t;++Zt)this[Zt]=X;else{const ue=E.isBuffer(X)?X:E.from(X,Gt),ve=ue.length;if(ve===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Zt=0;Zt<_t-Z;++Zt)this[Zt+Z]=ue[Zt%ve]}return this};const Wt={};function me(ut,X,Z){Wt[ut]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ut}]`,this.stack,delete this.name}get code(){return ut}set code(Gt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Gt,writable:!0})}toString(){return`${this.name} [${ut}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(ut){return ut?`${ut} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(ut,X){return`The "${ut}" argument must be of type number. Received type ${typeof X}`},TypeError),me("ERR_OUT_OF_RANGE",function(ut,X,Z){let _t=`The value of "${ut}" is out of range.`,Gt=Z;return Number.isInteger(Z)&&Math.abs(Z)>4294967296?Gt=Yt(String(Z)):typeof Z=="bigint"&&(Gt=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(Gt=Yt(Gt)),Gt+="n"),_t+=` It must be ${X}. Received ${Gt}`,_t},RangeError);function Yt(ut){let X="",Z=ut.length;const _t=ut[0]==="-"?1:0;for(;Z>=_t+4;Z-=3)X=`_${ut.slice(Z-3,Z)}${X}`;return`${ut.slice(0,Z)}${X}`}function pe(ut,X,Z){ni(X,"offset"),(ut[X]===void 0||ut[X+Z]===void 0)&&ei(X,ut.length-(Z+1))}function Qe(ut,X,Z,_t,Gt,Zt){if(ut>Z||ut<X){const ue=typeof X=="bigint"?"n":"";let ve;throw X===0||X===BigInt(0)?ve=`>= 0${ue} and < 2${ue} ** ${(Zt+1)*8}${ue}`:ve=`>= -(2${ue} ** ${(Zt+1)*8-1}${ue}) and < 2 ** ${(Zt+1)*8-1}${ue}`,new Wt.ERR_OUT_OF_RANGE("value",ve,ut)}pe(_t,Gt,Zt)}function ni(ut,X){if(typeof ut!="number")throw new Wt.ERR_INVALID_ARG_TYPE(X,"number",ut)}function ei(ut,X,Z){throw Math.floor(ut)!==ut?(ni(ut,Z),new Wt.ERR_OUT_OF_RANGE("offset","an integer",ut)):X<0?new Wt.ERR_BUFFER_OUT_OF_BOUNDS:new Wt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,ut)}const Ci=/[^+/0-9A-Za-z-_]/g;function ai(ut){if(ut=ut.split("=")[0],ut=ut.trim().replace(Ci,""),ut.length<2)return"";for(;ut.length%4!==0;)ut=ut+"=";return ut}function ti(ut,X){X=X||1/0;let Z;const _t=ut.length;let Gt=null;const Zt=[];for(let ue=0;ue<_t;++ue){if(Z=ut.charCodeAt(ue),Z>55295&&Z<57344){if(!Gt){if(Z>56319){(X-=3)>-1&&Zt.push(239,191,189);continue}else if(ue+1===_t){(X-=3)>-1&&Zt.push(239,191,189);continue}Gt=Z;continue}if(Z<56320){(X-=3)>-1&&Zt.push(239,191,189),Gt=Z;continue}Z=(Gt-55296<<10|Z-56320)+65536}else Gt&&(X-=3)>-1&&Zt.push(239,191,189);if(Gt=null,Z<128){if((X-=1)<0)break;Zt.push(Z)}else if(Z<2048){if((X-=2)<0)break;Zt.push(Z>>6|192,Z&63|128)}else if(Z<65536){if((X-=3)<0)break;Zt.push(Z>>12|224,Z>>6&63|128,Z&63|128)}else if(Z<1114112){if((X-=4)<0)break;Zt.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else throw new Error("Invalid code point")}return Zt}function be(ut){const X=[];for(let Z=0;Z<ut.length;++Z)X.push(ut.charCodeAt(Z)&255);return X}function ye(ut,X){let Z,_t,Gt;const Zt=[];for(let ue=0;ue<ut.length&&!((X-=2)<0);++ue)Z=ut.charCodeAt(ue),_t=Z>>8,Gt=Z%256,Zt.push(Gt),Zt.push(_t);return Zt}function ne(ut){return f.toByteArray(ai(ut))}function Et(ut,X,Z,_t){let Gt;for(Gt=0;Gt<_t&&!(Gt+Z>=X.length||Gt>=ut.length);++Gt)X[Gt+Z]=ut[Gt];return Gt}function yt(ut,X){return ut instanceof X||ut!=null&&ut.constructor!=null&&ut.constructor.name!=null&&ut.constructor.name===X.name}function Ht(ut){return ut!==ut}const wt=function(){const ut="0123456789abcdef",X=new Array(256);for(let Z=0;Z<16;++Z){const _t=Z*16;for(let Gt=0;Gt<16;++Gt)X[_t+Gt]=ut[Z]+ut[Gt]}return X}();function xt(ut){return typeof BigInt>"u"?Qt:ut}function Qt(){throw new Error("BigInt not supported")}},"./node_modules/css-loader/dist/runtime/api.js":u=>{u.exports=function(d){var c=[];return c.toString=function(){return this.map(function(M){var m="",A=typeof M[5]<"u";return M[4]&&(m+="@supports (".concat(M[4],") {")),M[2]&&(m+="@media ".concat(M[2]," {")),A&&(m+="@layer".concat(M[5].length>0?" ".concat(M[5]):""," {")),m+=d(M),A&&(m+="}"),M[2]&&(m+="}"),M[4]&&(m+="}"),m}).join("")},c.i=function(M,m,A,p,y){typeof M=="string"&&(M=[[null,M,void 0]]);var E={};if(A)for(var v=0;v<this.length;v++){var w=this[v][0];w!=null&&(E[w]=!0)}for(var x=0;x<M.length;x++){var b=[].concat(M[x]);A&&E[b[0]]||(typeof y<"u"&&(typeof b[5]>"u"||(b[1]="@layer".concat(b[5].length>0?" ".concat(b[5]):""," {").concat(b[1],"}")),b[5]=y),m&&(b[2]&&(b[1]="@media ".concat(b[2]," {").concat(b[1],"}")),b[2]=m),p&&(b[4]?(b[1]="@supports (".concat(b[4],") {").concat(b[1],"}"),b[4]=p):b[4]="".concat(p)),c.push(b))}},c}},"./node_modules/css-loader/dist/runtime/getUrl.js":u=>{u.exports=function(d,c){return c||(c={}),d&&(d=String(d.__esModule?d.default:d),/^['"].*['"]$/.test(d)&&(d=d.slice(1,-1)),c.hash&&(d+=c.hash),/["'() \t\n]|(%20)/.test(d)||c.needQuotes?'"'.concat(d.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):d)}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":u=>{u.exports=function(d){var c=d[1],f=d[3];if(!f)return c;if(typeof btoa=="function"){var M=btoa(unescape(encodeURIComponent(JSON.stringify(f)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(M),A="/*# ".concat(m," */");return[c].concat([A]).join(`
`)}return[c].join(`
`)}},"./node_modules/debug/src/browser.js":(u,d,c)=>{d.formatArgs=M,d.save=m,d.load=A,d.useColors=f,d.storage=p(),d.destroy=(()=>{let E=!1;return()=>{E||(E=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),d.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function f(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function M(E){if(E[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+E[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;E.splice(1,0,v,"color: inherit");let w=0,x=0;E[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(w++,b==="%c"&&(x=w))}),E.splice(x,0,v)}d.log=console.debug||console.log||(()=>{});function m(E){try{E?d.storage.setItem("debug",E):d.storage.removeItem("debug")}catch{}}function A(){let E;try{E=d.storage.getItem("debug")}catch{}return!E&&typeof process<"u"&&"env"in process&&(E=i.DEBUG),E}function p(){try{return localStorage}catch{}}u.exports=c("./node_modules/debug/src/common.js")(d);const{formatters:y}=u.exports;y.j=function(E){try{return JSON.stringify(E)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}},"./node_modules/debug/src/common.js":(u,d,c)=>{function f(M){A.debug=A,A.default=A,A.coerce=x,A.disable=E,A.enable=y,A.enabled=v,A.humanize=c("./node_modules/ms/index.js"),A.destroy=b,Object.keys(M).forEach(O=>{A[O]=M[O]}),A.names=[],A.skips=[],A.formatters={};function m(O){let S=0;for(let R=0;R<O.length;R++)S=(S<<5)-S+O.charCodeAt(R),S|=0;return A.colors[Math.abs(S)%A.colors.length]}A.selectColor=m;function A(O){let S,R=null,I,P;function L(...k){if(!L.enabled)return;const N=L,$=Number(new Date),H=$-(S||$);N.diff=H,N.prev=S,N.curr=$,S=$,k[0]=A.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let U=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(J,Q)=>{if(J==="%%")return"%";U++;const G=A.formatters[Q];if(typeof G=="function"){const z=k[U];J=G.call(N,z),k.splice(U,1),U--}return J}),A.formatArgs.call(N,k),(N.log||A.log).apply(N,k)}return L.namespace=O,L.useColors=A.useColors(),L.color=A.selectColor(O),L.extend=p,L.destroy=A.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>R!==null?R:(I!==A.namespaces&&(I=A.namespaces,P=A.enabled(O)),P),set:k=>{R=k}}),typeof A.init=="function"&&A.init(L),L}function p(O,S){const R=A(this.namespace+(typeof S>"u"?":":S)+O);return R.log=this.log,R}function y(O){A.save(O),A.namespaces=O,A.names=[],A.skips=[];let S;const R=(typeof O=="string"?O:"").split(/[\s,]+/),I=R.length;for(S=0;S<I;S++)R[S]&&(O=R[S].replace(/\*/g,".*?"),O[0]==="-"?A.skips.push(new RegExp("^"+O.slice(1)+"$")):A.names.push(new RegExp("^"+O+"$")))}function E(){const O=[...A.names.map(w),...A.skips.map(w).map(S=>"-"+S)].join(",");return A.enable(""),O}function v(O){if(O[O.length-1]==="*")return!0;let S,R;for(S=0,R=A.skips.length;S<R;S++)if(A.skips[S].test(O))return!1;for(S=0,R=A.names.length;S<R;S++)if(A.names[S].test(O))return!0;return!1}function w(O){return O.toString().substring(2,O.toString().length-2).replace(/\.\*\?$/,"*")}function x(O){return O instanceof Error?O.stack||O.message:O}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return A.enable(A.load()),A}u.exports=f},"./node_modules/deep-assign/index.js":(u,d,c)=>{var f=c("./node_modules/is-obj/index.js"),M=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function A(E){if(E==null)throw new TypeError("Sources cannot be null or undefined");return Object(E)}function p(E,v,w){var x=v[w];if(x!=null){if(M.call(E,w)&&(E[w]===void 0||E[w]===null))throw new TypeError("Cannot convert undefined or null to object ("+w+")");!M.call(E,w)||!f(x)?E[w]=x:E[w]=y(Object(E[w]),v[w])}}function y(E,v){if(E===v)return E;v=Object(v);for(var w in v)M.call(v,w)&&p(E,v,w);if(Object.getOwnPropertySymbols)for(var x=Object.getOwnPropertySymbols(v),b=0;b<x.length;b++)m.call(v,x[b])&&p(E,v,x[b]);return E}u.exports=function(v){v=A(v);for(var w=1;w<arguments.length;w++)y(v,arguments[w]);return v}},"./node_modules/dtype/index.js":u=>{u.exports=function(d){switch(d){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},"./node_modules/global/window.js":(u,d,c)=>{var f;typeof window<"u"?f=window:typeof c.g<"u"?f=c.g:typeof self<"u"?f=self:f={},u.exports=f},"./node_modules/ieee754/index.js":(u,d)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(c,f,M,m,A){var p,y,E=A*8-m-1,v=(1<<E)-1,w=v>>1,x=-7,b=M?A-1:0,O=M?-1:1,S=c[f+b];for(b+=O,p=S&(1<<-x)-1,S>>=-x,x+=E;x>0;p=p*256+c[f+b],b+=O,x-=8);for(y=p&(1<<-x)-1,p>>=-x,x+=m;x>0;y=y*256+c[f+b],b+=O,x-=8);if(p===0)p=1-w;else{if(p===v)return y?NaN:(S?-1:1)*(1/0);y=y+Math.pow(2,m),p=p-w}return(S?-1:1)*y*Math.pow(2,p-m)},d.write=function(c,f,M,m,A,p){var y,E,v,w=p*8-A-1,x=(1<<w)-1,b=x>>1,O=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=m?0:p-1,R=m?1:-1,I=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(E=isNaN(f)?1:0,y=x):(y=Math.floor(Math.log(f)/Math.LN2),f*(v=Math.pow(2,-y))<1&&(y--,v*=2),y+b>=1?f+=O/v:f+=O*Math.pow(2,1-b),f*v>=2&&(y++,v/=2),y+b>=x?(E=0,y=x):y+b>=1?(E=(f*v-1)*Math.pow(2,A),y=y+b):(E=f*Math.pow(2,b-1)*Math.pow(2,A),y=0));A>=8;c[M+S]=E&255,S+=R,E/=256,A-=8);for(y=y<<A|E,w+=A;w>0;c[M+S]=y&255,S+=R,y/=256,w-=8);c[M+S-R]|=I*128}},"./node_modules/is-buffer/index.js":u=>{/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */u.exports=function(f){return f!=null&&(d(f)||c(f)||!!f._isBuffer)};function d(f){return!!f.constructor&&typeof f.constructor.isBuffer=="function"&&f.constructor.isBuffer(f)}function c(f){return typeof f.readFloatLE=="function"&&typeof f.slice=="function"&&d(f.slice(0,0))}},"./node_modules/is-function/index.js":u=>{u.exports=c;var d=Object.prototype.toString;function c(f){if(!f)return!1;var M=d.call(f);return M==="[object Function]"||typeof f=="function"&&M!=="[object RegExp]"||typeof window<"u"&&(f===window.setTimeout||f===window.alert||f===window.confirm||f===window.prompt)}},"./node_modules/is-obj/index.js":u=>{u.exports=function(d){var c=typeof d;return d!==null&&(c==="object"||c==="function")}},"./node_modules/layout-bmfont-text/index.js":(u,d,c)=>{var f=c("./node_modules/word-wrapper/index.js"),M=c("./node_modules/xtend/immutable.js"),m=c("./node_modules/as-number/index.js"),A=["x","e","a","o","n","s","r","c","u","m","v","w","z"],p=["m","w"],y=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],E=9,v=32,w=0,x=1,b=2;u.exports=function(W){return new O(W)};function O(U){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(U)}O.prototype.update=function(U){if(U=M({measure:this._measure},U),this._opt=U,this._opt.tabSize=m(this._opt.tabSize,4),!U.font)throw new Error("must provide a valid bitmap font");var W=this.glyphs,J=U.text||"",Q=U.font;this._setupSpaceGlyphs(Q);var G=f.lines(J,U),z=U.width||0;W.length=0;var j=G.reduce(function(St,Mt){return Math.max(St,Mt.width,z)},0),nt=0,tt=0,ht=m(U.lineHeight,Q.common.lineHeight),pt=Q.common.base,gt=ht-pt,Tt=U.letterSpacing||0,vt=ht*G.length-gt,Ot=$(this._opt.align);tt-=vt,this._width=j,this._height=vt,this._descender=ht-pt,this._baseline=pt,this._xHeight=P(Q),this._capHeight=k(Q),this._lineHeight=ht,this._ascender=ht-gt-this._xHeight;var ft=this;G.forEach(function(St,Mt){for(var Pt=St.start,Vt=St.end,ie=St.width,jt,Wt=Pt;Wt<Vt;Wt++){var me=J.charCodeAt(Wt),Yt=ft.getGlyph(Q,me);if(Yt){jt&&(nt+=N(Q,jt.id,Yt.id));var pe=nt;Ot===x?pe+=(j-ie)/2:Ot===b&&(pe+=j-ie),W.push({position:[pe,tt],data:Yt,index:Wt,line:Mt}),nt+=Yt.xadvance+Tt,jt=Yt}}tt+=ht,nt=0}),this._linesTotal=G.length},O.prototype._setupSpaceGlyphs=function(U){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,!(!U.chars||U.chars.length===0)){var W=I(U,v)||L(U)||U.chars[0],J=this._opt.tabSize*W.xadvance;this._fallbackSpaceGlyph=W,this._fallbackTabGlyph=M(W,{x:0,y:0,xadvance:J,id:E,xoffset:0,yoffset:0,width:0,height:0})}},O.prototype.getGlyph=function(U,W){var J=I(U,W);return J||(W===E?this._fallbackTabGlyph:W===v?this._fallbackSpaceGlyph:null)},O.prototype.computeMetrics=function(U,W,J,Q){var G=this._opt.letterSpacing||0,z=this._opt.font,j=0,nt=0,tt=0,ht,pt;if(!z.chars||z.chars.length===0)return{start:W,end:W,width:0};J=Math.min(U.length,J);for(var gt=W;gt<J;gt++){var Tt=U.charCodeAt(gt),ht=this.getGlyph(z,Tt);if(ht){ht.xoffset;var vt=pt?N(z,pt.id,ht.id):0;j+=vt;var Ot=j+ht.xadvance+G,ft=j+ht.width;if(ft>=Q||Ot>=Q)break;j=Ot,nt=ft,pt=ht}tt++}return pt&&(nt+=pt.xoffset),{start:W,end:W+tt,width:nt}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(S);function S(U){Object.defineProperty(O.prototype,U,{get:R(U),configurable:!0})}function R(U){return new Function(["return function "+U+"() {","  return this._"+U,"}"].join(`
`))()}function I(U,W){if(!U.chars||U.chars.length===0)return null;var J=H(U.chars,W);return J>=0?U.chars[J]:null}function P(U){for(var W=0;W<A.length;W++){var J=A[W].charCodeAt(0),Q=H(U.chars,J);if(Q>=0)return U.chars[Q].height}return 0}function L(U){for(var W=0;W<p.length;W++){var J=p[W].charCodeAt(0),Q=H(U.chars,J);if(Q>=0)return U.chars[Q]}return 0}function k(U){for(var W=0;W<y.length;W++){var J=y[W].charCodeAt(0),Q=H(U.chars,J);if(Q>=0)return U.chars[Q].height}return 0}function N(U,W,J){if(!U.kernings||U.kernings.length===0)return 0;for(var Q=U.kernings,G=0;G<Q.length;G++){var z=Q[G];if(z.first===W&&z.second===J)return z.amount}return 0}function $(U){return U==="center"?x:U==="right"?b:w}function H(U,W,J){J=J||0;for(var Q=J;Q<U.length;Q++)if(U[Q].id===W)return Q;return-1}},"./node_modules/load-bmfont/browser.js":(u,d,c)=>{var f=c("./node_modules/buffer/index.js").Buffer,M=c("./node_modules/xhr/index.js"),m=function(){},A=c("./node_modules/parse-bmfont-ascii/index.js"),p=c("./node_modules/parse-bmfont-xml/lib/browser.js"),y=c("./node_modules/parse-bmfont-binary/index.js"),E=c("./node_modules/load-bmfont/lib/is-binary.js"),v=c("./node_modules/xtend/immutable.js"),w=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();u.exports=function(O,S){S=typeof S=="function"?S:m,typeof O=="string"?O={uri:O}:O||(O={});var R=O.binary;R&&(O=b(O)),M(O,function(I,P,L){if(I)return S(I);if(!/^2/.test(P.statusCode))return S(new Error("http status code: "+P.statusCode));if(!L)return S(new Error("no body result"));var k=!1;if(x(L)){var N=new Uint8Array(L);L=f.from(N,"binary")}E(L)&&(k=!0,typeof L=="string"&&(L=f.from(L,"binary"))),k||(f.isBuffer(L)&&(L=L.toString(O.encoding)),L=L.trim());var $;try{var H=P.headers["content-type"];k?$=y(L):/json/.test(H)||L.charAt(0)==="{"?$=JSON.parse(L):/xml/.test(H)||L.charAt(0)==="<"?$=p(L):$=A(L)}catch(U){S(new Error("error parsing font "+U.message)),S=m}S(null,$)})};function x(O){var S=Object.prototype.toString;return S.call(O)==="[object ArrayBuffer]"}function b(O){if(w)return v(O,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var S=new self.XMLHttpRequest;return S.overrideMimeType("text/plain; charset=x-user-defined"),v({xhr:S},O)}},"./node_modules/load-bmfont/lib/is-binary.js":(u,d,c)=>{var f=c("./node_modules/buffer/index.js").Buffer,M=c("./node_modules/buffer-equal/index.js"),m=f.from([66,77,70,3]);u.exports=function(A){return typeof A=="string"?A.substring(0,3)==="BMF":A.length>4&&M(A.slice(0,4),m)}},"./node_modules/ms/index.js":u=>{var d=1e3,c=d*60,f=c*60,M=f*24,m=M*7,A=M*365.25;u.exports=function(w,x){x=x||{};var b=typeof w;if(b==="string"&&w.length>0)return p(w);if(b==="number"&&isFinite(w))return x.long?E(w):y(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function p(w){if(w=String(w),!(w.length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(x){var b=parseFloat(x[1]),O=(x[2]||"ms").toLowerCase();switch(O){case"years":case"year":case"yrs":case"yr":case"y":return b*A;case"weeks":case"week":case"w":return b*m;case"days":case"day":case"d":return b*M;case"hours":case"hour":case"hrs":case"hr":case"h":return b*f;case"minutes":case"minute":case"mins":case"min":case"m":return b*c;case"seconds":case"second":case"secs":case"sec":case"s":return b*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function y(w){var x=Math.abs(w);return x>=M?Math.round(w/M)+"d":x>=f?Math.round(w/f)+"h":x>=c?Math.round(w/c)+"m":x>=d?Math.round(w/d)+"s":w+"ms"}function E(w){var x=Math.abs(w);return x>=M?v(w,x,M,"day"):x>=f?v(w,x,f,"hour"):x>=c?v(w,x,c,"minute"):x>=d?v(w,x,d,"second"):w+" ms"}function v(w,x,b,O){var S=x>=b*1.5;return Math.round(w/b)+" "+O+(S?"s":"")}},"./node_modules/parse-bmfont-ascii/index.js":u=>{u.exports=function(m){if(!m)throw new Error("no data provided");m=m.toString().trim();var A={pages:[],chars:[],kernings:[]},p=m.split(/\r\n?|\n/g);if(p.length===0)throw new Error("no data in BMFont file");for(var y=0;y<p.length;y++){var E=d(p[y],y);if(E)if(E.key==="page"){if(typeof E.data.id!="number")throw new Error("malformed file at line "+y+" -- needs page id=N");if(typeof E.data.file!="string")throw new Error("malformed file at line "+y+' -- needs page file="path"');A.pages[E.data.id]=E.data.file}else E.key==="chars"||E.key==="kernings"||(E.key==="char"?A.chars.push(E.data):E.key==="kerning"?A.kernings.push(E.data):A[E.key]=E.data)}return A};function d(M,m){if(M=M.replace(/\t+/g," ").trim(),!M)return null;var A=M.indexOf(" ");if(A===-1)throw new Error("no named row at line "+m);var p=M.substring(0,A);M=M.substring(A+1),M=M.replace(/letter=[\'\"]\S+[\'\"]/gi,""),M=M.split("="),M=M.map(function(x){return x.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var y=[],E=0;E<M.length;E++){var v=M[E];E===0?y.push({key:v[0],data:""}):E===M.length-1?y[y.length-1].data=c(v[0]):(y[y.length-1].data=c(v[0]),y.push({key:v[1],data:""}))}var w={key:p,data:{}};return y.forEach(function(x){w.data[x.key]=x.data}),w}function c(M){return!M||M.length===0?"":M.indexOf('"')===0||M.indexOf("'")===0?M.substring(1,M.length-1):M.indexOf(",")!==-1?f(M):parseInt(M,10)}function f(M){return M.split(",").map(function(m){return parseInt(m,10)})}},"./node_modules/parse-bmfont-binary/index.js":u=>{var d=[66,77,70];u.exports=function(w){if(w.length<6)throw new Error("invalid buffer length for BMFont");var x=d.every(function(I,P){return w.readUInt8(P)===I});if(!x)throw new Error("BMFont missing BMF byte header");var b=3,O=w.readUInt8(b++);if(O>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var S={kernings:[],chars:[]},R=0;R<5;R++)b+=c(S,w,b);return S};function c(v,w,x){if(x>w.length-1)return 0;var b=w.readUInt8(x++),O=w.readInt32LE(x);switch(x+=4,b){case 1:v.info=f(w,x);break;case 2:v.common=M(w,x);break;case 3:v.pages=m(w,x,O);break;case 4:v.chars=A(w,x,O);break;case 5:v.kernings=p(w,x,O);break}return 5+O}function f(v,w){var x={};x.size=v.readInt16LE(w);var b=v.readUInt8(w+2);return x.smooth=b>>7&1,x.unicode=b>>6&1,x.italic=b>>5&1,x.bold=b>>4&1,b>>3&1&&(x.fixedHeight=1),x.charset=v.readUInt8(w+3)||"",x.stretchH=v.readUInt16LE(w+4),x.aa=v.readUInt8(w+6),x.padding=[v.readInt8(w+7),v.readInt8(w+8),v.readInt8(w+9),v.readInt8(w+10)],x.spacing=[v.readInt8(w+11),v.readInt8(w+12)],x.outline=v.readUInt8(w+13),x.face=E(v,w+14),x}function M(v,w){var x={};return x.lineHeight=v.readUInt16LE(w),x.base=v.readUInt16LE(w+2),x.scaleW=v.readUInt16LE(w+4),x.scaleH=v.readUInt16LE(w+6),x.pages=v.readUInt16LE(w+8),v.readUInt8(w+10),x.packed=0,x.alphaChnl=v.readUInt8(w+11),x.redChnl=v.readUInt8(w+12),x.greenChnl=v.readUInt8(w+13),x.blueChnl=v.readUInt8(w+14),x}function m(v,w,x){for(var b=[],O=y(v,w),S=O.length+1,R=x/S,I=0;I<R;I++)b[I]=v.slice(w,w+O.length).toString("utf8"),w+=S;return b}function A(v,w,x){for(var b=[],O=x/20,S=0;S<O;S++){var R={},I=S*20;R.id=v.readUInt32LE(w+0+I),R.x=v.readUInt16LE(w+4+I),R.y=v.readUInt16LE(w+6+I),R.width=v.readUInt16LE(w+8+I),R.height=v.readUInt16LE(w+10+I),R.xoffset=v.readInt16LE(w+12+I),R.yoffset=v.readInt16LE(w+14+I),R.xadvance=v.readInt16LE(w+16+I),R.page=v.readUInt8(w+18+I),R.chnl=v.readUInt8(w+19+I),b[S]=R}return b}function p(v,w,x){for(var b=[],O=x/10,S=0;S<O;S++){var R={},I=S*10;R.first=v.readUInt32LE(w+0+I),R.second=v.readUInt32LE(w+4+I),R.amount=v.readInt16LE(w+8+I),b[S]=R}return b}function y(v,w){for(var x=w;x<v.length&&v[x]!==0;x++);return v.slice(w,x)}function E(v,w){return y(v,w).toString("utf8")}},"./node_modules/parse-bmfont-xml/lib/browser.js":(u,d,c)=>{var f=c("./node_modules/parse-bmfont-xml/lib/parse-attribs.js"),M=c("./node_modules/xml-parse-from-string/index.js"),m={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};u.exports=function(v){v=v.toString();var w=M(v),x={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(L){var k=w.getElementsByTagName(L)[0];k&&(x[L]=f(A(k)))});var b=w.getElementsByTagName("pages")[0];if(!b)throw new Error("malformed file -- no <pages> element");for(var O=b.getElementsByTagName("page"),S=0;S<O.length;S++){var R=O[S],I=parseInt(R.getAttribute("id"),10),P=R.getAttribute("file");if(isNaN(I))throw new Error('malformed file -- page "id" attribute is NaN');if(!P)throw new Error('malformed file -- needs page "file" attribute');x.pages[parseInt(I,10)]=P}return["chars","kernings"].forEach(function(L){var k=w.getElementsByTagName(L)[0];if(k)for(var N=L.substring(0,L.length-1),$=k.getElementsByTagName(N),H=0;H<$.length;H++){var U=$[H];x[L].push(f(A(U)))}}),x};function A(E){var v=p(E);return v.reduce(function(w,x){var b=y(x.nodeName);return w[b]=x.nodeValue,w},{})}function p(E){for(var v=[],w=0;w<E.attributes.length;w++)v.push(E.attributes[w]);return v}function y(E){return m[E.toLowerCase()]||E}},"./node_modules/parse-bmfont-xml/lib/parse-attribs.js":u=>{var d="chasrset";u.exports=function(M){d in M&&(M.charset=M[d],delete M[d]);for(var m in M)m==="face"||m==="charset"||(m==="padding"||m==="spacing"?M[m]=c(M[m]):M[m]=parseInt(M[m],10));return M};function c(f){return f.split(",").map(function(M){return parseInt(M,10)})}},"./node_modules/parse-headers/parse-headers.js":u=>{var d=function(f){return f.replace(/^\s+|\s+$/g,"")},c=function(f){return Object.prototype.toString.call(f)==="[object Array]"};u.exports=function(f){if(!f)return{};for(var M={},m=d(f).split(`
`),A=0;A<m.length;A++){var p=m[A],y=p.indexOf(":"),E=d(p.slice(0,y)).toLowerCase(),v=d(p.slice(y+1));typeof M[E]>"u"?M[E]=v:c(M[E])?M[E].push(v):M[E]=[M[E],v]}return M}},"./node_modules/quad-indices/index.js":(u,d,c)=>{var f=c("./node_modules/dtype/index.js"),M=c("./node_modules/an-array/index.js"),m=c("./node_modules/is-buffer/index.js"),A=[0,2,3],p=[2,1,3];u.exports=function(E,v){(!E||!(M(E)||m(E)))&&(v=E||{},E=null),typeof v=="number"?v={count:v}:v=v||{};for(var w=typeof v.type=="string"?v.type:"uint16",x=typeof v.count=="number"?v.count:1,b=v.start||0,O=v.clockwise!==!1?A:p,S=O[0],R=O[1],I=O[2],P=x*6,L=E||new(f(w))(P),k=0,N=0;k<P;k+=6,N+=4){var $=k+b;L[$+0]=N+0,L[$+1]=N+1,L[$+2]=N+2,L[$+3]=N+S,L[$+4]=N+R,L[$+5]=N+I}return L}},"./node_modules/super-animejs/lib/anime.es.js":(u,d,c)=>{c.r(d),c.d(d,{default:()=>ka});var f={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},M={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},m=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],A={CSS:{},springs:{}};function p(Kt,le,_e){return Math.min(Math.max(Kt,le),_e)}function y(Kt,le){return Kt.indexOf(le)>-1}function E(Kt,le){return Kt.apply(null,le)}var v=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,w=/^rgb/,x=/^hsl/,b={arr:function(Kt){return Array.isArray(Kt)},obj:function(Kt){return y(Object.prototype.toString.call(Kt),"Object")},pth:function(Kt){return b.obj(Kt)&&Kt.hasOwnProperty("totalLength")},svg:function(Kt){return Kt instanceof SVGElement},inp:function(Kt){return Kt instanceof HTMLInputElement},dom:function(Kt){return Kt.nodeType||b.svg(Kt)},str:function(Kt){return typeof Kt=="string"},fnc:function(Kt){return typeof Kt=="function"},und:function(Kt){return typeof Kt>"u"},hex:function(Kt){return v.test(Kt)},rgb:function(Kt){return w.test(Kt)},hsl:function(Kt){return x.test(Kt)},col:function(Kt){return b.hex(Kt)||b.rgb(Kt)||b.hsl(Kt)},key:function(Kt){return!f.hasOwnProperty(Kt)&&!M.hasOwnProperty(Kt)&&Kt!=="targets"&&Kt!=="keyframes"}},O=/\(([^)]+)\)/;function S(Kt){var le=O.exec(Kt);return le?le[1].split(",").map(function(_e){return parseFloat(_e)}):[]}function R(Kt,le){var _e=S(Kt),Ye=p(b.und(_e[0])?1:_e[0],.1,100),Le=p(b.und(_e[1])?100:_e[1],.1,100),oi=p(b.und(_e[2])?10:_e[2],.1,100),vi=p(b.und(_e[3])?0:_e[3],.1,100),an=Math.sqrt(Le/Ye),$i=oi/(2*Math.sqrt(Le*Ye)),si=$i<1?an*Math.sqrt(1-$i*$i):0,dn=1,An=$i<1?($i*an+-vi)/si:-vi+an;function On(zn){var Ln=le?le*zn/1e3:zn;return $i<1?Ln=Math.exp(-Ln*$i*an)*(dn*Math.cos(si*Ln)+An*Math.sin(si*Ln)):Ln=(dn+An*Ln)*Math.exp(-Ln*an),zn===0||zn===1?zn:1-Ln}function D9(){var zn=A.springs[Kt];if(zn)return zn;for(var Ln=1/6,u9=0,j9=0;;)if(u9+=Ln,On(u9)===1){if(j9++,j9>=16)break}else j9=0;var Ia=u9*Ln*1e3;return A.springs[Kt]=Ia,Ia}return le?On:D9}function I(Kt,le){Kt===void 0&&(Kt=1),le===void 0&&(le=.5);var _e=p(Kt,1,10),Ye=p(le,.1,2);return function(Le){return Le===0||Le===1?Le:-_e*Math.pow(2,10*(Le-1))*Math.sin((Le-1-Ye/(Math.PI*2)*Math.asin(1/_e))*(Math.PI*2)/Ye)}}function P(Kt){return Kt===void 0&&(Kt=10),function(le){return Math.round(le*Kt)*(1/Kt)}}var L=function(){var Kt=11,le=1/(Kt-1);function _e(dn,An){return 1-3*An+3*dn}function Ye(dn,An){return 3*An-6*dn}function Le(dn){return 3*dn}function oi(dn,An,On){return((_e(An,On)*dn+Ye(An,On))*dn+Le(An))*dn}function vi(dn,An,On){return 3*_e(An,On)*dn*dn+2*Ye(An,On)*dn+Le(An)}function an(dn,An,On,D9,zn){var Ln,u9,j9=0;do u9=An+(On-An)/2,Ln=oi(u9,D9,zn)-dn,Ln>0?On=u9:An=u9;while(Math.abs(Ln)>1e-7&&++j9<10);return u9}function $i(dn,An,On,D9){for(var zn=0;zn<4;++zn){var Ln=vi(An,On,D9);if(Ln===0)return An;var u9=oi(An,On,D9)-dn;An-=u9/Ln}return An}function si(dn,An,On,D9){if(!(0<=dn&&dn<=1&&0<=On&&On<=1))return;var zn=new Float32Array(Kt);if(dn!==An||On!==D9)for(var Ln=0;Ln<Kt;++Ln)zn[Ln]=oi(Ln*le,dn,On);function u9(j9){for(var Ia=0,Gi=1,Jn=Kt-1;Gi!==Jn&&zn[Gi]<=j9;++Gi)Ia+=le;--Gi;var ma=(j9-zn[Gi])/(zn[Gi+1]-zn[Gi]),p9=Ia+ma*le,st=vi(p9,dn,On);return st>=.001?$i(j9,p9,dn,On):st===0?p9:an(j9,Ia,Ia+le,dn,On)}return function(j9){return dn===An&&On===D9||j9===0||j9===1?j9:oi(u9(j9),An,D9)}}return si}(),k=function(){var Kt=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],le={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],I],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(vi,an){return function($i){return 1-I(vi,an)(1-$i)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(vi,an){return function($i){return $i<.5?I(vi,an)($i*2)/2:1-I(vi,an)($i*-2+2)/2}}]},_e={linear:[.25,.25,.75,.75]};for(var Ye in le)for(var Le=0,oi=le[Ye].length;Le<oi;Le++)_e["ease"+Ye+Kt[Le]]=le[Ye][Le];return _e}();function N(Kt,le){if(b.fnc(Kt))return Kt;var _e=Kt.split("(")[0],Ye=k[_e],Le=S(Kt);switch(_e){case"spring":return R(Kt,le);case"cubicBezier":return E(L,Le);case"steps":return E(P,Le);default:return b.fnc(Ye)?E(Ye,Le):E(L,Ye)}}function $(Kt){try{var le=document.querySelectorAll(Kt);return le}catch{return}}var H=[];function U(Kt,le){for(var _e=H,Ye=Kt.length,Le=arguments.length>=2?arguments[1]:void 0,oi=0;oi<Ye;oi++)if(oi in Kt){var vi=Kt[oi];le.call(Le,vi,oi,Kt)&&_e.push(vi)}return H=Kt,H.length=0,_e}function W(Kt,le){le||(le=[]);for(var _e=0,Ye=Kt.length;_e<Ye;_e++){var Le=Kt[_e];Array.isArray(Le)?W(Le,le):le.push(Le)}return le}function J(Kt){return b.arr(Kt)?Kt:(b.str(Kt)&&(Kt=$(Kt)||Kt),Kt instanceof NodeList||Kt instanceof HTMLCollection?[].slice.call(Kt):[Kt])}function Q(Kt,le){return Kt.some(function(_e){return _e===le})}function G(Kt){var le={};for(var _e in Kt)le[_e]=Kt[_e];return le}function z(Kt,le){var _e=G(Kt);for(var Ye in Kt)_e[Ye]=le.hasOwnProperty(Ye)?le[Ye]:Kt[Ye];return _e}function j(Kt,le){var _e=G(Kt);for(var Ye in le)_e[Ye]=b.und(Kt[Ye])?le[Ye]:Kt[Ye];return _e}var nt=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g;function tt(Kt){var le=nt.exec(Kt);return le?"rgba("+le[1]+",1)":Kt}var ht=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,pt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function gt(Kt){var le=Kt.replace(ht,function(vi,an,$i,si){return an+an+$i+$i+si+si}),_e=pt.exec(le),Ye=parseInt(_e[1],16),Le=parseInt(_e[2],16),oi=parseInt(_e[3],16);return"rgba("+Ye+","+Le+","+oi+",1)"}var Tt=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,vt=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function Ot(Kt){var le=Tt.exec(Kt)||vt.exec(Kt),_e=parseInt(le[1],10)/360,Ye=parseInt(le[2],10)/100,Le=parseInt(le[3],10)/100,oi=le[4]||1;function vi(On,D9,zn){return zn<0&&(zn+=1),zn>1&&(zn-=1),zn<.16666666666666666?On+(D9-On)*6*zn:zn<.5?D9:zn<.6666666666666666?On+(D9-On)*(.6666666666666666-zn)*6:On}var an,$i,si;if(Ye==0)an=$i=si=Le;else{var dn=Le<.5?Le*(1+Ye):Le+Ye-Le*Ye,An=2*Le-dn;an=vi(An,dn,_e+.3333333333333333),$i=vi(An,dn,_e),si=vi(An,dn,_e-.3333333333333333)}return"rgba("+an*255+","+$i*255+","+si*255+","+oi+")"}function ft(Kt){if(b.rgb(Kt))return tt(Kt);if(b.hex(Kt))return gt(Kt);if(b.hsl(Kt))return Ot(Kt)}var St=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function Mt(Kt){var le=St.exec(Kt);if(le)return le[2]}function Pt(Kt){if(y(Kt,"translate")||Kt==="perspective")return"px";if(y(Kt,"rotate")||y(Kt,"skew"))return"deg"}function Vt(Kt,le){return b.fnc(Kt)?Kt(le.target,le.id,le.total):Kt}function ie(Kt,le){return Kt.getAttribute(le)}function jt(Kt,le,_e){var Ye=Mt(le);if(Q([_e,"deg","rad","turn"],Ye))return le;var Le=A.CSS[le+_e];if(!b.und(Le))return Le;var oi=100,vi=document.createElement(Kt.tagName),an=Kt.parentNode&&Kt.parentNode!==document?Kt.parentNode:document.body;an.appendChild(vi),vi.style.position="absolute",vi.style.width=oi+_e;var $i=oi/vi.offsetWidth;an.removeChild(vi);var si=$i*parseFloat(le);return A.CSS[le+_e]=si,si}function Wt(Kt,le,_e){if(le in Kt.style){var Ye=le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Le=Kt.style[le]||getComputedStyle(Kt).getPropertyValue(Ye)||"0";return _e?jt(Kt,Le,_e):Le}}function me(Kt,le){if(b.dom(Kt)&&!b.inp(Kt)&&(ie(Kt,le)||b.svg(Kt)&&Kt[le]))return"attribute";if(b.dom(Kt)&&Q(m,le))return"transform";if(b.dom(Kt)&&le!=="transform"&&Wt(Kt,le))return"css";if(Kt[le]!=null)return"object"}var Yt=/(\w+)\(([^)]*)\)/g;function pe(Kt){if(b.dom(Kt)){for(var le=Kt.style.transform||"",_e=new Map,Ye;Ye=Yt.exec(le);)_e.set(Ye[1],Ye[2]);return _e}}function Qe(Kt,le,_e,Ye){var Le=y(le,"scale")?1:0+Pt(le),oi=pe(Kt).get(le)||Le;return _e&&(_e.transforms.list.set(le,oi),_e.transforms.last=le),Ye?jt(Kt,oi,Ye):oi}function ni(Kt,le,_e,Ye){switch(me(Kt,le)){case"transform":return Qe(Kt,le,Ye,_e);case"css":return Wt(Kt,le,_e);case"attribute":return ie(Kt,le);default:return Kt[le]||0}}var ei=/^(\*=|\+=|-=)/;function Ci(Kt,le){var _e=ei.exec(Kt);if(!_e)return Kt;var Ye=Mt(Kt)||0,Le=parseFloat(le),oi=parseFloat(Kt.replace(_e[0],""));switch(_e[0][0]){case"+":return Le+oi+Ye;case"-":return Le-oi+Ye;case"*":return Le*oi+Ye}}var ai=/\s/g;function ti(Kt,le){if(b.col(Kt))return ft(Kt);var _e=Mt(Kt),Ye=_e?Kt.substr(0,Kt.length-_e.length):Kt;return le&&!ai.test(Kt)?Ye+le:Ye}function be(Kt,le){return Math.sqrt(Math.pow(le.x-Kt.x,2)+Math.pow(le.y-Kt.y,2))}function ye(Kt){return Math.PI*2*ie(Kt,"r")}function ne(Kt){return ie(Kt,"width")*2+ie(Kt,"height")*2}function Et(Kt){return be({x:ie(Kt,"x1"),y:ie(Kt,"y1")},{x:ie(Kt,"x2"),y:ie(Kt,"y2")})}function yt(Kt){for(var le=Kt.points,_e=0,Ye,Le=0;Le<le.numberOfItems;Le++){var oi=le.getItem(Le);Le>0&&(_e+=be(Ye,oi)),Ye=oi}return _e}function Ht(Kt){var le=Kt.points;return yt(Kt)+be(le.getItem(le.numberOfItems-1),le.getItem(0))}function wt(Kt){if(Kt.getTotalLength)return Kt.getTotalLength();switch(Kt.tagName.toLowerCase()){case"circle":return ye(Kt);case"rect":return ne(Kt);case"line":return Et(Kt);case"polyline":return yt(Kt);case"polygon":return Ht(Kt)}}function xt(Kt){var le=wt(Kt);return Kt.setAttribute("stroke-dasharray",le),le}function Qt(Kt){for(var le=Kt.parentNode;b.svg(le)&&(le=le.parentNode,!!b.svg(le.parentNode)););return le}function ut(Kt,le){var _e=le||{},Ye=_e.el||Qt(Kt),Le=Ye.getBoundingClientRect(),oi=ie(Ye,"viewBox"),vi=Le.width,an=Le.height,$i=_e.viewBox||(oi?oi.split(" "):[0,0,vi,an]);return{el:Ye,viewBox:$i,x:$i[0]/1,y:$i[1]/1,w:vi/$i[2],h:an/$i[3]}}function X(Kt,le){var _e=b.str(Kt)?$(Kt)[0]:Kt,Ye=le||100;return function(Le){return{property:Le,el:_e,svg:ut(_e),totalLength:wt(_e)*(Ye/100)}}}function Z(Kt,le){function _e(an){an===void 0&&(an=0);var $i=le+an>=1?le+an:0;return Kt.el.getPointAtLength($i)}var Ye=ut(Kt.el,Kt.svg),Le=_e(),oi=_e(-1),vi=_e(1);switch(Kt.property){case"x":return(Le.x-Ye.x)*Ye.w;case"y":return(Le.y-Ye.y)*Ye.h;case"angle":return Math.atan2(vi.y-oi.y,vi.x-oi.x)*180/Math.PI}}var _t=/-?\d*\.?\d+/g;function Gt(Kt,le){var _e=ti(b.pth(Kt)?Kt.totalLength:Kt,le)+"";return{original:_e,numbers:_e.match(_t)?_e.match(_t).map(Number):[0],strings:b.str(Kt)||le?_e.split(_t):[]}}function Zt(Kt){var le=Kt?W(b.arr(Kt)?Kt.map(J):J(Kt)):[];return U(le,function(_e,Ye,Le){return Le.indexOf(_e)===Ye})}function ue(Kt){var le=Zt(Kt);return le.map(function(_e,Ye){return{target:_e,id:Ye,total:le.length,transforms:{list:pe(_e)}}})}var ve=/^spring/;function Fe(Kt,le){var _e=G(le);if(ve.test(_e.easing)&&(_e.duration=R(_e.easing)),b.arr(Kt)){var Ye=Kt.length,Le=Ye===2&&!b.obj(Kt[0]);Le?Kt={value:Kt}:b.fnc(le.duration)||(_e.duration=le.duration/Ye)}var oi=b.arr(Kt)?Kt:[Kt];return oi.map(function(vi,an){var $i=b.obj(vi)&&!b.pth(vi)?vi:{value:vi};return b.und($i.delay)&&($i.delay=an?0:le.delay),b.und($i.endDelay)&&($i.endDelay=an===oi.length-1?le.endDelay:0),$i}).map(function(vi){return j(vi,_e)})}function Je(Kt){for(var le=U(W(Kt.map(function(oi){return Object.keys(oi)})),function(oi){return b.key(oi)}).reduce(function(oi,vi){return oi.indexOf(vi)<0&&oi.push(vi),oi},[]),_e={},Ye=function(oi){var vi=le[oi];_e[vi]=Kt.map(function(an){var $i={};for(var si in an)b.key(si)?si==vi&&($i.value=an[si]):$i[si]=an[si];return $i})},Le=0;Le<le.length;Le++)Ye(Le);return _e}function ii(Kt,le){var _e=[],Ye=le.keyframes;Ye&&(le=j(Je(Ye),le));for(var Le in le)b.key(Le)&&_e.push({name:Le,tweens:Fe(le[Le],Kt)});return _e}function re(Kt,le){var _e={};for(var Ye in Kt){var Le=Vt(Kt[Ye],le);b.arr(Le)&&(Le=Le.map(function(oi){return Vt(oi,le)}),Le.length===1&&(Le=Le[0])),_e[Ye]=Le}return _e.duration=parseFloat(_e.duration),_e.delay=parseFloat(_e.delay),_e}function Mi(Kt,le){var _e;return Kt.tweens.map(function(Ye){var Le=re(Ye,le),oi=Le.value,vi=b.arr(oi)?oi[1]:oi,an=Mt(vi),$i=ni(le.target,Kt.name,an,le),si=_e?_e.to.original:$i,dn=b.arr(oi)?oi[0]:si,An=Mt(dn)||Mt($i),On=an||An;return b.und(vi)&&(vi=si),Le.from=Gt(dn,On),Le.to=Gt(Ci(vi,dn),On),Le.start=_e?_e.end:0,Le.end=Le.start+Le.delay+Le.duration+Le.endDelay,Le.easing=N(Le.easing,Le.duration),Le.isPath=b.pth(oi),Le.isColor=b.col(Le.from.original),Le.isColor&&(Le.round=1),_e=Le,Le})}var Pe={css:function(Kt,le,_e){return Kt.style[le]=_e},attribute:function(Kt,le,_e){return Kt.setAttribute(le,_e)},object:function(Kt,le,_e){return Kt[le]=_e},transform:function(Kt,le,_e,Ye,Le){if(Ye.list.set(le,_e),le===Ye.last||Le){var oi="";Ye.list.forEach(function(vi,an){oi+=an+"("+vi+") "}),Kt.style.transform=oi}}};function ke(Kt,le){for(var _e=ue(Kt),Ye=0,Le=_e.length;Ye<Le;Ye++){var oi=_e[Ye];for(var vi in le){var an=Vt(le[vi],oi),$i=oi.target,si=Mt(an),dn=ni($i,vi,si,oi),An=si||Mt(dn),On=Ci(ti(an,An),dn),D9=me($i,vi);Pe[D9]($i,vi,On,oi.transforms,!0)}}}function we(Kt,le){var _e=me(Kt.target,le.name);if(_e){var Ye=Mi(le,Kt),Le=Ye[Ye.length-1];return{type:_e,property:le.name,animatable:Kt,tweens:Ye,duration:Le.end,delay:Ye[0].delay,endDelay:Le.endDelay}}}function Ii(Kt,le){return U(W(Kt.map(function(_e){return le.map(function(Ye){return we(_e,Ye)})})),function(_e){return!b.und(_e)})}function wn(Kt,le){var _e=Kt.length,Ye=function(oi){return oi.timelineOffset?oi.timelineOffset:0},Le={};return Le.duration=_e?Math.max.apply(Math,Kt.map(function(oi){return Ye(oi)+oi.duration})):le.duration,Le.delay=_e?Math.min.apply(Math,Kt.map(function(oi){return Ye(oi)+oi.delay})):le.delay,Le.endDelay=_e?Le.duration-Math.max.apply(Math,Kt.map(function(oi){return Ye(oi)+oi.duration-oi.endDelay})):le.endDelay,Le}var Ke=0;function yn(Kt){var le=z(f,Kt),_e=z(M,Kt),Ye=ii(_e,Kt),Le=ue(Kt.targets),oi=Ii(Le,Ye),vi=wn(oi,_e),an=Ke;return Ke++,j(le,{id:an,children:[],animatables:Le,animations:oi,duration:vi.duration,delay:vi.delay,endDelay:vi.endDelay})}var Be=[],En=[],bi,on=function(){function Kt(){bi=requestAnimationFrame(le)}function le(_e){var Ye=Be.length;if(Ye){for(var Le=0;Le<Ye;){var oi=Be[Le];if(!oi.paused)oi.tick(_e);else{var vi=Be.indexOf(oi);vi>-1&&(Be.splice(vi,1),Ye=Be.length)}Le++}Kt()}else bi=cancelAnimationFrame(bi)}return Kt}();function $n(){if(document.hidden){for(var Kt=0,le=Be.length;Kt<le;Kt++)activeInstance[Kt].pause();En=Be.slice(0),Be=[]}else for(var _e=0,Ye=En.length;_e<Ye;_e++)En[_e].play()}document.addEventListener("visibilitychange",$n);function Pn(Kt){Kt===void 0&&(Kt={});var le=0,_e=0,Ye=0,Le,oi=0,vi=null;function an(){return window.Promise&&new Promise(function(Gi){return vi=Gi})}var $i=an(),si=yn(Kt);function dn(){si.reversed=!si.reversed;for(var Gi=0,Jn=Le.length;Gi<Jn;Gi++)Le[Gi].reversed=si.reversed}function An(Gi){return si.reversed?si.duration-Gi:Gi}function On(){le=0,_e=An(si.currentTime)*(1/Pn.speed)}function D9(Gi,Jn){Jn&&Jn.seek(Gi-Jn.timelineOffset)}function zn(Gi){if(si.reversePlayback)for(var ma=oi;ma--;)D9(Gi,Le[ma]);else for(var Jn=0;Jn<oi;Jn++)D9(Gi,Le[Jn])}function Ln(Gi){for(var Jn=0,ma=si.animations,p9=ma.length;Jn<p9;){var st=ma[Jn],mt=st.animatable,It=st.tweens,$t=It.length-1,qt=It[$t];$t&&(qt=U(It,function(oa){return Gi<oa.end})[0]||qt);for(var ge=p(Gi-qt.start-qt.delay,0,qt.duration)/qt.duration,Ee=isNaN(ge)?1:qt.easing(ge),di=qt.to.strings,ci=qt.round,Te=[],qe=qt.to.numbers.length,yi=void 0,zi=0;zi<qe;zi++){var sn=void 0,vn=qt.to.numbers[zi],Gn=qt.from.numbers[zi]||0;qt.isPath?sn=Z(qt.value,Ee*vn):sn=Gn+Ee*(vn-Gn),ci&&(qt.isColor&&zi>2||(sn=Math.round(sn*ci)/ci)),Te.push(sn)}var Tn=di.length;if(!Tn)yi=Te[0];else{yi=di[0];for(var _n=0;_n<Tn;_n++){di[_n];var A9=di[_n+1],P9=Te[_n];isNaN(P9)||(A9?yi+=P9+A9:yi+=P9+" ")}}Pe[st.type](mt.target,st.property,yi,mt.transforms),st.currentValue=yi,Jn++}}function u9(Gi){si[Gi]&&!si.passThrough&&si[Gi](si)}function j9(){si.remaining&&si.remaining!==!0&&si.remaining--}function Ia(Gi){var Jn=si.duration,ma=si.delay,p9=Jn-si.endDelay,st=An(Gi);si.progress=p(st/Jn*100,0,100),si.reversePlayback=st<si.currentTime,Le&&zn(st),!si.began&&si.currentTime>0&&(si.began=!0,u9("begin"),u9("loopBegin")),st<=ma&&si.currentTime!==0&&Ln(0),(st>=p9&&si.currentTime!==Jn||!Jn)&&Ln(Jn),st>ma&&st<p9?(si.changeBegan||(si.changeBegan=!0,si.changeCompleted=!1,u9("changeBegin")),u9("change"),Ln(st)):si.changeBegan&&(si.changeCompleted=!0,si.changeBegan=!1,u9("changeComplete")),si.currentTime=p(st,0,Jn),si.began&&u9("update"),Gi>=Jn&&(_e=0,j9(),si.remaining?(le=Ye,u9("loopComplete"),u9("loopBegin"),si.direction==="alternate"&&dn()):(si.paused=!0,si.completed||(si.completed=!0,u9("loopComplete"),u9("complete"),"Promise"in window&&(vi(),$i=an()))))}return si.reset=function(){var Gi=si.direction;si.passThrough=!1,si.currentTime=0,si.progress=0,si.paused=!0,si.began=!1,si.changeBegan=!1,si.completed=!1,si.changeCompleted=!1,si.reversePlayback=!1,si.reversed=Gi==="reverse",si.remaining=si.loop,Le=si.children,oi=Le.length;for(var Jn=oi;Jn--;)si.children[Jn].reset();(si.reversed&&si.loop!==!0||Gi==="alternate"&&si.loop===1)&&si.remaining++,Ln(0)},si.set=function(Gi,Jn){return ke(Gi,Jn),si},si.tick=function(Gi){Ye=Gi,le||(le=Ye),Ia((Ye+(_e-le))*Pn.speed)},si.seek=function(Gi){Ia(An(Gi))},si.pause=function(){si.paused=!0,On()},si.play=function(){si.paused&&(si.paused=!1,Be.push(si),On(),bi||on())},si.reverse=function(){dn(),On()},si.restart=function(){si.reset(),si.play()},si.finished=$i,si.reset(),si.autoplay&&si.play(),si}function M9(Kt,le){for(var _e=le.length;_e--;)Q(Kt,le[_e].animatable.target)&&le.splice(_e,1)}function qa(Kt){for(var le=Zt(Kt),_e=Be.length;_e--;){var Ye=Be[_e],Le=Ye.animations,oi=Ye.children;M9(le,Le);for(var vi=oi.length;vi--;){var an=oi[vi],$i=an.animations;M9(le,$i),!$i.length&&!an.children.length&&oi.splice(vi,1)}!Le.length&&!oi.length&&Ye.pause()}}function va(Kt,le){le===void 0&&(le={});var _e=le.direction||"normal",Ye=le.easing?N(le.easing):null,Le=le.grid,oi=le.axis,vi=le.from||0,an=vi==="first",$i=vi==="center",si=vi==="last",dn=b.arr(Kt),An=parseFloat(dn?Kt[0]:Kt),On=dn?parseFloat(Kt[1]):0,D9=Mt(dn?Kt[1]:Kt)||0,zn=le.start||0+(dn?An:0),Ln=[],u9=0;return function(j9,Ia,Gi){if(an&&(vi=0),$i&&(vi=(Gi-1)/2),si&&(vi=Gi-1),!Ln.length){for(var Jn=0;Jn<Gi;Jn++){if(!Le)Ln.push(Math.abs(vi-Jn));else{var ma=$i?(Le[0]-1)/2:vi%Le[0],p9=$i?(Le[1]-1)/2:Math.floor(vi/Le[0]),st=Jn%Le[0],mt=Math.floor(Jn/Le[0]),It=ma-st,$t=p9-mt,qt=Math.sqrt(It*It+$t*$t);oi==="x"&&(qt=-It),oi==="y"&&(qt=-$t),Ln.push(qt)}u9=Math.max.apply(Math,Ln)}Ye&&(Ln=Ln.map(function(Ee){return Ye(Ee/u9)*u9})),_e==="reverse"&&(Ln=Ln.map(function(Ee){return oi?Ee<0?Ee*-1:-Ee:Math.abs(u9-Ee)}))}var ge=dn?(On-An)/u9:An;return zn+ge*(Math.round(Ln[Ia]*100)/100)+D9}}function hr(Kt){Kt===void 0&&(Kt={});var le=Pn(Kt);return le.duration=0,le.add=function(_e,Ye){var Le=Be.indexOf(le),oi=le.children;Le>-1&&Be.splice(Le,1);function vi(On){On.passThrough=!0}for(var an=0;an<oi.length;an++)vi(oi[an]);var $i=j(_e,z(M,Kt));$i.targets=$i.targets||Kt.targets;var si=le.duration;$i.autoplay=!1,$i.direction=le.direction,$i.timelineOffset=b.und(Ye)?si:Ci(Ye,si),vi(le),le.seek($i.timelineOffset);var dn=Pn($i);vi(dn),oi.push(dn);var An=wn(oi,Kt);return le.delay=An.delay,le.endDelay=An.endDelay,le.duration=An.duration,le.seek(0),le.reset(),le.autoplay&&le.play(),le},le}Pn.version="3.0.0",Pn.speed=1,Pn.running=Be,Pn.remove=qa,Pn.get=ni,Pn.set=ke,Pn.convertPx=jt,Pn.path=X,Pn.setDashoffset=xt,Pn.stagger=va,Pn.timeline=hr,Pn.easing=N,Pn.penner=k,Pn.random=function(Kt,le){return Math.floor(Math.random()*(le-Kt+1))+Kt};const ka=Pn},"./node_modules/three-bmfont-text/index.js":(u,d,c)=>{var f=c("./node_modules/layout-bmfont-text/index.js"),M=c("./node_modules/quad-indices/index.js"),m=c("./node_modules/three-bmfont-text/lib/vertices.js"),A=c("./node_modules/three-bmfont-text/lib/utils.js");u.exports=function(E){return new p(E)};class p extends THREE.BufferGeometry{constructor(E){super(),typeof E=="string"&&(E={text:E}),this._opt=Object.assign({},E),E&&this.update(E)}update(E){if(typeof E=="string"&&(E={text:E}),E=Object.assign({},this._opt,E),!E.font)throw new TypeError("must specify a { font } in options");this.layout=f(E);var v=E.flipY!==!1,w=E.font,x=w.common.scaleW,b=w.common.scaleH,O=this.layout.glyphs.filter(function(L){var k=L.data;return k.width*k.height>0});this.visibleGlyphs=O;var S=m.positions(O),R=m.uvs(O,x,b,v),I=M([],{clockwise:!0,type:"uint16",count:O.length});if(this.setIndex(I),this.setAttribute("position",new THREE.BufferAttribute(S,2)),this.setAttribute("uv",new THREE.BufferAttribute(R,2)),!E.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(E.multipage){var P=m.pages(O);this.setAttribute("page",new THREE.BufferAttribute(P,1))}this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere()}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new THREE.Sphere);var E=this.attributes.position.array,v=this.attributes.position.itemSize;if(!E||!v||E.length<2){this.boundingSphere.radius=0,this.boundingSphere.center.set(0,0,0);return}A.computeSphere(E,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new THREE.Box3);var E=this.boundingBox,v=this.attributes.position.array,w=this.attributes.position.itemSize;if(!v||!w||v.length<2){E.makeEmpty();return}A.computeBox(v,E)}}},"./node_modules/three-bmfont-text/lib/utils.js":u=>{var d=2,c={min:[0,0],max:[0,0]};function f(M){var m=M.length/d;c.min[0]=M[0],c.min[1]=M[1],c.max[0]=M[0],c.max[1]=M[1];for(var A=0;A<m;A++){var p=M[A*d+0],y=M[A*d+1];c.min[0]=Math.min(p,c.min[0]),c.min[1]=Math.min(y,c.min[1]),c.max[0]=Math.max(p,c.max[0]),c.max[1]=Math.max(y,c.max[1])}}u.exports.computeBox=function(M,m){f(M),m.min.set(c.min[0],c.min[1],0),m.max.set(c.max[0],c.max[1],0)},u.exports.computeSphere=function(M,m){f(M);var A=c.min[0],p=c.min[1],y=c.max[0],E=c.max[1],v=y-A,w=E-p,x=Math.sqrt(v*v+w*w);m.center.set(A+v/2,p+w/2,0),m.radius=x/2}},"./node_modules/three-bmfont-text/lib/vertices.js":u=>{u.exports.pages=function(c){var f=new Float32Array(c.length*4*1),M=0;return c.forEach(function(m){var A=m.data.page||0;f[M++]=A,f[M++]=A,f[M++]=A,f[M++]=A}),f},u.exports.uvs=function(c,f,M,m){var A=new Float32Array(c.length*4*2),p=0;return c.forEach(function(y){var E=y.data,v=E.x+E.width,w=E.y+E.height,x=E.x/f,b=E.y/M,O=v/f,S=w/M;m&&(b=(M-E.y)/M,S=(M-w)/M),A[p++]=x,A[p++]=b,A[p++]=x,A[p++]=S,A[p++]=O,A[p++]=S,A[p++]=O,A[p++]=b}),A},u.exports.positions=function(c){var f=new Float32Array(c.length*4*2),M=0;return c.forEach(function(m){var A=m.data,p=m.position[0]+A.xoffset,y=m.position[1]+A.yoffset,E=A.width,v=A.height;f[M++]=p,f[M++]=y,f[M++]=p,f[M++]=y+v,f[M++]=p+E,f[M++]=y+v,f[M++]=p+E,f[M++]=y}),f}},"./node_modules/webvr-polyfill/build/webvr-polyfill.js":function(u,d,c){/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(f,M){u.exports=M()})(this,function(){var f=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{};function M(I){return I&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I}function m(I,P){return P={exports:{}},I(P,P.exports),P.exports}var A=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},p=function(P,L){for(var k=0,N=P.length;k<N;k++)L[k]=P[k]},y=function(P,L){for(var k in L)L.hasOwnProperty(k)&&(P[k]=L[k]);return P},E=m(function(I,P){/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * gl-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * webvr-polyfill-dpdb
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(L,k){I.exports=k()})(f,function(){var L=function(st,mt){if(!(st instanceof mt))throw new TypeError("Cannot call a class as a function")},k=function(){function st(mt,It){for(var $t=0;$t<It.length;$t++){var qt=It[$t];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(mt,qt.key,qt)}}return function(mt,It,$t){return It&&st(mt.prototype,It),$t&&st(mt,$t),mt}}(),N=function(){function st(mt,It){var $t=[],qt=!0,ge=!1,Ee=void 0;try{for(var di=mt[Symbol.iterator](),ci;!(qt=(ci=di.next()).done)&&($t.push(ci.value),!(It&&$t.length===It));qt=!0);}catch(Te){ge=!0,Ee=Te}finally{try{!qt&&di.return&&di.return()}finally{if(ge)throw Ee}}return $t}return function(mt,It){if(Array.isArray(mt))return mt;if(Symbol.iterator in Object(mt))return st(mt,It);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=.001,H=1,U=function(mt,It){return"data:"+mt+","+encodeURIComponent(It)},W=function(mt,It,$t){return mt+(It-mt)*$t},J=function(){var st=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return st}}(),Q=function(){var st=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return st}}(),G=function(){var st=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return st}}(),z=function(){var st=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return st}}(),j=function(){var st=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),mt=st?parseInt(st[1],10):null;return function(){return mt}}(),nt=function(){var st=!1;return st=J()&&G()&&navigator.userAgent.indexOf("13_4")!==-1,function(){return st}}(),tt=function(){var st=!1;if(j()===65){var mt=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(mt){var It=mt[1].split("."),$t=N(It,4);$t[0],$t[1];var qt=$t[2],ge=$t[3];st=parseInt(qt,10)===3325&&parseInt(ge,10)<148}}return function(){return st}}(),ht=function(){var st=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return st}}(),pt=function(){var mt=window.orientation==90||window.orientation==-90;return ht()?!mt:mt},gt=function(mt){return!(isNaN(mt)||mt<=$||mt>H)},Tt=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},vt=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},Ot=function(mt){if(Q())return!1;if(mt.requestFullscreen)mt.requestFullscreen();else if(mt.webkitRequestFullscreen)mt.webkitRequestFullscreen();else if(mt.mozRequestFullScreen)mt.mozRequestFullScreen();else if(mt.msRequestFullscreen)mt.msRequestFullscreen();else return!1;return!0},ft=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},St=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},Mt=function(mt,It,$t,qt){var ge=mt.createShader(mt.VERTEX_SHADER);mt.shaderSource(ge,It),mt.compileShader(ge);var Ee=mt.createShader(mt.FRAGMENT_SHADER);mt.shaderSource(Ee,$t),mt.compileShader(Ee);var di=mt.createProgram();mt.attachShader(di,ge),mt.attachShader(di,Ee);for(var ci in qt)mt.bindAttribLocation(di,qt[ci],ci);return mt.linkProgram(di),mt.deleteShader(ge),mt.deleteShader(Ee),di},Pt=function(mt,It){for(var $t={},qt=mt.getProgramParameter(It,mt.ACTIVE_UNIFORMS),ge="",Ee=0;Ee<qt;Ee++){var di=mt.getActiveUniform(It,Ee);ge=di.name.replace("[0]",""),$t[ge]=mt.getUniformLocation(It,ge)}return $t},Vt=function(mt,It,$t,qt,ge,Ee,di){var ci=1/(It-$t),Te=1/(qt-ge),qe=1/(Ee-di);return mt[0]=-2*ci,mt[1]=0,mt[2]=0,mt[3]=0,mt[4]=0,mt[5]=-2*Te,mt[6]=0,mt[7]=0,mt[8]=0,mt[9]=0,mt[10]=2*qe,mt[11]=0,mt[12]=(It+$t)*ci,mt[13]=(ge+qt)*Te,mt[14]=(di+Ee)*qe,mt[15]=1,mt},ie=function(){var mt=!1;return function(It){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(It)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(It.substr(0,4)))&&(mt=!0)}(navigator.userAgent||navigator.vendor||window.opera),mt},jt=function(mt,It){for(var $t in It)It.hasOwnProperty($t)&&(mt[$t]=It[$t]);return mt},Wt=function(mt){if(J()){var It=mt.style.width,$t=mt.style.height;mt.style.width=parseInt(It)+1+"px",mt.style.height=parseInt($t)+"px",setTimeout(function(){mt.style.width=It,mt.style.height=$t},100)}window.canvas=mt},me=function(){var st=Math.PI/180,mt=Math.PI*.25;function It(Te,qe,yi,zi){var sn=Math.tan(qe?qe.upDegrees*st:mt),vn=Math.tan(qe?qe.downDegrees*st:mt),Gn=Math.tan(qe?qe.leftDegrees*st:mt),Tn=Math.tan(qe?qe.rightDegrees*st:mt),_n=2/(Gn+Tn),A9=2/(sn+vn);return Te[0]=_n,Te[1]=0,Te[2]=0,Te[3]=0,Te[4]=0,Te[5]=A9,Te[6]=0,Te[7]=0,Te[8]=-((Gn-Tn)*_n*.5),Te[9]=(sn-vn)*A9*.5,Te[10]=zi/(yi-zi),Te[11]=-1,Te[12]=0,Te[13]=0,Te[14]=zi*yi/(yi-zi),Te[15]=0,Te}function $t(Te,qe,yi){var zi=qe[0],sn=qe[1],vn=qe[2],Gn=qe[3],Tn=zi+zi,_n=sn+sn,A9=vn+vn,P9=zi*Tn,oa=zi*_n,W9=zi*A9,Ba=sn*_n,Ra=sn*A9,Da=vn*A9,Na=Gn*Tn,pa=Gn*_n,Za=Gn*A9;return Te[0]=1-(Ba+Da),Te[1]=oa+Za,Te[2]=W9-pa,Te[3]=0,Te[4]=oa-Za,Te[5]=1-(P9+Da),Te[6]=Ra+Na,Te[7]=0,Te[8]=W9+pa,Te[9]=Ra-Na,Te[10]=1-(P9+Ba),Te[11]=0,Te[12]=yi[0],Te[13]=yi[1],Te[14]=yi[2],Te[15]=1,Te}function qt(Te,qe,yi){var zi=yi[0],sn=yi[1],vn=yi[2],Gn,Tn,_n,A9,P9,oa,W9,Ba,Ra,Da,Na,pa;return qe===Te?(Te[12]=qe[0]*zi+qe[4]*sn+qe[8]*vn+qe[12],Te[13]=qe[1]*zi+qe[5]*sn+qe[9]*vn+qe[13],Te[14]=qe[2]*zi+qe[6]*sn+qe[10]*vn+qe[14],Te[15]=qe[3]*zi+qe[7]*sn+qe[11]*vn+qe[15]):(Gn=qe[0],Tn=qe[1],_n=qe[2],A9=qe[3],P9=qe[4],oa=qe[5],W9=qe[6],Ba=qe[7],Ra=qe[8],Da=qe[9],Na=qe[10],pa=qe[11],Te[0]=Gn,Te[1]=Tn,Te[2]=_n,Te[3]=A9,Te[4]=P9,Te[5]=oa,Te[6]=W9,Te[7]=Ba,Te[8]=Ra,Te[9]=Da,Te[10]=Na,Te[11]=pa,Te[12]=Gn*zi+P9*sn+Ra*vn+qe[12],Te[13]=Tn*zi+oa*sn+Da*vn+qe[13],Te[14]=_n*zi+W9*sn+Na*vn+qe[14],Te[15]=A9*zi+Ba*sn+pa*vn+qe[15]),Te}function ge(Te,qe){var yi=qe[0],zi=qe[1],sn=qe[2],vn=qe[3],Gn=qe[4],Tn=qe[5],_n=qe[6],A9=qe[7],P9=qe[8],oa=qe[9],W9=qe[10],Ba=qe[11],Ra=qe[12],Da=qe[13],Na=qe[14],pa=qe[15],Za=yi*Tn-zi*Gn,a0=yi*_n-sn*Gn,v0=yi*A9-vn*Gn,U0=zi*_n-sn*Tn,jo=zi*A9-vn*Tn,Wo=sn*A9-vn*_n,Ko=P9*Da-oa*Ra,fo=P9*Na-W9*Ra,mo=P9*pa-Ba*Ra,vr=oa*Na-W9*Da,po=oa*pa-Ba*Da,fr=W9*pa-Ba*Na,y9=Za*fr-a0*po+v0*vr+U0*mo-jo*fo+Wo*Ko;return y9?(y9=1/y9,Te[0]=(Tn*fr-_n*po+A9*vr)*y9,Te[1]=(sn*po-zi*fr-vn*vr)*y9,Te[2]=(Da*Wo-Na*jo+pa*U0)*y9,Te[3]=(W9*jo-oa*Wo-Ba*U0)*y9,Te[4]=(_n*mo-Gn*fr-A9*fo)*y9,Te[5]=(yi*fr-sn*mo+vn*fo)*y9,Te[6]=(Na*v0-Ra*Wo-pa*a0)*y9,Te[7]=(P9*Wo-W9*v0+Ba*a0)*y9,Te[8]=(Gn*po-Tn*mo+A9*Ko)*y9,Te[9]=(zi*mo-yi*po-vn*Ko)*y9,Te[10]=(Ra*jo-Da*v0+pa*Za)*y9,Te[11]=(oa*v0-P9*jo-Ba*Za)*y9,Te[12]=(Tn*fo-Gn*vr-_n*Ko)*y9,Te[13]=(yi*vr-zi*fo+sn*Ko)*y9,Te[14]=(Da*a0-Ra*U0-Na*Za)*y9,Te[15]=(P9*U0-oa*a0+W9*Za)*y9,Te):null}var Ee=new Float32Array([0,0,0,1]),di=new Float32Array([0,0,0]);function ci(Te,qe,yi,zi,sn,vn){It(Te,zi||null,vn.depthNear,vn.depthFar);var Gn=yi.orientation||Ee,Tn=yi.position||di;$t(qe,Gn,Tn),sn&&qt(qe,qe,sn),ge(qe,qe)}return function(Te,qe,yi){return!Te||!qe?!1:(Te.pose=qe,Te.timestamp=qe.timestamp,ci(Te.leftProjectionMatrix,Te.leftViewMatrix,qe,yi._getFieldOfView("left"),yi._getEyeOffset("left"),yi),ci(Te.rightProjectionMatrix,Te.rightViewMatrix,qe,yi._getFieldOfView("right"),yi._getEyeOffset("right"),yi),!0)}}(),Yt=function(){var mt=window.self!==window.top,It=pe(document.referrer),$t=pe(window.location.href);return mt&&It!==$t},pe=function(mt){var It,$t=mt.indexOf("://");$t!==-1?It=$t+3:It=0;var qt=mt.indexOf("/",It);return qt===-1&&(qt=mt.length),mt.substring(0,qt)},Qe=function(mt){if(mt.w>1)return console.warn("getQuaternionAngle: w > 1"),0;var It=2*Math.acos(mt.w);return It},ni=function(){var st={};return function(mt,It){st[mt]===void 0&&(console.warn("webvr-polyfill: "+It),st[mt]=!0)}}(),ei=function(mt,It){var $t=It?"Please use "+It+" instead.":"";ni(mt,mt+" has been deprecated. This may not work on native WebVR displays. "+$t)};function Ci(st,mt,It){if(!mt){It(st);return}for(var $t=[],qt=null,ge=0;ge<mt.length;++ge){var Ee=mt[ge];switch(Ee){case st.TEXTURE_BINDING_2D:case st.TEXTURE_BINDING_CUBE_MAP:var di=mt[++ge];if(di<st.TEXTURE0||di>st.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),$t.push(null,null);break}qt||(qt=st.getParameter(st.ACTIVE_TEXTURE)),st.activeTexture(di),$t.push(st.getParameter(Ee),null);break;case st.ACTIVE_TEXTURE:qt=st.getParameter(st.ACTIVE_TEXTURE),$t.push(null);break;default:$t.push(st.getParameter(Ee));break}}It(st);for(var ge=0;ge<mt.length;++ge){var Ee=mt[ge],ci=$t[ge];switch(Ee){case st.ACTIVE_TEXTURE:break;case st.ARRAY_BUFFER_BINDING:st.bindBuffer(st.ARRAY_BUFFER,ci);break;case st.COLOR_CLEAR_VALUE:st.clearColor(ci[0],ci[1],ci[2],ci[3]);break;case st.COLOR_WRITEMASK:st.colorMask(ci[0],ci[1],ci[2],ci[3]);break;case st.CURRENT_PROGRAM:st.useProgram(ci);break;case st.ELEMENT_ARRAY_BUFFER_BINDING:st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,ci);break;case st.FRAMEBUFFER_BINDING:st.bindFramebuffer(st.FRAMEBUFFER,ci);break;case st.RENDERBUFFER_BINDING:st.bindRenderbuffer(st.RENDERBUFFER,ci);break;case st.TEXTURE_BINDING_2D:var di=mt[++ge];if(di<st.TEXTURE0||di>st.TEXTURE31)break;st.activeTexture(di),st.bindTexture(st.TEXTURE_2D,ci);break;case st.TEXTURE_BINDING_CUBE_MAP:var di=mt[++ge];if(di<st.TEXTURE0||di>st.TEXTURE31)break;st.activeTexture(di),st.bindTexture(st.TEXTURE_CUBE_MAP,ci);break;case st.VIEWPORT:st.viewport(ci[0],ci[1],ci[2],ci[3]);break;case st.BLEND:case st.CULL_FACE:case st.DEPTH_TEST:case st.SCISSOR_TEST:case st.STENCIL_TEST:ci?st.enable(Ee):st.disable(Ee);break;default:console.log("No GL restore behavior for 0x"+Ee.toString(16));break}qt&&st.activeTexture(qt)}}var ai=Ci,ti=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join(`
`),be=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join(`
`);function ye(st,mt,It,$t){this.gl=st,this.cardboardUI=mt,this.bufferScale=It,this.dirtySubmitFrameBindings=$t,this.ctxAttribs=st.getContextAttributes(),this.instanceExt=st.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=st.drawingBufferWidth,this.bufferHeight=st.drawingBufferHeight,this.realBindFramebuffer=st.bindFramebuffer,this.realEnable=st.enable,this.realDisable=st.disable,this.realColorMask=st.colorMask,this.realClearColor=st.clearColor,this.realViewport=st.viewport,J()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(st.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(st.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=Mt(st,ti,be,this.attribs),this.uniforms=Pt(st,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=st.createBuffer(),this.indexBuffer=st.createBuffer(),this.indexCount=0,this.renderTarget=st.createTexture(),this.framebuffer=st.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=st.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=st.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=st.createRenderbuffer()),this.patch(),this.onResize()}ye.prototype.destroy=function(){var st=this.gl;this.unpatch(),st.deleteProgram(this.program),st.deleteBuffer(this.vertexBuffer),st.deleteBuffer(this.indexBuffer),st.deleteTexture(this.renderTarget),st.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&st.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&st.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&st.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},ye.prototype.onResize=function(){var st=this.gl,mt=this,It=[st.RENDERBUFFER_BINDING,st.TEXTURE_BINDING_2D,st.TEXTURE0];ai(st,It,function($t){mt.realBindFramebuffer.call($t,$t.FRAMEBUFFER,null),mt.scissorTest&&mt.realDisable.call($t,$t.SCISSOR_TEST),mt.realColorMask.call($t,!0,!0,!0,!0),mt.realViewport.call($t,0,0,$t.drawingBufferWidth,$t.drawingBufferHeight),mt.realClearColor.call($t,0,0,0,1),$t.clear($t.COLOR_BUFFER_BIT),mt.realBindFramebuffer.call($t,$t.FRAMEBUFFER,mt.framebuffer),$t.bindTexture($t.TEXTURE_2D,mt.renderTarget),$t.texImage2D($t.TEXTURE_2D,0,mt.ctxAttribs.alpha?$t.RGBA:$t.RGB,mt.bufferWidth,mt.bufferHeight,0,mt.ctxAttribs.alpha?$t.RGBA:$t.RGB,$t.UNSIGNED_BYTE,null),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_MAG_FILTER,$t.LINEAR),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_MIN_FILTER,$t.LINEAR),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_WRAP_S,$t.CLAMP_TO_EDGE),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_WRAP_T,$t.CLAMP_TO_EDGE),$t.framebufferTexture2D($t.FRAMEBUFFER,$t.COLOR_ATTACHMENT0,$t.TEXTURE_2D,mt.renderTarget,0),mt.ctxAttribs.depth&&mt.ctxAttribs.stencil?($t.bindRenderbuffer($t.RENDERBUFFER,mt.depthStencilBuffer),$t.renderbufferStorage($t.RENDERBUFFER,$t.DEPTH_STENCIL,mt.bufferWidth,mt.bufferHeight),$t.framebufferRenderbuffer($t.FRAMEBUFFER,$t.DEPTH_STENCIL_ATTACHMENT,$t.RENDERBUFFER,mt.depthStencilBuffer)):mt.ctxAttribs.depth?($t.bindRenderbuffer($t.RENDERBUFFER,mt.depthBuffer),$t.renderbufferStorage($t.RENDERBUFFER,$t.DEPTH_COMPONENT16,mt.bufferWidth,mt.bufferHeight),$t.framebufferRenderbuffer($t.FRAMEBUFFER,$t.DEPTH_ATTACHMENT,$t.RENDERBUFFER,mt.depthBuffer)):mt.ctxAttribs.stencil&&($t.bindRenderbuffer($t.RENDERBUFFER,mt.stencilBuffer),$t.renderbufferStorage($t.RENDERBUFFER,$t.STENCIL_INDEX8,mt.bufferWidth,mt.bufferHeight),$t.framebufferRenderbuffer($t.FRAMEBUFFER,$t.STENCIL_ATTACHMENT,$t.RENDERBUFFER,mt.stencilBuffer)),!$t.checkFramebufferStatus($t.FRAMEBUFFER)===$t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),mt.realBindFramebuffer.call($t,$t.FRAMEBUFFER,mt.lastBoundFramebuffer),mt.scissorTest&&mt.realEnable.call($t,$t.SCISSOR_TEST),mt.realColorMask.apply($t,mt.colorMask),mt.realViewport.apply($t,mt.viewport),mt.realClearColor.apply($t,mt.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},ye.prototype.patch=function(){if(!this.isPatched){var st=this,mt=this.gl.canvas,It=this.gl;J()||(mt.width=Tt()*this.bufferScale,mt.height=vt()*this.bufferScale,Object.defineProperty(mt,"width",{configurable:!0,enumerable:!0,get:function(){return st.bufferWidth},set:function(qt){st.bufferWidth=qt,st.realCanvasWidth.set.call(mt,qt),st.onResize()}}),Object.defineProperty(mt,"height",{configurable:!0,enumerable:!0,get:function(){return st.bufferHeight},set:function(qt){st.bufferHeight=qt,st.realCanvasHeight.set.call(mt,qt),st.onResize()}})),this.lastBoundFramebuffer=It.getParameter(It.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(It.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function($t,qt){st.lastBoundFramebuffer=qt||st.framebuffer,st.realBindFramebuffer.call(It,$t,st.lastBoundFramebuffer)},this.cullFace=It.getParameter(It.CULL_FACE),this.depthTest=It.getParameter(It.DEPTH_TEST),this.blend=It.getParameter(It.BLEND),this.scissorTest=It.getParameter(It.SCISSOR_TEST),this.stencilTest=It.getParameter(It.STENCIL_TEST),It.enable=function($t){switch($t){case It.CULL_FACE:st.cullFace=!0;break;case It.DEPTH_TEST:st.depthTest=!0;break;case It.BLEND:st.blend=!0;break;case It.SCISSOR_TEST:st.scissorTest=!0;break;case It.STENCIL_TEST:st.stencilTest=!0;break}st.realEnable.call(It,$t)},It.disable=function($t){switch($t){case It.CULL_FACE:st.cullFace=!1;break;case It.DEPTH_TEST:st.depthTest=!1;break;case It.BLEND:st.blend=!1;break;case It.SCISSOR_TEST:st.scissorTest=!1;break;case It.STENCIL_TEST:st.stencilTest=!1;break}st.realDisable.call(It,$t)},this.colorMask=It.getParameter(It.COLOR_WRITEMASK),It.colorMask=function($t,qt,ge,Ee){st.colorMask[0]=$t,st.colorMask[1]=qt,st.colorMask[2]=ge,st.colorMask[3]=Ee,st.realColorMask.call(It,$t,qt,ge,Ee)},this.clearColor=It.getParameter(It.COLOR_CLEAR_VALUE),It.clearColor=function($t,qt,ge,Ee){st.clearColor[0]=$t,st.clearColor[1]=qt,st.clearColor[2]=ge,st.clearColor[3]=Ee,st.realClearColor.call(It,$t,qt,ge,Ee)},this.viewport=It.getParameter(It.VIEWPORT),It.viewport=function($t,qt,ge,Ee){st.viewport[0]=$t,st.viewport[1]=qt,st.viewport[2]=ge,st.viewport[3]=Ee,st.realViewport.call(It,$t,qt,ge,Ee)},this.isPatched=!0,Wt(mt)}},ye.prototype.unpatch=function(){if(this.isPatched){var st=this.gl,mt=this.gl.canvas;J()||(Object.defineProperty(mt,"width",this.realCanvasWidth),Object.defineProperty(mt,"height",this.realCanvasHeight)),mt.width=this.bufferWidth,mt.height=this.bufferHeight,st.bindFramebuffer=this.realBindFramebuffer,st.enable=this.realEnable,st.disable=this.realDisable,st.colorMask=this.realColorMask,st.clearColor=this.realClearColor,st.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&st.bindFramebuffer(st.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){Wt(mt)},1)}},ye.prototype.setTextureBounds=function(st,mt){st||(st=[0,0,.5,1]),mt||(mt=[.5,0,.5,1]),this.viewportOffsetScale[0]=st[0],this.viewportOffsetScale[1]=st[1],this.viewportOffsetScale[2]=st[2],this.viewportOffsetScale[3]=st[3],this.viewportOffsetScale[4]=mt[0],this.viewportOffsetScale[5]=mt[1],this.viewportOffsetScale[6]=mt[2],this.viewportOffsetScale[7]=mt[3]},ye.prototype.submitFrame=function(){var st=this.gl,mt=this,It=[];if(this.dirtySubmitFrameBindings||It.push(st.CURRENT_PROGRAM,st.ARRAY_BUFFER_BINDING,st.ELEMENT_ARRAY_BUFFER_BINDING,st.TEXTURE_BINDING_2D,st.TEXTURE0),ai(st,It,function(qt){mt.realBindFramebuffer.call(qt,qt.FRAMEBUFFER,null);var ge=0,Ee=0;mt.instanceExt&&(ge=qt.getVertexAttrib(mt.attribs.position,mt.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),Ee=qt.getVertexAttrib(mt.attribs.texCoord,mt.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),mt.cullFace&&mt.realDisable.call(qt,qt.CULL_FACE),mt.depthTest&&mt.realDisable.call(qt,qt.DEPTH_TEST),mt.blend&&mt.realDisable.call(qt,qt.BLEND),mt.scissorTest&&mt.realDisable.call(qt,qt.SCISSOR_TEST),mt.stencilTest&&mt.realDisable.call(qt,qt.STENCIL_TEST),mt.realColorMask.call(qt,!0,!0,!0,!0),mt.realViewport.call(qt,0,0,qt.drawingBufferWidth,qt.drawingBufferHeight),(mt.ctxAttribs.alpha||J())&&(mt.realClearColor.call(qt,0,0,0,1),qt.clear(qt.COLOR_BUFFER_BIT)),qt.useProgram(mt.program),qt.bindBuffer(qt.ELEMENT_ARRAY_BUFFER,mt.indexBuffer),qt.bindBuffer(qt.ARRAY_BUFFER,mt.vertexBuffer),qt.enableVertexAttribArray(mt.attribs.position),qt.enableVertexAttribArray(mt.attribs.texCoord),qt.vertexAttribPointer(mt.attribs.position,2,qt.FLOAT,!1,20,0),qt.vertexAttribPointer(mt.attribs.texCoord,3,qt.FLOAT,!1,20,8),mt.instanceExt&&(ge!=0&&mt.instanceExt.vertexAttribDivisorANGLE(mt.attribs.position,0),Ee!=0&&mt.instanceExt.vertexAttribDivisorANGLE(mt.attribs.texCoord,0)),qt.activeTexture(qt.TEXTURE0),qt.uniform1i(mt.uniforms.diffuse,0),qt.bindTexture(qt.TEXTURE_2D,mt.renderTarget),qt.uniform4fv(mt.uniforms.viewportOffsetScale,mt.viewportOffsetScale),qt.drawElements(qt.TRIANGLES,mt.indexCount,qt.UNSIGNED_SHORT,0),mt.cardboardUI&&mt.cardboardUI.renderNoState(),mt.realBindFramebuffer.call(mt.gl,qt.FRAMEBUFFER,mt.framebuffer),mt.ctxAttribs.preserveDrawingBuffer||(mt.realClearColor.call(qt,0,0,0,0),qt.clear(qt.COLOR_BUFFER_BIT)),mt.dirtySubmitFrameBindings||mt.realBindFramebuffer.call(qt,qt.FRAMEBUFFER,mt.lastBoundFramebuffer),mt.cullFace&&mt.realEnable.call(qt,qt.CULL_FACE),mt.depthTest&&mt.realEnable.call(qt,qt.DEPTH_TEST),mt.blend&&mt.realEnable.call(qt,qt.BLEND),mt.scissorTest&&mt.realEnable.call(qt,qt.SCISSOR_TEST),mt.stencilTest&&mt.realEnable.call(qt,qt.STENCIL_TEST),mt.realColorMask.apply(qt,mt.colorMask),mt.realViewport.apply(qt,mt.viewport),(mt.ctxAttribs.alpha||!mt.ctxAttribs.preserveDrawingBuffer)&&mt.realClearColor.apply(qt,mt.clearColor),mt.instanceExt&&(ge!=0&&mt.instanceExt.vertexAttribDivisorANGLE(mt.attribs.position,ge),Ee!=0&&mt.instanceExt.vertexAttribDivisorANGLE(mt.attribs.texCoord,Ee))}),J()){var $t=st.canvas;($t.width!=mt.bufferWidth||$t.height!=mt.bufferHeight)&&(mt.bufferWidth=$t.width,mt.bufferHeight=$t.height,mt.onResize())}},ye.prototype.updateDeviceInfo=function(st){var mt=this.gl,It=this,$t=[mt.ARRAY_BUFFER_BINDING,mt.ELEMENT_ARRAY_BUFFER_BINDING];ai(mt,$t,function(qt){var ge=It.computeMeshVertices_(It.meshWidth,It.meshHeight,st);if(qt.bindBuffer(qt.ARRAY_BUFFER,It.vertexBuffer),qt.bufferData(qt.ARRAY_BUFFER,ge,qt.STATIC_DRAW),!It.indexCount){var Ee=It.computeMeshIndices_(It.meshWidth,It.meshHeight);qt.bindBuffer(qt.ELEMENT_ARRAY_BUFFER,It.indexBuffer),qt.bufferData(qt.ELEMENT_ARRAY_BUFFER,Ee,qt.STATIC_DRAW),It.indexCount=Ee.length}})},ye.prototype.computeMeshVertices_=function(st,mt,It){for(var $t=new Float32Array(2*st*mt*5),qt=It.getLeftEyeVisibleTanAngles(),ge=It.getLeftEyeNoLensTanAngles(),Ee=It.getLeftEyeVisibleScreenRect(ge),di=0,ci=0;ci<2;ci++){for(var Te=0;Te<mt;Te++)for(var qe=0;qe<st;qe++,di++){var yi=qe/(st-1),zi=Te/(mt-1),sn=yi,vn=zi,Gn=W(qt[0],qt[2],yi),Tn=W(qt[3],qt[1],zi),_n=Math.sqrt(Gn*Gn+Tn*Tn),A9=It.distortion.distortInverse(_n),P9=Gn*A9/_n,oa=Tn*A9/_n;yi=(P9-ge[0])/(ge[2]-ge[0]),zi=(oa-ge[3])/(ge[1]-ge[3]),yi=(Ee.x+yi*Ee.width-.5)*2,zi=(Ee.y+zi*Ee.height-.5)*2,$t[di*5+0]=yi,$t[di*5+1]=zi,$t[di*5+2]=sn,$t[di*5+3]=vn,$t[di*5+4]=ci}var W9=qt[2]-qt[0];qt[0]=-(W9+qt[0]),qt[2]=W9-qt[2],W9=ge[2]-ge[0],ge[0]=-(W9+ge[0]),ge[2]=W9-ge[2],Ee.x=1-(Ee.x+Ee.width)}return $t},ye.prototype.computeMeshIndices_=function(st,mt){for(var It=new Uint16Array(2*(st-1)*(mt-1)*6),$t=st/2,qt=mt/2,ge=0,Ee=0,di=0;di<2;di++)for(var ci=0;ci<mt;ci++)for(var Te=0;Te<st;Te++,ge++)Te==0||ci==0||(Te<=$t==ci<=qt?(It[Ee++]=ge,It[Ee++]=ge-st-1,It[Ee++]=ge-st,It[Ee++]=ge-st-1,It[Ee++]=ge,It[Ee++]=ge-1):(It[Ee++]=ge-1,It[Ee++]=ge-st,It[Ee++]=ge,It[Ee++]=ge-st,It[Ee++]=ge-1,It[Ee++]=ge-st-1));return It},ye.prototype.getOwnPropertyDescriptor_=function(st,mt){var It=Object.getOwnPropertyDescriptor(st,mt);return(It.get===void 0||It.set===void 0)&&(It.configurable=!0,It.enumerable=!0,It.get=function(){return this.getAttribute(mt)},It.set=function($t){this.setAttribute(mt,$t)}),It};var ne=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join(`
`),Et=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join(`
`),yt=Math.PI/180,Ht=60,wt=12,xt=20,Qt=1,ut=.75,X=.3125,Z=4,_t=28,Gt=1.5;function Zt(st){this.gl=st,this.attribs={position:0},this.program=Mt(st,ne,Et,this.attribs),this.uniforms=Pt(st,this.program),this.vertexBuffer=st.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}Zt.prototype.destroy=function(){var st=this.gl;this.listener&&st.canvas.removeEventListener("click",this.listener,!1),st.deleteProgram(this.program),st.deleteBuffer(this.vertexBuffer)},Zt.prototype.listen=function(st,mt){var It=this.gl.canvas;this.listener=function($t){var qt=It.clientWidth/2,ge=_t*Gt;$t.clientX>qt-ge&&$t.clientX<qt+ge&&$t.clientY>It.clientHeight-ge?st($t):$t.clientX<ge&&$t.clientY<ge&&mt($t)},It.addEventListener("click",this.listener,!1)},Zt.prototype.onResize=function(){var st=this.gl,mt=this,It=[st.ARRAY_BUFFER_BINDING];ai(st,It,function($t){var qt=[],ge=$t.drawingBufferWidth/2,Ee=Math.max(screen.width,screen.height)*window.devicePixelRatio,di=$t.drawingBufferWidth/Ee,ci=di*window.devicePixelRatio,Te=Z*ci/2,qe=_t*Gt*ci,yi=_t*ci/2,zi=(_t*Gt-_t)*ci;qt.push(ge-Te,qe),qt.push(ge-Te,$t.drawingBufferHeight),qt.push(ge+Te,qe),qt.push(ge+Te,$t.drawingBufferHeight),mt.gearOffset=qt.length/2;function sn(A9,P9){var oa=(90-A9)*yt,W9=Math.cos(oa),Ba=Math.sin(oa);qt.push(X*W9*yi+ge,X*Ba*yi+yi),qt.push(P9*W9*yi+ge,P9*Ba*yi+yi)}for(var vn=0;vn<=6;vn++){var Gn=vn*Ht;sn(Gn,Qt),sn(Gn+wt,Qt),sn(Gn+xt,ut),sn(Gn+(Ht-xt),ut),sn(Gn+(Ht-wt),Qt)}mt.gearVertexCount=qt.length/2-mt.gearOffset,mt.arrowOffset=qt.length/2;function Tn(A9,P9){qt.push(zi+A9,$t.drawingBufferHeight-zi-P9)}var _n=Te/Math.sin(45*yt);Tn(0,yi),Tn(yi,0),Tn(yi+_n,_n),Tn(_n,yi+_n),Tn(_n,yi-_n),Tn(0,yi),Tn(yi,yi*2),Tn(yi+_n,yi*2-_n),Tn(_n,yi-_n),Tn(0,yi),Tn(_n,yi-Te),Tn(_t*ci,yi-Te),Tn(_n,yi+Te),Tn(_t*ci,yi+Te),mt.arrowVertexCount=qt.length/2-mt.arrowOffset,$t.bindBuffer($t.ARRAY_BUFFER,mt.vertexBuffer),$t.bufferData($t.ARRAY_BUFFER,new Float32Array(qt),$t.STATIC_DRAW)})},Zt.prototype.render=function(){var st=this.gl,mt=this,It=[st.CULL_FACE,st.DEPTH_TEST,st.BLEND,st.SCISSOR_TEST,st.STENCIL_TEST,st.COLOR_WRITEMASK,st.VIEWPORT,st.CURRENT_PROGRAM,st.ARRAY_BUFFER_BINDING];ai(st,It,function($t){$t.disable($t.CULL_FACE),$t.disable($t.DEPTH_TEST),$t.disable($t.BLEND),$t.disable($t.SCISSOR_TEST),$t.disable($t.STENCIL_TEST),$t.colorMask(!0,!0,!0,!0),$t.viewport(0,0,$t.drawingBufferWidth,$t.drawingBufferHeight),mt.renderNoState()})},Zt.prototype.renderNoState=function(){var st=this.gl;st.useProgram(this.program),st.bindBuffer(st.ARRAY_BUFFER,this.vertexBuffer),st.enableVertexAttribArray(this.attribs.position),st.vertexAttribPointer(this.attribs.position,2,st.FLOAT,!1,8,0),st.uniform4f(this.uniforms.color,1,1,1,1),Vt(this.projMat,0,st.drawingBufferWidth,0,st.drawingBufferHeight,.1,1024),st.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),st.drawArrays(st.TRIANGLE_STRIP,0,4),st.drawArrays(st.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),st.drawArrays(st.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)};function ue(st){this.coefficients=st}ue.prototype.distortInverse=function(st){for(var mt=0,It=1,$t=st-this.distort(mt);Math.abs(It-mt)>1e-4;){var qt=st-this.distort(It),ge=It-qt*((It-mt)/(qt-$t));mt=It,It=ge,$t=qt}return It},ue.prototype.distort=function(st){for(var mt=st*st,It=0,$t=0;$t<this.coefficients.length;$t++)It=mt*(It+this.coefficients[$t]);return(It+1)*st};var ve=Math.PI/180,Fe=180/Math.PI,Je=function(mt,It,$t){this.x=mt||0,this.y=It||0,this.z=$t||0};Je.prototype={constructor:Je,set:function(mt,It,$t){return this.x=mt,this.y=It,this.z=$t,this},copy:function(mt){return this.x=mt.x,this.y=mt.y,this.z=mt.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var mt=this.length();if(mt!==0){var It=1/mt;this.multiplyScalar(It)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(mt){this.x*=mt,this.y*=mt,this.z*=mt},applyQuaternion:function(mt){var It=this.x,$t=this.y,qt=this.z,ge=mt.x,Ee=mt.y,di=mt.z,ci=mt.w,Te=ci*It+Ee*qt-di*$t,qe=ci*$t+di*It-ge*qt,yi=ci*qt+ge*$t-Ee*It,zi=-ge*It-Ee*$t-di*qt;return this.x=Te*ci+zi*-ge+qe*-di-yi*-Ee,this.y=qe*ci+zi*-Ee+yi*-ge-Te*-di,this.z=yi*ci+zi*-di+Te*-Ee-qe*-ge,this},dot:function(mt){return this.x*mt.x+this.y*mt.y+this.z*mt.z},crossVectors:function(mt,It){var $t=mt.x,qt=mt.y,ge=mt.z,Ee=It.x,di=It.y,ci=It.z;return this.x=qt*ci-ge*di,this.y=ge*Ee-$t*ci,this.z=$t*di-qt*Ee,this}};var ii=function(mt,It,$t,qt){this.x=mt||0,this.y=It||0,this.z=$t||0,this.w=qt!==void 0?qt:1};ii.prototype={constructor:ii,set:function(mt,It,$t,qt){return this.x=mt,this.y=It,this.z=$t,this.w=qt,this},copy:function(mt){return this.x=mt.x,this.y=mt.y,this.z=mt.z,this.w=mt.w,this},setFromEulerXYZ:function(mt,It,$t){var qt=Math.cos(mt/2),ge=Math.cos(It/2),Ee=Math.cos($t/2),di=Math.sin(mt/2),ci=Math.sin(It/2),Te=Math.sin($t/2);return this.x=di*ge*Ee+qt*ci*Te,this.y=qt*ci*Ee-di*ge*Te,this.z=qt*ge*Te+di*ci*Ee,this.w=qt*ge*Ee-di*ci*Te,this},setFromEulerYXZ:function(mt,It,$t){var qt=Math.cos(mt/2),ge=Math.cos(It/2),Ee=Math.cos($t/2),di=Math.sin(mt/2),ci=Math.sin(It/2),Te=Math.sin($t/2);return this.x=di*ge*Ee+qt*ci*Te,this.y=qt*ci*Ee-di*ge*Te,this.z=qt*ge*Te-di*ci*Ee,this.w=qt*ge*Ee+di*ci*Te,this},setFromAxisAngle:function(mt,It){var $t=It/2,qt=Math.sin($t);return this.x=mt.x*qt,this.y=mt.y*qt,this.z=mt.z*qt,this.w=Math.cos($t),this},multiply:function(mt){return this.multiplyQuaternions(this,mt)},multiplyQuaternions:function(mt,It){var $t=mt.x,qt=mt.y,ge=mt.z,Ee=mt.w,di=It.x,ci=It.y,Te=It.z,qe=It.w;return this.x=$t*qe+Ee*di+qt*Te-ge*ci,this.y=qt*qe+Ee*ci+ge*di-$t*Te,this.z=ge*qe+Ee*Te+$t*ci-qt*di,this.w=Ee*qe-$t*di-qt*ci-ge*Te,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var mt=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return mt===0?(this.x=0,this.y=0,this.z=0,this.w=1):(mt=1/mt,this.x=this.x*mt,this.y=this.y*mt,this.z=this.z*mt,this.w=this.w*mt),this},slerp:function(mt,It){if(It===0)return this;if(It===1)return this.copy(mt);var $t=this.x,qt=this.y,ge=this.z,Ee=this.w,di=Ee*mt.w+$t*mt.x+qt*mt.y+ge*mt.z;if(di<0?(this.w=-mt.w,this.x=-mt.x,this.y=-mt.y,this.z=-mt.z,di=-di):this.copy(mt),di>=1)return this.w=Ee,this.x=$t,this.y=qt,this.z=ge,this;var ci=Math.acos(di),Te=Math.sqrt(1-di*di);if(Math.abs(Te)<.001)return this.w=.5*(Ee+this.w),this.x=.5*($t+this.x),this.y=.5*(qt+this.y),this.z=.5*(ge+this.z),this;var qe=Math.sin((1-It)*ci)/Te,yi=Math.sin(It*ci)/Te;return this.w=Ee*qe+this.w*yi,this.x=$t*qe+this.x*yi,this.y=qt*qe+this.y*yi,this.z=ge*qe+this.z*yi,this},setFromUnitVectors:function(){var st,mt,It=1e-6;return function($t,qt){return st===void 0&&(st=new Je),mt=$t.dot(qt)+1,mt<It?(mt=0,Math.abs($t.x)>Math.abs($t.z)?st.set(-$t.y,$t.x,0):st.set(0,-$t.z,$t.y)):st.crossVectors($t,qt),this.x=st.x,this.y=st.y,this.z=st.z,this.w=mt,this.normalize(),this}}()};function re(st){this.width=st.width||Tt(),this.height=st.height||vt(),this.widthMeters=st.widthMeters,this.heightMeters=st.heightMeters,this.bevelMeters=st.bevelMeters}var Mi=new re({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Pe=new re({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),ke={CardboardV1:new Ii({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new Ii({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function we(st,mt){this.viewer=ke.CardboardV2,this.updateDeviceParams(st),this.distortion=new ue(this.viewer.distortionCoefficients);for(var It=0;It<mt.length;It++){var $t=mt[It];ke[$t.id]=new Ii($t)}}we.prototype.updateDeviceParams=function(st){this.device=this.determineDevice_(st)||this.device},we.prototype.getDevice=function(){return this.device},we.prototype.setViewer=function(st){this.viewer=st,this.distortion=new ue(this.viewer.distortionCoefficients)},we.prototype.determineDevice_=function(st){if(!st)return J()?(console.warn("Using fallback iOS device measurements."),Pe):(console.warn("Using fallback Android device measurements."),Mi);var mt=.0254,It=mt/st.xdpi,$t=mt/st.ydpi,qt=Tt(),ge=vt();return new re({widthMeters:It*qt,heightMeters:$t*ge,bevelMeters:st.bevelMm*.001})},we.prototype.getDistortedFieldOfViewLeftEye=function(){var st=this.viewer,mt=this.device,It=this.distortion,$t=st.screenLensDistance,qt=(mt.widthMeters-st.interLensDistance)/2,ge=st.interLensDistance/2,Ee=st.baselineLensDistance-mt.bevelMeters,di=mt.heightMeters-Ee,ci=Fe*Math.atan(It.distort(qt/$t)),Te=Fe*Math.atan(It.distort(ge/$t)),qe=Fe*Math.atan(It.distort(Ee/$t)),yi=Fe*Math.atan(It.distort(di/$t));return{leftDegrees:Math.min(ci,st.fov),rightDegrees:Math.min(Te,st.fov),downDegrees:Math.min(qe,st.fov),upDegrees:Math.min(yi,st.fov)}},we.prototype.getLeftEyeVisibleTanAngles=function(){var st=this.viewer,mt=this.device,It=this.distortion,$t=Math.tan(-ve*st.fov),qt=Math.tan(ve*st.fov),ge=Math.tan(ve*st.fov),Ee=Math.tan(-ve*st.fov),di=mt.widthMeters/4,ci=mt.heightMeters/2,Te=st.baselineLensDistance-mt.bevelMeters-ci,qe=st.interLensDistance/2-di,yi=-Te,zi=st.screenLensDistance,sn=It.distort((qe-di)/zi),vn=It.distort((yi+ci)/zi),Gn=It.distort((qe+di)/zi),Tn=It.distort((yi-ci)/zi),_n=new Float32Array(4);return _n[0]=Math.max($t,sn),_n[1]=Math.min(qt,vn),_n[2]=Math.min(ge,Gn),_n[3]=Math.max(Ee,Tn),_n},we.prototype.getLeftEyeNoLensTanAngles=function(){var st=this.viewer,mt=this.device,It=this.distortion,$t=new Float32Array(4),qt=It.distortInverse(Math.tan(-ve*st.fov)),ge=It.distortInverse(Math.tan(ve*st.fov)),Ee=It.distortInverse(Math.tan(ve*st.fov)),di=It.distortInverse(Math.tan(-ve*st.fov)),ci=mt.widthMeters/4,Te=mt.heightMeters/2,qe=st.baselineLensDistance-mt.bevelMeters-Te,yi=st.interLensDistance/2-ci,zi=-qe,sn=st.screenLensDistance,vn=(yi-ci)/sn,Gn=(zi+Te)/sn,Tn=(yi+ci)/sn,_n=(zi-Te)/sn;return $t[0]=Math.max(qt,vn),$t[1]=Math.min(ge,Gn),$t[2]=Math.min(Ee,Tn),$t[3]=Math.max(di,_n),$t},we.prototype.getLeftEyeVisibleScreenRect=function(st){var mt=this.viewer,It=this.device,$t=mt.screenLensDistance,qt=(It.widthMeters-mt.interLensDistance)/2,ge=mt.baselineLensDistance-It.bevelMeters,Ee=(st[0]*$t+qt)/It.widthMeters,di=(st[1]*$t+ge)/It.heightMeters,ci=(st[2]*$t+qt)/It.widthMeters,Te=(st[3]*$t+ge)/It.heightMeters;return{x:Ee,y:Te,width:ci-Ee,height:di-Te}},we.prototype.getFieldOfViewLeftEye=function(st){return st?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},we.prototype.getFieldOfViewRightEye=function(st){var mt=this.getFieldOfViewLeftEye(st);return{leftDegrees:mt.rightDegrees,rightDegrees:mt.leftDegrees,upDegrees:mt.upDegrees,downDegrees:mt.downDegrees}},we.prototype.getUndistortedFieldOfViewLeftEye=function(){var st=this.getUndistortedParams_();return{leftDegrees:Fe*Math.atan(st.outerDist),rightDegrees:Fe*Math.atan(st.innerDist),downDegrees:Fe*Math.atan(st.bottomDist),upDegrees:Fe*Math.atan(st.topDist)}},we.prototype.getUndistortedViewportLeftEye=function(){var st=this.getUndistortedParams_(),mt=this.viewer,It=this.device,$t=mt.screenLensDistance,qt=It.widthMeters/$t,ge=It.heightMeters/$t,Ee=It.width/qt,di=It.height/ge,ci=Math.round((st.eyePosX-st.outerDist)*Ee),Te=Math.round((st.eyePosY-st.bottomDist)*di);return{x:ci,y:Te,width:Math.round((st.eyePosX+st.innerDist)*Ee)-ci,height:Math.round((st.eyePosY+st.topDist)*di)-Te}},we.prototype.getUndistortedParams_=function(){var st=this.viewer,mt=this.device,It=this.distortion,$t=st.screenLensDistance,qt=st.interLensDistance/2/$t,ge=mt.widthMeters/$t,Ee=mt.heightMeters/$t,di=ge/2-qt,ci=(st.baselineLensDistance-mt.bevelMeters)/$t,Te=st.fov,qe=It.distortInverse(Math.tan(ve*Te)),yi=Math.min(di,qe),zi=Math.min(qt,qe),sn=Math.min(ci,qe),vn=Math.min(Ee-ci,qe);return{outerDist:yi,innerDist:zi,topDist:vn,bottomDist:sn,eyePosX:di,eyePosY:ci}};function Ii(st){this.id=st.id,this.label=st.label,this.fov=st.fov,this.interLensDistance=st.interLensDistance,this.baselineLensDistance=st.baselineLensDistance,this.screenLensDistance=st.screenLensDistance,this.distortionCoefficients=st.distortionCoefficients,this.inverseCoefficients=st.inverseCoefficients}we.Viewers=ke;var wn=1,Ke="2019-11-09T17:36:14Z",yn=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}],Be={format:wn,last_updated:Ke,devices:yn};function En(st,mt){if(this.dpdb=Be,this.recalculateDeviceParams_(),st){this.onDeviceParamsUpdated=mt;var It=new XMLHttpRequest,$t=this;It.open("GET",st,!0),It.addEventListener("load",function(){$t.loading=!1,It.status>=200&&It.status<=299?($t.dpdb=JSON.parse(It.response),$t.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),It.send()}}En.prototype.getDeviceParams=function(){return this.deviceParams},En.prototype.recalculateDeviceParams_=function(){var st=this.calcDeviceParams_();st?(this.deviceParams=st,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},En.prototype.calcDeviceParams_=function(){var st=this.dpdb;if(!st)return console.error("DPDB not available."),null;if(st.format!=1)return console.error("DPDB has unexpected format version."),null;if(!st.devices||!st.devices.length)return console.error("DPDB does not have a devices section."),null;var mt=navigator.userAgent||navigator.vendor||window.opera,It=Tt(),$t=vt();if(!st.devices)return console.error("DPDB has no devices section."),null;for(var qt=0;qt<st.devices.length;qt++){var ge=st.devices[qt];if(!ge.rules){console.warn("Device["+qt+"] has no rules section.");continue}if(ge.type!="ios"&&ge.type!="android"){console.warn("Device["+qt+"] has invalid type.");continue}if(J()==(ge.type=="ios")){for(var Ee=!1,di=0;di<ge.rules.length;di++){var ci=ge.rules[di];if(this.ruleMatches_(ci,mt,It,$t)){Ee=!0;break}}if(Ee){var Te=ge.dpi[0]||ge.dpi,qe=ge.dpi[1]||ge.dpi;return new bi({xdpi:Te,ydpi:qe,bevelMm:ge.bw})}}}return console.warn("No DPDB device match."),null},En.prototype.ruleMatches_=function(st,mt,It,$t){if(!st.ua&&!st.res||(st.ua&&st.ua.substring(0,2)==="SM"&&(st.ua=st.ua.substring(0,7)),st.ua&&mt.indexOf(st.ua)<0))return!1;if(st.res){if(!st.res[0]||!st.res[1])return!1;var qt=st.res[0],ge=st.res[1];if(Math.min(It,$t)!=Math.min(qt,ge)||Math.max(It,$t)!=Math.max(qt,ge))return!1}return!0};function bi(st){this.xdpi=st.xdpi,this.ydpi=st.ydpi,this.bevelMm=st.bevelMm}function on(st,mt){this.set(st,mt)}on.prototype.set=function(st,mt){this.sample=st,this.timestampS=mt},on.prototype.copy=function(st){this.set(st.sample,st.timestampS)};function $n(st,mt){this.kFilter=st,this.isDebug=mt,this.currentAccelMeasurement=new on,this.currentGyroMeasurement=new on,this.previousGyroMeasurement=new on,J()?this.filterQ=new ii(-1,0,0,1):this.filterQ=new ii(1,0,0,1),this.previousFilterQ=new ii,this.previousFilterQ.copy(this.filterQ),this.accelQ=new ii,this.isOrientationInitialized=!1,this.estimatedGravity=new Je,this.measuredGravity=new Je,this.gyroIntegralQ=new ii}$n.prototype.addAccelMeasurement=function(st,mt){this.currentAccelMeasurement.set(st,mt)},$n.prototype.addGyroMeasurement=function(st,mt){this.currentGyroMeasurement.set(st,mt);var It=mt-this.previousGyroMeasurement.timestampS;gt(It)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},$n.prototype.run_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),this.isOrientationInitialized=!0;return}var st=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,mt=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,st);this.gyroIntegralQ.multiply(mt),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(mt);var It=new ii;It.copy(this.filterQ),It.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(It),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var $t=new ii;$t.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),$t.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",Fe*Qe($t),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var qt=new ii;qt.copy(this.filterQ),qt.multiply($t),this.filterQ.slerp(qt,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},$n.prototype.getOrientation=function(){return this.filterQ},$n.prototype.accelToQuaternion_=function(st){var mt=new Je;mt.copy(st),mt.normalize();var It=new ii;return It.setFromUnitVectors(new Je(0,0,-1),mt),It.inverse(),It},$n.prototype.gyroToQuaternionDelta_=function(st,mt){var It=new ii,$t=new Je;return $t.copy(st),$t.normalize(),It.setFromAxisAngle($t,st.length()*mt),It};function Pn(st,mt){this.predictionTimeS=st,this.isDebug=mt,this.previousQ=new ii,this.previousTimestampS=null,this.deltaQ=new ii,this.outQ=new ii}Pn.prototype.getPrediction=function(st,mt,It){if(!this.previousTimestampS)return this.previousQ.copy(st),this.previousTimestampS=It,st;var $t=new Je;$t.copy(mt),$t.normalize();var qt=mt.length();if(qt<ve*20)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(Fe*qt).toFixed(1)),this.outQ.copy(st),this.previousQ.copy(st),this.outQ;var ge=qt*this.predictionTimeS;return this.deltaQ.setFromAxisAngle($t,ge),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(st),this.previousTimestampS=It,this.outQ};function M9(st,mt,It,$t){this.yawOnly=It,this.accelerometer=new Je,this.gyroscope=new Je,this.filter=new $n(st,$t),this.posePredictor=new Pn(mt,$t),this.isFirefoxAndroid=z(),this.isIOS=J();var qt=j();this.isDeviceMotionInRadians=!this.isIOS&&qt&&qt<66,this.isWithoutDeviceMotion=tt()||nt(),this.filterToWorldQ=new ii,J()?this.filterToWorldQ.setFromAxisAngle(new Je(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new Je(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new ii,this.worldToScreenQ=new ii,this.originalPoseAdjustQ=new ii,this.originalPoseAdjustQ.setFromAxisAngle(new Je(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),pt()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new ii,this.orientationOut_=new Float32Array(4),this.start()}M9.prototype.getPosition=function(){return null},M9.prototype.getOrientation=function(){var st=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var qt=new ii().setFromAxisAngle(new Je(0,0,-1),0),ge=new ii;return window.orientation===-90?ge.setFromAxisAngle(new Je(0,1,0),Math.PI/-2):ge.setFromAxisAngle(new Je(0,1,0),Math.PI/2),qt.multiply(ge)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var qt=new ii;return qt.setFromAxisAngle(new Je(1,0,0),-Math.PI/2),qt}(),st=this._deviceOrientationQ;var It=new ii;return It.copy(st),It.multiply(this.deviceOrientationFilterToWorldQ),It.multiply(this.resetQ),It.multiply(this.worldToScreenQ),It.multiplyQuaternions(this.deviceOrientationFixQ,It),this.yawOnly&&(It.x=0,It.z=0,It.normalize()),this.orientationOut_[0]=It.x,this.orientationOut_[1]=It.y,this.orientationOut_[2]=It.z,this.orientationOut_[3]=It.w,this.orientationOut_}else{var mt=this.filter.getOrientation();st=this.posePredictor.getPrediction(mt,this.gyroscope,this.previousTimestampS)}var It=new ii;return It.copy(this.filterToWorldQ),It.multiply(this.resetQ),It.multiply(st),It.multiply(this.worldToScreenQ),this.yawOnly&&(It.x=0,It.z=0,It.normalize()),this.orientationOut_[0]=It.x,this.orientationOut_[1]=It.y,this.orientationOut_[2]=It.z,this.orientationOut_[3]=It.w,this.orientationOut_},M9.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),pt()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},M9.prototype.onDeviceOrientation_=function(st){this._deviceOrientationQ=this._deviceOrientationQ||new ii;var mt=st.alpha,It=st.beta,$t=st.gamma;mt=(mt||0)*Math.PI/180,It=(It||0)*Math.PI/180,$t=($t||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(It,mt,-$t)},M9.prototype.onDeviceMotion_=function(st){this.updateDeviceMotion_(st)},M9.prototype.updateDeviceMotion_=function(st){var mt=st.accelerationIncludingGravity,It=st.rotationRate,$t=st.timeStamp/1e3,qt=$t-this.previousTimestampS;if(qt<0){ni("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),this.previousTimestampS=$t;return}else if(qt<=$||qt>H){ni("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),this.previousTimestampS=$t;return}this.accelerometer.set(-mt.x,-mt.y,-mt.z),It&&(ht()?this.gyroscope.set(-It.beta,It.alpha,It.gamma):this.gyroscope.set(It.alpha,It.beta,It.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,$t)),this.filter.addAccelMeasurement(this.accelerometer,$t),this.previousTimestampS=$t},M9.prototype.onOrientationChange_=function(st){this.setScreenTransform_()},M9.prototype.onMessage_=function(st){var mt=st.data;if(!(!mt||!mt.type)){var It=mt.type.toLowerCase();It==="devicemotion"&&this.updateDeviceMotion_(mt.deviceMotionEvent)}},M9.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Je(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Je(0,0,1),Math.PI/2);break}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},M9.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),J()&&Yt()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},M9.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var qa=60,va=new Je(1,0,0),hr=new Je(0,0,1),ka=new ii;ka.setFromAxisAngle(va,-Math.PI/2),ka.multiply(new ii().setFromAxisAngle(hr,Math.PI/2));var Kt=function(){function st(mt){L(this,st),this.config=mt,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new ii,this._outQ=new ii,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return k(st,[{key:"init",value:function(){var It=null;try{It=new RelativeOrientationSensor({frequency:qa,referenceFrame:"screen"}),It.addEventListener("error",this._onSensorError)}catch($t){this.errors.push($t),$t.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):$t.name==="ReferenceError"?this.useDeviceMotion():console.error($t)}It&&(this.api="sensor",this.sensor=It,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new M9(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var It=this.sensor.quaternion;this._sensorQ.set(It[0],It[1],It[2],It[3]);var $t=this._outQ;return $t.copy(ka),$t.multiply(this._sensorQ),this.config.YAW_ONLY&&($t.x=$t.z=0,$t.normalize()),this._out[0]=$t.x,this._out[1]=$t.y,this._out[2]=$t.z,this._out[3]=$t.w,this._out}},{key:"_onSensorError",value:function(It){this.errors.push(It.error),It.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):It.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(It.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),st}(),le="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function _e(){this.loadIcon_();var st=document.createElement("div"),Ee=st.style;Ee.position="fixed",Ee.top=0,Ee.right=0,Ee.bottom=0,Ee.left=0,Ee.backgroundColor="gray",Ee.fontFamily="sans-serif",Ee.zIndex=1e6;var mt=document.createElement("img");mt.src=this.icon;var Ee=mt.style;Ee.marginLeft="25%",Ee.marginTop="25%",Ee.width="50%",st.appendChild(mt);var It=document.createElement("div"),Ee=It.style;Ee.textAlign="center",Ee.fontSize="16px",Ee.lineHeight="24px",Ee.margin="24px 25%",Ee.width="50%",It.innerHTML="Place your phone into your Cardboard viewer.",st.appendChild(It);var $t=document.createElement("div"),Ee=$t.style;Ee.backgroundColor="#CFD8DC",Ee.position="fixed",Ee.bottom=0,Ee.width="100%",Ee.height="48px",Ee.padding="14px 24px",Ee.boxSizing="border-box",Ee.color="#656A6B",st.appendChild($t);var qt=document.createElement("div");qt.style.float="left",qt.innerHTML="No Cardboard viewer?";var ge=document.createElement("a");ge.href="https://www.google.com/get/cardboard/get-cardboard/",ge.innerHTML="get one",ge.target="_blank";var Ee=ge.style;Ee.float="right",Ee.fontWeight=600,Ee.textTransform="uppercase",Ee.borderLeft="1px solid gray",Ee.paddingLeft="24px",Ee.textDecoration="none",Ee.color="#656A6B",$t.appendChild(qt),$t.appendChild(ge),this.overlay=st,this.text=It,this.hide()}_e.prototype.show=function(st){!st&&!this.overlay.parentElement?document.body.appendChild(this.overlay):st&&(this.overlay.parentElement&&this.overlay.parentElement!=st&&this.overlay.parentElement.removeChild(this.overlay),st.appendChild(this.overlay)),this.overlay.style.display="block";var mt=this.overlay.querySelector("img"),It=mt.style;pt()?(It.width="20%",It.marginLeft="40%",It.marginTop="3%"):(It.width="50%",It.marginLeft="25%",It.marginTop="25%")},_e.prototype.hide=function(){this.overlay.style.display="none"},_e.prototype.showTemporarily=function(st,mt){this.show(mt),this.timer=setTimeout(this.hide.bind(this),st)},_e.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},_e.prototype.update=function(){this.disableShowTemporarily(),!pt()&&ie()?this.show():this.hide()},_e.prototype.loadIcon_=function(){this.icon=U("image/svg+xml",le)};var Ye="CardboardV1",Le="WEBVR_CARDBOARD_VIEWER",oi="webvr-polyfill-viewer-selector";function vi(st){try{this.selectedKey=localStorage.getItem(Le)}catch(mt){console.error("Failed to load viewer profile: %s",mt)}this.selectedKey||(this.selectedKey=st||Ye),this.dialog=this.createDialog_(we.Viewers),this.root=null,this.onChangeCallbacks_=[]}vi.prototype.show=function(st){this.root=st,st.appendChild(this.dialog);var mt=this.dialog.querySelector("#"+this.selectedKey);mt.checked=!0,this.dialog.style.display="block"},vi.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},vi.prototype.getCurrentViewer=function(){return we.Viewers[this.selectedKey]},vi.prototype.getSelectedKey_=function(){var st=this.dialog.querySelector("input[name=field]:checked");return st?st.id:null},vi.prototype.onChange=function(st){this.onChangeCallbacks_.push(st)},vi.prototype.fireOnChange_=function(st){for(var mt=0;mt<this.onChangeCallbacks_.length;mt++)this.onChangeCallbacks_[mt](st)},vi.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!we.Viewers[this.selectedKey]){console.error("ViewerSelector.onSave_: this should never happen!");return}this.fireOnChange_(we.Viewers[this.selectedKey]);try{localStorage.setItem(Le,this.selectedKey)}catch(st){console.error("Failed to save viewer profile: %s",st)}this.hide()},vi.prototype.createDialog_=function(st){var mt=document.createElement("div");mt.classList.add(oi),mt.style.display="none";var It=document.createElement("div"),ge=It.style;ge.position="fixed",ge.left=0,ge.top=0,ge.width="100%",ge.height="100%",ge.background="rgba(0, 0, 0, 0.3)",It.addEventListener("click",this.hide.bind(this));var $t=280,qt=document.createElement("div"),ge=qt.style;ge.boxSizing="border-box",ge.position="fixed",ge.top="24px",ge.left="50%",ge.marginLeft=-$t/2+"px",ge.width=$t+"px",ge.padding="24px",ge.overflow="hidden",ge.background="#fafafa",ge.fontFamily="'Roboto', sans-serif",ge.boxShadow="0px 5px 20px #666",qt.appendChild(this.createH1_("Select your viewer"));for(var Ee in st)qt.appendChild(this.createChoice_(Ee,st[Ee].label));return qt.appendChild(this.createButton_("Save",this.onSave_.bind(this))),mt.appendChild(It),mt.appendChild(qt),mt},vi.prototype.createH1_=function(st){var mt=document.createElement("h1"),It=mt.style;return It.color="black",It.fontSize="20px",It.fontWeight="bold",It.marginTop=0,It.marginBottom="24px",mt.innerHTML=st,mt},vi.prototype.createChoice_=function(st,mt){var It=document.createElement("div");It.style.marginTop="8px",It.style.color="black";var $t=document.createElement("input");$t.style.fontSize="30px",$t.setAttribute("id",st),$t.setAttribute("type","radio"),$t.setAttribute("value",st),$t.setAttribute("name","field");var qt=document.createElement("label");return qt.style.marginLeft="4px",qt.setAttribute("for",st),qt.innerHTML=mt,It.appendChild($t),It.appendChild(qt),It},vi.prototype.createButton_=function(st,mt){var It=document.createElement("button");It.innerHTML=st;var $t=It.style;return $t.float="right",$t.textTransform="uppercase",$t.color="#1094f7",$t.fontSize="14px",$t.letterSpacing=0,$t.border=0,$t.background="none",$t.marginTop="16px",It.addEventListener("click",mt),It};var an=typeof window<"u"?window:typeof f<"u"?f:typeof self<"u"?self:{};function $i(st){return st&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st}function si(st,mt){return mt={exports:{}},st(mt,mt.exports),mt.exports}var dn=si(function(st,mt){(function($t,qt){st.exports=qt()})(an,function(){return function(It){var $t={};function qt(ge){if($t[ge])return $t[ge].exports;var Ee=$t[ge]={i:ge,l:!1,exports:{}};return It[ge].call(Ee.exports,Ee,Ee.exports,qt),Ee.l=!0,Ee.exports}return qt.m=It,qt.c=$t,qt.d=function(ge,Ee,di){qt.o(ge,Ee)||Object.defineProperty(ge,Ee,{configurable:!1,enumerable:!0,get:di})},qt.n=function(ge){var Ee=ge&&ge.__esModule?function(){return ge.default}:function(){return ge};return qt.d(Ee,"a",Ee),Ee},qt.o=function(ge,Ee){return Object.prototype.hasOwnProperty.call(ge,Ee)},qt.p="",qt(qt.s=0)}([function(It,$t,qt){var ge=function(){function qe(yi,zi){for(var sn=0;sn<zi.length;sn++){var vn=zi[sn];vn.enumerable=vn.enumerable||!1,vn.configurable=!0,"value"in vn&&(vn.writable=!0),Object.defineProperty(yi,vn.key,vn)}}return function(yi,zi,sn){return zi&&qe(yi.prototype,zi),sn&&qe(yi,sn),yi}}();function Ee(qe,yi){if(!(qe instanceof yi))throw new TypeError("Cannot call a class as a function")}var di=qt(1),ci=typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Te=function(){function qe(){Ee(this,qe),ci?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",di),this.noSleepVideo.addEventListener("timeupdate",(function(yi){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}).bind(this)))}return ge(qe,[{key:"enable",value:function(){ci?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){ci?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),qe}();It.exports=Te},function(It,$t,qt){It.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})}),An=$i(dn),On=1e3,D9=[0,0,.5,1],zn=[.5,0,.5,1],Ln=window.requestAnimationFrame,u9=window.cancelAnimationFrame;function j9(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function Ia(st){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:st.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:st.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:st.canPresent},maxLayers:{writable:!1,enumerable:!0,value:st.maxLayers},hasOrientation:{enumerable:!0,get:function(){return ei("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),st.hasOrientation}}})}function Gi(st){st=st||{};var mt="wakelock"in st?st.wakelock:!0;this.isPolyfilled=!0,this.displayId=On++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return ei("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Ia({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,mt&&ie()&&(this.wakelock_=new An)}Gi.prototype.getFrameData=function(st){return me(st,this._getPose(),this)},Gi.prototype.getPose=function(){return ei("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Gi.prototype.resetPose=function(){return ei("VRDisplay.prototype.resetPose"),this._resetPose()},Gi.prototype.getImmediatePose=function(){return ei("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Gi.prototype.requestAnimationFrame=function(st){return Ln(st)},Gi.prototype.cancelAnimationFrame=function(st){return u9(st)},Gi.prototype.wrapForFullscreen=function(st){if(J())return st;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var mt=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",mt.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==st)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=st,this.originalParent_=st.parentElement,this.originalParent_||document.body.appendChild(st),!this.fullscreenWrapper_.parentElement){var It=this.fullscreenElement_.parentElement;It.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),It.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var $t=this;function qt(){if($t.fullscreenElement_){var ge=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];$t.fullscreenElement_.setAttribute("style",ge.join("; ")+";")}}return qt(),this.fullscreenWrapper_},Gi.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var st=this.fullscreenElement_;this.fullscreenElementCachedStyle_?st.setAttribute("style",this.fullscreenElementCachedStyle_):st.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var mt=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(st),this.originalParent_===mt?mt.insertBefore(st,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(st),mt.removeChild(this.fullscreenWrapper_),st}},Gi.prototype.requestPresent=function(st){var mt=this.isPresenting,It=this;return st instanceof Array||(ei("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),st=[st]),new Promise(function($t,qt){if(!It.capabilities.canPresent){qt(new Error("VRDisplay is not capable of presenting."));return}if(st.length==0||st.length>It.capabilities.maxLayers){qt(new Error("Invalid number of layers."));return}var ge=st[0];if(!ge.source){$t();return}var Ee=ge.leftBounds||D9,di=ge.rightBounds||zn;if(mt){var ci=It.layer_;ci.source!==ge.source&&(ci.source=ge.source);for(var Te=0;Te<4;Te++)ci.leftBounds[Te]=Ee[Te],ci.rightBounds[Te]=di[Te];It.wrapForFullscreen(It.layer_.source),It.updatePresent_(),$t();return}if(It.layer_={predistorted:ge.predistorted,source:ge.source,leftBounds:Ee.slice(0),rightBounds:di.slice(0)},It.waitingForPresent_=!1,It.layer_&&It.layer_.source){var qe=It.wrapForFullscreen(It.layer_.source),yi=function(){var vn=St();It.isPresenting=qe===vn,It.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(Gn){console.error("screen.orientation.lock() failed due to",Gn.message)}),It.waitingForPresent_=!1,It.beginPresent_(),$t()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),It.removeFullscreenWrapper(),It.disableWakeLock(),It.endPresent_(),It.removeFullscreenListeners_()),It.fireVRDisplayPresentChange_()},zi=function(){It.waitingForPresent_&&(It.removeFullscreenWrapper(),It.removeFullscreenListeners_(),It.disableWakeLock(),It.waitingForPresent_=!1,It.isPresenting=!1,qt(new Error("Unable to present.")))};It.addFullscreenListeners_(qe,yi,zi),Ot(qe)?(It.enableWakeLock(),It.waitingForPresent_=!0):(J()||Q())&&(It.enableWakeLock(),It.isPresenting=!0,It.beginPresent_(),It.fireVRDisplayPresentChange_(),$t())}!It.waitingForPresent_&&!J()&&(ft(),qt(new Error("Unable to present.")))})},Gi.prototype.exitPresent=function(){var st=this.isPresenting,mt=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(It,$t){st?(!ft()&&J()&&(mt.endPresent_(),mt.fireVRDisplayPresentChange_()),Q()&&(mt.removeFullscreenWrapper(),mt.removeFullscreenListeners_(),mt.endPresent_(),mt.fireVRDisplayPresentChange_()),It()):$t(new Error("Was not presenting to VRDisplay."))})},Gi.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Gi.prototype.fireVRDisplayPresentChange_=function(){var st=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(st)},Gi.prototype.fireVRDisplayConnect_=function(){var st=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(st)},Gi.prototype.addFullscreenListeners_=function(st,mt,It){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=st,this.fullscreenChangeHandler_=mt,this.fullscreenErrorHandler_=It,mt&&(document.fullscreenEnabled?st.addEventListener("fullscreenchange",mt,!1):document.webkitFullscreenEnabled?st.addEventListener("webkitfullscreenchange",mt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",mt,!1):document.msFullscreenEnabled&&st.addEventListener("msfullscreenchange",mt,!1)),It&&(document.fullscreenEnabled?st.addEventListener("fullscreenerror",It,!1):document.webkitFullscreenEnabled?st.addEventListener("webkitfullscreenerror",It,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",It,!1):document.msFullscreenEnabled&&st.addEventListener("msfullscreenerror",It,!1))},Gi.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var st=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var mt=this.fullscreenChangeHandler_;st.removeEventListener("fullscreenchange",mt,!1),st.removeEventListener("webkitfullscreenchange",mt,!1),document.removeEventListener("mozfullscreenchange",mt,!1),st.removeEventListener("msfullscreenchange",mt,!1)}if(this.fullscreenErrorHandler_){var It=this.fullscreenErrorHandler_;st.removeEventListener("fullscreenerror",It,!1),st.removeEventListener("webkitfullscreenerror",It,!1),document.removeEventListener("mozfullscreenerror",It,!1),st.removeEventListener("msfullscreenerror",It,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Gi.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Gi.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Gi.prototype.beginPresent_=function(){},Gi.prototype.endPresent_=function(){},Gi.prototype.submitFrame=function(st){},Gi.prototype.getEyeParameters=function(st){return null};var Jn={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},ma={LEFT:"left",RIGHT:"right"};function p9(st){var mt=jt({},Jn);st=jt(mt,st||{}),Gi.call(this,{wakelock:st.MOBILE_WAKE_LOCK}),this.config=st,this.displayName="Cardboard VRDisplay",this.capabilities=new Ia({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new Kt(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new En(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new we(this.dpdb_.getDeviceParams(),st.ADDITIONAL_VIEWERS),this.viewerSelector_=new vi(st.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new _e),J()&&window.addEventListener("resize",this.onResize_.bind(this))}return p9.prototype=Object.create(Gi.prototype),p9.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},p9.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},p9.prototype._getFieldOfView=function(st){var mt;if(st==ma.LEFT)mt=this.deviceInfo_.getFieldOfViewLeftEye();else if(st==ma.RIGHT)mt=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",st),null;return mt},p9.prototype._getEyeOffset=function(st){var mt;if(st==ma.LEFT)mt=[-this.deviceInfo_.viewer.interLensDistance*.5,0,0];else if(st==ma.RIGHT)mt=[this.deviceInfo_.viewer.interLensDistance*.5,0,0];else return console.error("Invalid eye provided: %s",st),null;return mt},p9.prototype.getEyeParameters=function(st){var mt=this._getEyeOffset(st),It=this._getFieldOfView(st),$t={offset:mt,renderWidth:this.deviceInfo_.device.width*.5*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty($t,"fieldOfView",{enumerable:!0,get:function(){return ei("VRFieldOfView","VRFrameData's projection matrices"),It}}),$t},p9.prototype.onDeviceParamsUpdated_=function(st){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(st),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},p9.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},p9.prototype.beginPresent_=function(){var st=this.layer_.source.getContext("webgl");st||(st=this.layer_.source.getContext("experimental-webgl")),st||(st=this.layer_.source.getContext("webgl2")),st&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(st.canvas.width=Tt()*this.bufferScale_,st.canvas.height=vt()*this.bufferScale_,this.cardboardUI_=new Zt(st)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new Zt(st)),this.distorter_=new ye(st,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen((function(mt){this.viewerSelector_.show(this.layer_.source.parentElement),mt.stopPropagation(),mt.preventDefault()}).bind(this),(function(mt){this.exitPresent(),mt.stopPropagation(),mt.preventDefault()}).bind(this)),this.rotateInstructions_&&(pt()&&ie()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},p9.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},p9.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},p9.prototype.submitFrame=function(st){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var mt=this.layer_.source.getContext("webgl");mt||(mt=this.layer_.source.getContext("experimental-webgl")),mt||(mt=this.layer_.source.getContext("webgl2"));var It=mt.canvas;(It.width!=this.lastWidth||It.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=It.width,this.lastHeight=It.height,this.cardboardUI_.render()}},p9.prototype.onOrientationChange_=function(st){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},p9.prototype.onResize_=function(st){if(this.layer_){var mt=this.layer_.source.getContext("webgl");mt||(mt=this.layer_.source.getContext("experimental-webgl")),mt||(mt=this.layer_.source.getContext("webgl2"));var It=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];mt.canvas.setAttribute("style",It.join("; ")+";"),Wt(mt.canvas)}},p9.prototype.onViewerChanged_=function(st){this.deviceInfo_.setViewer(st),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},p9.prototype.fireVRDisplayDeviceParamsChange_=function(){var st=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(st)},p9.VRFrameData=j9,p9.VRDisplay=Gi,p9})}),v=M(E),w="0.10.12",x={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function b(I){this.config=y(y({},x),I),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&A())&&(this.enable(),this.getVRDisplays().then(function(P){P&&P[0]&&P[0].fireVRDisplayConnect_&&P[0].fireVRDisplayConnect_()}))}b.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(A()){var I=new v({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(I)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},b.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var I=this.native.VRFrameData,P=new this.native.VRFrameData,L=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(k){if(k instanceof I){L.call(this,k);return}L.call(this,P),k.pose=P.pose,p(P.leftProjectionMatrix,k.leftProjectionMatrix),p(P.rightProjectionMatrix,k.rightProjectionMatrix),p(P.leftViewMatrix,k.leftViewMatrix),p(P.rightViewMatrix,k.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=v.VRDisplay,window.VRFrameData=v.VRFrameData},b.prototype.getVRDisplays=function(){var I=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(P){return P.length>0?P:I.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},b.version=w,b.VRFrameData=v.VRFrameData,b.VRDisplay=v.VRDisplay;var O=Object.freeze({default:b}),S=O&&b||O;typeof f<"u"&&f.window&&(f.document||(f.document=f.window.document),f.navigator||(f.navigator=f.window.navigator));var R=S;return R})},"./node_modules/word-wrapper/index.js":u=>{var d=/\n/,c=`
`,f=/\s/;u.exports=function(E,v){var w=u.exports.lines(E,v);return w.map(function(x){return E.substring(x.start,x.end)}).join(`
`)},u.exports.lines=function(v,w){if(w=w||{},w.width===0&&w.mode!=="nowrap")return[];v=v||"";var x=typeof w.width=="number"?w.width:Number.MAX_VALUE,b=Math.max(0,w.start||0),O=typeof w.end=="number"?w.end:v.length,S=w.mode,R=w.measure||y;return S==="pre"?A(R,v,b,O,x):p(R,v,b,O,x,S)};function M(E,v,w,x){var b=E.indexOf(v,w);return b===-1||b>x?x:b}function m(E){return f.test(E)}function A(E,v,w,x,b){for(var O=[],S=w,R=w;R<x&&R<v.length;R++){var I=v.charAt(R),P=d.test(I);if(P||R===x-1){var L=P?R:R+1,k=E(v,S,L,b);O.push(k),S=R+1}}return O}function p(E,v,w,x,b,O){var S=[],R=b;for(O==="nowrap"&&(R=Number.MAX_VALUE);w<x&&w<v.length;){for(var I=M(v,c,w,x);w<I&&m(v.charAt(w));)w++;var P=E(v,w,I,R),L=w+(P.end-P.start),k=L+c.length;if(L<I){for(;L>w&&!m(v.charAt(L));)L--;if(L===w)k>w+c.length&&k--,L=k;else for(k=L;L>w&&m(v.charAt(L-c.length));)L--}if(L>=w){var N=E(v,w,L,R);S.push(N)}w=k}return S}function y(E,v,w,x){var b=Math.min(x,w-v);return{start:v,end:v+b}}},"./node_modules/xhr/index.js":(u,d,c)=>{var f=c("./node_modules/global/window.js"),M=c("./node_modules/is-function/index.js"),m=c("./node_modules/parse-headers/parse-headers.js"),A=c("./node_modules/xtend/immutable.js");u.exports=v,u.exports.default=v,v.XMLHttpRequest=f.XMLHttpRequest||b,v.XDomainRequest="withCredentials"in new v.XMLHttpRequest?v.XMLHttpRequest:f.XDomainRequest,p(["get","put","post","patch","head","delete"],function(O){v[O==="delete"?"del":O]=function(S,R,I){return R=E(S,R,I),R.method=O.toUpperCase(),w(R)}});function p(O,S){for(var R=0;R<O.length;R++)S(O[R])}function y(O){for(var S in O)if(O.hasOwnProperty(S))return!1;return!0}function E(O,S,R){var I=O;return M(S)?(R=S,typeof O=="string"&&(I={uri:O})):I=A(S,{uri:O}),I.callback=R,I}function v(O,S,R){return S=E(O,S,R),w(S)}function w(O){if(typeof O.callback>"u")throw new Error("callback argument missing");var S=!1,R=function(ht,pt,gt){S||(S=!0,O.callback(ht,pt,gt))};function I(){N.readyState===4&&setTimeout(k,0)}function P(){var tt=void 0;if(N.response?tt=N.response:tt=N.responseText||x(N),z)try{tt=JSON.parse(tt)}catch{}return tt}function L(tt){return clearTimeout(j),tt instanceof Error||(tt=new Error(""+(tt||"Unknown XMLHttpRequest Error"))),tt.statusCode=0,R(tt,nt)}function k(){if(!H){var tt;clearTimeout(j),O.useXDR&&N.status===void 0?tt=200:tt=N.status===1223?204:N.status;var ht=nt,pt=null;return tt!==0?(ht={body:P(),statusCode:tt,method:W,headers:{},url:U,rawRequest:N},N.getAllResponseHeaders&&(ht.headers=m(N.getAllResponseHeaders()))):pt=new Error("Internal XMLHttpRequest Error"),R(pt,ht,ht.body)}}var N=O.xhr||null;N||(O.cors||O.useXDR?N=new v.XDomainRequest:N=new v.XMLHttpRequest);var $,H,U=N.url=O.uri||O.url,W=N.method=O.method||"GET",J=O.body||O.data,Q=N.headers=O.headers||{},G=!!O.sync,z=!1,j,nt={body:void 0,headers:{},statusCode:0,method:W,url:U,rawRequest:N};if("json"in O&&O.json!==!1&&(z=!0,Q.accept||Q.Accept||(Q.Accept="application/json"),W!=="GET"&&W!=="HEAD"&&(Q["content-type"]||Q["Content-Type"]||(Q["Content-Type"]="application/json"),J=JSON.stringify(O.json===!0?J:O.json))),N.onreadystatechange=I,N.onload=k,N.onerror=L,N.onprogress=function(){},N.onabort=function(){H=!0},N.ontimeout=L,N.open(W,U,!G,O.username,O.password),G||(N.withCredentials=!!O.withCredentials),!G&&O.timeout>0&&(j=setTimeout(function(){if(!H){H=!0,N.abort("timeout");var tt=new Error("XMLHttpRequest timeout");tt.code="ETIMEDOUT",L(tt)}},O.timeout)),N.setRequestHeader)for($ in Q)Q.hasOwnProperty($)&&N.setRequestHeader($,Q[$]);else if(O.headers&&!y(O.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in O&&(N.responseType=O.responseType),"beforeSend"in O&&typeof O.beforeSend=="function"&&O.beforeSend(N),N.send(J||null),N}function x(O){try{if(O.responseType==="document")return O.responseXML;var S=O.responseXML&&O.responseXML.documentElement.nodeName==="parsererror";if(O.responseType===""&&!S)return O.responseXML}catch{}return null}function b(){}},"./node_modules/xml-parse-from-string/index.js":u=>{u.exports=function(){return typeof self.DOMParser<"u"?function(c){var f=new self.DOMParser;return f.parseFromString(c,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(c){var f=new self.ActiveXObject("Microsoft.XMLDOM");return f.async="false",f.loadXML(c),f}:function(c){var f=document.createElement("div");return f.innerHTML=c,f}}()},"./node_modules/xtend/immutable.js":u=>{u.exports=c;var d=Object.prototype.hasOwnProperty;function c(){for(var f={},M=0;M<arguments.length;M++){var m=arguments[M];for(var A in m)d.call(m,A)&&(f[A]=m[A])}return f}},"./src/components/anchored.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/index.js"),m=M.debug("components:anchored:warn");u.exports.Component=f("anchored",{schema:{persistent:{default:!1}},init:function(){var p=this.el.sceneEl,y=p.getAttribute("webxr"),E=y.optionalFeatures;E.indexOf("anchors")===-1&&(E.push("anchors"),this.el.sceneEl.setAttribute("webxr",y)),this.auxQuaternion=new THREE.Quaternion,this.onEnterVR=this.onEnterVR.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR)},onEnterVR:function(){this.anchor=void 0,this.requestPersistentAnchorPending=this.data.persistent,this.requestAnchorPending=!this.data.persistent},tick:function(){var p=this.el.sceneEl,y=p.renderer.xr,E,v,w,x=this.el.object3D;!p.is("ar-mode")&&!p.is("vr-mode")||(!this.anchor&&this.requestPersistentAnchorPending&&this.restorePersistentAnchor(),!this.anchor&&this.requestAnchorPending&&this.createAnchor(),this.anchor&&(E=p.frame,v=y.getReferenceSpace(),w=E.getPose(this.anchor.anchorSpace,v),x.matrix.elements=w.transform.matrix,x.matrix.decompose(x.position,x.rotation,x.scale)))},createAnchor:async function(y,E){var v=this.el.sceneEl,w=v.renderer.xr,x,b,O,S,R=this.el.object3D;if(y=y||R.position,E=E||this.auxQuaternion.setFromEuler(R.rotation),!A(v)){m("This browser doesn't support the WebXR anchors module");return}this.anchor&&this.deleteAnchor(),x=v.frame,b=w.getReferenceSpace(),O=new XRRigidTransform({x:y.x,y:y.y,z:y.z},{x:E.x,y:E.y,z:E.z,w:E.w}),this.requestAnchorPending=!1,S=await x.createAnchor(O,b),this.data.persistent&&(this.el.id?(this.persistentHandle=await S.requestPersistentHandle(),localStorage.setItem(this.el.id,this.persistentHandle)):m("The anchor won't be persisted because the entity has no assigned id.")),v.object3D.attach(this.el.object3D),this.anchor=S},restorePersistentAnchor:async function(){var y=this.el.sceneEl.renderer.xr,E=y.getSession(),v=E.persistentAnchors,w;if(this.requestPersistentAnchorPending=!1,!this.el.id){m("The entity associated to the persistent anchor cannot be retrieved because it doesn't have an assigned id."),this.requestAnchorPending=!0;return}if(v){w=localStorage.getItem(this.el.id);for(var x=0;x<v.length;++x)if(w===v[x]){this.anchor=await E.restorePersistentAnchor(v[x]),this.anchor&&(this.persistentHandle=v[x]);break}this.anchor||(this.requestAnchorPending=!0)}else this.requestPersistentAnchorPending=!0},deleteAnchor:function(){var p,y,E=this.anchor;E&&(p=this.el.sceneEl.renderer.xr,y=p.getSession(),E.delete(),this.el.sceneEl.object3D.add(this.el.object3D),this.persistentHandle&&y.deletePersistentAnchor(this.persistentHandle),this.anchor=void 0)}});function A(p){var y=p.renderer.xr,E=y.getSession();return E&&E.restorePersistentAnchor}},"./src/components/animation.js":(u,d,c)=>{var f=c("./node_modules/super-animejs/lib/anime.es.js").default,M=c("./src/core/component.js").components,m=c("./src/core/component.js").registerComponent,A=c("./src/lib/three.js"),p=c("./src/utils/index.js"),y=new A.Color,E=new A.Color,v=p.entity.getComponentProperty,w=p.entity.setComponentProperty,x={},b="color",O="position",S="rotation",R="scale",I="components",P="object3D";u.exports.Component=m("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(Q){return Q===!0||Q==="true"?!0:Q===!1||Q==="false"?!1:parseInt(Q,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var Q=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){Q.animationIsPlaying=!1,Q.el.emit("animationcomplete",Q.eventDetail,!1),Q.id&&Q.el.emit("animationcomplete__"+Q.id,Q.eventDetail,!1)}}},update:function(Q){var G=this.config,z=this.data;this.animationIsPlaying=!1,this.data.enabled&&z.property&&(G.autoplay=!1,G.direction=z.dir,G.duration=z.dur,G.easing=z.easing,G.elasticity=z.elasticity,G.loop=z.loop,G.round=z.round,this.createAndStartAnimation())},tick:function(Q,G){this.animationIsPlaying&&(this.time+=G,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var Q=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=f(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!(!Q.autoplay||Q.startEvents&&Q.startEvents.length)){if(Q.delay){setTimeout(this.beginAnimation,Q.delay);return}this.beginAnimation()}},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){if(this.data.enabled){if(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=f(this.config),this.data.delay){setTimeout(this.beginAnimation,this.data.delay);return}this.beginAnimation()}},updateConfigForRawColor:function(){var Q=this.config,G=this.data,z=this.el,j,nt,tt;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){j=G.from===""?H(z,G.property):G.from,tt=G.to,this.setColorConfig(j,tt),j=this.fromColor,tt=this.toColor,this.targetsArray.length=0,this.targetsArray.push(j),Q.targets=this.targetsArray;for(nt in tt)Q[nt]=tt[nt];Q.update=function(){var ht={};return function(pt){var gt;gt=pt.animatables[0].target,!(gt.r===ht.r&&gt.g===ht.g&&gt.b===ht.b)&&U(z,G.property,gt,G.type)}}()}},updateConfigForDefault:function(){var Q=this.config,G=this.data,z=this.el,j,nt,tt,ht;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(G.from===""?j=J(G)?H(z,G.property):v(z,G.property):j=G.from,ht=G.to,tt=!isNaN(j||ht),tt?(j=parseFloat(j),ht=parseFloat(ht)):(j=j&&j.toString(),ht=ht&&ht.toString()),nt=G.to==="true"||G.to==="false"||G.to===!0||G.to===!1,nt&&(j=G.from==="true"||G.from===!0?1:0,ht=G.to==="true"||G.to===!0?1:0),this.targets.aframeProperty=j,Q.targets=this.targets,Q.aframeProperty=ht,Q.update=function(){var pt;return function(gt){var Tt;Tt=gt.animatables[0].target.aframeProperty,Tt!==pt&&(pt=Tt,nt&&(Tt=Tt>=1),J(G)?U(z,G.property,Tt,G.type):w(z,G.property,Tt))}}())},updateConfigForVector:function(){var Q=this.config,G=this.data,z=this.el,j,nt,tt;nt=G.from!==""?p.coordinates.parse(G.from):v(z,G.property),tt=p.coordinates.parse(G.to),G.property===S&&(k(nt),k(tt)),this.targetsArray.length=0,this.targetsArray.push(nt),Q.targets=this.targetsArray;for(j in tt)Q[j]=tt[j];if(G.property===O||G.property===S||G.property===R){Q.update=function(){var ht={};return function(pt){var gt=pt.animatables[0].target;gt.x===ht.x&&gt.y===ht.y&&gt.z===ht.z||(ht.x=gt.x,ht.y=gt.y,ht.z=gt.z,z.object3D[G.property].set(gt.x,gt.y,gt.z))}}();return}Q.update=function(){var ht={};return function(pt){var gt=pt.animatables[0].target;gt.x===ht.x&&gt.y===ht.y&&gt.z===ht.z||(ht.x=gt.x,ht.y=gt.y,ht.z=gt.z,w(z,G.property,gt))}}()},updateConfig:function(){var Q;Q=L(this.el,this.data.property),J(this.data)&&this.data.type===b?this.updateConfigForRawColor():Q==="vec2"||Q==="vec3"||Q==="vec4"?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(Q){var G,z=this.data,j=this.el,nt=this;return z.from!==""||!z.property.startsWith(I)||(G=W(z.property)[1],j.components[G])?!1:(j.addEventListener("componentinitialized",function tt(ht){ht.detail.name===G&&(Q(),nt.animation=f(nt.config),j.removeEventListener("componentinitialized",tt))}),!0)},stopRelatedAnimations:function(){var Q,G;for(G in this.el.components)Q=this.el.components[G],G!==this.attrName&&Q.name==="animation"&&Q.animationIsPlaying&&Q.data.property===this.data.property&&(Q.animationIsPlaying=!1)},addEventListeners:function(){var Q=this.data,G=this.el;N(G,Q.startEvents,this.onStartEvent),N(G,Q.pauseEvents,this.pauseAnimation),N(G,Q.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var Q=this.data,G=this.el;$(G,Q.startEvents,this.onStartEvent),$(G,Q.pauseEvents,this.pauseAnimation),$(G,Q.resumeEvents,this.resumeAnimation)},setColorConfig:function(Q,G){y.set(Q),E.set(G),Q=this.fromColor,G=this.toColor,Q.r=y.r,Q.g=y.g,Q.b=y.b,G.r=E.r,G.g=E.g,G.b=E.b}});function L(Q,G){var z,j,nt,tt;return nt=G.split("."),j=nt[0],tt=nt[1],z=Q.components[j]||M[j],!z||tt&&!z.schema[tt]?null:tt?z.schema[tt].type:z.schema.type}function k(Q){Q.x=A.MathUtils.degToRad(Q.x),Q.y=A.MathUtils.degToRad(Q.y),Q.z=A.MathUtils.degToRad(Q.z)}function N(Q,G,z){var j;for(j=0;j<G.length;j++)Q.addEventListener(G[j],z)}function $(Q,G,z){var j;for(j=0;j<G.length;j++)Q.removeEventListener(G[j],z)}function H(Q,G){var z,j,nt;for(j=W(G),nt=Q,z=0;z<j.length;z++)nt=nt[j[z]];if(nt===void 0)throw console.log(Q),new Error("[animation] property ("+G+") could not be found");return nt}function U(Q,G,z,j){var nt,tt,ht,pt;for(G.startsWith("object3D.rotation")&&(z=A.MathUtils.degToRad(z)),tt=W(G),pt=Q,nt=0;nt<tt.length-1;nt++)pt=pt[tt[nt]];if(ht=tt[tt.length-1],j===b){"r"in pt[ht]?(pt[ht].r=z.r,pt[ht].g=z.g,pt[ht].b=z.b):(pt[ht].x=z.r,pt[ht].y=z.g,pt[ht].z=z.b);return}pt[ht]=z}function W(Q){return Q in x||(x[Q]=Q.split(".")),x[Q]}function J(Q){return Q.isRawProperty||Q.property.startsWith(I)||Q.property.startsWith(P)}},"./src/components/camera.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js");u.exports.Component=f("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var m,A=this.el;m=this.camera=new M.PerspectiveCamera,A.setObject3D("camera",m)},update:function(m){var A=this.data,p=this.camera;p.aspect=A.aspect||window.innerWidth/window.innerHeight,p.far=A.far,p.fov=A.fov,p.near=A.near,p.zoom=A.zoom,p.updateProjectionMatrix(),this.updateActiveCamera(m),this.updateSpectatorCamera(m)},updateActiveCamera:function(m){var A=this.data,p=this.el,y=this.system;m&&m.active===A.active||A.spectator||(A.active&&y.activeCameraEl!==p?y.setActiveCamera(p):!A.active&&y.activeCameraEl===p&&y.disableActiveCamera())},updateSpectatorCamera:function(m){var A=this.data,p=this.el,y=this.system;m&&m.spectator===A.spectator||(A.spectator&&y.spectatorCameraEl!==p?y.setSpectatorCamera(p):!A.spectator&&y.spectatorCameraEl===p&&y.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},"./src/components/cursor.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/index.js"),m={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},A={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},p={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},y={DOWN:["selectstart"],UP:["selectend"]},E="a-mouse-cursor-hover";u.exports.Component=f("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:M.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},after:["tracked-controls"],multiple:!0,init:function(){var v=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=M.debounce(function(){v.canvasBounds=v.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=this.onCursorDown.bind(this),this.onCursorUp=this.onCursorUp.bind(this),this.onIntersection=this.onIntersection.bind(this),this.onIntersectionCleared=this.onIntersectionCleared.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onEnterVR=this.onEnterVR.bind(this)},update:function(v){this.data.rayOrigin!==v.rayOrigin&&this.updateMouseEventListeners()},tick:function(){var v=this.el.sceneEl.frame,w=this.activeXRInput;this.data.rayOrigin==="xrselect"&&v&&w&&this.onMouseMove({frame:v,inputSource:w,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var v=this.el;v.removeState(A.HOVERING),v.removeState(A.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(A.HOVERED),this.removeEventListeners()},addEventListeners:function(){var v,w=this.data,x=this.el,b=this;function O(){v=x.sceneEl.canvas,!(w.downEvents.length||w.upEvents.length)&&(p.DOWN.forEach(function(S){v.addEventListener(S,b.onCursorDown,{passive:!1})}),p.UP.forEach(function(S){v.addEventListener(S,b.onCursorUp,{passive:!1})}))}v=x.sceneEl.canvas,v?O():x.sceneEl.addEventListener("render-target-loaded",O),w.downEvents.forEach(function(S){x.addEventListener(S,b.onCursorDown)}),w.upEvents.forEach(function(S){x.addEventListener(S,b.onCursorUp)}),x.addEventListener("raycaster-intersection",this.onIntersection),x.addEventListener("raycaster-closest-entity-changed",this.onIntersection),x.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),x.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),x.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var v,w=this.data,x=this.el,b=this;v=x.sceneEl.canvas,v&&!w.downEvents.length&&!w.upEvents.length&&(p.DOWN.forEach(function(O){v.removeEventListener(O,b.onCursorDown)}),p.UP.forEach(function(O){v.removeEventListener(O,b.onCursorUp)})),w.downEvents.forEach(function(O){x.removeEventListener(O,b.onCursorDown)}),w.upEvents.forEach(function(O){x.removeEventListener(O,b.onCursorUp)}),x.removeEventListener("raycaster-intersection",this.onIntersection),x.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),v.removeEventListener("mousemove",this.onMouseMove),v.removeEventListener("touchstart",this.onMouseMove),v.removeEventListener("touchmove",this.onMouseMove),x.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),x.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var v,w=this.el;v=w.sceneEl.canvas,v.removeEventListener("mousemove",this.onMouseMove),v.removeEventListener("touchmove",this.onMouseMove),w.setAttribute("raycaster","useWorldCoordinates",!1),this.data.rayOrigin==="mouse"&&(v.addEventListener("mousemove",this.onMouseMove),v.addEventListener("touchmove",this.onMouseMove,{passive:!1}),w.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var v=new THREE.Vector3,w=new THREE.Vector2,x=new THREE.Vector3,b={origin:x,direction:v};return function(O){var S=this.canvasBounds,R=this.el.sceneEl.camera,I,P,L,k,N,$,H,U;R.parent.updateMatrixWorld(),O.type==="touchmove"||O.type==="touchstart"?P=O.touches.item(0):P=O,I=P.clientX-S.left,L=P.clientY-S.top,w.x=I/S.width*2-1,w.y=-(L/S.height)*2+1,this.data.rayOrigin==="xrselect"&&(O.type==="selectstart"||O.type==="fakeselectevent")?(k=O.frame,N=O.inputSource,$=this.el.renderer.xr.getReferenceSpace(),H=k.getPose(N.targetRaySpace,$),U=H.transform,v.set(0,0,-1),v.applyQuaternion(U.orientation),x.copy(U.position)):O.type==="fakeselectout"?(v.set(0,1,0),x.set(0,9999,0)):R&&R.isPerspectiveCamera?(x.setFromMatrixPosition(R.matrixWorld),v.set(w.x,w.y,.5).unproject(R).sub(x).normalize()):R&&R.isOrthographicCamera?(x.set(w.x,w.y,(R.near+R.far)/(R.near-R.far)).unproject(R),v.set(0,0,-1).transformDirection(R.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+R.type),this.el.setAttribute("raycaster",b),O.type==="touchmove"&&O.preventDefault()}}(),onCursorDown:function(v){this.isCursorDown=!0,this.data.rayOrigin==="mouse"&&v.type==="touchstart"&&(this.onMouseMove(v),this.el.components.raycaster.checkIntersections(),v.preventDefault()),this.data.rayOrigin==="xrselect"&&v.type==="selectstart"&&(this.activeXRInput=v.inputSource,this.onMouseMove(v),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&this.el.sceneEl.components["ar-hit-test"]!==void 0&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit(m.MOUSEDOWN,v),this.cursorDownEl=this.intersectedEl},onCursorUp:function(v){if(this.isCursorDown){this.isCursorDown=!1;var w=this.data;this.twoWayEmit(m.MOUSEUP,v),this.reenableARHitTest===!0&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(m.MOUSEUP,this.intersectedEventDetail)),(!w.fuse||w.rayOrigin==="mouse"||w.rayOrigin==="xrselect")&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(m.CLICK,v),w.rayOrigin==="xrselect"&&this.activeXRInput===v.inputSource&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,v.type==="touchend"&&v.preventDefault()}},onIntersection:function(v){var w,x=this.el,b,O,S;b=v.detail.els[0]===x?1:0,S=v.detail.intersections[b],O=v.detail.els[b],O&&this.intersectedEl!==O&&(this.intersectedEl&&(w=this.el.components.raycaster.getIntersection(this.intersectedEl),w&&w.distance<=S.distance)||(this.clearCurrentIntersection(!0),this.setIntersection(O,S)))},onIntersectionCleared:function(v){var w=v.detail.clearedEls;w.indexOf(this.intersectedEl)!==-1&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var v=this.el.sceneEl.xrSession,w=this;v&&this.data.rayOrigin!=="mouse"&&(y.DOWN.forEach(function(x){v.addEventListener(x,w.onCursorDown)}),y.UP.forEach(function(x){v.addEventListener(x,w.onCursorUp)}))},setIntersection:function(v,w){var x=this.el,b=this.data,O=this;this.intersectedEl!==v&&(this.intersectedEl=v,x.addState(A.HOVERING),v.addState(A.HOVERED),this.twoWayEmit(m.MOUSEENTER),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.add(E),!(b.fuseTimeout===0||!b.fuse||b.rayOrigin==="xrselect"||b.rayOrigin==="mouse")&&(x.addState(A.FUSING),this.twoWayEmit(m.FUSING),this.fuseTimeout=setTimeout(function(){x.removeState(A.FUSING),O.twoWayEmit(m.CLICK)},b.fuseTimeout)))},clearCurrentIntersection:function(v){var w,x,b,O=this.el;this.intersectedEl&&(this.intersectedEl.removeState(A.HOVERED),O.removeState(A.HOVERING),O.removeState(A.FUSING),this.twoWayEmit(m.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.remove(E),this.intersectedEl=null,clearTimeout(this.fuseTimeout),v!==!0&&(b=this.el.components.raycaster.intersections,b.length!==0&&(w=b[0].object.el===O?1:0,x=b[w],x&&this.setIntersection(x.object.el,x))))},twoWayEmit:function(v,w){var x=this.el,b=this.intersectedEl,O;function S(R,I){w instanceof MouseEvent?R.mouseEvent=w:typeof TouchEvent<"u"&&w instanceof TouchEvent&&(R.touchEvent=w)}O=this.el.components.raycaster.getIntersection(b),this.eventDetail.intersectedEl=b,this.eventDetail.intersection=O,S(this.eventDetail),x.emit(v,this.eventDetail),b&&(this.intersectedEventDetail.intersection=O,S(this.intersectedEventDetail),b.emit(v,this.intersectedEventDetail))}})},"./src/components/generic-tracked-controller-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/tracked-controls.js"),m=M.checkControllerPresentAndSetup,A=M.emitIfAxesChanged,p=M.onButtonEvent,y="generic",E={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]};u.exports.Component=f("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},after:["tracked-controls"],mapping:E,bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var v=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(w){p(w.detail.id,"down",v)},this.onButtonUp=function(w){p(w.detail.id,"up",v)},this.onButtonTouchStart=function(w){p(w.detail.id,"touchstart",v)},this.onButtonTouchEnd=function(w){p(w.detail.id,"touchend",v)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.bindMethods(),this.el.addEventListener("controllerconnected",function(w){w.detail.name!==v.name&&(v.wasControllerConnected=!0,v.removeEventListeners(),v.removeControllersUpdateListener())})},addEventListeners:function(){var v=this.el;v.addEventListener("buttonchanged",this.onButtonChanged),v.addEventListener("buttondown",this.onButtonDown),v.addEventListener("buttonup",this.onButtonUp),v.addEventListener("touchstart",this.onButtonTouchStart),v.addEventListener("touchend",this.onButtonTouchEnd),v.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var v=this.el;v.removeEventListener("buttonchanged",this.onButtonChanged),v.removeEventListener("buttondown",this.onButtonDown),v.removeEventListener("buttonup",this.onButtonUp),v.removeEventListener("touchstart",this.onButtonTouchStart),v.removeEventListener("touchend",this.onButtonTouchEnd),v.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var v=this.data,w=v.hand?v.hand:void 0;m(this,y,{hand:w,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var v=this.el,w=this.data;if(this.el.components["tracked-controls"]){this.removeEventListeners();return}v.setAttribute("tracked-controls",{hand:w.hand,idPrefix:y,orientationOffset:w.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.wasControllerConnected&&this.checkIfControllerPresent()},onButtonChanged:function(v){var w=this.mapping.buttons[v.detail.id];w&&this.el.emit(w+"changed",v.detail.state)},onAxisMoved:function(v){A(this,this.mapping.axes,v)},initDefaultModel:function(){var v=this.modelEl=document.createElement("a-entity");v.setAttribute("geometry",{primitive:"sphere",radius:.03}),v.setAttribute("material",{color:this.data.color}),this.el.appendChild(v),this.el.emit("controllermodelready",{name:"generic-tracked-controller-controls",model:this.modelEl,rayOrigin:{origin:{x:0,y:0,z:-.01},direction:{x:0,y:0,z:-1}}})}})},"./src/components/geometry.js":(u,d,c)=>{var f=c("./src/core/geometry.js").geometries,M=c("./src/core/geometry.js").geometryNames,m=c("./src/core/component.js").registerComponent,A=c("./src/lib/three.js"),p=new A.BufferGeometry;u.exports.Component=m("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:M,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(y){var E=this.data,v=this.el,w,x=this.system;this.geometry&&(x.unuseGeometry(y),this.geometry=null),this.geometry=x.getOrCreateGeometry(E),w=v.getObject3D("mesh"),w?w.geometry=this.geometry:(w=new A.Mesh,w.geometry=this.geometry,this.el.getAttribute("material")||(w.material=new A.MeshStandardMaterial({color:Math.random()*16777215,metalness:0,roughness:.5})),v.setObject3D("mesh",w))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=p,this.geometry=null},updateSchema:function(y){var E=this.oldData&&this.oldData.primitive,v=y.primitive,w=f[v]&&f[v].schema;if(!w)throw new Error("Unknown geometry schema `"+v+"`");E&&E===v||this.extendSchema(w)}})},"./src/components/gltf-model.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/index.js"),A=m.debug("components:gltf-model:warn");u.exports.Component=f("gltf-model",{schema:{type:"model"},init:function(){var p=this,y=this.system.getDRACOLoader(),E=this.system.getMeshoptDecoder(),v=this.system.getKTX2Loader();this.model=null,this.loader=new M.GLTFLoader,y&&this.loader.setDRACOLoader(y),E?this.ready=E.then(function(w){p.loader.setMeshoptDecoder(w)}):this.ready=Promise.resolve(),v&&this.loader.setKTX2Loader(v)},update:function(){var p=this,y=this.el,E=this.data;E&&(this.remove(),this.ready.then(function(){p.loader.load(E,function(w){p.model=w.scene||w.scenes[0],p.model.animations=w.animations,y.setObject3D("mesh",p.model),y.emit("model-loaded",{format:"gltf",model:p.model})},void 0,function(w){var x=w&&w.message?w.message:"Failed to load glTF model";A(x),y.emit("model-error",{format:"gltf",src:E})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"./src/components/grabbable.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;f("grabbable",{init:function(){this.el.setAttribute("obb-collider","centerModel: true")}})},"./src/components/hand-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/constants/index.js").AFRAME_CDN_ROOT,m={toonLeft:M+"controllers/hands/leftHand.glb",toonRight:M+"controllers/hands/rightHand.glb",lowPolyLeft:M+"controllers/hands/leftHandLow.glb",lowPolyRight:M+"controllers/hands/rightHandLow.glb",highPolyLeft:M+"controllers/hands/leftHandHigh.glb",highPolyRight:M+"controllers/hands/rightHandHigh.glb"},A={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},p={};p[A.fist]="grip",p[A.thumbUp]="pistol",p[A.point]="pointing",u.exports.Component=f("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},after:["tracked-controls"],init:function(){var v=this,w=this.el;this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){v.handleButton("grip","down")},this.onGripUp=function(){v.handleButton("grip","up")},this.onTrackpadDown=function(){v.handleButton("trackpad","down")},this.onTrackpadUp=function(){v.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){v.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){v.handleButton("trackpad","touchend")},this.onTriggerDown=function(){v.handleButton("trigger","down")},this.onTriggerUp=function(){v.handleButton("trigger","up")},this.onTriggerTouchStart=function(){v.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){v.handleButton("trigger","touchend")},this.onGripTouchStart=function(){v.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){v.handleButton("grip","touchend")},this.onThumbstickDown=function(){v.handleButton("thumbstick","down")},this.onThumbstickUp=function(){v.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){v.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){v.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){v.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){v.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){v.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){v.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),w.addEventListener("controllerconnected",this.onControllerConnected),w.addEventListener("controllerdisconnected",this.onControllerDisconnected),w.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(v,w){var x=this.el.getObject3D("mesh");!x||!x.mixer||x.mixer.update(w/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var v=this.el;v.addEventListener("gripdown",this.onGripDown),v.addEventListener("gripup",this.onGripUp),v.addEventListener("trackpaddown",this.onTrackpadDown),v.addEventListener("trackpadup",this.onTrackpadUp),v.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),v.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),v.addEventListener("triggerdown",this.onTriggerDown),v.addEventListener("triggerup",this.onTriggerUp),v.addEventListener("triggertouchstart",this.onTriggerTouchStart),v.addEventListener("triggertouchend",this.onTriggerTouchEnd),v.addEventListener("griptouchstart",this.onGripTouchStart),v.addEventListener("griptouchend",this.onGripTouchEnd),v.addEventListener("thumbstickdown",this.onThumbstickDown),v.addEventListener("thumbstickup",this.onThumbstickUp),v.addEventListener("abuttontouchstart",this.onAorXTouchStart),v.addEventListener("abuttontouchend",this.onAorXTouchEnd),v.addEventListener("bbuttontouchstart",this.onBorYTouchStart),v.addEventListener("bbuttontouchend",this.onBorYTouchEnd),v.addEventListener("xbuttontouchstart",this.onAorXTouchStart),v.addEventListener("xbuttontouchend",this.onAorXTouchEnd),v.addEventListener("ybuttontouchstart",this.onBorYTouchStart),v.addEventListener("ybuttontouchend",this.onBorYTouchEnd),v.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),v.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var v=this.el;v.removeEventListener("gripdown",this.onGripDown),v.removeEventListener("gripup",this.onGripUp),v.removeEventListener("trackpaddown",this.onTrackpadDown),v.removeEventListener("trackpadup",this.onTrackpadUp),v.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),v.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),v.removeEventListener("triggerdown",this.onTriggerDown),v.removeEventListener("triggerup",this.onTriggerUp),v.removeEventListener("triggertouchstart",this.onTriggerTouchStart),v.removeEventListener("triggertouchend",this.onTriggerTouchEnd),v.removeEventListener("griptouchstart",this.onGripTouchStart),v.removeEventListener("griptouchend",this.onGripTouchEnd),v.removeEventListener("thumbstickdown",this.onThumbstickDown),v.removeEventListener("thumbstickup",this.onThumbstickUp),v.removeEventListener("abuttontouchstart",this.onAorXTouchStart),v.removeEventListener("abuttontouchend",this.onAorXTouchEnd),v.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),v.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),v.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),v.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),v.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),v.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),v.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),v.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(v){var w,x=this.el,b=this.data.hand,O=this.data.handModelStyle,S=this.data.color,R=this;if(w={hand:b,model:!1},b!==v){var I=m[O+b.charAt(0).toUpperCase()+b.slice(1)];this.loader.load(I,function(P){var L=P.scene.children[0],k=b==="left"?Math.PI/2:-Math.PI/2,N=x.sceneEl.hasWebXR?-Math.PI/2:0;L.mixer=new THREE.AnimationMixer(L),R.clips=P.animations,x.setObject3D("mesh",L),L.traverse(function($){$.isMesh&&($.material.color=new THREE.Color(S))}),L.position.set(0,0,0),L.rotation.set(N,0,k),x.setAttribute("magicleap-controls",w),x.setAttribute("vive-controls",w),x.setAttribute("oculus-touch-controls",w),x.setAttribute("pico-controls",w),x.setAttribute("windows-motion-controls",w),x.setAttribute("hp-mixed-reality-controls",w)})}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(v,w){var x,b=w==="down",O=w==="touchstart";if(w.indexOf("touch")===0){if(O===this.touchedButtons[v])return;this.touchedButtons[v]=O}else{if(b===this.pressedButtons[v])return;this.pressedButtons[v]=b}x=this.gesture,this.gesture=this.determineGesture(),this.gesture!==x&&(this.animateGesture(this.gesture,x),this.emitGestureEvents(this.gesture,x))},determineGesture:function(){var v,w=this.pressedButtons.grip,x=this.pressedButtons.surface||this.touchedButtons.surface,b=this.pressedButtons.trackpad||this.touchedButtons.trackpad,O=this.pressedButtons.trigger||this.touchedButtons.trigger,S=this.touchedButtons.AorX||this.touchedButtons.BorY,R=E(this.el.components["tracked-controls"]);return R?w||O?v=A.fist:b&&(v=A.point):w?x||S||b?v=O?A.fist:A.point:v=O?A.thumbUp:A.pointThumb:O&&(v=A.hold),v},getClip:function(v){var w,x;for(x=0;x<this.clips.length;x++)if(w=this.clips[x],w.name===v)return w},animateGesture:function(v,w){if(v){this.playAnimation(v||A.open,w,!1);return}this.playAnimation(w,w,!0)},emitGestureEvents:function(v,w){var x=this.el,b;w!==v&&(b=y(w,!1),b&&x.emit(b),b=y(v,!0),b&&x.emit(b))},playAnimation:function(v,w,x){var b,O,S=this.el.getObject3D("mesh"),R;if(S){if(b=this.getClip(v),R=S.mixer.clipAction(b),x){R.paused=!1,R.timeScale=-1;return}if(R.clampWhenFinished=!0,R.loop=THREE.LoopOnce,R.repetitions=0,R.timeScale=1,R.time=0,R.weight=1,!w){S.mixer.stopAllAction(),R.play();return}b=this.getClip(w),R.reset(),R.play(),O=S.mixer.clipAction(b),O.crossFadeTo(R,.15,!0)}}});function y(v,w){var x;if(v){if(x=p[v],x==="grip")return x+(w?"close":"open");if(x==="point")return x+(w?"up":"down");if(x==="pointing"||x==="pistol")return x+(w?"start":"end")}}function E(v){var w=v&&v.controller,x=w&&(w.id&&w.id.indexOf("OpenVR ")===0||w.profiles&&w.profiles[0]&&w.profiles[0]==="htc-vive");return x}},"./src/components/hand-tracking-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/core/a-entity.js").AEntity,m=c("./src/utils/tracked-controls.js"),A=m.checkControllerPresentAndSetup,p=c("./src/constants/index.js").AFRAME_CDN_ROOT,y=p+"controllers/oculus-hands/v4/left.glb",E=p+"controllers/oculus-hands/v4/right.glb",v=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],w=0,x=4,b=9,O=.015,S=.1;u.exports.Component=f("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"},modelOpacity:{default:1}},after:["tracked-controls"],bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var R=0;R<this.jointEls.length;++R)this.jointEls[R].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var R=0;R<this.jointEls.length;++R)this.jointEls[R].object3D.visible=!1},init:function(){var R=this.el.sceneEl,I=R.getAttribute("webxr"),P=I.optionalFeatures;P.indexOf("hand-tracking")===-1&&(P.push("hand-tracking"),R.setAttribute("webxr",I)),this.wristObject3D=new THREE.Object3D,this.el.sceneEl.object3D.add(this.wristObject3D),this.onModelLoaded=this.onModelLoaded.bind(this),this.onChildAttached=this.onChildAttached.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3,wristRotation:new THREE.Quaternion},this.indexTipPosition=new THREE.Vector3,this.hasPoses=!1,this.jointPoses=new Float32Array(16*v.length),this.jointRadii=new Float32Array(v.length),this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace),this.el.addEventListener("child-attached",this.onChildAttached),this.el.object3D.visible=!1,this.wristObject3D.visible=!1},onChildAttached:function(R){this.addChildEntity(R.detail.el)},update:function(){this.updateModelMaterial()},updateModelMaterial:function(){var R=this.jointEls,I=this.skinnedMesh,P=this.data.modelOpacity!==1;I&&(this.skinnedMesh.material.color.set(this.data.modelColor),this.skinnedMesh.material.transparent=P,this.skinnedMesh.material.opacity=this.data.modelOpacity);for(var L=0;L<R.length;L++)R[L].setAttribute("material",{color:this.data.modelColor,transparent:P,opacity:this.data.modelOpacity})},updateReferenceSpace:function(){var R=this,I=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,!!I){var P=R.el.sceneEl.systems.webxr.sessionReferenceSpaceType;I.requestReferenceSpace(P).then(function(L){R.referenceSpace=L}).catch(function(L){throw R.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(P,"tracked-controls-webxr uses reference space "+P),L})}},checkIfControllerPresent:function(){var R=this.data,I=R.hand?R.hand:void 0;A(this,"",{hand:I,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var R=this.el.sceneEl,I=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,P=R.frame,L=this.el.components["tracked-controls-webxr"],k=this.referenceSpace;!I||!P||!k||!L||(this.hasPoses=!1,I.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),this.hasPoses=P.fillPoses(I.hand.values(),k,this.jointPoses)&&P.fillJointRadii(I.hand.values(),this.jointRadii),this.updateHandModel(),this.detectGesture(),this.updateWristObject()))},updateWristObject:function(){var R=new THREE.Matrix4;return function(){var I=this.wristObject3D;!I||!this.hasPoses||(R.fromArray(this.jointPoses,w*16),I.position.setFromMatrixPosition(R),I.quaternion.setFromRotationMatrix(R))}}(),updateHandModel:function(){this.data.modelStyle==="dots"&&this.updateHandDotsModel(),this.data.modelStyle==="mesh"&&this.updateHandMeshModel()},getBone:function(R){for(var I=this.bones,P=0;P<I.length;P++)if(I[P].name===R)return I[P];return null},updateHandMeshModel:function(){var R=new THREE.Matrix4;return function(){var I=0,P=this.jointPoses,L=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller;if(!(!L||!this.mesh)&&(this.mesh.visible=!1,!!this.hasPoses))for(var k of L.hand.values()){var N=this.getBone(k.jointName);N!=null&&(this.mesh.visible=!0,R.fromArray(P,I*16),N.position.setFromMatrixPosition(R),N.quaternion.setFromRotationMatrix(R)),I++}}}(),updateHandDotsModel:function(){for(var R=this.jointPoses,I=this.jointRadii,P=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,L,k,N=0;N<P.hand.size;N++)L=this.jointEls[N],k=L.object3D,L.object3D.visible=this.hasPoses,this.hasPoses&&(k.matrix.fromArray(R,N*16),k.matrix.decompose(k.position,k.rotation,k.scale),L.setAttribute("scale",{x:I[N],y:I[N],z:I[N]}))},detectGesture:function(){this.detectPinch()},detectPinch:function(){var R=new THREE.Vector3,I=new THREE.Matrix4;return function(){var P=this.indexTipPosition,L=this.pinchEventDetail;if(this.hasPoses){R.setFromMatrixPosition(I.fromArray(this.jointPoses,x*16)),P.setFromMatrixPosition(I.fromArray(this.jointPoses,b*16)),L.wristRotation.setFromRotationMatrix(I.fromArray(this.jointPoses,w*16));var k=P.distanceTo(R);k<O&&this.isPinched===!1&&(this.isPinched=!0,this.pinchDistance=k,L.position.copy(P).add(R).multiplyScalar(.5),this.el.emit("pinchstarted",L)),k>this.pinchDistance+this.pinchDistance*S&&this.isPinched===!0&&(this.isPinched=!1,L.position.copy(P).add(R).multiplyScalar(.5),this.el.emit("pinchended",L)),this.isPinched&&(L.position.copy(P).add(R).multiplyScalar(.5),this.el.emit("pinchmoved",L))}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var R=this.el,I=this.data;if(R.setAttribute("tracked-controls",{id:"",hand:I.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.mesh){this.mesh!==R.getObject3D("mesh")&&R.setObject3D("mesh",this.mesh);return}this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var R=this.el,I;this.checkIfControllerPresent(),I=R.components["tracked-controls"]&&R.components["tracked-controls"].controller,this.mesh&&I&&I.hand&&I.hand instanceof XRHand&&R.setObject3D("mesh",this.mesh)},initDefaultModel:function(){var R=this.data;R.modelStyle==="dots"&&this.initDotsModel(),R.modelStyle==="mesh"&&this.initMeshHandModel(),this.el.object3D.visible=!0,this.wristObject3D.visible=!0},initDotsModel:function(){if(this.jointEls.length===0){for(var R=0;R<v.length;++R){var I=this.jointEl=document.createElement("a-entity");I.setAttribute("geometry",{primitive:"sphere",radius:1}),I.object3D.visible=!1,this.el.appendChild(I),this.jointEls.push(I)}this.updateModelMaterial()}},initMeshHandModel:function(){var R=this.data.hand==="left"?y:E;this.el.setAttribute("gltf-model",R)},onModelLoaded:function(){var R=this.mesh=this.el.getObject3D("mesh").children[0],I=this.skinnedMesh=R.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=I.skeleton.bones,this.el.removeObject3D("mesh"),R.position.set(0,0,0),R.rotation.set(0,0,0),I.frustumCulled=!1,I.material=new THREE.MeshStandardMaterial,this.updateModelMaterial(),this.setupChildrenEntities(),this.el.setObject3D("mesh",R))},setupChildrenEntities:function(){for(var R=this.el.children,I=0;I<R.length;++I)R[I]instanceof M&&this.addChildEntity(R[I])},addChildEntity:function(R){R instanceof M&&this.wristObject3D.add(R.object3D)}})},"./src/components/hand-tracking-grab-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js");f("hand-tracking-grab-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},color:{type:"color",default:"white"},hoverColor:{type:"color",default:"#538df1"},hoverEnabled:{default:!1}},init:function(){var m=this.el,A=this.data,p;A.hand==="right"?p="components.hand-tracking-controls.bones.3":p="components.hand-tracking-controls.bones.21",m.setAttribute("hand-tracking-controls",{hand:A.hand}),m.setAttribute("obb-collider",{trackedObject3D:p,size:.04}),this.auxMatrix=new M.Matrix4,this.auxQuaternion=new M.Quaternion,this.auxQuaternion2=new M.Quaternion,this.auxVector=new M.Vector3,this.auxVector2=new M.Vector3,this.grabbingObjectPosition=new M.Vector3,this.grabbedObjectPosition=new M.Vector3,this.grabbedObjectPositionDelta=new M.Vector3,this.grabDeltaPosition=new M.Vector3,this.grabInitialRotation=new M.Quaternion,this.onCollisionStarted=this.onCollisionStarted.bind(this),this.el.addEventListener("obbcollisionstarted",this.onCollisionStarted),this.onCollisionEnded=this.onCollisionEnded.bind(this),this.el.addEventListener("obbcollisionended",this.onCollisionEnded),this.onPinchStarted=this.onPinchStarted.bind(this),this.el.addEventListener("pinchstarted",this.onPinchStarted),this.onPinchEnded=this.onPinchEnded.bind(this),this.el.addEventListener("pinchended",this.onPinchEnded),this.onPinchMoved=this.onPinchMoved.bind(this),this.el.addEventListener("pinchmoved",this.onPinchMoved)},transferEntityOwnership:function(){for(var m,A=this.el.sceneEl.querySelectorAll("[hand-tracking-grab-controls]"),p=0;p<A.length;++p)m=A[p].components["hand-tracking-grab-controls"],m!==this&&this.grabbedEl&&this.grabbedEl===m.grabbedEl&&m.releaseGrabbedEntity();return!1},onCollisionStarted:function(m){var A=m.detail.withEl;this.collidedEl||A.getAttribute("grabbable")&&(this.collidedEl=A,this.grabbingObject3D=m.detail.trackedObject3D,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.hoverColor))},onCollisionEnded:function(){this.collidedEl=void 0,!this.grabbedEl&&(this.grabbingObject3D=void 0,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.color))},onPinchStarted:function(m){this.collidedEl&&(this.pinchPosition=m.detail.position,this.wristRotation=m.detail.wristRotation,this.grabbedEl=this.collidedEl,this.transferEntityOwnership(),this.grab())},onPinchEnded:function(){this.releaseGrabbedEntity()},onPinchMoved:function(m){this.wristRotation=m.detail.wristRotation},releaseGrabbedEntity:function(){var m=this.grabbedEl;m&&(m.object3D.updateMatrixWorld=this.originalUpdateMatrixWorld,m.object3D.matrixAutoUpdate=!0,m.object3D.matrixWorldAutoUpdate=!0,m.object3D.matrixWorld.decompose(this.auxVector,this.auxQuaternion,this.auxVector2),m.object3D.position.copy(this.auxVector),m.object3D.quaternion.copy(this.auxQuaternion),this.el.emit("grabended",{grabbedEl:m}),this.grabbedEl=void 0)},grab:function(){var m=this.grabbedEl,A;A=m.object3D.getWorldPosition(this.grabbedObjectPosition),this.grabDeltaPosition.copy(A).sub(this.pinchPosition),this.grabInitialRotation.copy(this.auxQuaternion.copy(this.wristRotation).invert()),this.originalUpdateMatrixWorld=m.object3D.updateMatrixWorld,m.object3D.updateMatrixWorld=function(){},m.object3D.updateMatrixWorldChildren=function(p){for(var y=this.children,E=0,v=y.length;E<v;E++){var w=y[E];(w.matrixWorldAutoUpdate===!0||p===!0)&&w.updateMatrixWorld(!0)}},m.object3D.matrixAutoUpdate=!1,m.object3D.matrixWorldAutoUpdate=!1,this.el.emit("grabstarted",{grabbedEl:m})},tock:function(){var m=this.auxMatrix,A=this.auxQuaternion,p=this.auxQuaternion2,y,E=this.grabbedEl;E&&(y=E.object3D,y.getWorldQuaternion(p),y.matrixWorld.identity(),m.identity(),m.makeTranslation(this.pinchPosition),y.matrixWorld.multiply(m),m.identity(),m.makeRotationFromQuaternion(A.copy(this.wristRotation).multiply(this.grabInitialRotation)),y.matrixWorld.multiply(m),m.identity(),m.makeTranslation(this.grabDeltaPosition),y.matrixWorld.multiply(m),m.identity(),m.makeRotationFromQuaternion(p),y.matrixWorld.multiply(m),m.makeScale(E.object3D.scale.x,E.object3D.scale.y,E.object3D.scale.z),y.matrixWorld.multiply(m),y.updateMatrixWorldChildren())}})},"./src/components/hide-on-enter-ar.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("hide-on-enter-ar",{init:function(){var M=this;this.el.sceneEl.addEventListener("enter-vr",function(){M.el.sceneEl.is("ar-mode")&&(M.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){M.el.object3D.visible=!0})}})},"./src/components/hide-on-enter-vr.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("hide-on-enter-vr",{init:function(){var M=this;this.el.sceneEl.addEventListener("enter-vr",function(){M.el.sceneEl.is("vr-mode")&&(M.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){M.el.object3D.visible=!0})}})},"./src/components/hp-mixed-reality-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),A=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,y=m.onButtonEvent,E="hp-mixed-reality",v=c("./src/constants/index.js").AFRAME_CDN_ROOT,w=v+"controllers/hp/mixed-reality/",x={x:0,y:0,z:.06},b={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"},O={left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}};u.exports.Component=f("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:O,init:function(){var S=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(R){y(R.detail.id,"down",S,S.data.hand)},this.onButtonUp=function(R){y(R.detail.id,"up",S,S.data.hand)},this.onButtonTouchEnd=function(R){y(R.detail.id,"touchend",S,S.data.hand)},this.onButtonTouchStart=function(R){y(R.detail.id,"touchstart",S,S.data.hand)},this.previousButtonValues={},this.bindMethods()},update:function(){var S=this.data;this.controllerIndex=S.hand==="right"?0:S.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var S=this.el;S.addEventListener("buttonchanged",this.onButtonChanged),S.addEventListener("buttondown",this.onButtonDown),S.addEventListener("buttonup",this.onButtonUp),S.addEventListener("touchstart",this.onButtonTouchStart),S.addEventListener("touchend",this.onButtonTouchEnd),S.addEventListener("axismove",this.onAxisMoved),S.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var S=this.el;S.removeEventListener("buttonchanged",this.onButtonChanged),S.removeEventListener("buttondown",this.onButtonDown),S.removeEventListener("buttonup",this.onButtonUp),S.removeEventListener("touchstart",this.onButtonTouchStart),S.removeEventListener("touchend",this.onButtonTouchEnd),S.removeEventListener("axismove",this.onAxisMoved),S.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var S=this.data;A(this,E,{index:this.controllerIndex,hand:S.hand})},injectTrackedControls:function(){var S=this.el,R=this.data;S.setAttribute("tracked-controls",{idPrefix:E,hand:R.hand,controller:this.controllerIndex,orientationOffset:R.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(S){var R=this.mapping[this.data.hand].buttons[S.detail.id],I;R&&(R==="trigger"&&(I=S.detail.state.value,console.log("analog value of trigger press: "+I)),this.el.emit(R+"changed",S.detail.state))},onModelLoaded:function(S){var R=S.detail.model;this.data.model&&(R.position.copy(x),R.rotation.copy(b),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new M.Vector3(0,0,0)}))},onAxisMoved:function(S){p(this,this.mapping.axes,S)}})},"./src/components/index.js":(u,d,c)=>{c("./src/components/animation.js"),c("./src/components/anchored.js"),c("./src/components/camera.js"),c("./src/components/cursor.js"),c("./src/components/geometry.js"),c("./src/components/generic-tracked-controller-controls.js"),c("./src/components/gltf-model.js"),c("./src/components/grabbable.js"),c("./src/components/hand-tracking-controls.js"),c("./src/components/hand-tracking-grab-controls.js"),c("./src/components/hand-controls.js"),c("./src/components/hide-on-enter-ar.js"),c("./src/components/hide-on-enter-vr.js"),c("./src/components/hp-mixed-reality-controls.js"),c("./src/components/layer.js"),c("./src/components/laser-controls.js"),c("./src/components/light.js"),c("./src/components/line.js"),c("./src/components/link.js"),c("./src/components/look-controls.js"),c("./src/components/magicleap-controls.js"),c("./src/components/material.js"),c("./src/components/obb-collider.js"),c("./src/components/obj-model.js"),c("./src/components/oculus-go-controls.js"),c("./src/components/oculus-touch-controls.js"),c("./src/components/pico-controls.js"),c("./src/components/position.js"),c("./src/components/raycaster.js"),c("./src/components/rotation.js"),c("./src/components/scale.js"),c("./src/components/shadow.js"),c("./src/components/sound.js"),c("./src/components/text.js"),c("./src/components/tracked-controls.js"),c("./src/components/tracked-controls-webvr.js"),c("./src/components/tracked-controls-webxr.js"),c("./src/components/visible.js"),c("./src/components/valve-index-controls.js"),c("./src/components/vive-controls.js"),c("./src/components/vive-focus-controls.js"),c("./src/components/wasd-controls.js"),c("./src/components/windows-motion-controls.js"),c("./src/components/scene/ar-hit-test.js"),c("./src/components/scene/background.js"),c("./src/components/scene/debug.js"),c("./src/components/scene/device-orientation-permission-ui.js"),c("./src/components/scene/embedded.js"),c("./src/components/scene/inspector.js"),c("./src/components/scene/fog.js"),c("./src/components/scene/keyboard-shortcuts.js"),c("./src/components/scene/pool.js"),c("./src/components/scene/real-world-meshing.js"),c("./src/components/scene/reflection.js"),c("./src/components/scene/screenshot.js"),c("./src/components/scene/stats.js"),c("./src/components/scene/xr-mode-ui.js")},"./src/components/laser-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/index.js");f("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var m=this.config,A=this.data,p=this.el,y=this,E={hand:A.hand,model:A.model};p.setAttribute("hp-mixed-reality-controls",E),p.setAttribute("magicleap-controls",E),p.setAttribute("oculus-go-controls",E),p.setAttribute("oculus-touch-controls",E),p.setAttribute("pico-controls",E),p.setAttribute("valve-index-controls",E),p.setAttribute("vive-controls",E),p.setAttribute("vive-focus-controls",E),p.setAttribute("windows-motion-controls",E),p.setAttribute("generic-tracked-controller-controls",{hand:E.hand}),p.addEventListener("controllerconnected",v),p.addEventListener("controllerdisconnected",w),p.addEventListener("controllermodelready",function(x){v(x),y.modelReady=!0});function v(x){var b=m[x.detail.name];if(b){var O=M.extend({showLine:!0},b.raycaster||{});x.detail.rayOrigin&&(O.origin=x.detail.rayOrigin.origin,O.direction=x.detail.rayOrigin.direction,O.showLine=!0),x.detail.rayOrigin||!y.modelReady?p.setAttribute("raycaster",O):p.setAttribute("raycaster","showLine",!0),p.setAttribute("cursor",M.extend({fuse:!1},b.cursor))}}function w(x){var b=m[x.detail.name];b&&p.setAttribute("raycaster","showLine",!1)}},config:{"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"pico-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},"./src/components/layer.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/index.js"),m=M.debug("components:layer:warn");u.exports.Component=f("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var p=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=p.createFramebuffer();var y=this.el.sceneEl.getAttribute("webxr"),E=y.requiredFeatures;E.indexOf("layers")===-1&&(E.push("layers"),this.el.sceneEl.setAttribute("webxr",y)),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(p){this.data.src!==p.src&&this.updateSrc()},updateSrc:function(){var p=this.data.type;if(this.texture=void 0,p==="quad"){this.loadQuadImage();return}if(p==="monocubemap"||p==="stereocubemap"){this.loadCubeMapImages();return}},loadCubeMapImages:function(){var p,y=this.xrGLFactory,E=this.el.sceneEl.frame,v=this.data.src,w=this.data.type;this.visibilityChanged=!1,this.layer&&(w!=="monocubemap"&&w!=="stereocubemap"||(v.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,w==="monocubemap"?(p=y.getSubImage(this.layer,E),this.loadCubeMapImage(p.colorTexture,v,0)):(p=y.getSubImage(this.layer,E,"left"),this.loadCubeMapImage(p.colorTexture,v,0),p=y.getSubImage(this.layer,E,"right"),this.loadCubeMapImage(p.colorTexture,v,6))))},loadQuadImage:function(){var p=this.data.src,y=this;this.el.sceneEl.systems.material.loadTexture(p,{src:p},function(v){y.el.sceneEl.renderer.initTexture(v),y.texture=v,p.tagName==="VIDEO"&&setTimeout(function(){y.textureIsVideo=!0},1e3),y.layer&&(y.layer.height=y.data.height/2||y.texture.image.height/1e3,y.layer.width=y.data.width/2||y.texture.image.width/1e3,y.needsRedraw=!0),y.updateQuadPanel()})},preGenerateCubeMapTextures:function(p,y){this.data.type==="monocubemap"?this.generateCubeMapTextures(p,0,y):(this.generateCubeMapTextures(p,0,y),this.generateCubeMapTextures(p,6,y))},generateCubeMapTextures:function(p,y,E){for(var v=this.data,w=this.cubeFaceSize,x=Math.min(p.width,p.height),b=[],O,S,R=0;R<6;R++){var I=document.createElement("CANVAS");I.width=I.height=w;var P=I.getContext("2d");v.rotateCubemap&&(R===2||R===3)&&(P.save(),P.translate(w,w),P.rotate(Math.PI)),P.drawImage(p,(R+y)*x,0,x,x,0,0,w,w),P.restore(),E&&E(),b.push(I)}return v.rotateCubemap&&(O=b[0],S=b[1],b[0]=S,b[1]=O,O=b[4],S=b[5],b[4]=S,b[5]=O),E&&E(),b},loadCubeMapImage:function(p,y,E){var v=this.el.sceneEl.renderer.getContext(),w;v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1),v.bindTexture(v.TEXTURE_CUBE_MAP,p),!y.complete||this.loadingScreen?w=this.loadingScreenImages:w=this.generateCubeMapTextures(y,E);var x=0;w.forEach(function(b,O){v.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,0,0,v.RGBA,v.UNSIGNED_BYTE,b),x=v.getError()}),x!==0&&console.log("renderingError, WebGL Error Code: "+x),v.bindTexture(v.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),!(!this.needsRedraw&&!this.layer.needsRedraw&&!this.textureIsVideo)&&(this.data.type==="quad"&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var p=this,y=this.data.type;if(this.el.sceneEl.xrSession.onvisibilitychange=function(E){p.visibilityChanged=E.session.visibilityState!=="hidden"},y==="quad"){this.initQuadLayer();return}if(y==="monocubemap"||y==="stereocubemap"){this.initCubeMapLayer();return}},initQuadLayer:function(){var p=this.el.sceneEl,y=p.renderer.getContext(),E=this.xrGLFactory=new XRWebGLBinding(p.xrSession,y);this.texture&&(this.layer=E.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),p.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var p=this.data.src,y=this.el.sceneEl,E=y.renderer.getContext(),v=E.getParameter(E.MAX_CUBE_MAP_TEXTURE_SIZE),w=this.cubeFaceSize=Math.min(v,Math.min(p.width,p.height)),x=this.xrGLFactory=new XRWebGLBinding(y.xrSession,E);this.layer=x.createCubeLayer({space:this.referenceSpace,viewPixelWidth:w,viewPixelHeight:w,layout:this.data.type==="monocubemap"?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),y.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var p=this.cubeFaceSize,y=this.loadingScreenImages=[],E=0;E<6;E++){var v=document.createElement("CANVAS");v.width=v.height=p;var w=v.getContext("2d");v.width=v.height=p,w.fillStyle="black",w.fillRect(0,0,p,p),E!==2&&E!==3&&(w.translate(p,0),w.scale(-1,1),w.fillStyle="white",w.font="30px Arial",w.fillText("Loading",p/2,p/2)),y.push(v)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(p){this.layerEnabled=p,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var p=this.quadPanelEl;this.quadPanelEl||(p=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(p)),p.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),p.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var p=this.el.sceneEl,y=this.el.sceneEl.renderer.getContext(),E=this.xrGLFactory.getSubImage(this.layer,p.frame),v=p.renderer.properties.get(this.texture).__webglTexture,w=y.getParameter(y.FRAMEBUFFER_BINDING);y.viewport(E.viewport.x,E.viewport.y,E.viewport.width,E.viewport.height),y.bindFramebuffer(y.FRAMEBUFFER,this.frameBuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,E.colorTexture,0),A(y,v,E,this.data.src),y.bindFramebuffer(y.FRAMEBUFFER,w)},updateTransform:function(){var p=this.el,y=this.position,E=this.quaternion;p.object3D.updateMatrixWorld(),y.setFromMatrixPosition(p.object3D.matrixWorld),E.setFromRotationMatrix(p.object3D.matrixWorld),this.layerEnabled||y.set(0,0,1e8),this.layer.transform=new XRRigidTransform(y,E)},onEnterVR:function(){var p=this.el.sceneEl,y=p.xrSession;if(!p.hasWebXR||!XRWebGLBinding||!y){m("The layer component requires WebXR and the layers API enabled");return}y.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(p){this.referenceSpace=p}});function A(p,y,E,v){var w=p.createFramebuffer(),x=E.viewport.x,b=E.viewport.y,O=E.viewport.x+E.viewport.width,S=E.viewport.y+E.viewport.height;v.tagName==="VIDEO"&&(p.bindTexture(p.TEXTURE_2D,y),p.texSubImage2D(p.TEXTURE_2D,0,0,0,v.width,v.height,p.RGB,p.UNSIGNED_BYTE,v)),p.bindFramebuffer(p.READ_FRAMEBUFFER,w),p.framebufferTexture2D(p.READ_FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,y,0),p.readBuffer(p.COLOR_ATTACHMENT0),p.blitFramebuffer(0,0,v.width,v.height,x,b,O,S,p.COLOR_BUFFER_BIT,p.NEAREST),p.bindFramebuffer(p.READ_FRAMEBUFFER,null),p.deleteFramebuffer(w)}},"./src/components/light.js":(u,d,c)=>{var f=c("./src/utils/index.js"),M=f.diff,m=c("./src/utils/debug.js"),A=c("./src/core/component.js").registerComponent,p=c("./src/lib/three.js"),y=c("./src/utils/math.js"),E=p.MathUtils.degToRad,v=m("components:light:warn"),w=new p.CubeTextureLoader,x={};u.exports.Component=A("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var b=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(b)},update:function(b){var O=this.data,S=M(O,b),R=this.light,I=this;if(R&&!("type"in S)){var P=!1;Object.keys(S).forEach(function(L){var k=O[L];switch(L){case"color":{R.color.set(k);break}case"groundColor":{R.groundColor.set(k);break}case"angle":{R.angle=E(k);break}case"target":{k===null?(O.type==="spot"||O.type==="directional")&&(R.target=I.defaultTarget):k.hasLoaded?I.onSetTarget(k,R):k.addEventListener("loaded",I.onSetTarget.bind(I,k,R));break}case"envMap":I.updateProbeMap(O,R);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":P||(I.updateShadow(),P=!0);break;case"shadowCameraAutomatic":O.shadowCameraAutomatic?I.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(O.shadowCameraAutomatic)):I.shadowCameraAutomaticEls=[];break;default:R[L]=k}});return}this.setLight(this.data),this.updateShadow()},tick:function(){var b=new p.Box3,O=new p.Vector3,S=new p.Vector3,R=new p.Matrix4,I=new p.Sphere,P=new p.Vector3;return function(){if(this.data.type==="directional"&&this.light.shadow&&this.light.shadow.camera instanceof p.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var L=this.light.shadow.camera;L.getWorldDirection(O),L.getWorldPosition(S),R.copy(L.matrixWorld),R.invert(),L.near=1,L.left=1e5,L.right=-1e5,L.top=-1e5,L.bottom=1e5,this.shadowCameraAutomaticEls.forEach(function(k){b.setFromObject(k.object3D),b.getBoundingSphere(I);var N=y.distanceOfPointFromPlane(S,O,I.center),$=y.nearestPointInPlane(S,O,I.center,P),H=$.applyMatrix4(R);L.near=Math.min(-N-I.radius-1,L.near),L.left=Math.min(-I.radius+H.x,L.left),L.right=Math.max(I.radius+H.x,L.right),L.top=Math.max(I.radius+H.y,L.top),L.bottom=Math.min(-I.radius+H.y,L.bottom)}),L.updateProjectionMatrix()}}}(),setLight:function(b){var O=this.el,S=this.getLight(b);S&&(this.light&&O.removeObject3D("light"),this.light=S,this.light.el=O,O.setObject3D("light",this.light),(b.type==="spot"||b.type==="directional"||b.type==="hemisphere")&&O.getObject3D("light").translateY(-1),b.type==="spot"&&(O.setObject3D("light-target",this.defaultTarget),O.getObject3D("light-target").position.set(0,0,-1)),b.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(b.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var b=this.el,O=this.data,S=this.light;S.castShadow=O.castShadow;var R=b.getObject3D("cameraHelper");if(O.shadowCameraVisible&&!R?b.setObject3D("cameraHelper",new p.CameraHelper(S.shadow.camera)):!O.shadowCameraVisible&&R&&b.removeObject3D("cameraHelper"),!O.castShadow)return S;S.shadow.bias=O.shadowBias,S.shadow.radius=O.shadowRadius,S.shadow.mapSize.height=O.shadowMapHeight,S.shadow.mapSize.width=O.shadowMapWidth,S.shadow.camera.near=O.shadowCameraNear,S.shadow.camera.far=O.shadowCameraFar,S.shadow.camera instanceof p.OrthographicCamera?(S.shadow.camera.top=O.shadowCameraTop,S.shadow.camera.right=O.shadowCameraRight,S.shadow.camera.bottom=O.shadowCameraBottom,S.shadow.camera.left=O.shadowCameraLeft):S.shadow.camera.fov=O.shadowCameraFov,S.shadow.camera.updateProjectionMatrix(),R&&R.update()},getLight:function(b){var O=b.angle,S=new p.Color(b.color);S=S.getHex();var R=b.decay,I=b.distance,P=new p.Color(b.groundColor);P=P.getHex();var L=b.intensity,k=b.type,N=b.target,$=null;switch(k.toLowerCase()){case"ambient":return new p.AmbientLight(S,L);case"directional":return $=new p.DirectionalLight(S,L),this.defaultTarget=$.target,N&&(N.hasLoaded?this.onSetTarget(N,$):N.addEventListener("loaded",this.onSetTarget.bind(this,N,$))),$;case"hemisphere":return new p.HemisphereLight(S,P,L);case"point":return new p.PointLight(S,L,I,R);case"spot":return $=new p.SpotLight(S,L,I,E(O),b.penumbra,R),this.defaultTarget=$.target,N&&(N.hasLoaded?this.onSetTarget(N,$):N.addEventListener("loaded",this.onSetTarget.bind(this,N,$))),$;case"probe":return $=new p.LightProbe,this.updateProbeMap(b,$),$;default:v("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",k)}},updateProbeMap:function(b,O){b.envMap||O.copy(new p.LightProbe),x[b.envMap]instanceof window.Promise&&x[b.envMap].then(function(S){O.copy(S)}),x[b.envMap]instanceof p.LightProbe&&O.copy(x[b.envMap]),x[b.envMap]=new window.Promise(function(S){f.srcLoader.validateCubemapSrc(b.envMap,function(I){w.load(I,function(P){var L=p.LightProbeGenerator.fromCubeTexture(P);x[b.envMap]=L,O.copy(L)})})})},onSetTarget:function(b,O){O.target=b.object3D},remove:function(){var b=this.el;b.removeObject3D("light"),b.getObject3D("cameraHelper")&&b.removeObject3D("cameraHelper")}})},"./src/components/line.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var m=this.data,A,p;p=this.material=new THREE.LineBasicMaterial({color:m.color,opacity:m.opacity,transparent:m.opacity<1,visible:m.visible}),A=this.geometry=new THREE.BufferGeometry,A.setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.line=new THREE.Line(A,p),this.el.setObject3D(this.attrName,this.line)},update:function(m){var A=this.data,p=this.geometry,y=!1,E=this.material,v=p.attributes.position.array;M(A.start,m.start)||(v[0]=A.start.x,v[1]=A.start.y,v[2]=A.start.z,y=!0),M(A.end,m.end)||(v[3]=A.end.x,v[4]=A.end.y,v[5]=A.end.z,y=!0),y&&(p.attributes.position.needsUpdate=!0,p.computeBoundingSphere()),E.color.setStyle(A.color),E.opacity=A.opacity,E.transparent=A.opacity<1,E.visible=A.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}});function M(m,A){return!m||!A?!1:m.x===A.x&&m.y===A.y&&m.z===A.z}},"./src/components/link.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/core/shader.js").registerShader,m=c("./src/lib/three.js");u.exports.Component=f("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new m.Quaternion,this.hiddenEls=[]},update:function(A){var p=this.data,y=this.el,E,v;p.visualAspectEnabled&&(this.initVisualAspect(),E=p.highlighted?p.highlightedColor:p.backgroundColor,v=p.highlighted?p.highlightedColor:p.borderColor,y.setAttribute("material","backgroundColor",E),y.setAttribute("material","strokeColor",v),p.on!==A.on&&this.updateEventListener(),A.peekMode!==void 0&&p.peekMode!==A.peekMode&&this.updatePeekMode(),!(!p.image||A.image===p.image)&&y.setAttribute("material","pano",typeof p.image=="string"?p.image:p.image.src))},updatePeekMode:function(){var A=this.el,p=this.sphereEl;this.data.peekMode?(this.hideAll(),A.getObject3D("mesh").visible=!1,p.setAttribute("visible",!0)):(this.showAll(),A.getObject3D("mesh").visible=!0,p.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var A=this.el;A.isPlaying&&(this.removeEventListener(),A.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var A=this.data.on;A&&this.el.removeEventListener(A,this.navigate)},initVisualAspect:function(){var A=this.el,p,y,E;!this.data.visualAspectEnabled||this.visualAspectInitialized||(E=this.textEl=this.textEl||document.createElement("a-entity"),y=this.sphereEl=this.sphereEl||document.createElement("a-entity"),p=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),A.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),A.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),E.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),E.setAttribute("position","0 1.5 0"),A.appendChild(E),p.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),p.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),p.setAttribute("rotation","0 180 0"),p.setAttribute("position","0 0 0"),p.setAttribute("visible",!1),A.appendChild(p),y.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),y.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),y.setAttribute("visible",!1),A.appendChild(y),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var A=new m.Vector3,p=new m.Vector3,y=new m.Quaternion,E=new m.Vector3;return function(){var v=this.el,w=v.object3D,x=v.sceneEl.camera,b,O,S=this.textEl;if(this.data.visualAspectEnabled)if(w.updateMatrixWorld(),x.parent.updateMatrixWorld(),x.updateMatrixWorld(),w.matrix.decompose(p,y,E),p.setFromMatrixPosition(w.matrixWorld),A.setFromMatrixPosition(x.matrixWorld),O=p.distanceTo(A),O>20)this.previousQuaternion||(this.quaternionClone.copy(y),this.previousQuaternion=this.quaternionClone),w.lookAt(A);else{if(b=this.calculateCameraPortalOrientation(),O<.5){if(this.semiSphereEl.getAttribute("visible")===!0)return;S.setAttribute("text","width",1.5),b<=0?(S.setAttribute("position","0 0 0.75"),S.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(S.setAttribute("position","0 0 -0.75"),S.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),v.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=b}else b<=0?S.setAttribute("rotation","0 180 0"):S.setAttribute("rotation","0 0 0"),S.setAttribute("text","width",5),S.setAttribute("position","0 1.5 0"),v.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(w.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var A=this.el,p=this.hiddenEls,y=this;p.length>0||A.sceneEl.object3D.traverse(function(E){E&&E.el&&E.el.hasAttribute("link-controls")||!E.el||E===A.sceneEl.object3D||E.el===A||E.el===y.sphereEl||E.el===A.sceneEl.cameraEl||E.el.getAttribute("visible")===!1||E.el===y.textEl||E.el===y.semiSphereEl||(E.el.setAttribute("visible",!1),p.push(E.el))})},showAll:function(){this.hiddenEls.forEach(function(A){A.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var A=new m.Matrix4,p=new m.Vector3,y=new m.Vector3(0,0,1),E=new m.Vector3(0,0,0);return function(){var v=this.el,w=v.sceneEl.camera;return p.set(0,0,0),y.set(0,0,1),E.set(0,0,0),v.object3D.matrixWorld.extractRotation(A),y.applyMatrix4(A),v.object3D.updateMatrixWorld(),v.object3D.localToWorld(E),w.parent.parent.updateMatrixWorld(),w.parent.updateMatrixWorld(),w.updateMatrixWorld(),w.localToWorld(p),p.sub(E).normalize(),y.normalize(),Math.sign(y.dot(p))}}(),remove:function(){this.removeEventListener()}}),M("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join(`
`),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join(`
`)})},"./src/components/look-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/index.js"),A=Math.PI/2;u.exports.Component=f("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new M.Vector3,this.hmdQuaternion=new M.Quaternion,this.magicWindowAbsoluteEuler=new M.Euler,this.magicWindowDeltaEuler=new M.Euler,this.position=new M.Vector3,this.magicWindowObject=new M.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new M.Vector3,rotation:new M.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var p,y=this.data;(m.device.isMobile()||m.device.isMobileDeviceRequestingDesktopSite())&&(p=this.magicWindowControls=new M.DeviceOrientationControls(this.magicWindowObject),typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission&&(p.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?p.enabled=y.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){p.enabled=y.magicWindowTrackingEnabled})))},update:function(p){var y=this.data;y.enabled!==p.enabled&&this.updateGrabCursor(y.enabled),p&&!y.magicWindowTrackingEnabled&&p.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=y.magicWindowTrackingEnabled),p&&!y.pointerLockEnabled!==p.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(p){var y=this.data;y.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this),this.onPointerLockChange=this.onPointerLockChange.bind(this),this.onPointerLockError=this.onPointerLockError.bind(this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new M.Object3D,this.yawObject=new M.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var p=this.el.sceneEl,y=p.canvas;if(!y){p.addEventListener("render-target-loaded",this.addEventListeners.bind(this));return}y.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),y.addEventListener("touchstart",this.onTouchStart,{passive:!0}),window.addEventListener("touchmove",this.onTouchMove,{passive:!0}),window.addEventListener("touchend",this.onTouchEnd,{passive:!0}),p.addEventListener("enter-vr",this.onEnterVR),p.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))},removeEventListeners:function(){var p=this.el.sceneEl,y=p&&p.canvas;y&&(y.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),y.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),p.removeEventListener("enter-vr",this.onEnterVR),p.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var p=this.el.object3D,y=this.pitchObject,E=this.yawObject,v=this.el.sceneEl;(v.is("vr-mode")||v.is("ar-mode"))&&v.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),p.rotation.x=this.magicWindowDeltaEuler.x+y.rotation.x,p.rotation.y=this.magicWindowDeltaEuler.y+E.rotation.y,p.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var p=this.magicWindowAbsoluteEuler,y=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),p.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),!this.previousMagicWindowYaw&&p.y!==0&&(this.previousMagicWindowYaw=p.y),this.previousMagicWindowYaw&&(y.x=p.x,y.y+=p.y-this.previousMagicWindowYaw,y.z=p.z,this.previousMagicWindowYaw=p.y))},onMouseMove:function(p){var y,E,v,w=this.pitchObject,x=this.previousMouseEvent,b=this.yawObject;!this.data.enabled||!this.mouseDown&&!this.pointerLocked||(this.pointerLocked?(E=p.movementX||p.mozMovementX||0,v=p.movementY||p.mozMovementY||0):(E=p.screenX-x.screenX,v=p.screenY-x.screenY),this.previousMouseEvent.screenX=p.screenX,this.previousMouseEvent.screenY=p.screenY,y=this.data.reverseMouseDrag?1:-1,b.rotation.y+=E*.002*y,w.rotation.x+=v*.002*y,w.rotation.x=Math.max(-A,Math.min(A,w.rotation.x)))},onMouseDown:function(p){var y=this.el.sceneEl;if(!(!this.data.enabled||!this.data.mouseEnabled||(y.is("vr-mode")||y.is("ar-mode"))&&y.checkHeadsetConnected())&&p.button===0){var E=y&&y.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=p.screenX,this.previousMouseEvent.screenY=p.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(E.requestPointerLock?E.requestPointerLock():E.mozRequestPointerLock&&E.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(p){p.touches.length!==1||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:p.touches[0].pageX,y:p.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(p){var y,E=this.el.sceneEl.canvas,v,w=this.yawObject;!this.touchStarted||!this.data.touchEnabled||(v=2*Math.PI*(p.touches[0].pageX-this.touchStart.x)/E.clientWidth,y=this.data.reverseTouchDrag?1:-1,w.rotation.y-=v*.5*y,this.touchStart={x:p.touches[0].pageX,y:p.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var p=this.el.sceneEl;p.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),p.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!!(document.pointerLockElement||document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(p){var y=this.el.sceneEl;function E(){y.canvas.classList.add("a-grab-cursor")}function v(){y.canvas.classList.remove("a-grab-cursor")}if(!y.canvas){p?y.addEventListener("render-target-loaded",E):y.addEventListener("render-target-loaded",v);return}if(p){E();return}v()},saveCameraPose:function(){var p=this.el;this.savedPose.position.copy(p.object3D.position),this.savedPose.rotation.copy(p.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var p=this.el,y=this.savedPose;this.hasSavedPose&&(p.object3D.position.copy(y.position),p.object3D.rotation.copy(y.rotation),this.hasSavedPose=!1)}})},"./src/components/magicleap-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/tracked-controls.js"),m=M.checkControllerPresentAndSetup,A=M.emitIfAxesChanged,p=M.onButtonEvent,y="magicleap",E="-one",v=y+E,w=c("./src/constants/index.js").AFRAME_CDN_ROOT,x=w+"controllers/magicleap/magicleap-one-controller.glb",b={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]};u.exports.Component=f("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:b,init:function(){var O=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(S){p(S.detail.id,"down",O)},this.onButtonUp=function(S){p(S.detail.id,"up",O)},this.onButtonTouchEnd=function(S){p(S.detail.id,"touchend",O)},this.onButtonTouchStart=function(S){p(S.detail.id,"touchstart",O)},this.previousButtonValues={},this.bindMethods()},update:function(){var O=this.data;this.controllerIndex=O.hand==="right"?0:O.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var O=this.el;O.addEventListener("buttonchanged",this.onButtonChanged),O.addEventListener("buttondown",this.onButtonDown),O.addEventListener("buttonup",this.onButtonUp),O.addEventListener("touchstart",this.onButtonTouchStart),O.addEventListener("touchend",this.onButtonTouchEnd),O.addEventListener("axismove",this.onAxisMoved),O.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var O=this.el;O.removeEventListener("buttonchanged",this.onButtonChanged),O.removeEventListener("buttondown",this.onButtonDown),O.removeEventListener("buttonup",this.onButtonUp),O.removeEventListener("touchstart",this.onButtonTouchStart),O.removeEventListener("touchend",this.onButtonTouchEnd),O.removeEventListener("axismove",this.onAxisMoved),O.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var O=this.data;m(this,v,{index:this.controllerIndex,hand:O.hand})},injectTrackedControls:function(){var O=this.el,S=this.data;O.setAttribute("tracked-controls",{idPrefix:v,hand:S.hand,controller:this.controllerIndex,orientationOffset:S.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",x)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(O){var S=this.mapping.buttons[O.detail.id],R;S&&(S==="trigger"&&(R=O.detail.state.value,console.log("analog value of trigger press: "+R)),this.el.emit(S+"changed",O.detail.state))},onModelLoaded:function(O){var S=O.detail.model;S.scale.set(.01,.01,.01)},onAxisMoved:function(O){A(this,this.mapping.axes,O)},updateModel:function(O,S){},setButtonColor:function(O,S){}})},"./src/components/material.js":(u,d,c)=>{var f=c("./src/utils/index.js"),M=c("./src/core/component.js"),m=c("./src/lib/three.js"),A=c("./src/core/shader.js"),p=f.debug("components:material:error"),y=M.registerComponent,E=A.shaders,v=A.shaderNames;u.exports.Component=y("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:v,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0},anisotropy:{default:0,min:0}},init:function(){this.material=null},update:function(O){var S=this.data;(!this.shader||S.shader!==O.shader)&&this.updateShader(S.shader),this.shader.update(this.data),this.updateMaterial(O)},updateSchema:function(O){var S,R,I,P;R=O&&O.shader,S=this.oldData&&this.oldData.shader,P=R||S,I=E[P]&&E[P].schema,I||p("Unknown shader schema "+P),!(S&&R===S)&&(this.extendSchema(I),this.updateBehavior())},updateBehavior:function(){var O,S=this.el.sceneEl,R=this.schema,I=this,P;function L(k,N){var $;for($ in P)P[$]=k;I.shader.update(P)}this.tick=void 0,P={};for(O in R)R[O].type==="time"&&(this.tick=L,P[O]=!0);S&&(this.tick?S.addBehavior(this):S.removeBehavior(this))},updateShader:function(O){var S=this.data,R=E[O]&&E[O].Shader,I;if(!R)throw new Error("Unknown shader "+O);I=this.shader=new R,I.el=this.el,I.init(S),this.setMaterial(I.material),this.updateSchema(S)},updateMaterial:function(O){var S=this.data,R=this.material,I;R.alphaTest=S.alphaTest,R.depthTest=S.depthTest!==!1,R.depthWrite=S.depthWrite!==!1,R.opacity=S.opacity,R.flatShading=S.flatShading,R.side=w(S.side),R.transparent=S.transparent!==!1||S.opacity<1,R.vertexColors=S.vertexColorsEnabled,R.visible=S.visible,R.blending=x(S.blending),R.dithering=S.dithering;for(I in O)break;I&&(O.alphaTest!==S.alphaTest||O.side!==S.side||O.vertexColorsEnabled!==S.vertexColorsEnabled)&&(R.needsUpdate=!0)},remove:function(){var O=new m.MeshBasicMaterial,S=this.material,R=this.el.getObject3D("mesh");R&&(R.material=O),b(S,this.system)},setMaterial:function(O){var S=this.el,R,I=this.system;this.material&&b(this.material,I),this.material=O,I.registerMaterial(O),R=S.getObject3D("mesh"),R?R.material=O:S.addEventListener("object3dset",function P(L){L.detail.type!=="mesh"||L.target!==S||(S.getObject3D("mesh").material=O,S.removeEventListener("object3dset",P))})}});function w(O){switch(O){case"back":return m.BackSide;case"double":return m.DoubleSide;default:return m.FrontSide}}function x(O){switch(O){case"none":return m.NoBlending;case"additive":return m.AdditiveBlending;case"subtractive":return m.SubtractiveBlending;case"multiply":return m.MultiplyBlending;default:return m.NormalBlending}}function b(O,S){O.dispose(),S.unregisterMaterial(O),Object.keys(O).filter(function(R){return O[R]&&O[R].isTexture}).forEach(function(R){O[R].dispose()})}},"./src/components/obb-collider.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js");f("obb-collider",{schema:{size:{default:0},trackedObject3D:{default:""},minimumColliderDimension:{default:.02},centerModel:{default:!1}},init:function(){this.previousScale=new M.Vector3().copy(this.el.object3D.scale),this.auxEuler=new M.Euler,this.boundingBox=new M.Box3,this.boundingBoxSize=new M.Vector3,this.updateCollider=this.updateCollider.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.updateBoundingBox=this.updateBoundingBox.bind(this),this.el.addEventListener("model-loaded",this.onModelLoaded),this.updateCollider(),this.system.addCollider(this.el)},remove:function(){this.system.removeCollider(this.el)},update:function(){this.data.trackedObject3D&&(this.trackedObject3DPath=this.data.trackedObject3D.split("."))},onModelLoaded:function(){this.data.centerModel&&this.centerModel(),this.updateCollider()},centerModel:function(){var m=this.el,A=m.components["gltf-model"]&&m.components["gltf-model"].model,p,y;A&&(this.el.removeObject3D("mesh"),p=new M.Box3().setFromObject(A),y=p.getCenter(new M.Vector3),A.position.x+=A.position.x-y.x,A.position.y+=A.position.y-y.y,A.position.z+=A.position.z-y.z,this.el.setObject3D("mesh",A))},updateCollider:function(){var m=this.el,A=this.boundingBoxSize,p=this.aabb=this.aabb||new M.OBB;if(this.obb=this.obb||new M.OBB,!m.hasLoaded){m.addEventListener("loaded",this.updateCollider);return}this.updateBoundingBox(),p.halfSize.copy(A).multiplyScalar(.5),this.el.sceneEl.systems["obb-collider"].data.showColliders&&this.showCollider()},showCollider:function(){this.updateColliderMesh(),this.renderColliderMesh.visible=!0},updateColliderMesh:function(){var m=this.renderColliderMesh,A=this.boundingBoxSize;if(!m){this.initColliderMesh();return}m.geometry.dispose(),m.geometry=new M.BoxGeometry(A.x,A.y,A.z)},hideCollider:function(){this.renderColliderMesh&&(this.renderColliderMesh.visible=!1)},initColliderMesh:function(){var m,A,p;m=this.boundingBoxSize,A=this.renderColliderGeometry=new M.BoxGeometry(m.x,m.y,m.z),p=this.renderColliderMesh=new M.Mesh(A,new M.MeshLambertMaterial({color:65280,side:M.DoubleSide})),p.matrixAutoUpdate=!1,p.matrixWorldAutoUpdate=!1,p.updateMatrixWorld=function(){},this.el.sceneEl.object3D.add(p)},updateBoundingBox:function(){var m=new M.Vector3,A=new M.Vector3,p=new M.Quaternion,y=new M.Quaternion,E=new M.Matrix4;return function(){var v=this.auxEuler,w=this.boundingBox,x=this.data.size,b=this.trackedObject3D||this.el.object3D,O=this.boundingBoxSize,S=this.data.minimumColliderDimension;if(x){this.boundingBoxSize.x=x,this.boundingBoxSize.y=x,this.boundingBoxSize.z=x;return}v.copy(b.rotation),b.rotation.set(0,0,0),b.parent.matrixWorld.decompose(m,p,A),E.compose(m,y,A),b.parent.matrixWorld.copy(E),w.setFromObject(b,!0),w.getSize(O),O.x=O.x<S?S:O.x,O.y=O.y<S?S:O.y,O.z=O.z<S?S:O.z,b.parent.matrixWorld.compose(m,p,A),this.el.object3D.rotation.copy(v)}}(),checkTrackedObject:function(){var m=this.trackedObject3DPath,A;if(m&&m.length&&!this.trackedObject3D){A=this.el;for(var p=0;p<m.length&&(A=A[m[p]],!!A);p++);A&&(this.trackedObject3D=A,this.updateCollider())}return this.trackedObject3D},tick:function(){var m=new M.Vector3,A=new M.Vector3,p=new M.Quaternion,y=new M.Matrix4;return function(){var E=this.obb,v=this.renderColliderMesh,w=this.checkTrackedObject()||this.el.object3D;w&&(w.updateMatrix(),w.updateMatrixWorld(!0),w.matrixWorld.decompose(m,p,A),(Math.abs(A.x-this.previousScale.x)>1e-4||Math.abs(A.y-this.previousScale.y)>1e-4||Math.abs(A.z-this.previousScale.z)>1e-4)&&this.updateCollider(),this.previousScale.copy(A),A.set(1,1,1),y.compose(m,p,A),v&&v.matrixWorld.copy(y),E.copy(this.aabb),E.applyMatrix4(y))}}()})},"./src/components/obj-model.js":(u,d,c)=>{var f=c("./src/utils/debug.js"),M=c("./src/core/component.js").registerComponent,m=c("./src/lib/three.js"),A=f("components:obj-model:warn");u.exports.Component=M("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var p=this;this.model=null,this.objLoader=new m.OBJLoader,this.mtlLoader=new m.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(y){p.model&&y.detail.name==="material"&&p.applyMaterial()})},update:function(){var p=this.data;p.obj&&(this.resetMesh(),this.loadObj(p.obj,p.mtl))},remove:function(){this.resetMesh()},resetMesh:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(p,y){var E=this,v=this.el,w=this.mtlLoader,x=this.objLoader,b=this.el.sceneEl.systems.renderer,O=y.substr(0,y.lastIndexOf("/")+1);if(y){v.hasAttribute("material")&&A("Material component properties are ignored when a .MTL is provided"),w.setResourcePath(O),w.load(y,function(S){S.preload(),x.setMaterials(S),x.load(p,function(R){E.model=R,E.model.traverse(function(I){if(I.isMesh){var P=I.material;P.map&&b.applyColorCorrection(P.map),P.emissiveMap&&b.applyColorCorrection(P.emissiveMap)}}),v.setObject3D("mesh",R),v.emit("model-loaded",{format:"obj",model:R})})});return}x.load(p,function(R){E.model=R,E.applyMaterial(),v.setObject3D("mesh",R),v.emit("model-loaded",{format:"obj",model:R})})},applyMaterial:function(){var p=this.el.components.material;p&&this.model.traverse(function(y){y instanceof m.Mesh&&(y.material=p.material)})}})},"./src/components/oculus-go-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/tracked-controls.js"),m=M.checkControllerPresentAndSetup,A=M.emitIfAxesChanged,p=M.onButtonEvent,y=c("./src/utils/index.js").device.isWebXRAvailable,E="oculus-go",v="Oculus Go",w=c("./src/constants/index.js").AFRAME_CDN_ROOT,x=w+"controllers/oculus/go/oculus-go-controller.gltf",b=y?E:v,O={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},S={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},R=y?S:O;u.exports.Component=f("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:R,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var I=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(P){p(P.detail.id,"down",I)},this.onButtonUp=function(P){p(P.detail.id,"up",I)},this.onButtonTouchStart=function(P){p(P.detail.id,"touchstart",I)},this.onButtonTouchEnd=function(P){p(P.detail.id,"touchend",I)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var I=this.el;I.addEventListener("buttonchanged",this.onButtonChanged),I.addEventListener("buttondown",this.onButtonDown),I.addEventListener("buttonup",this.onButtonUp),I.addEventListener("touchstart",this.onButtonTouchStart),I.addEventListener("touchend",this.onButtonTouchEnd),I.addEventListener("model-loaded",this.onModelLoaded),I.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var I=this.el;I.removeEventListener("buttonchanged",this.onButtonChanged),I.removeEventListener("buttondown",this.onButtonDown),I.removeEventListener("buttonup",this.onButtonUp),I.removeEventListener("touchstart",this.onButtonTouchStart),I.removeEventListener("touchend",this.onButtonTouchEnd),I.removeEventListener("model-loaded",this.onModelLoaded),I.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,b,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var I=this.el,P=this.data;I.setAttribute("tracked-controls",{armModel:P.armModel,hand:P.hand,idPrefix:b,orientationOffset:P.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",x)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(I){var P=I.detail.model,L;I.target!==this.el||!this.data.model||(L=this.buttonMeshes={},L.trigger=P.getObjectByName("oculus_go_button_trigger"),L.trackpad=P.getObjectByName("oculus_go_touchpad"),L.touchpad=P.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(I){var P=this.mapping.buttons[I.detail.id];P&&this.el.emit(P+"changed",I.detail.state)},onAxisMoved:function(I){A(this,this.mapping.axes,I)},updateModel:function(I,P){this.data.model&&this.updateButtonModel(I,P)},updateButtonModel:function(I,P){var L=this.buttonMeshes;if(!(!L||!L[I])){var k,N;switch(P){case"down":k=this.data.buttonHighlightColor;break;case"touchstart":k=this.data.buttonTouchedColor;break;default:k=this.data.buttonColor}N=L[I],N.material.color.set(k)}}})},"./src/components/oculus-touch-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),A=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,y=m.onButtonEvent,E=c("./src/utils/index.js").device.isWebXRAvailable,v="oculus-touch",w="Oculus Touch",x=E?v:w,b=c("./src/constants/index.js").AFRAME_CDN_ROOT,O=b+"controllers/oculus/oculus-touch-controller-",S=b+"controllers/meta/",R={left:{modelUrl:O+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new M.Vector3(-.005,.003,-.055),modelPivotRotation:new M.Euler(0,0,0)},right:{modelUrl:O+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new M.Vector3(.005,.003,-.055),modelPivotRotation:new M.Euler(0,0,0)}},I={left:{modelUrl:O+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new M.Vector3(-.005,.036,-.037),modelPivotRotation:new M.Euler(Math.PI/4.5,0,0)},right:{modelUrl:O+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new M.Vector3(.005,.036,-.037),modelPivotRotation:new M.Euler(Math.PI/4.5,0,0)}},P=E?I:R,L="oculus-touch",k={"oculus-touch":P,"oculus-touch-v2":{left:{modelUrl:O+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new M.Vector3(0,-.007,-.021),modelPivotRotation:new M.Euler(-Math.PI/4,0,0)},right:{modelUrl:O+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new M.Vector3(0,-.007,-.021),modelPivotRotation:new M.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:O+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new M.Vector3(0,0,0),modelPivotRotation:new M.Euler(0,0,0)},right:{modelUrl:O+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new M.Vector3(0,0,0),modelPivotRotation:new M.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:S+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new M.Vector3(0,0,0),modelPivotRotation:new M.Euler(0,0,0)},right:{modelUrl:S+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new M.Vector3(0,0,0),modelPivotRotation:new M.Euler(0,0,0)}},"meta-quest-touch-plus":{left:{modelUrl:S+"quest-touch-plus-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new M.Vector3(0,0,0),modelPivotRotation:new M.Euler(0,0,0)},right:{modelUrl:S+"quest-touch-plus-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new M.Vector3(0,0,0),modelPivotRotation:new M.Euler(0,0,0)}}},N={left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},$={left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},H=E?$:N;u.exports.Component=f("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},after:["tracked-controls"],mapping:H,bindMethods:function(){this.onButtonChanged=this.onButtonChanged.bind(this),this.onThumbstickMoved=this.onThumbstickMoved.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var W=this;this.onButtonDown=function(J){y(J.detail.id,"down",W,W.data.hand)},this.onButtonUp=function(J){y(J.detail.id,"up",W,W.data.hand)},this.onButtonTouchStart=function(J){y(J.detail.id,"touchstart",W,W.data.hand)},this.onButtonTouchEnd=function(J){y(J.detail.id,"touchend",W,W.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.triggerEuler=new M.Euler},addEventListeners:function(){var W=this.el;W.addEventListener("buttonchanged",this.onButtonChanged),W.addEventListener("buttondown",this.onButtonDown),W.addEventListener("buttonup",this.onButtonUp),W.addEventListener("touchstart",this.onButtonTouchStart),W.addEventListener("touchend",this.onButtonTouchEnd),W.addEventListener("axismove",this.onAxisMoved),W.addEventListener("model-loaded",this.onModelLoaded),W.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var W=this.el;W.removeEventListener("buttonchanged",this.onButtonChanged),W.removeEventListener("buttondown",this.onButtonDown),W.removeEventListener("buttonup",this.onButtonUp),W.removeEventListener("touchstart",this.onButtonTouchStart),W.removeEventListener("touchend",this.onButtonTouchEnd),W.removeEventListener("axismove",this.onAxisMoved),W.removeEventListener("model-loaded",this.onModelLoaded),W.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){A(this,x,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(W){var J=this.data,Q;if(J.model){if(this.controllerObject3D){this.el.setObject3D("mesh",this.controllerObject3D);return}if(this.displayModel=k[J.controllerType]||k[L],J.controllerType==="auto"){var G=this.el.sceneEl.systems["tracked-controls-webvr"];if(G&&G.vrDisplay){var z=G.vrDisplay.displayName;/^Oculus Quest$/.test(z)&&(this.displayModel=k["oculus-touch-v2"])}else{Q=L;for(var j=Object.keys(k),nt=0;nt<W.profiles.length;nt++)if(j.indexOf(W.profiles[nt])!==-1){Q=W.profiles[nt];break}this.displayModel=k[Q]}}var tt=this.displayModel[J.hand].modelUrl;this.isTouchV3orPROorPlus=this.displayModel===k["oculus-touch-v3"]||this.displayModel===k["meta-quest-touch-pro"]||this.displayModel===k["meta-quest-touch-plus"],this.el.setAttribute("gltf-model",tt)}},injectTrackedControls:function(W){var J=this.data,Q=v,G=J.hand==="right"?"Oculus Touch (Right)":"Oculus Touch (Left)",z=E?Q:G;this.el.setAttribute("tracked-controls",{id:z,hand:J.hand,orientationOffset:J.orientationOffset,handTrackingEnabled:!1,iterateControllerProfiles:!0,space:"gripSpace"}),this.loadModel(W)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(W){var J=this.mapping[this.data.hand].buttons[W.detail.id];if(J){if(this.isTouchV3orPROorPlus)this.onButtonChangedV3orPROorPlus(W);else{var Q=this.buttonMeshes,G;(J==="trigger"||J==="grip")&&(G=W.detail.state.value),Q&&(J==="trigger"&&Q.trigger&&(Q.trigger.rotation.x=this.originalXRotationTrigger-G*(Math.PI/26)),J==="grip"&&Q.grip&&(G*=this.data.hand==="left"?-1:1,Q.grip.position.x=this.originalXPositionGrip+G*.004))}this.el.emit(J+"changed",W.detail.state)}},onButtonChangedV3orPROorPlus:function(W){var J=this.mapping[this.data.hand].buttons[W.detail.id],Q=this.buttonObjects,G;!Q||!Q[J]||(G=W.detail.state.value,Q[J].quaternion.slerpQuaternions(this.buttonRanges[J].min.quaternion,this.buttonRanges[J].max.quaternion,G),Q[J].position.lerpVectors(this.buttonRanges[J].min.position,this.buttonRanges[J].max.position,G))},onModelLoaded:function(W){if(!(W.target!==this.el||!this.data.model)){if(this.isTouchV3orPROorPlus)this.onTouchV3orPROorPlusModelLoaded(W);else{var J=this.controllerObject3D=W.detail.model,Q;Q=this.buttonMeshes={},Q.grip=J.getObjectByName("buttonHand"),this.originalXPositionGrip=Q.grip&&Q.grip.position.x,Q.trigger=J.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=Q.trigger&&Q.trigger.rotation.x,Q.thumbstick=J.getObjectByName("stick"),Q.xbutton=J.getObjectByName("buttonX"),Q.abutton=J.getObjectByName("buttonA"),Q.ybutton=J.getObjectByName("buttonY"),Q.bbutton=J.getObjectByName("buttonB")}for(var G in this.buttonMeshes)this.buttonMeshes[G]&&U(this.buttonMeshes[G]);this.applyOffset(W.detail.model),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(W){W.position.copy(this.displayModel[this.data.hand].modelPivotOffset),W.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onTouchV3orPROorPlusModelLoaded:function(W){var J=this.controllerObject3D=W.detail.model,Q=this.buttonObjects={},G=this.buttonMeshes={},z=this.buttonRanges={};G.grip=J.getObjectByName("squeeze"),Q.grip=J.getObjectByName("xr_standard_squeeze_pressed_value"),z.grip={min:J.getObjectByName("xr_standard_squeeze_pressed_min"),max:J.getObjectByName("xr_standard_squeeze_pressed_max")},Q.grip.minX=Q.grip.position.x,G.thumbstick=J.getObjectByName("thumbstick"),Q.thumbstick=J.getObjectByName("xr_standard_thumbstick_pressed_value"),z.thumbstick={min:J.getObjectByName("xr_standard_thumbstick_pressed_min"),max:J.getObjectByName("xr_standard_thumbstick_pressed_max")},Q.thumbstickXAxis=J.getObjectByName("xr_standard_thumbstick_xaxis_pressed_value"),z.thumbstickXAxis={min:J.getObjectByName("xr_standard_thumbstick_xaxis_pressed_min"),max:J.getObjectByName("xr_standard_thumbstick_xaxis_pressed_max")},Q.thumbstickYAxis=J.getObjectByName("xr_standard_thumbstick_yaxis_pressed_value"),z.thumbstickYAxis={min:J.getObjectByName("xr_standard_thumbstick_yaxis_pressed_min"),max:J.getObjectByName("xr_standard_thumbstick_yaxis_pressed_max")},G.trigger=J.getObjectByName("trigger"),Q.trigger=J.getObjectByName("xr_standard_trigger_pressed_value"),z.trigger={min:J.getObjectByName("xr_standard_trigger_pressed_min"),max:J.getObjectByName("xr_standard_trigger_pressed_max")},z.trigger.diff={x:Math.abs(z.trigger.max.rotation.x)-Math.abs(z.trigger.min.rotation.x),y:Math.abs(z.trigger.max.rotation.y)-Math.abs(z.trigger.min.rotation.y),z:Math.abs(z.trigger.max.rotation.z)-Math.abs(z.trigger.min.rotation.z)};var j=this.data.hand==="left"?"x":"a",nt=this.data.hand==="left"?"y":"b",tt=j+"button",ht=nt+"button";G[tt]=J.getObjectByName(j+"_button"),Q[tt]=J.getObjectByName(j+"_button_pressed_value"),z[tt]={min:J.getObjectByName(j+"_button_pressed_min"),max:J.getObjectByName(j+"_button_pressed_max")},G[ht]=J.getObjectByName(nt+"_button"),Q[ht]=J.getObjectByName(nt+"_button_pressed_value"),z[ht]={min:J.getObjectByName(nt+"_button_pressed_min"),max:J.getObjectByName(nt+"_button_pressed_max")}},onAxisMoved:function(W){p(this,this.mapping[this.data.hand].axes,W)},onThumbstickMoved:function(W){if(!(!this.buttonMeshes||!this.buttonMeshes.thumbstick)){if(this.isTouchV3orPROorPlus){this.updateThumbstickTouchV3orPROorPlus(W);return}for(var J in W.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[J]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[J]]-Math.PI/8*W.detail[J]*(J==="y"||this.data.hand==="right"?-1:1)}},axisMap:{y:"x",x:"z"},updateThumbstickTouchV3orPROorPlus:function(W){var J=(W.detail.x+1)/2;this.buttonObjects.thumbstickXAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickXAxis.min.quaternion,this.buttonRanges.thumbstickXAxis.max.quaternion,J);var Q=(W.detail.y+1)/2;this.buttonObjects.thumbstickYAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickYAxis.min.quaternion,this.buttonRanges.thumbstickYAxis.max.quaternion,Q)},updateModel:function(W,J){this.data.model&&this.updateButtonModel(W,J)},updateButtonModel:function(W,J){var Q=this.buttonMeshes,G,z;Q&&Q[W]&&(z=J==="up"||J==="touchend"?Q[W].originalColor||this.data.buttonColor:J==="touchstart"?this.data.buttonTouchColor:this.data.buttonHighlightColor,G=Q[W],G.material.color.set(z))}});function U(W){W.traverse(function(J){var Q;J.type==="Mesh"&&(Q=J.material.clone(),W.originalColor=J.material.color,J.material.dispose(),J.material=Q)})}},"./src/components/pico-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),A=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,y=m.onButtonEvent,E="pico-4",v=c("./src/constants/index.js").AFRAME_CDN_ROOT,w=v+"controllers/pico/pico4/",x={left:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","abutton","bbutton"]}};u.exports.Component=f("pico-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:x,init:function(){var b=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(O){y(O.detail.id,"down",b,b.data.hand)},this.onButtonUp=function(O){y(O.detail.id,"up",b,b.data.hand)},this.onButtonTouchEnd=function(O){y(O.detail.id,"touchend",b,b.data.hand)},this.onButtonTouchStart=function(O){y(O.detail.id,"touchstart",b,b.data.hand)},this.bindMethods()},update:function(){var b=this.data;this.controllerIndex=b.hand==="right"?0:b.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var b=this.el;b.addEventListener("buttonchanged",this.onButtonChanged),b.addEventListener("buttondown",this.onButtonDown),b.addEventListener("buttonup",this.onButtonUp),b.addEventListener("touchstart",this.onButtonTouchStart),b.addEventListener("touchend",this.onButtonTouchEnd),b.addEventListener("axismove",this.onAxisMoved),b.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var b=this.el;b.removeEventListener("buttonchanged",this.onButtonChanged),b.removeEventListener("buttondown",this.onButtonDown),b.removeEventListener("buttonup",this.onButtonUp),b.removeEventListener("touchstart",this.onButtonTouchStart),b.removeEventListener("touchend",this.onButtonTouchEnd),b.removeEventListener("axismove",this.onAxisMoved),b.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var b=this.data;A(this,E,{index:this.controllerIndex,hand:b.hand})},injectTrackedControls:function(){var b=this.el,O=this.data;b.setAttribute("tracked-controls",{idPrefix:E,hand:O.hand,controller:this.controllerIndex,orientationOffset:O.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(b){var O=this.mapping[this.data.hand].buttons[b.detail.id],S;O&&(O==="trigger"&&(S=b.detail.state.value,console.log("analog value of trigger press: "+S)),this.el.emit(O+"changed",b.detail.state))},onModelLoaded:function(b){b.target!==this.el||!this.data.model||this.el.emit("controllermodelready",{name:"pico-controls",model:this.data.model,rayOrigin:new M.Vector3(0,0,0)})},onAxisMoved:function(b){p(this,this.mapping.axes,b)}})},"./src/components/position.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("position",{schema:{type:"vec3"},update:function(){var M=this.el.object3D,m=this.data;M.position.set(m.x,m.y,m.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},"./src/components/raycaster.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/index.js"),A=m.debug("components:raycaster:warn"),p=/^[\w\s-.,[\]#]*$/,y={childList:!0,attributes:!0,subtree:!0},E={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared",INTERSECTION_CLOSEST_ENTITY_CHANGED:"raycaster-closest-entity-changed"};u.exports.Component=f("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new M.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new M.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new M.Vector3,this.otherLineEndVec3=new M.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(w){var x=this.data,b=this.el,O=this.raycaster;O.far=x.far,O.near=x.near,x.showLine&&(x.far!==w.far||x.origin!==w.origin||x.direction!==w.direction||!w.showLine)&&(this.unitLineEndVec3.copy(x.direction).normalize(),this.drawLine()),!x.showLine&&w.showLine&&b.removeAttribute("line"),x.objects!==w.objects&&!p.test(x.objects)&&A('[raycaster] Selector "'+x.objects+'" may not update automatically with DOM changes.'),x.objects||A('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),x.autoRefresh!==w.autoRefresh&&b.isPlaying&&(x.autoRefresh?this.addEventListeners():this.removeEventListeners()),w.enabled&&!x.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,y),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var w=this.data,x;x=w.objects?this.el.sceneEl.querySelectorAll(w.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(x),this.dirty=!1},tock:function(w){var x=this.data,b=this.prevCheckTime;x.enabled&&(b&&w-b<x.interval||(this.prevCheckTime=w,this.checkIntersections()))},checkIntersections:function(){var w=this.clearedIntersectedEls,x=this.el,b=this.data,O,S=this.intersectedEls,R,I=this.intersections,P=this.newIntersectedEls,L=this.newIntersections,k=this.prevIntersectedEls,N=this.rawIntersections;for(this.dirty&&this.refreshObjects(),v(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),N.length=0,this.raycaster.intersectObjects(this.objects,!0,N),I.length=0,S.length=0,O=0;O<N.length;O++)R=N[O],!(b.showLine&&R.object===x.getObject3D("line"))&&R.object.el&&(I.push(R),S.push(R.object.el));for(L.length=0,P.length=0,O=0;O<I.length;O++)k.indexOf(I[O].object.el)===-1&&(L.push(I[O]),P.push(I[O].object.el));for(w.length=0,O=0;O<k.length;O++)S.indexOf(k[O])===-1&&(k[O].emit(E.INTERSECT_CLEAR,this.intersectedClearedDetail),w.push(k[O]));for(w.length&&x.emit(E.INTERSECTION_CLEAR,this.intersectionClearedDetail),O=0;O<P.length;O++)P[O].emit(E.INTERSECT,this.intersectedDetail);L.length&&(this.intersectionDetail.els=P,this.intersectionDetail.intersections=L,x.emit(E.INTERSECTION,this.intersectionDetail)),(k.length===0&&I.length>0||k.length>0&&I.length===0||k.length&&I.length&&k[0]!==I[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=I,x.emit(E.INTERSECTION_CLOSEST_ENTITY_CHANGED,this.intersectionDetail)),b.showLine&&setTimeout(this.updateLine)},updateLine:function(){var w=this.el,x=this.intersections,b;x.length&&(x[0].object.el===w&&x[1]?b=x[1].distance:b=x[0].distance),this.drawLine(b)},getIntersection:function(w){var x,b;for(x=0;x<this.intersections.length;x++)if(b=this.intersections[x],b.object.el===w)return b;return null},updateOriginDirection:function(){var w=new M.Vector3,x=new M.Vector3;return function(){var O=this.el,S=this.data;if(S.useWorldCoordinates){this.raycaster.set(S.origin,S.direction);return}O.object3D.updateMatrixWorld(),x.setFromMatrixPosition(O.object3D.matrixWorld),(S.origin.x!==0||S.origin.y!==0||S.origin.z!==0)&&(x=O.object3D.localToWorld(x.copy(S.origin))),w.copy(S.direction).transformDirection(O.object3D.matrixWorld).normalize(),this.raycaster.set(x,w)}}(),drawLine:function(w){var x=this.data,b=this.el,O;O=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,w===void 0&&(w=x.far===1/0?1e3:x.far),this.lineData.start=x.origin,this.lineData.end=O.copy(this.unitLineEndVec3).multiplyScalar(w).add(x.origin),this.lineData.color=x.lineColor,this.lineData.opacity=x.lineOpacity,b.setAttribute("line",this.lineData)},flattenObject3DMaps:function(w){var x,b,O=this.objects,S=this.el.sceneEl.object3D;function R(P){return P.parent?R(P.parent):P===S}for(O.length=0,b=0;b<w.length;b++){var I=w[b];if(I.isEntity&&I.object3D&&R(I.object3D))for(x in I.object3DMap)O.push(I.getObject3D(x))}return O},clearAllIntersections:function(){var w;for(w=0;w<this.intersectedEls.length;w++)this.intersectedEls[w].emit(E.INTERSECT_CLEAR,this.intersectedClearedDetail);v(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(E.INTERSECTION_CLEAR,this.intersectionClearedDetail)}});function v(w,x){var b;for(w.length=x.length,b=0;b<x.length;b++)w[b]=x[b]}},"./src/components/rotation.js":(u,d,c)=>{var f=c("./src/lib/three.js").MathUtils.degToRad,M=c("./src/core/component.js").registerComponent;u.exports.Component=M("rotation",{schema:{type:"vec3"},update:function(){var m=this.data,A=this.el.object3D;A.rotation.set(f(m.x),f(m.y),f(m.z),"YXZ")},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},"./src/components/scale.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var M=this.data,m=this.el.object3D;m.scale.set(M.x,M.y,M.z)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},"./src/components/scene/ar-hit-test.js":(u,d,c)=>{var f="data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",M=c("./src/core/component.js").registerComponent,m=c("./src/lib/three.js"),A=21,p=function(){var w=new m.Quaternion,x=new m.Vector3;function b(O,S,R){S.position.copy(O.transform.position),S.quaternion.copy(O.transform.orientation),x.copy(R),w.copy(O.transform.orientation),x.applyQuaternion(w),S.position.sub(x)}return b}();p.tempFakePose={transform:{orientation:new m.Quaternion,position:new m.Vector3}};function y(w,x){this.renderer=w,this.xrHitTestSource=null,w.xr.addEventListener("sessionend",(function(){this.xrHitTestSource=null}).bind(this)),w.xr.addEventListener("sessionstart",(function(){this.sessionStart(x)}).bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(x)}y.prototype.previousFrameAnchors=new Set,y.prototype.anchorToObject3D=new Map;function E(w){console.warn(w.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}y.prototype.sessionStart=function(x){if(this.session=this.renderer.xr.getSession(),!("requestHitTestSource"in this.session)){E({message:"No requestHitTestSource on the session."});return}x.space?this.session.requestHitTestSource(x).then((function(b){this.xrHitTestSource=b}).bind(this)).catch(E):x.profile&&this.session.requestHitTestSourceForTransientInput(x).then((function(b){this.xrHitTestSource=b,this.transient=!0}).bind(this)).catch(E)},y.prototype.anchorFromLastHitTestResult=function(w,x){var b=this.lastHitTest;if(b){var O={object3D:w,offset:x};Array.from(this.anchorToObject3D.entries()).forEach((function(S){var R=S[1].object3D,I=S[0];R===w&&(this.anchorToObject3D.delete(I),I.delete())}).bind(this)),b.createAnchor&&b.createAnchor().then((function(S){this.anchorToObject3D.set(S,O)}).bind(this)).catch(function(S){console.warn(S.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')})}},y.prototype.doHit=function(x){if(this.renderer.xr.isPresenting){var b=this.renderer.xr.getReferenceSpace(),O=x.getViewerPose(b),S,R;if(this.xrHitTestSource&&O)return this.transient?(S=x.getHitTestResultsForTransientInput(this.xrHitTestSource),S.length>0?(R=S[0].results,R.length>0?(this.lastHitTest=R[0],R[0].getPose(b)):!1):!1):(S=x.getHitTestResults(this.xrHitTestSource),S.length>0?(this.lastHitTest=S[0],S[0].getPose(b)):!1)}},y.updateAnchorPoses=function(w,x){var b=w.trackedAnchors||y.prototype.previousFrameAnchors;y.prototype.previousFrameAnchors.forEach(function(O){b.has(O)||y.prototype.anchorToObject3D.delete(O)}),b.forEach(function(O){var S,R,I,P;try{S=w.getPose(O.anchorSpace,x)}catch{}if(S){if(R=y.prototype.anchorToObject3D.get(O),!R)return;I=R.offset,P=R.object3D,p(S,P,I)}})};var v;u.exports.Component=M("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:f,type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},sceneOnly:!0,init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new m.OrthographicCamera,this.orthoCam.layers.set(A),this.textureTarget=new m.WebGLRenderTarget(512,512,{}),this.basicMaterial=new m.MeshBasicMaterial({color:0,side:m.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new m.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var w=this.el.getAttribute("webxr"),x=w.optionalFeatures;(!x.includes("hit-test")||!x.includes("anchors"))&&(x.push("hit-test"),x.push("anchors"),this.el.setAttribute("webxr",w)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",(function(){this.hitTest=null}).bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",(function(){if(this.el.is("ar-mode")){var b=this.el.sceneEl.renderer,O=this.session=b.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,v||(v=new Map),O.requestReferenceSpace("viewer").then((function(I){this.hitTest=new y(b,{space:I}),v.set(I,this.hitTest),this.el.emit("ar-hit-test-start")}).bind(this));var S="generic-touchscreen",R=new y(b,{profile:S});O.addEventListener("selectstart",(function(I){if(this.data.enabled===!0){var P=I.inputSource;this.bboxMesh.visible=!0,this.hasPosedOnce===!0&&(this.el.emit("ar-hit-test-select-start",{inputSource:P,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),P.profiles[0]===S?this.hitTest=R:(this.hitTest=v.get(P)||new y(b,{space:P.targetRaySpace}),v.set(P,this.hitTest)))}}).bind(this)),O.addEventListener("selectend",(function(I){if(!this.hitTest||this.data.enabled!==!0){this.hitTest=null;return}var P=I.inputSource,L;this.hasPosedOnce===!0&&(this.bboxMesh.visible=!1,this.data.target&&(L=this.data.target.object3D,L&&(p.tempFakePose.transform.position.copy(this.bboxMesh.position),p.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),p(p.tempFakePose,L,this.bboxOffset),L.visible=!0,this.hitTest.anchorFromLastHitTestResult(L,this.bboxOffset))),this.el.emit("ar-hit-test-select",{inputSource:P,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion})),this.hitTest=null}).bind(this))}}).bind(this)),this.bboxOffset=new m.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){this.data.enabled===!1&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(A),this.data.target.object3D.traverse(function(w){w.layers.enable(A)})):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var w=new m.PlaneGeometry(1,1),x=new m.MeshBasicMaterial({transparent:!0,color:16777215});w.rotateX(-Math.PI/2),w.rotateY(-Math.PI/2),this.bbox=new m.Box3,this.bboxMesh=new m.Mesh(w,x),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var w,x=this.el.sceneEl.renderer,b,O,S=x.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),b=x.getRenderTarget(),x.setRenderTarget(this.textureTarget),x.xr.enabled=!1,O=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,x.render(this.el.object3D,this.orthoCam),this.el.object3D.background=O,this.el.object3D.overrideMaterial=null,x.xr.enabled=S,x.setRenderTarget(b),x.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),w=this.context.getImageData(0,0,512,512);for(var R=0;R<262144;R++)w.data[R*4+3]!==0&&w.data[R*4+3]!==255&&(w.data[R*4+3]=128);this.context.putImageData(w,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var w,x=this.el.sceneEl.frame,b=this.el.sceneEl.renderer;if(x&&y.updateAnchorPoses(x,b.xr.getReferenceSpace()),this.bboxNeedsUpdate){if(this.bboxNeedsUpdate=!1,!this.data.target||this.data.type==="map"){var O;this.textureCache.has(this.data.src)?O=this.textureCache.get(this.data.src):(O=new m.TextureLoader().load(this.data.src),this.textureCache.set(this.data.src,O)),this.bboxMesh.material.map=O,this.bboxMesh.material.needsUpdate=!0}this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),this.data.type==="footprint"&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y)}this.hitTest&&(w=this.hitTest.doHit(x),w&&(this.hasPosedOnce!==!0&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(w.transform.position),this.bboxMesh.quaternion.copy(w.transform.orientation)))}})},"./src/components/scene/background.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},sceneOnly:!0,update:function(){var M=this.data,m=this.el.object3D;M.transparent?m.background=null:m.background=new THREE.Color(M.color)},remove:function(){var M=this.el.object3D;M.background=null}})},"./src/components/scene/debug.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("debug",{schema:{default:!0},sceneOnly:!0})},"./src/components/scene/device-orientation-permission-ui.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/constants/index.js"),m="a-modal",A="a-dialog",p="a-dialog-text",y="a-dialog-text-container",E="a-dialog-buttons-container",v="a-dialog-button",w="a-dialog-allow-button",x="a-dialog-deny-button",b="a-dialog-ok-button";u.exports.Component=f("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},sceneOnly:!0,init:function(){var I=this;if(this.data.enabled){if(window.isSecureContext||this.showHTTPAlert(),typeof DeviceOrientationEvent>"u"||!DeviceOrientationEvent.requestPermission){this.permissionGranted=!0;return}this.onDeviceMotionDialogAllowClicked=this.onDeviceMotionDialogAllowClicked.bind(this),this.onDeviceMotionDialogDenyClicked=this.onDeviceMotionDialogDenyClicked.bind(this),DeviceOrientationEvent.requestPermission().then(function(){I.el.emit("deviceorientationpermissiongranted"),I.permissionGranted=!0}).catch(function(){I.devicePermissionDialogEl=O(I.data.denyButtonText,I.data.allowButtonText,I.data.deviceMotionMessage,I.onDeviceMotionDialogAllowClicked,I.onDeviceMotionDialogDenyClicked),I.el.appendChild(I.devicePermissionDialogEl)})}},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var I=this,P=S(I.data.cancelButtonText,I.data.httpsMessage,function(){I.el.removeChild(P)});this.el.appendChild(P)},onDeviceMotionDialogAllowClicked:function(){var I=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(P){P==="granted"?(I.el.emit("deviceorientationpermissiongranted"),I.permissionGranted=!0):I.el.emit("deviceorientationpermissionrejected"),I.remove()}).catch(console.error)}});function O(I,P,L,k,N){var $,H,U;return $=document.createElement("div"),$.classList.add(E),H=document.createElement("button"),H.classList.add(v,x),H.setAttribute(M.AFRAME_INJECTED,""),H.innerHTML=I,$.appendChild(H),U=document.createElement("button"),U.classList.add(v,w),U.setAttribute(M.AFRAME_INJECTED,""),U.innerHTML=P,$.appendChild(U),U.addEventListener("click",function(W){W.stopPropagation(),k()}),H.addEventListener("click",function(W){W.stopPropagation(),N()}),R(L,$)}function S(I,P,L){var k,N;return k=document.createElement("div"),k.classList.add(E),N=document.createElement("button"),N.classList.add(v,b),N.setAttribute(M.AFRAME_INJECTED,""),N.innerHTML=I,k.appendChild(N),N.addEventListener("click",function($){$.stopPropagation(),L()}),R(P,k)}function R(I,P){var L,k,N,$;return L=document.createElement("div"),L.classList.add(m),L.setAttribute(M.AFRAME_INJECTED,""),k=document.createElement("div"),k.className=A,k.setAttribute(M.AFRAME_INJECTED,""),L.appendChild(k),N=document.createElement("div"),N.classList.add(y),k.appendChild(N),$=document.createElement("div"),$.classList.add(p),$.innerHTML=I,N.appendChild($),k.appendChild(P),L}},"./src/components/scene/embedded.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("embedded",{dependencies:["xr-mode-ui"],schema:{default:!0},sceneOnly:!0,update:function(){var M=this.el,m=M.querySelector(".a-enter-vr");this.data===!0?(m&&m.classList.add("embedded"),M.removeFullScreenStyles()):(m&&m.classList.remove("embedded"),M.addFullScreenStyles())}})},"./src/components/scene/fog.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/debug.js");m("components:fog:warn"),u.exports.Component=f("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},sceneOnly:!0,update:function(){var p=this.data,y=this.el,E=this.el.object3D.fog;if(!E||p.type!==E.name){y.object3D.fog=A(p);return}Object.keys(this.schema).forEach(function(v){var w=p[v];v==="color"&&(w=new M.Color(w)),E[v]=w})},remove:function(){var p=this.el,y=this.el.object3D.fog;y&&(p.object3D.fog=null)}});function A(p){var y;return p.type==="exponential"?y=new M.FogExp2(p.color,p.density):y=new M.Fog(p.color,p.near,p.far),y.name=p.type,y}},"./src/components/scene/inspector.js":(u,d,c)=>{var f=c("./src/constants/index.js").AFRAME_INJECTED,M=c("./package.json"),m=c("./src/core/component.js").registerComponent,A=c("./src/utils/index.js");function p(x){var b=x.split(".");return b[2]="x",b.join(".")}var y="https://unpkg.com/aframe-inspector@"+p(M.version)+"/dist/aframe-inspector.min.js",E=y,v="Loading Inspector",w="Error loading Inspector";u.exports.Component=m("inspector",{schema:{url:{default:E}},sceneOnly:!0,init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var x;this.firstPlay&&(x=A.getUrlParameter("inspector"),x!=="false"&&x&&(this.openInspector(),this.firstPlay=!1))},initOverlay:function(){var x='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=v+x},remove:function(){this.removeEventListeners()},onKeydown:function(x){var b=x.keyCode===73&&(x.ctrlKey&&x.altKey||x.getModifierState("AltGraph"));b&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(x){x.data==="INJECT_AFRAME_INSPECTOR"&&this.openInspector()},openInspector:function(x){var b=this,O;if(AFRAME.INSPECTOR||AFRAME.inspectorInjected){AFRAME.INSPECTOR.open(x);return}this.showLoader(),O=document.createElement("script"),O.src=this.data.url,O.setAttribute("data-name","aframe-inspector"),O.setAttribute(f,""),O.onload=function(){AFRAME.INSPECTOR.open(x),b.hideLoader(),b.removeEventListeners()},O.onerror=function(){b.loadingMessageEl.innerHTML=w},document.head.appendChild(O),AFRAME.inspectorInjected=!0},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})},"./src/components/scene/keyboard-shortcuts.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/index.js").shouldCaptureKeyEvent;u.exports.Component=f("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},sceneOnly:!0,init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(m){var A=this.data;this.enterVREnabled=A.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(m){var A=this.el;M(m)&&(this.enterVREnabled&&m.keyCode===70&&A.enterVR(),this.enterVREnabled&&m.keyCode===27&&A.exitVR())}})},"./src/components/scene/pool.js":(u,d,c)=>{var f=c("./src/utils/debug.js"),M=c("./src/core/component.js").registerComponent,m=f("components:pool:warn");u.exports.Component=M("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},sceneOnly:!0,multiple:!0,initPool:function(){var A;for(this.availableEls=[],this.usedEls=[],this.data.mixin||m("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||m("Container "+this.data.container+" not found.")),this.container=this.container||this.el,A=0;A<this.data.size;++A)this.createEntity()},update:function(A){var p=this.data;(A.mixin!==p.mixin||A.size!==p.size)&&this.initPool()},createEntity:function(){var A;A=document.createElement("a-entity"),A.play=this.wrapPlay(A.play),A.setAttribute("mixin",this.data.mixin),A.object3D.visible=!1,A.pause(),this.container.appendChild(A),this.availableEls.push(A);var p=this.usedEls;A.addEventListener("loaded",function(){p.indexOf(A)===-1&&(A.object3DParent=A.object3D.parent,A.object3D.parent.remove(A.object3D))})},wrapPlay:function(A){var p=this.usedEls;return function(){p.indexOf(this)!==-1&&A.call(this)}},requestEntity:function(){var A;if(this.availableEls.length===0){if(this.data.dynamic===!1){m("Requested entity from empty pool: "+this.attrName);return}else m("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName);this.createEntity()}return A=this.availableEls.shift(),this.usedEls.push(A),A.object3DParent&&(A.object3DParent.add(A.object3D),this.updateRaycasters()),A.object3D.visible=!0,A},returnEntity:function(A){var p=this.usedEls.indexOf(A);if(p===-1){m("The returned entity was not previously pooled from "+this.attrName);return}return this.usedEls.splice(p,1),this.availableEls.push(A),A.object3DParent=A.object3D.parent,A.object3D.parent.remove(A.object3D),this.updateRaycasters(),A.object3D.visible=!1,A.pause(),A},updateRaycasters:function(){var A=document.querySelectorAll("[raycaster]");A.forEach(function(p){p.components.raycaster.setDirty()})}})},"./src/components/scene/real-world-meshing.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js");u.exports.Component=f("real-world-meshing",{schema:{filterLabels:{type:"array"},meshesEnabled:{default:!0},meshMixin:{default:!0},planesEnabled:{default:!0},planeMixin:{default:""}},sceneOnly:!0,init:function(){var m=this.el.getAttribute("webxr"),A=m.requiredFeatures;A.indexOf("mesh-detection")===-1&&(A.push("mesh-detection"),this.el.setAttribute("webxr",m)),A.indexOf("plane-detection")===-1&&(A.push("plane-detection"),this.el.setAttribute("webxr",m)),this.meshEntities=[],this.initWorldMeshEntity=this.initWorldMeshEntity.bind(this)},tick:function(){this.el.is("ar-mode")&&(this.detectMeshes(),this.updateMeshes())},detectMeshes:function(){var m=this.data,A,p,y=this.el;y.renderer.xr;var E,v=this.meshEntities,w=!1,x=[],b=this.data.filterLabels;E=y.frame,A=E.detectedMeshes,p=E.detectedPlanes;for(var O=0;O<v.length;O++)v[O].present=!1;if(m.meshesEnabled){for(var S of A.values())if(!(b.length&&b.indexOf(S.semanticLabel)===-1)){for(O=0;O<v.length;O++)if(S===v[O].mesh){w=!0,v[O].present=!0,v[O].lastChangedTime<S.lastChangedTime&&this.updateMeshGeometry(v[O].el,S),v[O].lastChangedTime=S.lastChangedTime;break}w||x.push(S),w=!1}}if(m.planesEnabled){for(S of p.values())if(!(b.length&&b.indexOf(S.semanticLabel)===-1)){for(O=0;O<v.length;O++)if(S===v[O].mesh){w=!0,v[O].present=!0,v[O].lastChangedTime<S.lastChangedTime&&this.updateMeshGeometry(v[O].el,S),v[O].lastChangedTime=S.lastChangedTime;break}w||x.push(S),w=!1}}this.deleteMeshes(),this.createNewMeshes(x)},updateMeshes:function(){var m=new M.Matrix4;return function(){for(var A,p=this.el,y,E=p.frame,v=this.meshEntities,w=p.renderer.xr.getReferenceSpace(),x,b=0;b<v.length;b++)x=v[b].mesh.meshSpace||v[b].mesh.planeSpace,A=E.getPose(x,w),y=v[b].el,y.hasLoaded&&(m.fromArray(A.transform.matrix),m.decompose(y.object3D.position,y.object3D.quaternion,y.object3D.scale))}}(),deleteMeshes:function(){for(var m=this.meshEntities,A=[],p=0;p<m.length;p++)m[p].present?A.push(m[p]):this.el.removeChild(m[p]);this.meshEntities=A},createNewMeshes:function(m){for(var A,p=0;p<m.length;p++)A=document.createElement("a-entity"),this.meshEntities.push({mesh:m[p],el:A}),A.addEventListener("loaded",this.initWorldMeshEntity),this.el.appendChild(A)},initMeshGeometry:function(m){var A,p,y;if(m instanceof XRPlane){p=new M.Shape,y=m.polygon;for(var E=0;E<y.length;++E)E===0?p.moveTo(y[E].x,y[E].z):p.lineTo(y[E].x,y[E].z);return A=new M.ShapeGeometry(p),A.rotateX(Math.PI/2),A}return A=new M.BufferGeometry,A.setAttribute("position",new M.BufferAttribute(m.vertices,3)),A.setIndex(new M.BufferAttribute(m.indices,1)),A},initWorldMeshEntity:function(m){for(var A=m.target,p,y,E,v=this.meshEntities,w=0;w<v.length;w++)if(v[w].el===A){E=v[w];break}p=this.initMeshGeometry(E.mesh),y=new M.Mesh(p,new M.MeshBasicMaterial({color:Math.random()*16777215,side:M.DoubleSide})),A.setObject3D("mesh",y),E.mesh instanceof XRPlane&&this.data.planeMixin?A.setAttribute("mixin",this.data.planeMixin):this.data.meshMixin&&A.setAttribute("mixin",this.data.meshMixin),A.setAttribute("data-world-mesh",E.mesh.semanticLabel)},updateMeshGeometry:function(m,A){var p=m.getObject3D("mesh");p.geometry.dispose(),p.geometry=this.initMeshGeometry(A)}})},"./src/components/scene/reflection.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;function M(m,A,p,y){var E=Math.max(m.primaryLightIntensity.x,Math.max(m.primaryLightIntensity.y,m.primaryLightIntensity.z));A.sh.fromArray(m.sphericalHarmonicsCoefficients),A.intensity=1,p&&(p.color.setRGB(m.primaryLightIntensity.x/E,m.primaryLightIntensity.y/E,m.primaryLightIntensity.z/E),p.intensity=E,y.copy(m.primaryLightDirection))}u.exports.Component=f("reflection",{schema:{directionalLight:{type:"selector"}},sceneOnly:!0,init:function(){var m=this;this.cubeRenderTarget=new THREE.WebGLCubeRenderTarget(16),this.cubeCamera=new THREE.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new THREE.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var A=this.el.getAttribute("webxr"),p=A.optionalFeatures;p.includes("light-estimation")||(p.push("light-estimation"),this.el.setAttribute("webxr",A)),this.el.addEventListener("enter-vr",function(){if(m.el.is("ar-mode")){var y=m.el.renderer,E=y.xr.getSession();E.requestLightProbe&&m.startLightProbe()}}),this.el.addEventListener("exit-vr",function(){m.xrLightProbe&&m.stopLightProbe()}),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var m=this.el.renderer,A=m.xr.getSession(),p=this,y=m.getContext();if(!this.probeLight){var E=document.createElement("a-light");E.setAttribute("type","probe"),E.setAttribute("intensity",0),this.el.appendChild(E),this.probeLight=E}switch(A.preferredReflectionFormat){case"srgba8":y.getExtension("EXT_sRGB");break;case"rgba16f":y.getExtension("OES_texture_half_float");break}this.glBinding=new XRWebGLBinding(A,y),y.getExtension("EXT_sRGB"),y.getExtension("OES_texture_half_float"),A.requestLightProbe().then(function(v){p.xrLightProbe=v,v.addEventListener("reflectionchange",p.updateXRCubeMap.bind(p))}).catch(function(v){console.warn("Lighting estimation not supported: "+v.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')})},updateXRCubeMap:function(){var m=this.el.renderer,A=this.glBinding.getReflectionCubeMap(this.xrLightProbe);if(A){var p=m.properties.get(this.lightingEstimationTexture);p.__webglTexture=A,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture}},tick:function(){var m=this.el.object3D,A=this.el.renderer,p=this.el.frame;if(p&&this.xrLightProbe){var y=p.getLightEstimate(this.xrLightProbe);y&&M(y,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(m.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(A,m),m.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&p&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}})},"./src/components/scene/screenshot.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),A=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join(`
`);u.exports.Component=f("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},sceneOnly:!0,setup:function(){var p=this.el;if(!this.canvas){var y=p.renderer.getContext();y&&(this.cubeMapSize=y.getParameter(y.MAX_CUBE_MAP_TEXTURE_SIZE),this.material=new M.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:m,fragmentShader:A,side:M.DoubleSide}),this.quad=new M.Mesh(new M.PlaneGeometry(1,1),this.material),this.quad.visible=!1,this.camera=new M.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),p.object3D.add(this.quad),this.onKeyDown=this.onKeyDown.bind(this))}},getRenderTarget:function(p,y){return new M.WebGLRenderTarget(p,y,{colorSpace:this.el.sceneEl.renderer.outputColorSpace,minFilter:M.LinearFilter,magFilter:M.LinearFilter,wrapS:M.ClampToEdgeWrapping,wrapT:M.ClampToEdgeWrapping,format:M.RGBAFormat,type:M.UnsignedByteType})},resize:function(p,y){this.quad.scale.set(p,y,1),this.camera.left=-1*p/2,this.camera.right=p/2,this.camera.top=y/2,this.camera.bottom=-1*y/2,this.camera.updateProjectionMatrix(),this.canvas.width=p,this.canvas.height=y},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(p){var y=p.keyCode===83&&p.ctrlKey&&p.altKey;if(!(!this.data||!y)){var E=p.shiftKey?"equirectangular":"perspective";this.capture(E)}},setCapture:function(p){var y=this.el,E,v,w,x;return p==="perspective"?(this.quad.visible=!1,v=this.data.camera&&this.data.camera.components.camera.camera||y.camera,E={width:this.data.width,height:this.data.height}):(v=this.camera,x=new M.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:M.RGBFormat,generateMipmaps:!0,minFilter:M.LinearMipmapLinearFilter,colorSpace:M.SRGBColorSpace}),w=new M.CubeCamera(y.camera.near,y.camera.far,x),y.camera.getWorldPosition(w.position),y.camera.getWorldQuaternion(w.quaternion),w.update(y.renderer,y.object3D),this.quad.material.uniforms.map.value=w.renderTarget.texture,E={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:v,size:E,projection:p}},capture:function(p){var y=this.el.renderer.xr.enabled,E=this.el.renderer,v;this.setup(),E.xr.enabled=!1,v=this.setCapture(p),this.renderCapture(v.camera,v.size,v.projection),this.saveCapture(),E.xr.enabled=y},getCanvas:function(p){var y=this.el.renderer.xr.enabled,E=this.el.renderer;this.setup();var v=this.setCapture(p);return E.xr.enabled=!1,this.renderCapture(v.camera,v.size,v.projection),E.xr.enabled=y,this.canvas},renderCapture:function(p,y,E){var v=this.el.renderer.autoClear,w=this.el,x,b,O,S=w.renderer;b=this.getRenderTarget(y.width,y.height),O=new Uint8Array(4*y.width*y.height),this.resize(y.width,y.height),S.autoClear=!0,S.clear(),S.setRenderTarget(b),S.render(w.object3D,p),S.autoClear=v,S.readRenderTargetPixels(b,0,0,y.width,y.height,O),S.setRenderTarget(null),E==="perspective"&&(O=this.flipPixelsVertically(O,y.width,y.height)),x=new ImageData(new Uint8ClampedArray(O),y.width,y.height),this.quad.visible=!1,this.ctx.putImageData(x,0,0)},flipPixelsVertically:function(p,y,E){for(var v=p.slice(0),w=0;w<y;++w)for(var x=0;x<E;++x)v[w*4+x*y*4]=p[w*4+(E-x)*y*4],v[w*4+1+x*y*4]=p[w*4+1+(E-x)*y*4],v[w*4+2+x*y*4]=p[w*4+2+(E-x)*y*4],v[w*4+3+x*y*4]=p[w*4+3+(E-x)*y*4];return v},saveCapture:function(){this.canvas.toBlob(function(p){var y="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",E=document.createElement("a"),v=URL.createObjectURL(p);E.href=v,E.setAttribute("download",y),E.innerHTML="downloading...",E.style.display="none",document.body.appendChild(E),setTimeout(function(){E.click(),document.body.removeChild(E)},1)},"image/png")}})},"./src/components/scene/stats.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./vendor/rStats.js"),m=c("./src/utils/index.js");c("./vendor/rStats.extras.js"),c("./src/lib/rStatsAframe.js");var A=window.aframeStats,p="a-hidden",y=window.threeStats;u.exports.Component=f("stats",{schema:{default:!0},sceneOnly:!0,init:function(){var v=this.el;m.getUrlParameter("stats")!=="false"&&(this.stats=E(v),this.statsEl=document.querySelector(".rs-base"),this.hideBound=this.hide.bind(this),this.showBound=this.show.bind(this),v.addEventListener("enter-vr",this.hideBound),v.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var v=this.stats;v&&(v("rAF").tick(),v("FPS").frame(),v().update())},hide:function(){this.statsEl.classList.add(p)},show:function(){this.statsEl.classList.remove(p)}});function E(v){var w=new y(v.renderer),x=new A(v),b=v.isMobile?[]:[w,x];return new M({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:b})}},"./src/components/scene/xr-mode-ui.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/constants/index.js"),m=c("./src/utils/index.js"),A="a-enter-vr",p="a-enter-ar",y="a-enter-vr-button",E="a-enter-ar-button",v="a-hidden",w="a-orientation-modal";u.exports.Component=f("xr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},cardboardModeEnabled:{default:!1},enterVRButton:{default:""},enterVREnabled:{default:!0},enterARButton:{default:""},enterAREnabled:{default:!0},XRMode:{default:"vr",oneOf:["vr","ar","xr"]}},sceneOnly:!0,init:function(){var R=this,I=this.el;m.getUrlParameter("ui")!=="false"&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),I.addEventListener("enter-vr",this.updateEnterInterfaces),I.addEventListener("exit-vr",this.updateEnterInterfaces),I.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(P){P.data.type==="loaderReady"&&(R.insideLoader=!0,R.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=this.onEnterVRButtonClick.bind(this),this.onEnterARButtonClick=this.onEnterARButtonClick.bind(this),this.onModalClick=this.onModalClick.bind(this),this.toggleOrientationModalIfNeeded=this.toggleOrientationModalIfNeeded.bind(this),this.updateEnterInterfaces=this.updateEnterInterfaces.bind(this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var R=this.data,I=this.el;if(!R.enabled||this.insideLoader||m.getUrlParameter("ui")==="false")return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(!this.enterVREl&&R.enterVREnabled&&(R.XRMode==="xr"||R.XRMode==="vr")&&(R.enterVRButton?(this.enterVREl=document.querySelector(R.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=x(this.onEnterVRButtonClick),I.appendChild(this.enterVREl))),!this.enterAREl&&R.enterAREnabled&&(R.XRMode==="xr"||R.XRMode==="ar")&&(R.enterARButton?(this.enterAREl=document.querySelector(R.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=b(this.onEnterARButtonClick,R.XRMode==="xr"),I.appendChild(this.enterAREl))),this.orientationModalEl=O(this.onModalClick),I.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(R){R&&R.parentNode&&R.parentNode.removeChild(R)}),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var R=this.el;this.enterVREl&&(R.is("vr-mode")||(R.isMobile||m.device.isMobileDeviceRequestingDesktopSite())&&!this.data.cardboardModeEnabled&&!m.device.checkVRSupport()?this.enterVREl.classList.add(v):(m.device.checkVRSupport()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(v),R.enterVR(!1,!0)))},toggleEnterARButtonIfNeeded:function(){var R=this.el;this.enterAREl&&(R.is("vr-mode")||!m.device.checkARSupport()?this.enterAREl.classList.add(v):(this.enterAREl.classList.remove(v),R.enterVR(!0,!0)))},toggleOrientationModalIfNeeded:function(){var R=this.el,I=this.orientationModalEl;!I||!R.isMobile||(!m.device.isLandscape()&&R.is("vr-mode")?I.classList.remove(v):I.classList.add(v))}});function x(R){var I,P;return P=document.createElement("div"),P.classList.add(A),P.setAttribute(M.AFRAME_INJECTED,""),I=document.createElement("button"),I.className=y,I.setAttribute("title","Enter VR mode with a headset or fullscreen without"),I.setAttribute(M.AFRAME_INJECTED,""),m.device.isMobile()&&S(I),P.appendChild(I),I.addEventListener("click",function(L){R(),L.stopPropagation()}),P}function b(R,I){var P,L;return L=document.createElement("div"),L.classList.add(p),I&&L.classList.add("xr"),L.setAttribute(M.AFRAME_INJECTED,""),P=document.createElement("button"),P.className=E,P.setAttribute("title","Enter AR mode with a headset or handheld device."),P.setAttribute(M.AFRAME_INJECTED,""),m.device.isMobile()&&S(P),L.appendChild(P),P.addEventListener("click",function(k){R(),k.stopPropagation()}),L}function O(R){var I=document.createElement("div");I.className=w,I.classList.add(v),I.setAttribute(M.AFRAME_INJECTED,"");var P=document.createElement("button");return P.setAttribute(M.AFRAME_INJECTED,""),P.innerHTML="Exit VR",P.addEventListener("click",R),I.appendChild(P),I}function S(R){R.addEventListener("touchstart",function(){R.classList.remove("resethover")},{passive:!0}),R.addEventListener("touchend",function(){R.classList.add("resethover")},{passive:!0})}},"./src/components/shadow.js":(u,d,c)=>{var f=c("./src/core/component.js"),M=c("./src/lib/three.js"),m=f.registerComponent;u.exports.Component=m("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=this.update.bind(this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var A=this.data;this.updateDescendants(A.cast,A.receive)},remove:function(){var A=this.el;A.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(A,p){var y=this.el.sceneEl;this.el.object3D.traverse(function(E){if(E instanceof M.Mesh&&(E.castShadow=A,E.receiveShadow=p,y.hasLoaded&&E.material))for(var v=Array.isArray(E.material)?E.material:[E.material],w=0;w<v.length;w++)v[w].needsUpdate=!0})}})},"./src/components/sound.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/debug.js"),m=c("./src/lib/three.js"),A=M("components:sound:warn");u.exports.Component=f("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},loopStart:{default:0},loopEnd:{default:0},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var p=this;this.listener=null,this.audioLoader=new m.AudioLoader,this.pool=new m.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){p.playSound()}},update:function(p){var y=this.data,E,v,w=y.src!==p.src;if(w){if(!y.src)return;this.setupSound()}for(E=0;E<this.pool.children.length;E++)v=this.pool.children[E],y.positional&&(v.setDistanceModel(y.distanceModel),v.setMaxDistance(y.maxDistance),v.setRefDistance(y.refDistance),v.setRolloffFactor(y.rolloffFactor)),v.setLoop(y.loop),v.setLoopStart(y.loopStart),y.loopStart!==0&&y.loopEnd===0?v.setLoopEnd(v.buffer.duration):v.setLoopEnd(y.loopEnd),v.setVolume(y.volume),v.isPaused=!1;if(y.on!==p.on&&this.updateEventListener(p.on),w){var x=this;this.loaded=!1,this.audioLoader.load(y.src,function(b){for(E=0;E<x.pool.children.length;E++)v=x.pool.children[E],v.setBuffer(b);x.loaded=!0,m.Cache.remove(y.src),(x.data.autoplay||x.mustPlay)&&x.playSound(x.processSound),x.el.emit("sound-loaded",x.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var p,y;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(p=0;p<this.pool.children.length;p++)y=this.pool.children[p],y.disconnect()}catch{A("Audio source not properly disconnected")}},updateEventListener:function(p){var y=this.el;p&&y.removeEventListener(p,this.playSoundBound),y.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var p=this.el,y,E=p.sceneEl,v=this,w;this.pool.children.length>0&&(this.stopSound(),p.removeObject3D("sound"));var x=this.listener=E.audioListener||new m.AudioListener;for(E.audioListener=x,E.camera&&E.camera.add(x),E.addEventListener("camera-set-active",function(b){b.detail.cameraEl.getObject3D("camera").add(x)}),this.pool=new m.Group,y=0;y<this.data.poolSize;y++)w=this.data.positional?new m.PositionalAudio(x):new m.Audio(x),this.pool.add(w);for(p.setObject3D(this.attrName,this.pool),y=0;y<this.pool.children.length;y++)w=this.pool.children[y],w.onEnded=function(){this.isPlaying=!1,v.el.emit("sound-ended",v.evtDetail,!1)}},pauseSound:function(){var p,y;for(this.isPlaying=!1,p=0;p<this.pool.children.length;p++)y=this.pool.children[p],!(!y.source||!y.source.buffer||!y.isPlaying||y.isPaused)&&(y.isPaused=!0,y.pause())},playSound:function(p){var y,E,v;if(!this.loaded){A("Sound not loaded yet. It will be played once it finished loading"),this.mustPlay=!0,this.processSound=p;return}for(y=!1,this.isPlaying=!0,E=0;E<this.pool.children.length;E++)if(v=this.pool.children[E],!v.isPlaying&&v.buffer&&!y){p&&p(v),v.play(),v.isPaused=!1,y=!0;continue}if(!y){A("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el);return}this.mustPlay=!1,this.processSound=void 0},stopSound:function(){var p,y;for(this.isPlaying=!1,p=0;p<this.pool.children.length;p++){if(y=this.pool.children[p],!y.source||!y.source.buffer)return;y.stop()}}})},"./src/components/text.js":(u,d,c)=>{var f=c("./node_modules/three-bmfont-text/index.js"),M=c("./node_modules/load-bmfont/browser.js"),m=c("./src/core/component.js").registerComponent,A=c("./src/core/shader.js"),p=c("./src/lib/three.js"),y=c("./src/utils/index.js"),E=y.debug("components:text:error"),v=A.shaders,w=y.debug("components:text:warn"),x=1,b=16,O=c("./src/constants/index.js").AFRAME_CDN_ROOT,S=O+"fonts/",R={aileronsemibold:S+"Aileron-Semibold.fnt",dejavu:S+"DejaVu-sdf.fnt",exo2bold:S+"Exo2Bold.fnt",exo2semibold:S+"Exo2SemiBold.fnt",kelsonsans:S+"KelsonSans.fnt",monoid:S+"Monoid.fnt",mozillavr:S+"mozillavr.fnt",roboto:S+"Roboto-msdf.json",sourcecodepro:S+"SourceCodePro.fnt"},I=["roboto"],P="roboto";u.exports.FONTS=R;var L=new z,k={},N={},$=/^\w+:/;u.exports.Component=m("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:P},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:v},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=f(),this.createOrUpdateMaterial(),this.explicitGeoDimensionsChecked=!1},update:function(j){var nt=this.data,tt=this.currentFont;if(N[nt.font]?this.texture=N[nt.font]:(this.texture=N[nt.font]=new p.Texture,this.texture.anisotropy=b),this.createOrUpdateMaterial(),j.font!==nt.font){this.updateFont();return}tt&&(this.updateGeometry(this.geometry,tt),this.updateLayout())},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var j=this.data,nt,tt=this.material,ht,pt=this.shaderData,gt;if(gt=j.shader,I.indexOf(j.font)!==-1||j.font.indexOf("-msdf.")>=0?gt="msdf":j.font in R&&I.indexOf(j.font)===-1&&(gt="sdf"),nt=(this.shaderObject&&this.shaderObject.name)!==gt,pt.alphaTest=j.alphaTest,pt.color=j.color,pt.map=this.texture,pt.opacity=j.opacity,pt.side=H(j.side),pt.transparent=j.transparent,pt.negate=j.negate,!nt){this.shaderObject.update(pt),tt.transparent=pt.transparent,tt.side=pt.side;return}ht=J(this.el,gt,pt),this.material=ht.material,this.shaderObject=ht.shader,this.material.side=pt.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var j=this.data,nt=this.el,tt,ht=this.geometry,pt=this;j.font||w("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),tt=this.lookupFont(j.font||P)||j.font,L.get(tt,function(){return U(tt,j.yOffset)}).then(function(Tt){var vt;if(Tt.pages.length!==1)throw new Error("Currently only single-page bitmap fonts are supported.");k[tt]||(Tt.widthFactor=k[Tt]=G(Tt)),pt.currentFont=Tt,vt=pt.getFontImageSrc(),L.get(vt,function(){return W(vt)}).then(function(Ot){var ft=pt.texture;ft&&(ft.image=Ot,ft.needsUpdate=!0,N[j.font]=ft,pt.texture=ft,pt.initMesh(),pt.currentFont=Tt,pt.updateGeometry(ht,Tt),pt.updateLayout(),pt.mesh.visible=!0,nt.emit("textfontset",{font:j.font,fontObj:Tt}))}).catch(function(Ot){E(Ot.message),E(Ot.stack)})}).catch(function(gt){E(gt.message),E(gt.stack)})},initMesh:function(){this.mesh||(this.mesh=new p.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var j=this.lookupFont(this.data.font||P)||this.data.font,nt=this.currentFont.pages[0];return nt.match($)&&nt.indexOf("http")!==0?j.replace(/(\.fnt)|(\.json)/,".png"):p.LoaderUtils.extractUrlBase(j)+nt},updateLayout:function(){var j,nt,tt=this.el,ht=this.data,pt=this.geometry,gt,Tt,vt,Ot=this.mesh,ft,St,Mt,Pt,Vt;if(!(!Ot||!pt.layout)){if(gt=tt.getAttribute("geometry"),Mt=ht.width||gt&&gt.width||x,ft=Q(ht.wrapPixels,ht.wrapCount,this.currentFont.widthFactor),St=Mt/ft,vt=pt.layout,Tt=St*(vt.height+vt.descender),gt&&gt.primitive==="plane"&&(this.explicitGeoDimensionsChecked||(this.explicitGeoDimensionsChecked=!0,this.hasExplicitGeoWidth=!!gt.width,this.hasExplicitGeoHeight=!!gt.height),this.hasExplicitGeoWidth||tt.setAttribute("geometry","width",Mt),this.hasExplicitGeoHeight||tt.setAttribute("geometry","height",Tt)),j=ht.anchor==="align"?ht.align:ht.anchor,j==="left")Pt=0;else if(j==="right")Pt=-1*vt.width;else if(j==="center")Pt=-1*vt.width/2;else throw new TypeError("Invalid text.anchor property value",j);if(nt=ht.baseline,nt==="bottom")Vt=0;else if(nt==="top")Vt=-1*vt.height+vt.ascender;else if(nt==="center")Vt=-1*vt.height/2;else throw new TypeError("Invalid text.baseline property value",nt);Ot.position.x=Pt*St+ht.xOffset,Ot.position.y=Vt*St,Ot.position.z=ht.zOffset,Ot.scale.set(St,-1*St,St)}},lookupFont:function(j){return R[j]},updateGeometry:function(){var j={},nt={},tt=/\\n/g,ht=/\\t/g;return function(pt,gt){var Tt=this.data;nt.font=gt,nt.lineHeight=Tt.lineHeight&&isFinite(Tt.lineHeight)?Tt.lineHeight:gt.common.lineHeight,nt.text=Tt.value.toString().replace(tt,`
`).replace(ht,"	"),nt.width=Q(Tt.wrapPixels,Tt.wrapCount,gt.widthFactor),pt.update(y.extend(j,Tt,nt))}}()});function H(j){switch(j){case"back":return p.FrontSide;case"double":return p.DoubleSide;default:return p.BackSide}}function U(j,nt){return new Promise(function(tt,ht){M(j,function(pt,gt){if(pt){E("Error loading font",j),ht(pt);return}j.indexOf("/Roboto-msdf.json")>=0&&(nt=30),nt&&gt.chars.map(function(vt){vt.yoffset+=nt}),tt(gt)})})}function W(j){return new Promise(function(nt,tt){new p.ImageLoader().load(j,function(ht){nt(ht)},void 0,function(){E("Error loading font image",j),tt(null)})})}function J(j,nt,tt){var ht,pt;return pt=new v[nt].Shader,pt.el=j,pt.init(tt),pt.update(tt),ht=pt.material,ht.transparent=tt.transparent,{material:ht,shader:pt}}function Q(j,nt,tt){return j||(.5+nt)*tt}function G(j){var nt=0,tt=0,ht=0;return j.chars.map(function(pt){nt+=pt.xadvance,pt.id>=48&&pt.id<=57&&(ht++,tt+=pt.xadvance)}),ht?tt/ht:nt/j.chars.length}function z(){var j=this.cache={};this.get=function(nt,tt){return nt in j||(j[nt]=tt()),j[nt]}}},"./src/components/tracked-controls-webvr.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/tracked-controls.js"),m=c("./src/constants/index.js").DEFAULT_CAMERA_HEIGHT,A=c("./src/lib/three.js"),p=c("./src/constants/index.js").DEFAULT_HANDEDNESS,y={x:.175,y:-.3,z:-.03},E={x:0,y:0,z:-.175},v={touches:[]},w={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};u.exports.Component=f("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new A.Vector3,this.controllerQuaternion=new A.Quaternion,this.controllerEuler=new A.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(x,b){var O=this.el.getObject3D("mesh");O&&O.update&&O.update(b/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return m},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var x=this.data,b=M.findMatchingControllerWebVR(this.system.controllers,x.id,x.idPrefix,x.hand,x.controller);this.controller=b,this.el.components["tracked-controls"].controller=b,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(x){var b=this.controller,O=this.controllerEuler,S=this.controllerQuaternion,R=this.deltaControllerPosition,I,P,L,k,N;P=this.getHeadElement(),L=P.object3D,N=this.defaultUserHeight(),k=b.pose,I=(b?b.hand:void 0)||p,x.copy(L.position),R.set(y.x*(I==="left"?-1:I==="right"?1:0),y.y,y.z),R.multiplyScalar(N),R.applyAxisAngle(L.up,L.rotation.y),x.add(R),R.set(E.x,E.y,E.z),R.multiplyScalar(N),k.orientation?S.fromArray(k.orientation):S.copy(L.quaternion),O.setFromQuaternion(S),O.set(O.x,O.y,0),R.applyEuler(O),x.add(R)},updatePose:function(){var x=this.controller,b=this.data,O=this.el.object3D,S,R=this.system.vrDisplay,I;x&&(S=x.pose,S.position?O.position.fromArray(S.position):b.armModel&&this.applyArmModel(O.position),S.orientation&&O.quaternion.fromArray(S.orientation),R&&S.position&&(I=this.el.sceneEl.renderer.xr.getStandingMatrix(),O.matrix.compose(O.position,O.quaternion,O.scale),O.matrix.multiplyMatrices(I,O.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),O.rotateX(this.data.orientationOffset.x*A.MathUtils.DEG2RAD),O.rotateY(this.data.orientationOffset.y*A.MathUtils.DEG2RAD),O.rotateZ(this.data.orientationOffset.z*A.MathUtils.DEG2RAD))},updateButtons:function(){var x,b=this.controller,O;if(b){for(O=0;O<b.buttons.length;++O)this.buttonStates[O]||(this.buttonStates[O]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[O]||(this.buttonEventDetails[O]={id:O,state:this.buttonStates[O]}),x=b.buttons[O],this.handleButton(O,x);this.handleAxes()}},handleButton:function(x,b){var O;return O=this.handlePress(x,b)|this.handleTouch(x,b)|this.handleValue(x,b),O?(this.el.emit(w.BUTTONCHANGED,this.buttonEventDetails[x],!1),!0):!1},handleAxes:function(){var x=!1,b=this.controller.axes,O,S=this.axis,R=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),O=0;O<b.length;++O)R.push(S[O]!==b[O]),R[O]&&(x=!0);if(!x)return!1;for(this.axis.splice(0,this.axis.length),O=0;O<b.length;O++)this.axis.push(b[O]);return this.el.emit(w.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(x,b){var O,S=this.buttonStates[x];return b.pressed===S.pressed?!1:(O=b.pressed?w.BUTTONDOWN:w.BUTTONUP,this.el.emit(O,this.buttonEventDetails[x],!1),S.pressed=b.pressed,!0)},handleTouch:function(x,b){var O,S=this.buttonStates[x];return b.touched===S.touched?!1:(O=b.touched?w.TOUCHSTART:w.TOUCHEND,this.el.emit(O,this.buttonEventDetails[x],!1,v),S.touched=b.touched,!0)},handleValue:function(x,b){var O=this.buttonStates[x];return b.value===O.value?!1:(O.value=b.value,!0)}})},"./src/components/tracked-controls-webxr.js":(u,d,c)=>{var f=c("./src/utils/tracked-controls.js"),M=c("./src/core/component.js").registerComponent,m={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};u.exports.Component=M("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"gripSpace"}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var A=this.el.sceneEl;this.updateController(),A.addEventListener("controllersupdated",this.updateController)},pause:function(){var A=this.el.sceneEl;A.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(A){return!(!this.controller||this.controller.gamepad||A.inputSource.handedness!=="none"&&A.inputSource.handedness!==this.data.hand)},updateController:function(){this.controller=f.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var A=this.el.sceneEl,p=this.controller,y=A.frame;!p||!A.frame||!this.system.referenceSpace||p.hand||(this.pose=y.getPose(p[this.data.space],this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var A=this.el.object3D,p=this.pose;p&&(A.matrix.elements=p.transform.matrix,A.matrix.decompose(A.position,A.rotation,A.scale))},updateButtons:function(){var A,p,y=this.controller,E;if(!(!y||!y.gamepad)){for(E=y.gamepad,p=0;p<E.buttons.length;++p)this.buttonStates[p]||(this.buttonStates[p]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[p]||(this.buttonEventDetails[p]={id:p,state:this.buttonStates[p]}),A=E.buttons[p],this.handleButton(p,A);this.handleAxes()}},handleButton:function(A,p){var y;return y=this.handlePress(A,p)|this.handleTouch(A,p)|this.handleValue(A,p),y?(this.el.emit(m.BUTTONCHANGED,this.buttonEventDetails[A],!1),!0):!1},handleAxes:function(){var A=!1,p=this.controller.gamepad.axes,y,E=this.axis,v=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),y=0;y<p.length;++y)v.push(E[y]!==p[y]),v[y]&&(A=!0);if(!A)return!1;for(this.axis.splice(0,this.axis.length),y=0;y<p.length;y++)this.axis.push(p[y]);return this.el.emit(m.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(A,p){var y,E=this.buttonStates[A];return p.pressed===E.pressed?!1:(y=p.pressed?m.BUTTONDOWN:m.BUTTONUP,this.el.emit(y,this.buttonEventDetails[A],!1),E.pressed=p.pressed,!0)},handleTouch:function(A,p){var y,E=this.buttonStates[A];return p.touched===E.touched?!1:(y=p.touched?m.TOUCHSTART:m.TOUCHEND,this.el.emit(y,this.buttonEventDetails[A],!1),E.touched=p.touched,!0)},handleValue:function(A,p){var y=this.buttonStates[A];return p.value===y.value?!1:(y.value=p.value,!0)}})},"./src/components/tracked-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"targetRaySpace"}},after:["tracked-controls-webvr","tracked-controls-webxr"],update:function(){var M=this.data,m=this.el;m.sceneEl.hasWebXR?m.setAttribute("tracked-controls-webxr",{id:M.id,hand:M.hand,index:M.controller,iterateControllerProfiles:M.iterateControllerProfiles,handTrackingEnabled:M.handTrackingEnabled,space:M.space}):m.setAttribute("tracked-controls-webvr",M)}})},"./src/components/valve-index-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=c("./src/utils/tracked-controls.js"),A=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,y=m.onButtonEvent,E=c("./src/constants/index.js").AFRAME_CDN_ROOT,v=E+"controllers/valve/index/valve-index-",w={left:v+"left.glb",right:v+"right.glb"},x="valve",b=c("./src/utils/index.js").device.isWebXRAvailable,O={left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}},S={left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}},R={left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},I={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},P=b?I:R,L=b?S:O;u.exports.Component=f("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var k=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(N){y(N.detail.id,"down",k)},this.onButtonUp=function(N){y(N.detail.id,"up",k)},this.onButtonTouchEnd=function(N){y(N.detail.id,"touchend",k)},this.onButtonTouchStart=function(N){y(N.detail.id,"touchstart",k)},this.previousButtonValues={},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var k=this.el;k.addEventListener("buttonchanged",this.onButtonChanged),k.addEventListener("buttondown",this.onButtonDown),k.addEventListener("buttonup",this.onButtonUp),k.addEventListener("touchend",this.onButtonTouchEnd),k.addEventListener("touchstart",this.onButtonTouchStart),k.addEventListener("model-loaded",this.onModelLoaded),k.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var k=this.el;k.removeEventListener("buttonchanged",this.onButtonChanged),k.removeEventListener("buttondown",this.onButtonDown),k.removeEventListener("buttonup",this.onButtonUp),k.removeEventListener("touchend",this.onButtonTouchEnd),k.removeEventListener("touchstart",this.onButtonTouchStart),k.removeEventListener("model-loaded",this.onModelLoaded),k.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var k=this.data,N=k.hand==="right"?0:k.hand==="left"?1:2;A(this,x,{index:N,iterateControllerProfiles:!0,hand:k.hand})},injectTrackedControls:function(){var k=this.el,N=this.data;k.setAttribute("tracked-controls",{idPrefix:x,controller:N.hand==="right"?1:N.hand==="left"?0:2,hand:N.hand,orientationOffset:N.orientationOffset}),this.loadModel()},loadModel:function(){var k=this.data;k.model&&this.el.setAttribute("gltf-model",""+w[k.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(k){var N=this.mapping.buttons[k.detail.id],$=this.buttonMeshes,H;N&&(N==="trigger"&&(H=k.detail.state.value,$&&$.trigger&&($.trigger.rotation.x=this.triggerOriginalRotationX-H*(Math.PI/40))),this.el.emit(N+"changed",k.detail.state))},onModelLoaded:function(k){var N,$=k.detail.model,H=this;k.target!==this.el||!this.data.model||(N=this.buttonMeshes={},N.grip={left:$.getObjectByName("leftgrip"),right:$.getObjectByName("rightgrip")},N.menu=$.getObjectByName("menubutton"),N.system=$.getObjectByName("systembutton"),N.trackpad=$.getObjectByName("touchpad"),N.trigger=$.getObjectByName("trigger"),this.triggerOriginalRotationX=N.trigger.rotation.x,Object.keys(N).forEach(function(U){H.setButtonColor(U,H.data.buttonColor)}),$.position.copy(L[this.data.hand]),$.rotation.copy(P[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controls",model:this.data.model,rayOrigin:new M.Vector3(0,0,0)}))},onAxisMoved:function(k){p(this,this.mapping.axes,k)},updateModel:function(k,N){var $,H;this.data.model&&(H=N.indexOf("touch")!==-1,!H&&($=N==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(k,$)))},setButtonColor:function(k,N){}})},"./src/components/visible.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent;u.exports.Component=f("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},"./src/components/vive-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/tracked-controls.js"),m=M.checkControllerPresentAndSetup,A=M.emitIfAxesChanged,p=M.onButtonEvent,y=c("./src/constants/index.js").AFRAME_CDN_ROOT,E=y+"controllers/vive/vr_controller_vive.obj",v=y+"controllers/vive/vr_controller_vive.mtl",w=c("./src/utils/index.js").device.isWebXRAvailable,x="htc-vive",b="OpenVR ",O=w?x:b,S={axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},R={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","none"]},I=w?R:S;u.exports.Component=f("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:I,init:function(){var P=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(L){p(L.detail.id,"down",P)},this.onButtonUp=function(L){p(L.detail.id,"up",P)},this.onButtonTouchEnd=function(L){p(L.detail.id,"touchend",P)},this.onButtonTouchStart=function(L){p(L.detail.id,"touchstart",P)},this.previousButtonValues={},this.bindMethods()},update:function(){var P=this.data;this.controllerIndex=P.hand==="right"?0:P.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var P=this.el;P.addEventListener("buttonchanged",this.onButtonChanged),P.addEventListener("buttondown",this.onButtonDown),P.addEventListener("buttonup",this.onButtonUp),P.addEventListener("touchend",this.onButtonTouchEnd),P.addEventListener("touchstart",this.onButtonTouchStart),P.addEventListener("model-loaded",this.onModelLoaded),P.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var P=this.el;P.removeEventListener("buttonchanged",this.onButtonChanged),P.removeEventListener("buttondown",this.onButtonDown),P.removeEventListener("buttonup",this.onButtonUp),P.removeEventListener("touchend",this.onButtonTouchEnd),P.removeEventListener("touchstart",this.onButtonTouchStart),P.removeEventListener("model-loaded",this.onModelLoaded),P.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var P=this.data;m(this,O,{index:this.controllerIndex,hand:P.hand})},injectTrackedControls:function(){var P=this.el,L=this.data;P.setAttribute("tracked-controls",{idPrefix:O,hand:L.hand,controller:this.controllerIndex,orientationOffset:L.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:E,mtl:v})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(P){var L=this.mapping.buttons[P.detail.id],k=this.buttonMeshes,N;L&&(L==="trigger"&&(N=P.detail.state.value,k&&k.trigger&&(k.trigger.rotation.x=-N*(Math.PI/12))),this.el.emit(L+"changed",P.detail.state))},onModelLoaded:function(P){var L,k=P.detail.model,N=this;P.target!==this.el||!this.data.model||(L=this.buttonMeshes={},L.grip={left:k.getObjectByName("leftgrip"),right:k.getObjectByName("rightgrip")},L.menu=k.getObjectByName("menubutton"),L.system=k.getObjectByName("systembutton"),L.trackpad=k.getObjectByName("touchpad"),L.touchpad=k.getObjectByName("touchpad"),L.trigger=k.getObjectByName("trigger"),Object.keys(L).forEach(function($){N.setButtonColor($,N.data.buttonColor)}),k.position.set(0,-.015,.04))},onAxisMoved:function(P){A(this,this.mapping.axes,P)},updateModel:function(P,L){var k,N;this.data.model&&(N=L.indexOf("touch")!==-1,!N&&(k=L==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(P,k)))},setButtonColor:function(P,L){var k=this.buttonMeshes;if(k){if(P==="grip"){k.grip.left.material.color.set(L),k.grip.right.material.color.set(L);return}k[P].material.color.set(L)}}})},"./src/components/vive-focus-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/tracked-controls.js"),m=M.checkControllerPresentAndSetup,A=M.emitIfAxesChanged,p=M.onButtonEvent,y=c("./src/constants/index.js").AFRAME_CDN_ROOT,E=y+"controllers/vive/focus-controller/focus-controller.gltf",v=c("./src/utils/index.js").device.isWebXRAvailable,w="htc-vive-focus",x="HTC Vive Focus ",b=v?w:x,O={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},S={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]},R=v?S:O;u.exports.Component=f("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},after:["tracked-controls"],mapping:R,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var I=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(P){p(P.detail.id,"down",I)},this.onButtonUp=function(P){p(P.detail.id,"up",I)},this.onButtonTouchStart=function(P){p(P.detail.id,"touchstart",I)},this.onButtonTouchEnd=function(P){p(P.detail.id,"touchend",I)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var I=this.el;I.addEventListener("buttonchanged",this.onButtonChanged),I.addEventListener("buttondown",this.onButtonDown),I.addEventListener("buttonup",this.onButtonUp),I.addEventListener("touchstart",this.onButtonTouchStart),I.addEventListener("touchend",this.onButtonTouchEnd),I.addEventListener("model-loaded",this.onModelLoaded),I.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var I=this.el;I.removeEventListener("buttonchanged",this.onButtonChanged),I.removeEventListener("buttondown",this.onButtonDown),I.removeEventListener("buttonup",this.onButtonUp),I.removeEventListener("touchstart",this.onButtonTouchStart),I.removeEventListener("touchend",this.onButtonTouchEnd),I.removeEventListener("model-loaded",this.onModelLoaded),I.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){m(this,b,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var I=this.el,P=this.data;I.setAttribute("tracked-controls",{armModel:P.armModel,idPrefix:b,orientationOffset:P.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",E)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(I){var P=I.detail.model,L;I.target!==this.el||!this.data.model||(L=this.buttonMeshes={},L.trigger=P.getObjectByName("BumperKey"),L.triggerPressed=P.getObjectByName("BumperKey_Press"),L.triggerPressed&&(L.triggerPressed.visible=!1),L.trackpad=P.getObjectByName("TouchPad"),L.trackpadPressed=P.getObjectByName("TouchPad_Press"),L.trackpadPressed&&(L.trackpadPressed.visible=!1))},onButtonChanged:function(I){var P=this.mapping.buttons[I.detail.id];P&&this.el.emit(P+"changed",I.detail.state)},onAxisMoved:function(I){A(this,this.mapping.axes,I)},updateModel:function(I,P){this.data.model&&this.updateButtonModel(I,P)},updateButtonModel:function(I,P){var L=this.buttonMeshes,k=I+"Pressed";if(!(!L||!L[I]||!L[k])){var N;switch(P){case"down":N=this.data.buttonHighlightColor;break;case"touchstart":N=this.data.buttonTouchedColor;break}N&&L[k].material.color.set(N),L[k].visible=!!N,L[I].visible=!N}}})},"./src/components/wasd-controls.js":(u,d,c)=>{var f=c("./src/constants/index.js").keyboardevent.KEYCODE_TO_CODE,M=c("./src/core/component.js").registerComponent,m=c("./src/lib/three.js"),A=c("./src/utils/index.js"),p=A.shouldCaptureKeyEvent,y=1e-5,E=.2,v=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];u.exports.Component=M("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},after:["look-controls"],init:function(){this.keys={},this.easing=1.1,this.velocity=new m.Vector3,this.onBlur=this.onBlur.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.attachVisibilityEventListeners()},tick:function(x,b){var O=this.data,S=this.el,R=this.velocity;!R[O.adAxis]&&!R[O.wsAxis]&&w(this.keys)||(b=b/1e3,this.updateVelocity(b),!(!R[O.adAxis]&&!R[O.wsAxis])&&S.object3D.position.add(this.getMovementVector(b)))},update:function(x){x.adAxis!==this.data.adAxis&&(this.velocity[x.adAxis]=0),x.wsAxis!==this.data.wsAxis&&(this.velocity[x.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(x){var b,O,S,R=this.data,I=this.keys,P=this.velocity,L,k;if(O=R.adAxis,L=R.wsAxis,x>E){P[O]=0,P[L]=0;return}var N=Math.pow(1/this.easing,x*60);P[O]!==0&&(P[O]=P[O]*N),P[L]!==0&&(P[L]=P[L]*N),Math.abs(P[O])<y&&(P[O]=0),Math.abs(P[L])<y&&(P[L]=0),R.enabled&&(b=R.acceleration,R.adEnabled&&(S=R.adInverted?-1:1,(I.KeyA||I.ArrowLeft)&&(P[O]-=S*b*x),(I.KeyD||I.ArrowRight)&&(P[O]+=S*b*x)),R.wsEnabled&&(k=R.wsInverted?-1:1,(I.KeyW||I.ArrowUp)&&(P[L]-=k*b*x),(I.KeyS||I.ArrowDown)&&(P[L]+=k*b*x)))},getMovementVector:function(){var x=new m.Vector3(0,0,0),b=new m.Euler(0,0,0,"YXZ");return function(O){var S=this.el.getAttribute("rotation"),R=this.velocity,I;return x.copy(R),x.multiplyScalar(O),S&&(I=this.data.fly?S.x:0,b.set(m.MathUtils.degToRad(I),m.MathUtils.degToRad(S.y),0),x.applyEuler(b)),x}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var x=Object.keys(this.keys),b=0;b<x.length;b++)delete this.keys[x[b]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(x){var b;p(x)&&(b=x.code||f[x.keyCode],v.indexOf(b)!==-1&&(this.keys[b]=!0))},onKeyUp:function(x){var b;b=x.code||f[x.keyCode],delete this.keys[b]}});function w(x){var b;for(b in x)return!1;return!0}},"./src/components/windows-motion-controls.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/utils/tracked-controls.js"),m=M.checkControllerPresentAndSetup,A=M.emitIfAxesChanged,p=M.onButtonEvent,y=c("./src/utils/index.js"),E=y.debug("components:windows-motion-controls:debug"),v=y.debug("components:windows-motion-controls:warn"),w=c("./src/constants/index.js").DEFAULT_HANDEDNESS,x=c("./src/constants/index.js").AFRAME_CDN_ROOT,b=x+"controllers/microsoft/",O={left:"left.glb",right:"right.glb",default:"universal.glb"},S=c("./src/utils/index.js").device.isWebXRAvailable,R="windows-mixed-reality",I="Spatial Controller (Spatial Interaction Source) ",P=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,L=S?R:I,k={axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},N={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},$=S?N:k;u.exports.Component=f("windows-motion-controls",{schema:{hand:{default:w},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},after:["tracked-controls"],mapping:$,bindMethods:function(){this.onModelError=this.onModelError.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var H=this,U=this.el;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(W){p(W.detail.id,"down",H)},this.onButtonUp=function(W){p(W.detail.id,"up",H)},this.onButtonTouchStart=function(W){p(W.detail.id,"touchstart",H)},this.onButtonTouchEnd=function(W){p(W.detail.id,"touchend",H)},this.onControllerConnected=function(){H.setModelVisibility(!0)},this.onControllerDisconnected=function(){H.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},U.addEventListener("controllerconnected",this.onControllerConnected),U.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var H=this.el;H.addEventListener("buttonchanged",this.onButtonChanged),H.addEventListener("buttondown",this.onButtonDown),H.addEventListener("buttonup",this.onButtonUp),H.addEventListener("touchstart",this.onButtonTouchStart),H.addEventListener("touchend",this.onButtonTouchEnd),H.addEventListener("axismove",this.onAxisMoved),H.addEventListener("model-error",this.onModelError),H.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var H=this.el;H.removeEventListener("buttonchanged",this.onButtonChanged),H.removeEventListener("buttondown",this.onButtonDown),H.removeEventListener("buttonup",this.onButtonUp),H.removeEventListener("touchstart",this.onButtonTouchStart),H.removeEventListener("touchend",this.onButtonTouchEnd),H.removeEventListener("axismove",this.onAxisMoved),H.removeEventListener("model-error",this.onModelError),H.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,L,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(!this.data.model||this.rayOrigin.createdFromMesh){this.modelReady();return}var H=this.createControllerModelUrl();this.loadModel(H)},createControllerModelUrl:function(H){var U=this.el.components["tracked-controls"],W=U?U.controller:null,J="default",Q=this.data.hand,G;if(W&&!window.hasNativeWebXRImplementation&&(Q=W.hand,!H)){var z=W.id.match(P);J=z&&z[0]||J}return G=O[Q]||O.default,b+J+"/"+G},injectTrackedControls:function(){var H=this.data;this.el.setAttribute("tracked-controls",{idPrefix:L,controller:H.pair,hand:H.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(H){var U=this.createControllerModelUrl(!0);H.detail.src!==U?(v("Failed to load controller model for device, attempting to load default."),this.loadModel(U)):v("Failed to load default controller model.")},loadModel:function(H){this.el.setAttribute("gltf-model","url("+H+")")},onModelLoaded:function(H){var U=this.controllerModel=H.detail.model,W=this.loadedMeshInfo,J,Q,G,z;if(H.target!==this.el)return;if(E("Processing model"),W.buttonMeshes={},W.axisMeshes={},U){for(J=0;J<this.mapping.buttons.length;J++){if(Q=this.mapping.buttonMeshNames[this.mapping.buttons[J]],!Q){E("Skipping unknown button at index: "+J+" with mapped name: "+this.mapping.buttons[J]);continue}if(G=U.getObjectByName(Q),!G){v("Missing button mesh with name: "+Q);continue}z={index:J,value:j(G,"VALUE"),pressed:j(G,"PRESSED"),unpressed:j(G,"UNPRESSED")},z.value&&z.pressed&&z.unpressed?W.buttonMeshes[this.mapping.buttons[J]]=z:v("Missing button submesh under mesh with name: "+Q+"(VALUE: "+!!z.value+", PRESSED: "+!!z.pressed+", UNPRESSED:"+!!z.unpressed+")")}for(J=0;J<this.mapping.axisMeshNames.length;J++){if(Q=this.mapping.axisMeshNames[J],!Q){E("Skipping unknown axis at index: "+J);continue}if(G=U.getObjectByName(Q),!G){v("Missing axis mesh with name: "+Q);continue}z={index:J,value:j(G,"VALUE"),min:j(G,"MIN"),max:j(G,"MAX")},z.value&&z.min&&z.max?W.axisMeshes[J]=z:v("Missing axis submesh under mesh with name: "+Q+"(VALUE: "+!!z.value+", MIN: "+!!z.min+", MAX:"+!!z.max+")")}this.calculateRayOriginFromMesh(U),this.setModelVisibility()}E("Model load complete.");function j(nt,tt){for(var ht=0,pt=nt.children.length;ht<pt;ht++){var gt=nt.children[ht];if(gt&&gt.name===tt)return gt}}},calculateRayOriginFromMesh:function(){var H=new THREE.Quaternion;return function(U){var W;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,W=U.getObjectByName(this.mapping.pointingPoseMeshName),W){var J=U.parent;J&&(U.parent=null,U.updateMatrixWorld(!0),U.parent=J),W.getWorldPosition(this.rayOrigin.origin),W.getWorldQuaternion(H),this.rayOrigin.direction.applyQuaternion(H),J&&U.updateMatrixWorld(!0)}else E("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var H=new THREE.Quaternion;return function(U,W){var J=this.loadedMeshInfo.axisMeshes[U];if(J){var Q=J.min,G=J.max,z=J.value,j=W*.5+.5;z.setRotationFromQuaternion(H.copy(Q.quaternion).slerp(G.quaternion,j)),z.position.lerpVectors(Q.position,G.position,j)}}}(),lerpButtonTransform:function(){var H=new THREE.Quaternion;return function(U,W){var J=this.loadedMeshInfo.buttonMeshes[U];if(J){var Q=J.unpressed,G=J.pressed,z=J.value;z.setRotationFromQuaternion(H.copy(Q.quaternion).slerp(G.quaternion,W)),z.position.lerpVectors(Q.position,G.position,W)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(H){var U=this.mapping.buttons[H.detail.id];U&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(U,H.detail.state.value),this.el.emit(U+"changed",H.detail.state))},onAxisMoved:function(H){var U=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var W=0;W<U;W++)this.lerpAxisTransform(W,H.detail.axis[W]||0);A(this,this.mapping.axes,H)},setModelVisibility:function(H){var U=this.el.getObject3D("mesh");this.controllerPresent&&(H=H!==void 0?H:this.modelVisible,this.modelVisible=H,U&&(U.visible=H))}})},"./src/constants/index.js":(u,d,c)=>{u.exports={AFRAME_CDN_ROOT:window.AFRAME_CDN_ROOT||"https://cdn.aframe.io/",AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:c("./src/constants/keyboardevent.js")}},"./src/constants/keyboardevent.js":u=>{u.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},"./src/core/a-assets.js":(u,d,c)=>{var f=c("./src/core/a-node.js").ANode,M=c("./src/utils/debug.js"),m=c("./src/lib/three.js"),A=new m.FileLoader,p=M("core:a-assets:warn");class y extends f{constructor(){super(),this.isAssets=!0,this.fileLoader=A,this.timeout=null}doConnectedCallback(){var I=this,P,L=[],k,N,$,H,U,W;if(super.doConnectedCallback(),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(H=this.querySelectorAll("img"),P=0;P<H.length;P++)$=w(H[P]),L.push(new Promise(function(J,Q){if(m.Cache.add(H[P].getAttribute("src"),$),$.complete){J();return}$.onload=J,$.onerror=Q}));for(N=this.querySelectorAll("audio, video"),P=0;P<N.length;P++)k=w(N[P]),!k.src&&!k.srcObject&&p("Audio/video asset has neither `src` nor `srcObject` attributes."),L.push(v(k));W=this.getChildren(),W.forEach(function(J){!J.isAssetItem||!J.hasAttribute("src")||L.push(new Promise(function(G,z){if(J.hasLoaded)return G();J.addEventListener("loaded",G),J.addEventListener("error",z)}))}),Promise.allSettled(L).then(function(){I.timeout!==null&&I.load()}),U=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){I.hasLoaded||(p("Asset loading timed out in",U,"ms"),I.timeout=null,I.emit("timeout"),I.load())},U)}disconnectedCallback(){super.disconnectedCallback(),this.timeout&&clearTimeout(this.timeout)}load(){super.load.call(this,null,function(){return!1})}}customElements.define("a-assets",y);class E extends f{constructor(){super(),this.data=null,this.isAssetItem=!0}connectedCallback(){var I=this,P=this.getAttribute("src");A.setResponseType(this.getAttribute("response-type")||O(P)),A.load(P,function(k){I.data=k,f.prototype.load.call(I)},function(k){I.emit("progress",{loadedBytes:k.loaded,totalBytes:k.total,xhr:k})},function(k){I.emit("error",{xhr:k})})}}customElements.define("a-asset-item",E);function v(R){if(!(!R.hasAttribute("autoplay")&&R.getAttribute("preload")!=="auto"))return new Promise(function(I,P){if(R.readyState===4)return I();if(R.error)return P();R.addEventListener("loadeddata",L,!1),R.addEventListener("progress",L,!1),R.addEventListener("error",P,!1);function L(){for(var k=0,N=0;N<R.buffered.length;N++)k+=R.buffered.end(N)-R.buffered.start(N);k>=R.duration&&(R.tagName==="VIDEO"&&m.Cache.add(R.getAttribute("src"),R),I())}})}function w(R){var I=x(R);return I.tagName&&I.tagName.toLowerCase()==="video"&&(I.setAttribute("playsinline",""),I.setAttribute("webkit-playsinline","")),I!==R&&(R.parentNode.appendChild(I),R.parentNode.removeChild(R)),I}function x(R){var I,P;return R.hasAttribute("crossorigin")||(P=R.getAttribute("src"),P!==null&&(P.indexOf("://")===-1||b(P)===window.location.host))?R:(p('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',P),R.crossOrigin="anonymous",I=R.cloneNode(!0),I)}function b(R){var I=R.indexOf("://")>-1?R.split("/")[2]:R.split("/")[0];return I.substring(0,I.indexOf(":"))}function O(R){var I=S(R),P=I.lastIndexOf(".");if(P>=0){var L=I.slice(P,R.search(/\?|#|$/));if(L===".glb")return"arraybuffer"}return"text"}u.exports.inferResponseType=O;function S(R){var I=document.createElement("a");I.href=R;var P=I.search.replace(/^\?/,""),L=R.replace(P,"").replace("?","");return L.substring(L.lastIndexOf("/")+1)}u.exports.getFileNameFromURL=S},"./src/core/a-cubemap.js":(u,d,c)=>{var f=c("./src/utils/debug.js"),M=f("core:cubemap:warn");class m extends HTMLElement{constructor(p){return p=super(p),p}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}m.prototype.doConnectedCallback.call(this)}doConnectedCallback(){this.srcs=this.validate()}validate(){var p=this.querySelectorAll("[src]"),y,E=[];if(p.length===6){for(y=0;y<p.length;y++)p[y].tagName==="IMG"?E.push(p[y]):E.push(p[y].getAttribute("src"));return E}M("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}customElements.define("a-cubemap",m)},"./src/core/a-entity.js":(u,d,c)=>{var f=c("./src/core/a-node.js").ANode,M=c("./src/core/component.js").components,m=c("./src/lib/three.js"),A=c("./src/utils/index.js"),p=A.debug("core:a-entity:debug"),y=A.debug("core:a-entity:warn"),E="__",v=["position","rotation","scale","visible"],w={once:!0};class x extends f{constructor(){super(),this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new m.Group,this.object3D.rotation.order="YXZ",this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}attributeChangedCallback(L,k,N){var $=this.components[L];if(super.attributeChangedCallback(),$&&$.justInitialized&&N===""){delete $.justInitialized;return}!$&&N===null||this.setEntityAttribute(L,k,N)}doConnectedCallback(){var L=this,k,N;if(super.doConnectedCallback(),N=this.sceneEl,this.addToParent(),!this.isScene){if(!N){this.load();return}if(k=N.querySelector("a-assets"),k&&!k.hasLoaded){k.addEventListener("loaded",function(){L.load()});return}this.load()}}disconnectedCallback(){var L;if(this.parentEl){for(L in this.components)this.removeComponent(L,!1);this.isScene||(this.removeFromParent(),super.disconnectedCallback(),this.object3D.el=null)}}getObject3D(L){return this.object3DMap[L]}setObject3D(L,k){var N,$=this;if(!(k instanceof m.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");N=this.getObject3D(L),N&&this.object3D.remove(N),k.el=this,k.children.length&&k.traverse(function(U){U.el=$}),this.object3D.add(k),this.object3DMap[L]=k,this.emit("object3dset",{object:k,type:L})}removeObject3D(L){var k=this.getObject3D(L);if(!k){y("Tried to remove `Object3D` of type:",L,"which was not defined.");return}this.object3D.remove(k),delete this.object3DMap[L],this.emit("object3dremove",{type:L})}getOrCreateObject3D(L,k){var N=this.getObject3D(L);return!N&&k&&(N=new k,this.setObject3D(L,N)),y("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),N}add(L){if(!L.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(L.object3D),this.emit("child-attached",{el:L})}addToParent(){var L=this.parentEl=this.parentNode;!L||!L.add||this.attachedToParent||(L.add(this),this.attachedToParent=!0)}removeFromParent(){var L=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,L.emit("child-detached",{el:this})}load(){var L=this;this.hasLoaded||!this.parentEl||super.load.call(this,function(){L.parentEl&&(L.updateComponents(),(L.isScene||L.parentEl.isPlaying)&&L.play())})}remove(L){L?this.object3D.remove(L.object3D):this.parentNode.removeChild(this)}getChildEntities(){for(var L=this.children,k=[],N=0;N<L.length;N++){var $=L[N];$ instanceof x&&k.push($)}return k}initComponent(L,k,N){var $,H,U,W,J;U=A.split(L,E),W=U[0],H=U.length>2?U.slice(1).join("__"):U[1],M[W]&&(J=b(this,L)||k!==void 0,!(!J&&!N)&&(L in this.components||(this.initComponentDependencies(W),$=new M[W].Component(this,k,H),this.isPlaying&&$.play(),this.hasAttribute(L)||($.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,L,"")),p("Component initialized: %s",L))))}initComponentDependencies(L){var k=this,N=M[L],$,H;if(N&&($=M[L].dependencies,!!$))for(H=0;H<$.length;H++)k.initComponent($[H],window.HTMLElement.prototype.getAttribute.call(k,$[H])||void 0,!0)}removeComponent(L,k){var N;if(N=this.components[L],!!N){if(!N.initialized){this.addEventListener("componentinitialized",function $(H){H.detail.name===L&&(this.removeComponent(L,k),this.removeEventListener("componentinitialized",$))});return}N.pause(),N.remove(),k&&(N.destroy(),delete this.components[L],this.hasAttribute(L)&&window.HTMLElement.prototype.removeAttribute.call(this,L)),this.emit("componentremoved",N.evtDetail,!1)}}updateComponents(){var L,k,N,$,H=this.componentsToUpdate;if(!(!this.hasLoaded&&!this.isLoading)){for(N=0;N<this.mixinEls.length;N++)for($ in this.mixinEls[N].componentCache)R($)&&(H[$]=!0);if(this.getExtraComponents){k=this.getExtraComponents();for($ in k)R($)&&(H[$]=!0)}for(N=0;N<this.attributes.length;++N)$=this.attributes[N].name,v.indexOf($)===-1&&R($)&&(H[$]=!0);for(N=0;N<v.length;N++)$=v[N],this.hasAttribute($)&&this.updateComponent($,this.getDOMAttribute($));for($ in H)L=S(this.getDOMAttribute($),k&&k[$]),this.updateComponent($,L),delete H[$]}}updateComponent(L,k,N){var $=this.components[L];if($){if(k===null&&!b(this,L)){this.removeComponent(L,!0);return}$.updateProperties(k,N);return}this.initComponent(L,k,!1)}removeAttribute(L,k){var N=this.components[L];if(N&&k===void 0&&this.removeComponent(L,!0),N&&k!==void 0){N.resetProperty(k);return}L==="mixin"&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,L)}play(){var L,k,N;if(!(this.isPlaying||!this.hasLoaded&&!this.isLoading)){this.isPlaying=!0;for(N in this.components)this.components[N].play();for(L=this.getChildEntities(),k=0;k<L.length;k++)L[k].play();this.emit("play")}}pause(){var L,k,N;if(this.isPlaying){this.isPlaying=!1;for(N in this.components)this.components[N].pause();for(L=this.getChildEntities(),k=0;k<L.length;k++)L[k].pause();this.emit("pause")}}setEntityAttribute(L,k,N){if(M[L]||this.components[L]){this.updateComponent(L,N);return}if(L==="mixin"){if(N===this.computedMixinStr)return;this.mixinUpdate(N,k)}}mixinUpdate(L,k,N){var $=x.componentsUpdated,H,U,W,J,Q=this;if(N||(k=k||this.getAttribute("mixin")),!this.hasLoaded){this.addEventListener("loaded-private",function(){Q.mixinUpdate(L,k,!0)},w);return}for(W=this.updateMixins(L,k),$.length=0,J=0;J<this.mixinEls.length;J++)for(H in this.mixinEls[J].componentCache)$.indexOf(H)===-1&&(this.components[H]?this.components[H].handleMixinUpdate():this.initComponent(H,null),$.push(H));for(J=0;J<W.oldMixinIds.length;J++)if(U=document.getElementById(W.oldMixinIds[J]),!!U)for(H in U.componentCache)$.indexOf(H)===-1&&this.components[H]&&(this.getDOMAttribute(H)?this.components[H].handleMixinUpdate():this.removeComponent(H,!0))}setAttribute(L,k,N){var $=x.singlePropUpdate,H,U,W,J,Q,G;if(J=L.indexOf(E),W=J>0?L.substring(0,J):L,!M[W]){L==="mixin"&&this.mixinUpdate(k),super.setAttribute.call(this,L,k);return}if(!this.components[L]&&this.hasAttribute(L)&&this.updateComponent(L,window.HTMLElement.prototype.getAttribute.call(this,L)),typeof N<"u"&&typeof k=="string"&&k.length>0&&typeof A.styleParser.parse(k)=="string"){for(G in $)delete $[G];H=$,H[k]=N,U=!1}else H=k,U=N===!0;this.updateComponent(L,H,U),Q=this.sceneEl&&this.sceneEl.getAttribute("debug"),Q&&this.components[L].flushToDOM()}flushToDOM(L){var k=this.components,N,$=this.children,H,U;for(U in k)k[U].flushToDOM();if(L)for(H=0;H<$.length;++H)N=$[H],N.flushToDOM&&N.flushToDOM(L)}getAttribute(L){var k;return L==="position"?this.object3D.position:L==="rotation"?I(this):L==="scale"?this.object3D.scale:L==="visible"?this.object3D.visible:(k=this.components[L],k?k.data:window.HTMLElement.prototype.getAttribute.call(this,L))}getDOMAttribute(L){var k=this.components[L];return k?k.attrValue:window.HTMLElement.prototype.getAttribute.call(this,L)}addState(L){this.is(L)||(this.states.push(L),this.emit("stateadded",L))}removeState(L){var k=this.states.indexOf(L);k!==-1&&(this.states.splice(k,1),this.emit("stateremoved",L))}is(L){return this.states.indexOf(L)!==-1}inspect(){this.sceneEl.components.inspector.openInspector(this)}destroy(){var L;if(this.parentNode){y("Entity can only be destroyed if detached from scenegraph.");return}for(L in this.components)this.components[L].destroy()}}function b(P,L){return P.components[L]&&P.components[L].attrValue?!0:O(L,P.mixinEls)}function O(P,L){var k,N=!1;for(k=0;k<L.length&&(N=L[k].hasAttribute(P),!N);++k);return N}function S(P,L){return L?L.constructor===Object?A.extend(L,A.styleParser.parse(P||{})):P||L:P}function R(P){return P.indexOf(E)!==-1&&(P=A.split(P,E)[0]),!!M[P]}function I(P){var L=m.MathUtils.radToDeg,k=P.object3D.rotation,N=P.rotationObj;return N.x=L(k.x),N.y=L(k.y),N.z=L(k.z),N}x.componentsUpdated=[],x.singlePropUpdate={},customElements.define("a-entity",x),u.exports.AEntity=x},"./src/core/a-mixin.js":(u,d,c)=>{var f=c("./src/core/a-node.js").ANode,M=c("./src/core/component.js").components,m=c("./src/utils/index.js"),A=m.styleParser,p="__";class y extends f{constructor(){super(),this.componentCache={},this.rawAttributeCache={},this.isMixin=!0}doConnectedCallback(){super.doConnectedCallback(),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}attributeChangedCallback(v,w,x){super.attributeChangedCallback(),this.cacheAttribute(v,x),this.updateEntities()}setAttribute(v,w){window.HTMLElement.prototype.setAttribute.call(this,v,w),this.cacheAttribute(v,w)}cacheAttribute(v,w){var x,b;b=m.split(v,p)[0],x=M[b],w===void 0&&(w=window.HTMLElement.prototype.getAttribute.call(this,v)),this.rawAttributeCache[v]=w,x&&(this.componentCache[v]=this.parseComponentAttrValue(x,w))}parseComponentAttrValue(v,w){var x;return typeof w!="string"?w:(v.isSingleProperty?(x=v.schema.parse(w),typeof x=="string"&&(x=w)):x=A.parse(w),x)}getAttribute(v){return this.componentCache[v]||window.HTMLElement.prototype.getAttribute.call(this,v)}cacheAttributes(){var v=this.attributes,w,x;for(x=0;x<v.length;x++)w=v[x].name,this.cacheAttribute(w)}updateEntities(){var v,w,x;if(this.sceneEl)for(w=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),x=0;x<w.length;x++)v=w[x],!(!v.hasLoaded||v.isMixin)&&v.mixinUpdate(this.id)}}customElements.define("a-mixin",y)},"./src/core/a-node.js":(u,d,c)=>{var f=c("./src/utils/index.js"),M=c("./src/core/readyState.js"),m=f.debug("core:a-node:warn"),A={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function p(E){return E.tagName.toLowerCase()in A||E.isNode}class y extends HTMLElement{constructor(){super(),this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]}connectedCallback(){if(!M.canInitializeElements){document.addEventListener("aframeready",this.connectedCallback.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var v;this.sceneEl=this.closestScene(),this.sceneEl||m("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(v=this.getAttribute("mixin"),v&&this.updateMixins(v))}attributeChangedCallback(v,w,x){x!==this.computedMixinStr&&v==="mixin"&&!this.isMixin&&this.updateMixins(x,w)}closestScene(){for(var v=this;v&&!v.isScene;)v=v.parentElement;return v}closest(v){for(var w=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,x=this;x&&!w.call(x,v);)x=x.parentElement;return x}disconnectedCallback(){this.hasLoaded=!1}load(v,w){var x,b,O=this;this.hasLoaded||(w=w||p,x=this.getChildren(),b=x.filter(w).map(function(S){return new Promise(function(I,P){if(S.hasLoaded)return I();S.addEventListener("loaded",I),S.addEventListener("error",P)})}),Promise.allSettled(b).then(function(R){R.forEach(function(P){P.status==="rejected"&&m("Rendering scene with errors on node: ",P.reason.target)}),O.isLoading=!0,O.setupMutationObserver(),v&&v(),O.isLoading=!1,O.hasLoaded=!0,O.emit("loaded-private",void 0,!1),O.emit("loaded",void 0,!1)}))}setupMutationObserver(){var v=this,w={attributes:!0,attributeOldValue:!0},x=new MutationObserver(function(O){var S;for(S=0;S<O.length;S++)if(O[S].type==="attributes"){var R=O[S].attributeName,I=window.HTMLElement.prototype.getAttribute.call(v,R),P=O[S].oldValue;v.attributeChangedCallback(R,P,I)}});x.observe(this,w)}getChildren(){return Array.prototype.slice.call(this.children,0)}updateMixins(v,w){var x=y.newMixinIdArray,b=y.oldMixinIdArray,O=y.mixinIds,S,R,I;for(x.length=0,b.length=0,R=v?f.split(v.trim(),/\s+/):x,I=w?f.split(w.trim(),/\s+/):b,O.newMixinIds=R,O.oldMixinIds=I,S=0;S<I.length;S++)R.indexOf(I[S])===-1&&this.unregisterMixin(I[S]);for(this.computedMixinStr="",this.mixinEls.length=0,S=0;S<R.length;S++)this.registerMixin(R[S]);return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),R.length===0&&window.HTMLElement.prototype.removeAttribute.call(this,"mixin"),O}registerMixin(v){var w,x,b,O=document.getElementById(v);if(!O){m("No mixin was found with id `%s`",v);return}if(b=O.getAttribute("mixin"),b)for(w=f.split(b.trim(),/\s+/),x=0;x<w.length;x++)this.registerMixin(w[x]);this.computedMixinStr=this.computedMixinStr+" "+O.id,this.mixinEls.push(O)}setAttribute(v,w){v==="mixin"&&this.updateMixins(w),window.HTMLElement.prototype.setAttribute.call(this,v,w)}unregisterMixin(v){var w,x=this.mixinEls,b;for(w=0;w<x.length;++w)if(b=x[w],v===b.id){x.splice(w,1);break}}emit(v,w,x,b){var O=y.evtData;x===void 0&&(x=!0),O.bubbles=!!x,O.detail=w,b&&(O=f.extend({},b,O)),this.dispatchEvent(new CustomEvent(v,O))}}y.evtData={},y.newMixinIdArray=[],y.oldMixinIdArray=[],y.mixinIds={},customElements.define("a-node",y),u.exports.ANode=y,u.exports.knownTags=A},"./src/core/component.js":(u,d,c)=>{var f=c("./src/core/schema.js"),M=c("./src/core/scene/scenes.js"),m=c("./src/core/system.js"),A=c("./src/utils/index.js"),p=u.exports.components={},y=f.parseProperty,E=f.process,v=f.isSingleProperty,w=f.stringifyProperties,x=f.stringifyProperty,b=A.styleParser,O=A.debug("core:component:warn"),S=document.currentScript,R=new RegExp("[A-Z]+"),I={},P=Object.freeze({}),L=[],k={get:function(G,z){return G.getComputedPropertyValue(z)},set:function(G,z,j){return z in G.schema?G.recomputeProperty(z,j):j!==void 0&&G.handleUnknownProperty(z,j),!0}},N=u.exports.Component=function(G,z,j){var nt=this;if(this.sceneOnly&&!G.isScene)throw new Error("Component `"+this.name+"` can only be applied to <a-scene>");if(j&&!this.multiple)throw new Error("Trying to initialize multiple components of type `"+this.name+"`. There can only be one component of this type per entity.");this.el=G,this.id=j,this.attrName=this.name+(j?"__"+j:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=I[this.name];var tt=this.events;this.events={},$(this,tt),this.attrValue=void 0,this.isObjectBased?(this.data=this.objectPool.use(),A.objectPool.removeUnusedKeys(this.data,this.schema),this.oldData=this.objectPool.use(),A.objectPool.removeUnusedKeys(this.oldData,this.schema),this.attrValueProxy=new Proxy(this,k)):(this.data=void 0,this.oldData=void 0,this.attrValueProxy=void 0),this.deferUnknownPropertyWarnings=!!this.updateSchema,this.silenceUnknownPropertyWarnings=!1,this.throttledEmitComponentChanged=A.throttleLeadingAndTrailing(function(){G.emit("componentchanged",nt.evtDetail,!1)},200),this.updateProperties(z,!0)};N.prototype={schema:{},init:function(){},events:{},update:function(G){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},stringify:function(G){var z=this.schema;return typeof G=="string"?G:this.isSingleProperty?x(G,z):(G=w(G,z),b.stringify(G))},flushToDOM:function(G){var z=G?this.data:this.attrValue;z!=null&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(z))},updateProperties:function(G,z){var j=this.el;this.updateData(G,z),!(!j.hasLoaded&&!j.isLoading)&&(this.initialized?this.callUpdateHandler():this.initComponent())},initComponent:function(){var G=this.el,z;G.initializingComponents[this.name]||(G.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete G.initializingComponents[this.name],z=this.isObjectBased?P:void 0,this.dataChanged=!1,this.storeOldData(),this.update(z),G.isPlaying&&this.play(),G.emit("componentinitialized",this.evtDetail,!1))},updateData:function(G,z){if(this.isSingleProperty){this.recomputeProperty(void 0,G);return}z?(A.objectPool.clearObject(this.attrValue),this.recomputeData(G),this.schemaChangeRequired=!!this.updateSchema):typeof G=="string"?b.parse(G,this.attrValueProxy):A.extend(this.attrValueProxy,G),this.updateSchemaIfNeeded(G)},updateSchemaIfNeeded:function(G){if(!this.schemaChangeRequired||!this.updateSchema){for(var z=0;z<L.length;z++)O("Unknown property `"+L[z]+"` for component `"+this.name+"`.");L.length=0;return}L.length=0,this.updateSchema(this.data),A.objectPool.removeUnusedKeys(this.data,this.schema),this.silenceUnknownPropertyWarnings=!0,this.recomputeData(G),this.silenceUnknownPropertyWarnings=!1,this.schemaChangeRequired=!1},callUpdateHandler:function(){if(!(!this.isPositionRotationScale&&!this.dataChanged)){this.dataChanged=!1;var G=this.oldData;this.oldDataInUse=!0,this.update(G),G!==this.oldData&&this.objectPool.recycle(G),this.oldDataInUse=!1,this.storeOldData(),this.throttledEmitComponentChanged()}},handleMixinUpdate:function(){this.recomputeData(),this.updateSchemaIfNeeded(),this.callUpdateHandler()},resetProperty:function(G){!this.isSingleProperty&&!(G in this.schema)||(G?this.attrValue[G]=void 0:(this.isObjectBased&&this.objectPool.recycle(this.attrValue),this.attrValue=void 0),this.recomputeProperty(G,void 0),this.updateSchemaIfNeeded(),this.callUpdateHandler())},extendSchema:function(G){var z;z=A.extend({},p[this.name].schema),A.extend(z,G),this.schema=E(z),this.el.emit("schemachanged",this.evtDetail)},getComputedPropertyValue:function(G){var z=this.el.mixinEls,j=this.attrValue&&G?this.attrValue[G]:this.attrValue;if(j!==void 0)return j;for(var nt=z.length-1;nt>=0;nt--){var tt=z[nt].getAttribute(this.attrName);if(!(tt===null||G&&!(G in tt)))return G?tt[G]:tt}var ht=G?this.schema[G].default:this.schema.default;return ht},recomputeProperty:function(G,z){var j=G?this.schema[G]:this.schema;if(z!=null){this.attrValue===void 0&&this.isObjectBased&&(this.attrValue=this.objectPool.use());var nt=G?this.attrValue[G]:this.attrValue;nt=j.isCacheable?y(z,j,nt):z,typeof nt=="string"&&(nt=z===""?void 0:z),G?this.attrValue[G]=nt:this.attrValue=nt}this.oldDataInUse&&(this.oldData=this.objectPool.use(),A.objectPool.removeUnusedKeys(this.oldData,this.schema),this.storeOldData(),this.oldDataInUse=!1);var tt=G?this.oldData[G]:this.oldData,ht=G?this.data[G]:this.data,pt=y(this.getComputedPropertyValue(G),j,ht);return j.type==="array"&&!G&&(pt=A.clone(pt)),j.equals(pt,tt)||(this.dataChanged=!0,j.schemaChange&&(this.schemaChangeRequired=!0)),G?this.data[G]=pt:this.data=pt,pt},handleUnknownProperty:function(G,z){this.attrValue===void 0&&(this.attrValue=this.objectPool.use()),this.attrValue[G]=z,this.silenceUnknownPropertyWarnings||(this.deferUnknownPropertyWarnings?L.push(G):this.silenceUnknownPropertyWarnings||O("Unknown property `"+G+"` for component `"+this.name+"`."))},storeOldData:function(){if(!this.isObjectBased){this.oldData=this.data;return}if(this.isSingleProperty){this.oldData=y(this.data,this.schema,this.oldData);return}var G;for(G in this.schema)this.data[G]!==void 0&&(this.data[G]&&typeof this.data[G]=="object"?this.oldData[G]=y(this.data[G],this.schema[G],this.oldData[G]):this.oldData[G]=this.data[G])},recomputeData:function(G){var z;if(this.isSingleProperty){this.recomputeProperty(void 0,G);return}if(G&&typeof G=="object")for(z in this.schema)this.attrValueProxy[z]=G[z];else for(z in this.schema)this.attrValueProxy[z]=void 0;typeof G=="string"&&b.parse(G,this.attrValueProxy);for(z in this.attrValue)this.attrValue[z]!==void 0&&L.indexOf(z)!==-1&&(z in this.schema||O("Unknown property `"+z+"` for component `"+this.name+"`."))},eventsAttach:function(){var G;this.eventsDetach();for(G in this.events)this.el.addEventListener(G,this.events[G])},eventsDetach:function(){var G;for(G in this.events)this.el.removeEventListener(G,this.events[G])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.data),this.objectPool.recycle(this.oldData),this.attrValue=this.data=this.oldData=this.attrValueProxy=void 0}};function $(G,z){var j;for(j in z)G.events[j]=z[j].bind(G)}if(window.debug)var H=u.exports.registrationOrderWarnings={};u.exports.registerComponent=function(G,z){var j,nt={},tt,ht;if(document.currentScript&&document.currentScript!==S&&M.forEach(function(Tt){Tt.hasLoaded||document.currentScript.compareDocumentPosition(Tt)!==Node.DOCUMENT_POSITION_FOLLOWING&&(O("The component `"+G+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(H[G]=!0))}),R.test(G)===!0&&O("The component name `"+G+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+G.toLowerCase()+"`"),G.indexOf("__")!==-1)throw new Error("The component name `"+G+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(z).forEach(function(gt){nt[gt]={value:z[gt],writable:!0}}),p[G])throw new Error("The component `"+G+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");j=function(gt,Tt,vt){N.call(this,gt,Tt,vt)},j.prototype=Object.create(N.prototype,nt),j.prototype.name=G,j.prototype.isPositionRotationScale=G==="position"||G==="rotation"||G==="scale",j.prototype.constructor=j,j.prototype.system=m&&m.systems[G],j.prototype.play=J(j.prototype.play),j.prototype.pause=W(j.prototype.pause),tt=A.extend(E(j.prototype.schema,j.prototype.name)),j.prototype.isSingleProperty=ht=v(j.prototype.schema),j.prototype.isObjectBased=!ht||ht&&(Q(tt.default)||Q(y(void 0,tt))),I[G]=A.objectPool.createPool(),p[G]={Component:j,dependencies:j.prototype.dependencies,before:j.prototype.before,after:j.prototype.after,isSingleProperty:j.prototype.isSingleProperty,isObjectBased:j.prototype.isObjectBased,multiple:j.prototype.multiple,sceneOnly:j.prototype.sceneOnly,name:G,schema:tt,stringify:j.prototype.stringify};for(var pt=0;pt<M.length;pt++)M[pt].emit("componentregistered",{name:G},!1);return j};function U(G){return G.tick||G.tock}function W(G){return function(){var j=this.el.sceneEl;this.isPlaying&&(G.call(this),this.isPlaying=!1,this.eventsDetach(),U(this)&&j.removeBehavior(this))}}function J(G){return function(){var j=this.el.sceneEl,nt=this.el.isPlaying&&!this.isPlaying;!this.initialized||!nt||(G.call(this),this.isPlaying=!0,this.eventsAttach(),U(this)&&j.addBehavior(this))}}function Q(G){return G&&G.constructor===Object&&!(G instanceof window.HTMLElement)}},"./src/core/geometry.js":(u,d,c)=>{var f=c("./src/core/schema.js"),M=f.process,m=u.exports.geometries={},A=u.exports.geometryNames=[],p=c("./src/lib/three.js"),y=u.exports.Geometry=function(){};y.prototype={schema:{},init:function(E){return this.geometry=new p.BufferGeometry,this.geometry},update:function(E){}},u.exports.registerGeometry=function(E,v){var w,x={};if(Object.keys(v).forEach(function(O){x[O]={value:v[O],writable:!0}}),m[E])throw new Error("The geometry `"+E+"` has been already registered");return w=function(){y.call(this)},w.prototype=Object.create(y.prototype,x),w.prototype.name=E,w.prototype.constructor=w,m[E]={Geometry:w,schema:M(w.prototype.schema)},A.push(E),w}},"./src/core/propertyTypes.js":(u,d,c)=>{var f=c("./src/utils/coordinates.js"),M=c("./node_modules/debug/src/browser.js"),m=M("core:propertyTypes:warn"),A=u.exports.propertyTypes={},p=/[,> .[\]:]/,y=/url\((.+)\)/;E("audio","",b),E("array",[],v,w,x),E("asset","",b),E("boolean",!1,I),E("color","#FFF"),E("int",0,P),E("number",0,L),E("map","",b),E("model","",b),E("selector",null,k,$,R,!1),E("selectorAll",null,N,H,x,!1),E("src","",U),E("string",""),E("time",0,P),E("vec2",{x:0,y:0},W,f.stringify,f.equals),E("vec3",{x:0,y:0,z:0},W,f.stringify,f.equals),E("vec4",{x:0,y:0,z:0,w:1},W,f.stringify,f.equals);function E(G,z,j,nt,tt,ht){if(G in A)throw new Error("Property type "+G+" is already registered.");A[G]={default:z,parse:j||O,stringify:nt||S,equals:tt||R,isCacheable:ht!==!1}}u.exports.registerPropertyType=E;function v(G){if(Array.isArray(G))return G;if(!G||typeof G!="string")return[];return G.split(",").map(z);function z(j){return j.trim()}}function w(G){return G.join(", ")}function x(G,z){if(!Array.isArray(G)||!Array.isArray(z))return G===z;if(G.length!==z.length)return!1;for(var j=0;j<G.length;j++)if(G[j]!==z[j])return!1;return!0}function b(G){var z,j;if(typeof G!="string")return G;if(j=G.match(y),j)return j[1];if(G.charAt(0)==="#"){if(z=document.getElementById(G.substring(1)),z)return z.tagName==="CANVAS"||z.tagName==="VIDEO"||z.tagName==="IMG"?z:z.getAttribute("src");m('"'+G+'" asset not found.');return}return G}function O(G){return G}function S(G){return G===null?"null":G.toString()}function R(G,z){return G===z}function I(G){return G!=="false"&&G!==!1}function P(G){return parseInt(G,10)}function L(G){return parseFloat(G,10)}function k(G){return G?typeof G!="string"?G:G[0]==="#"&&!p.test(G)?document.getElementById(G.substring(1)):document.querySelector(G):null}function N(G){return G?typeof G!="string"?G:Array.prototype.slice.call(document.querySelectorAll(G),0):null}function $(G){return G.getAttribute?"#"+G.getAttribute("id"):S(G)}function H(G){return G instanceof Array?G.map(function(z){return"#"+z.getAttribute("id")}).join(", "):S(G)}function U(G){return m("`src` property type is deprecated. Use `asset` instead."),b(G)}function W(G,z,j){return f.parse(G,z,j)}function J(G,z){return G==="audio"&&typeof z!="string"||G==="array"&&!Array.isArray(z)||G==="asset"&&typeof z!="string"||G==="boolean"&&typeof z!="boolean"||G==="color"&&typeof z!="string"||G==="int"&&typeof z!="number"||G==="number"&&typeof z!="number"||G==="map"&&typeof z!="string"||G==="model"&&typeof z!="string"||G==="selector"&&typeof z!="string"&&z!==null||G==="selectorAll"&&typeof z!="string"&&z!==null||G==="src"&&typeof z!="string"||G==="string"&&typeof z!="string"||G==="time"&&typeof z!="number"?!1:G==="vec2"?Q(z,2):G==="vec3"?Q(z,3):G==="vec4"?Q(z,4):!0}u.exports.isValidDefaultValue=J;function Q(G,z){if(G===null)return!0;if(typeof G!="object"||Object.keys(G).length!==z)return!1;var j=G.x,nt=G.y,tt=G.z,ht=G.w;return!(typeof j!="number"||typeof nt!="number"||z>2&&typeof tt!="number"||z>3&&typeof ht!="number")}u.exports.isValidDefaultCoordinate=Q},"./src/core/readyState.js":u=>{u.exports.canInitializeElements=!1;function d(){if(document.readyState==="complete"){c();return}document.addEventListener("readystatechange",function f(){document.readyState==="complete"&&(document.removeEventListener("readystatechange",f),c())})}u.exports.waitForDocumentReadyState=d;function c(){u.exports.canInitializeElements||(u.exports.canInitializeElements=!0,setTimeout(function(){document.dispatchEvent(new CustomEvent("aframeready"))}))}u.exports.emitReady=c},"./src/core/scene/a-scene.js":(u,d,c)=>{var f=c("./src/core/scene/metaTags.js").inject,M=c("./src/core/scene/wakelock.js"),m=c("./src/core/scene/loadingScreen.js"),A=c("./src/core/scene/scenes.js"),p=c("./src/core/system.js").systems,y=c("./src/core/component.js").components,E=c("./src/lib/three.js"),v=c("./src/utils/index.js"),w=v.debug("core:a-scene:warn"),x=c("./src/core/a-entity.js").AEntity,b=c("./src/core/a-node.js").ANode,O=c("./src/core/scene/postMessage.js"),S=v.device.isIOS(),R=v.device.isMobile(),I=v.device.isWebXRAvailable;S&&c("./src/utils/ios-orientationchange-blank-bug.js");class P extends x{constructor(){var Q;super(),Q=this,Q.clock=new E.Clock,Q.isIOS=S,Q.isMobile=R,Q.hasWebXR=I,Q.isAR=!1,Q.isScene=!0,Q.object3D=new E.Scene,Q.object3D.onAfterRender=function(G,z,j){Q.isPlaying&&Q.tock(Q.time,Q.delta,j)},Q.resize=Q.resize.bind(Q),Q.render=Q.render.bind(Q),Q.systems={},Q.systemNames=[],Q.time=Q.delta=0,Q.usedOfferSession=!1,Q.componentOrder=[],Q.behaviors={},Q.hasLoaded=!1,Q.isPlaying=!1,Q.originalHTML=Q.innerHTML}addFullScreenStyles(){document.documentElement.classList.add("a-fullscreen")}removeFullScreenStyles(){document.documentElement.classList.remove("a-fullscreen")}doConnectedCallback(){var Q=this,G=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("xr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),super.doConnectedCallback(),W(this),this.setupRenderer(),m.setup(this,N),this.resize(),G||this.addFullScreenStyles(),O(this),f(this),M(this),this.onVRPresentChangeBound=this.onVRPresentChange.bind(this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){Q.enterVR()},this.exitVRBound=function(){Q.exitVR()},this.exitVRTrueBound=function(){Q.exitVR(!0)},this.pointerRestrictedBound=function(){Q.pointerRestricted()},this.pointerUnrestrictedBound=function(){Q.pointerUnrestricted()},Q.hasWebXR||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",function(){Q.attachedCallbackPostCamera()}),this.initSystems(),this.componentOrder=L(y,this.componentOrder),this.addEventListener("componentregistered",function(){Q.componentOrder=L(y,Q.componentOrder)}),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",function(){Q.enterVR()})}attachedCallbackPostCamera(){var Q,G=this;window.addEventListener("load",Q),window.addEventListener("resize",function(){G.isIOS?setTimeout(G.resize,100):G.resize()}),this.play(),A.push(this)}initSystems(){var Q;this.initSystem("camera");for(Q in p)Q!=="camera"&&this.initSystem(Q)}initSystem(Q){this.systems[Q]||(this.systems[Q]=new p[Q](this),this.systemNames.push(Q))}disconnectedCallback(){var Q=A.indexOf(this);super.disconnectedCallback(),A.splice(Q,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.dispose()}addBehavior(Q){var G,z=this.behaviors[Q.name],j;z||(z=this.behaviors[Q.name]={tick:{inUse:!1,array:[],markedForRemoval:[]},tock:{inUse:!1,array:[],markedForRemoval:[]}});for(j in z)if(Q[j]){if(G=z[j],G.inUse){var nt=G.markedForRemoval.indexOf(Q);nt!==-1&&G.markedForRemoval.splice(nt,1)}G.array.indexOf(Q)===-1&&G.array.push(Q)}}getPointerLockElement(){return document.pointerLockElement}checkHeadsetConnected(){return v.device.checkHeadsetConnected()}enterAR(){var Q;if(!this.hasWebXR)throw Q="Failed to enter AR mode, WebXR not supported.",new Error(Q);if(!v.device.checkARSupport())throw Q="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(Q);return this.enterVR(!0)}enterVR(Q,G){var z=this,j,nt=z.renderer.xr,tt;if(G&&(!navigator.xr||!navigator.xr.offerSession))return Promise.resolve("OfferSession is not supported.");if(z.usedOfferSession&&G)return Promise.resolve("OfferSession was already called.");if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var ht=z.getAttribute("renderer");if(nt.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var pt=this.sceneEl.systems.webxr.sessionReferenceSpaceType;nt.setReferenceSpaceType(pt);var gt=Q?"immersive-ar":"immersive-vr";return tt=this.sceneEl.systems.webxr.sessionConfiguration,new Promise(function(ft,St){var Mt=G?navigator.xr.offerSession.bind(navigator.xr):navigator.xr.requestSession.bind(navigator.xr);z.usedOfferSession|=G,Mt(gt,tt).then(function(Vt){G&&(z.usedOfferSession=!1),nt.layersEnabled=tt.requiredFeatures.indexOf("layers")!==-1,nt.setSession(Vt).then(function(){nt.setFoveation(ht.foveationLevel),z.xrSession=Vt,z.systems.renderer.setWebXRFrameRate(Vt),Vt.addEventListener("end",z.exitVRBound),vt(ft)})},function(Vt){var ie=gt==="immersive-ar",jt=ie?"AR":"VR";St(new Error("Failed to enter "+jt+" mode (`requestSession`)",{cause:Vt}))})})}else{if(j=v.device.getVRDisplay(),nt.setDevice(j),j.isPresenting&&!window.hasNativeWebVRImplementation)return vt(),Promise.resolve();var Tt={highRefreshRate:ht.highRefreshRate};return j.requestPresent([{source:this.canvas,attributes:Tt}]).then(vt,Ot)}}return vt(),Promise.resolve();function vt(ft){var St;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(St=new CustomEvent("vrdisplaypresentchange",{detail:{display:v.device.getVRDisplay()}}),window.dispatchEvent(St)),Q?z.addState("ar-mode"):z.addState("vr-mode"),z.emit("enter-vr",{target:z}),!z.hasWebXR&&z.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),z.addFullScreenStyles(),!z.isMobile&&!z.checkHeadsetConnected()&&H(z.canvas),z.resize(),ft&&ft()}function Ot(ft){throw z.removeState("vr-mode"),ft&&ft.message?new Error("Failed to enter VR mode (`requestPresent`): "+ft.message):new Error("Failed to enter VR mode (`requestPresent`).")}}exitVR(){var Q=this,G,z=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(z.enabled=!1,G=v.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0;else if(G.isPresenting)return G.exitPresent().then(j,nt)}else U();return j(),Promise.resolve();function j(){Q.removeState("vr-mode"),Q.removeState("ar-mode"),Q.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),Q.hasAttribute("embedded")&&Q.removeFullScreenStyles(),Q.resize(),Q.isIOS&&v.forceCanvasResizeSafariMobile(Q.canvas),Q.renderer.setPixelRatio(window.devicePixelRatio),Q.emit("exit-vr",{target:Q})}function nt(tt){throw tt&&tt.message?new Error("Failed to exit VR mode (`exitPresent`): "+tt.message):new Error("Failed to exit VR mode (`exitPresent`).")}}pointerRestricted(){if(this.canvas){var Q=this.getPointerLockElement();Q&&Q!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}pointerUnrestricted(){var Q=this.getPointerLockElement();Q&&Q===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}onVRPresentChange(Q){var G=Q.display||Q.detail.display;if(G&&G.isPresenting){this.enterVR();return}this.exitVR()}getAttribute(Q){var G=this.systems[Q];return G?G.data:x.prototype.getAttribute.call(this,Q)}getDOMAttribute(Q){var G=this.systems[Q];return G?G.data:x.prototype.getDOMAttribute.call(this,Q)}setAttribute(Q,G,z){if(p[Q]){b.prototype.setAttribute.call(this,Q,G);var j=this.systems[Q];j&&j.updateProperties(G);return}x.prototype.setAttribute.call(this,Q,G,z)}removeBehavior(Q){var G,z,j=this.behaviors[Q.name],nt;for(z in j)Q[z]&&(G=j[z],nt=G.array.indexOf(Q),nt!==-1&&(G.inUse?G.markedForRemoval.indexOf(Q)===-1&&G.markedForRemoval.push(Q):(G.array[nt]=G.array[G.array.length-1],G.array.pop())))}resize(){var Q=this.camera,G=this.canvas,z,j,nt,tt=this.renderer.xr.isPresenting;j=this.renderer.xr.enabled&&tt,!(!Q||!G||this.is("vr-mode")&&(this.isMobile||j))&&(z=this.getAttribute("embedded")&&!this.is("vr-mode"),nt=N(G,z,this.maxCanvasSize,this.is("vr-mode")),Q.aspect=nt.width/nt.height,Q.updateProjectionMatrix(),this.renderer.setSize(nt.width,nt.height,!1),this.emit("rendererresize",null,!1))}setupRenderer(){var Q=this,G,z,j,nt;nt={alpha:!0,antialias:!R,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:-1,width:-1},this.hasAttribute("renderer")&&(j=this.getAttribute("renderer"),z=v.styleParser.parse(j),z.precision&&(nt.precision=z.precision+"p"),z.antialias&&z.antialias!=="auto"&&(nt.antialias=z.antialias==="true"),z.logarithmicDepthBuffer&&z.logarithmicDepthBuffer!=="auto"&&(nt.logarithmicDepthBuffer=z.logarithmicDepthBuffer==="true"),z.alpha&&(nt.alpha=z.alpha==="true"),z.stencil&&(nt.stencil=z.stencil==="true"),z.multiviewStereo&&(nt.multiviewStereo=z.multiviewStereo==="true"),this.maxCanvasSize={width:z.maxCanvasWidth?parseInt(z.maxCanvasWidth):this.maxCanvasSize.width,height:z.maxCanvasHeight?parseInt(z.maxCanvasHeight):this.maxCanvasSize.height}),G=this.renderer=new E.WebGLRenderer(nt),G.setPixelRatio(window.devicePixelRatio),this.camera&&G.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){G.xr.setPoseTarget(Q.camera.el.object3D)})}play(){var Q=this,G=this;if(this.renderStarted){x.prototype.play.call(this);return}this.addEventListener("loaded",function(){var z=this.renderer,j,nt=this.renderer.xr;x.prototype.play.call(this),!G.renderStarted&&(G.resize(),G.renderer&&(window.performance&&window.performance.mark("render-started"),m.remove(),j=v.device.getVRDisplay(),j&&j.isPresenting&&(nt.setDevice(j),nt.enabled=!0,G.enterVR()),z.setAnimationLoop(this.render),G.renderStarted=!0,G.emit("renderstart")))}),setTimeout(function(){x.prototype.load.call(Q)})}updateComponent(Q){Q in p||x.prototype.updateComponent.apply(this,arguments)}tick(Q,G){var z,j=this.systems;for(this.callComponentBehaviors("tick",Q,G),z=0;z<this.systemNames.length;z++)j[this.systemNames[z]].tick&&j[this.systemNames[z]].tick(Q,G)}tock(Q,G,z){var j,nt=this.systems;for(this.callComponentBehaviors("tock",Q,G),j=0;j<this.systemNames.length;j++)nt[this.systemNames[j]].tock&&nt[this.systemNames[j]].tock(Q,G,z)}render(Q,G){var z=this.renderer;this.frame=G,this.delta=this.clock.getDelta()*1e3,this.time=this.clock.elapsedTime*1e3,this.isPlaying&&this.tick(this.time,this.delta);var j=null;this.is("ar-mode")&&(j=this.object3D.background,this.object3D.background=null),z.render(this.object3D,this.camera),j&&(this.object3D.background=j)}callComponentBehaviors(Q,G,z){for(var j,nt=0;nt<this.componentOrder.length;nt++){var tt=this.behaviors[this.componentOrder[nt]];if(tt){var ht=tt[Q];for(ht.inUse=!0,j=0;j<ht.array.length;j++)ht.array[j].isPlaying&&ht.array[j][Q](G,z);for(ht.inUse=!1,j=0;j<ht.markedForRemoval.length;j++)this.removeBehavior(ht.markedForRemoval[j]);ht.markedForRemoval.length=0}}}}function L(J,Q){var G={},z,j,nt=Q||[];nt.length=0;for(j in J){var tt=J[j];if(tt!==void 0){var ht=tt.before?tt.before.slice(0):[],pt=tt.after?tt.after.slice(0):[];G[j]={before:ht,after:pt,visited:!1,done:!1}}}for(j in G)for(z=0;z<G[j].before.length;z++){var gt=G[j].before[z];if(!(gt in G)){w("Invalid ordering constraint, no component named `"+gt+"` referenced by `"+j+"`");continue}G[gt].after.push(j)}function Tt(vt){if(!(!(vt in G)||G[vt].done)){if(G[vt].visited){w("Cycle detected, ignoring one or more before/after constraints. The resulting order might be incorrect");return}G[vt].visited=!0;for(var Ot=0;Ot<G[vt].after.length;Ot++){var ft=G[vt].after[Ot];ft in G||w("Invalid before/after constraint, no component named `"+ft+"` referenced in `"+vt+"`"),Tt(ft)}G[vt].done=!0,nt.push(vt)}}for(j in G)G[j].done||Tt(j);return nt}u.exports.determineComponentBehaviorOrder=L;function k(J,Q){var G,z=window.devicePixelRatio;return!Q||Q.width===-1&&Q.height===-1||J.width*z<Q.width&&J.height*z<Q.height||(G=J.width/J.height,J.width*z>Q.width&&Q.width!==-1&&(J.width=Math.round(Q.width/z),J.height=Math.round(Q.width/G/z)),J.height*z>Q.height&&Q.height!==-1&&(J.height=Math.round(Q.height/z),J.width=Math.round(Q.height*G/z))),J}customElements.define("a-scene",P);function N(J,Q,G,z){if(!J.parentElement)return{height:0,width:0};if(Q){var j;return j={height:J.parentElement.offsetHeight,width:J.parentElement.offsetWidth},k(j,G)}return $(G,z)}function $(J,Q){var G;return G={height:document.body.offsetHeight,width:document.body.offsetWidth},Q?G:k(G,J)}function H(J){var Q=J.requestFullscreen||J.webkitRequestFullscreen||J.mozRequestFullScreen||J.msRequestFullscreen;Q.apply(J,[{navigationUI:"hide"}])}function U(){var J=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;J&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function W(J){var Q;Q=document.createElement("canvas"),Q.classList.add("a-canvas"),Q.dataset.aframeCanvas=!0,J.appendChild(Q),document.addEventListener("fullscreenchange",G),document.addEventListener("mozfullscreenchange",G),document.addEventListener("webkitfullscreenchange",G),document.addEventListener("MSFullscreenChange",G),Q.addEventListener("touchmove",function(z){z.preventDefault()},{passive:!1}),J.canvas=Q,J.emit("render-target-loaded",{target:Q}),setTimeout(J.resize.bind(J),0);function G(){var z=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;z||J.exitVR(),document.activeElement.blur(),document.body.focus()}}u.exports.setupCanvas=W,u.exports.AScene=P},"./src/core/scene/loadingScreen.js":(u,d,c)=>{var f=c("./src/utils/index.js"),M=f.styleParser,m,A,p,y="loading-screen",E="a-loader-title";u.exports.setup=function(b,O){m=b,p=O;var S=m.hasAttribute(y)?M.parse(m.getAttribute(y)):void 0,R=S&&S.dotsColor||"white",I=S&&S.backgroundColor||"#24CAFF",P=S===void 0||S.enabled==="true"||S.enabled===void 0,L,k,N,$,H,U,W,J,Q,G;P&&(L=new THREE.Scene,k=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),N=new THREE.MeshBasicMaterial({color:R}),$=new THREE.Mesh(k,N),H=$.clone(),U=$.clone(),W=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),J=new THREE.Clock,Q=0,G=function(){m.renderer.render(L,W),Q=J.getElapsedTime()%4,$.visible=Q>=1,H.visible=Q>=2,U.visible=Q>=3},L.background=new THREE.Color(I),L.add(W),$.position.set(-1,0,-15),H.position.set(0,0,-15),U.position.set(1,0,-15),W.add($),W.add(H),W.add(U),w(),setTimeout(function(){m.hasLoaded||(v(W),A.style.display="block",window.addEventListener("resize",function(){v(W)}),m.renderer.setAnimationLoop(G))},200))},u.exports.remove=function(){window.removeEventListener("resize",v),A&&(A.style.display="none")};function v(x){var b=m.hasAttribute("embedded"),O=p(m.canvas,b,m.maxCanvasSize,m.is("vr-mode"));x.aspect=O.width/O.height,x.updateProjectionMatrix(),m.renderer.setSize(O.width,O.height,!1)}function w(){A=document.createElement("div"),A.className=E,A.innerHTML=document.title,A.style.display="none",m.appendChild(A)}},"./src/core/scene/metaTags.js":(u,d,c)=>{var f=c("./src/constants/index.js"),M=c("./src/utils/index.js").extend,m=u.exports.MOBILE_HEAD_TAGS=[p({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),p({name:"mobile-web-app-capable",content:"yes"}),p({name:"theme-color",content:"black"})],A=[p({name:"apple-mobile-web-app-capable",content:"yes"}),p({name:"apple-mobile-web-app-status-bar-style",content:"black"}),y({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];function p(v){return{tagName:"meta",attributes:v,exists:function(){return document.querySelector('meta[name="'+v.name+'"]')}}}function y(v){return{tagName:"link",attributes:v,exists:function(){return document.querySelector('link[rel="'+v.rel+'"]')}}}u.exports.inject=function(w){var x=document.head,b=x.querySelector("script"),O,S=[];return m.forEach(R),w.isIOS&&A.forEach(R),S;function R(I){!I||I.exists()||(O=E(I),O&&(b?b.parentNode.insertBefore(O,b):x.appendChild(O),S.push(O)))}};function E(v){if(!(!v||!v.tagName)){var w=document.createElement(v.tagName);return w.setAttribute(f.AFRAME_INJECTED,""),M(w,v.attributes)}}},"./src/core/scene/postMessage.js":(u,d,c)=>{var f=c("./src/utils/index.js").isIframed;u.exports=function(A){f()&&window.addEventListener("message",M.bind(A))};function M(m){var A=this;if(m.data)switch(m.data.type){case"vr":switch(m.data.data){case"enter":A.enterVR();break;case"exit":A.exitVR();break}}}},"./src/core/scene/scenes.js":u=>{u.exports=[]},"./src/core/scene/wakelock.js":(u,d,c)=>{var f=c("./vendor/wakelock/wakelock.js");u.exports=function(m){if(m.isMobile){var A=m.wakelock=new f;m.addEventListener("enter-vr",function(){A.request()}),m.addEventListener("exit-vr",function(){A.release()})}}},"./src/core/schema.js":(u,d,c)=>{var f=c("./src/utils/index.js"),M=c("./src/core/propertyTypes.js"),m=f.debug,A=M.isValidDefaultValue,p=M.propertyTypes,y=m("core:schema:warn");function E(b){return"type"in b?typeof b.type=="string":"default"in b}u.exports.isSingleProperty=E,u.exports.process=function(b,O){var S;if(E(b))return v(b,O);for(S in b)b[S]=v(b[S],O);return b};function v(b,O){var S=b.default,R,I,P=b.type;return b.type?b.type==="bool"?P="boolean":b.type==="float"&&(P="number"):S!==void 0&&(typeof S=="boolean"||typeof S=="number")?P=typeof S:Array.isArray(S)?P="array":P="string",I=p[P],I||y("Unknown property type for component `"+O+"`: "+P),R=!!b.parse,b.parse=b.parse||I.parse,b.stringify=b.stringify||I.stringify,b.equals=b.equals||I.equals,b.isCacheable=b.isCacheable===!0||I.isCacheable,b.type=P,"default"in b?!R&&!A(P,S)&&y("Default value `"+S+"` does not match type `"+P+"` in component `"+O+"`"):b.default=I.default,b}u.exports.processPropertyDefinition=v,u.exports.parseProperties=function(){var b=[];return function(O,S,R,I,P){var L,k,N,$;b.length=0;for(k in R?O:S)R&&O[k]===void 0||b.push(k);if(O===null||typeof O!="object")return O;for(k in O)O[k]!==void 0&&!S[k]&&!P&&y("Unknown property `"+k+"` for component/system `"+I+"`.");for(L=0;L<b.length;L++){if(k=b[L],N=S[k],$=O[k],!S[k])return;O[k]=w($,N)}return O}}();function w(b,O,S){return(b==null||b==="")&&(b=O.default,Array.isArray(b)&&(b=b.slice())),O.parse(b,O.default,S)}u.exports.parseProperty=w,u.exports.stringifyProperties=function(b,O){var S,R,I,P={},L;for(S in b)R=O[S],I=b[S],L=I,typeof L=="object"&&(L=x(I,R),R||y("Unknown component property: "+S)),P[S]=L;return P};function x(b,O){return typeof b!="object"?b:!O||b===null?JSON.stringify(b):O.stringify(b)}u.exports.stringifyProperty=x},"./src/core/shader.js":(u,d,c)=>{var f=c("./src/core/schema.js"),M=f.process,m=u.exports.shaders={},A=u.exports.shaderNames=[],p=c("./src/lib/three.js"),y=c("./src/utils/index.js"),E={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},v=u.exports.Shader=function(){};v.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(w){return this.uniforms=this.initUniforms(),this.material=new(this.raw?p.RawShaderMaterial:p.ShaderMaterial)({uniforms:this.uniforms,glslVersion:this.raw||this.glsl3?p.GLSL3:null,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initUniforms:function(){var w,x=this.schema,b={},O;for(w in x)x[w].is==="uniform"&&(O=E[x[w].type],b[w]={type:O,value:void 0});return b},update:function(w){var x,b,O=this.schema,S=this.uniforms;for(x in w)if(!(!O[x]||O[x].is!=="uniform")){if(O[x].type==="map"){if(!S[x]||S[x].value===w[x])continue;b="_texture_"+x,this.setMapOnTextureLoad(S,x,b),y.material.updateMapMaterialFromData(b,x,this,w);continue}S[x].value=this.parseValue(O[x].type,w[x]),S[x].needsUpdate=!0}},parseValue:function(w,x){var b;switch(w){case"vec2":return new p.Vector2(x.x,x.y);case"vec3":return new p.Vector3(x.x,x.y,x.z);case"vec4":return new p.Vector4(x.x,x.y,x.z,x.w);case"color":return b=new p.Color(x),new p.Vector3(b.r,b.g,b.b);default:return x}},setMapOnTextureLoad:function(w,x,b){var O=this;this.el.addEventListener("materialtextureloaded",function(){w[x].value=O.material[b],w[x].needsUpdate=!0})}},u.exports.registerShader=function(w,x){var b,O={};if(Object.keys(x).forEach(function(S){O[S]={value:x[S],writable:!0}}),m[w])throw new Error("The shader "+w+" has already been registered");return b=function(){v.call(this)},b.prototype=Object.create(v.prototype,O),b.prototype.name=w,b.prototype.constructor=b,m[w]={Shader:b,schema:M(b.prototype.schema)},A.push(w),b}},"./src/core/system.js":(u,d,c)=>{var f=c("./src/core/component.js"),M=c("./src/core/schema.js"),m=c("./src/utils/index.js"),A=c("./src/core/readyState.js"),p=M.parseProperties,y=M.parseProperty,E=M.process,v=M.isSingleProperty,w=m.styleParser,x=u.exports.systems={},b=u.exports.System=function(O){var S=f&&f.components[this.name];this.el=O,this.sceneEl=O,S&&(S.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};b.prototype={schema:{},init:function(){},update:function(O){},updateProperties:function(O){var S=this.data;Object.keys(M).length&&(this.buildData(O),this.update(S))},buildData:function(O){var S=this.schema;Object.keys(S).length&&(O=O||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),v(S)?this.data=y(O,S):this.data=p(w.parse(O)||{},S,!1,this.name))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},u.exports.registerSystem=function(O,S){var R,I,P={},L=m.findAllScenes(document);if(Object.keys(S).forEach(function(k){P[k]={value:S[k],writable:!0}}),x[O])throw new Error("The system `"+O+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");if(I=function(k){b.call(this,k)},I.prototype=Object.create(b.prototype,P),I.prototype.name=O,I.prototype.constructor=I,I.prototype.schema=m.extend(E(I.prototype.schema)),x[O]=I,A.canInitializeElements)for(R=0;R<L.length;R++)L[R].initSystem(O)}},"./src/extras/components/index.js":(u,d,c)=>{c("./src/extras/components/pivot.js")},"./src/extras/components/pivot.js":(u,d,c)=>{var f=c("./src/core/component.js").registerComponent,M=c("./src/lib/three.js"),m=new M.Vector3,A=new M.Vector3;f("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var p=this.data,y=this.el,E=y.object3D.parent,v=y.object3D,w=new M.Group;m.copy(v.position),A.copy(v.rotation),E.remove(v),w.add(v),E.add(w),y.object3D=w,v.position.set(-1*p.x,-1*p.y,-1*p.z),w.position.set(p.x+m.x,p.y+m.y,p.z+m.z),w.rotation.copy(v.rotation),v.rotation.set(0,0,0)}})},"./src/extras/primitives/getMeshMixin.js":(u,d,c)=>{var f=c("./src/core/component.js").components,M=c("./src/core/shader.js").shaders,m=c("./src/utils/index.js"),A={};Object.keys(f.material.schema).forEach(p),Object.keys(M.standard.schema).forEach(p);function p(y){var E=y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();y==="fog"&&(E="material-fog"),y==="visible"&&(E="material-visible"),A[E]="material."+y}u.exports=function(){return{defaultComponents:{material:{}},mappings:m.extend({},A)}}},"./src/extras/primitives/index.js":(u,d,c)=>{c("./src/extras/primitives/primitives/a-camera.js"),c("./src/extras/primitives/primitives/a-cursor.js"),c("./src/extras/primitives/primitives/a-curvedimage.js"),c("./src/extras/primitives/primitives/a-gltf-model.js"),c("./src/extras/primitives/primitives/a-image.js"),c("./src/extras/primitives/primitives/a-light.js"),c("./src/extras/primitives/primitives/a-link.js"),c("./src/extras/primitives/primitives/a-obj-model.js"),c("./src/extras/primitives/primitives/a-sky.js"),c("./src/extras/primitives/primitives/a-sound.js"),c("./src/extras/primitives/primitives/a-text.js"),c("./src/extras/primitives/primitives/a-video.js"),c("./src/extras/primitives/primitives/a-videosphere.js"),c("./src/extras/primitives/primitives/meshPrimitives.js")},"./src/extras/primitives/primitives.js":(u,d,c)=>{var f=c("./src/core/a-node.js").knownTags,M=c("./src/core/a-entity.js").AEntity,m=c("./src/core/component.js").components,A=c("./src/utils/index.js"),p=A.debug,y=A.entity.setComponentProperty,E=p("extras:primitives:debug"),v=p("extras:primitives:warn"),w=p("extras:primitives:error"),x=u.exports.primitives={};u.exports.registerPrimitive=function(I,P){if(I=I.toLowerCase(),f[I]){w("Trying to register primitive "+I+" that has been already previously registered");return}f[I]=!0,E("Registering <%s>",I),P.defaultAttributes&&v("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var L=P.mappings||{},k=class extends M{constructor(){super(),this.defaultComponentsFromPrimitive=P.defaultComponents||P.defaultAttributes||{},this.deprecated=P.deprecated||null,this.deprecatedMappings=P.deprecatedMappings||{},this.mappings=L,P.deprecated&&console.warn(P.deprecated),this.resolveMappingCollisions()}resolveMappingCollisions(){var N=this.mappings,$=this;Object.keys(N).forEach(function(U){var W;U!==U.toLowerCase()&&v("Mapping keys should be specified in lower case. The mapping key "+U+" may not be recognized"),m[U]&&(W=N[U].replace(".","-"),N[W]=N[U],delete N[U],console.warn("The primitive "+$.tagName.toLowerCase()+" has a mapping collision. The attribute "+U+" has the same name as a registered component and has been renamed to "+W))})}getExtraComponents(){var N,$,H,U,W,J=this;for($=A.clone(this.defaultComponentsFromPrimitive),W=this.getAttribute("mixin"),W&&(W=A.split(W.trim(),/\s+/),W.forEach(function(tt){var ht=document.getElementById(tt);if(ht){var pt=ht.rawAttributeCache,gt=ht.componentCache;for(var Tt in pt){if(U=J.mappings[Tt],U){b(U,pt[Tt],$);return}Tt in gt&&($[Tt]=Q($[Tt],gt[Tt]))}}})),H=0;H<this.attributes.length;H++)N=this.attributes[H],U=this.mappings[N.name],U&&b(U,N.value,$);return $;function Q(nt,tt){return G(nt)?z(tt):G(tt)?z(nt):j(nt)&&j(tt)?A.extendDeep(nt,tt):z(tt)}function G(nt){return typeof nt>"u"}function z(nt){return j(nt)?A.extendDeep({},nt):nt}function j(nt){return nt!==null&&nt.constructor===Object}}attributeChangedCallback(N,$,H){var U=this.mappings[N];if(N in this.deprecatedMappings&&console.warn(this.deprecatedMappings[N]),!N||!U){super.attributeChangedCallback(N,$,H);return}y(this,U,H)}};return customElements.define(I,k),k.mappings=L,x[I]=k,k};function b(R,I,P){var L=A.entity.getComponentPropertyPath(R);L.constructor===Array?(P[L[0]]=P[L[0]]||{},P[L[0]][L[1]]=I.trim()):P[L]=I.trim()}function O(R,I){var P=m[R].schema;Object.keys(P).map(function(L){var k=L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();I[k]!==void 0&&(k=R+"-"+L),I[k]=R+"."+L})}function S(R,I,P){P=P||{},Object.keys(I).map(function(k){O(k,P)}),u.exports.registerPrimitive(R,A.extendDeep({},null,{defaultComponents:I,mappings:P}))}u.exports.definePrimitive=S},"./src/extras/primitives/primitives/a-camera.js":(u,d,c)=>{var f=c("./src/extras/primitives/primitives.js").registerPrimitive;f("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},"./src/extras/primitives/primitives/a-cursor.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js"),M=c("./src/extras/primitives/primitives.js").registerPrimitive,m=c("./src/utils/index.js");M("a-cursor",m.extendDeep({},f(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},"./src/extras/primitives/primitives/a-curvedimage.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js"),M=c("./src/extras/primitives/primitives.js").registerPrimitive,m=c("./src/utils/index.js");M("a-curvedimage",m.extendDeep({},f(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},"./src/extras/primitives/primitives/a-gltf-model.js":(u,d,c)=>{var f=c("./src/extras/primitives/primitives.js").registerPrimitive;f("a-gltf-model",{mappings:{src:"gltf-model"}})},"./src/extras/primitives/primitives/a-image.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js"),M=c("./src/extras/primitives/primitives.js").registerPrimitive,m=c("./src/utils/index.js");M("a-image",m.extendDeep({},f(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-light.js":(u,d,c)=>{var f=c("./src/extras/primitives/primitives.js").registerPrimitive;f("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}})},"./src/extras/primitives/primitives/a-link.js":(u,d,c)=>{var f=c("./src/extras/primitives/primitives.js").registerPrimitive;f("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},"./src/extras/primitives/primitives/a-obj-model.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js")(),M=c("./src/extras/primitives/primitives.js").registerPrimitive,m=c("./src/utils/index.js");M("a-obj-model",m.extendDeep({},f,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},"./src/extras/primitives/primitives/a-sky.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js"),M=c("./src/extras/primitives/primitives.js").registerPrimitive,m=c("./src/utils/index.js"),A=c("./src/extras/primitives/primitives/meshPrimitives.js");M("a-sky",m.extendDeep({},f(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:m.extendDeep({},A["a-sphere"].mappings)}))},"./src/extras/primitives/primitives/a-sound.js":(u,d,c)=>{var f=c("./src/extras/primitives/primitives.js").registerPrimitive;f("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},"./src/extras/primitives/primitives/a-text.js":(u,d,c)=>{var f=c("./src/extras/primitives/primitives.js").definePrimitive;f("a-text",{text:{anchor:"align",width:5}})},"./src/extras/primitives/primitives/a-video.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js"),M=c("./src/extras/primitives/primitives.js").registerPrimitive,m=c("./src/utils/index.js");M("a-video",m.extendDeep({},f(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-videosphere.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js"),M=c("./src/extras/primitives/primitives.js").registerPrimitive,m=c("./src/utils/index.js");M("a-videosphere",m.extendDeep({},f(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},"./src/extras/primitives/primitives/meshPrimitives.js":(u,d,c)=>{var f=c("./src/extras/primitives/getMeshMixin.js"),M=c("./src/core/geometry.js").geometries,m=c("./src/core/geometry.js").geometryNames,A=c("./src/extras/primitives/primitives.js").registerPrimitive,p=c("./src/utils/index.js"),y=u.exports={};m.forEach(function(w){var x=M[w],b=E(w),O={};Object.keys(x.schema).forEach(function(P){O[E(P)]="geometry."+P});var S="a-"+b,R=A(S,p.extendDeep({},f(),{defaultComponents:{geometry:{primitive:w}},mappings:O}));y[S]=R});function E(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},"./src/geometries/box.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js");f("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(m){this.geometry=new M.BoxGeometry(m.width,m.height,m.depth,m.segmentsWidth,m.segmentsHeight,m.segmentsDepth)}})},"./src/geometries/circle.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js"),m=M.MathUtils.degToRad;f("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(A){this.geometry=new M.CircleGeometry(A.radius,A.segments,m(A.thetaStart),m(A.thetaLength))}})},"./src/geometries/cone.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js"),m=M.MathUtils.degToRad;f("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(A){this.geometry=new M.CylinderGeometry(A.radiusTop,A.radiusBottom,A.height,A.segmentsRadial,A.segmentsHeight,A.openEnded,m(A.thetaStart),m(A.thetaLength))}})},"./src/geometries/cylinder.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js"),m=M.MathUtils.degToRad;f("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(A){this.geometry=new M.CylinderGeometry(A.radius,A.radius,A.height,A.segmentsRadial,A.segmentsHeight,A.openEnded,m(A.thetaStart),m(A.thetaLength))}})},"./src/geometries/dodecahedron.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js");f("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new M.DodecahedronGeometry(m.radius,m.detail)}})},"./src/geometries/icosahedron.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js");f("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new M.IcosahedronGeometry(m.radius,m.detail)}})},"./src/geometries/index.js":(u,d,c)=>{c("./src/geometries/box.js"),c("./src/geometries/circle.js"),c("./src/geometries/cone.js"),c("./src/geometries/cylinder.js"),c("./src/geometries/dodecahedron.js"),c("./src/geometries/icosahedron.js"),c("./src/geometries/octahedron.js"),c("./src/geometries/plane.js"),c("./src/geometries/ring.js"),c("./src/geometries/sphere.js"),c("./src/geometries/tetrahedron.js"),c("./src/geometries/torus.js"),c("./src/geometries/torusKnot.js"),c("./src/geometries/triangle.js")},"./src/geometries/octahedron.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js");f("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new M.OctahedronGeometry(m.radius,m.detail)}})},"./src/geometries/plane.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js");f("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(m){this.geometry=new M.PlaneGeometry(m.width,m.height,m.segmentsWidth,m.segmentsHeight)}})},"./src/geometries/ring.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js"),m=M.MathUtils.degToRad;f("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(A){this.geometry=new M.RingGeometry(A.radiusInner,A.radiusOuter,A.segmentsTheta,A.segmentsPhi,m(A.thetaStart),m(A.thetaLength))}})},"./src/geometries/sphere.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js"),m=M.MathUtils.degToRad;f("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(A){this.geometry=new M.SphereGeometry(A.radius,A.segmentsWidth,A.segmentsHeight,m(A.phiStart),m(A.phiLength),m(A.thetaStart),m(A.thetaLength))}})},"./src/geometries/tetrahedron.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js");f("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new M.TetrahedronGeometry(m.radius,m.detail)}})},"./src/geometries/torus.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js"),m=M.MathUtils.degToRad;f("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(A){this.geometry=new M.TorusGeometry(A.radius,A.radiusTubular*2,A.segmentsRadial,A.segmentsTubular,m(A.arc))}})},"./src/geometries/torusKnot.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js");f("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(m){this.geometry=new M.TorusKnotGeometry(m.radius,m.radiusTubular*2,m.segmentsTubular,m.segmentsRadial,m.p,m.q)}})},"./src/geometries/triangle.js":(u,d,c)=>{var f=c("./src/core/geometry.js").registerGeometry,M=c("./src/lib/three.js"),m=new M.Quaternion,A=new M.Vector3(0,0,1),p=new M.Vector2,y=new M.Vector2,E=new M.Vector2;f("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(v){var w,x,b,O,S,R,I,P,L;b=new M.Triangle,b.a.set(v.vertexA.x,v.vertexA.y,v.vertexA.z),b.b.set(v.vertexB.x,v.vertexB.y,v.vertexB.z),b.c.set(v.vertexC.x,v.vertexC.y,v.vertexC.z),x=b.getNormal(new M.Vector3),m.setFromUnitVectors(x,A),O=b.a.clone().applyQuaternion(m),S=b.b.clone().applyQuaternion(m),R=b.c.clone().applyQuaternion(m),p.set(Math.min(O.x,S.x,R.x),Math.min(O.y,S.y,R.y)),y.set(Math.max(O.x,S.x,R.x),Math.max(O.y,S.y,R.y)),E.set(0,0).subVectors(y,p),O=new M.Vector2().subVectors(O,p).divide(E),S=new M.Vector2().subVectors(S,p).divide(E),R=new M.Vector2().subVectors(R,p).divide(E),w=this.geometry=new M.BufferGeometry,I=[b.a.x,b.a.y,b.a.z,b.b.x,b.b.y,b.b.z,b.c.x,b.c.y,b.c.z],P=[x.x,x.y,x.z,x.x,x.y,x.z,x.x,x.y,x.z],L=[O.x,O.y,S.x,S.y,R.x,R.y],w.setAttribute("position",new M.Float32BufferAttribute(I,3)),w.setAttribute("normal",new M.Float32BufferAttribute(P,3)),w.setAttribute("uv",new M.Float32BufferAttribute(L,2))}})},"./src/index.js":(u,d,c)=>{if(window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=navigator.xr!==void 0,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var f=c("./src/utils/isIOSOlderThan10.js"),M=f(window.navigator.userAgent)?1/window.devicePixelRatio:1,m=c("./node_modules/webvr-polyfill/build/webvr-polyfill.js"),A={BUFFER_SCALE:M,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new m(A)}var p=c("./src/utils/index.js"),y=p.debug,E=y("A-Frame:error"),v=y("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&v("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),!window.cordova&&window.location.protocol==="file:"&&E("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/1.4.0/introduction/installation.html#use-a-local-server."),p.device.isBrowserEnvironment&&(c("./src/style/aframe.css"),c("./src/style/rStats.css"));var w=c("./src/core/scene/a-scene.js").AScene,x=c("./src/core/component.js").components,b=c("./src/core/component.js").registerComponent,O=c("./src/core/geometry.js").registerGeometry,S=c("./src/extras/primitives/primitives.js").registerPrimitive,R=c("./src/core/shader.js").registerShader,I=c("./src/core/system.js").registerSystem,P=c("./src/core/shader.js").shaders,L=c("./src/core/system.js").systems,k=window.THREE=c("./src/lib/three.js"),N=c("./src/core/readyState.js"),$=c("./package.json");c("./src/components/index.js"),c("./src/geometries/index.js"),c("./src/shaders/index.js"),c("./src/systems/index.js");var H=c("./src/core/a-node.js").ANode,U=c("./src/core/a-entity.js").AEntity;c("./src/core/a-assets.js"),c("./src/core/a-cubemap.js"),c("./src/core/a-mixin.js"),c("./src/extras/components/index.js"),c("./src/extras/primitives/index.js"),console.log("A-Frame Version: 1.6.0 (Date 2024-05-23, Commit #e6c47761)"),console.log("THREE Version (https://github.com/supermedium/three.js):",k.REVISION),console.log("WebVR Polyfill Version:",$.dependencies["webvr-polyfill"]),window.AFRAME_ASYNC||N.waitForDocumentReadyState(),u.exports=window.AFRAME={AComponent:c("./src/core/component.js").Component,AEntity:U,ANode:H,ANIME:c("./node_modules/super-animejs/lib/anime.es.js").default,AScene:w,components:x,coreComponents:Object.keys(x),geometries:c("./src/core/geometry.js").geometries,registerComponent:b,registerGeometry:O,registerPrimitive:S,registerShader:R,registerSystem:I,primitives:{getMeshMixin:c("./src/extras/primitives/getMeshMixin.js"),primitives:c("./src/extras/primitives/primitives.js").primitives},scenes:c("./src/core/scene/scenes.js"),schema:c("./src/core/schema.js"),shaders:P,systems:L,emitReady:N.emitReady,THREE:k,utils:p,version:$.version}},"./src/lib/rStatsAframe.js":u=>{window.aframeStats=function(d){var c=null,f=d,M={te:{caption:"Entities"},lt:{caption:"Load Time"}},m=[{caption:"A-Frame",values:["te","lt"]}];function A(){c("te").set(p()),window.performance.getEntriesByName&&c("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function p(){var w=f.querySelectorAll("*");return Array.prototype.slice.call(w).filter(function(x){return x.isEntity}),w.length}function y(){}function E(){}function v(w){c=w}return{update:A,start:y,end:E,attach:v,values:M,groups:m,fractions:[]}},u.exports={aframeStats:window.aframeStats}},"./src/lib/three.js":(u,d,c)=>{var f=c("./src/lib/three.mjs").default;c.g.THREE=f,c("./vendor/DeviceOrientationControls.js"),f.Cache&&(f.Cache.enabled=!0),u.exports=f},"./src/shaders/flat.js":(u,d,c)=>{var f=c("./src/core/shader.js").registerShader,M=c("./src/lib/three.js"),m=c("./src/utils/index.js");u.exports.Shader=f("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(p){this.materialData={color:new M.Color},A(p,this.materialData),this.material=new M.MeshBasicMaterial(this.materialData)},update:function(p){this.updateMaterial(p),m.material.updateMap(this,p)},updateMaterial:function(p){var y;A(p,this.materialData);for(y in this.materialData)this.material[y]=this.materialData[y]}});function A(p,y){return y.color.set(p.color),y.fog=p.fog,y.wireframe=p.wireframe,y.toneMapped=p.toneMapped,y.wireframeLinewidth=p.wireframeLinewidth,y}},"./src/shaders/index.js":(u,d,c)=>{c("./src/shaders/flat.js"),c("./src/shaders/standard.js"),c("./src/shaders/phong.js"),c("./src/shaders/sdf.js"),c("./src/shaders/msdf.js"),c("./src/shaders/shadow.js")},"./src/shaders/msdf.js":(u,d,c)=>{var f=c("./src/core/shader.js").registerShader,M=c("./src/lib/three.js"),m=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join(`
`),A=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join(`
`);u.exports.Shader=f("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},vertexShader:m,fragmentShader:A,init:function(){return this.uniforms=M.UniformsUtils.merge([M.UniformsLib.fog,this.initUniforms()]),this.material=new M.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/phong.js":(u,d,c)=>{var f=c("./src/core/shader.js").registerShader,M=c("./src/lib/three.js"),m=c("./src/utils/index.js");u.exports.Shader=f("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(p){this.materialData={color:new M.Color,specular:new M.Color,emissive:new M.Color},A(p,this.materialData),this.material=new M.MeshPhongMaterial(this.materialData);var y=this.el.sceneEl;Object.defineProperty(this.material,"envMap",{get:function(){return this._envMap||y.object3D.environment},set:function(E){this._envMap=E}})},update:function(p){this.updateMaterial(p),m.material.updateMap(this,p),m.material.updateDistortionMap("normal",this,p),m.material.updateDistortionMap("displacement",this,p),m.material.updateDistortionMap("ambientOcclusion",this,p),m.material.updateDistortionMap("bump",this,p),m.material.updateEnvMap(this,p)},updateMaterial:function(p){var y;A(p,this.materialData);for(y in this.materialData)this.material[y]=this.materialData[y]}});function A(p,y){switch(y.color.set(p.color),y.specular.set(p.specular),y.emissive.set(p.emissive),y.emissiveIntensity=p.emissiveIntensity,y.fog=p.fog,y.transparent=p.transparent,y.wireframe=p.wireframe,y.wireframeLinewidth=p.wireframeLinewidth,y.shininess=p.shininess,y.flatShading=p.flatShading,y.wireframe=p.wireframe,y.wireframeLinewidth=p.wireframeLinewidth,y.reflectivity=p.reflectivity,y.refractionRatio=p.refractionRatio,p.combine){case"mix":y.combine=M.MixOperation;break;case"multiply":y.combine=M.MultiplyOperation;break;case"add":y.combine=M.AddOperation;break}return p.normalMap&&(y.normalScale=p.normalScale),p.ambientOcclusionMap&&(y.aoMapIntensity=p.ambientOcclusionMapIntensity),p.bumpMap&&(y.bumpScale=p.bumpMapScale),p.displacementMap&&(y.displacementScale=p.displacementScale,y.displacementBias=p.displacementBias),y}},"./src/shaders/sdf.js":(u,d,c)=>{var f=c("./src/core/shader.js").registerShader,M=c("./src/lib/three.js"),m=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join(`
`),A=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec2 uv = vUV;","  vec4 texColor = texture(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture(map, box.xy).a, width)","      + contour(texture(map, box.zw).a, width)","      + contour(texture(map, box.xw).a, width)","      + contour(texture(map, box.zy).a, width)","    )) / 3.0;","  }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color, opacity * alpha);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join(`
`);u.exports.Shader=f("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:m,fragmentShader:A,init:function(){return this.uniforms=M.UniformsUtils.merge([M.UniformsLib.fog,this.initUniforms()]),this.material=new M.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/shadow.js":(u,d,c)=>{var f=c("./src/core/shader.js").registerShader,M=c("./src/lib/three.js");u.exports.Shader=f("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(m){this.material=new M.ShadowMaterial},update:function(m){this.material.opacity=m.opacity,this.material.alphaToCoverage=m.alphaToCoverage,this.material.transparent=m.transparent}})},"./src/shaders/standard.js":(u,d,c)=>{var f=c("./src/core/shader.js").registerShader,M=c("./src/lib/three.js"),m=c("./src/utils/index.js");u.exports.Shader=f("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(p){this.materialData={color:new M.Color,emissive:new M.Color},A(p,this.materialData),this.material=new M.MeshStandardMaterial(this.materialData)},update:function(p){this.updateMaterial(p),m.material.updateMap(this,p),m.material.updateDistortionMap("normal",this,p),m.material.updateDistortionMap("displacement",this,p),m.material.updateDistortionMap("ambientOcclusion",this,p),m.material.updateDistortionMap("metalness",this,p),m.material.updateDistortionMap("roughness",this,p),m.material.updateEnvMap(this,p)},updateMaterial:function(p){var y,E=this.material;A(p,this.materialData);for(y in this.materialData)E[y]=this.materialData[y]}});function A(p,y){return y.color.set(p.color),y.emissive.set(p.emissive),y.emissiveIntensity=p.emissiveIntensity,y.fog=p.fog,y.metalness=p.metalness,y.roughness=p.roughness,y.wireframe=p.wireframe,y.wireframeLinewidth=p.wireframeLinewidth,p.normalMap&&(y.normalScale=p.normalScale),p.ambientOcclusionMap&&(y.aoMapIntensity=p.ambientOcclusionMapIntensity),p.displacementMap&&(y.displacementScale=p.displacementScale,y.displacementBias=p.displacementBias),y}},"./src/systems/camera.js":(u,d,c)=>{var f=c("./src/constants/index.js"),M=c("./src/core/system.js").registerSystem,m="data-aframe-default-camera";u.exports.System=M("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var p,y,E=this.sceneEl,v=this;if(E.camera&&!E.camera.el.getAttribute("camera").spectator){E.emit("cameraready",{cameraEl:E.camera.el});return}if(p=E.querySelectorAll("a-camera, :not(a-mixin)[camera]"),!p.length){this.createDefaultCamera();return}for(this.numUserCameras=p.length,y=0;y<p.length;y++)p[y].addEventListener("object3dset",function(w){w.detail.type==="camera"&&v.checkUserCamera(this)}),p[y].isNode?p[y].load():p[y].addEventListener("nodeready",function(){this.load()})},checkUserCamera:function(p){var y,E=this.el.sceneEl;if(this.numUserCamerasChecked++,!this.initialCameraFound){if(y=p.getAttribute("camera"),!y.active||y.spectator){this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera();return}this.initialCameraFound=!0,E.camera=p.getObject3D("camera"),E.emit("cameraready",{cameraEl:p})}},createDefaultCamera:function(){var p,y=this.sceneEl;p=document.createElement("a-entity"),p.setAttribute("camera",{active:!0}),p.setAttribute("position",{x:0,y:f.DEFAULT_CAMERA_HEIGHT,z:0}),p.setAttribute("wasd-controls",""),p.setAttribute("look-controls",""),p.setAttribute(f.AFRAME_INJECTED,""),p.addEventListener("object3dset",function(E){E.detail.type==="camera"&&(y.camera=E.detail.object,y.emit("cameraready",{cameraEl:p}))}),y.appendChild(p)},disableActiveCamera:function(){var p,y;p=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"),y=p[p.length-1],y.setAttribute("camera","active",!0)},setActiveCamera:function(p){var y,E,v,w,x=this.activeCameraEl,b=this.sceneEl;if(w=p.getObject3D("camera"),!(!w||p===this.activeCameraEl)){var O=b.querySelector("["+m+"]"),S=O&&O.querySelector(":not(a-mixin)[camera]");for(p!==S&&A(b),this.activeCameraEl=p,this.activeCameraEl.play(),b.camera=w,x&&x.setAttribute("camera","active",!1),E=b.querySelectorAll(":not(a-mixin)[camera]"),v=0;v<E.length;v++)y=E[v],!(!y.isEntity||p===y)&&(y.setAttribute("camera","active",!1),y.pause());b.emit("camera-set-active",{cameraEl:p})}},setSpectatorCamera:function(p){var y,E=this.spectatorCameraEl,v=this.sceneEl,w;y=p.getObject3D("camera"),!(!y||p===this.spectatorCameraEl)&&(E&&E.setAttribute("camera","spectator",!1),w=this.spectatorCameraEl=p,v.addEventListener("enter-vr",this.wrapRender),v.addEventListener("exit-vr",this.unwrapRender),w.setAttribute("camera","active",!1),w.play(),v.emit("camera-set-spectator",{cameraEl:p}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){!this.spectatorCameraEl||this.originalRender||(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(p,y){var E,v=this.sceneEl,w;E=v.renderer.xr.enabled,this.originalRender.call(v.renderer,p,y),!(!this.spectatorCameraEl||v.isMobile||!E)&&(w=this.spectatorCameraEl.components.camera.camera,v.renderer.xr.enabled=!1,this.originalRender.call(v.renderer,p,w),v.renderer.xr.enabled=E)}});function A(p){var y,E=p.camera;E&&(y=p.querySelector("["+m+"]"),y&&p.removeChild(y))}},"./src/systems/geometry.js":(u,d,c)=>{var f=c("./src/core/geometry.js").geometries,M=c("./src/core/system.js").registerSystem;u.exports.System=M("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(y){var E=this.cache,v,w;return y.skipCache?m(y):(w=this.hash(y),v=E[w],p(this.cacheCount,w),v||(v=m(y),E[w]=v,v))},unuseGeometry:function(y){var E=this.cache,v=this.cacheCount,w,x;y.skipCache||(x=this.hash(y),E[x]&&(A(v,x),!(v[x]>0)&&(w=E[x],w.dispose(),delete E[x],delete v[x])))},hash:function(y){return JSON.stringify(y)}});function m(y){var E=y.primitive,v=f[E]&&f[E].Geometry,w=new v;if(!v)throw new Error("Unknown geometry `"+E+"`");return w.init(y),w.geometry}function A(y,E){y[E]--}function p(y,E){y[E]=y[E]===void 0?1:y[E]+1}},"./src/systems/gltf-model.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/lib/three.js");function m(A){return new Promise(function(p,y){var E=document.createElement("script");document.body.appendChild(E),E.onload=p,E.onerror=y,E.async=!0,E.src=A})}u.exports.System=f("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var A=this.data.dracoDecoderPath,p=this.data.basisTranscoderPath,y=this.data.meshoptDecoderPath;!this.dracoLoader&&A&&(this.dracoLoader=new M.DRACOLoader,this.dracoLoader.setDecoderPath(A)),!this.ktx2Loader&&p&&(this.ktx2Loader=new M.KTX2Loader,this.ktx2Loader.setTranscoderPath(p).detectSupport(this.el.renderer)),!this.meshoptDecoder&&y&&(this.meshoptDecoder=m(y).then(function(){return window.MeshoptDecoder.ready}).then(function(){return window.MeshoptDecoder}))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}})},"./src/systems/index.js":(u,d,c)=>{c("./src/systems/camera.js"),c("./src/systems/geometry.js"),c("./src/systems/gltf-model.js"),c("./src/systems/light.js"),c("./src/systems/material.js"),c("./src/systems/obb-collider.js"),c("./src/systems/renderer.js"),c("./src/systems/shadow.js"),c("./src/systems/tracked-controls-webvr.js"),c("./src/systems/tracked-controls-webxr.js"),c("./src/systems/webxr.js")},"./src/systems/light.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/constants/index.js"),m="data-aframe-default-light";u.exports.System=f("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",this.setupDefaultLights.bind(this))},registerLight:function(A){A.hasAttribute(m)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var A,p=this.sceneEl;if(this.defaultLights){A=document.querySelectorAll("["+m+"]");for(var y=0;y<A.length;y++)p.removeChild(A[y]);this.defaultLights=!1}},setupDefaultLights:function(){var A=this.sceneEl,p,y;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||(p=document.createElement("a-entity"),p.setAttribute("light",{color:"#BBB",type:"ambient"}),p.setAttribute(m,""),p.setAttribute(M.AFRAME_INJECTED,""),A.appendChild(p),y=document.createElement("a-entity"),y.setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),y.setAttribute("position",{x:-.5,y:1,z:1}),y.setAttribute(m,""),y.setAttribute(M.AFRAME_INJECTED,""),A.appendChild(y),this.defaultLights=!0)}})},"./src/systems/material.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/lib/three.js"),m=c("./src/utils/index.js"),A=c("./src/utils/material.js").setTextureProperties,p=c("./src/utils/material.js").createCompatibleTexture,y=m.debug,E=y("components:texture:error"),v=y("components:texture:warn"),w=new M.ImageLoader;u.exports.System=f("material",{init:function(){this.materials={},this.sourceCache={}},clearTextureSourceCache:function(){this.sourceCache={}},loadTexture:function(S,R,I){this.loadTextureSource(S,function(L){var k=p(L);A(k,R),I(k)})},loadTextureSource:function(S,R){var I=this,P=this.sourceCache,L=this.hash(S);if(P[L]){P[L].then(R);return}if(S.tagName==="CANVAS"){N(new M.Source(S));return}N(new Promise(k));function k($,H){m.srcLoader.validateSrc(S,U,W);function U(J){I.loadImage(J,$)}function W(J){I.loadVideo(J,$)}}function N($){P[L]=Promise.resolve($),P[L].then(R)}},loadCubeMapTexture:function(S,R){var I=this,P=0,L=new M.CubeTexture;L.colorSpace=M.SRGBColorSpace;function k($){I.loadTextureSource(S[$],function(H){L.images[$]=H,P++,P===6&&(L.needsUpdate=!0,R(L))})}if(S.length!==6){v("Cube map texture requires exactly 6 sources, got only %s sources",S.length);return}for(var N=0;N<S.length;N++)k(N)},loadImage:function(S,R){if(typeof S!="string"){R(new M.Source(S));return}R(x(S))},loadVideo:function(S,R){var I;typeof S!="string"&&(I=S,O(I)),I=I||b(S),R(new M.Source(I))},hash:function(S){return S.tagName&&(S.id||S.src)||S},registerMaterial:function(S){this.materials[S.uuid]=S},unregisterMaterial:function(S){delete this.materials[S.uuid]}});function x(S){return new Promise(R);function R(I,P){w.load(S,L,function(){},function(k){E("`$s` could not be fetched (Error code: %s; Response: %s)",k.status,k.statusText)});function L(k){I(new M.Source(k))}}}function b(S){var R=document.createElement("video");return R.setAttribute("playsinline",""),R.setAttribute("webkit-playsinline",""),R.autoplay=!0,R.loop=!0,R.crossOrigin="anonymous",R.addEventListener("error",function(){v("`%s` is not a valid video",S)},!0),R.src=S,R}function O(S){return S.autoplay=S.hasAttribute("autoplay")&&S.getAttribute("autoplay")!=="false",S.controls=S.hasAttribute("controls")&&S.getAttribute("controls")!=="false",S.getAttribute("loop")==="false"&&S.removeAttribute("loop"),S.getAttribute("preload")==="false"&&(S.preload="none"),S.crossOrigin=S.crossOrigin||"anonymous",S.setAttribute("playsinline",""),S.setAttribute("webkit-playsinline",""),S}},"./src/systems/obb-collider.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem;f("obb-collider",{schema:{showColliders:{default:!1}},init:function(){this.collisions=[],this.colliderEls=[]},addCollider:function(M){this.colliderEls.push(M),this.data.showColliders?M.components["obb-collider"].showCollider():M.components["obb-collider"].hideCollider(),this.tick=this.detectCollisions},removeCollider:function(M){var m=this.colliderEls,A=m.indexOf(M);M.components["obb-collider"].hideCollider(),A>-1&&m.splice(A,1),m.length===0&&(this.tick=void 0)},registerCollision:function(M,m){var A=this.collisions,p=!1,y=M.obb,E=m.obb,v=M.renderColliderMesh,w=m.renderColliderMesh;v&&v.material.color.set(16711680),w&&w.material.color.set(16711680);for(var x=0;x<A.length;x++)if(A[x].componentA.obb===y&&A[x].componentB.obb===E||A[x].componentA.obb===E&&A[x].componentB.obb===y){p=!0,A[x].detected=!0;break}p||(A.push({componentA:M,componentB:m,detected:!0}),M.el.emit("obbcollisionstarted",{trackedObject3D:M.trackedObject3D,withEl:m.el}),m.el.emit("obbcollisionstarted",{trackedObject3D:m.trackedObject3D,withEl:M.el}))},resetCollisions:function(){for(var M=this.collisions,m=0;m<M.length;m++)M[m].detected=!1},clearCollisions:function(){for(var M=this.collisions,m=[],A,p,y,E,v=0;v<M.length;v++)M[v].detected?m.push(M[v]):(A=M[v].componentA,p=M[v].componentB,y=A.renderColliderMesh,E=p.renderColliderMesh,y&&y.material.color.set(65280),A.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:p.el}),E&&E.material.color.set(65280),p.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:A.el}));this.collisions=m},detectCollisions:function(){var M,m,A,p,y=this.colliderEls;if(!(y.length<2)){this.resetCollisions();for(var E=0;E<y.length;E++)if(A=y[E].components["obb-collider"],M=y[E].components["obb-collider"].obb,!(M.halfSize.x===0||M.halfSize.y===0||M.halfSize.z===0))for(var v=E+1;v<y.length;v++)p=y[v].components["obb-collider"],m=p.obb,!(m.halfSize.x===0||m.halfSize.y===0||m.halfSize.z===0)&&M.intersectsOBB(m)&&this.registerCollision(A,p);this.clearCollisions()}}})},"./src/systems/renderer.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/utils/index.js"),m=c("./src/lib/three.js"),A=M.debug,p=A("components:renderer:warn");u.exports.System=f("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:M.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:-1},maxCanvasHeight:{default:-1},multiviewStereo:{default:!1},physicallyCorrectLights:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon"]},precision:{default:"high",oneOf:["high","medium","low"]},anisotropy:{default:1},sortTransparentObjects:{default:!1},colorManagement:{default:!0},alpha:{default:!0},stencil:{default:!1},foveationLevel:{default:1}},init:function(){var w=this.data,x=this.el,b=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),O=x.renderer;w.physicallyCorrectLights||(O.useLegacyLights=!w.physicallyCorrectLights),O.toneMapping=m[b+"ToneMapping"],m.Texture.DEFAULT_ANISOTROPY=w.anisotropy,m.ColorManagement.enabled=w.colorManagement,O.outputColorSpace=w.colorManagement?m.SRGBColorSpace:m.LinearSRGBColorSpace,x.hasAttribute("antialias")&&p('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),x.hasAttribute("logarithmicDepthBuffer")&&p('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.'),O.sortObjects=!0,O.setOpaqueSort(y)},update:function(){var w=this.data,x=this.el,b=x.renderer,O=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);b.toneMapping=m[O+"ToneMapping"],b.toneMappingExposure=w.exposure,b.xr.setFoveation(w.foveationLevel),w.sortObjects&&p('`sortObjects` property is deprecated. Use `renderer="sortTransparentObjects: true"` instead.'),w.sortTransparentObjects?b.setTransparentSort(v):b.setTransparentSort(E)},applyColorCorrection:function(w){!this.data.colorManagement||!w||w.isTexture&&w.colorSpace!==m.SRGBColorSpace&&(w.colorSpace=m.SRGBColorSpace,w.needsUpdate=!0)},setWebXRFrameRate:function(w){var x=this.data,b=w.supportedFrameRates;if(b&&w.updateTargetFrameRate){var O;b.includes(90)?O=x.highRefreshRate?90:72:O=x.highRefreshRate?72:60,w.updateTargetFrameRate(O).catch(function(S){console.warn("failed to set target frame rate of "+O+". Error info: "+S)})}}});function y(w,x){return w.groupOrder!==x.groupOrder?w.groupOrder-x.groupOrder:w.renderOrder!==x.renderOrder?w.renderOrder-x.renderOrder:w.z-x.z}function E(w,x){return w.groupOrder!==x.groupOrder?w.groupOrder-x.groupOrder:w.renderOrder-x.renderOrder}function v(w,x){return w.groupOrder!==x.groupOrder?w.groupOrder-x.groupOrder:w.renderOrder!==x.renderOrder?w.renderOrder-x.renderOrder:x.z-w.z}u.exports.sortFrontToBack=y,u.exports.sortRenderOrderOnly=E,u.exports.sortBackToFront=v},"./src/systems/shadow.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/lib/three.js"),m={basic:M.BasicShadowMap,pcf:M.PCFShadowMap,pcfsoft:M.PCFSoftShadowMap};u.exports.System=f("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var p=this.sceneEl,y=this.data;this.shadowMapEnabled=!1,p.renderer.shadowMap.type=m[y.type],p.renderer.shadowMap.autoUpdate=y.autoUpdate},update:function(p){p.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.shadowMapEnabled)},setShadowMapEnabled:function(p){var y=this.sceneEl,E=this.sceneEl.renderer;this.shadowMapEnabled=p;var v=this.data.enabled&&this.shadowMapEnabled;E&&v!==E.shadowMap.enabled&&(E.shadowMap.enabled=v,A(y))}});function A(p){p.hasLoaded&&p.object3D.traverse(function(y){if(y.material)for(var E=Array.isArray(y.material)?y.material:[y.material],v=0;v<E.length;v++)E[v].needsUpdate=!0})}},"./src/systems/tracked-controls-webvr.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/utils/index.js"),m=M.device.isWebXRAvailable;u.exports.System=f("tracked-controls-webvr",{init:function(){var A=this;this.controllers=[],this.isChrome=navigator.userAgent.indexOf("Chrome")!==-1,this.updateControllerList(),this.throttledUpdateControllerList=M.throttle(this.updateControllerList,500,this),!m&&navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(p){p.length&&(A.vrDisplay=p[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var A=this.controllers,p,y,E,v;if(y=navigator.getGamepads&&navigator.getGamepads(),!!y){for(v=A.length,A.length=0,E=0;E<y.length;++E)p=y[E],p&&p.pose&&A.push(p);A.length!==v&&this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/tracked-controls-webxr.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/utils/index.js");u.exports.System=f("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=M.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var m=this,A=this.el.xrSession;if(!A){this.referenceSpace=void 0,this.controllers=[],this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1));return}var p=m.el.sceneEl.systems.webxr.sessionReferenceSpaceType;A.requestReferenceSpace(p).then(function(y){m.referenceSpace=y}).catch(function(y){throw m.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(p,'tracked-controls-webxr uses reference space "'+p+'".'),y})},updateControllerList:function(){var m=this.el.xrSession,A=this.oldControllers,p;if(!m){if(this.oldControllersLength===0)return;this.oldControllersLength=0,this.controllers=[],this.el.emit("controllersupdated",void 0,!1);return}if(m.inputSources){if(this.controllers=m.inputSources,this.oldControllersLength===this.controllers.length){var y=!0;for(p=0;p<this.controllers.length;++p)if(!(this.controllers[p]===A[p]&&this.controllers[p].gamepad===A[p].gamepad)){y=!1;break}if(y)return}for(A.length=0,p=0;p<this.controllers.length;p++)A.push(this.controllers[p]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/webxr.js":(u,d,c)=>{var f=c("./src/core/system.js").registerSystem,M=c("./src/utils/index.js"),m=M.debug("systems:webxr:warn");u.exports.System=f("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var A=this.data;this.sessionConfiguration={requiredFeatures:A.requiredFeatures,optionalFeatures:A.optionalFeatures},this.sessionReferenceSpaceType=A.referenceSpaceType,A.overlayElement&&(A.overlayElement.classList.remove("a-dom-overlay"),A.optionalFeatures.includes("dom-overlay")||(A.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",A)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:A.overlayElement},A.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(A){return!!(A==="viewer"||A==="local"||this.sessionConfiguration.requiredFeatures.includes(A)||this.sessionConfiguration.optionalFeatures.includes(A))},warnIfFeatureNotRequested:function(A,p){if(!this.wasFeatureRequested(A)){var y='Please add the feature "'+A+`" to a-scene's webxr system options in requiredFeatures/optionalFeatures.`;m((p?p+" ":"")+y)}}})},"./src/utils/coordinates.js":(u,d,c)=>{var f=c("./src/utils/debug.js"),M=f("utils:coordinates:warn"),m=["x","y","z","w"],A=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;u.exports.regex=A;var p=/\s+/g;function y(b,O,S){var R,I,P,L,k=S&&typeof S=="object"?S:{},N,$,H,U;if(b&&b instanceof Object)return N=b.x===void 0?O&&O.x:b.x,$=b.y===void 0?O&&O.y:b.y,H=b.z===void 0?O&&O.z:b.z,U=b.w===void 0?O&&O.w:b.w,N!=null&&(k.x=x(N)),$!=null&&(k.y=x($)),H!=null&&(k.z=x(H)),U!=null&&(k.w=x(U)),k;if(b==null)return typeof O=="object"?Object.assign(k,O):O;for(R=b.trim().split(p),L=0;L<m.length;L++)if(P=m[L],R[L])k[P]=parseFloat(R[L],10);else{if(I=O&&O[P],I===void 0)continue;k[P]=x(I)}return k}u.exports.parse=y;function E(b){var O;return typeof b!="object"?b:(O=b.x+" "+b.y,b.z!=null&&(O+=" "+b.z),b.w!=null&&(O+=" "+b.w),O)}u.exports.stringify=E;function v(b,O){return typeof b!="object"||typeof O!="object"?b===O:b.x===O.x&&b.y===O.y&&b.z===O.z&&b.w===O.w}u.exports.equals=v;function w(b){return A.test(b)}u.exports.isCoordinates=w,u.exports.isCoordinate=function(b){return M("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),w(b)};function x(b){return b!=null&&b.constructor===String?parseFloat(b,10):b}u.exports.toVector3=function(b){return new THREE.Vector3(b.x,b.y,b.z)}},"./src/utils/debug.js":(u,d,c)=>{var f=c("./node_modules/debug/src/browser.js"),M=c("./src/utils/device.js").isBrowserEnvironment,m={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}};f.formatArgs=A;function A(w){if(w[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+w[0]+(this.useColors?"%c ":" "),!!this.useColors){this.color=y(this.namespace);var x="color: "+this.color;w.splice(1,0,x,"color: inherit");var b=0,O=0;w[0].replace(/%[a-zA-Z%]/g,function(S){S!=="%%"&&(b++,S==="%c"&&(O=b))}),w.splice(O,0,x)}}function p(w){var x=w.split(":");return x[x.length-1]}function y(w){var x=p(w),b=m.colors&&m.colors[x];return b||null}function E(){try{return window.localStorage}catch{}}var v=E();v&&(parseInt(v.logs,10)||v.logs==="true")?f.enable("*"):f.enable("*:error,*:info,*:warn"),M&&(window.logs=f),u.exports=f},"./src/utils/device.js":(u,d,c)=>{var f=c("./node_modules/debug/src/browser.js")("device:error"),M,m=!1,A=!1,p=u.exports.isWebXRAvailable=navigator.xr!==void 0;if(window.addEventListener("vrdisplayactivate",function(H){var U;p||(U=document.createElement("canvas"),M=H.display,U.getContext("webgl",{}),M.requestPresent([{source:U}]).then(function(){},function(){}))}),p){var y=function(){var H=document.querySelector("a-scene");if(!H){window.addEventListener("DOMContentLoaded",y);return}H.hasLoaded?H.components["xr-mode-ui"].updateEnterInterfaces():H.addEventListener("loaded",y)},E=function(H){f("WebXR session support error: "+H.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(H){m=H,y()}).catch(E),navigator.xr.isSessionSupported("immersive-ar").then(function(H){A=H,y()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){m=!0,y()}).catch(E),navigator.xr.supportsSession("immersive-ar").then(function(){A=!0,y()}).catch(function(){})):f("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(H){var U=document.querySelector("a-scene");M=H.length&&H[0],U&&U.emit("displayconnected",{vrDisplay:M})});function v(){return M}u.exports.getVRDisplay=v;function w(){return m||A||!!v()}u.exports.checkHeadsetConnected=w;function x(){return A}u.exports.checkARSupport=x;function b(){return m}u.exports.checkVRSupport=b;var O=function(){var H=!1;return function(U){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(U)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(U.substr(0,4)))&&(H=!0),(I()||S()||$())&&(H=!0),N()&&(H=!1)}(window.navigator.userAgent||window.navigator.vendor||window.opera),function(){return H}}();u.exports.isMobile=O;function S(H){var U=H||window.navigator.userAgent,W=/Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(U);return W||R()}u.exports.isTablet=S;function R(H,U,W){var J=H||window.navigator.userAgent,Q=U||window.navigator.platform,G=W||window.navigator.maxTouchPoints||0;return(Q==="iPad"||Q==="MacIntel")&&G>0&&/Macintosh|Intel|iPad|ipad/i.test(J)&&!window.MSStream}u.exports.isIpad=R;function I(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}u.exports.isIOS=I;function P(){return!O()&&!N()&&window.orientation!==void 0}u.exports.isMobileDeviceRequestingDesktopSite=P;function L(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}u.exports.isOculusBrowser=L;function k(){return/(Mobile VR)/i.test(window.navigator.userAgent)}u.exports.isFirefoxReality=k;function N(){return L()||k()}u.exports.isMobileVR=N;function $(){return/R7 Build/.test(window.navigator.userAgent)}u.exports.isR7=$,u.exports.isLandscape=function(){var H=window.orientation;return $()&&(H+=90),H===90||H===-90},u.exports.isBrowserEnvironment=typeof process>"u"||process.browser===!0,u.exports.isNodeEnvironment=!u.exports.isBrowserEnvironment},"./src/utils/entity.js":(u,d,c)=>{var f=c("./src/utils/split.js").split;function M(m,A){A=A||".";var p=f(m,A);return p.length===1?p[0]:p}u.exports.getComponentPropertyPath=M,u.exports.getComponentProperty=function(m,A,p){var y;return p=p||".",A.indexOf(p)!==-1?(y=M(A,p),y.constructor===String?m.getAttribute(y):m.getAttribute(y[0])[y[1]]):m.getAttribute(A)},u.exports.setComponentProperty=function(m,A,p,y){var E;if(y=y||".",A.indexOf(y)!==-1){E=M(A,y),E.constructor===String?m.setAttribute(E,p):m.setAttribute(E[0],E[1],p);return}m.setAttribute(A,p)}},"./src/utils/forceCanvasResizeSafariMobile.js":u=>{u.exports=function(c){var f=c.style.width,M=c.style.height;c.style.width=parseInt(f,10)+1+"px",c.style.height=parseInt(M,10)+1+"px",setTimeout(function(){c.style.width=f,c.style.height=M},200)}},"./src/utils/index.js":(u,d,c)=>{var f=c("./src/utils/debug.js"),M=c("./node_modules/deep-assign/index.js"),m=c("./src/utils/device.js"),A=c("./src/utils/object-pool.js"),p=f("utils:warn");u.exports.bind=function(E){return E.bind.apply(E,Array.prototype.slice.call(arguments,1))},u.exports.coordinates=c("./src/utils/coordinates.js"),u.exports.debug=f,u.exports.device=m,u.exports.entity=c("./src/utils/entity.js"),u.exports.forceCanvasResizeSafariMobile=c("./src/utils/forceCanvasResizeSafariMobile.js"),u.exports.material=c("./src/utils/material.js"),u.exports.objectPool=A,u.exports.split=c("./src/utils/split.js").split,u.exports.styleParser=c("./src/utils/styleParser.js"),u.exports.trackedControls=c("./src/utils/tracked-controls.js"),u.exports.checkHeadsetConnected=function(){return p("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),m.checkHeadsetConnected(arguments)},u.exports.isGearVR=u.exports.device.isGearVR=function(){p("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},u.exports.isIOS=function(){return p("`utils.isIOS` has moved to `utils.device.isIOS`"),m.isIOS(arguments)},u.exports.isOculusGo=u.exports.device.isOculusGo=function(){p("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},u.exports.isMobile=function(){return p("`utils.isMobile has moved to `utils.device.isMobile`"),m.isMobile(arguments)},u.exports.throttle=function(E,v,w){var x;return w&&(E=E.bind(w)),function(){var b=Date.now(),O=typeof x>"u"?v:b-x;(typeof x>"u"||O>=v)&&(x=b,E.apply(null,arguments))}},u.exports.throttleLeadingAndTrailing=function(E,v,w){var x,b;w&&(E=E.bind(w));var O,S=function(){x=Date.now(),E.apply(this,O),b=void 0};return function(){var R=Date.now(),I=typeof x>"u"?v:R-x;I>=v?(clearTimeout(b),b=void 0,x=R,E.apply(null,arguments)):(b=b||setTimeout(S,v-I),O=arguments)}},u.exports.throttleTick=function(E,v,w){var x;return w&&(E=E.bind(w)),function(b,O){var S=typeof x>"u"?O:b-x;(typeof x>"u"||S>=v)&&(x=b,E(b,S))}},u.exports.debounce=function(E,v,w){var x;return function(){var b=this,O=arguments,S=function(){x=null,w||E.apply(b,O)},R=w&&!x;clearTimeout(x),x=setTimeout(S,v),R&&E.apply(b,O)}},u.exports.extend=Object.assign,u.exports.extendDeep=M,u.exports.clone=function(E){return JSON.parse(JSON.stringify(E))};var y=function(){var E=A.createPool(function(){return[]});return function(v,w){var x,b,O,S,R,I;if(v===void 0||w===void 0||v===null||w===null||!(v&&w&&v.constructor===Object&&w.constructor===Object||v.constructor===Array&&w.constructor===Array))return v===w;b=E.use(),O=E.use(),b.length=0,O.length=0;for(x in v)b.push(x);for(x in w)O.push(x);if(b.length!==O.length)return E.recycle(b),E.recycle(O),!1;for(S=0;S<b.length;++S)if(R=v[b[S]],I=w[b[S]],typeof R=="object"||typeof I=="object"||Array.isArray(R)&&Array.isArray(I)){if(R===I)continue;if(!y(R,I))return E.recycle(b),E.recycle(O),!1}else if(R!==I)return E.recycle(b),E.recycle(O),!1;return E.recycle(b),E.recycle(O),!0}}();u.exports.deepEqual=y,u.exports.diff=function(){var E=[];return function(v,w,x){var b,O,S,R,I,P,L;R=x||{},E.length=0;for(I in v)E.push(I);if(!w)return R;for(S in w)E.indexOf(S)===-1&&E.push(S);for(P=0;P<E.length;P++)I=E[P],b=v[I],O=w[I],L=b&&O&&b.constructor===Object&&O.constructor===Object,(L&&!y(b,O)||!L&&b!==O)&&(R[I]=O);return R}}(),u.exports.shouldCaptureKeyEvent=function(E){return E.metaKey?!1:document.activeElement===document.body},u.exports.splitString=function(E,v){typeof v>"u"&&(v=" ");var w=new RegExp(v,"g");return E=(E||"").replace(w,v),E.split(v)},u.exports.getElData=function(E,v){v=v||{};var w={};Object.keys(v).forEach(x);function x(b){E.hasAttribute(b)&&(w[b]=E.getAttribute(b))}return w},u.exports.getUrlParameter=function(E){E=E.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var v=new RegExp("[\\?&]"+E+"=([^&#]*)"),w=v.exec(location.search);return w===null?"":decodeURIComponent(w[1].replace(/\+/g," "))},u.exports.isIframed=function(){return window.top!==window.self},u.exports.findAllScenes=function(E){for(var v=[],w=E.getElementsByTagName("*"),x=0,b=w.length;x<b;x++)w[x].isScene&&v.push(w[x]);return v},u.exports.srcLoader=c("./src/utils/src-loader.js")},"./src/utils/ios-orientationchange-blank-bug.js":()=>{window.addEventListener("orientationchange",function(){document.documentElement.style.height="initial",setTimeout(function(){document.documentElement.style.height="100%",setTimeout(function(){window.scrollTo(0,1)},500)},500)})},"./src/utils/isIOSOlderThan10.js":u=>{u.exports=function(c){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(c)}},"./src/utils/material.js":(u,d,c)=>{var f=c("./src/lib/three.js"),M=c("./src/utils/src-loader.js"),m=c("./src/utils/debug.js"),A=m("utils:material:warn"),p=new Set(["emissiveMap","envMap","map","specularMap"]);function y(b,O){var S=O.offset||{x:0,y:0},R=O.repeat||{x:1,y:1},I=O.npot||!1,P=O.anisotropy||f.Texture.DEFAULT_ANISOTROPY,L=b.wrapS,k=b.wrapT,N=b.magFilter,$=b.minFilter;I&&(L=f.ClampToEdgeWrapping,k=f.ClampToEdgeWrapping,N=f.LinearFilter,$=f.LinearFilter),(R.x!==1||R.y!==1)&&(L=f.RepeatWrapping,k=f.RepeatWrapping),b.offset.set(S.x,S.y),b.repeat.set(R.x,R.y),(b.wrapS!==L||b.wrapT!==k||b.magFilter!==N||b.minFilter!==$||b.anisotropy!==P)&&(b.wrapS=L,b.wrapT=k,b.magFilter=N,b.minFilter=$,b.anisotropy=P,b.needsUpdate=!0)}u.exports.setTextureProperties=y,u.exports.updateMapMaterialFromData=function(b,O,S,R){var I=S.el,P=S.material,L=I.sceneEl.systems.renderer,k=R[O];if(S.materialSrcs||(S.materialSrcs={}),!k){delete S.materialSrcs[b],$(null);return}if(k===S.materialSrcs[b]&&P[b]){y(P[b],R);return}S.materialSrcs[b]=k,k instanceof f.Texture?$(k):I.sceneEl.systems.material.loadTextureSource(k,N);function N(H){if(S.materialSrcs[b]===k){var U=P[b];U&&(H===null||!w(U,H))&&(U=null),!U&&H&&(U=x(H)),U&&(U.source!==H&&(U.source=H,U.needsUpdate=!0),p.has(b)&&L.applyColorCorrection(U),y(U,R)),$(U)}}function $(H){P[b]!==H&&(P[b]&&P[b].dispose(),P[b]=H,P.needsUpdate=!0,v(I,H))}},u.exports.updateMap=function(b,O){return u.exports.updateMapMaterialFromData("map","src",b,O)},u.exports.updateDistortionMap=function(b,O,S){var R=b;b==="ambientOcclusion"&&(R="ao");var I={};return I.src=S[b+"Map"],I.offset=S[b+"TextureOffset"],I.repeat=S[b+"TextureRepeat"],I.wrap=S[b+"TextureWrap"],u.exports.updateMapMaterialFromData(R+"Map","src",O,I)};var E={};u.exports.updateEnvMap=function(b,O){var S=b.material,R=b.el,I="envMap",P=O.envMap,L=O.sphericalEnvMap,k=O.refract;if(L&&(P=L,A("`sphericalEnvMap` property is deprecated, using spherical map as equirectangular map instead. Use `envMap` property with a CubeMap or Equirectangular image instead.")),b.materialSrcs||(b.materialSrcs={}),!P){delete b.materialSrcs[I],S.envMap=null,S.needsUpdate=!0;return}if(b.materialSrcs[I]=P,E[P]){E[P].then(N);return}E[P]=new Promise(function($){M.validateEnvMapSrc(P,function(U){R.sceneEl.systems.material.loadCubeMapTexture(U,function(W){W.mapping=k?f.CubeRefractionMapping:f.CubeReflectionMapping,N(W),$(W)})},function(U){R.sceneEl.systems.material.loadTexture(U,{src:U},function(W){W.mapping=k?f.EquirectangularRefractionMapping:f.EquirectangularReflectionMapping,N(W),$(W)})})});function N($){b.materialSrcs[I]===P&&(S.envMap=$,S.needsUpdate=!0,v(R,$))}};function v(b,O){if(!O||(b.emit("materialtextureloaded",{src:O.image,texture:O}),!O.image||O.image.tagName!=="VIDEO"))return;O.image.addEventListener("loadeddata",S),O.image.addEventListener("ended",R);function S(){b.emit("materialvideoloadeddata",{src:O.image,texture:O})}function R(){b.emit("materialvideoended",{src:O.image,texture:O})}O.addEventListener("dispose",function(){O.image.removeEventListener("loadeddata",S),O.image.removeEventListener("ended",R)})}u.exports.handleTextureEvents=v;function w(b,O){return O.data instanceof HTMLCanvasElement?b.isCanvasTexture:O.data instanceof HTMLVideoElement?b.isVideoTexture&&b.source===O:b.isTexture&&!b.isCanvasTexture&&!b.isVideoTexture}u.exports.isCompatibleTexture=w;function x(b){var O;return b.data instanceof HTMLCanvasElement?O=new f.CanvasTexture:b.data instanceof HTMLVideoElement?O=new f.VideoTexture(b.data):O=new f.Texture,O.source=b,O.needsUpdate=!0,O}u.exports.createCompatibleTexture=x},"./src/utils/math.js":u=>{function d(f,M,m){var A=M.dot(f);return(A-M.dot(m))/M.length()}function c(f,M,m,A){var p=d(f,M,m);return A.copy(M),A.multiplyScalar(p),A.add(m),A}u.exports.distanceOfPointFromPlane=d,u.exports.nearestPointInPlane=c},"./src/utils/object-pool.js":u=>{var d=Object.freeze(Object.create(null));function c(){return{}}u.exports.createPool=function(A){var p=[],y=null;A=A||c;function E(){var b;return(y===null||y===p.length)&&w(p.length||5),b=p[y],p[y++]=d,f(b),b}function v(b){if(b instanceof Object){if(y===null||y===-1){p[p.length]=b;return}p[--y]=b}}function w(b){var O,S;if(b=b===void 0?p.length:b,b>0&&y==null&&(y=0),b>0)for(O=p.length,p.length+=Number(b),S=O;S<p.length;S++)p[S]=A();return p.length}function x(){return p.length}return{grow:w,pool:p,recycle:v,size:x,use:E}};function f(m){var A;if(!(!m||m.constructor!==Object))for(A in m)m[A]=void 0}u.exports.clearObject=f;function M(m,A){var p;if(!(!m||m.constructor!==Object))for(p in m)p in A||delete m[p]}u.exports.removeUnusedKeys=M},"./src/utils/split.js":u=>{u.exports.split=function(){var d={};return function(c,f){return f in d||(d[f]={}),c in d[f]||(d[f][c]=c.split(f)),d[f][c]}}()},"./src/utils/src-loader.js":(u,d,c)=>{var f=c("./src/utils/debug.js"),M=f("utils:src-loader:warn");function m(x,b,O){E(x,function(R){if(R){b(x);return}O(x)})}function A(x,b,O){var S,R="",I,P,L=[];if(typeof x=="string"){let N=function($){L.push($),L.length===6&&b(L)};for(I=0;I<5;I++)R+="(url\\((?:[^\\)]+)\\),\\s*)";if(R+="(url\\((?:[^\\)]+)\\)\\s*)",P=x.match(new RegExp(R)),P){for(I=1;I<7;I++)m(y(P[I]),N);return}if(!x.startsWith("#")){var k=y(x);m(k||x,O);return}}if(x.tagName?S=x:S=w(x),!!S){if(S.tagName==="A-CUBEMAP"&&S.srcs)return b(S.srcs);if(S.tagName==="IMG")return O(S);M('Selector "%s" does not point to <a-cubemap> or <img>',x)}}function p(x,b){return A(x,b,function(){M("Expected cubemap but got image")})}function y(x){var b=x.match(/url\((.+)\)/);if(b)return b[1]}function E(x,b){var O;if(x.tagName){b(x.tagName==="IMG");return}O=new XMLHttpRequest,O.open("HEAD",x),O.addEventListener("load",function(S){var R;O.status>=200&&O.status<300?(R=O.getResponseHeader("Content-Type"),R==null?v(x,b):R.startsWith("image")?b(!0):b(!1)):v(x,b),O.abort()}),O.send()}function v(x,b){var O=new Image;O.addEventListener("load",S);function S(){b(!0)}O.addEventListener("error",R);function R(){b(!1)}O.src=x}function w(x){try{var b=document.querySelector(x);return b||M('No element was found matching the selector: "%s"',x),b}catch{M('"%s" is not a valid selector',x);return}}u.exports={parseUrl:y,validateSrc:m,validateCubemapSrc:p,validateEnvMapSrc:A}},"./src/utils/styleParser.js":u=>{var d=/-([a-z])/g;u.exports.parse=function(p,y){var E;return typeof p!="string"||(E=M(p,y),E[""])?p:E},u.exports.stringify=function(p){return typeof p=="string"?p:m(p)};function c(p){return p.replace(d,A)}u.exports.toCamelCase=c;var f=function(){var p=[],y=/url\([^)]+$/;return function(v){var w="",x,b=0,O=";";for(p.length=0;b<v.length;){if(x=v.indexOf(O,b),x===-1&&(x=v.length),w+=v.substring(b,x),y.test(w)){w+=";",b=x+1;continue}p.push(w.trim()),w="",b=x+1}return p}}();function M(p,y){var E,v,w,x,b,O;for(y=y||{},E=f(p),v=0;v<E.length;v++)w=E[v],w&&(x=w.indexOf(":"),b=w.substr(0,x).trim(),O=w.substr(x+1).trim(),y[c(b)]=O);return y}function m(p){var y,E=0,v=0,w="";for(y in p)E++;for(y in p)w+=y+": "+p[y],v<E-1&&(w+="; "),v++;return w}function A(p){return p[1].toUpperCase()}},"./src/utils/tracked-controls.js":(u,d,c)=>{var f=c("./src/constants/index.js").DEFAULT_HANDEDNESS,M=["x","y","z","w"],m=2;u.exports.checkControllerPresentAndSetup=function(v,w,x){var b=v.el,O,S=b.sceneEl.hasWebXR,R=S?p:A,I;if(O=R(v,w,x),I=!!O,v.controllerPresent&&!v.controllerEventsActive&&!S&&v.addEventListeners(),I===v.controllerPresent)return I;v.controllerPresent=I,I?(v.addEventListeners(),v.injectTrackedControls(O),b.emit("controllerconnected",{name:v.name,component:v})):(v.removeEventListeners(),b.emit("controllerdisconnected",{name:v.name,component:v}))};function A(v,w,x){var b,O=v.el.sceneEl,S,R=x.index||0;return!w||(S=O&&O.systems["tracked-controls-webvr"],!S)||(b=S.controllers,!b.length)?!1:!!y(b,null,w,x.hand,R)}function p(v,w,x){var b,O=v.el.sceneEl,S=O&&O.systems["tracked-controls-webxr"];return!S||(b=S.controllers,!b||!b.length)?!1:E(b,w,x.hand,x.index,x.iterateControllerProfiles,x.handTracking)}u.exports.isControllerPresentWebVR=A,u.exports.isControllerPresentWebXR=p;function y(v,w,x,b,O){var S,R,I=0,P=O>=0?O:0;for(R=0;R<v.length;R++)if(S=v[R],!(x&&!S.id.startsWith(x))&&!(!x&&S.id!==w)&&!(b&&S.hand&&b!==S.hand)){if(b&&!S.hand)P=m*O+(b===f?0:1);else return S;if(I===P)return S;++I}}function E(v,w,x,b,O,S){var R,I,P,L=!1,k,N;for(R=0;R<v.length;R++){if(P=v[R],N=P.profiles,S)L=P.hand;else if(O)for(I=0;I<N.length&&(L=N[I].startsWith(w),!L);I++);else L=N.length>0&&N[0].startsWith(w);if(L){if(k=P.handedness==="right"||P.handedness==="left",k){if(P.handedness===x)return v[R]}else if(R===b)return v[R]}}}u.exports.findMatchingControllerWebVR=y,u.exports.findMatchingControllerWebXR=E,u.exports.emitIfAxesChanged=function(v,w,x){var b,O,S,R,I;for(O in w){for(b=w[O],S=!1,I=0;I<b.length;I++)x.detail.changed[b[I]]&&(S=!0);if(S){for(R={},I=0;I<b.length;I++)R[M[I]]=x.detail.axis[b[I]];v.el.emit(O+"moved",R)}}},u.exports.onButtonEvent=function(v,w,x,b){var O=b?x.mapping[b]:x.mapping,S=O.buttons[v];x.el.emit(S+w),x.updateModel&&x.updateModel(S,w)}},"./vendor/DeviceOrientationControls.js":()=>{THREE.DeviceOrientationControls=function(u){var d=this;this.object=u,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var c=function(m){d.deviceOrientation=m},f=function(){d.screenOrientation=window.orientation||0},M=function(){var m=new THREE.Vector3(0,0,1),A=new THREE.Euler,p=new THREE.Quaternion,y=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(E,v,w,x,b){A.set(w,v,-x,"YXZ"),E.setFromEuler(A),E.multiply(y),E.multiply(p.setFromAxisAngle(m,-b))}}();this.connect=function(){f(),window.addEventListener("orientationchange",f,!1),window.addEventListener("deviceorientation",c,!1),d.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",f,!1),window.removeEventListener("deviceorientation",c,!1),d.enabled=!1},this.update=function(){if(d.enabled!==!1){var m=d.deviceOrientation;if(m){var A=m.alpha?THREE.MathUtils.degToRad(m.alpha)+d.alphaOffset:0,p=m.beta?THREE.MathUtils.degToRad(m.beta):0,y=m.gamma?THREE.MathUtils.degToRad(m.gamma):0,E=d.screenOrientation?THREE.MathUtils.degToRad(d.screenOrientation):0;M(d.object.quaternion,A,p,y,E)}}},this.dispose=function(){d.disconnect()},this.connect()}},"./vendor/rStats.extras.js":u=>{window.glStats=function(){var d=null,c=0,f=0,M=0,m=0,A=0,p=0,y=0;function E(I,P){return function(){P.apply(this,arguments),I.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=E(WebGLRenderingContext.prototype.drawArrays,function(){c++,arguments[0]==this.POINTS?p+=arguments[2]:A+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=E(WebGLRenderingContext.prototype.drawElements,function(){f++,m+=arguments[1]/3,A+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=E(WebGLRenderingContext.prototype.useProgram,function(){M++}),WebGLRenderingContext.prototype.bindTexture=E(WebGLRenderingContext.prototype.bindTexture,function(){y++});var v={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},w=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],x=[{base:"allcalls",steps:["drawelements","drawarrays"]}];function b(){d("allcalls").set(c+f),d("drawElements").set(f),d("drawArrays").set(c),d("bindTexture").set(y),d("useProgram").set(M),d("glfaces").set(m),d("glvertices").set(A),d("glpoints").set(p)}function O(){c=0,f=0,M=0,m=0,A=0,p=0,y=0}function S(){}function R(I){d=I}return{update:b,start:O,end:S,attach:R,values:v,groups:w,fractions:x}},window.threeStats=function(d){var c=null,f={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},M=[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],m=[];function A(){c("renderer.info.memory.geometries").set(d.info.memory.geometries),c("renderer.info.programs").set(d.info.programs.length),c("renderer.info.memory.textures").set(d.info.memory.textures),c("renderer.info.render.calls").set(d.info.render.calls),c("renderer.info.render.triangles").set(d.info.render.triangles),c("renderer.info.render.points").set(d.info.render.points)}function p(){}function y(){}function E(v){c=v}return{update:A,start:p,end:y,attach:E,values:f,groups:M,fractions:m}},window.BrowserStats=function(){var d=null,c=0,f=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),performance.memory.totalJSHeapSize===0&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var M={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},m=[{caption:"Browser",values:["memory","total"]}],A=[{base:"total",steps:["memory"]}],p=Math.log(1024);function y(b){var O=100,S=Math.floor(Math.log(b)/p);return Math.round(b*O/Math.pow(1024,S))/O}function E(){c=y(performance.memory.usedJSHeapSize),f=y(performance.memory.totalJSHeapSize),d("memory").set(c),d("total").set(f)}function v(){c=0}function w(){}function x(b){d=b}return{update:E,start:v,end:w,attach:x,values:M,groups:m,fractions:A}},u.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},"./vendor/rStats.js":u=>{(function(){"performance"in window||(window.performance={});var d=window.performance;if(!("now"in d)){var c=Date.now();d.timing&&d.timing.navigationStart&&(c=d.timing.navigationStart),d.now=function(){return Date.now()-c}}d.mark||(d.mark=function(){}),d.measure||(d.measure=function(){})})(),window.rStats=function(c){function f(N,$){for(var H=Object.keys(N),U=0,W=H.length;U<W;U++)$(H[U])}function M(N){var $=document.createElement("link");$.href=N,$.rel="stylesheet",$.type="text/css",document.getElementsByTagName("head")[0].appendChild($)}var m=c||{},A=m.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],p="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",y=(m.CSSPath?m.CSSPath:"")+"rStats.css",E=m.css||[p,y];E.forEach(function(N){M(N)}),m.values||(m.values={});var v,w,x=10,b=200,O={};function S(N,$,H){var U=H||{},W=document.createElement("canvas"),J=W.getContext("2d"),Q=0,G=0,z=U.color?U.color:"#666666",j=document.createElement("canvas"),nt=j.getContext("2d");j.width=1,j.height=2*x,nt.fillStyle="#444444",nt.fillRect(0,0,1,2*x),nt.fillStyle=z,nt.fillRect(0,x,1,x),nt.fillStyle="#ffffff",nt.globalAlpha=.5,nt.fillRect(0,x,1,1),nt.globalAlpha=1;var tt=document.createElement("canvas"),ht=tt.getContext("2d");tt.width=1,tt.height=2*x,ht.fillStyle="#444444",ht.fillRect(0,0,1,2*x),ht.fillStyle="#b70000",ht.fillRect(0,x,1,x),ht.globalAlpha=.5,ht.fillStyle="#ffffff",ht.fillRect(0,x,1,1),ht.globalAlpha=1;function pt(){W.width=b,W.height=x,W.style.width=W.width+"px",W.style.height=W.height+"px",W.className="rs-canvas",N.appendChild(W),J.fillStyle="#444444",J.fillRect(0,0,W.width,W.height)}function gt(Tt,vt){G+=(Tt-G)*.1,Q*=.99,G>Q&&(Q=G),J.drawImage(W,1,0,W.width-1,W.height,0,0,W.width-1,W.height),vt?J.drawImage(tt,W.width-1,W.height-G*W.height/Q-x):J.drawImage(j,W.width-1,W.height-G*W.height/Q-x)}return pt(),{draw:gt}}function R(N,$){var H=document.createElement("canvas"),U=H.getContext("2d");function W(){H.width=b,H.height=x*$,H.style.width=H.width+"px",H.style.height=H.height+"px",H.className="rs-canvas",N.appendChild(H),U.fillStyle="#444444",U.fillRect(0,0,H.width,H.height)}function J(Q){U.drawImage(H,1,0,H.width-1,H.height,0,0,H.width-1,H.height);var G=0;f(Q,function(z){var j=Q[z]*H.height;U.fillStyle=A[z],U.fillRect(H.width-1,G,1,j),G+=j})}return W(),{draw:J}}function I(N,$){var H=N,U,W=0,J=0,Q=0,G=0,z=performance.now(),j=0,nt=document.createElement("div"),tt=document.createElement("span"),ht=document.createElement("div"),pt=document.createTextNode(""),gt=m?m.values[H.toLowerCase()]:null,Tt=new S(nt,H,gt),vt=!1;tt.className="rs-counter-id",tt.textContent=gt&&gt.caption?gt.caption:H,ht.className="rs-counter-value",ht.appendChild(pt),nt.appendChild(tt),nt.appendChild(ht),$?$.div.appendChild(nt):w.appendChild(nt),U=performance.now();function Ot(jt){if(gt&&gt.average){G+=jt,j++;var Wt=performance.now();Wt-z>=(gt.avgMs||1e3)&&(Q=G/j,G=0,z=Wt,j=0)}}function ft(){U=performance.now(),m.userTimingAPI&&performance.mark(H+"-start"),vt=!0}function St(){W=performance.now()-U,m.userTimingAPI&&(performance.mark(H+"-end"),vt&&performance.measure(H,H+"-start",H+"-end")),Ot(W)}function Mt(){St(),ft()}function Pt(){var jt=gt&&gt.average?Q:W;pt.nodeValue=Math.round(jt*100)/100;var Wt=gt&&(gt.below&&W<gt.below||gt.over&&W>gt.over);Tt.draw(W,Wt),nt.className=Wt?"rs-counter-base alarm":"rs-counter-base"}function Vt(){var jt=performance.now(),Wt=jt-U;J++,Wt>1e3&&(gt&&gt.interpolate===!1?W=J:W=J*1e3/Wt,J=0,U=jt,Ot(W))}function ie(jt){W=jt,Ot(W)}return{set:ie,start:ft,tick:Mt,end:St,frame:Vt,value:function(){return W},draw:Pt}}function P(N){var $=N.toLowerCase();if($===void 0&&($="default"),O[$])return O[$];var H=null;m&&m.groups&&f(m.groups,function(W){var J=m.groups[parseInt(W,10)];!H&&J.values.indexOf($.toLowerCase())!==-1&&(H=J)});var U=new I($,H);return O[$]=U,U}function L(){if(m.plugins){m.values||(m.values={}),m.groups||(m.groups=[]),m.fractions||(m.fractions=[]);for(var N=0;N<m.plugins.length;N++)m.plugins[N].attach(P),f(m.plugins[N].values,function($){m.values[$]=m.plugins[N].values[$]}),m.groups=m.groups.concat(m.plugins[N].groups),m.fractions=m.fractions.concat(m.plugins[N].fractions)}else m.plugins={};v=document.createElement("div"),v.className="rs-base",w=document.createElement("div"),w.className="rs-container",w.style.height="auto",v.appendChild(w),document.body.appendChild(v),m&&(m.groups&&f(m.groups,function($){var H=m.groups[parseInt($,10)],U=document.createElement("div");U.className="rs-group",H.div=U;var W=document.createElement("h1");W.textContent=H.caption,W.addEventListener("click",(function(J){this.classList.toggle("hidden"),J.preventDefault()}).bind(U)),w.appendChild(W),w.appendChild(U)}),m.fractions&&f(m.fractions,function($){var H=m.fractions[parseInt($,10)],U=document.createElement("div");U.className="rs-fraction";var W=document.createElement("div");W.className="rs-legend";var J=0;f(m.fractions[$].steps,function(G){var z=document.createElement("p");z.textContent=m.fractions[$].steps[G],z.style.color=A[J],W.appendChild(z),J++}),U.appendChild(W),U.style.height=J*x+"px",H.div=U;var Q=new R(U,J);H.graph=Q,w.appendChild(U)}))}function k(){f(m.plugins,function(N){m.plugins[N].update()}),f(O,function(N){O[N].draw()}),m&&m.fractions&&f(m.fractions,function(N){var $=m.fractions[parseInt(N,10)],H=[],U=O[$.base.toLowerCase()];U&&(U=U.value(),f(m.fractions[N].steps,function(W){var J=m.fractions[N].steps[parseInt(W,10)].toLowerCase(),Q=O[J];Q&&H.push(Q.value()/U)})),$.graph.draw(H)})}return L(),function(N){return N?P(N):{element:v,update:k}}},u.exports=window.rStats},"./vendor/wakelock/util.js":u=>{var d={};d.base64=function(c,f){return"data:"+c+";base64,"+f},d.isMobile=function(){var c=!1;return function(f){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(f.substr(0,4)))&&(c=!0)}(navigator.userAgent||navigator.vendor||window.opera),c},d.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},d.isIFrame=function(){try{return window.self!==window.top}catch{return!0}},d.appendQueryParameter=function(c,f,M){var m=c.indexOf("?")<0?"?":"&";return c+=m+f+"="+M,c},d.getQueryParameter=function(c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var f=new RegExp("[\\?&]"+c+"=([^&#]*)"),M=f.exec(location.search);return M===null?"":decodeURIComponent(M[1].replace(/\+/g," "))},d.isLandscapeMode=function(){return window.orientation==90||window.orientation==-90},u.exports=d},"./vendor/wakelock/wakelock.js":(u,d,c)=>{var f=c("./vendor/wakelock/util.js");function M(){var p=document.createElement("video");p.addEventListener("ended",function(){p.play()}),this.request=function(){p.paused&&(p.src=f.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),p.play())},this.release=function(){p.pause(),p.src=""}}function m(){var p=null;this.request=function(){p||(p=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){p&&(clearInterval(p),p=null)}}function A(){var p=navigator.userAgent||navigator.vendor||window.opera;return p.match(/iPhone/i)||p.match(/iPod/i)?m:M}u.exports=A()},"./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css":(u,d,c)=>{c.r(d),c.d(d,{default:()=>k});var f=c("./node_modules/css-loader/dist/runtime/sourceMaps.js"),M=c.n(f),m=c("./node_modules/css-loader/dist/runtime/api.js"),A=c.n(m),p=c("./node_modules/css-loader/dist/runtime/getUrl.js"),y=c.n(p),E=new URL(c("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),c.b),v=new URL(c("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),c.b),w=new URL(c("data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"),c.b),x=new URL(c("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"),c.b),b=new URL(c("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"),c.b),O=A()(M()),S=y()(E),R=y()(v),I=y()(w),P=y()(x),L=y()(b);O.push([u.id,`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar.xr {
  right: 90px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url(`+S+`) 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url(`+R+`) 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url(`+I+`);
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}

.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(`+P+`) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(`+L+`) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`,"",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:[`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar.xr {
  right: 90px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E");
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}

.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`],sourceRoot:""}]);const k=O},"./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css":(u,d,c)=>{c.r(d),c.d(d,{default:()=>y});var f=c("./node_modules/css-loader/dist/runtime/sourceMaps.js"),M=c.n(f),m=c("./node_modules/css-loader/dist/runtime/api.js"),A=c.n(m),p=A()(M());p.push([u.id,`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`,"",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`],sourceRoot:""}]);const y=p},"./src/style/aframe.css":(u,d,c)=>{c.r(d),c.d(d,{default:()=>I});var f=c("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),M=c.n(f),m=c("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),A=c.n(m),p=c("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=c.n(p),E=c("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),v=c.n(E),w=c("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),x=c.n(w),b=c("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),O=c.n(b),S=c("./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css"),R={};R.styleTagTransform=O(),R.setAttributes=v(),R.insert=y().bind(null,"head"),R.domAPI=A(),R.insertStyleElement=x(),M()(S.default,R);const I=S.default&&S.default.locals?S.default.locals:void 0},"./src/style/rStats.css":(u,d,c)=>{c.r(d),c.d(d,{default:()=>I});var f=c("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),M=c.n(f),m=c("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),A=c.n(m),p=c("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=c.n(p),E=c("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),v=c.n(E),w=c("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),x=c.n(w),b=c("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),O=c.n(b),S=c("./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css"),R={};R.styleTagTransform=O(),R.setAttributes=v(),R.insert=y().bind(null,"head"),R.domAPI=A(),R.insertStyleElement=x(),M()(S.default,R);const I=S.default&&S.default.locals?S.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":u=>{var d=[];function c(m){for(var A=-1,p=0;p<d.length;p++)if(d[p].identifier===m){A=p;break}return A}function f(m,A){for(var p={},y=[],E=0;E<m.length;E++){var v=m[E],w=A.base?v[0]+A.base:v[0],x=p[w]||0,b="".concat(w," ").concat(x);p[w]=x+1;var O=c(b),S={css:v[1],media:v[2],sourceMap:v[3],supports:v[4],layer:v[5]};if(O!==-1)d[O].references++,d[O].updater(S);else{var R=M(S,A);A.byIndex=E,d.splice(E,0,{identifier:b,updater:R,references:1})}y.push(b)}return y}function M(m,A){var p=A.domAPI(A);p.update(m);var y=function(v){if(v){if(v.css===m.css&&v.media===m.media&&v.sourceMap===m.sourceMap&&v.supports===m.supports&&v.layer===m.layer)return;p.update(m=v)}else p.remove()};return y}u.exports=function(m,A){A=A||{},m=m||[];var p=f(m,A);return function(E){E=E||[];for(var v=0;v<p.length;v++){var w=p[v],x=c(w);d[x].references--}for(var b=f(E,A),O=0;O<p.length;O++){var S=p[O],R=c(S);d[R].references===0&&(d[R].updater(),d.splice(R,1))}p=b}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":u=>{var d={};function c(M){if(typeof d[M]>"u"){var m=document.querySelector(M);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}d[M]=m}return d[M]}function f(M,m){var A=c(M);if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(m)}u.exports=f},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":u=>{function d(c){var f=document.createElement("style");return c.setAttributes(f,c.attributes),c.insert(f,c.options),f}u.exports=d},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(u,d,c)=>{function f(M){var m=c.nc;m&&M.setAttribute("nonce",m)}u.exports=f},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":u=>{function d(M,m,A){var p="";A.supports&&(p+="@supports (".concat(A.supports,") {")),A.media&&(p+="@media ".concat(A.media," {"));var y=typeof A.layer<"u";y&&(p+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),p+=A.css,y&&(p+="}"),A.media&&(p+="}"),A.supports&&(p+="}");var E=A.sourceMap;E&&typeof btoa<"u"&&(p+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(E))))," */")),m.styleTagTransform(p,M,m.options)}function c(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)}function f(M){if(typeof document>"u")return{update:function(){},remove:function(){}};var m=M.insertStyleElement(M);return{update:function(p){d(m,M,p)},remove:function(){c(m)}}}u.exports=f},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":u=>{function d(c,f){if(f.styleSheet)f.styleSheet.cssText=c;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(c))}}u.exports=d},"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E":u=>{u.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":u=>{u.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":u=>{u.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E":u=>{u.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E":u=>{u.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},"./node_modules/three/build/three.module.js":(u,d,c)=>{c.r(d),c.d(d,{ACESFilmicToneMapping:()=>ne,AddEquation:()=>H,AddOperation:()=>Ci,AdditiveAnimationBlendMode:()=>U0,AdditiveBlending:()=>L,AgXToneMapping:()=>yt,AlphaFormat:()=>ka,AlwaysCompare:()=>X1,AlwaysDepth:()=>ie,AlwaysStencilFunc:()=>Yd,AmbientLight:()=>Uy,AnimationAction:()=>ev,AnimationClip:()=>Ih,AnimationLoader:()=>u$,AnimationMixer:()=>U$,AnimationObjectGroup:()=>N$,AnimationUtils:()=>o$,ArcCurve:()=>ey,ArrayCamera:()=>w8,ArrowHelper:()=>sG,AttachedBindMode:()=>wt,Audio:()=>qy,AudioAnalyser:()=>x$,AudioContext:()=>r5,AudioListener:()=>_$,AudioLoader:()=>b$,AxesHelper:()=>lG,BackSide:()=>S,BasicDepthPacking:()=>fo,BasicShadowMap:()=>v,BatchedMesh:()=>JA,Bone:()=>B8,BooleanKeyframeTrack:()=>dc,Box2:()=>j$,Box3:()=>ga,Box3Helper:()=>rG,BoxGeometry:()=>Zl,BoxHelper:()=>aG,BufferAttribute:()=>F9,BufferGeometry:()=>i9,BufferGeometryLoader:()=>Qy,ByteType:()=>yn,Cache:()=>rs,Camera:()=>y2,CameraHelper:()=>nG,CanvasTexture:()=>IU,CapsuleGeometry:()=>W2,CatmullRomCurve3:()=>iy,CineonToneMapping:()=>ye,CircleGeometry:()=>K2,ClampToEdgeWrapping:()=>ue,Clock:()=>Ky,Color:()=>tn,ColorKeyframeTrack:()=>Z8,ColorManagement:()=>T9,CompressedArrayTexture:()=>SU,CompressedCubeTexture:()=>TU,CompressedTexture:()=>Q2,CompressedTextureLoader:()=>d$,ConeGeometry:()=>X2,ConstantAlphaFactor:()=>Mt,ConstantColorFactor:()=>ft,CubeCamera:()=>WM,CubeReflectionMapping:()=>ut,CubeRefractionMapping:()=>X,CubeTexture:()=>lh,CubeTextureLoader:()=>h$,CubeUVReflectionMapping:()=>Gt,CubicBezierCurve:()=>G8,CubicBezierCurve3:()=>ay,CubicInterpolant:()=>Sy,CullFaceBack:()=>p,CullFaceFront:()=>y,CullFaceFrontBack:()=>E,CullFaceNone:()=>A,Curve:()=>Q0,CurvePath:()=>oy,CustomBlending:()=>$,CustomToneMapping:()=>Et,CylinderGeometry:()=>Pu,Cylindrical:()=>J$,Data3DTexture:()=>Fn,DataArrayTexture:()=>su,DataTexture:()=>qs,DataTextureLoader:()=>f$,DataUtils:()=>nL,DecrementStencilOp:()=>gp,DecrementWrapStencilOp:()=>Ap,DefaultLoadingManager:()=>By,DepthFormat:()=>Le,DepthStencilFormat:()=>oi,DepthTexture:()=>v8,DetachedBindMode:()=>xt,DirectionalLight:()=>Fy,DirectionalLightHelper:()=>iG,DiscreteInterpolant:()=>Ty,DisplayP3ColorSpace:()=>nu,DodecahedronGeometry:()=>Y2,DoubleSide:()=>R,DstAlphaFactor:()=>pt,DstColorFactor:()=>Tt,DynamicCopyUsage:()=>Dp,DynamicDrawUsage:()=>xp,DynamicReadUsage:()=>Ip,EdgesGeometry:()=>sy,EllipseCurve:()=>z2,EqualCompare:()=>J1,EqualDepth:()=>me,EqualStencilFunc:()=>Cp,EquirectangularReflectionMapping:()=>Z,EquirectangularRefractionMapping:()=>_t,Euler:()=>l0,EventDispatcher:()=>Dr,ExtrudeGeometry:()=>am,FileLoader:()=>ss,Float16BufferAttribute:()=>cL,Float32BufferAttribute:()=>hn,FloatType:()=>$n,Fog:()=>x2,FogExp2:()=>O2,FramebufferTexture:()=>xU,FrontSide:()=>O,Frustum:()=>ch,GLBufferAttribute:()=>V$,GLSL1:()=>Lp,GLSL3:()=>Zd,GreaterCompare:()=>j1,GreaterDepth:()=>pe,GreaterEqualCompare:()=>K1,GreaterEqualDepth:()=>Yt,GreaterEqualStencilFunc:()=>Op,GreaterStencilFunc:()=>_p,GridHelper:()=>tG,Group:()=>ac,HalfFloatType:()=>Pn,HemisphereLight:()=>Ry,HemisphereLightHelper:()=>Z$,IcosahedronGeometry:()=>rm,ImageBitmapLoader:()=>v$,ImageLoader:()=>Bh,ImageUtils:()=>zs,IncrementStencilOp:()=>pp,IncrementWrapStencilOp:()=>Mp,InstancedBufferAttribute:()=>Bu,InstancedBufferGeometry:()=>Vy,InstancedInterleavedBuffer:()=>H$,InstancedMesh:()=>VA,Int16BufferAttribute:()=>sL,Int32BufferAttribute:()=>lL,Int8BufferAttribute:()=>aL,IntType:()=>bi,InterleavedBuffer:()=>S2,InterleavedBufferAttribute:()=>oc,Interpolant:()=>xh,InterpolateDiscrete:()=>Ra,InterpolateLinear:()=>Da,InterpolateSmooth:()=>Na,InvertStencilOp:()=>yp,KeepStencilOp:()=>Xo,KeyframeTrack:()=>z0,LOD:()=>DA,LatheGeometry:()=>bh,Layers:()=>s2,LessCompare:()=>z1,LessDepth:()=>jt,LessEqualCompare:()=>qd,LessEqualDepth:()=>Wt,LessEqualStencilFunc:()=>Ep,LessStencilFunc:()=>bp,Light:()=>il,LightProbe:()=>Hy,Line:()=>tl,Line3:()=>W$,LineBasicMaterial:()=>Fr,LineCurve:()=>H8,LineCurve3:()=>ry,LineDashedMaterial:()=>wy,LineLoop:()=>YA,LineSegments:()=>Ao,LinearDisplayP3ColorSpace:()=>Ql,LinearFilter:()=>Pe,LinearInterpolant:()=>q8,LinearMipMapLinearFilter:()=>wn,LinearMipMapNearestFilter:()=>we,LinearMipmapLinearFilter:()=>Ii,LinearMipmapNearestFilter:()=>ke,LinearSRGBColorSpace:()=>$0,LinearToneMapping:()=>ti,LinearTransfer:()=>zl,Loader:()=>Kr,LoaderUtils:()=>a5,LoadingManager:()=>t5,LoopOnce:()=>oa,LoopPingPong:()=>Ba,LoopRepeat:()=>W9,LuminanceAlphaFormat:()=>Ye,LuminanceFormat:()=>_e,MOUSE:()=>M,Material:()=>Er,MaterialLoader:()=>hm,MathUtils:()=>qp,Matrix3:()=>Nn,Matrix4:()=>cn,MaxEquation:()=>Q,Mesh:()=>Ua,MeshBasicMaterial:()=>Ks,MeshDepthMaterial:()=>E8,MeshDistanceMaterial:()=>_8,MeshLambertMaterial:()=>Ey,MeshMatcapMaterial:()=>_y,MeshNormalMaterial:()=>Cy,MeshPhongMaterial:()=>vy,MeshPhysicalMaterial:()=>yy,MeshStandardMaterial:()=>K8,MeshToonMaterial:()=>by,MinEquation:()=>J,MirroredRepeatWrapping:()=>ve,MixOperation:()=>ei,MultiplyBlending:()=>N,MultiplyOperation:()=>ni,NearestFilter:()=>Fe,NearestMipMapLinearFilter:()=>Mi,NearestMipMapNearestFilter:()=>ii,NearestMipmapLinearFilter:()=>re,NearestMipmapNearestFilter:()=>Je,NeutralToneMapping:()=>Ht,NeverCompare:()=>Q1,NeverDepth:()=>Vt,NeverStencilFunc:()=>vp,NoBlending:()=>I,NoColorSpace:()=>fr,NoToneMapping:()=>ai,NormalAnimationBlendMode:()=>v0,NormalBlending:()=>P,NotEqualCompare:()=>W1,NotEqualDepth:()=>Qe,NotEqualStencilFunc:()=>wp,NumberKeyframeTrack:()=>Sh,Object3D:()=>w9,ObjectLoader:()=>A$,ObjectSpaceNormalMap:()=>po,OctahedronGeometry:()=>wh,OneFactor:()=>z,OneMinusConstantAlphaFactor:()=>Pt,OneMinusConstantColorFactor:()=>St,OneMinusDstAlphaFactor:()=>gt,OneMinusDstColorFactor:()=>vt,OneMinusSrcAlphaFactor:()=>ht,OneMinusSrcColorFactor:()=>nt,OrthographicCamera:()=>C2,P3Primaries:()=>jl,PCFShadowMap:()=>w,PCFSoftShadowMap:()=>x,PMREMGenerator:()=>A8,Path:()=>vh,PerspectiveCamera:()=>za,Plane:()=>Ys,PlaneGeometry:()=>Eu,PlaneHelper:()=>oG,PointLight:()=>Ny,PointLightHelper:()=>Y$,Points:()=>ZA,PointsMaterial:()=>L8,PolarGridHelper:()=>eG,PolyhedronGeometry:()=>el,PositionalAudio:()=>O$,PropertyBinding:()=>E9,PropertyMixer:()=>tv,QuadraticBezierCurve:()=>V8,QuadraticBezierCurve3:()=>Q8,Quaternion:()=>_9,QuaternionKeyframeTrack:()=>ku,QuaternionLinearInterpolant:()=>Iy,RED_GREEN_RGTC2_Format:()=>A9,RED_RGTC1_Format:()=>Tn,REVISION:()=>f,RGBADepthPacking:()=>mo,RGBAFormat:()=>le,RGBAIntegerFormat:()=>dn,RGBA_ASTC_10x10_Format:()=>qe,RGBA_ASTC_10x5_Format:()=>di,RGBA_ASTC_10x6_Format:()=>ci,RGBA_ASTC_10x8_Format:()=>Te,RGBA_ASTC_12x10_Format:()=>yi,RGBA_ASTC_12x12_Format:()=>zi,RGBA_ASTC_4x4_Format:()=>p9,RGBA_ASTC_5x4_Format:()=>st,RGBA_ASTC_5x5_Format:()=>mt,RGBA_ASTC_6x5_Format:()=>It,RGBA_ASTC_6x6_Format:()=>$t,RGBA_ASTC_8x5_Format:()=>qt,RGBA_ASTC_8x6_Format:()=>ge,RGBA_ASTC_8x8_Format:()=>Ee,RGBA_BPTC_Format:()=>sn,RGBA_ETC2_EAC_Format:()=>ma,RGBA_PVRTC_2BPPV1_Format:()=>Ia,RGBA_PVRTC_4BPPV1_Format:()=>j9,RGBA_S3TC_DXT1_Format:()=>On,RGBA_S3TC_DXT3_Format:()=>D9,RGBA_S3TC_DXT5_Format:()=>zn,RGBFormat:()=>Kt,RGB_BPTC_SIGNED_Format:()=>vn,RGB_BPTC_UNSIGNED_Format:()=>Gn,RGB_ETC1_Format:()=>Gi,RGB_ETC2_Format:()=>Jn,RGB_PVRTC_2BPPV1_Format:()=>u9,RGB_PVRTC_4BPPV1_Format:()=>Ln,RGB_S3TC_DXT1_Format:()=>An,RGFormat:()=>$i,RGIntegerFormat:()=>si,RawShaderMaterial:()=>Ay,Ray:()=>Qa,Raycaster:()=>Q$,Rec709Primaries:()=>Jl,RectAreaLight:()=>$y,RedFormat:()=>vi,RedIntegerFormat:()=>an,ReinhardToneMapping:()=>be,RenderTarget:()=>ou,RepeatWrapping:()=>Zt,ReplaceStencilOp:()=>mp,ReverseSubtractEquation:()=>W,RingGeometry:()=>om,SIGNED_RED_GREEN_RGTC2_Format:()=>P9,SIGNED_RED_RGTC1_Format:()=>_n,SRGBColorSpace:()=>y9,SRGBTransfer:()=>$9,Scene:()=>xA,ShaderChunk:()=>qn,ShaderLib:()=>V0,ShaderMaterial:()=>H0,ShadowMaterial:()=>My,Shape:()=>lc,ShapeGeometry:()=>sm,ShapePath:()=>cG,ShapeUtils:()=>yo,ShortType:()=>Be,Skeleton:()=>P2,SkeletonHelper:()=>X$,SkinnedMesh:()=>UA,Source:()=>sa,Sphere:()=>Va,SphereGeometry:()=>Oh,Spherical:()=>z$,SphericalHarmonics3:()=>Gy,SplineCurve:()=>z8,SpotLight:()=>Ly,SpotLightHelper:()=>K$,Sprite:()=>BA,SpriteMaterial:()=>x8,SrcAlphaFactor:()=>tt,SrcAlphaSaturateFactor:()=>Ot,SrcColorFactor:()=>j,StaticCopyUsage:()=>Rp,StaticDrawUsage:()=>Wl,StaticReadUsage:()=>Tp,StereoCamera:()=>C$,StreamCopyUsage:()=>Pp,StreamDrawUsage:()=>Sp,StreamReadUsage:()=>Bp,StringKeyframeTrack:()=>hc,SubtractEquation:()=>U,SubtractiveBlending:()=>k,TOUCH:()=>m,TangentSpaceNormalMap:()=>vr,TetrahedronGeometry:()=>lm,Texture:()=>K9,TextureLoader:()=>m$,TorusGeometry:()=>cm,TorusKnotGeometry:()=>um,Triangle:()=>c0,TriangleFanDrawMode:()=>Ko,TriangleStripDrawMode:()=>Wo,TrianglesDrawMode:()=>jo,TubeGeometry:()=>dm,UVMapping:()=>Qt,Uint16BufferAttribute:()=>s8,Uint32BufferAttribute:()=>l8,Uint8BufferAttribute:()=>rL,Uint8ClampedBufferAttribute:()=>oL,Uniform:()=>l5,UniformsGroup:()=>G$,UniformsLib:()=>Fi,UniformsUtils:()=>zM,UnsignedByteType:()=>Ke,UnsignedInt248Type:()=>va,UnsignedInt5999Type:()=>hr,UnsignedIntType:()=>on,UnsignedShort4444Type:()=>M9,UnsignedShort5551Type:()=>qa,UnsignedShortType:()=>En,VSMShadowMap:()=>b,Vector2:()=>hi,Vector3:()=>ee,Vector4:()=>C9,VectorKeyframeTrack:()=>Th,VideoTexture:()=>OU,WebGL3DRenderTarget:()=>g9,WebGLArrayRenderTarget:()=>rn,WebGLCoordinateSystem:()=>b0,WebGLCubeRenderTarget:()=>KM,WebGLMultipleRenderTargets:()=>uG,WebGLRenderTarget:()=>zr,WebGLRenderer:()=>MU,WebGLUtils:()=>CA,WebGPUCoordinateSystem:()=>Kl,WireframeGeometry:()=>my,WrapAroundEnding:()=>a0,ZeroCurvatureEnding:()=>pa,ZeroFactor:()=>G,ZeroSlopeEnding:()=>Za,ZeroStencilOp:()=>fp,createCanvasElement:()=>Z1});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const f="164",M={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},m={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},A=0,p=1,y=2,E=3,v=0,w=1,x=2,b=3,O=0,S=1,R=2,I=0,P=1,L=2,k=3,N=4,$=5,H=100,U=101,W=102,J=103,Q=104,G=200,z=201,j=202,nt=203,tt=204,ht=205,pt=206,gt=207,Tt=208,vt=209,Ot=210,ft=211,St=212,Mt=213,Pt=214,Vt=0,ie=1,jt=2,Wt=3,me=4,Yt=5,pe=6,Qe=7,ni=0,ei=1,Ci=2,ai=0,ti=1,be=2,ye=3,ne=4,Et=5,yt=6,Ht=7,wt="attached",xt="detached",Qt=300,ut=301,X=302,Z=303,_t=304,Gt=306,Zt=1e3,ue=1001,ve=1002,Fe=1003,Je=1004,ii=1004,re=1005,Mi=1005,Pe=1006,ke=1007,we=1007,Ii=1008,wn=1008,Ke=1009,yn=1010,Be=1011,En=1012,bi=1013,on=1014,$n=1015,Pn=1016,M9=1017,qa=1018,va=1020,hr=35902,ka=1021,Kt=1022,le=1023,_e=1024,Ye=1025,Le=1026,oi=1027,vi=1028,an=1029,$i=1030,si=1031,dn=1033,An=33776,On=33777,D9=33778,zn=33779,Ln=35840,u9=35841,j9=35842,Ia=35843,Gi=36196,Jn=37492,ma=37496,p9=37808,st=37809,mt=37810,It=37811,$t=37812,qt=37813,ge=37814,Ee=37815,di=37816,ci=37817,Te=37818,qe=37819,yi=37820,zi=37821,sn=36492,vn=36494,Gn=36495,Tn=36283,_n=36284,A9=36285,P9=36286,oa=2200,W9=2201,Ba=2202,Ra=2300,Da=2301,Na=2302,pa=2400,Za=2401,a0=2402,v0=2500,U0=2501,jo=0,Wo=1,Ko=2,fo=3200,mo=3201,vr=0,po=1,fr="",y9="srgb",$0="srgb-linear",nu="display-p3",Ql="display-p3-linear",zl="linear",$9="srgb",Jl="rec709",jl="p3",fp=0,Xo=7680,mp=7681,pp=7682,gp=7683,Mp=34055,Ap=34056,yp=5386,vp=512,bp=513,Cp=514,Ep=515,_p=516,wp=517,Op=518,Yd=519,Q1=512,z1=513,J1=514,qd=515,j1=516,W1=517,K1=518,X1=519,Wl=35044,xp=35048,Sp=35040,Tp=35045,Ip=35049,Bp=35041,Rp=35046,Dp=35050,Pp=35042,Lp="100",Zd="300 es",b0=2e3,Kl=2001;class Dr{addEventListener(n,o){this._listeners===void 0&&(this._listeners={});const h=this._listeners;h[n]===void 0&&(h[n]=[]),h[n].indexOf(o)===-1&&h[n].push(o)}hasEventListener(n,o){if(this._listeners===void 0)return!1;const h=this._listeners;return h[n]!==void 0&&h[n].indexOf(o)!==-1}removeEventListener(n,o){if(this._listeners===void 0)return;const g=this._listeners[n];if(g!==void 0){const C=g.indexOf(o);C!==-1&&g.splice(C,1)}}dispatchEvent(n){if(this._listeners===void 0)return;const h=this._listeners[n.type];if(h!==void 0){n.target=this;const g=h.slice(0);for(let C=0,T=g.length;C<T;C++)g[C].call(this,n);n.target=null}}}const tr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Y1=1234567;const Yo=Math.PI/180,Hs=180/Math.PI;function Pr(){const _=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0,h=Math.random()*4294967295|0;return(tr[_&255]+tr[_>>8&255]+tr[_>>16&255]+tr[_>>24&255]+"-"+tr[n&255]+tr[n>>8&255]+"-"+tr[n>>16&15|64]+tr[n>>24&255]+"-"+tr[o&63|128]+tr[o>>8&255]+"-"+tr[o>>16&255]+tr[o>>24&255]+tr[h&255]+tr[h>>8&255]+tr[h>>16&255]+tr[h>>24&255]).toLowerCase()}function fa(_,n,o){return Math.max(n,Math.min(o,_))}function th(_,n){return(_%n+n)%n}function kp(_,n,o,h,g){return h+(_-n)*(g-h)/(o-n)}function Np(_,n,o){return _!==n?(o-_)/(n-_):0}function Xl(_,n,o){return(1-o)*_+o*n}function Fp(_,n,o,h){return Xl(_,n,1-Math.exp(-o*h))}function Up(_,n=1){return n-Math.abs(th(_,n*2)-n)}function $p(_,n,o){return _<=n?0:_>=o?1:(_=(_-n)/(o-n),_*_*(3-2*_))}function Gp(_,n,o){return _<=n?0:_>=o?1:(_=(_-n)/(o-n),_*_*_*(_*(_*6-15)+10))}function Hp(_,n){return _+Math.floor(Math.random()*(n-_+1))}function Vp(_,n){return _+Math.random()*(n-_)}function Qp(_){return _*(.5-Math.random())}function zp(_){_!==void 0&&(Y1=_);let n=Y1+=1831565813;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}function Jp(_){return _*Yo}function jp(_){return _*Hs}function Wp(_){return(_&_-1)===0&&_!==0}function Kp(_){return Math.pow(2,Math.ceil(Math.log(_)/Math.LN2))}function Xp(_){return Math.pow(2,Math.floor(Math.log(_)/Math.LN2))}function Yp(_,n,o,h,g){const C=Math.cos,T=Math.sin,D=C(o/2),F=T(o/2),V=C((n+h)/2),Y=T((n+h)/2),et=C((n-h)/2),at=T((n-h)/2),rt=C((h-n)/2),lt=T((h-n)/2);switch(g){case"XYX":_.set(D*Y,F*et,F*at,D*V);break;case"YZY":_.set(F*at,D*Y,F*et,D*V);break;case"ZXZ":_.set(F*et,F*at,D*Y,D*V);break;case"XZX":_.set(D*Y,F*lt,F*rt,D*V);break;case"YXY":_.set(F*rt,D*Y,F*lt,D*V);break;case"ZYZ":_.set(F*lt,F*rt,D*Y,D*V);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+g)}}function mr(_,n){switch(n.constructor){case Float32Array:return _;case Uint32Array:return _/4294967295;case Uint16Array:return _/65535;case Uint8Array:return _/255;case Int32Array:return Math.max(_/2147483647,-1);case Int16Array:return Math.max(_/32767,-1);case Int8Array:return Math.max(_/127,-1);default:throw new Error("Invalid component type.")}}function Hn(_,n){switch(n.constructor){case Float32Array:return _;case Uint32Array:return Math.round(_*4294967295);case Uint16Array:return Math.round(_*65535);case Uint8Array:return Math.round(_*255);case Int32Array:return Math.round(_*2147483647);case Int16Array:return Math.round(_*32767);case Int8Array:return Math.round(_*127);default:throw new Error("Invalid component type.")}}const qp={DEG2RAD:Yo,RAD2DEG:Hs,generateUUID:Pr,clamp:fa,euclideanModulo:th,mapLinear:kp,inverseLerp:Np,lerp:Xl,damp:Fp,pingpong:Up,smoothstep:$p,smootherstep:Gp,randInt:Hp,randFloat:Vp,randFloatSpread:Qp,seededRandom:zp,degToRad:Jp,radToDeg:jp,isPowerOfTwo:Wp,ceilPowerOfTwo:Kp,floorPowerOfTwo:Xp,setQuaternionFromProperEuler:Yp,normalize:Hn,denormalize:mr};class hi{constructor(n=0,o=0){hi.prototype.isVector2=!0,this.x=n,this.y=o}get width(){return this.x}set width(n){this.x=n}get height(){return this.y}set height(n){this.y=n}set(n,o){return this.x=n,this.y=o,this}setScalar(n){return this.x=n,this.y=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setComponent(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y)}copy(n){return this.x=n.x,this.y=n.y,this}add(n){return this.x+=n.x,this.y+=n.y,this}addScalar(n){return this.x+=n,this.y+=n,this}addVectors(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this}addScaledVector(n,o){return this.x+=n.x*o,this.y+=n.y*o,this}sub(n){return this.x-=n.x,this.y-=n.y,this}subScalar(n){return this.x-=n,this.y-=n,this}subVectors(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this}multiply(n){return this.x*=n.x,this.y*=n.y,this}multiplyScalar(n){return this.x*=n,this.y*=n,this}divide(n){return this.x/=n.x,this.y/=n.y,this}divideScalar(n){return this.multiplyScalar(1/n)}applyMatrix3(n){const o=this.x,h=this.y,g=n.elements;return this.x=g[0]*o+g[3]*h+g[6],this.y=g[1]*o+g[4]*h+g[7],this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this}clamp(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this}clampScalar(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this}clampLength(n,o){const h=this.length();return this.divideScalar(h||1).multiplyScalar(Math.max(n,Math.min(o,h)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(n){return this.x*n.x+this.y*n.y}cross(n){return this.x*n.y-this.y*n.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(n){const o=Math.sqrt(this.lengthSq()*n.lengthSq());if(o===0)return Math.PI/2;const h=this.dot(n)/o;return Math.acos(fa(h,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const o=this.x-n.x,h=this.y-n.y;return o*o+h*h}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this}lerpVectors(n,o,h){return this.x=n.x+(o.x-n.x)*h,this.y=n.y+(o.y-n.y)*h,this}equals(n){return n.x===this.x&&n.y===this.y}fromArray(n,o=0){return this.x=n[o],this.y=n[o+1],this}toArray(n=[],o=0){return n[o]=this.x,n[o+1]=this.y,n}fromBufferAttribute(n,o){return this.x=n.getX(o),this.y=n.getY(o),this}rotateAround(n,o){const h=Math.cos(o),g=Math.sin(o),C=this.x-n.x,T=this.y-n.y;return this.x=C*h-T*g+n.x,this.y=C*g+T*h+n.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Nn{constructor(n,o,h,g,C,T,D,F,V){Nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],n!==void 0&&this.set(n,o,h,g,C,T,D,F,V)}set(n,o,h,g,C,T,D,F,V){const Y=this.elements;return Y[0]=n,Y[1]=g,Y[2]=D,Y[3]=o,Y[4]=C,Y[5]=F,Y[6]=h,Y[7]=T,Y[8]=V,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(n){const o=this.elements,h=n.elements;return o[0]=h[0],o[1]=h[1],o[2]=h[2],o[3]=h[3],o[4]=h[4],o[5]=h[5],o[6]=h[6],o[7]=h[7],o[8]=h[8],this}extractBasis(n,o,h){return n.setFromMatrix3Column(this,0),o.setFromMatrix3Column(this,1),h.setFromMatrix3Column(this,2),this}setFromMatrix4(n){const o=n.elements;return this.set(o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]),this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,o){const h=n.elements,g=o.elements,C=this.elements,T=h[0],D=h[3],F=h[6],V=h[1],Y=h[4],et=h[7],at=h[2],rt=h[5],lt=h[8],At=g[0],ct=g[3],ot=g[6],Ut=g[1],Lt=g[4],Bt=g[7],fe=g[2],ae=g[5],se=g[8];return C[0]=T*At+D*Ut+F*fe,C[3]=T*ct+D*Lt+F*ae,C[6]=T*ot+D*Bt+F*se,C[1]=V*At+Y*Ut+et*fe,C[4]=V*ct+Y*Lt+et*ae,C[7]=V*ot+Y*Bt+et*se,C[2]=at*At+rt*Ut+lt*fe,C[5]=at*ct+rt*Lt+lt*ae,C[8]=at*ot+rt*Bt+lt*se,this}multiplyScalar(n){const o=this.elements;return o[0]*=n,o[3]*=n,o[6]*=n,o[1]*=n,o[4]*=n,o[7]*=n,o[2]*=n,o[5]*=n,o[8]*=n,this}determinant(){const n=this.elements,o=n[0],h=n[1],g=n[2],C=n[3],T=n[4],D=n[5],F=n[6],V=n[7],Y=n[8];return o*T*Y-o*D*V-h*C*Y+h*D*F+g*C*V-g*T*F}invert(){const n=this.elements,o=n[0],h=n[1],g=n[2],C=n[3],T=n[4],D=n[5],F=n[6],V=n[7],Y=n[8],et=Y*T-D*V,at=D*F-Y*C,rt=V*C-T*F,lt=o*et+h*at+g*rt;if(lt===0)return this.set(0,0,0,0,0,0,0,0,0);const At=1/lt;return n[0]=et*At,n[1]=(g*V-Y*h)*At,n[2]=(D*h-g*T)*At,n[3]=at*At,n[4]=(Y*o-g*F)*At,n[5]=(g*C-D*o)*At,n[6]=rt*At,n[7]=(h*F-V*o)*At,n[8]=(T*o-h*C)*At,this}transpose(){let n;const o=this.elements;return n=o[1],o[1]=o[3],o[3]=n,n=o[2],o[2]=o[6],o[6]=n,n=o[5],o[5]=o[7],o[7]=n,this}getNormalMatrix(n){return this.setFromMatrix4(n).invert().transpose()}transposeIntoArray(n){const o=this.elements;return n[0]=o[0],n[1]=o[3],n[2]=o[6],n[3]=o[1],n[4]=o[4],n[5]=o[7],n[6]=o[2],n[7]=o[5],n[8]=o[8],this}setUvTransform(n,o,h,g,C,T,D){const F=Math.cos(C),V=Math.sin(C);return this.set(h*F,h*V,-h*(F*T+V*D)+T+n,-g*V,g*F,-g*(-V*T+F*D)+D+o,0,0,1),this}scale(n,o){return this.premultiply(eh.makeScale(n,o)),this}rotate(n){return this.premultiply(eh.makeRotation(-n)),this}translate(n,o){return this.premultiply(eh.makeTranslation(n,o)),this}makeTranslation(n,o){return n.isVector2?this.set(1,0,n.x,0,1,n.y,0,0,1):this.set(1,0,n,0,1,o,0,0,1),this}makeRotation(n){const o=Math.cos(n),h=Math.sin(n);return this.set(o,-h,0,h,o,0,0,0,1),this}makeScale(n,o){return this.set(n,0,0,0,o,0,0,0,1),this}equals(n){const o=this.elements,h=n.elements;for(let g=0;g<9;g++)if(o[g]!==h[g])return!1;return!0}fromArray(n,o=0){for(let h=0;h<9;h++)this.elements[h]=n[h+o];return this}toArray(n=[],o=0){const h=this.elements;return n[o]=h[0],n[o+1]=h[1],n[o+2]=h[2],n[o+3]=h[3],n[o+4]=h[4],n[o+5]=h[5],n[o+6]=h[6],n[o+7]=h[7],n[o+8]=h[8],n}clone(){return new this.constructor().fromArray(this.elements)}}const eh=new Nn;function q1(_){for(let n=_.length-1;n>=0;--n)if(_[n]>=65535)return!0;return!1}const Zp={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Vs(_,n){return new Zp[_](n)}function Yl(_){return document.createElementNS("http://www.w3.org/1999/xhtml",_)}function Z1(){const _=Yl("canvas");return _.style.display="block",_}const t2={};function e2(_){_ in t2||(t2[_]=!0,console.warn(_))}const i2=new Nn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),n2=new Nn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),au={[$0]:{transfer:zl,primaries:Jl,toReference:_=>_,fromReference:_=>_},[y9]:{transfer:$9,primaries:Jl,toReference:_=>_.convertSRGBToLinear(),fromReference:_=>_.convertLinearToSRGB()},[Ql]:{transfer:zl,primaries:jl,toReference:_=>_.applyMatrix3(n2),fromReference:_=>_.applyMatrix3(i2)},[nu]:{transfer:$9,primaries:jl,toReference:_=>_.convertSRGBToLinear().applyMatrix3(n2),fromReference:_=>_.applyMatrix3(i2).convertLinearToSRGB()}},t8=new Set([$0,Ql]),T9={enabled:!0,_workingColorSpace:$0,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(_){if(!t8.has(_))throw new Error(`Unsupported working color space, "${_}".`);this._workingColorSpace=_},convert:function(_,n,o){if(this.enabled===!1||n===o||!n||!o)return _;const h=au[n].toReference,g=au[o].fromReference;return g(h(_))},fromWorkingColorSpace:function(_,n){return this.convert(_,this._workingColorSpace,n)},toWorkingColorSpace:function(_,n){return this.convert(_,n,this._workingColorSpace)},getPrimaries:function(_){return au[_].primaries},getTransfer:function(_){return _===fr?zl:au[_].transfer}};function Qs(_){return _<.04045?_*.0773993808:Math.pow(_*.9478672986+.0521327014,2.4)}function ih(_){return _<.0031308?_*12.92:1.055*Math.pow(_,.41666)-.055}let qo;class zs{static getDataURL(n){if(/^data:/i.test(n.src)||typeof HTMLCanvasElement>"u")return n.src;let o;if(n instanceof HTMLCanvasElement)o=n;else{qo===void 0&&(qo=Yl("canvas")),qo.width=n.width,qo.height=n.height;const h=qo.getContext("2d");n instanceof ImageData?h.putImageData(n,0,0):h.drawImage(n,0,0,n.width,n.height),o=qo}return o.width>2048||o.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",n),o.toDataURL("image/jpeg",.6)):o.toDataURL("image/png")}static sRGBToLinear(n){if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap){const o=Yl("canvas");o.width=n.width,o.height=n.height;const h=o.getContext("2d");h.drawImage(n,0,0,n.width,n.height);const g=h.getImageData(0,0,n.width,n.height),C=g.data;for(let T=0;T<C.length;T++)C[T]=Qs(C[T]/255)*255;return h.putImageData(g,0,0),o}else if(n.data){const o=n.data.slice(0);for(let h=0;h<o.length;h++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[h]=Math.floor(Qs(o[h]/255)*255):o[h]=Qs(o[h]);return{data:o,width:n.width,height:n.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),n}}let a2=0;class sa{constructor(n=null){this.isSource=!0,Object.defineProperty(this,"id",{value:a2++}),this.uuid=Pr(),this.data=n,this.dataReady=!0,this.version=0}set needsUpdate(n){n===!0&&this.version++}toJSON(n){const o=n===void 0||typeof n=="string";if(!o&&n.images[this.uuid]!==void 0)return n.images[this.uuid];const h={uuid:this.uuid,url:""},g=this.data;if(g!==null){let C;if(Array.isArray(g)){C=[];for(let T=0,D=g.length;T<D;T++)g[T].isDataTexture?C.push(ru(g[T].image)):C.push(ru(g[T]))}else C=ru(g);h.url=C}return o||(n.images[this.uuid]=h),h}}function ru(_){return typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_ instanceof ImageBitmap?zs.getDataURL(_):_.data?{data:Array.from(_.data),width:_.width,height:_.height,type:_.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let r2=0;class K9 extends Dr{constructor(n=K9.DEFAULT_IMAGE,o=K9.DEFAULT_MAPPING,h=ue,g=ue,C=Pe,T=Ii,D=le,F=Ke,V=K9.DEFAULT_ANISOTROPY,Y=fr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:r2++}),this.uuid=Pr(),this.name="",this.source=new sa(n),this.mipmaps=[],this.mapping=o,this.channel=0,this.wrapS=h,this.wrapT=g,this.magFilter=C,this.minFilter=T,this.anisotropy=V,this.format=D,this.internalFormat=null,this.type=F,this.offset=new hi(0,0),this.repeat=new hi(1,1),this.center=new hi(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Y,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(n=null){this.source.data=n}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(n){return this.name=n.name,this.source=n.source,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.channel=n.channel,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.internalFormat=n.internalFormat,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.colorSpace=n.colorSpace,this.userData=JSON.parse(JSON.stringify(n.userData)),this.needsUpdate=!0,this}toJSON(n){const o=n===void 0||typeof n=="string";if(!o&&n.textures[this.uuid]!==void 0)return n.textures[this.uuid];const h={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(n).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(h.userData=this.userData),o||(n.textures[this.uuid]=h),h}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(n){if(this.mapping!==Qt)return n;if(n.applyMatrix3(this.matrix),n.x<0||n.x>1)switch(this.wrapS){case Zt:n.x=n.x-Math.floor(n.x);break;case ue:n.x=n.x<0?0:1;break;case ve:Math.abs(Math.floor(n.x)%2)===1?n.x=Math.ceil(n.x)-n.x:n.x=n.x-Math.floor(n.x);break}if(n.y<0||n.y>1)switch(this.wrapT){case Zt:n.y=n.y-Math.floor(n.y);break;case ue:n.y=n.y<0?0:1;break;case ve:Math.abs(Math.floor(n.y)%2)===1?n.y=Math.ceil(n.y)-n.y:n.y=n.y-Math.floor(n.y);break}return this.flipY&&(n.y=1-n.y),n}set needsUpdate(n){n===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(n){n===!0&&this.pmremVersion++}}K9.DEFAULT_IMAGE=null,K9.DEFAULT_MAPPING=Qt,K9.DEFAULT_ANISOTROPY=1;class C9{constructor(n=0,o=0,h=0,g=1){C9.prototype.isVector4=!0,this.x=n,this.y=o,this.z=h,this.w=g}get width(){return this.z}set width(n){this.z=n}get height(){return this.w}set height(n){this.w=n}set(n,o,h,g){return this.x=n,this.y=o,this.z=h,this.w=g,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this.w=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setW(n){return this.w=n,this}setComponent(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=n.w!==void 0?n.w:1,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this}addVectors(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this.w=n.w+o.w,this}addScaledVector(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this.w+=n.w*o,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this}subVectors(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this.w=n.w-o.w,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this.w*=n.w,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this}applyMatrix4(n){const o=this.x,h=this.y,g=this.z,C=this.w,T=n.elements;return this.x=T[0]*o+T[4]*h+T[8]*g+T[12]*C,this.y=T[1]*o+T[5]*h+T[9]*g+T[13]*C,this.z=T[2]*o+T[6]*h+T[10]*g+T[14]*C,this.w=T[3]*o+T[7]*h+T[11]*g+T[15]*C,this}divideScalar(n){return this.multiplyScalar(1/n)}setAxisAngleFromQuaternion(n){this.w=2*Math.acos(n.w);const o=Math.sqrt(1-n.w*n.w);return o<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/o,this.y=n.y/o,this.z=n.z/o),this}setAxisAngleFromRotationMatrix(n){let o,h,g,C;const F=n.elements,V=F[0],Y=F[4],et=F[8],at=F[1],rt=F[5],lt=F[9],At=F[2],ct=F[6],ot=F[10];if(Math.abs(Y-at)<.01&&Math.abs(et-At)<.01&&Math.abs(lt-ct)<.01){if(Math.abs(Y+at)<.1&&Math.abs(et+At)<.1&&Math.abs(lt+ct)<.1&&Math.abs(V+rt+ot-3)<.1)return this.set(1,0,0,0),this;o=Math.PI;const Lt=(V+1)/2,Bt=(rt+1)/2,fe=(ot+1)/2,ae=(Y+at)/4,se=(et+At)/4,de=(lt+ct)/4;return Lt>Bt&&Lt>fe?Lt<.01?(h=0,g=.707106781,C=.707106781):(h=Math.sqrt(Lt),g=ae/h,C=se/h):Bt>fe?Bt<.01?(h=.707106781,g=0,C=.707106781):(g=Math.sqrt(Bt),h=ae/g,C=de/g):fe<.01?(h=.707106781,g=.707106781,C=0):(C=Math.sqrt(fe),h=se/C,g=de/C),this.set(h,g,C,o),this}let Ut=Math.sqrt((ct-lt)*(ct-lt)+(et-At)*(et-At)+(at-Y)*(at-Y));return Math.abs(Ut)<.001&&(Ut=1),this.x=(ct-lt)/Ut,this.y=(et-At)/Ut,this.z=(at-Y)/Ut,this.w=Math.acos((V+rt+ot-1)/2),this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this}clamp(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this.w=Math.max(n.w,Math.min(o.w,this.w)),this}clampScalar(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this.z=Math.max(n,Math.min(o,this.z)),this.w=Math.max(n,Math.min(o,this.w)),this}clampLength(n,o){const h=this.length();return this.divideScalar(h||1).multiplyScalar(Math.max(n,Math.min(o,h)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this.w+=(n.w-this.w)*o,this}lerpVectors(n,o,h){return this.x=n.x+(o.x-n.x)*h,this.y=n.y+(o.y-n.y)*h,this.z=n.z+(o.z-n.z)*h,this.w=n.w+(o.w-n.w)*h,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w}fromArray(n,o=0){return this.x=n[o],this.y=n[o+1],this.z=n[o+2],this.w=n[o+3],this}toArray(n=[],o=0){return n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n[o+3]=this.w,n}fromBufferAttribute(n,o){return this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this.w=n.getW(o),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ou extends Dr{constructor(n=1,o=1,h={}){super(),this.isRenderTarget=!0,this.width=n,this.height=o,this.depth=1,this.scissor=new C9(0,0,n,o),this.scissorTest=!1,this.viewport=new C9(0,0,n,o);const g={width:n,height:o,depth:1};h=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Pe,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},h);const C=new K9(g,h.mapping,h.wrapS,h.wrapT,h.magFilter,h.minFilter,h.format,h.type,h.anisotropy,h.colorSpace);C.flipY=!1,C.generateMipmaps=h.generateMipmaps,C.internalFormat=h.internalFormat,this.textures=[];const T=h.count;for(let D=0;D<T;D++)this.textures[D]=C.clone(),this.textures[D].isRenderTargetTexture=!0;this.depthBuffer=h.depthBuffer,this.stencilBuffer=h.stencilBuffer,this.resolveDepthBuffer=h.resolveDepthBuffer,this.resolveStencilBuffer=h.resolveStencilBuffer,this.depthTexture=h.depthTexture,this.samples=h.samples}get texture(){return this.textures[0]}set texture(n){this.textures[0]=n}setSize(n,o,h=1){if(this.width!==n||this.height!==o||this.depth!==h){this.width=n,this.height=o,this.depth=h;for(let g=0,C=this.textures.length;g<C;g++)this.textures[g].image.width=n,this.textures[g].image.height=o,this.textures[g].image.depth=h;this.dispose()}this.viewport.set(0,0,n,o),this.scissor.set(0,0,n,o)}clone(){return new this.constructor().copy(this)}copy(n){this.width=n.width,this.height=n.height,this.depth=n.depth,this.scissor.copy(n.scissor),this.scissorTest=n.scissorTest,this.viewport.copy(n.viewport),this.textures.length=0;for(let h=0,g=n.textures.length;h<g;h++)this.textures[h]=n.textures[h].clone(),this.textures[h].isRenderTargetTexture=!0;const o=Object.assign({},n.texture.image);return this.texture.source=new sa(o),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,n.depthTexture!==null&&(this.depthTexture=n.depthTexture.clone()),this.samples=n.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zr extends ou{constructor(n=1,o=1,h={}){super(n,o,h),this.isWebGLRenderTarget=!0}}class su extends K9{constructor(n=null,o=1,h=1,g=1){super(null),this.isDataArrayTexture=!0,this.image={data:n,width:o,height:h,depth:g},this.magFilter=Fe,this.minFilter=Fe,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rn extends zr{constructor(n=1,o=1,h=1,g={}){super(n,o,g),this.isWebGLArrayRenderTarget=!0,this.depth=h,this.texture=new su(null,n,o,h),this.texture.isRenderTargetTexture=!0}}class Fn extends K9{constructor(n=null,o=1,h=1,g=1){super(null),this.isData3DTexture=!0,this.image={data:n,width:o,height:h,depth:g},this.magFilter=Fe,this.minFilter=Fe,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class g9 extends zr{constructor(n=1,o=1,h=1,g={}){super(n,o,g),this.isWebGL3DRenderTarget=!0,this.depth=h,this.texture=new Fn(null,n,o,h),this.texture.isRenderTargetTexture=!0}}class _9{constructor(n=0,o=0,h=0,g=1){this.isQuaternion=!0,this._x=n,this._y=o,this._z=h,this._w=g}static slerpFlat(n,o,h,g,C,T,D){let F=h[g+0],V=h[g+1],Y=h[g+2],et=h[g+3];const at=C[T+0],rt=C[T+1],lt=C[T+2],At=C[T+3];if(D===0){n[o+0]=F,n[o+1]=V,n[o+2]=Y,n[o+3]=et;return}if(D===1){n[o+0]=at,n[o+1]=rt,n[o+2]=lt,n[o+3]=At;return}if(et!==At||F!==at||V!==rt||Y!==lt){let ct=1-D;const ot=F*at+V*rt+Y*lt+et*At,Ut=ot>=0?1:-1,Lt=1-ot*ot;if(Lt>Number.EPSILON){const fe=Math.sqrt(Lt),ae=Math.atan2(fe,ot*Ut);ct=Math.sin(ct*ae)/fe,D=Math.sin(D*ae)/fe}const Bt=D*Ut;if(F=F*ct+at*Bt,V=V*ct+rt*Bt,Y=Y*ct+lt*Bt,et=et*ct+At*Bt,ct===1-D){const fe=1/Math.sqrt(F*F+V*V+Y*Y+et*et);F*=fe,V*=fe,Y*=fe,et*=fe}}n[o]=F,n[o+1]=V,n[o+2]=Y,n[o+3]=et}static multiplyQuaternionsFlat(n,o,h,g,C,T){const D=h[g],F=h[g+1],V=h[g+2],Y=h[g+3],et=C[T],at=C[T+1],rt=C[T+2],lt=C[T+3];return n[o]=D*lt+Y*et+F*rt-V*at,n[o+1]=F*lt+Y*at+V*et-D*rt,n[o+2]=V*lt+Y*rt+D*at-F*et,n[o+3]=Y*lt-D*et-F*at-V*rt,n}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get w(){return this._w}set w(n){this._w=n,this._onChangeCallback()}set(n,o,h,g){return this._x=n,this._y=o,this._z=h,this._w=g,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this._onChangeCallback(),this}setFromEuler(n,o=!0){const h=n._x,g=n._y,C=n._z,T=n._order,D=Math.cos,F=Math.sin,V=D(h/2),Y=D(g/2),et=D(C/2),at=F(h/2),rt=F(g/2),lt=F(C/2);switch(T){case"XYZ":this._x=at*Y*et+V*rt*lt,this._y=V*rt*et-at*Y*lt,this._z=V*Y*lt+at*rt*et,this._w=V*Y*et-at*rt*lt;break;case"YXZ":this._x=at*Y*et+V*rt*lt,this._y=V*rt*et-at*Y*lt,this._z=V*Y*lt-at*rt*et,this._w=V*Y*et+at*rt*lt;break;case"ZXY":this._x=at*Y*et-V*rt*lt,this._y=V*rt*et+at*Y*lt,this._z=V*Y*lt+at*rt*et,this._w=V*Y*et-at*rt*lt;break;case"ZYX":this._x=at*Y*et-V*rt*lt,this._y=V*rt*et+at*Y*lt,this._z=V*Y*lt-at*rt*et,this._w=V*Y*et+at*rt*lt;break;case"YZX":this._x=at*Y*et+V*rt*lt,this._y=V*rt*et+at*Y*lt,this._z=V*Y*lt-at*rt*et,this._w=V*Y*et-at*rt*lt;break;case"XZY":this._x=at*Y*et-V*rt*lt,this._y=V*rt*et-at*Y*lt,this._z=V*Y*lt+at*rt*et,this._w=V*Y*et+at*rt*lt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+T)}return o===!0&&this._onChangeCallback(),this}setFromAxisAngle(n,o){const h=o/2,g=Math.sin(h);return this._x=n.x*g,this._y=n.y*g,this._z=n.z*g,this._w=Math.cos(h),this._onChangeCallback(),this}setFromRotationMatrix(n){const o=n.elements,h=o[0],g=o[4],C=o[8],T=o[1],D=o[5],F=o[9],V=o[2],Y=o[6],et=o[10],at=h+D+et;if(at>0){const rt=.5/Math.sqrt(at+1);this._w=.25/rt,this._x=(Y-F)*rt,this._y=(C-V)*rt,this._z=(T-g)*rt}else if(h>D&&h>et){const rt=2*Math.sqrt(1+h-D-et);this._w=(Y-F)/rt,this._x=.25*rt,this._y=(g+T)/rt,this._z=(C+V)/rt}else if(D>et){const rt=2*Math.sqrt(1+D-h-et);this._w=(C-V)/rt,this._x=(g+T)/rt,this._y=.25*rt,this._z=(F+Y)/rt}else{const rt=2*Math.sqrt(1+et-h-D);this._w=(T-g)/rt,this._x=(C+V)/rt,this._y=(F+Y)/rt,this._z=.25*rt}return this._onChangeCallback(),this}setFromUnitVectors(n,o){let h=n.dot(o)+1;return h<Number.EPSILON?(h=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0,this._w=h):(this._x=0,this._y=-n.z,this._z=n.y,this._w=h)):(this._x=n.y*o.z-n.z*o.y,this._y=n.z*o.x-n.x*o.z,this._z=n.x*o.y-n.y*o.x,this._w=h),this.normalize()}angleTo(n){return 2*Math.acos(Math.abs(fa(this.dot(n),-1,1)))}rotateTowards(n,o){const h=this.angleTo(n);if(h===0)return this;const g=Math.min(1,o/h);return this.slerp(n,g),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let n=this.length();return n===0?(this._x=0,this._y=0,this._z=0,this._w=1):(n=1/n,this._x=this._x*n,this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this._onChangeCallback(),this}multiply(n){return this.multiplyQuaternions(this,n)}premultiply(n){return this.multiplyQuaternions(n,this)}multiplyQuaternions(n,o){const h=n._x,g=n._y,C=n._z,T=n._w,D=o._x,F=o._y,V=o._z,Y=o._w;return this._x=h*Y+T*D+g*V-C*F,this._y=g*Y+T*F+C*D-h*V,this._z=C*Y+T*V+h*F-g*D,this._w=T*Y-h*D-g*F-C*V,this._onChangeCallback(),this}slerp(n,o){if(o===0)return this;if(o===1)return this.copy(n);const h=this._x,g=this._y,C=this._z,T=this._w;let D=T*n._w+h*n._x+g*n._y+C*n._z;if(D<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,D=-D):this.copy(n),D>=1)return this._w=T,this._x=h,this._y=g,this._z=C,this;const F=1-D*D;if(F<=Number.EPSILON){const rt=1-o;return this._w=rt*T+o*this._w,this._x=rt*h+o*this._x,this._y=rt*g+o*this._y,this._z=rt*C+o*this._z,this.normalize(),this}const V=Math.sqrt(F),Y=Math.atan2(V,D),et=Math.sin((1-o)*Y)/V,at=Math.sin(o*Y)/V;return this._w=T*et+this._w*at,this._x=h*et+this._x*at,this._y=g*et+this._y*at,this._z=C*et+this._z*at,this._onChangeCallback(),this}slerpQuaternions(n,o,h){return this.copy(n).slerp(o,h)}random(){const n=2*Math.PI*Math.random(),o=2*Math.PI*Math.random(),h=Math.random(),g=Math.sqrt(1-h),C=Math.sqrt(h);return this.set(g*Math.sin(n),g*Math.cos(n),C*Math.sin(o),C*Math.cos(o))}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w}fromArray(n,o=0){return this._x=n[o],this._y=n[o+1],this._z=n[o+2],this._w=n[o+3],this._onChangeCallback(),this}toArray(n=[],o=0){return n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._w,n}fromBufferAttribute(n,o){return this._x=n.getX(o),this._y=n.getY(o),this._z=n.getZ(o),this._w=n.getW(o),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(n=0,o=0,h=0){ee.prototype.isVector3=!0,this.x=n,this.y=o,this.z=h}set(n,o,h){return h===void 0&&(h=this.z),this.x=n,this.y=o,this.z=h,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setComponent(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this}addVectors(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this}addScaledVector(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this}subVectors(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this}multiplyVectors(n,o){return this.x=n.x*o.x,this.y=n.y*o.y,this.z=n.z*o.z,this}applyEuler(n){return this.applyQuaternion(ba.setFromEuler(n))}applyAxisAngle(n,o){return this.applyQuaternion(ba.setFromAxisAngle(n,o))}applyMatrix3(n){const o=this.x,h=this.y,g=this.z,C=n.elements;return this.x=C[0]*o+C[3]*h+C[6]*g,this.y=C[1]*o+C[4]*h+C[7]*g,this.z=C[2]*o+C[5]*h+C[8]*g,this}applyNormalMatrix(n){return this.applyMatrix3(n).normalize()}applyMatrix4(n){const o=this.x,h=this.y,g=this.z,C=n.elements,T=1/(C[3]*o+C[7]*h+C[11]*g+C[15]);return this.x=(C[0]*o+C[4]*h+C[8]*g+C[12])*T,this.y=(C[1]*o+C[5]*h+C[9]*g+C[13])*T,this.z=(C[2]*o+C[6]*h+C[10]*g+C[14])*T,this}applyQuaternion(n){const o=this.x,h=this.y,g=this.z,C=n.x,T=n.y,D=n.z,F=n.w,V=2*(T*g-D*h),Y=2*(D*o-C*g),et=2*(C*h-T*o);return this.x=o+F*V+T*et-D*Y,this.y=h+F*Y+D*V-C*et,this.z=g+F*et+C*Y-T*V,this}project(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)}unproject(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)}transformDirection(n){const o=this.x,h=this.y,g=this.z,C=n.elements;return this.x=C[0]*o+C[4]*h+C[8]*g,this.y=C[1]*o+C[5]*h+C[9]*g,this.z=C[2]*o+C[6]*h+C[10]*g,this.normalize()}divide(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this}divideScalar(n){return this.multiplyScalar(1/n)}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this}clamp(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this}clampScalar(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this.z=Math.max(n,Math.min(o,this.z)),this}clampLength(n,o){const h=this.length();return this.divideScalar(h||1).multiplyScalar(Math.max(n,Math.min(o,h)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this}lerpVectors(n,o,h){return this.x=n.x+(o.x-n.x)*h,this.y=n.y+(o.y-n.y)*h,this.z=n.z+(o.z-n.z)*h,this}cross(n){return this.crossVectors(this,n)}crossVectors(n,o){const h=n.x,g=n.y,C=n.z,T=o.x,D=o.y,F=o.z;return this.x=g*F-C*D,this.y=C*T-h*F,this.z=h*D-g*T,this}projectOnVector(n){const o=n.lengthSq();if(o===0)return this.set(0,0,0);const h=n.dot(this)/o;return this.copy(n).multiplyScalar(h)}projectOnPlane(n){return r0.copy(this).projectOnVector(n),this.sub(r0)}reflect(n){return this.sub(r0.copy(n).multiplyScalar(2*this.dot(n)))}angleTo(n){const o=Math.sqrt(this.lengthSq()*n.lengthSq());if(o===0)return Math.PI/2;const h=this.dot(n)/o;return Math.acos(fa(h,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const o=this.x-n.x,h=this.y-n.y,g=this.z-n.z;return o*o+h*h+g*g}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)}setFromSpherical(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)}setFromSphericalCoords(n,o,h){const g=Math.sin(o)*n;return this.x=g*Math.sin(h),this.y=Math.cos(o)*n,this.z=g*Math.cos(h),this}setFromCylindrical(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)}setFromCylindricalCoords(n,o,h){return this.x=n*Math.sin(o),this.y=h,this.z=n*Math.cos(o),this}setFromMatrixPosition(n){const o=n.elements;return this.x=o[12],this.y=o[13],this.z=o[14],this}setFromMatrixScale(n){const o=this.setFromMatrixColumn(n,0).length(),h=this.setFromMatrixColumn(n,1).length(),g=this.setFromMatrixColumn(n,2).length();return this.x=o,this.y=h,this.z=g,this}setFromMatrixColumn(n,o){return this.fromArray(n.elements,o*4)}setFromMatrix3Column(n,o){return this.fromArray(n.elements,o*3)}setFromEuler(n){return this.x=n._x,this.y=n._y,this.z=n._z,this}setFromColor(n){return this.x=n.r,this.y=n.g,this.z=n.b,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z}fromArray(n,o=0){return this.x=n[o],this.y=n[o+1],this.z=n[o+2],this}toArray(n=[],o=0){return n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n}fromBufferAttribute(n,o){return this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const n=Math.random()*Math.PI*2,o=Math.random()*2-1,h=Math.sqrt(1-o*o);return this.x=h*Math.cos(n),this.y=o,this.z=h*Math.sin(n),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const r0=new ee,ba=new _9;class ga{constructor(n=new ee(1/0,1/0,1/0),o=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=n,this.max=o}set(n,o){return this.min.copy(n),this.max.copy(o),this}setFromArray(n){this.makeEmpty();for(let o=0,h=n.length;o<h;o+=3)this.expandByPoint(br.fromArray(n,o));return this}setFromBufferAttribute(n){this.makeEmpty();for(let o=0,h=n.count;o<h;o++)this.expandByPoint(br.fromBufferAttribute(n,o));return this}setFromPoints(n){this.makeEmpty();for(let o=0,h=n.length;o<h;o++)this.expandByPoint(n[o]);return this}setFromCenterAndSize(n,o){const h=br.copy(o).multiplyScalar(.5);return this.min.copy(n).sub(h),this.max.copy(n).add(h),this}setFromObject(n,o=!1){return this.makeEmpty(),this.expandByObject(n,o)}clone(){return new this.constructor().copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(n){return this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}expandByObject(n,o=!1){n.updateWorldMatrix(!1,!1);const h=n.geometry;if(h!==void 0){const C=h.getAttribute("position");if(o===!0&&C!==void 0&&n.isInstancedMesh!==!0)for(let T=0,D=C.count;T<D;T++)n.isMesh===!0?n.getVertexPosition(T,br):br.fromBufferAttribute(C,T),br.applyMatrix4(n.matrixWorld),this.expandByPoint(br);else n.boundingBox!==void 0?(n.boundingBox===null&&n.computeBoundingBox(),go.copy(n.boundingBox)):(h.boundingBox===null&&h.computeBoundingBox(),go.copy(h.boundingBox)),go.applyMatrix4(n.matrixWorld),this.union(go)}const g=n.children;for(let C=0,T=g.length;C<T;C++)this.expandByObject(g[C],o);return this}containsPoint(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z}getParameter(n,o){return o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)}intersectsSphere(n){return this.clampPoint(n.center,br),br.distanceToSquared(n.center)<=n.radius*n.radius}intersectsPlane(n){let o,h;return n.normal.x>0?(o=n.normal.x*this.min.x,h=n.normal.x*this.max.x):(o=n.normal.x*this.max.x,h=n.normal.x*this.min.x),n.normal.y>0?(o+=n.normal.y*this.min.y,h+=n.normal.y*this.max.y):(o+=n.normal.y*this.max.y,h+=n.normal.y*this.min.y),n.normal.z>0?(o+=n.normal.z*this.min.z,h+=n.normal.z*this.max.z):(o+=n.normal.z*this.max.z,h+=n.normal.z*this.min.z),o<=-n.constant&&h>=-n.constant}intersectsTriangle(n){if(this.isEmpty())return!1;this.getCenter(v9),N9.subVectors(this.max,v9),Jr.subVectors(n.a,v9),er.subVectors(n.b,v9),Xn.subVectors(n.c,v9),pr.subVectors(er,Jr),o0.subVectors(Xn,er),ir.subVectors(Jr,Xn);let o=[0,-pr.z,pr.y,0,-o0.z,o0.y,0,-ir.z,ir.y,pr.z,0,-pr.x,o0.z,0,-o0.x,ir.z,0,-ir.x,-pr.y,pr.x,0,-o0.y,o0.x,0,-ir.y,ir.x,0];return!Lr(o,Jr,er,Xn,N9)||(o=[1,0,0,0,1,0,0,0,1],!Lr(o,Jr,er,Xn,N9))?!1:(Yn.crossVectors(pr,o0),o=[Yn.x,Yn.y,Yn.z],Lr(o,Jr,er,Xn,N9))}clampPoint(n,o){return o.copy(n).clamp(this.min,this.max)}distanceToPoint(n){return this.clampPoint(n,br).distanceTo(n)}getBoundingSphere(n){return this.isEmpty()?n.makeEmpty():(this.getCenter(n.center),n.radius=this.getSize(br).length()*.5),n}intersect(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}applyMatrix4(n){return this.isEmpty()?this:(m9[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),m9[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),m9[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),m9[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),m9[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),m9[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),m9[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),m9[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(m9),this)}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}const m9=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],br=new ee,go=new ga,Jr=new ee,er=new ee,Xn=new ee,pr=new ee,o0=new ee,ir=new ee,v9=new ee,N9=new ee,Yn=new ee,b9=new ee;function Lr(_,n,o,h,g){for(let C=0,T=_.length-3;C<=T;C+=3){b9.fromArray(_,C);const D=g.x*Math.abs(b9.x)+g.y*Math.abs(b9.y)+g.z*Math.abs(b9.z),F=n.dot(b9),V=o.dot(b9),Y=h.dot(b9);if(Math.max(-Math.max(F,V,Y),Math.min(F,V,Y))>D)return!1}return!0}const Js=new ga,Zo=new ee,lu=new ee;class Va{constructor(n=new ee,o=-1){this.isSphere=!0,this.center=n,this.radius=o}set(n,o){return this.center.copy(n),this.radius=o,this}setFromPoints(n,o){const h=this.center;o!==void 0?h.copy(o):Js.setFromPoints(n).getCenter(h);let g=0;for(let C=0,T=n.length;C<T;C++)g=Math.max(g,h.distanceToSquared(n[C]));return this.radius=Math.sqrt(g),this}copy(n){return this.center.copy(n.center),this.radius=n.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(n){return n.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(n){return n.distanceTo(this.center)-this.radius}intersectsSphere(n){const o=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=o*o}intersectsBox(n){return n.intersectsSphere(this)}intersectsPlane(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius}clampPoint(n,o){const h=this.center.distanceToSquared(n);return o.copy(n),h>this.radius*this.radius&&(o.sub(this.center).normalize(),o.multiplyScalar(this.radius).add(this.center)),o}getBoundingBox(n){return this.isEmpty()?(n.makeEmpty(),n):(n.set(this.center,this.center),n.expandByScalar(this.radius),n)}applyMatrix4(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this}translate(n){return this.center.add(n),this}expandByPoint(n){if(this.isEmpty())return this.center.copy(n),this.radius=0,this;Zo.subVectors(n,this.center);const o=Zo.lengthSq();if(o>this.radius*this.radius){const h=Math.sqrt(o),g=(h-this.radius)*.5;this.center.addScaledVector(Zo,g/h),this.radius+=g}return this}union(n){return n.isEmpty()?this:this.isEmpty()?(this.copy(n),this):(this.center.equals(n.center)===!0?this.radius=Math.max(this.radius,n.radius):(lu.subVectors(n.center,this.center).setLength(n.radius),this.expandByPoint(Zo.copy(n.center).add(lu)),this.expandByPoint(Zo.copy(n.center).sub(lu))),this)}equals(n){return n.center.equals(this.center)&&n.radius===this.radius}clone(){return new this.constructor().copy(this)}}const C0=new ee,cu=new ee,uu=new ee,Mo=new ee,nh=new ee,du=new ee,ah=new ee;class Qa{constructor(n=new ee,o=new ee(0,0,-1)){this.origin=n,this.direction=o}set(n,o){return this.origin.copy(n),this.direction.copy(o),this}copy(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this}at(n,o){return o.copy(this.origin).addScaledVector(this.direction,n)}lookAt(n){return this.direction.copy(n).sub(this.origin).normalize(),this}recast(n){return this.origin.copy(this.at(n,C0)),this}closestPointToPoint(n,o){o.subVectors(n,this.origin);const h=o.dot(this.direction);return h<0?o.copy(this.origin):o.copy(this.origin).addScaledVector(this.direction,h)}distanceToPoint(n){return Math.sqrt(this.distanceSqToPoint(n))}distanceSqToPoint(n){const o=C0.subVectors(n,this.origin).dot(this.direction);return o<0?this.origin.distanceToSquared(n):(C0.copy(this.origin).addScaledVector(this.direction,o),C0.distanceToSquared(n))}distanceSqToSegment(n,o,h,g){cu.copy(n).add(o).multiplyScalar(.5),uu.copy(o).sub(n).normalize(),Mo.copy(this.origin).sub(cu);const C=n.distanceTo(o)*.5,T=-this.direction.dot(uu),D=Mo.dot(this.direction),F=-Mo.dot(uu),V=Mo.lengthSq(),Y=Math.abs(1-T*T);let et,at,rt,lt;if(Y>0)if(et=T*F-D,at=T*D-F,lt=C*Y,et>=0)if(at>=-lt)if(at<=lt){const At=1/Y;et*=At,at*=At,rt=et*(et+T*at+2*D)+at*(T*et+at+2*F)+V}else at=C,et=Math.max(0,-(T*at+D)),rt=-et*et+at*(at+2*F)+V;else at=-C,et=Math.max(0,-(T*at+D)),rt=-et*et+at*(at+2*F)+V;else at<=-lt?(et=Math.max(0,-(-T*C+D)),at=et>0?-C:Math.min(Math.max(-C,-F),C),rt=-et*et+at*(at+2*F)+V):at<=lt?(et=0,at=Math.min(Math.max(-C,-F),C),rt=at*(at+2*F)+V):(et=Math.max(0,-(T*C+D)),at=et>0?C:Math.min(Math.max(-C,-F),C),rt=-et*et+at*(at+2*F)+V);else at=T>0?-C:C,et=Math.max(0,-(T*at+D)),rt=-et*et+at*(at+2*F)+V;return h&&h.copy(this.origin).addScaledVector(this.direction,et),g&&g.copy(cu).addScaledVector(uu,at),rt}intersectSphere(n,o){C0.subVectors(n.center,this.origin);const h=C0.dot(this.direction),g=C0.dot(C0)-h*h,C=n.radius*n.radius;if(g>C)return null;const T=Math.sqrt(C-g),D=h-T,F=h+T;return F<0?null:D<0?this.at(F,o):this.at(D,o)}intersectsSphere(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius}distanceToPlane(n){const o=n.normal.dot(this.direction);if(o===0)return n.distanceToPoint(this.origin)===0?0:null;const h=-(this.origin.dot(n.normal)+n.constant)/o;return h>=0?h:null}intersectPlane(n,o){const h=this.distanceToPlane(n);return h===null?null:this.at(h,o)}intersectsPlane(n){const o=n.distanceToPoint(this.origin);return o===0||n.normal.dot(this.direction)*o<0}intersectBox(n,o){let h,g,C,T,D,F;const V=1/this.direction.x,Y=1/this.direction.y,et=1/this.direction.z,at=this.origin;return V>=0?(h=(n.min.x-at.x)*V,g=(n.max.x-at.x)*V):(h=(n.max.x-at.x)*V,g=(n.min.x-at.x)*V),Y>=0?(C=(n.min.y-at.y)*Y,T=(n.max.y-at.y)*Y):(C=(n.max.y-at.y)*Y,T=(n.min.y-at.y)*Y),h>T||C>g||((C>h||isNaN(h))&&(h=C),(T<g||isNaN(g))&&(g=T),et>=0?(D=(n.min.z-at.z)*et,F=(n.max.z-at.z)*et):(D=(n.max.z-at.z)*et,F=(n.min.z-at.z)*et),h>F||D>g)||((D>h||h!==h)&&(h=D),(F<g||g!==g)&&(g=F),g<0)?null:this.at(h>=0?h:g,o)}intersectsBox(n){return this.intersectBox(n,C0)!==null}intersectTriangle(n,o,h,g,C){nh.subVectors(o,n),du.subVectors(h,n),ah.crossVectors(nh,du);let T=this.direction.dot(ah),D;if(T>0){if(g)return null;D=1}else if(T<0)D=-1,T=-T;else return null;Mo.subVectors(this.origin,n);const F=D*this.direction.dot(du.crossVectors(Mo,du));if(F<0)return null;const V=D*this.direction.dot(nh.cross(Mo));if(V<0||F+V>T)return null;const Y=-D*Mo.dot(ah);return Y<0?null:this.at(Y/T,C)}applyMatrix4(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this}equals(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class cn{constructor(n,o,h,g,C,T,D,F,V,Y,et,at,rt,lt,At,ct){cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n!==void 0&&this.set(n,o,h,g,C,T,D,F,V,Y,et,at,rt,lt,At,ct)}set(n,o,h,g,C,T,D,F,V,Y,et,at,rt,lt,At,ct){const ot=this.elements;return ot[0]=n,ot[4]=o,ot[8]=h,ot[12]=g,ot[1]=C,ot[5]=T,ot[9]=D,ot[13]=F,ot[2]=V,ot[6]=Y,ot[10]=et,ot[14]=at,ot[3]=rt,ot[7]=lt,ot[11]=At,ot[15]=ct,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new cn().fromArray(this.elements)}copy(n){const o=this.elements,h=n.elements;return o[0]=h[0],o[1]=h[1],o[2]=h[2],o[3]=h[3],o[4]=h[4],o[5]=h[5],o[6]=h[6],o[7]=h[7],o[8]=h[8],o[9]=h[9],o[10]=h[10],o[11]=h[11],o[12]=h[12],o[13]=h[13],o[14]=h[14],o[15]=h[15],this}copyPosition(n){const o=this.elements,h=n.elements;return o[12]=h[12],o[13]=h[13],o[14]=h[14],this}setFromMatrix3(n){const o=n.elements;return this.set(o[0],o[3],o[6],0,o[1],o[4],o[7],0,o[2],o[5],o[8],0,0,0,0,1),this}extractBasis(n,o,h){return n.setFromMatrixColumn(this,0),o.setFromMatrixColumn(this,1),h.setFromMatrixColumn(this,2),this}makeBasis(n,o,h){return this.set(n.x,o.x,h.x,0,n.y,o.y,h.y,0,n.z,o.z,h.z,0,0,0,0,1),this}extractRotation(n){const o=this.elements,h=n.elements,g=1/ts.setFromMatrixColumn(n,0).length(),C=1/ts.setFromMatrixColumn(n,1).length(),T=1/ts.setFromMatrixColumn(n,2).length();return o[0]=h[0]*g,o[1]=h[1]*g,o[2]=h[2]*g,o[3]=0,o[4]=h[4]*C,o[5]=h[5]*C,o[6]=h[6]*C,o[7]=0,o[8]=h[8]*T,o[9]=h[9]*T,o[10]=h[10]*T,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}makeRotationFromEuler(n){const o=this.elements,h=n.x,g=n.y,C=n.z,T=Math.cos(h),D=Math.sin(h),F=Math.cos(g),V=Math.sin(g),Y=Math.cos(C),et=Math.sin(C);if(n.order==="XYZ"){const at=T*Y,rt=T*et,lt=D*Y,At=D*et;o[0]=F*Y,o[4]=-F*et,o[8]=V,o[1]=rt+lt*V,o[5]=at-At*V,o[9]=-D*F,o[2]=At-at*V,o[6]=lt+rt*V,o[10]=T*F}else if(n.order==="YXZ"){const at=F*Y,rt=F*et,lt=V*Y,At=V*et;o[0]=at+At*D,o[4]=lt*D-rt,o[8]=T*V,o[1]=T*et,o[5]=T*Y,o[9]=-D,o[2]=rt*D-lt,o[6]=At+at*D,o[10]=T*F}else if(n.order==="ZXY"){const at=F*Y,rt=F*et,lt=V*Y,At=V*et;o[0]=at-At*D,o[4]=-T*et,o[8]=lt+rt*D,o[1]=rt+lt*D,o[5]=T*Y,o[9]=At-at*D,o[2]=-T*V,o[6]=D,o[10]=T*F}else if(n.order==="ZYX"){const at=T*Y,rt=T*et,lt=D*Y,At=D*et;o[0]=F*Y,o[4]=lt*V-rt,o[8]=at*V+At,o[1]=F*et,o[5]=At*V+at,o[9]=rt*V-lt,o[2]=-V,o[6]=D*F,o[10]=T*F}else if(n.order==="YZX"){const at=T*F,rt=T*V,lt=D*F,At=D*V;o[0]=F*Y,o[4]=At-at*et,o[8]=lt*et+rt,o[1]=et,o[5]=T*Y,o[9]=-D*Y,o[2]=-V*Y,o[6]=rt*et+lt,o[10]=at-At*et}else if(n.order==="XZY"){const at=T*F,rt=T*V,lt=D*F,At=D*V;o[0]=F*Y,o[4]=-et,o[8]=V*Y,o[1]=at*et+At,o[5]=T*Y,o[9]=rt*et-lt,o[2]=lt*et-rt,o[6]=D*Y,o[10]=At*et+at}return o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}makeRotationFromQuaternion(n){return this.compose(KP,n,XP)}lookAt(n,o,h){const g=this.elements;return s0.subVectors(n,o),s0.lengthSq()===0&&(s0.z=1),s0.normalize(),js.crossVectors(h,s0),js.lengthSq()===0&&(Math.abs(h.z)===1?s0.x+=1e-4:s0.z+=1e-4,s0.normalize(),js.crossVectors(h,s0)),js.normalize(),o2.crossVectors(s0,js),g[0]=js.x,g[4]=o2.x,g[8]=s0.x,g[1]=js.y,g[5]=o2.y,g[9]=s0.y,g[2]=js.z,g[6]=o2.z,g[10]=s0.z,this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,o){const h=n.elements,g=o.elements,C=this.elements,T=h[0],D=h[4],F=h[8],V=h[12],Y=h[1],et=h[5],at=h[9],rt=h[13],lt=h[2],At=h[6],ct=h[10],ot=h[14],Ut=h[3],Lt=h[7],Bt=h[11],fe=h[15],ae=g[0],se=g[4],de=g[8],Xt=g[12],zt=g[1],he=g[5],Oe=g[9],Ce=g[13],xe=g[2],je=g[6],ui=g[10],Pi=g[14],Xe=g[3],Ti=g[7],Bi=g[11],ln=g[15];return C[0]=T*ae+D*zt+F*xe+V*Xe,C[4]=T*se+D*he+F*je+V*Ti,C[8]=T*de+D*Oe+F*ui+V*Bi,C[12]=T*Xt+D*Ce+F*Pi+V*ln,C[1]=Y*ae+et*zt+at*xe+rt*Xe,C[5]=Y*se+et*he+at*je+rt*Ti,C[9]=Y*de+et*Oe+at*ui+rt*Bi,C[13]=Y*Xt+et*Ce+at*Pi+rt*ln,C[2]=lt*ae+At*zt+ct*xe+ot*Xe,C[6]=lt*se+At*he+ct*je+ot*Ti,C[10]=lt*de+At*Oe+ct*ui+ot*Bi,C[14]=lt*Xt+At*Ce+ct*Pi+ot*ln,C[3]=Ut*ae+Lt*zt+Bt*xe+fe*Xe,C[7]=Ut*se+Lt*he+Bt*je+fe*Ti,C[11]=Ut*de+Lt*Oe+Bt*ui+fe*Bi,C[15]=Ut*Xt+Lt*Ce+Bt*Pi+fe*ln,this}multiplyScalar(n){const o=this.elements;return o[0]*=n,o[4]*=n,o[8]*=n,o[12]*=n,o[1]*=n,o[5]*=n,o[9]*=n,o[13]*=n,o[2]*=n,o[6]*=n,o[10]*=n,o[14]*=n,o[3]*=n,o[7]*=n,o[11]*=n,o[15]*=n,this}determinant(){const n=this.elements,o=n[0],h=n[4],g=n[8],C=n[12],T=n[1],D=n[5],F=n[9],V=n[13],Y=n[2],et=n[6],at=n[10],rt=n[14],lt=n[3],At=n[7],ct=n[11],ot=n[15];return lt*(+C*F*et-g*V*et-C*D*at+h*V*at+g*D*rt-h*F*rt)+At*(+o*F*rt-o*V*at+C*T*at-g*T*rt+g*V*Y-C*F*Y)+ct*(+o*V*et-o*D*rt-C*T*et+h*T*rt+C*D*Y-h*V*Y)+ot*(-g*D*Y-o*F*et+o*D*at+g*T*et-h*T*at+h*F*Y)}transpose(){const n=this.elements;let o;return o=n[1],n[1]=n[4],n[4]=o,o=n[2],n[2]=n[8],n[8]=o,o=n[6],n[6]=n[9],n[9]=o,o=n[3],n[3]=n[12],n[12]=o,o=n[7],n[7]=n[13],n[13]=o,o=n[11],n[11]=n[14],n[14]=o,this}setPosition(n,o,h){const g=this.elements;return n.isVector3?(g[12]=n.x,g[13]=n.y,g[14]=n.z):(g[12]=n,g[13]=o,g[14]=h),this}invert(){const n=this.elements,o=n[0],h=n[1],g=n[2],C=n[3],T=n[4],D=n[5],F=n[6],V=n[7],Y=n[8],et=n[9],at=n[10],rt=n[11],lt=n[12],At=n[13],ct=n[14],ot=n[15],Ut=et*ct*V-At*at*V+At*F*rt-D*ct*rt-et*F*ot+D*at*ot,Lt=lt*at*V-Y*ct*V-lt*F*rt+T*ct*rt+Y*F*ot-T*at*ot,Bt=Y*At*V-lt*et*V+lt*D*rt-T*At*rt-Y*D*ot+T*et*ot,fe=lt*et*F-Y*At*F-lt*D*at+T*At*at+Y*D*ct-T*et*ct,ae=o*Ut+h*Lt+g*Bt+C*fe;if(ae===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const se=1/ae;return n[0]=Ut*se,n[1]=(At*at*C-et*ct*C-At*g*rt+h*ct*rt+et*g*ot-h*at*ot)*se,n[2]=(D*ct*C-At*F*C+At*g*V-h*ct*V-D*g*ot+h*F*ot)*se,n[3]=(et*F*C-D*at*C-et*g*V+h*at*V+D*g*rt-h*F*rt)*se,n[4]=Lt*se,n[5]=(Y*ct*C-lt*at*C+lt*g*rt-o*ct*rt-Y*g*ot+o*at*ot)*se,n[6]=(lt*F*C-T*ct*C-lt*g*V+o*ct*V+T*g*ot-o*F*ot)*se,n[7]=(T*at*C-Y*F*C+Y*g*V-o*at*V-T*g*rt+o*F*rt)*se,n[8]=Bt*se,n[9]=(lt*et*C-Y*At*C-lt*h*rt+o*At*rt+Y*h*ot-o*et*ot)*se,n[10]=(T*At*C-lt*D*C+lt*h*V-o*At*V-T*h*ot+o*D*ot)*se,n[11]=(Y*D*C-T*et*C-Y*h*V+o*et*V+T*h*rt-o*D*rt)*se,n[12]=fe*se,n[13]=(Y*At*g-lt*et*g+lt*h*at-o*At*at-Y*h*ct+o*et*ct)*se,n[14]=(lt*D*g-T*At*g-lt*h*F+o*At*F+T*h*ct-o*D*ct)*se,n[15]=(T*et*g-Y*D*g+Y*h*F-o*et*F-T*h*at+o*D*at)*se,this}scale(n){const o=this.elements,h=n.x,g=n.y,C=n.z;return o[0]*=h,o[4]*=g,o[8]*=C,o[1]*=h,o[5]*=g,o[9]*=C,o[2]*=h,o[6]*=g,o[10]*=C,o[3]*=h,o[7]*=g,o[11]*=C,this}getMaxScaleOnAxis(){const n=this.elements,o=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],h=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],g=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(o,h,g))}makeTranslation(n,o,h){return n.isVector3?this.set(1,0,0,n.x,0,1,0,n.y,0,0,1,n.z,0,0,0,1):this.set(1,0,0,n,0,1,0,o,0,0,1,h,0,0,0,1),this}makeRotationX(n){const o=Math.cos(n),h=Math.sin(n);return this.set(1,0,0,0,0,o,-h,0,0,h,o,0,0,0,0,1),this}makeRotationY(n){const o=Math.cos(n),h=Math.sin(n);return this.set(o,0,h,0,0,1,0,0,-h,0,o,0,0,0,0,1),this}makeRotationZ(n){const o=Math.cos(n),h=Math.sin(n);return this.set(o,-h,0,0,h,o,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(n,o){const h=Math.cos(o),g=Math.sin(o),C=1-h,T=n.x,D=n.y,F=n.z,V=C*T,Y=C*D;return this.set(V*T+h,V*D-g*F,V*F+g*D,0,V*D+g*F,Y*D+h,Y*F-g*T,0,V*F-g*D,Y*F+g*T,C*F*F+h,0,0,0,0,1),this}makeScale(n,o,h){return this.set(n,0,0,0,0,o,0,0,0,0,h,0,0,0,0,1),this}makeShear(n,o,h,g,C,T){return this.set(1,h,C,0,n,1,T,0,o,g,1,0,0,0,0,1),this}compose(n,o,h){const g=this.elements,C=o._x,T=o._y,D=o._z,F=o._w,V=C+C,Y=T+T,et=D+D,at=C*V,rt=C*Y,lt=C*et,At=T*Y,ct=T*et,ot=D*et,Ut=F*V,Lt=F*Y,Bt=F*et,fe=h.x,ae=h.y,se=h.z;return g[0]=(1-(At+ot))*fe,g[1]=(rt+Bt)*fe,g[2]=(lt-Lt)*fe,g[3]=0,g[4]=(rt-Bt)*ae,g[5]=(1-(at+ot))*ae,g[6]=(ct+Ut)*ae,g[7]=0,g[8]=(lt+Lt)*se,g[9]=(ct-Ut)*se,g[10]=(1-(at+At))*se,g[11]=0,g[12]=n.x,g[13]=n.y,g[14]=n.z,g[15]=1,this}decompose(n,o,h){const g=this.elements;let C=ts.set(g[0],g[1],g[2]).length();const T=ts.set(g[4],g[5],g[6]).length(),D=ts.set(g[8],g[9],g[10]).length();this.determinant()<0&&(C=-C),n.x=g[12],n.y=g[13],n.z=g[14],jr.copy(this);const V=1/C,Y=1/T,et=1/D;return jr.elements[0]*=V,jr.elements[1]*=V,jr.elements[2]*=V,jr.elements[4]*=Y,jr.elements[5]*=Y,jr.elements[6]*=Y,jr.elements[8]*=et,jr.elements[9]*=et,jr.elements[10]*=et,o.setFromRotationMatrix(jr),h.x=C,h.y=T,h.z=D,this}makePerspective(n,o,h,g,C,T,D=b0){const F=this.elements,V=2*C/(o-n),Y=2*C/(h-g),et=(o+n)/(o-n),at=(h+g)/(h-g);let rt,lt;if(D===b0)rt=-(T+C)/(T-C),lt=-2*T*C/(T-C);else if(D===Kl)rt=-T/(T-C),lt=-T*C/(T-C);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+D);return F[0]=V,F[4]=0,F[8]=et,F[12]=0,F[1]=0,F[5]=Y,F[9]=at,F[13]=0,F[2]=0,F[6]=0,F[10]=rt,F[14]=lt,F[3]=0,F[7]=0,F[11]=-1,F[15]=0,this}makeOrthographic(n,o,h,g,C,T,D=b0){const F=this.elements,V=1/(o-n),Y=1/(h-g),et=1/(T-C),at=(o+n)*V,rt=(h+g)*Y;let lt,At;if(D===b0)lt=(T+C)*et,At=-2*et;else if(D===Kl)lt=C*et,At=-1*et;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+D);return F[0]=2*V,F[4]=0,F[8]=0,F[12]=-at,F[1]=0,F[5]=2*Y,F[9]=0,F[13]=-rt,F[2]=0,F[6]=0,F[10]=At,F[14]=-lt,F[3]=0,F[7]=0,F[11]=0,F[15]=1,this}equals(n){const o=this.elements,h=n.elements;for(let g=0;g<16;g++)if(o[g]!==h[g])return!1;return!0}fromArray(n,o=0){for(let h=0;h<16;h++)this.elements[h]=n[h+o];return this}toArray(n=[],o=0){const h=this.elements;return n[o]=h[0],n[o+1]=h[1],n[o+2]=h[2],n[o+3]=h[3],n[o+4]=h[4],n[o+5]=h[5],n[o+6]=h[6],n[o+7]=h[7],n[o+8]=h[8],n[o+9]=h[9],n[o+10]=h[10],n[o+11]=h[11],n[o+12]=h[12],n[o+13]=h[13],n[o+14]=h[14],n[o+15]=h[15],n}}const ts=new ee,jr=new cn,KP=new ee(0,0,0),XP=new ee(1,1,1),js=new ee,o2=new ee,s0=new ee,IM=new cn,BM=new _9;class l0{constructor(n=0,o=0,h=0,g=l0.DEFAULT_ORDER){this.isEuler=!0,this._x=n,this._y=o,this._z=h,this._order=g}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get order(){return this._order}set order(n){this._order=n,this._onChangeCallback()}set(n,o,h,g=this._order){return this._x=n,this._y=o,this._z=h,this._order=g,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this._onChangeCallback(),this}setFromRotationMatrix(n,o=this._order,h=!0){const g=n.elements,C=g[0],T=g[4],D=g[8],F=g[1],V=g[5],Y=g[9],et=g[2],at=g[6],rt=g[10];switch(o){case"XYZ":this._y=Math.asin(fa(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(-Y,rt),this._z=Math.atan2(-T,C)):(this._x=Math.atan2(at,V),this._z=0);break;case"YXZ":this._x=Math.asin(-fa(Y,-1,1)),Math.abs(Y)<.9999999?(this._y=Math.atan2(D,rt),this._z=Math.atan2(F,V)):(this._y=Math.atan2(-et,C),this._z=0);break;case"ZXY":this._x=Math.asin(fa(at,-1,1)),Math.abs(at)<.9999999?(this._y=Math.atan2(-et,rt),this._z=Math.atan2(-T,V)):(this._y=0,this._z=Math.atan2(F,C));break;case"ZYX":this._y=Math.asin(-fa(et,-1,1)),Math.abs(et)<.9999999?(this._x=Math.atan2(at,rt),this._z=Math.atan2(F,C)):(this._x=0,this._z=Math.atan2(-T,V));break;case"YZX":this._z=Math.asin(fa(F,-1,1)),Math.abs(F)<.9999999?(this._x=Math.atan2(-Y,V),this._y=Math.atan2(-et,C)):(this._x=0,this._y=Math.atan2(D,rt));break;case"XZY":this._z=Math.asin(-fa(T,-1,1)),Math.abs(T)<.9999999?(this._x=Math.atan2(at,V),this._y=Math.atan2(D,C)):(this._x=Math.atan2(-Y,rt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+o)}return this._order=o,h===!0&&this._onChangeCallback(),this}setFromQuaternion(n,o,h){return IM.makeRotationFromQuaternion(n),this.setFromRotationMatrix(IM,o,h)}setFromVector3(n,o=this._order){return this.set(n.x,n.y,n.z,o)}reorder(n){return BM.setFromEuler(this),this.setFromQuaternion(BM,n)}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order}fromArray(n){return this._x=n[0],this._y=n[1],this._z=n[2],n[3]!==void 0&&(this._order=n[3]),this._onChangeCallback(),this}toArray(n=[],o=0){return n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._order,n}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}l0.DEFAULT_ORDER="XYZ";class s2{constructor(){this.mask=1}set(n){this.mask=(1<<n|0)>>>0}enable(n){this.mask|=1<<n|0}enableAll(){this.mask=-1}toggle(n){this.mask^=1<<n|0}disable(n){this.mask&=~(1<<n|0)}disableAll(){this.mask=0}test(n){return(this.mask&n.mask)!==0}isEnabled(n){return(this.mask&(1<<n|0))!==0}}let YP=0;const RM=new ee,hu=new _9,es=new cn,l2=new ee,rh=new ee,qP=new ee,ZP=new _9,DM=new ee(1,0,0),PM=new ee(0,1,0),LM=new ee(0,0,1),kM={type:"added"},tL={type:"removed"},fu={type:"childadded",child:null},e8={type:"childremoved",child:null};class w9 extends Dr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:YP++}),this.uuid=Pr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=w9.DEFAULT_UP.clone();const n=new ee,o=new l0,h=new _9,g=new ee(1,1,1);function C(){h.setFromEuler(o,!1)}function T(){o.setFromQuaternion(h,void 0,!1)}o._onChange(C),h._onChange(T),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:o},quaternion:{configurable:!0,enumerable:!0,value:h},scale:{configurable:!0,enumerable:!0,value:g},modelViewMatrix:{value:new cn},normalMatrix:{value:new Nn}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=w9.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=w9.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new s2,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(n){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(n),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(n){return this.quaternion.premultiply(n),this}setRotationFromAxisAngle(n,o){this.quaternion.setFromAxisAngle(n,o)}setRotationFromEuler(n){this.quaternion.setFromEuler(n,!0)}setRotationFromMatrix(n){this.quaternion.setFromRotationMatrix(n)}setRotationFromQuaternion(n){this.quaternion.copy(n)}rotateOnAxis(n,o){return hu.setFromAxisAngle(n,o),this.quaternion.multiply(hu),this}rotateOnWorldAxis(n,o){return hu.setFromAxisAngle(n,o),this.quaternion.premultiply(hu),this}rotateX(n){return this.rotateOnAxis(DM,n)}rotateY(n){return this.rotateOnAxis(PM,n)}rotateZ(n){return this.rotateOnAxis(LM,n)}translateOnAxis(n,o){return RM.copy(n).applyQuaternion(this.quaternion),this.position.add(RM.multiplyScalar(o)),this}translateX(n){return this.translateOnAxis(DM,n)}translateY(n){return this.translateOnAxis(PM,n)}translateZ(n){return this.translateOnAxis(LM,n)}localToWorld(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(this.matrixWorld)}worldToLocal(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(es.copy(this.matrixWorld).invert())}lookAt(n,o,h){n.isVector3?l2.copy(n):l2.set(n,o,h);const g=this.parent;this.updateWorldMatrix(!0,!1),rh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?es.lookAt(rh,l2,this.up):es.lookAt(l2,rh,this.up),this.quaternion.setFromRotationMatrix(es),g&&(es.extractRotation(g.matrixWorld),hu.setFromRotationMatrix(es),this.quaternion.premultiply(hu.invert()))}add(n){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.add(arguments[o]);return this}return n===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this):(n&&n.isObject3D?(n.removeFromParent(),n.parent=this,this.children.push(n),n.dispatchEvent(kM),fu.child=n,this.dispatchEvent(fu),fu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this)}remove(n){if(arguments.length>1){for(let h=0;h<arguments.length;h++)this.remove(arguments[h]);return this}const o=this.children.indexOf(n);return o!==-1&&(n.parent=null,this.children.splice(o,1),n.dispatchEvent(tL),e8.child=n,this.dispatchEvent(e8),e8.child=null),this}removeFromParent(){const n=this.parent;return n!==null&&n.remove(this),this}clear(){return this.remove(...this.children)}attach(n){return this.updateWorldMatrix(!0,!1),es.copy(this.matrixWorld).invert(),n.parent!==null&&(n.parent.updateWorldMatrix(!0,!1),es.multiply(n.parent.matrixWorld)),n.applyMatrix4(es),n.removeFromParent(),n.parent=this,this.children.push(n),n.updateWorldMatrix(!1,!0),n.dispatchEvent(kM),fu.child=n,this.dispatchEvent(fu),fu.child=null,this}getObjectById(n){return this.getObjectByProperty("id",n)}getObjectByName(n){return this.getObjectByProperty("name",n)}getObjectByProperty(n,o){if(this[n]===o)return this;for(let h=0,g=this.children.length;h<g;h++){const T=this.children[h].getObjectByProperty(n,o);if(T!==void 0)return T}}getObjectsByProperty(n,o,h=[]){this[n]===o&&h.push(this);const g=this.children;for(let C=0,T=g.length;C<T;C++)g[C].getObjectsByProperty(n,o,h);return h}getWorldPosition(n){return this.updateWorldMatrix(!0,!1),n.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rh,n,qP),n}getWorldScale(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rh,ZP,n),n}getWorldDirection(n){this.updateWorldMatrix(!0,!1);const o=this.matrixWorld.elements;return n.set(o[8],o[9],o[10]).normalize()}raycast(){}traverse(n){n(this);const o=this.children;for(let h=0,g=o.length;h<g;h++)o[h].traverse(n)}traverseVisible(n){if(this.visible===!1)return;n(this);const o=this.children;for(let h=0,g=o.length;h<g;h++)o[h].traverseVisible(n)}traverseAncestors(n){const o=this.parent;o!==null&&(n(o),o.traverseAncestors(n))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,n=!0);const o=this.children;for(let h=0,g=o.length;h<g;h++){const C=o[h];(C.matrixWorldAutoUpdate===!0||n===!0)&&C.updateMatrixWorld(n)}}updateWorldMatrix(n,o){const h=this.parent;if(n===!0&&h!==null&&h.matrixWorldAutoUpdate===!0&&h.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),o===!0){const g=this.children;for(let C=0,T=g.length;C<T;C++){const D=g[C];D.matrixWorldAutoUpdate===!0&&D.updateWorldMatrix(!1,!0)}}}toJSON(n){const o=n===void 0||typeof n=="string",h={};o&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},h.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const g={};g.uuid=this.uuid,g.type=this.type,this.name!==""&&(g.name=this.name),this.castShadow===!0&&(g.castShadow=!0),this.receiveShadow===!0&&(g.receiveShadow=!0),this.visible===!1&&(g.visible=!1),this.frustumCulled===!1&&(g.frustumCulled=!1),this.renderOrder!==0&&(g.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(g.userData=this.userData),g.layers=this.layers.mask,g.matrix=this.matrix.toArray(),g.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(g.matrixAutoUpdate=!1),this.isInstancedMesh&&(g.type="InstancedMesh",g.count=this.count,g.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(g.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(g.type="BatchedMesh",g.perObjectFrustumCulled=this.perObjectFrustumCulled,g.sortObjects=this.sortObjects,g.drawRanges=this._drawRanges,g.reservedRanges=this._reservedRanges,g.visibility=this._visibility,g.active=this._active,g.bounds=this._bounds.map(D=>({boxInitialized:D.boxInitialized,boxMin:D.box.min.toArray(),boxMax:D.box.max.toArray(),sphereInitialized:D.sphereInitialized,sphereRadius:D.sphere.radius,sphereCenter:D.sphere.center.toArray()})),g.maxGeometryCount=this._maxGeometryCount,g.maxVertexCount=this._maxVertexCount,g.maxIndexCount=this._maxIndexCount,g.geometryInitialized=this._geometryInitialized,g.geometryCount=this._geometryCount,g.matricesTexture=this._matricesTexture.toJSON(n),this.boundingSphere!==null&&(g.boundingSphere={center:g.boundingSphere.center.toArray(),radius:g.boundingSphere.radius}),this.boundingBox!==null&&(g.boundingBox={min:g.boundingBox.min.toArray(),max:g.boundingBox.max.toArray()}));function C(D,F){return D[F.uuid]===void 0&&(D[F.uuid]=F.toJSON(n)),F.uuid}if(this.isScene)this.background&&(this.background.isColor?g.background=this.background.toJSON():this.background.isTexture&&(g.background=this.background.toJSON(n).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(g.environment=this.environment.toJSON(n).uuid);else if(this.isMesh||this.isLine||this.isPoints){g.geometry=C(n.geometries,this.geometry);const D=this.geometry.parameters;if(D!==void 0&&D.shapes!==void 0){const F=D.shapes;if(Array.isArray(F))for(let V=0,Y=F.length;V<Y;V++){const et=F[V];C(n.shapes,et)}else C(n.shapes,F)}}if(this.isSkinnedMesh&&(g.bindMode=this.bindMode,g.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(C(n.skeletons,this.skeleton),g.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const D=[];for(let F=0,V=this.material.length;F<V;F++)D.push(C(n.materials,this.material[F]));g.material=D}else g.material=C(n.materials,this.material);if(this.children.length>0){g.children=[];for(let D=0;D<this.children.length;D++)g.children.push(this.children[D].toJSON(n).object)}if(this.animations.length>0){g.animations=[];for(let D=0;D<this.animations.length;D++){const F=this.animations[D];g.animations.push(C(n.animations,F))}}if(o){const D=T(n.geometries),F=T(n.materials),V=T(n.textures),Y=T(n.images),et=T(n.shapes),at=T(n.skeletons),rt=T(n.animations),lt=T(n.nodes);D.length>0&&(h.geometries=D),F.length>0&&(h.materials=F),V.length>0&&(h.textures=V),Y.length>0&&(h.images=Y),et.length>0&&(h.shapes=et),at.length>0&&(h.skeletons=at),rt.length>0&&(h.animations=rt),lt.length>0&&(h.nodes=lt)}return h.object=g,h;function T(D){const F=[];for(const V in D){const Y=D[V];delete Y.metadata,F.push(Y)}return F}}clone(n){return new this.constructor().copy(this,n)}copy(n,o=!0){if(this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.rotation.order=n.rotation.order,this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldAutoUpdate=n.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.animations=n.animations.slice(),this.userData=JSON.parse(JSON.stringify(n.userData)),o===!0)for(let h=0;h<n.children.length;h++){const g=n.children[h];this.add(g.clone())}return this}}w9.DEFAULT_UP=new ee(0,1,0),w9.DEFAULT_MATRIX_AUTO_UPDATE=!0,w9.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const G0=new ee,is=new ee,i8=new ee,ns=new ee,mu=new ee,pu=new ee,NM=new ee,n8=new ee,a8=new ee,r8=new ee;class c0{constructor(n=new ee,o=new ee,h=new ee){this.a=n,this.b=o,this.c=h}static getNormal(n,o,h,g){g.subVectors(h,o),G0.subVectors(n,o),g.cross(G0);const C=g.lengthSq();return C>0?g.multiplyScalar(1/Math.sqrt(C)):g.set(0,0,0)}static getBarycoord(n,o,h,g,C){G0.subVectors(g,o),is.subVectors(h,o),i8.subVectors(n,o);const T=G0.dot(G0),D=G0.dot(is),F=G0.dot(i8),V=is.dot(is),Y=is.dot(i8),et=T*V-D*D;if(et===0)return C.set(0,0,0),null;const at=1/et,rt=(V*F-D*Y)*at,lt=(T*Y-D*F)*at;return C.set(1-rt-lt,lt,rt)}static containsPoint(n,o,h,g){return this.getBarycoord(n,o,h,g,ns)===null?!1:ns.x>=0&&ns.y>=0&&ns.x+ns.y<=1}static getInterpolation(n,o,h,g,C,T,D,F){return this.getBarycoord(n,o,h,g,ns)===null?(F.x=0,F.y=0,"z"in F&&(F.z=0),"w"in F&&(F.w=0),null):(F.setScalar(0),F.addScaledVector(C,ns.x),F.addScaledVector(T,ns.y),F.addScaledVector(D,ns.z),F)}static isFrontFacing(n,o,h,g){return G0.subVectors(h,o),is.subVectors(n,o),G0.cross(is).dot(g)<0}set(n,o,h){return this.a.copy(n),this.b.copy(o),this.c.copy(h),this}setFromPointsAndIndices(n,o,h,g){return this.a.copy(n[o]),this.b.copy(n[h]),this.c.copy(n[g]),this}setFromAttributeAndIndices(n,o,h,g){return this.a.fromBufferAttribute(n,o),this.b.fromBufferAttribute(n,h),this.c.fromBufferAttribute(n,g),this}clone(){return new this.constructor().copy(this)}copy(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this}getArea(){return G0.subVectors(this.c,this.b),is.subVectors(this.a,this.b),G0.cross(is).length()*.5}getMidpoint(n){return n.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(n){return c0.getNormal(this.a,this.b,this.c,n)}getPlane(n){return n.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(n,o){return c0.getBarycoord(n,this.a,this.b,this.c,o)}getInterpolation(n,o,h,g,C){return c0.getInterpolation(n,this.a,this.b,this.c,o,h,g,C)}containsPoint(n){return c0.containsPoint(n,this.a,this.b,this.c)}isFrontFacing(n){return c0.isFrontFacing(this.a,this.b,this.c,n)}intersectsBox(n){return n.intersectsTriangle(this)}closestPointToPoint(n,o){const h=this.a,g=this.b,C=this.c;let T,D;mu.subVectors(g,h),pu.subVectors(C,h),n8.subVectors(n,h);const F=mu.dot(n8),V=pu.dot(n8);if(F<=0&&V<=0)return o.copy(h);a8.subVectors(n,g);const Y=mu.dot(a8),et=pu.dot(a8);if(Y>=0&&et<=Y)return o.copy(g);const at=F*et-Y*V;if(at<=0&&F>=0&&Y<=0)return T=F/(F-Y),o.copy(h).addScaledVector(mu,T);r8.subVectors(n,C);const rt=mu.dot(r8),lt=pu.dot(r8);if(lt>=0&&rt<=lt)return o.copy(C);const At=rt*V-F*lt;if(At<=0&&V>=0&&lt<=0)return D=V/(V-lt),o.copy(h).addScaledVector(pu,D);const ct=Y*lt-rt*et;if(ct<=0&&et-Y>=0&&rt-lt>=0)return NM.subVectors(C,g),D=(et-Y)/(et-Y+(rt-lt)),o.copy(g).addScaledVector(NM,D);const ot=1/(ct+At+at);return T=At*ot,D=at*ot,o.copy(h).addScaledVector(mu,T).addScaledVector(pu,D)}equals(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}}const FM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ws={h:0,s:0,l:0},c2={h:0,s:0,l:0};function o8(_,n,o){return o<0&&(o+=1),o>1&&(o-=1),o<.16666666666666666?_+(n-_)*6*o:o<.5?n:o<.6666666666666666?_+(n-_)*6*(.6666666666666666-o):_}class tn{constructor(n,o,h){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(n,o,h)}set(n,o,h){if(o===void 0&&h===void 0){const g=n;g&&g.isColor?this.copy(g):typeof g=="number"?this.setHex(g):typeof g=="string"&&this.setStyle(g)}else this.setRGB(n,o,h);return this}setScalar(n){return this.r=n,this.g=n,this.b=n,this}setHex(n,o=y9){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(n&255)/255,T9.toWorkingColorSpace(this,o),this}setRGB(n,o,h,g=T9.workingColorSpace){return this.r=n,this.g=o,this.b=h,T9.toWorkingColorSpace(this,g),this}setHSL(n,o,h,g=T9.workingColorSpace){if(n=th(n,1),o=fa(o,0,1),h=fa(h,0,1),o===0)this.r=this.g=this.b=h;else{const C=h<=.5?h*(1+o):h+o-h*o,T=2*h-C;this.r=o8(T,C,n+.3333333333333333),this.g=o8(T,C,n),this.b=o8(T,C,n-.3333333333333333)}return T9.toWorkingColorSpace(this,g),this}setStyle(n,o=y9){function h(C){C!==void 0&&parseFloat(C)<1&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}let g;if(g=/^(\w+)\(([^\)]*)\)/.exec(n)){let C;const T=g[1],D=g[2];switch(T){case"rgb":case"rgba":if(C=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return h(C[4]),this.setRGB(Math.min(255,parseInt(C[1],10))/255,Math.min(255,parseInt(C[2],10))/255,Math.min(255,parseInt(C[3],10))/255,o);if(C=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return h(C[4]),this.setRGB(Math.min(100,parseInt(C[1],10))/100,Math.min(100,parseInt(C[2],10))/100,Math.min(100,parseInt(C[3],10))/100,o);break;case"hsl":case"hsla":if(C=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(D))return h(C[4]),this.setHSL(parseFloat(C[1])/360,parseFloat(C[2])/100,parseFloat(C[3])/100,o);break;default:console.warn("THREE.Color: Unknown color model "+n)}}else if(g=/^\#([A-Fa-f\d]+)$/.exec(n)){const C=g[1],T=C.length;if(T===3)return this.setRGB(parseInt(C.charAt(0),16)/15,parseInt(C.charAt(1),16)/15,parseInt(C.charAt(2),16)/15,o);if(T===6)return this.setHex(parseInt(C,16),o);console.warn("THREE.Color: Invalid hex color "+n)}else if(n&&n.length>0)return this.setColorName(n,o);return this}setColorName(n,o=y9){const h=FM[n.toLowerCase()];return h!==void 0?this.setHex(h,o):console.warn("THREE.Color: Unknown color "+n),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(n){return this.r=n.r,this.g=n.g,this.b=n.b,this}copySRGBToLinear(n){return this.r=Qs(n.r),this.g=Qs(n.g),this.b=Qs(n.b),this}copyLinearToSRGB(n){return this.r=ih(n.r),this.g=ih(n.g),this.b=ih(n.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(n=y9){return T9.fromWorkingColorSpace(Cr.copy(this),n),Math.round(fa(Cr.r*255,0,255))*65536+Math.round(fa(Cr.g*255,0,255))*256+Math.round(fa(Cr.b*255,0,255))}getHexString(n=y9){return("000000"+this.getHex(n).toString(16)).slice(-6)}getHSL(n,o=T9.workingColorSpace){T9.fromWorkingColorSpace(Cr.copy(this),o);const h=Cr.r,g=Cr.g,C=Cr.b,T=Math.max(h,g,C),D=Math.min(h,g,C);let F,V;const Y=(D+T)/2;if(D===T)F=0,V=0;else{const et=T-D;switch(V=Y<=.5?et/(T+D):et/(2-T-D),T){case h:F=(g-C)/et+(g<C?6:0);break;case g:F=(C-h)/et+2;break;case C:F=(h-g)/et+4;break}F/=6}return n.h=F,n.s=V,n.l=Y,n}getRGB(n,o=T9.workingColorSpace){return T9.fromWorkingColorSpace(Cr.copy(this),o),n.r=Cr.r,n.g=Cr.g,n.b=Cr.b,n}getStyle(n=y9){T9.fromWorkingColorSpace(Cr.copy(this),n);const o=Cr.r,h=Cr.g,g=Cr.b;return n!==y9?`color(${n} ${o.toFixed(3)} ${h.toFixed(3)} ${g.toFixed(3)})`:`rgb(${Math.round(o*255)},${Math.round(h*255)},${Math.round(g*255)})`}offsetHSL(n,o,h){return this.getHSL(Ws),this.setHSL(Ws.h+n,Ws.s+o,Ws.l+h)}add(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this}addColors(n,o){return this.r=n.r+o.r,this.g=n.g+o.g,this.b=n.b+o.b,this}addScalar(n){return this.r+=n,this.g+=n,this.b+=n,this}sub(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this}multiply(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this}multiplyScalar(n){return this.r*=n,this.g*=n,this.b*=n,this}lerp(n,o){return this.r+=(n.r-this.r)*o,this.g+=(n.g-this.g)*o,this.b+=(n.b-this.b)*o,this}lerpColors(n,o,h){return this.r=n.r+(o.r-n.r)*h,this.g=n.g+(o.g-n.g)*h,this.b=n.b+(o.b-n.b)*h,this}lerpHSL(n,o){this.getHSL(Ws),n.getHSL(c2);const h=Xl(Ws.h,c2.h,o),g=Xl(Ws.s,c2.s,o),C=Xl(Ws.l,c2.l,o);return this.setHSL(h,g,C),this}setFromVector3(n){return this.r=n.x,this.g=n.y,this.b=n.z,this}applyMatrix3(n){const o=this.r,h=this.g,g=this.b,C=n.elements;return this.r=C[0]*o+C[3]*h+C[6]*g,this.g=C[1]*o+C[4]*h+C[7]*g,this.b=C[2]*o+C[5]*h+C[8]*g,this}equals(n){return n.r===this.r&&n.g===this.g&&n.b===this.b}fromArray(n,o=0){return this.r=n[o],this.g=n[o+1],this.b=n[o+2],this}toArray(n=[],o=0){return n[o]=this.r,n[o+1]=this.g,n[o+2]=this.b,n}fromBufferAttribute(n,o){return this.r=n.getX(o),this.g=n.getY(o),this.b=n.getZ(o),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Cr=new tn;tn.NAMES=FM;let eL=0;class Er extends Dr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eL++}),this.uuid=Pr(),this.name="",this.type="Material",this.blending=P,this.side=O,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=tt,this.blendDst=ht,this.blendEquation=H,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tn(0,0,0),this.blendAlpha=0,this.depthFunc=Wt,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Yd,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xo,this.stencilZFail=Xo,this.stencilZPass=Xo,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(n){this._alphaTest>0!=n>0&&this.version++,this._alphaTest=n}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(n){if(n!==void 0)for(const o in n){const h=n[o];if(h===void 0){console.warn(`THREE.Material: parameter '${o}' has value of undefined.`);continue}const g=this[o];if(g===void 0){console.warn(`THREE.Material: '${o}' is not a property of THREE.${this.type}.`);continue}g&&g.isColor?g.set(h):g&&g.isVector3&&h&&h.isVector3?g.copy(h):this[o]=h}}toJSON(n){const o=n===void 0||typeof n=="string";o&&(n={textures:{},images:{}});const h={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};h.uuid=this.uuid,h.type=this.type,this.name!==""&&(h.name=this.name),this.color&&this.color.isColor&&(h.color=this.color.getHex()),this.roughness!==void 0&&(h.roughness=this.roughness),this.metalness!==void 0&&(h.metalness=this.metalness),this.sheen!==void 0&&(h.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(h.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(h.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(h.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(h.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(h.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(h.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(h.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(h.shininess=this.shininess),this.clearcoat!==void 0&&(h.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(h.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(h.clearcoatMap=this.clearcoatMap.toJSON(n).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(h.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(n).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(h.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(n).uuid,h.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(h.dispersion=this.dispersion),this.iridescence!==void 0&&(h.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(h.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(h.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(h.iridescenceMap=this.iridescenceMap.toJSON(n).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(h.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(n).uuid),this.anisotropy!==void 0&&(h.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(h.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(h.anisotropyMap=this.anisotropyMap.toJSON(n).uuid),this.map&&this.map.isTexture&&(h.map=this.map.toJSON(n).uuid),this.matcap&&this.matcap.isTexture&&(h.matcap=this.matcap.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(h.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(h.lightMap=this.lightMap.toJSON(n).uuid,h.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(h.aoMap=this.aoMap.toJSON(n).uuid,h.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(h.bumpMap=this.bumpMap.toJSON(n).uuid,h.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(h.normalMap=this.normalMap.toJSON(n).uuid,h.normalMapType=this.normalMapType,h.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(h.displacementMap=this.displacementMap.toJSON(n).uuid,h.displacementScale=this.displacementScale,h.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(h.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(h.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(h.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(h.specularMap=this.specularMap.toJSON(n).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(h.specularIntensityMap=this.specularIntensityMap.toJSON(n).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(h.specularColorMap=this.specularColorMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(h.envMap=this.envMap.toJSON(n).uuid,this.combine!==void 0&&(h.combine=this.combine)),this.envMapRotation!==void 0&&(h.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(h.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(h.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(h.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(h.gradientMap=this.gradientMap.toJSON(n).uuid),this.transmission!==void 0&&(h.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(h.transmissionMap=this.transmissionMap.toJSON(n).uuid),this.thickness!==void 0&&(h.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(h.thicknessMap=this.thicknessMap.toJSON(n).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(h.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(h.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(h.size=this.size),this.shadowSide!==null&&(h.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(h.sizeAttenuation=this.sizeAttenuation),this.blending!==P&&(h.blending=this.blending),this.side!==O&&(h.side=this.side),this.vertexColors===!0&&(h.vertexColors=!0),this.opacity<1&&(h.opacity=this.opacity),this.transparent===!0&&(h.transparent=!0),this.blendSrc!==tt&&(h.blendSrc=this.blendSrc),this.blendDst!==ht&&(h.blendDst=this.blendDst),this.blendEquation!==H&&(h.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(h.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(h.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(h.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(h.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(h.blendAlpha=this.blendAlpha),this.depthFunc!==Wt&&(h.depthFunc=this.depthFunc),this.depthTest===!1&&(h.depthTest=this.depthTest),this.depthWrite===!1&&(h.depthWrite=this.depthWrite),this.colorWrite===!1&&(h.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(h.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Yd&&(h.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(h.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(h.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Xo&&(h.stencilFail=this.stencilFail),this.stencilZFail!==Xo&&(h.stencilZFail=this.stencilZFail),this.stencilZPass!==Xo&&(h.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(h.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(h.rotation=this.rotation),this.polygonOffset===!0&&(h.polygonOffset=!0),this.polygonOffsetFactor!==0&&(h.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(h.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(h.linewidth=this.linewidth),this.dashSize!==void 0&&(h.dashSize=this.dashSize),this.gapSize!==void 0&&(h.gapSize=this.gapSize),this.scale!==void 0&&(h.scale=this.scale),this.dithering===!0&&(h.dithering=!0),this.alphaTest>0&&(h.alphaTest=this.alphaTest),this.alphaHash===!0&&(h.alphaHash=!0),this.alphaToCoverage===!0&&(h.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(h.premultipliedAlpha=!0),this.forceSinglePass===!0&&(h.forceSinglePass=!0),this.wireframe===!0&&(h.wireframe=!0),this.wireframeLinewidth>1&&(h.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(h.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(h.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(h.flatShading=!0),this.visible===!1&&(h.visible=!1),this.toneMapped===!1&&(h.toneMapped=!1),this.fog===!1&&(h.fog=!1),Object.keys(this.userData).length>0&&(h.userData=this.userData);function g(C){const T=[];for(const D in C){const F=C[D];delete F.metadata,T.push(F)}return T}if(o){const C=g(n.textures),T=g(n.images);C.length>0&&(h.textures=C),T.length>0&&(h.images=T)}return h}clone(){return new this.constructor().copy(this)}copy(n){this.name=n.name,this.blending=n.blending,this.side=n.side,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.blendColor.copy(n.blendColor),this.blendAlpha=n.blendAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.stencilWriteMask=n.stencilWriteMask,this.stencilFunc=n.stencilFunc,this.stencilRef=n.stencilRef,this.stencilFuncMask=n.stencilFuncMask,this.stencilFail=n.stencilFail,this.stencilZFail=n.stencilZFail,this.stencilZPass=n.stencilZPass,this.stencilWrite=n.stencilWrite;const o=n.clippingPlanes;let h=null;if(o!==null){const g=o.length;h=new Array(g);for(let C=0;C!==g;++C)h[C]=o[C].clone()}return this.clippingPlanes=h,this.clipIntersection=n.clipIntersection,this.clipShadows=n.clipShadows,this.shadowSide=n.shadowSide,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.alphaHash=n.alphaHash,this.alphaToCoverage=n.alphaToCoverage,this.premultipliedAlpha=n.premultipliedAlpha,this.forceSinglePass=n.forceSinglePass,this.visible=n.visible,this.toneMapped=n.toneMapped,this.userData=JSON.parse(JSON.stringify(n.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(n){n===!0&&this.version++}}class Ks extends Er{constructor(n){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new l0,this.combine=ni,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapRotation.copy(n.envMapRotation),this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.fog=n.fog,this}}const as=iL();function iL(){const _=new ArrayBuffer(4),n=new Float32Array(_),o=new Uint32Array(_),h=new Uint32Array(512),g=new Uint32Array(512);for(let F=0;F<256;++F){const V=F-127;V<-27?(h[F]=0,h[F|256]=32768,g[F]=24,g[F|256]=24):V<-14?(h[F]=1024>>-V-14,h[F|256]=1024>>-V-14|32768,g[F]=-V-1,g[F|256]=-V-1):V<=15?(h[F]=V+15<<10,h[F|256]=V+15<<10|32768,g[F]=13,g[F|256]=13):V<128?(h[F]=31744,h[F|256]=64512,g[F]=24,g[F|256]=24):(h[F]=31744,h[F|256]=64512,g[F]=13,g[F|256]=13)}const C=new Uint32Array(2048),T=new Uint32Array(64),D=new Uint32Array(64);for(let F=1;F<1024;++F){let V=F<<13,Y=0;for(;!(V&8388608);)V<<=1,Y-=8388608;V&=-8388609,Y+=947912704,C[F]=V|Y}for(let F=1024;F<2048;++F)C[F]=939524096+(F-1024<<13);for(let F=1;F<31;++F)T[F]=F<<23;T[31]=1199570944,T[32]=2147483648;for(let F=33;F<63;++F)T[F]=2147483648+(F-32<<23);T[63]=3347054592;for(let F=1;F<64;++F)F!==32&&(D[F]=1024);return{floatView:n,uint32View:o,baseTable:h,shiftTable:g,mantissaTable:C,exponentTable:T,offsetTable:D}}function Wr(_){Math.abs(_)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),_=fa(_,-65504,65504),as.floatView[0]=_;const n=as.uint32View[0],o=n>>23&511;return as.baseTable[o]+((n&8388607)>>as.shiftTable[o])}function oh(_){const n=_>>10;return as.uint32View[0]=as.mantissaTable[as.offsetTable[n]+(_&1023)]+as.exponentTable[n],as.floatView[0]}const nL={toHalfFloat:Wr,fromHalfFloat:oh},Fa=new ee,u2=new hi;class F9{constructor(n,o,h=!1){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=n,this.itemSize=o,this.count=n!==void 0?n.length/o:0,this.normalized=h,this.usage=Wl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=$n,this.version=0}onUploadCallback(){}set needsUpdate(n){n===!0&&this.version++}get updateRange(){return e2("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(n){return this.usage=n,this}addUpdateRange(n,o){this.updateRanges.push({start:n,count:o})}clearUpdateRanges(){this.updateRanges.length=0}copy(n){return this.name=n.name,this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.usage=n.usage,this.gpuType=n.gpuType,this}copyAt(n,o,h){n*=this.itemSize,h*=o.itemSize;for(let g=0,C=this.itemSize;g<C;g++)this.array[n+g]=o.array[h+g];return this}copyArray(n){return this.array.set(n),this}applyMatrix3(n){if(this.itemSize===2)for(let o=0,h=this.count;o<h;o++)u2.fromBufferAttribute(this,o),u2.applyMatrix3(n),this.setXY(o,u2.x,u2.y);else if(this.itemSize===3)for(let o=0,h=this.count;o<h;o++)Fa.fromBufferAttribute(this,o),Fa.applyMatrix3(n),this.setXYZ(o,Fa.x,Fa.y,Fa.z);return this}applyMatrix4(n){for(let o=0,h=this.count;o<h;o++)Fa.fromBufferAttribute(this,o),Fa.applyMatrix4(n),this.setXYZ(o,Fa.x,Fa.y,Fa.z);return this}applyNormalMatrix(n){for(let o=0,h=this.count;o<h;o++)Fa.fromBufferAttribute(this,o),Fa.applyNormalMatrix(n),this.setXYZ(o,Fa.x,Fa.y,Fa.z);return this}transformDirection(n){for(let o=0,h=this.count;o<h;o++)Fa.fromBufferAttribute(this,o),Fa.transformDirection(n),this.setXYZ(o,Fa.x,Fa.y,Fa.z);return this}set(n,o=0){return this.array.set(n,o),this}getComponent(n,o){let h=this.array[n*this.itemSize+o];return this.normalized&&(h=mr(h,this.array)),h}setComponent(n,o,h){return this.normalized&&(h=Hn(h,this.array)),this.array[n*this.itemSize+o]=h,this}getX(n){let o=this.array[n*this.itemSize];return this.normalized&&(o=mr(o,this.array)),o}setX(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize]=o,this}getY(n){let o=this.array[n*this.itemSize+1];return this.normalized&&(o=mr(o,this.array)),o}setY(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize+1]=o,this}getZ(n){let o=this.array[n*this.itemSize+2];return this.normalized&&(o=mr(o,this.array)),o}setZ(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize+2]=o,this}getW(n){let o=this.array[n*this.itemSize+3];return this.normalized&&(o=mr(o,this.array)),o}setW(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize+3]=o,this}setXY(n,o,h){return n*=this.itemSize,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array)),this.array[n+0]=o,this.array[n+1]=h,this}setXYZ(n,o,h,g){return n*=this.itemSize,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array),g=Hn(g,this.array)),this.array[n+0]=o,this.array[n+1]=h,this.array[n+2]=g,this}setXYZW(n,o,h,g,C){return n*=this.itemSize,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array),g=Hn(g,this.array),C=Hn(C,this.array)),this.array[n+0]=o,this.array[n+1]=h,this.array[n+2]=g,this.array[n+3]=C,this}onUpload(n){return this.onUploadCallback=n,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const n={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(n.name=this.name),this.usage!==Wl&&(n.usage=this.usage),n}}class aL extends F9{constructor(n,o,h){super(new Int8Array(n),o,h)}}class rL extends F9{constructor(n,o,h){super(new Uint8Array(n),o,h)}}class oL extends F9{constructor(n,o,h){super(new Uint8ClampedArray(n),o,h)}}class sL extends F9{constructor(n,o,h){super(new Int16Array(n),o,h)}}class s8 extends F9{constructor(n,o,h){super(new Uint16Array(n),o,h)}}class lL extends F9{constructor(n,o,h){super(new Int32Array(n),o,h)}}class l8 extends F9{constructor(n,o,h){super(new Uint32Array(n),o,h)}}class cL extends F9{constructor(n,o,h){super(new Uint16Array(n),o,h),this.isFloat16BufferAttribute=!0}getX(n){let o=oh(this.array[n*this.itemSize]);return this.normalized&&(o=mr(o,this.array)),o}setX(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize]=Wr(o),this}getY(n){let o=oh(this.array[n*this.itemSize+1]);return this.normalized&&(o=mr(o,this.array)),o}setY(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize+1]=Wr(o),this}getZ(n){let o=oh(this.array[n*this.itemSize+2]);return this.normalized&&(o=mr(o,this.array)),o}setZ(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize+2]=Wr(o),this}getW(n){let o=oh(this.array[n*this.itemSize+3]);return this.normalized&&(o=mr(o,this.array)),o}setW(n,o){return this.normalized&&(o=Hn(o,this.array)),this.array[n*this.itemSize+3]=Wr(o),this}setXY(n,o,h){return n*=this.itemSize,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array)),this.array[n+0]=Wr(o),this.array[n+1]=Wr(h),this}setXYZ(n,o,h,g){return n*=this.itemSize,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array),g=Hn(g,this.array)),this.array[n+0]=Wr(o),this.array[n+1]=Wr(h),this.array[n+2]=Wr(g),this}setXYZW(n,o,h,g,C){return n*=this.itemSize,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array),g=Hn(g,this.array),C=Hn(C,this.array)),this.array[n+0]=Wr(o),this.array[n+1]=Wr(h),this.array[n+2]=Wr(g),this.array[n+3]=Wr(C),this}}class hn extends F9{constructor(n,o,h){super(new Float32Array(n),o,h)}}let uL=0;const E0=new cn,c8=new w9,gu=new ee,u0=new ga,sh=new ga,nr=new ee;class i9 extends Dr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:uL++}),this.uuid=Pr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(n){return Array.isArray(n)?this.index=new(q1(n)?l8:s8)(n,1):this.index=n,this}getAttribute(n){return this.attributes[n]}setAttribute(n,o){return this.attributes[n]=o,this}deleteAttribute(n){return delete this.attributes[n],this}hasAttribute(n){return this.attributes[n]!==void 0}addGroup(n,o,h=0){this.groups.push({start:n,count:o,materialIndex:h})}clearGroups(){this.groups=[]}setDrawRange(n,o){this.drawRange.start=n,this.drawRange.count=o}applyMatrix4(n){const o=this.attributes.position;o!==void 0&&(o.applyMatrix4(n),o.needsUpdate=!0);const h=this.attributes.normal;if(h!==void 0){const C=new Nn().getNormalMatrix(n);h.applyNormalMatrix(C),h.needsUpdate=!0}const g=this.attributes.tangent;return g!==void 0&&(g.transformDirection(n),g.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(n){return E0.makeRotationFromQuaternion(n),this.applyMatrix4(E0),this}rotateX(n){return E0.makeRotationX(n),this.applyMatrix4(E0),this}rotateY(n){return E0.makeRotationY(n),this.applyMatrix4(E0),this}rotateZ(n){return E0.makeRotationZ(n),this.applyMatrix4(E0),this}translate(n,o,h){return E0.makeTranslation(n,o,h),this.applyMatrix4(E0),this}scale(n,o,h){return E0.makeScale(n,o,h),this.applyMatrix4(E0),this}lookAt(n){return c8.lookAt(n),c8.updateMatrix(),this.applyMatrix4(c8.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gu).negate(),this.translate(gu.x,gu.y,gu.z),this}setFromPoints(n){const o=[];for(let h=0,g=n.length;h<g;h++){const C=n[h];o.push(C.x,C.y,C.z||0)}return this.setAttribute("position",new hn(o,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ga);const n=this.attributes.position,o=this.morphAttributes.position;if(n&&n.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(n!==void 0){if(this.boundingBox.setFromBufferAttribute(n),o)for(let h=0,g=o.length;h<g;h++){const C=o[h];u0.setFromBufferAttribute(C),this.morphTargetsRelative?(nr.addVectors(this.boundingBox.min,u0.min),this.boundingBox.expandByPoint(nr),nr.addVectors(this.boundingBox.max,u0.max),this.boundingBox.expandByPoint(nr)):(this.boundingBox.expandByPoint(u0.min),this.boundingBox.expandByPoint(u0.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Va);const n=this.attributes.position,o=this.morphAttributes.position;if(n&&n.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ee,1/0);return}if(n){const h=this.boundingSphere.center;if(u0.setFromBufferAttribute(n),o)for(let C=0,T=o.length;C<T;C++){const D=o[C];sh.setFromBufferAttribute(D),this.morphTargetsRelative?(nr.addVectors(u0.min,sh.min),u0.expandByPoint(nr),nr.addVectors(u0.max,sh.max),u0.expandByPoint(nr)):(u0.expandByPoint(sh.min),u0.expandByPoint(sh.max))}u0.getCenter(h);let g=0;for(let C=0,T=n.count;C<T;C++)nr.fromBufferAttribute(n,C),g=Math.max(g,h.distanceToSquared(nr));if(o)for(let C=0,T=o.length;C<T;C++){const D=o[C],F=this.morphTargetsRelative;for(let V=0,Y=D.count;V<Y;V++)nr.fromBufferAttribute(D,V),F&&(gu.fromBufferAttribute(n,V),nr.add(gu)),g=Math.max(g,h.distanceToSquared(nr))}this.boundingSphere.radius=Math.sqrt(g),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const n=this.index,o=this.attributes;if(n===null||o.position===void 0||o.normal===void 0||o.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const h=o.position,g=o.normal,C=o.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new F9(new Float32Array(4*h.count),4));const T=this.getAttribute("tangent"),D=[],F=[];for(let de=0;de<h.count;de++)D[de]=new ee,F[de]=new ee;const V=new ee,Y=new ee,et=new ee,at=new hi,rt=new hi,lt=new hi,At=new ee,ct=new ee;function ot(de,Xt,zt){V.fromBufferAttribute(h,de),Y.fromBufferAttribute(h,Xt),et.fromBufferAttribute(h,zt),at.fromBufferAttribute(C,de),rt.fromBufferAttribute(C,Xt),lt.fromBufferAttribute(C,zt),Y.sub(V),et.sub(V),rt.sub(at),lt.sub(at);const he=1/(rt.x*lt.y-lt.x*rt.y);isFinite(he)&&(At.copy(Y).multiplyScalar(lt.y).addScaledVector(et,-rt.y).multiplyScalar(he),ct.copy(et).multiplyScalar(rt.x).addScaledVector(Y,-lt.x).multiplyScalar(he),D[de].add(At),D[Xt].add(At),D[zt].add(At),F[de].add(ct),F[Xt].add(ct),F[zt].add(ct))}let Ut=this.groups;Ut.length===0&&(Ut=[{start:0,count:n.count}]);for(let de=0,Xt=Ut.length;de<Xt;++de){const zt=Ut[de],he=zt.start,Oe=zt.count;for(let Ce=he,xe=he+Oe;Ce<xe;Ce+=3)ot(n.getX(Ce+0),n.getX(Ce+1),n.getX(Ce+2))}const Lt=new ee,Bt=new ee,fe=new ee,ae=new ee;function se(de){fe.fromBufferAttribute(g,de),ae.copy(fe);const Xt=D[de];Lt.copy(Xt),Lt.sub(fe.multiplyScalar(fe.dot(Xt))).normalize(),Bt.crossVectors(ae,Xt);const he=Bt.dot(F[de])<0?-1:1;T.setXYZW(de,Lt.x,Lt.y,Lt.z,he)}for(let de=0,Xt=Ut.length;de<Xt;++de){const zt=Ut[de],he=zt.start,Oe=zt.count;for(let Ce=he,xe=he+Oe;Ce<xe;Ce+=3)se(n.getX(Ce+0)),se(n.getX(Ce+1)),se(n.getX(Ce+2))}}computeVertexNormals(){const n=this.index,o=this.getAttribute("position");if(o!==void 0){let h=this.getAttribute("normal");if(h===void 0)h=new F9(new Float32Array(o.count*3),3),this.setAttribute("normal",h);else for(let at=0,rt=h.count;at<rt;at++)h.setXYZ(at,0,0,0);const g=new ee,C=new ee,T=new ee,D=new ee,F=new ee,V=new ee,Y=new ee,et=new ee;if(n)for(let at=0,rt=n.count;at<rt;at+=3){const lt=n.getX(at+0),At=n.getX(at+1),ct=n.getX(at+2);g.fromBufferAttribute(o,lt),C.fromBufferAttribute(o,At),T.fromBufferAttribute(o,ct),Y.subVectors(T,C),et.subVectors(g,C),Y.cross(et),D.fromBufferAttribute(h,lt),F.fromBufferAttribute(h,At),V.fromBufferAttribute(h,ct),D.add(Y),F.add(Y),V.add(Y),h.setXYZ(lt,D.x,D.y,D.z),h.setXYZ(At,F.x,F.y,F.z),h.setXYZ(ct,V.x,V.y,V.z)}else for(let at=0,rt=o.count;at<rt;at+=3)g.fromBufferAttribute(o,at+0),C.fromBufferAttribute(o,at+1),T.fromBufferAttribute(o,at+2),Y.subVectors(T,C),et.subVectors(g,C),Y.cross(et),h.setXYZ(at+0,Y.x,Y.y,Y.z),h.setXYZ(at+1,Y.x,Y.y,Y.z),h.setXYZ(at+2,Y.x,Y.y,Y.z);this.normalizeNormals(),h.needsUpdate=!0}}normalizeNormals(){const n=this.attributes.normal;for(let o=0,h=n.count;o<h;o++)nr.fromBufferAttribute(n,o),nr.normalize(),n.setXYZ(o,nr.x,nr.y,nr.z)}toNonIndexed(){function n(D,F){const V=D.array,Y=D.itemSize,et=D.normalized,at=new V.constructor(F.length*Y);let rt=0,lt=0;for(let At=0,ct=F.length;At<ct;At++){D.isInterleavedBufferAttribute?rt=F[At]*D.data.stride+D.offset:rt=F[At]*Y;for(let ot=0;ot<Y;ot++)at[lt++]=V[rt++]}return new F9(at,Y,et)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const o=new i9,h=this.index.array,g=this.attributes;for(const D in g){const F=g[D],V=n(F,h);o.setAttribute(D,V)}const C=this.morphAttributes;for(const D in C){const F=[],V=C[D];for(let Y=0,et=V.length;Y<et;Y++){const at=V[Y],rt=n(at,h);F.push(rt)}o.morphAttributes[D]=F}o.morphTargetsRelative=this.morphTargetsRelative;const T=this.groups;for(let D=0,F=T.length;D<F;D++){const V=T[D];o.addGroup(V.start,V.count,V.materialIndex)}return o}toJSON(){const n={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),Object.keys(this.userData).length>0&&(n.userData=this.userData),this.parameters!==void 0){const F=this.parameters;for(const V in F)F[V]!==void 0&&(n[V]=F[V]);return n}n.data={attributes:{}};const o=this.index;o!==null&&(n.data.index={type:o.array.constructor.name,array:Array.prototype.slice.call(o.array)});const h=this.attributes;for(const F in h){const V=h[F];n.data.attributes[F]=V.toJSON(n.data)}const g={};let C=!1;for(const F in this.morphAttributes){const V=this.morphAttributes[F],Y=[];for(let et=0,at=V.length;et<at;et++){const rt=V[et];Y.push(rt.toJSON(n.data))}Y.length>0&&(g[F]=Y,C=!0)}C&&(n.data.morphAttributes=g,n.data.morphTargetsRelative=this.morphTargetsRelative);const T=this.groups;T.length>0&&(n.data.groups=JSON.parse(JSON.stringify(T)));const D=this.boundingSphere;return D!==null&&(n.data.boundingSphere={center:D.center.toArray(),radius:D.radius}),n}clone(){return new this.constructor().copy(this)}copy(n){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const o={};this.name=n.name;const h=n.index;h!==null&&this.setIndex(h.clone(o));const g=n.attributes;for(const V in g){const Y=g[V];this.setAttribute(V,Y.clone(o))}const C=n.morphAttributes;for(const V in C){const Y=[],et=C[V];for(let at=0,rt=et.length;at<rt;at++)Y.push(et[at].clone(o));this.morphAttributes[V]=Y}this.morphTargetsRelative=n.morphTargetsRelative;const T=n.groups;for(let V=0,Y=T.length;V<Y;V++){const et=T[V];this.addGroup(et.start,et.count,et.materialIndex)}const D=n.boundingBox;D!==null&&(this.boundingBox=D.clone());const F=n.boundingSphere;return F!==null&&(this.boundingSphere=F.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this.userData=n.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const UM=new cn,ql=new Qa,d2=new Va,$M=new ee,Mu=new ee,Au=new ee,yu=new ee,u8=new ee,h2=new ee,f2=new hi,m2=new hi,p2=new hi,GM=new ee,HM=new ee,VM=new ee,g2=new ee,M2=new ee;class Ua extends w9{constructor(n=new i9,o=new Ks){super(),this.isMesh=!0,this.type="Mesh",this.geometry=n,this.material=o,this.updateMorphTargets()}copy(n,o){return super.copy(n,o),n.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),n.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this.material=Array.isArray(n.material)?n.material.slice():n.material,this.geometry=n.geometry,this}updateMorphTargets(){const o=this.geometry.morphAttributes,h=Object.keys(o);if(h.length>0){const g=o[h[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let C=0,T=g.length;C<T;C++){const D=g[C].name||String(C);this.morphTargetInfluences.push(0),this.morphTargetDictionary[D]=C}}}}getVertexPosition(n,o){const h=this.geometry,g=h.attributes.position,C=h.morphAttributes.position,T=h.morphTargetsRelative;o.fromBufferAttribute(g,n);const D=this.morphTargetInfluences;if(C&&D){h2.set(0,0,0);for(let F=0,V=C.length;F<V;F++){const Y=D[F],et=C[F];Y!==0&&(u8.fromBufferAttribute(et,n),T?h2.addScaledVector(u8,Y):h2.addScaledVector(u8.sub(o),Y))}o.add(h2)}return o}raycast(n,o){const h=this.geometry,g=this.material,C=this.matrixWorld;g!==void 0&&(h.boundingSphere===null&&h.computeBoundingSphere(),d2.copy(h.boundingSphere),d2.applyMatrix4(C),ql.copy(n.ray).recast(n.near),!(d2.containsPoint(ql.origin)===!1&&(ql.intersectSphere(d2,$M)===null||ql.origin.distanceToSquared($M)>(n.far-n.near)**2))&&(UM.copy(C).invert(),ql.copy(n.ray).applyMatrix4(UM),!(h.boundingBox!==null&&ql.intersectsBox(h.boundingBox)===!1)&&this._computeIntersections(n,o,ql)))}_computeIntersections(n,o,h){let g;const C=this.geometry,T=this.material,D=C.index,F=C.attributes.position,V=C.attributes.uv,Y=C.attributes.uv1,et=C.attributes.normal,at=C.groups,rt=C.drawRange;if(D!==null)if(Array.isArray(T))for(let lt=0,At=at.length;lt<At;lt++){const ct=at[lt],ot=T[ct.materialIndex],Ut=Math.max(ct.start,rt.start),Lt=Math.min(D.count,Math.min(ct.start+ct.count,rt.start+rt.count));for(let Bt=Ut,fe=Lt;Bt<fe;Bt+=3){const ae=D.getX(Bt),se=D.getX(Bt+1),de=D.getX(Bt+2);g=A2(this,ot,n,h,V,Y,et,ae,se,de),g&&(g.faceIndex=Math.floor(Bt/3),g.face.materialIndex=ct.materialIndex,o.push(g))}}else{const lt=Math.max(0,rt.start),At=Math.min(D.count,rt.start+rt.count);for(let ct=lt,ot=At;ct<ot;ct+=3){const Ut=D.getX(ct),Lt=D.getX(ct+1),Bt=D.getX(ct+2);g=A2(this,T,n,h,V,Y,et,Ut,Lt,Bt),g&&(g.faceIndex=Math.floor(ct/3),o.push(g))}}else if(F!==void 0)if(Array.isArray(T))for(let lt=0,At=at.length;lt<At;lt++){const ct=at[lt],ot=T[ct.materialIndex],Ut=Math.max(ct.start,rt.start),Lt=Math.min(F.count,Math.min(ct.start+ct.count,rt.start+rt.count));for(let Bt=Ut,fe=Lt;Bt<fe;Bt+=3){const ae=Bt,se=Bt+1,de=Bt+2;g=A2(this,ot,n,h,V,Y,et,ae,se,de),g&&(g.faceIndex=Math.floor(Bt/3),g.face.materialIndex=ct.materialIndex,o.push(g))}}else{const lt=Math.max(0,rt.start),At=Math.min(F.count,rt.start+rt.count);for(let ct=lt,ot=At;ct<ot;ct+=3){const Ut=ct,Lt=ct+1,Bt=ct+2;g=A2(this,T,n,h,V,Y,et,Ut,Lt,Bt),g&&(g.faceIndex=Math.floor(ct/3),o.push(g))}}}}function dL(_,n,o,h,g,C,T,D){let F;if(n.side===S?F=h.intersectTriangle(T,C,g,!0,D):F=h.intersectTriangle(g,C,T,n.side===O,D),F===null)return null;M2.copy(D),M2.applyMatrix4(_.matrixWorld);const V=o.ray.origin.distanceTo(M2);return V<o.near||V>o.far?null:{distance:V,point:M2.clone(),object:_}}function A2(_,n,o,h,g,C,T,D,F,V){_.getVertexPosition(D,Mu),_.getVertexPosition(F,Au),_.getVertexPosition(V,yu);const Y=dL(_,n,o,h,Mu,Au,yu,g2);if(Y){g&&(f2.fromBufferAttribute(g,D),m2.fromBufferAttribute(g,F),p2.fromBufferAttribute(g,V),Y.uv=c0.getInterpolation(g2,Mu,Au,yu,f2,m2,p2,new hi)),C&&(f2.fromBufferAttribute(C,D),m2.fromBufferAttribute(C,F),p2.fromBufferAttribute(C,V),Y.uv1=c0.getInterpolation(g2,Mu,Au,yu,f2,m2,p2,new hi)),T&&(GM.fromBufferAttribute(T,D),HM.fromBufferAttribute(T,F),VM.fromBufferAttribute(T,V),Y.normal=c0.getInterpolation(g2,Mu,Au,yu,GM,HM,VM,new ee),Y.normal.dot(h.direction)>0&&Y.normal.multiplyScalar(-1));const et={a:D,b:F,c:V,normal:new ee,materialIndex:0};c0.getNormal(Mu,Au,yu,et.normal),Y.face=et}return Y}class Zl extends i9{constructor(n=1,o=1,h=1,g=1,C=1,T=1){super(),this.type="BoxGeometry",this.parameters={width:n,height:o,depth:h,widthSegments:g,heightSegments:C,depthSegments:T};const D=this;g=Math.floor(g),C=Math.floor(C),T=Math.floor(T);const F=[],V=[],Y=[],et=[];let at=0,rt=0;lt("z","y","x",-1,-1,h,o,n,T,C,0),lt("z","y","x",1,-1,h,o,-n,T,C,1),lt("x","z","y",1,1,n,h,o,g,T,2),lt("x","z","y",1,-1,n,h,-o,g,T,3),lt("x","y","z",1,-1,n,o,h,g,C,4),lt("x","y","z",-1,-1,n,o,-h,g,C,5),this.setIndex(F),this.setAttribute("position",new hn(V,3)),this.setAttribute("normal",new hn(Y,3)),this.setAttribute("uv",new hn(et,2));function lt(At,ct,ot,Ut,Lt,Bt,fe,ae,se,de,Xt){const zt=Bt/se,he=fe/de,Oe=Bt/2,Ce=fe/2,xe=ae/2,je=se+1,ui=de+1;let Pi=0,Xe=0;const Ti=new ee;for(let Bi=0;Bi<ui;Bi++){const ln=Bi*he-Ce;for(let n9=0;n9<je;n9++){const I9=n9*zt-Oe;Ti[At]=I9*Ut,Ti[ct]=ln*Lt,Ti[ot]=xe,V.push(Ti.x,Ti.y,Ti.z),Ti[At]=0,Ti[ct]=0,Ti[ot]=ae>0?1:-1,Y.push(Ti.x,Ti.y,Ti.z),et.push(n9/se),et.push(1-Bi/de),Pi+=1}}for(let Bi=0;Bi<de;Bi++)for(let ln=0;ln<se;ln++){const n9=at+ln+je*Bi,I9=at+ln+je*(Bi+1),q9=at+(ln+1)+je*(Bi+1),O9=at+(ln+1)+je*Bi;F.push(n9,I9,O9),F.push(I9,q9,O9),Xe+=6}D.addGroup(rt,Xe,Xt),rt+=Xe,at+=Pi}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Zl(n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments)}}function vu(_){const n={};for(const o in _){n[o]={};for(const h in _[o]){const g=_[o][h];g&&(g.isColor||g.isMatrix3||g.isMatrix4||g.isVector2||g.isVector3||g.isVector4||g.isTexture||g.isQuaternion)?g.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),n[o][h]=null):n[o][h]=g.clone():Array.isArray(g)?n[o][h]=g.slice():n[o][h]=g}}return n}function kr(_){const n={};for(let o=0;o<_.length;o++){const h=vu(_[o]);for(const g in h)n[g]=h[g]}return n}function hL(_){const n=[];for(let o=0;o<_.length;o++)n.push(_[o].clone());return n}function QM(_){const n=_.getRenderTarget();return n===null?_.outputColorSpace:n.isXRRenderTarget===!0?n.texture.colorSpace:T9.workingColorSpace}const zM={clone:vu,merge:kr};var fL=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,mL=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class H0 extends Er{constructor(n){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=fL,this.fragmentShader=mL,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,n!==void 0&&this.setValues(n)}copy(n){return super.copy(n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=vu(n.uniforms),this.uniformsGroups=hL(n.uniformsGroups),this.defines=Object.assign({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.fog=n.fog,this.lights=n.lights,this.clipping=n.clipping,this.extensions=Object.assign({},n.extensions),this.glslVersion=n.glslVersion,this}toJSON(n){const o=super.toJSON(n);o.glslVersion=this.glslVersion,o.uniforms={};for(const g in this.uniforms){const T=this.uniforms[g].value;T&&T.isTexture?o.uniforms[g]={type:"t",value:T.toJSON(n).uuid}:T&&T.isColor?o.uniforms[g]={type:"c",value:T.getHex()}:T&&T.isVector2?o.uniforms[g]={type:"v2",value:T.toArray()}:T&&T.isVector3?o.uniforms[g]={type:"v3",value:T.toArray()}:T&&T.isVector4?o.uniforms[g]={type:"v4",value:T.toArray()}:T&&T.isMatrix3?o.uniforms[g]={type:"m3",value:T.toArray()}:T&&T.isMatrix4?o.uniforms[g]={type:"m4",value:T.toArray()}:o.uniforms[g]={value:T}}Object.keys(this.defines).length>0&&(o.defines=this.defines),o.vertexShader=this.vertexShader,o.fragmentShader=this.fragmentShader,o.lights=this.lights,o.clipping=this.clipping;const h={};for(const g in this.extensions)this.extensions[g]===!0&&(h[g]=!0);return Object.keys(h).length>0&&(o.extensions=h),o}}class y2 extends w9{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn,this.coordinateSystem=b0}copy(n,o){return super.copy(n,o),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this.projectionMatrixInverse.copy(n.projectionMatrixInverse),this.coordinateSystem=n.coordinateSystem,this}getWorldDirection(n){return super.getWorldDirection(n).negate()}updateMatrixWorld(n){super.updateMatrixWorld(n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(n,o){super.updateWorldMatrix(n,o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xs=new ee,JM=new hi,jM=new hi;class za extends y2{constructor(n=50,o=1,h=.1,g=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=n,this.zoom=1,this.near=h,this.far=g,this.focus=10,this.aspect=o,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(n,o){return super.copy(n,o),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=n.view===null?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this}setFocalLength(n){const o=.5*this.getFilmHeight()/n;this.fov=Hs*2*Math.atan(o),this.updateProjectionMatrix()}getFocalLength(){const n=Math.tan(Yo*.5*this.fov);return .5*this.getFilmHeight()/n}getEffectiveFOV(){return Hs*2*Math.atan(Math.tan(Yo*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(n,o,h){Xs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),o.set(Xs.x,Xs.y).multiplyScalar(-n/Xs.z),Xs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),h.set(Xs.x,Xs.y).multiplyScalar(-n/Xs.z)}getViewSize(n,o){return this.getViewBounds(n,JM,jM),o.subVectors(jM,JM)}setViewOffset(n,o,h,g,C,T){this.aspect=n/o,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=h,this.view.offsetY=g,this.view.width=C,this.view.height=T,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=this.near;let o=n*Math.tan(Yo*.5*this.fov)/this.zoom,h=2*o,g=this.aspect*h,C=-.5*g;const T=this.view;if(this.view!==null&&this.view.enabled){const F=T.fullWidth,V=T.fullHeight;C+=T.offsetX*g/F,o-=T.offsetY*h/V,g*=T.width/F,h*=T.height/V}const D=this.filmOffset;D!==0&&(C+=n*D/this.getFilmWidth()),this.projectionMatrix.makePerspective(C,C+g,o,o-h,n,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const o=super.toJSON(n);return o.object.fov=this.fov,o.object.zoom=this.zoom,o.object.near=this.near,o.object.far=this.far,o.object.focus=this.focus,o.object.aspect=this.aspect,this.view!==null&&(o.object.view=Object.assign({},this.view)),o.object.filmGauge=this.filmGauge,o.object.filmOffset=this.filmOffset,o}}const bu=-90,Cu=1;class WM extends w9{constructor(n,o,h){super(),this.type="CubeCamera",this.renderTarget=h,this.coordinateSystem=null,this.activeMipmapLevel=0;const g=new za(bu,Cu,n,o);g.layers=this.layers,this.add(g);const C=new za(bu,Cu,n,o);C.layers=this.layers,this.add(C);const T=new za(bu,Cu,n,o);T.layers=this.layers,this.add(T);const D=new za(bu,Cu,n,o);D.layers=this.layers,this.add(D);const F=new za(bu,Cu,n,o);F.layers=this.layers,this.add(F);const V=new za(bu,Cu,n,o);V.layers=this.layers,this.add(V)}updateCoordinateSystem(){const n=this.coordinateSystem,o=this.children.concat(),[h,g,C,T,D,F]=o;for(const V of o)this.remove(V);if(n===b0)h.up.set(0,1,0),h.lookAt(1,0,0),g.up.set(0,1,0),g.lookAt(-1,0,0),C.up.set(0,0,-1),C.lookAt(0,1,0),T.up.set(0,0,1),T.lookAt(0,-1,0),D.up.set(0,1,0),D.lookAt(0,0,1),F.up.set(0,1,0),F.lookAt(0,0,-1);else if(n===Kl)h.up.set(0,-1,0),h.lookAt(-1,0,0),g.up.set(0,-1,0),g.lookAt(1,0,0),C.up.set(0,0,1),C.lookAt(0,1,0),T.up.set(0,0,-1),T.lookAt(0,-1,0),D.up.set(0,-1,0),D.lookAt(0,0,1),F.up.set(0,-1,0),F.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+n);for(const V of o)this.add(V),V.updateMatrixWorld()}update(n,o){this.parent===null&&this.updateMatrixWorld();const{renderTarget:h,activeMipmapLevel:g}=this;this.coordinateSystem!==n.coordinateSystem&&(this.coordinateSystem=n.coordinateSystem,this.updateCoordinateSystem());const[C,T,D,F,V,Y]=this.children,et=n.getRenderTarget(),at=n.getActiveCubeFace(),rt=n.getActiveMipmapLevel(),lt=n.xr.enabled;n.xr.enabled=!1;const At=h.texture.generateMipmaps;h.texture.generateMipmaps=!1,n.setRenderTarget(h,0,g),n.render(o,C),n.setRenderTarget(h,1,g),n.render(o,T),n.setRenderTarget(h,2,g),n.render(o,D),n.setRenderTarget(h,3,g),n.render(o,F),n.setRenderTarget(h,4,g),n.render(o,V),h.texture.generateMipmaps=At,n.setRenderTarget(h,5,g),n.render(o,Y),n.setRenderTarget(et,at,rt),n.xr.enabled=lt,h.texture.needsPMREMUpdate=!0}}class lh extends K9{constructor(n,o,h,g,C,T,D,F,V,Y){n=n!==void 0?n:[],o=o!==void 0?o:ut,super(n,o,h,g,C,T,D,F,V,Y),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(n){this.image=n}}class KM extends zr{constructor(n=1,o={}){super(n,n,o),this.isWebGLCubeRenderTarget=!0;const h={width:n,height:n,depth:1},g=[h,h,h,h,h,h];this.texture=new lh(g,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:Pe}fromEquirectangularTexture(n,o){this.texture.type=o.type,this.texture.colorSpace=o.colorSpace,this.texture.generateMipmaps=o.generateMipmaps,this.texture.minFilter=o.minFilter,this.texture.magFilter=o.magFilter;const h={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},g=new Zl(5,5,5),C=new H0({name:"CubemapFromEquirect",uniforms:vu(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,side:S,blending:I});C.uniforms.tEquirect.value=o;const T=new Ua(g,C),D=o.minFilter;return o.minFilter===Ii&&(o.minFilter=Pe),new WM(1,10,this).update(n,T),o.minFilter=D,T.geometry.dispose(),T.material.dispose(),this}clear(n,o,h,g){const C=n.getRenderTarget();for(let T=0;T<6;T++)n.setRenderTarget(this,T),n.clear(o,h,g);n.setRenderTarget(C)}}const d8=new ee,pL=new ee,gL=new Nn;class Ys{constructor(n=new ee(1,0,0),o=0){this.isPlane=!0,this.normal=n,this.constant=o}set(n,o){return this.normal.copy(n),this.constant=o,this}setComponents(n,o,h,g){return this.normal.set(n,o,h),this.constant=g,this}setFromNormalAndCoplanarPoint(n,o){return this.normal.copy(n),this.constant=-o.dot(this.normal),this}setFromCoplanarPoints(n,o,h){const g=d8.subVectors(h,o).cross(pL.subVectors(n,o)).normalize();return this.setFromNormalAndCoplanarPoint(g,n),this}copy(n){return this.normal.copy(n.normal),this.constant=n.constant,this}normalize(){const n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(n){return this.normal.dot(n)+this.constant}distanceToSphere(n){return this.distanceToPoint(n.center)-n.radius}projectPoint(n,o){return o.copy(n).addScaledVector(this.normal,-this.distanceToPoint(n))}intersectLine(n,o){const h=n.delta(d8),g=this.normal.dot(h);if(g===0)return this.distanceToPoint(n.start)===0?o.copy(n.start):null;const C=-(n.start.dot(this.normal)+this.constant)/g;return C<0||C>1?null:o.copy(n.start).addScaledVector(h,C)}intersectsLine(n){const o=this.distanceToPoint(n.start),h=this.distanceToPoint(n.end);return o<0&&h>0||h<0&&o>0}intersectsBox(n){return n.intersectsPlane(this)}intersectsSphere(n){return n.intersectsPlane(this)}coplanarPoint(n){return n.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(n,o){const h=o||gL.getNormalMatrix(n),g=this.coplanarPoint(d8).applyMatrix4(n),C=this.normal.applyMatrix3(h).normalize();return this.constant=-g.dot(C),this}translate(n){return this.constant-=n.dot(this.normal),this}equals(n){return n.normal.equals(this.normal)&&n.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tc=new Va,v2=new ee;class ch{constructor(n=new Ys,o=new Ys,h=new Ys,g=new Ys,C=new Ys,T=new Ys){this.planes=[n,o,h,g,C,T]}set(n,o,h,g,C,T){const D=this.planes;return D[0].copy(n),D[1].copy(o),D[2].copy(h),D[3].copy(g),D[4].copy(C),D[5].copy(T),this}copy(n){const o=this.planes;for(let h=0;h<6;h++)o[h].copy(n.planes[h]);return this}setFromProjectionMatrix(n,o=b0){const h=this.planes,g=n.elements,C=g[0],T=g[1],D=g[2],F=g[3],V=g[4],Y=g[5],et=g[6],at=g[7],rt=g[8],lt=g[9],At=g[10],ct=g[11],ot=g[12],Ut=g[13],Lt=g[14],Bt=g[15];if(h[0].setComponents(F-C,at-V,ct-rt,Bt-ot).normalize(),h[1].setComponents(F+C,at+V,ct+rt,Bt+ot).normalize(),h[2].setComponents(F+T,at+Y,ct+lt,Bt+Ut).normalize(),h[3].setComponents(F-T,at-Y,ct-lt,Bt-Ut).normalize(),h[4].setComponents(F-D,at-et,ct-At,Bt-Lt).normalize(),o===b0)h[5].setComponents(F+D,at+et,ct+At,Bt+Lt).normalize();else if(o===Kl)h[5].setComponents(D,et,At,Lt).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+o);return this}intersectsObject(n){if(n.boundingSphere!==void 0)n.boundingSphere===null&&n.computeBoundingSphere(),tc.copy(n.boundingSphere).applyMatrix4(n.matrixWorld);else{const o=n.geometry;o.boundingSphere===null&&o.computeBoundingSphere(),tc.copy(o.boundingSphere).applyMatrix4(n.matrixWorld)}return this.intersectsSphere(tc)}intersectsSprite(n){return tc.center.set(0,0,0),tc.radius=.7071067811865476,tc.applyMatrix4(n.matrixWorld),this.intersectsSphere(tc)}intersectsSphere(n){const o=this.planes,h=n.center,g=-n.radius;for(let C=0;C<6;C++)if(o[C].distanceToPoint(h)<g)return!1;return!0}intersectsBox(n){const o=this.planes;for(let h=0;h<6;h++){const g=o[h];if(v2.x=g.normal.x>0?n.max.x:n.min.x,v2.y=g.normal.y>0?n.max.y:n.min.y,v2.z=g.normal.z>0?n.max.z:n.min.z,g.distanceToPoint(v2)<0)return!1}return!0}containsPoint(n){const o=this.planes;for(let h=0;h<6;h++)if(o[h].distanceToPoint(n)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function h8(){let _=null,n=!1,o=null,h=null;function g(C,T){o(C,T),h=_.requestAnimationFrame(g)}return{start:function(){n!==!0&&o!==null&&(h=_.requestAnimationFrame(g),n=!0)},stop:function(){_.cancelAnimationFrame(h),n=!1},setAnimationLoop:function(C){o=C},setContext:function(C){_=C}}}function ML(_){const n=new WeakMap;function o(D,F){const V=D.array,Y=D.usage,et=V.byteLength,at=_.createBuffer();_.bindBuffer(F,at),_.bufferData(F,V,Y),D.onUploadCallback();let rt;if(V instanceof Float32Array)rt=_.FLOAT;else if(V instanceof Uint16Array)D.isFloat16BufferAttribute?rt=_.HALF_FLOAT:rt=_.UNSIGNED_SHORT;else if(V instanceof Int16Array)rt=_.SHORT;else if(V instanceof Uint32Array)rt=_.UNSIGNED_INT;else if(V instanceof Int32Array)rt=_.INT;else if(V instanceof Int8Array)rt=_.BYTE;else if(V instanceof Uint8Array)rt=_.UNSIGNED_BYTE;else if(V instanceof Uint8ClampedArray)rt=_.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+V);return{buffer:at,type:rt,bytesPerElement:V.BYTES_PER_ELEMENT,version:D.version,size:et}}function h(D,F,V){const Y=F.array,et=F._updateRange,at=F.updateRanges;if(_.bindBuffer(V,D),et.count===-1&&at.length===0&&_.bufferSubData(V,0,Y),at.length!==0){for(let rt=0,lt=at.length;rt<lt;rt++){const At=at[rt];_.bufferSubData(V,At.start*Y.BYTES_PER_ELEMENT,Y,At.start,At.count)}F.clearUpdateRanges()}et.count!==-1&&(_.bufferSubData(V,et.offset*Y.BYTES_PER_ELEMENT,Y,et.offset,et.count),et.count=-1),F.onUploadCallback()}function g(D){return D.isInterleavedBufferAttribute&&(D=D.data),n.get(D)}function C(D){D.isInterleavedBufferAttribute&&(D=D.data);const F=n.get(D);F&&(_.deleteBuffer(F.buffer),n.delete(D))}function T(D,F){if(D.isGLBufferAttribute){const Y=n.get(D);(!Y||Y.version<D.version)&&n.set(D,{buffer:D.buffer,type:D.type,bytesPerElement:D.elementSize,version:D.version});return}D.isInterleavedBufferAttribute&&(D=D.data);const V=n.get(D);if(V===void 0)n.set(D,o(D,F));else if(V.version<D.version){if(V.size!==D.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");h(V.buffer,D,F),V.version=D.version}}return{get:g,remove:C,update:T}}class Eu extends i9{constructor(n=1,o=1,h=1,g=1){super(),this.type="PlaneGeometry",this.parameters={width:n,height:o,widthSegments:h,heightSegments:g};const C=n/2,T=o/2,D=Math.floor(h),F=Math.floor(g),V=D+1,Y=F+1,et=n/D,at=o/F,rt=[],lt=[],At=[],ct=[];for(let ot=0;ot<Y;ot++){const Ut=ot*at-T;for(let Lt=0;Lt<V;Lt++){const Bt=Lt*et-C;lt.push(Bt,-Ut,0),At.push(0,0,1),ct.push(Lt/D),ct.push(1-ot/F)}}for(let ot=0;ot<F;ot++)for(let Ut=0;Ut<D;Ut++){const Lt=Ut+V*ot,Bt=Ut+V*(ot+1),fe=Ut+1+V*(ot+1),ae=Ut+1+V*ot;rt.push(Lt,Bt,ae),rt.push(Bt,fe,ae)}this.setIndex(rt),this.setAttribute("position",new hn(lt,3)),this.setAttribute("normal",new hn(At,3)),this.setAttribute("uv",new hn(ct,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Eu(n.width,n.height,n.widthSegments,n.heightSegments)}}var AL=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,yL=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,vL=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,bL=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,CL=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,EL=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_L=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wL=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,OL=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,xL=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,SL=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,TL=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,IL=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,BL=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,RL=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,DL=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,PL=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,LL=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kL=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NL=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,FL=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,UL=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,$L=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,GL=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,HL=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,VL=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,QL=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,zL=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,JL=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jL=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,WL="gl_FragColor = linearToOutputTexel( gl_FragColor );",KL=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,XL=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,YL=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,qL=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ZL=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,tk=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ek=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ik=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,nk=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ak=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,rk=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ok=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sk=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lk=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ck=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,uk=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,dk=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,hk=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,fk=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mk=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,pk=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,gk=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Mk=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Ak=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,yk=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,vk=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bk=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ck=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ek=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,_k=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,wk=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ok=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,xk=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Sk=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Tk=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ik=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Bk=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Rk=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Dk=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Pk=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Lk=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,kk=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Nk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Uk=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,$k=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Gk=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Hk=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Vk=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Qk=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,zk=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Jk=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,jk=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Wk=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Kk=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Xk=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Yk=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,qk=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Zk=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,tN=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,eN=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,iN=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,nN=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,aN=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,rN=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,oN=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,sN=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,lN=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,cN=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,uN=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,dN=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,hN=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,fN=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mN=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,pN=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,gN=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qn={alphahash_fragment:AL,alphahash_pars_fragment:yL,alphamap_fragment:vL,alphamap_pars_fragment:bL,alphatest_fragment:CL,alphatest_pars_fragment:EL,aomap_fragment:_L,aomap_pars_fragment:wL,batching_pars_vertex:OL,batching_vertex:xL,begin_vertex:SL,beginnormal_vertex:TL,bsdfs:IL,iridescence_fragment:BL,bumpmap_pars_fragment:RL,clipping_planes_fragment:DL,clipping_planes_pars_fragment:PL,clipping_planes_pars_vertex:LL,clipping_planes_vertex:kL,color_fragment:NL,color_pars_fragment:FL,color_pars_vertex:UL,color_vertex:$L,common:GL,cube_uv_reflection_fragment:HL,defaultnormal_vertex:VL,displacementmap_pars_vertex:QL,displacementmap_vertex:zL,emissivemap_fragment:JL,emissivemap_pars_fragment:jL,colorspace_fragment:WL,colorspace_pars_fragment:KL,envmap_fragment:XL,envmap_common_pars_fragment:YL,envmap_pars_fragment:qL,envmap_pars_vertex:ZL,envmap_physical_pars_fragment:uk,envmap_vertex:tk,fog_vertex:ek,fog_pars_vertex:ik,fog_fragment:nk,fog_pars_fragment:ak,gradientmap_pars_fragment:rk,lightmap_pars_fragment:ok,lights_lambert_fragment:sk,lights_lambert_pars_fragment:lk,lights_pars_begin:ck,lights_toon_fragment:dk,lights_toon_pars_fragment:hk,lights_phong_fragment:fk,lights_phong_pars_fragment:mk,lights_physical_fragment:pk,lights_physical_pars_fragment:gk,lights_fragment_begin:Mk,lights_fragment_maps:Ak,lights_fragment_end:yk,logdepthbuf_fragment:vk,logdepthbuf_pars_fragment:bk,logdepthbuf_pars_vertex:Ck,logdepthbuf_vertex:Ek,map_fragment:_k,map_pars_fragment:wk,map_particle_fragment:Ok,map_particle_pars_fragment:xk,metalnessmap_fragment:Sk,metalnessmap_pars_fragment:Tk,morphinstance_vertex:Ik,morphcolor_vertex:Bk,morphnormal_vertex:Rk,morphtarget_pars_vertex:Dk,morphtarget_vertex:Pk,normal_fragment_begin:Lk,normal_fragment_maps:kk,normal_pars_fragment:Nk,normal_pars_vertex:Fk,normal_vertex:Uk,normalmap_pars_fragment:$k,clearcoat_normal_fragment_begin:Gk,clearcoat_normal_fragment_maps:Hk,clearcoat_pars_fragment:Vk,iridescence_pars_fragment:Qk,opaque_fragment:zk,packing:Jk,premultiplied_alpha_fragment:jk,project_vertex:Wk,dithering_fragment:Kk,dithering_pars_fragment:Xk,roughnessmap_fragment:Yk,roughnessmap_pars_fragment:qk,shadowmap_pars_fragment:Zk,shadowmap_pars_vertex:tN,shadowmap_vertex:eN,shadowmask_pars_fragment:iN,skinbase_vertex:nN,skinning_pars_vertex:aN,skinning_vertex:rN,skinnormal_vertex:oN,specularmap_fragment:sN,specularmap_pars_fragment:lN,tonemapping_fragment:cN,tonemapping_pars_fragment:uN,transmission_fragment:dN,transmission_pars_fragment:hN,uv_pars_fragment:fN,uv_pars_vertex:mN,uv_vertex:pN,worldpos_vertex:gN,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},Fi={common:{diffuse:{value:new tn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nn}},envmap:{envMap:{value:null},envMapRotation:{value:new Nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nn},normalScale:{value:new hi(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0},uvTransform:{value:new Nn}},sprite:{diffuse:{value:new tn(16777215)},opacity:{value:1},center:{value:new hi(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}}},V0={basic:{uniforms:kr([Fi.common,Fi.specularmap,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.fog]),vertexShader:qn.meshbasic_vert,fragmentShader:qn.meshbasic_frag},lambert:{uniforms:kr([Fi.common,Fi.specularmap,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.emissivemap,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,Fi.fog,Fi.lights,{emissive:{value:new tn(0)}}]),vertexShader:qn.meshlambert_vert,fragmentShader:qn.meshlambert_frag},phong:{uniforms:kr([Fi.common,Fi.specularmap,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.emissivemap,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,Fi.fog,Fi.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:qn.meshphong_vert,fragmentShader:qn.meshphong_frag},standard:{uniforms:kr([Fi.common,Fi.envmap,Fi.aomap,Fi.lightmap,Fi.emissivemap,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,Fi.roughnessmap,Fi.metalnessmap,Fi.fog,Fi.lights,{emissive:{value:new tn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qn.meshphysical_vert,fragmentShader:qn.meshphysical_frag},toon:{uniforms:kr([Fi.common,Fi.aomap,Fi.lightmap,Fi.emissivemap,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,Fi.gradientmap,Fi.fog,Fi.lights,{emissive:{value:new tn(0)}}]),vertexShader:qn.meshtoon_vert,fragmentShader:qn.meshtoon_frag},matcap:{uniforms:kr([Fi.common,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,Fi.fog,{matcap:{value:null}}]),vertexShader:qn.meshmatcap_vert,fragmentShader:qn.meshmatcap_frag},points:{uniforms:kr([Fi.points,Fi.fog]),vertexShader:qn.points_vert,fragmentShader:qn.points_frag},dashed:{uniforms:kr([Fi.common,Fi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qn.linedashed_vert,fragmentShader:qn.linedashed_frag},depth:{uniforms:kr([Fi.common,Fi.displacementmap]),vertexShader:qn.depth_vert,fragmentShader:qn.depth_frag},normal:{uniforms:kr([Fi.common,Fi.bumpmap,Fi.normalmap,Fi.displacementmap,{opacity:{value:1}}]),vertexShader:qn.meshnormal_vert,fragmentShader:qn.meshnormal_frag},sprite:{uniforms:kr([Fi.sprite,Fi.fog]),vertexShader:qn.sprite_vert,fragmentShader:qn.sprite_frag},background:{uniforms:{uvTransform:{value:new Nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:qn.background_vert,fragmentShader:qn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Nn}},vertexShader:qn.backgroundCube_vert,fragmentShader:qn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qn.cube_vert,fragmentShader:qn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qn.equirect_vert,fragmentShader:qn.equirect_frag},distanceRGBA:{uniforms:kr([Fi.common,Fi.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qn.distanceRGBA_vert,fragmentShader:qn.distanceRGBA_frag},shadow:{uniforms:kr([Fi.lights,Fi.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:qn.shadow_vert,fragmentShader:qn.shadow_frag}};V0.physical={uniforms:kr([V0.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nn},clearcoatNormalScale:{value:new hi(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nn},sheen:{value:0},sheenColor:{value:new tn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nn},transmissionSamplerSize:{value:new hi},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nn},attenuationDistance:{value:0},attenuationColor:{value:new tn(0)},specularColor:{value:new tn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nn},anisotropyVector:{value:new hi},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Nn}}]),vertexShader:qn.meshphysical_vert,fragmentShader:qn.meshphysical_frag};const b2={r:0,b:0,g:0},ec=new l0,MN=new cn;function AN(_,n,o,h,g,C,T){const D=new tn(0);let F=C===!0?0:1,V,Y,et=null,at=0,rt=null;function lt(Ut){let Lt=Ut.isScene===!0?Ut.background:null;return Lt&&Lt.isTexture&&(Lt=(Ut.backgroundBlurriness>0?o:n).get(Lt)),Lt}function At(Ut){let Lt=!1;const Bt=lt(Ut);Bt===null?ot(D,F):Bt&&Bt.isColor&&(ot(Bt,1),Lt=!0);const fe=_.xr.getEnvironmentBlendMode();fe==="additive"?h.buffers.color.setClear(0,0,0,1,T):fe==="alpha-blend"&&h.buffers.color.setClear(0,0,0,0,T),(_.autoClear||Lt)&&_.clear(_.autoClearColor,_.autoClearDepth,_.autoClearStencil)}function ct(Ut,Lt){const Bt=lt(Lt);Bt&&(Bt.isCubeTexture||Bt.mapping===Gt)?(Y===void 0&&(Y=new Ua(new Zl(1e4,1e4,1e4),new H0({name:"BackgroundCubeMaterial",uniforms:vu(V0.backgroundCube.uniforms),vertexShader:V0.backgroundCube.vertexShader,fragmentShader:V0.backgroundCube.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1})),Y.geometry.deleteAttribute("normal"),Y.geometry.deleteAttribute("uv"),Y.onBeforeRender=function(fe,ae,se){this.matrixWorld.copyPosition(se.matrixWorld)},Object.defineProperty(Y.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),g.update(Y)),ec.copy(Lt.backgroundRotation),ec.x*=-1,ec.y*=-1,ec.z*=-1,Bt.isCubeTexture&&Bt.isRenderTargetTexture===!1&&(ec.y*=-1,ec.z*=-1),Y.material.uniforms.envMap.value=Bt,Y.material.uniforms.flipEnvMap.value=Bt.isCubeTexture&&Bt.isRenderTargetTexture===!1?-1:1,Y.material.uniforms.backgroundBlurriness.value=Lt.backgroundBlurriness,Y.material.uniforms.backgroundIntensity.value=Lt.backgroundIntensity,Y.material.uniforms.backgroundRotation.value.setFromMatrix4(MN.makeRotationFromEuler(ec)),Y.material.toneMapped=T9.getTransfer(Bt.colorSpace)!==$9,(et!==Bt||at!==Bt.version||rt!==_.toneMapping)&&(Y.material.needsUpdate=!0,et=Bt,at=Bt.version,rt=_.toneMapping),Y.layers.enableAll(),Ut.unshift(Y,Y.geometry,Y.material,0,0,null)):Bt&&Bt.isTexture&&(V===void 0&&(V=new Ua(new Eu(2,2),new H0({name:"BackgroundMaterial",uniforms:vu(V0.background.uniforms),vertexShader:V0.background.vertexShader,fragmentShader:V0.background.fragmentShader,side:O,depthTest:!1,depthWrite:!1,fog:!1})),V.geometry.deleteAttribute("normal"),Object.defineProperty(V.material,"map",{get:function(){return this.uniforms.t2D.value}}),g.update(V)),V.material.uniforms.t2D.value=Bt,V.material.uniforms.backgroundIntensity.value=Lt.backgroundIntensity,V.material.toneMapped=T9.getTransfer(Bt.colorSpace)!==$9,Bt.matrixAutoUpdate===!0&&Bt.updateMatrix(),V.material.uniforms.uvTransform.value.copy(Bt.matrix),(et!==Bt||at!==Bt.version||rt!==_.toneMapping)&&(V.material.needsUpdate=!0,et=Bt,at=Bt.version,rt=_.toneMapping),V.layers.enableAll(),Ut.unshift(V,V.geometry,V.material,0,0,null))}function ot(Ut,Lt){Ut.getRGB(b2,QM(_)),h.buffers.color.setClear(b2.r,b2.g,b2.b,Lt,T)}return{getClearColor:function(){return D},setClearColor:function(Ut,Lt=1){D.set(Ut),F=Lt,ot(D,F)},getClearAlpha:function(){return F},setClearAlpha:function(Ut){F=Ut,ot(D,F)},render:At,addToRenderList:ct}}function yN(_,n){const o=_.getParameter(_.MAX_VERTEX_ATTRIBS),h={},g=at(null);let C=g,T=!1;function D(zt,he,Oe,Ce,xe){let je=!1;const ui=et(Ce,Oe,he);C!==ui&&(C=ui,V(C.object)),je=rt(zt,Ce,Oe,xe),je&&lt(zt,Ce,Oe,xe),xe!==null&&n.update(xe,_.ELEMENT_ARRAY_BUFFER),(je||T)&&(T=!1,Bt(zt,he,Oe,Ce),xe!==null&&_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,n.get(xe).buffer))}function F(){return _.createVertexArray()}function V(zt){return _.bindVertexArray(zt)}function Y(zt){return _.deleteVertexArray(zt)}function et(zt,he,Oe){const Ce=Oe.wireframe===!0;let xe=h[zt.id];xe===void 0&&(xe={},h[zt.id]=xe);let je=xe[he.id];je===void 0&&(je={},xe[he.id]=je);let ui=je[Ce];return ui===void 0&&(ui=at(F()),je[Ce]=ui),ui}function at(zt){const he=[],Oe=[],Ce=[];for(let xe=0;xe<o;xe++)he[xe]=0,Oe[xe]=0,Ce[xe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:he,enabledAttributes:Oe,attributeDivisors:Ce,object:zt,attributes:{},index:null}}function rt(zt,he,Oe,Ce){const xe=C.attributes,je=he.attributes;let ui=0;const Pi=Oe.getAttributes();for(const Xe in Pi)if(Pi[Xe].location>=0){const Bi=xe[Xe];let ln=je[Xe];if(ln===void 0&&(Xe==="instanceMatrix"&&zt.instanceMatrix&&(ln=zt.instanceMatrix),Xe==="instanceColor"&&zt.instanceColor&&(ln=zt.instanceColor)),Bi===void 0||Bi.attribute!==ln||ln&&Bi.data!==ln.data)return!0;ui++}return C.attributesNum!==ui||C.index!==Ce}function lt(zt,he,Oe,Ce){const xe={},je=he.attributes;let ui=0;const Pi=Oe.getAttributes();for(const Xe in Pi)if(Pi[Xe].location>=0){let Bi=je[Xe];Bi===void 0&&(Xe==="instanceMatrix"&&zt.instanceMatrix&&(Bi=zt.instanceMatrix),Xe==="instanceColor"&&zt.instanceColor&&(Bi=zt.instanceColor));const ln={};ln.attribute=Bi,Bi&&Bi.data&&(ln.data=Bi.data),xe[Xe]=ln,ui++}C.attributes=xe,C.attributesNum=ui,C.index=Ce}function At(){const zt=C.newAttributes;for(let he=0,Oe=zt.length;he<Oe;he++)zt[he]=0}function ct(zt){ot(zt,0)}function ot(zt,he){const Oe=C.newAttributes,Ce=C.enabledAttributes,xe=C.attributeDivisors;Oe[zt]=1,Ce[zt]===0&&(_.enableVertexAttribArray(zt),Ce[zt]=1),xe[zt]!==he&&(_.vertexAttribDivisor(zt,he),xe[zt]=he)}function Ut(){const zt=C.newAttributes,he=C.enabledAttributes;for(let Oe=0,Ce=he.length;Oe<Ce;Oe++)he[Oe]!==zt[Oe]&&(_.disableVertexAttribArray(Oe),he[Oe]=0)}function Lt(zt,he,Oe,Ce,xe,je,ui){ui===!0?_.vertexAttribIPointer(zt,he,Oe,xe,je):_.vertexAttribPointer(zt,he,Oe,Ce,xe,je)}function Bt(zt,he,Oe,Ce){At();const xe=Ce.attributes,je=Oe.getAttributes(),ui=he.defaultAttributeValues;for(const Pi in je){const Xe=je[Pi];if(Xe.location>=0){let Ti=xe[Pi];if(Ti===void 0&&(Pi==="instanceMatrix"&&zt.instanceMatrix&&(Ti=zt.instanceMatrix),Pi==="instanceColor"&&zt.instanceColor&&(Ti=zt.instanceColor)),Ti!==void 0){const Bi=Ti.normalized,ln=Ti.itemSize,n9=n.get(Ti);if(n9===void 0)continue;const I9=n9.buffer,q9=n9.type,O9=n9.bytesPerElement,G9=q9===_.INT||q9===_.UNSIGNED_INT||Ti.gpuType===bi;if(Ti.isInterleavedBufferAttribute){const un=Ti.data,mi=un.stride,ki=Ti.offset;if(un.isInstancedInterleavedBuffer){for(let Ui=0;Ui<Xe.locationSize;Ui++)ot(Xe.location+Ui,un.meshPerAttribute);zt.isInstancedMesh!==!0&&Ce._maxInstanceCount===void 0&&(Ce._maxInstanceCount=un.meshPerAttribute*un.count)}else for(let Ui=0;Ui<Xe.locationSize;Ui++)ct(Xe.location+Ui);_.bindBuffer(_.ARRAY_BUFFER,I9);for(let Ui=0;Ui<Xe.locationSize;Ui++)Lt(Xe.location+Ui,ln/Xe.locationSize,q9,Bi,mi*O9,(ki+ln/Xe.locationSize*Ui)*O9,G9)}else{if(Ti.isInstancedBufferAttribute){for(let un=0;un<Xe.locationSize;un++)ot(Xe.location+un,Ti.meshPerAttribute);zt.isInstancedMesh!==!0&&Ce._maxInstanceCount===void 0&&(Ce._maxInstanceCount=Ti.meshPerAttribute*Ti.count)}else for(let un=0;un<Xe.locationSize;un++)ct(Xe.location+un);_.bindBuffer(_.ARRAY_BUFFER,I9);for(let un=0;un<Xe.locationSize;un++)Lt(Xe.location+un,ln/Xe.locationSize,q9,Bi,ln*O9,ln/Xe.locationSize*un*O9,G9)}}else if(ui!==void 0){const Bi=ui[Pi];if(Bi!==void 0)switch(Bi.length){case 2:_.vertexAttrib2fv(Xe.location,Bi);break;case 3:_.vertexAttrib3fv(Xe.location,Bi);break;case 4:_.vertexAttrib4fv(Xe.location,Bi);break;default:_.vertexAttrib1fv(Xe.location,Bi)}}}}Ut()}function fe(){de();for(const zt in h){const he=h[zt];for(const Oe in he){const Ce=he[Oe];for(const xe in Ce)Y(Ce[xe].object),delete Ce[xe];delete he[Oe]}delete h[zt]}}function ae(zt){if(h[zt.id]===void 0)return;const he=h[zt.id];for(const Oe in he){const Ce=he[Oe];for(const xe in Ce)Y(Ce[xe].object),delete Ce[xe];delete he[Oe]}delete h[zt.id]}function se(zt){for(const he in h){const Oe=h[he];if(Oe[zt.id]===void 0)continue;const Ce=Oe[zt.id];for(const xe in Ce)Y(Ce[xe].object),delete Ce[xe];delete Oe[zt.id]}}function de(){Xt(),T=!0,C!==g&&(C=g,V(C.object))}function Xt(){g.geometry=null,g.program=null,g.wireframe=!1}return{setup:D,reset:de,resetDefaultState:Xt,dispose:fe,releaseStatesOfGeometry:ae,releaseStatesOfProgram:se,initAttributes:At,enableAttribute:ct,disableUnusedAttributes:Ut}}function vN(_,n,o){let h;function g(V){h=V}function C(V,Y){_.drawArrays(h,V,Y),o.update(Y,h,1)}function T(V,Y,et){et!==0&&(_.drawArraysInstanced(h,V,Y,et),o.update(Y,h,et))}function D(V,Y,et){if(et===0)return;const at=n.get("WEBGL_multi_draw");if(at===null)for(let rt=0;rt<et;rt++)this.render(V[rt],Y[rt]);else{at.multiDrawArraysWEBGL(h,V,0,Y,0,et);let rt=0;for(let lt=0;lt<et;lt++)rt+=Y[lt];o.update(rt,h,1)}}function F(V,Y,et,at){if(et===0)return;const rt=n.get("WEBGL_multi_draw");if(rt===null)for(let lt=0;lt<V.length;lt++)T(V[lt],Y[lt],at[lt]);else{rt.multiDrawArraysInstancedWEBGL(h,V,0,Y,0,at,0,et);let lt=0;for(let At=0;At<et;At++)lt+=Y[At];for(let At=0;At<at.length;At++)o.update(lt,h,at[At])}}this.setMode=g,this.render=C,this.renderInstances=T,this.renderMultiDraw=D,this.renderMultiDrawInstances=F}function bN(_,n,o,h){let g;function C(){if(g!==void 0)return g;if(n.has("EXT_texture_filter_anisotropic")===!0){const ae=n.get("EXT_texture_filter_anisotropic");g=_.getParameter(ae.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else g=0;return g}function T(ae){return!(ae!==le&&h.convert(ae)!==_.getParameter(_.IMPLEMENTATION_COLOR_READ_FORMAT))}function D(ae){const se=ae===Pn&&(n.has("EXT_color_buffer_half_float")||n.has("EXT_color_buffer_float"));return!(ae!==Ke&&h.convert(ae)!==_.getParameter(_.IMPLEMENTATION_COLOR_READ_TYPE)&&ae!==$n&&!se)}function F(ae){if(ae==="highp"){if(_.getShaderPrecisionFormat(_.VERTEX_SHADER,_.HIGH_FLOAT).precision>0&&_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT).precision>0)return"highp";ae="mediump"}return ae==="mediump"&&_.getShaderPrecisionFormat(_.VERTEX_SHADER,_.MEDIUM_FLOAT).precision>0&&_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let V=o.precision!==void 0?o.precision:"highp";const Y=F(V);Y!==V&&(console.warn("THREE.WebGLRenderer:",V,"not supported, using",Y,"instead."),V=Y);const et=o.logarithmicDepthBuffer===!0,at=_.getParameter(_.MAX_TEXTURE_IMAGE_UNITS),rt=_.getParameter(_.MAX_VERTEX_TEXTURE_IMAGE_UNITS),lt=_.getParameter(_.MAX_TEXTURE_SIZE),At=_.getParameter(_.MAX_CUBE_MAP_TEXTURE_SIZE),ct=_.getParameter(_.MAX_VERTEX_ATTRIBS),ot=_.getParameter(_.MAX_VERTEX_UNIFORM_VECTORS),Ut=_.getParameter(_.MAX_VARYING_VECTORS),Lt=_.getParameter(_.MAX_FRAGMENT_UNIFORM_VECTORS),Bt=rt>0,fe=_.getParameter(_.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:C,getMaxPrecision:F,textureFormatReadable:T,textureTypeReadable:D,precision:V,logarithmicDepthBuffer:et,maxTextures:at,maxVertexTextures:rt,maxTextureSize:lt,maxCubemapSize:At,maxAttributes:ct,maxVertexUniforms:ot,maxVaryings:Ut,maxFragmentUniforms:Lt,vertexTextures:Bt,maxSamples:fe}}function CN(_){const n=this;let o=null,h=0,g=!1,C=!1;const T=new Ys,D=new Nn,F={value:null,needsUpdate:!1};this.uniform=F,this.numPlanes=0,this.numIntersection=0,this.init=function(et,at){const rt=et.length!==0||at||h!==0||g;return g=at,h=et.length,rt},this.beginShadows=function(){C=!0,Y(null)},this.endShadows=function(){C=!1},this.setGlobalState=function(et,at){o=Y(et,at,0)},this.setState=function(et,at,rt){const lt=et.clippingPlanes,At=et.clipIntersection,ct=et.clipShadows,ot=_.get(et);if(!g||lt===null||lt.length===0||C&&!ct)C?Y(null):V();else{const Ut=C?0:h,Lt=Ut*4;let Bt=ot.clippingState||null;F.value=Bt,Bt=Y(lt,at,Lt,rt);for(let fe=0;fe!==Lt;++fe)Bt[fe]=o[fe];ot.clippingState=Bt,this.numIntersection=At?this.numPlanes:0,this.numPlanes+=Ut}};function V(){F.value!==o&&(F.value=o,F.needsUpdate=h>0),n.numPlanes=h,n.numIntersection=0}function Y(et,at,rt,lt){const At=et!==null?et.length:0;let ct=null;if(At!==0){if(ct=F.value,lt!==!0||ct===null){const ot=rt+At*4,Ut=at.matrixWorldInverse;D.getNormalMatrix(Ut),(ct===null||ct.length<ot)&&(ct=new Float32Array(ot));for(let Lt=0,Bt=rt;Lt!==At;++Lt,Bt+=4)T.copy(et[Lt]).applyMatrix4(Ut,D),T.normal.toArray(ct,Bt),ct[Bt+3]=T.constant}F.value=ct,F.needsUpdate=!0}return n.numPlanes=At,n.numIntersection=0,ct}}function EN(_){let n=new WeakMap;function o(T,D){return D===Z?T.mapping=ut:D===_t&&(T.mapping=X),T}function h(T){if(T&&T.isTexture){const D=T.mapping;if(D===Z||D===_t)if(n.has(T)){const F=n.get(T).texture;return o(F,T.mapping)}else{const F=T.image;if(F&&F.height>0){const V=new KM(F.height);return V.fromEquirectangularTexture(_,T),n.set(T,V),T.addEventListener("dispose",g),o(V.texture,T.mapping)}else return null}}return T}function g(T){const D=T.target;D.removeEventListener("dispose",g);const F=n.get(D);F!==void 0&&(n.delete(D),F.dispose())}function C(){n=new WeakMap}return{get:h,dispose:C}}class C2 extends y2{constructor(n=-1,o=1,h=1,g=-1,C=.1,T=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n,this.right=o,this.top=h,this.bottom=g,this.near=C,this.far=T,this.updateProjectionMatrix()}copy(n,o){return super.copy(n,o),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=n.view===null?null:Object.assign({},n.view),this}setViewOffset(n,o,h,g,C,T){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=h,this.view.offsetY=g,this.view.width=C,this.view.height=T,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),h=(this.right+this.left)/2,g=(this.top+this.bottom)/2;let C=h-n,T=h+n,D=g+o,F=g-o;if(this.view!==null&&this.view.enabled){const V=(this.right-this.left)/this.view.fullWidth/this.zoom,Y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;C+=V*this.view.offsetX,T=C+V*this.view.width,D-=Y*this.view.offsetY,F=D-Y*this.view.height}this.projectionMatrix.makeOrthographic(C,T,D,F,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const o=super.toJSON(n);return o.object.zoom=this.zoom,o.object.left=this.left,o.object.right=this.right,o.object.top=this.top,o.object.bottom=this.bottom,o.object.near=this.near,o.object.far=this.far,this.view!==null&&(o.object.view=Object.assign({},this.view)),o}}const _u=4,XM=[.125,.215,.35,.446,.526,.582],ic=20,f8=new C2,YM=new tn;let m8=null,p8=0,g8=0,M8=!1;const nc=(1+Math.sqrt(5))/2,wu=1/nc,qM=[new ee(-nc,wu,0),new ee(nc,wu,0),new ee(-wu,0,nc),new ee(wu,0,nc),new ee(0,nc,-wu),new ee(0,nc,wu),new ee(-1,1,-1),new ee(1,1,-1),new ee(-1,1,1),new ee(1,1,1)];class A8{constructor(n){this._renderer=n,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(n,o=0,h=.1,g=100){m8=this._renderer.getRenderTarget(),p8=this._renderer.getActiveCubeFace(),g8=this._renderer.getActiveMipmapLevel(),M8=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const C=this._allocateTargets();return C.depthBuffer=!0,this._sceneToCubeUV(n,h,g,C),o>0&&this._blur(C,0,0,o),this._applyPMREM(C),this._cleanup(C),C}fromEquirectangular(n,o=null){return this._fromTexture(n,o)}fromCubemap(n,o=null){return this._fromTexture(n,o)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=tA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(n){this._lodMax=Math.floor(Math.log2(n)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let n=0;n<this._lodPlanes.length;n++)this._lodPlanes[n].dispose()}_cleanup(n){this._renderer.setRenderTarget(m8,p8,g8),this._renderer.xr.enabled=M8,n.scissorTest=!1,E2(n,0,0,n.width,n.height)}_fromTexture(n,o){n.mapping===ut||n.mapping===X?this._setSize(n.image.length===0?16:n.image[0].width||n.image[0].image.width):this._setSize(n.image.width/4),m8=this._renderer.getRenderTarget(),p8=this._renderer.getActiveCubeFace(),g8=this._renderer.getActiveMipmapLevel(),M8=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const h=o||this._allocateTargets();return this._textureToCubeUV(n,h),this._applyPMREM(h),this._cleanup(h),h}_allocateTargets(){const n=3*Math.max(this._cubeSize,112),o=4*this._cubeSize,h={magFilter:Pe,minFilter:Pe,generateMipmaps:!1,type:Pn,format:le,colorSpace:$0,depthBuffer:!1},g=ZM(n,o,h);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==n||this._pingPongRenderTarget.height!==o){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ZM(n,o,h);const{_lodMax:C}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_N(C)),this._blurMaterial=wN(C,n,o)}return g}_compileMaterial(n){const o=new Ua(this._lodPlanes[0],n);this._renderer.compile(o,f8)}_sceneToCubeUV(n,o,h,g){const D=new za(90,1,o,h),F=[1,-1,1,1,1,1],V=[1,1,1,-1,-1,-1],Y=this._renderer,et=Y.autoClear,at=Y.toneMapping;Y.getClearColor(YM),Y.toneMapping=ai,Y.autoClear=!1;const rt=new Ks({name:"PMREM.Background",side:S,depthWrite:!1,depthTest:!1}),lt=new Ua(new Zl,rt);let At=!1;const ct=n.background;ct?ct.isColor&&(rt.color.copy(ct),n.background=null,At=!0):(rt.color.copy(YM),At=!0);for(let ot=0;ot<6;ot++){const Ut=ot%3;Ut===0?(D.up.set(0,F[ot],0),D.lookAt(V[ot],0,0)):Ut===1?(D.up.set(0,0,F[ot]),D.lookAt(0,V[ot],0)):(D.up.set(0,F[ot],0),D.lookAt(0,0,V[ot]));const Lt=this._cubeSize;E2(g,Ut*Lt,ot>2?Lt:0,Lt,Lt),Y.setRenderTarget(g),At&&Y.render(lt,D),Y.render(n,D)}lt.geometry.dispose(),lt.material.dispose(),Y.toneMapping=at,Y.autoClear=et,n.background=ct}_textureToCubeUV(n,o){const h=this._renderer,g=n.mapping===ut||n.mapping===X;g?(this._cubemapMaterial===null&&(this._cubemapMaterial=eA()),this._cubemapMaterial.uniforms.flipEnvMap.value=n.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=tA());const C=g?this._cubemapMaterial:this._equirectMaterial,T=new Ua(this._lodPlanes[0],C),D=C.uniforms;D.envMap.value=n;const F=this._cubeSize;E2(o,0,0,3*F,2*F),h.setRenderTarget(o),h.render(T,f8)}_applyPMREM(n){const o=this._renderer,h=o.autoClear;o.autoClear=!1;const g=this._lodPlanes.length;for(let C=1;C<g;C++){const T=Math.sqrt(this._sigmas[C]*this._sigmas[C]-this._sigmas[C-1]*this._sigmas[C-1]),D=qM[(g-C-1)%qM.length];this._blur(n,C-1,C,T,D)}o.autoClear=h}_blur(n,o,h,g,C){const T=this._pingPongRenderTarget;this._halfBlur(n,T,o,h,g,"latitudinal",C),this._halfBlur(T,n,h,h,g,"longitudinal",C)}_halfBlur(n,o,h,g,C,T,D){const F=this._renderer,V=this._blurMaterial;T!=="latitudinal"&&T!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Y=3,et=new Ua(this._lodPlanes[g],V),at=V.uniforms,rt=this._sizeLods[h]-1,lt=isFinite(C)?Math.PI/(2*rt):2*Math.PI/(2*ic-1),At=C/lt,ct=isFinite(C)?1+Math.floor(Y*At):ic;ct>ic&&console.warn(`sigmaRadians, ${C}, is too large and will clip, as it requested ${ct} samples when the maximum is set to ${ic}`);const ot=[];let Ut=0;for(let se=0;se<ic;++se){const de=se/At,Xt=Math.exp(-de*de/2);ot.push(Xt),se===0?Ut+=Xt:se<ct&&(Ut+=2*Xt)}for(let se=0;se<ot.length;se++)ot[se]=ot[se]/Ut;at.envMap.value=n.texture,at.samples.value=ct,at.weights.value=ot,at.latitudinal.value=T==="latitudinal",D&&(at.poleAxis.value=D);const{_lodMax:Lt}=this;at.dTheta.value=lt,at.mipInt.value=Lt-h;const Bt=this._sizeLods[g],fe=3*Bt*(g>Lt-_u?g-Lt+_u:0),ae=4*(this._cubeSize-Bt);E2(o,fe,ae,3*Bt,2*Bt),F.setRenderTarget(o),F.render(et,f8)}}function _N(_){const n=[],o=[],h=[];let g=_;const C=_-_u+1+XM.length;for(let T=0;T<C;T++){const D=Math.pow(2,g);o.push(D);let F=1/D;T>_-_u?F=XM[T-_+_u-1]:T===0&&(F=0),h.push(F);const V=1/(D-2),Y=-V,et=1+V,at=[Y,Y,et,Y,et,et,Y,Y,et,et,Y,et],rt=6,lt=6,At=3,ct=2,ot=1,Ut=new Float32Array(At*lt*rt),Lt=new Float32Array(ct*lt*rt),Bt=new Float32Array(ot*lt*rt);for(let ae=0;ae<rt;ae++){const se=ae%3*2/3-1,de=ae>2?0:-1,Xt=[se,de,0,se+2/3,de,0,se+2/3,de+1,0,se,de,0,se+2/3,de+1,0,se,de+1,0];Ut.set(Xt,At*lt*ae),Lt.set(at,ct*lt*ae);const zt=[ae,ae,ae,ae,ae,ae];Bt.set(zt,ot*lt*ae)}const fe=new i9;fe.setAttribute("position",new F9(Ut,At)),fe.setAttribute("uv",new F9(Lt,ct)),fe.setAttribute("faceIndex",new F9(Bt,ot)),n.push(fe),g>_u&&g--}return{lodPlanes:n,sizeLods:o,sigmas:h}}function ZM(_,n,o){const h=new zr(_,n,o);return h.texture.mapping=Gt,h.texture.name="PMREM.cubeUv",h.scissorTest=!0,h}function E2(_,n,o,h,g){_.viewport.set(n,o,h,g),_.scissor.set(n,o,h,g)}function wN(_,n,o){const h=new Float32Array(ic),g=new ee(0,1,0);return new H0({name:"SphericalGaussianBlur",defines:{n:ic,CUBEUV_TEXEL_WIDTH:1/n,CUBEUV_TEXEL_HEIGHT:1/o,CUBEUV_MAX_MIP:`${_}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:h},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:g}},vertexShader:y8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:I,depthTest:!1,depthWrite:!1})}function tA(){return new H0({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:y8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:I,depthTest:!1,depthWrite:!1})}function eA(){return new H0({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:y8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:I,depthTest:!1,depthWrite:!1})}function y8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ON(_){let n=new WeakMap,o=null;function h(D){if(D&&D.isTexture){const F=D.mapping,V=F===Z||F===_t,Y=F===ut||F===X;if(V||Y){let et=n.get(D);const at=et!==void 0?et.texture.pmremVersion:0;if(D.isRenderTargetTexture&&D.pmremVersion!==at)return o===null&&(o=new A8(_)),et=V?o.fromEquirectangular(D,et):o.fromCubemap(D,et),et.texture.pmremVersion=D.pmremVersion,n.set(D,et),et.texture;if(et!==void 0)return et.texture;{const rt=D.image;return V&&rt&&rt.height>0||Y&&rt&&g(rt)?(o===null&&(o=new A8(_)),et=V?o.fromEquirectangular(D):o.fromCubemap(D),et.texture.pmremVersion=D.pmremVersion,n.set(D,et),D.addEventListener("dispose",C),et.texture):null}}}return D}function g(D){let F=0;const V=6;for(let Y=0;Y<V;Y++)D[Y]!==void 0&&F++;return F===V}function C(D){const F=D.target;F.removeEventListener("dispose",C);const V=n.get(F);V!==void 0&&(n.delete(F),V.dispose())}function T(){n=new WeakMap,o!==null&&(o.dispose(),o=null)}return{get:h,dispose:T}}function xN(_){const n={};function o(h){if(n[h]!==void 0)return n[h];let g;switch(h){case"WEBGL_depth_texture":g=_.getExtension("WEBGL_depth_texture")||_.getExtension("MOZ_WEBGL_depth_texture")||_.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":g=_.getExtension("EXT_texture_filter_anisotropic")||_.getExtension("MOZ_EXT_texture_filter_anisotropic")||_.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":g=_.getExtension("WEBGL_compressed_texture_s3tc")||_.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||_.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":g=_.getExtension("WEBGL_compressed_texture_pvrtc")||_.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:g=_.getExtension(h)}return n[h]=g,g}return{has:function(h){return o(h)!==null},init:function(){o("EXT_color_buffer_float"),o("WEBGL_clip_cull_distance"),o("OES_texture_float_linear"),o("EXT_color_buffer_half_float"),o("WEBGL_multisampled_render_to_texture"),o("WEBGL_render_shared_exponent")},get:function(h){const g=o(h);return g===null&&console.warn("THREE.WebGLRenderer: "+h+" extension not supported."),g}}}function SN(_,n,o,h){const g={},C=new WeakMap;function T(et){const at=et.target;at.index!==null&&n.remove(at.index);for(const lt in at.attributes)n.remove(at.attributes[lt]);for(const lt in at.morphAttributes){const At=at.morphAttributes[lt];for(let ct=0,ot=At.length;ct<ot;ct++)n.remove(At[ct])}at.removeEventListener("dispose",T),delete g[at.id];const rt=C.get(at);rt&&(n.remove(rt),C.delete(at)),h.releaseStatesOfGeometry(at),at.isInstancedBufferGeometry===!0&&delete at._maxInstanceCount,o.memory.geometries--}function D(et,at){return g[at.id]===!0||(at.addEventListener("dispose",T),g[at.id]=!0,o.memory.geometries++),at}function F(et){const at=et.attributes;for(const lt in at)n.update(at[lt],_.ARRAY_BUFFER);const rt=et.morphAttributes;for(const lt in rt){const At=rt[lt];for(let ct=0,ot=At.length;ct<ot;ct++)n.update(At[ct],_.ARRAY_BUFFER)}}function V(et){const at=[],rt=et.index,lt=et.attributes.position;let At=0;if(rt!==null){const Ut=rt.array;At=rt.version;for(let Lt=0,Bt=Ut.length;Lt<Bt;Lt+=3){const fe=Ut[Lt+0],ae=Ut[Lt+1],se=Ut[Lt+2];at.push(fe,ae,ae,se,se,fe)}}else if(lt!==void 0){const Ut=lt.array;At=lt.version;for(let Lt=0,Bt=Ut.length/3-1;Lt<Bt;Lt+=3){const fe=Lt+0,ae=Lt+1,se=Lt+2;at.push(fe,ae,ae,se,se,fe)}}else return;const ct=new(q1(at)?l8:s8)(at,1);ct.version=At;const ot=C.get(et);ot&&n.remove(ot),C.set(et,ct)}function Y(et){const at=C.get(et);if(at){const rt=et.index;rt!==null&&at.version<rt.version&&V(et)}else V(et);return C.get(et)}return{get:D,update:F,getWireframeAttribute:Y}}function TN(_,n,o){let h;function g(at){h=at}let C,T;function D(at){C=at.type,T=at.bytesPerElement}function F(at,rt){_.drawElements(h,rt,C,at*T),o.update(rt,h,1)}function V(at,rt,lt){lt!==0&&(_.drawElementsInstanced(h,rt,C,at*T,lt),o.update(rt,h,lt))}function Y(at,rt,lt){if(lt===0)return;const At=n.get("WEBGL_multi_draw");if(At===null)for(let ct=0;ct<lt;ct++)this.render(at[ct]/T,rt[ct]);else{At.multiDrawElementsWEBGL(h,rt,0,C,at,0,lt);let ct=0;for(let ot=0;ot<lt;ot++)ct+=rt[ot];o.update(ct,h,1)}}function et(at,rt,lt,At){if(lt===0)return;const ct=n.get("WEBGL_multi_draw");if(ct===null)for(let ot=0;ot<at.length;ot++)V(at[ot]/T,rt[ot],At[ot]);else{ct.multiDrawElementsInstancedWEBGL(h,rt,0,C,at,0,At,0,lt);let ot=0;for(let Ut=0;Ut<lt;Ut++)ot+=rt[Ut];for(let Ut=0;Ut<At.length;Ut++)o.update(ot,h,At[Ut])}}this.setMode=g,this.setIndex=D,this.render=F,this.renderInstances=V,this.renderMultiDraw=Y,this.renderMultiDrawInstances=et}function IN(_){const n={geometries:0,textures:0},o={frame:0,calls:0,triangles:0,points:0,lines:0};function h(C,T,D){switch(o.calls++,T){case _.TRIANGLES:o.triangles+=D*(C/3);break;case _.LINES:o.lines+=D*(C/2);break;case _.LINE_STRIP:o.lines+=D*(C-1);break;case _.LINE_LOOP:o.lines+=D*C;break;case _.POINTS:o.points+=D*C;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",T);break}}function g(){o.calls=0,o.triangles=0,o.points=0,o.lines=0}return{memory:n,render:o,programs:null,autoReset:!0,reset:g,update:h}}function BN(_,n,o){const h=new WeakMap,g=new C9;function C(T,D,F){const V=T.morphTargetInfluences,Y=D.morphAttributes.position||D.morphAttributes.normal||D.morphAttributes.color,et=Y!==void 0?Y.length:0;let at=h.get(D);if(at===void 0||at.count!==et){let rt=function(){de.dispose(),h.delete(D),D.removeEventListener("dispose",rt)};at!==void 0&&at.texture.dispose();const lt=D.morphAttributes.position!==void 0,At=D.morphAttributes.normal!==void 0,ct=D.morphAttributes.color!==void 0,ot=D.morphAttributes.position||[],Ut=D.morphAttributes.normal||[],Lt=D.morphAttributes.color||[];let Bt=0;lt===!0&&(Bt=1),At===!0&&(Bt=2),ct===!0&&(Bt=3);let fe=D.attributes.position.count*Bt,ae=1;fe>n.maxTextureSize&&(ae=Math.ceil(fe/n.maxTextureSize),fe=n.maxTextureSize);const se=new Float32Array(fe*ae*4*et),de=new su(se,fe,ae,et);de.type=$n,de.needsUpdate=!0;const Xt=Bt*4;for(let zt=0;zt<et;zt++){const he=ot[zt],Oe=Ut[zt],Ce=Lt[zt],xe=fe*ae*4*zt;for(let je=0;je<he.count;je++){const ui=je*Xt;lt===!0&&(g.fromBufferAttribute(he,je),se[xe+ui+0]=g.x,se[xe+ui+1]=g.y,se[xe+ui+2]=g.z,se[xe+ui+3]=0),At===!0&&(g.fromBufferAttribute(Oe,je),se[xe+ui+4]=g.x,se[xe+ui+5]=g.y,se[xe+ui+6]=g.z,se[xe+ui+7]=0),ct===!0&&(g.fromBufferAttribute(Ce,je),se[xe+ui+8]=g.x,se[xe+ui+9]=g.y,se[xe+ui+10]=g.z,se[xe+ui+11]=Ce.itemSize===4?g.w:1)}}at={count:et,texture:de,size:new hi(fe,ae)},h.set(D,at),D.addEventListener("dispose",rt)}if(T.isInstancedMesh===!0&&T.morphTexture!==null)F.getUniforms().setValue(_,"morphTexture",T.morphTexture,o);else{let rt=0;for(let At=0;At<V.length;At++)rt+=V[At];const lt=D.morphTargetsRelative?1:1-rt;F.getUniforms().setValue(_,"morphTargetBaseInfluence",lt),F.getUniforms().setValue(_,"morphTargetInfluences",V)}F.getUniforms().setValue(_,"morphTargetsTexture",at.texture,o),F.getUniforms().setValue(_,"morphTargetsTextureSize",at.size)}return{update:C}}class RN{constructor(n,o,h){if(this.renderer=n,this.DEFAULT_NUMVIEWS=2,this.maxNumViews=0,this.gl=h,this.extensions=o,this.available=this.extensions.has("OCULUS_multiview"),this.available){const C=this.extensions.get("OCULUS_multiview");this.maxNumViews=this.gl.getParameter(C.MAX_VIEWS_OVR),this.mat4=[],this.mat3=[],this.cameraArray=[];for(var g=0;g<this.maxNumViews;g++)this.mat4[g]=new cn,this.mat3[g]=new Nn}}getCameraArray(n){return n.isArrayCamera?n.cameras:(this.cameraArray[0]=n,this.cameraArray)}updateCameraProjectionMatricesUniform(n,o){for(var h=this.getCameraArray(n),g=0;g<h.length;g++)this.mat4[g].copy(h[g].projectionMatrix);o.setValue(this.gl,"projectionMatrices",this.mat4)}updateCameraViewMatricesUniform(n,o){for(var h=this.getCameraArray(n),g=0;g<h.length;g++)this.mat4[g].copy(h[g].matrixWorldInverse);o.setValue(this.gl,"viewMatrices",this.mat4)}updateObjectMatricesUniforms(n,o,h){for(var g=this.getCameraArray(o),C=0;C<g.length;C++)this.mat4[C].multiplyMatrices(g[C].matrixWorldInverse,n.matrixWorld),this.mat3[C].getNormalMatrix(this.mat4[C]);h.setValue(this.gl,"modelViewMatrices",this.mat4),h.setValue(this.gl,"normalMatrices",this.mat3)}}function DN(_,n,o,h){let g=new WeakMap;function C(F){const V=h.render.frame,Y=F.geometry,et=n.get(F,Y);if(g.get(et)!==V&&(n.update(et),g.set(et,V)),F.isInstancedMesh&&(F.hasEventListener("dispose",D)===!1&&F.addEventListener("dispose",D),g.get(F)!==V&&(o.update(F.instanceMatrix,_.ARRAY_BUFFER),F.instanceColor!==null&&o.update(F.instanceColor,_.ARRAY_BUFFER),g.set(F,V))),F.isSkinnedMesh){const at=F.skeleton;g.get(at)!==V&&(at.update(),g.set(at,V))}return et}function T(){g=new WeakMap}function D(F){const V=F.target;V.removeEventListener("dispose",D),o.remove(V.instanceMatrix),V.instanceColor!==null&&o.remove(V.instanceColor)}return{update:C,dispose:T}}class v8 extends K9{constructor(n,o,h,g,C,T,D,F,V,Y){if(Y=Y!==void 0?Y:Le,Y!==Le&&Y!==oi)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");h===void 0&&Y===Le&&(h=on),h===void 0&&Y===oi&&(h=va),super(null,g,C,T,D,F,Y,h,V),this.isDepthTexture=!0,this.image={width:n,height:o},this.magFilter=D!==void 0?D:Fe,this.minFilter=F!==void 0?F:Fe,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(n){return super.copy(n),this.compareFunction=n.compareFunction,this}toJSON(n){const o=super.toJSON(n);return this.compareFunction!==null&&(o.compareFunction=this.compareFunction),o}}const iA=new K9,nA=new v8(1,1);nA.compareFunction=qd;const aA=new su,rA=new Fn,oA=new lh,sA=[],lA=[],cA=new Float32Array(16),uA=new Float32Array(9),dA=new Float32Array(4);function Ou(_,n,o){const h=_[0];if(h<=0||h>0)return _;const g=n*o;let C=sA[g];if(C===void 0&&(C=new Float32Array(g),sA[g]=C),n!==0){h.toArray(C,0);for(let T=1,D=0;T!==n;++T)D+=o,_[T].toArray(C,D)}return C}function Ja(_,n){if(_.length!==n.length)return!1;for(let o=0,h=_.length;o<h;o++)if(_[o]!==n[o])return!1;return!0}function ja(_,n){for(let o=0,h=n.length;o<h;o++)_[o]=n[o]}function _2(_,n){let o=lA[n];o===void 0&&(o=new Int32Array(n),lA[n]=o);for(let h=0;h!==n;++h)o[h]=_.allocateTextureUnit();return o}function PN(_,n){const o=this.cache;o[0]!==n&&(_.uniform1f(this.addr,n),o[0]=n)}function LN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y)&&(_.uniform2f(this.addr,n.x,n.y),o[0]=n.x,o[1]=n.y);else{if(Ja(o,n))return;_.uniform2fv(this.addr,n),ja(o,n)}}function kN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y||o[2]!==n.z)&&(_.uniform3f(this.addr,n.x,n.y,n.z),o[0]=n.x,o[1]=n.y,o[2]=n.z);else if(n.r!==void 0)(o[0]!==n.r||o[1]!==n.g||o[2]!==n.b)&&(_.uniform3f(this.addr,n.r,n.g,n.b),o[0]=n.r,o[1]=n.g,o[2]=n.b);else{if(Ja(o,n))return;_.uniform3fv(this.addr,n),ja(o,n)}}function NN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y||o[2]!==n.z||o[3]!==n.w)&&(_.uniform4f(this.addr,n.x,n.y,n.z,n.w),o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=n.w);else{if(Ja(o,n))return;_.uniform4fv(this.addr,n),ja(o,n)}}function FN(_,n){const o=this.cache,h=n.elements;if(h===void 0){if(Ja(o,n))return;_.uniformMatrix2fv(this.addr,!1,n),ja(o,n)}else{if(Ja(o,h))return;dA.set(h),_.uniformMatrix2fv(this.addr,!1,dA),ja(o,h)}}function UN(_,n){const o=this.cache,h=n.elements;if(h===void 0){if(Ja(o,n))return;_.uniformMatrix3fv(this.addr,!1,n),ja(o,n)}else{if(Ja(o,h))return;uA.set(h),_.uniformMatrix3fv(this.addr,!1,uA),ja(o,h)}}function $N(_,n){const o=this.cache,h=n.elements;if(h===void 0){if(Ja(o,n))return;_.uniformMatrix4fv(this.addr,!1,n),ja(o,n)}else{if(Ja(o,h))return;cA.set(h),_.uniformMatrix4fv(this.addr,!1,cA),ja(o,h)}}function GN(_,n){const o=this.cache;o[0]!==n&&(_.uniform1i(this.addr,n),o[0]=n)}function HN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y)&&(_.uniform2i(this.addr,n.x,n.y),o[0]=n.x,o[1]=n.y);else{if(Ja(o,n))return;_.uniform2iv(this.addr,n),ja(o,n)}}function VN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y||o[2]!==n.z)&&(_.uniform3i(this.addr,n.x,n.y,n.z),o[0]=n.x,o[1]=n.y,o[2]=n.z);else{if(Ja(o,n))return;_.uniform3iv(this.addr,n),ja(o,n)}}function QN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y||o[2]!==n.z||o[3]!==n.w)&&(_.uniform4i(this.addr,n.x,n.y,n.z,n.w),o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=n.w);else{if(Ja(o,n))return;_.uniform4iv(this.addr,n),ja(o,n)}}function zN(_,n){const o=this.cache;o[0]!==n&&(_.uniform1ui(this.addr,n),o[0]=n)}function JN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y)&&(_.uniform2ui(this.addr,n.x,n.y),o[0]=n.x,o[1]=n.y);else{if(Ja(o,n))return;_.uniform2uiv(this.addr,n),ja(o,n)}}function jN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y||o[2]!==n.z)&&(_.uniform3ui(this.addr,n.x,n.y,n.z),o[0]=n.x,o[1]=n.y,o[2]=n.z);else{if(Ja(o,n))return;_.uniform3uiv(this.addr,n),ja(o,n)}}function WN(_,n){const o=this.cache;if(n.x!==void 0)(o[0]!==n.x||o[1]!==n.y||o[2]!==n.z||o[3]!==n.w)&&(_.uniform4ui(this.addr,n.x,n.y,n.z,n.w),o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=n.w);else{if(Ja(o,n))return;_.uniform4uiv(this.addr,n),ja(o,n)}}function KN(_,n,o){const h=this.cache,g=o.allocateTextureUnit();h[0]!==g&&(_.uniform1i(this.addr,g),h[0]=g);const C=this.type===_.SAMPLER_2D_SHADOW?nA:iA;o.setTexture2D(n||C,g)}function XN(_,n,o){const h=this.cache,g=o.allocateTextureUnit();h[0]!==g&&(_.uniform1i(this.addr,g),h[0]=g),o.setTexture3D(n||rA,g)}function YN(_,n,o){const h=this.cache,g=o.allocateTextureUnit();h[0]!==g&&(_.uniform1i(this.addr,g),h[0]=g),o.setTextureCube(n||oA,g)}function qN(_,n,o){const h=this.cache,g=o.allocateTextureUnit();h[0]!==g&&(_.uniform1i(this.addr,g),h[0]=g),o.setTexture2DArray(n||aA,g)}function ZN(_){switch(_){case 5126:return PN;case 35664:return LN;case 35665:return kN;case 35666:return NN;case 35674:return FN;case 35675:return UN;case 35676:return $N;case 5124:case 35670:return GN;case 35667:case 35671:return HN;case 35668:case 35672:return VN;case 35669:case 35673:return QN;case 5125:return zN;case 36294:return JN;case 36295:return jN;case 36296:return WN;case 35678:case 36198:case 36298:case 36306:case 35682:return KN;case 35679:case 36299:case 36307:return XN;case 35680:case 36300:case 36308:case 36293:return YN;case 36289:case 36303:case 36311:case 36292:return qN}}function tF(_,n){_.uniform1fv(this.addr,n)}function eF(_,n){const o=Ou(n,this.size,2);_.uniform2fv(this.addr,o)}function iF(_,n){const o=Ou(n,this.size,3);_.uniform3fv(this.addr,o)}function nF(_,n){const o=Ou(n,this.size,4);_.uniform4fv(this.addr,o)}function aF(_,n){const o=Ou(n,this.size,4);_.uniformMatrix2fv(this.addr,!1,o)}function rF(_,n){const o=Ou(n,this.size,9);_.uniformMatrix3fv(this.addr,!1,o)}function oF(_,n){const o=Ou(n,this.size,16);_.uniformMatrix4fv(this.addr,!1,o)}function sF(_,n){_.uniform1iv(this.addr,n)}function lF(_,n){_.uniform2iv(this.addr,n)}function cF(_,n){_.uniform3iv(this.addr,n)}function uF(_,n){_.uniform4iv(this.addr,n)}function dF(_,n){_.uniform1uiv(this.addr,n)}function hF(_,n){_.uniform2uiv(this.addr,n)}function fF(_,n){_.uniform3uiv(this.addr,n)}function mF(_,n){_.uniform4uiv(this.addr,n)}function pF(_,n,o){const h=this.cache,g=n.length,C=_2(o,g);Ja(h,C)||(_.uniform1iv(this.addr,C),ja(h,C));for(let T=0;T!==g;++T)o.setTexture2D(n[T]||iA,C[T])}function gF(_,n,o){const h=this.cache,g=n.length,C=_2(o,g);Ja(h,C)||(_.uniform1iv(this.addr,C),ja(h,C));for(let T=0;T!==g;++T)o.setTexture3D(n[T]||rA,C[T])}function MF(_,n,o){const h=this.cache,g=n.length,C=_2(o,g);Ja(h,C)||(_.uniform1iv(this.addr,C),ja(h,C));for(let T=0;T!==g;++T)o.setTextureCube(n[T]||oA,C[T])}function AF(_,n,o){const h=this.cache,g=n.length,C=_2(o,g);Ja(h,C)||(_.uniform1iv(this.addr,C),ja(h,C));for(let T=0;T!==g;++T)o.setTexture2DArray(n[T]||aA,C[T])}function yF(_){switch(_){case 5126:return tF;case 35664:return eF;case 35665:return iF;case 35666:return nF;case 35674:return aF;case 35675:return rF;case 35676:return oF;case 5124:case 35670:return sF;case 35667:case 35671:return lF;case 35668:case 35672:return cF;case 35669:case 35673:return uF;case 5125:return dF;case 36294:return hF;case 36295:return fF;case 36296:return mF;case 35678:case 36198:case 36298:case 36306:case 35682:return pF;case 35679:case 36299:case 36307:return gF;case 35680:case 36300:case 36308:case 36293:return MF;case 36289:case 36303:case 36311:case 36292:return AF}}class vF{constructor(n,o,h){this.id=n,this.addr=h,this.cache=[],this.type=o.type,this.setValue=ZN(o.type)}}class bF{constructor(n,o,h){this.id=n,this.addr=h,this.cache=[],this.type=o.type,this.size=o.size,this.setValue=yF(o.type)}}class CF{constructor(n){this.id=n,this.seq=[],this.map={}}setValue(n,o,h){const g=this.seq;for(let C=0,T=g.length;C!==T;++C){const D=g[C];D.setValue(n,o[D.id],h)}}}const b8=/(\w+)(\])?(\[|\.)?/g;function hA(_,n){_.seq.push(n),_.map[n.id]=n}function EF(_,n,o){const h=_.name,g=h.length;for(b8.lastIndex=0;;){const C=b8.exec(h),T=b8.lastIndex;let D=C[1];const F=C[2]==="]",V=C[3];if(F&&(D=D|0),V===void 0||V==="["&&T+2===g){hA(o,V===void 0?new vF(D,_,n):new bF(D,_,n));break}else{let et=o.map[D];et===void 0&&(et=new CF(D),hA(o,et)),o=et}}}class w2{constructor(n,o){this.seq=[],this.map={};const h=n.getProgramParameter(o,n.ACTIVE_UNIFORMS);for(let g=0;g<h;++g){const C=n.getActiveUniform(o,g),T=n.getUniformLocation(o,C.name);EF(C,T,this)}}setValue(n,o,h,g){const C=this.map[o];C!==void 0&&C.setValue(n,h,g)}setOptional(n,o,h){const g=o[h];g!==void 0&&this.setValue(n,h,g)}static upload(n,o,h,g){for(let C=0,T=o.length;C!==T;++C){const D=o[C],F=h[D.id];F.needsUpdate!==!1&&D.setValue(n,F.value,g)}}static seqWithValue(n,o){const h=[];for(let g=0,C=n.length;g!==C;++g){const T=n[g];T.id in o&&h.push(T)}return h}}function fA(_,n,o){const h=_.createShader(n);return _.shaderSource(h,o),_.compileShader(h),h}const _F=37297;let wF=0;function OF(_,n){const o=_.split(`
`),h=[],g=Math.max(n-6,0),C=Math.min(n+6,o.length);for(let T=g;T<C;T++){const D=T+1;h.push(`${D===n?">":" "} ${D}: ${o[T]}`)}return h.join(`
`)}function xF(_){const n=T9.getPrimaries(T9.workingColorSpace),o=T9.getPrimaries(_);let h;switch(n===o?h="":n===jl&&o===Jl?h="LinearDisplayP3ToLinearSRGB":n===Jl&&o===jl&&(h="LinearSRGBToLinearDisplayP3"),_){case $0:case Ql:return[h,"LinearTransferOETF"];case y9:case nu:return[h,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",_),[h,"LinearTransferOETF"]}}function mA(_,n,o){const h=_.getShaderParameter(n,_.COMPILE_STATUS),g=_.getShaderInfoLog(n).trim();if(h&&g==="")return"";const C=/ERROR: 0:(\d+)/.exec(g);if(C){const T=parseInt(C[1]);return o.toUpperCase()+`

`+g+`

`+OF(_.getShaderSource(n),T)}else return g}function SF(_,n){const o=xF(n);return`vec4 ${_}( vec4 value ) { return ${o[0]}( ${o[1]}( value ) ); }`}function TF(_,n){let o;switch(n){case ti:o="Linear";break;case be:o="Reinhard";break;case ye:o="OptimizedCineon";break;case ne:o="ACESFilmic";break;case yt:o="AgX";break;case Ht:o="Neutral";break;case Et:o="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),o="Linear"}return"vec3 "+_+"( vec3 color ) { return "+o+"ToneMapping( color ); }"}function IF(_){return[_.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",_.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(uh).join(`
`)}function BF(_){const n=[];for(const o in _){const h=_[o];h!==!1&&n.push("#define "+o+" "+h)}return n.join(`
`)}function RF(_,n){const o={},h=_.getProgramParameter(n,_.ACTIVE_ATTRIBUTES);for(let g=0;g<h;g++){const C=_.getActiveAttrib(n,g),T=C.name;let D=1;C.type===_.FLOAT_MAT2&&(D=2),C.type===_.FLOAT_MAT3&&(D=3),C.type===_.FLOAT_MAT4&&(D=4),o[T]={type:C.type,location:_.getAttribLocation(n,T),locationSize:D}}return o}function uh(_){return _!==""}function pA(_,n){const o=n.numSpotLightShadows+n.numSpotLightMaps-n.numSpotLightShadowsWithMaps;return _.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,n.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,o).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,n.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function gA(_,n){return _.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}const DF=/^[ \t]*#include +<([\w\d./]+)>/gm;function C8(_){return _.replace(DF,LF)}const PF=new Map;function LF(_,n){let o=qn[n];if(o===void 0){const h=PF.get(n);if(h!==void 0)o=qn[h],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',n,h);else throw new Error("Can not resolve #include <"+n+">")}return C8(o)}const kF=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function MA(_){return _.replace(kF,NF)}function NF(_,n,o,h){let g="";for(let C=parseInt(n);C<parseInt(o);C++)g+=h.replace(/\[\s*i\s*\]/g,"[ "+C+" ]").replace(/UNROLLED_LOOP_INDEX/g,C);return g}function AA(_){let n=`precision ${_.precision} float;
	precision ${_.precision} int;
	precision ${_.precision} sampler2D;
	precision ${_.precision} samplerCube;
	precision ${_.precision} sampler3D;
	precision ${_.precision} sampler2DArray;
	precision ${_.precision} sampler2DShadow;
	precision ${_.precision} samplerCubeShadow;
	precision ${_.precision} sampler2DArrayShadow;
	precision ${_.precision} isampler2D;
	precision ${_.precision} isampler3D;
	precision ${_.precision} isamplerCube;
	precision ${_.precision} isampler2DArray;
	precision ${_.precision} usampler2D;
	precision ${_.precision} usampler3D;
	precision ${_.precision} usamplerCube;
	precision ${_.precision} usampler2DArray;
	`;return _.precision==="highp"?n+=`
#define HIGH_PRECISION`:_.precision==="mediump"?n+=`
#define MEDIUM_PRECISION`:_.precision==="lowp"&&(n+=`
#define LOW_PRECISION`),n}function FF(_){let n="SHADOWMAP_TYPE_BASIC";return _.shadowMapType===w?n="SHADOWMAP_TYPE_PCF":_.shadowMapType===x?n="SHADOWMAP_TYPE_PCF_SOFT":_.shadowMapType===b&&(n="SHADOWMAP_TYPE_VSM"),n}function UF(_){let n="ENVMAP_TYPE_CUBE";if(_.envMap)switch(_.envMapMode){case ut:case X:n="ENVMAP_TYPE_CUBE";break;case Gt:n="ENVMAP_TYPE_CUBE_UV";break}return n}function $F(_){let n="ENVMAP_MODE_REFLECTION";if(_.envMap)switch(_.envMapMode){case X:n="ENVMAP_MODE_REFRACTION";break}return n}function GF(_){let n="ENVMAP_BLENDING_NONE";if(_.envMap)switch(_.combine){case ni:n="ENVMAP_BLENDING_MULTIPLY";break;case ei:n="ENVMAP_BLENDING_MIX";break;case Ci:n="ENVMAP_BLENDING_ADD";break}return n}function HF(_){const n=_.envMapCubeUVHeight;if(n===null)return null;const o=Math.log2(n)-2,h=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,o),7*16)),texelHeight:h,maxMip:o}}function VF(_,n,o,h){const g=_.getContext(),C=o.defines;let T=o.vertexShader,D=o.fragmentShader;const F=FF(o),V=UF(o),Y=$F(o),et=GF(o),at=HF(o),rt=IF(o),lt=BF(C),At=g.createProgram();let ct,ot,Ut=o.glslVersion?"#version "+o.glslVersion+`
`:"";const Lt=o.numMultiviewViews;o.isRawShaderMaterial?(ct=["#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,lt].filter(uh).join(`
`),ct.length>0&&(ct+=`
`),ot=["#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,lt].filter(uh).join(`
`),ot.length>0&&(ot+=`
`)):(ct=[AA(o),"#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,lt,o.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",o.batching?"#define USE_BATCHING":"",o.instancing?"#define USE_INSTANCING":"",o.instancingColor?"#define USE_INSTANCING_COLOR":"",o.instancingMorph?"#define USE_INSTANCING_MORPH":"",o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+Y:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",o.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",o.displacementMap?"#define USE_DISPLACEMENTMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.anisotropy?"#define USE_ANISOTROPY":"",o.anisotropyMap?"#define USE_ANISOTROPYMAP":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",o.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",o.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.alphaHash?"#define USE_ALPHAHASH":"",o.transmission?"#define USE_TRANSMISSION":"",o.transmissionMap?"#define USE_TRANSMISSIONMAP":"",o.thicknessMap?"#define USE_THICKNESSMAP":"",o.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",o.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",o.mapUv?"#define MAP_UV "+o.mapUv:"",o.alphaMapUv?"#define ALPHAMAP_UV "+o.alphaMapUv:"",o.lightMapUv?"#define LIGHTMAP_UV "+o.lightMapUv:"",o.aoMapUv?"#define AOMAP_UV "+o.aoMapUv:"",o.emissiveMapUv?"#define EMISSIVEMAP_UV "+o.emissiveMapUv:"",o.bumpMapUv?"#define BUMPMAP_UV "+o.bumpMapUv:"",o.normalMapUv?"#define NORMALMAP_UV "+o.normalMapUv:"",o.displacementMapUv?"#define DISPLACEMENTMAP_UV "+o.displacementMapUv:"",o.metalnessMapUv?"#define METALNESSMAP_UV "+o.metalnessMapUv:"",o.roughnessMapUv?"#define ROUGHNESSMAP_UV "+o.roughnessMapUv:"",o.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+o.anisotropyMapUv:"",o.clearcoatMapUv?"#define CLEARCOATMAP_UV "+o.clearcoatMapUv:"",o.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+o.clearcoatNormalMapUv:"",o.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+o.clearcoatRoughnessMapUv:"",o.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+o.iridescenceMapUv:"",o.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+o.iridescenceThicknessMapUv:"",o.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+o.sheenColorMapUv:"",o.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+o.sheenRoughnessMapUv:"",o.specularMapUv?"#define SPECULARMAP_UV "+o.specularMapUv:"",o.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+o.specularColorMapUv:"",o.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+o.specularIntensityMapUv:"",o.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+o.transmissionMapUv:"",o.thicknessMapUv?"#define THICKNESSMAP_UV "+o.thicknessMapUv:"",o.vertexTangents&&o.flatShading===!1?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexAlphas?"#define USE_COLOR_ALPHA":"",o.vertexUv1s?"#define USE_UV1":"",o.vertexUv2s?"#define USE_UV2":"",o.vertexUv3s?"#define USE_UV3":"",o.pointsUvs?"#define USE_POINTS_UV":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&o.flatShading===!1?"#define USE_MORPHNORMALS":"",o.morphColors?"#define USE_MORPHCOLORS":"",o.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",o.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+o.morphTextureStride:"",o.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+o.morphTargetsCount:"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+F:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.numLightProbes>0?"#define USE_LIGHT_PROBES":"",o.useLegacyLights?"#define LEGACY_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(uh).join(`
`),ot=[AA(o),"#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,lt,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+V:"",o.envMap?"#define "+Y:"",o.envMap?"#define "+et:"",at?"#define CUBEUV_TEXEL_WIDTH "+at.texelWidth:"",at?"#define CUBEUV_TEXEL_HEIGHT "+at.texelHeight:"",at?"#define CUBEUV_MAX_MIP "+at.maxMip+".0":"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",o.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.anisotropy?"#define USE_ANISOTROPY":"",o.anisotropyMap?"#define USE_ANISOTROPYMAP":"",o.clearcoat?"#define USE_CLEARCOAT":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.dispersion?"#define USE_DISPERSION":"",o.iridescence?"#define USE_IRIDESCENCE":"",o.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",o.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",o.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.alphaTest?"#define USE_ALPHATEST":"",o.alphaHash?"#define USE_ALPHAHASH":"",o.sheen?"#define USE_SHEEN":"",o.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",o.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",o.transmission?"#define USE_TRANSMISSION":"",o.transmissionMap?"#define USE_TRANSMISSIONMAP":"",o.thicknessMap?"#define USE_THICKNESSMAP":"",o.vertexTangents&&o.flatShading===!1?"#define USE_TANGENT":"",o.vertexColors||o.instancingColor?"#define USE_COLOR":"",o.vertexAlphas?"#define USE_COLOR_ALPHA":"",o.vertexUv1s?"#define USE_UV1":"",o.vertexUv2s?"#define USE_UV2":"",o.vertexUv3s?"#define USE_UV3":"",o.pointsUvs?"#define USE_POINTS_UV":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+F:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.numLightProbes>0?"#define USE_LIGHT_PROBES":"",o.useLegacyLights?"#define LEGACY_LIGHTS":"",o.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",o.toneMapping!==ai?"#define TONE_MAPPING":"",o.toneMapping!==ai?qn.tonemapping_pars_fragment:"",o.toneMapping!==ai?TF("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.opaque?"#define OPAQUE":"",qn.colorspace_pars_fragment,SF("linearToOutputTexel",o.outputColorSpace),o.useDepthPacking?"#define DEPTH_PACKING "+o.depthPacking:"",`
`].filter(uh).join(`
`)),T=C8(T),T=pA(T,o),T=gA(T,o),D=C8(D),D=pA(D,o),D=gA(D,o),T=MA(T),D=MA(D),o.isRawShaderMaterial!==!0&&(Ut=`#version 300 es
`,ct=[rt,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ct,ot=["#define varying in",o.glslVersion===Zd?"":"layout(location = 0) out highp vec4 pc_fragColor;",o.glslVersion===Zd?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ot,Lt>0&&(ct=["#extension GL_OVR_multiview : require","layout(num_views = "+Lt+") in;","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+ct,ct=ct.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join(`
`),["uniform mat4 modelViewMatrices["+Lt+"];","uniform mat4 projectionMatrices["+Lt+"];","uniform mat4 viewMatrices["+Lt+"];","uniform mat3 normalMatrices["+Lt+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join(`
`)),ot=["#extension GL_OVR_multiview : require","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+ot,ot=ot.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+Lt+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join(`
`))));const Bt=Ut+ct+T,fe=Ut+ot+D,ae=fA(g,g.VERTEX_SHADER,Bt),se=fA(g,g.FRAGMENT_SHADER,fe);g.attachShader(At,ae),g.attachShader(At,se),o.index0AttributeName!==void 0?g.bindAttribLocation(At,0,o.index0AttributeName):o.morphTargets===!0&&g.bindAttribLocation(At,0,"position"),g.linkProgram(At);function de(Oe){if(_.debug.checkShaderErrors){const Ce=g.getProgramInfoLog(At).trim(),xe=g.getShaderInfoLog(ae).trim(),je=g.getShaderInfoLog(se).trim();let ui=!0,Pi=!0;if(g.getProgramParameter(At,g.LINK_STATUS)===!1)if(ui=!1,typeof _.debug.onShaderError=="function")_.debug.onShaderError(g,At,ae,se);else{const Xe=mA(g,ae,"vertex"),Ti=mA(g,se,"fragment");console.error("THREE.WebGLProgram: Shader Error "+g.getError()+" - VALIDATE_STATUS "+g.getProgramParameter(At,g.VALIDATE_STATUS)+`

Material Name: `+Oe.name+`
Material Type: `+Oe.type+`

Program Info Log: `+Ce+`
`+Xe+`
`+Ti)}else Ce!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ce):(xe===""||je==="")&&(Pi=!1);Pi&&(Oe.diagnostics={runnable:ui,programLog:Ce,vertexShader:{log:xe,prefix:ct},fragmentShader:{log:je,prefix:ot}})}g.deleteShader(ae),g.deleteShader(se),Xt=new w2(g,At),zt=RF(g,At)}let Xt;this.getUniforms=function(){return Xt===void 0&&de(this),Xt};let zt;this.getAttributes=function(){return zt===void 0&&de(this),zt};let he=o.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return he===!1&&(he=g.getProgramParameter(At,_F)),he},this.destroy=function(){h.releaseStatesOfProgram(this),g.deleteProgram(At),this.program=void 0},this.type=o.shaderType,this.name=o.shaderName,this.id=wF++,this.cacheKey=n,this.usedTimes=1,this.program=At,this.vertexShader=ae,this.fragmentShader=se,this.numMultiviewViews=Lt,this}let QF=0;class zF{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(n){const o=n.vertexShader,h=n.fragmentShader,g=this._getShaderStage(o),C=this._getShaderStage(h),T=this._getShaderCacheForMaterial(n);return T.has(g)===!1&&(T.add(g),g.usedTimes++),T.has(C)===!1&&(T.add(C),C.usedTimes++),this}remove(n){const o=this.materialCache.get(n);for(const h of o)h.usedTimes--,h.usedTimes===0&&this.shaderCache.delete(h.code);return this.materialCache.delete(n),this}getVertexShaderID(n){return this._getShaderStage(n.vertexShader).id}getFragmentShaderID(n){return this._getShaderStage(n.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(n){const o=this.materialCache;let h=o.get(n);return h===void 0&&(h=new Set,o.set(n,h)),h}_getShaderStage(n){const o=this.shaderCache;let h=o.get(n);return h===void 0&&(h=new JF(n),o.set(n,h)),h}}class JF{constructor(n){this.id=QF++,this.code=n,this.usedTimes=0}}function jF(_,n,o,h,g,C,T){const D=new s2,F=new zF,V=new Set,Y=[],et=g.logarithmicDepthBuffer,at=g.vertexTextures;let rt=g.precision;const lt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function At(Xt){return V.add(Xt),Xt===0?"uv":`uv${Xt}`}function ct(Xt,zt,he,Oe,Ce){const xe=Oe.fog,je=Ce.geometry,ui=Xt.isMeshStandardMaterial?Oe.environment:null,Pi=(Xt.isMeshStandardMaterial?o:n).get(Xt.envMap||ui),Xe=Pi&&Pi.mapping===Gt?Pi.image.height:null,Ti=lt[Xt.type];Xt.precision!==null&&(rt=g.getMaxPrecision(Xt.precision),rt!==Xt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Xt.precision,"not supported, using",rt,"instead."));const Bi=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,ln=Bi!==void 0?Bi.length:0;let n9=0;je.morphAttributes.position!==void 0&&(n9=1),je.morphAttributes.normal!==void 0&&(n9=2),je.morphAttributes.color!==void 0&&(n9=3);let I9,q9,O9,G9;if(Ti){const Wa=V0[Ti];I9=Wa.vertexShader,q9=Wa.fragmentShader}else I9=Xt.vertexShader,q9=Xt.fragmentShader,F.update(Xt),O9=F.getVertexShaderID(Xt),G9=F.getFragmentShaderID(Xt);const un=_.getRenderTarget(),mi=un&&un.isWebGLMultiviewRenderTarget?un.numViews:0,ki=Ce.isInstancedMesh===!0,Ui=Ce.isBatchedMesh===!0,Se=!!Xt.map,pi=!!Xt.matcap,ri=!!Pi,Si=!!Xt.aoMap,Oi=!!Xt.lightMap,_i=!!Xt.bumpMap,Hi=!!Xt.normalMap,Zi=!!Xt.displacementMap,kn=!!Xt.emissiveMap,Vn=!!Xt.metalnessMap,x9=!!Xt.roughnessMap,Aa=Xt.anisotropy>0,Z9=Xt.clearcoat>0,ce=Xt.dispersion>0,Jt=Xt.iridescence>0,Ze=Xt.sheen>0,fi=Xt.transmission>0,Ai=Aa&&!!Xt.anisotropyMap,gi=Z9&&!!Xt.clearcoatMap,fn=Z9&&!!Xt.clearcoatNormalMap,Li=Z9&&!!Xt.clearcoatRoughnessMap,en=Jt&&!!Xt.iridescenceMap,L9=Jt&&!!Xt.iridescenceThicknessMap,nn=Ze&&!!Xt.sheenColorMap,pn=Ze&&!!Xt.sheenRoughnessMap,Zn=!!Xt.specularMap,Sn=!!Xt.specularColorMap,Ae=!!Xt.specularIntensityMap,wi=fi&&!!Xt.transmissionMap,Ri=fi&&!!Xt.thicknessMap,mn=!!Xt.gradientMap,Yi=!!Xt.alphaMap,t9=Xt.alphaTest>0,qi=!!Xt.alphaHash,Vi=!!Xt.extensions;let o9=ai;Xt.toneMapped&&(un===null||un.isXRRenderTarget===!0)&&(o9=_.toneMapping);const In={shaderID:Ti,shaderType:Xt.type,shaderName:Xt.name,vertexShader:I9,fragmentShader:q9,defines:Xt.defines,customVertexShaderID:O9,customFragmentShaderID:G9,isRawShaderMaterial:Xt.isRawShaderMaterial===!0,glslVersion:Xt.glslVersion,precision:rt,batching:Ui,instancing:ki,instancingColor:ki&&Ce.instanceColor!==null,instancingMorph:ki&&Ce.morphTexture!==null,supportsVertexTextures:at,numMultiviewViews:mi,outputColorSpace:un===null?_.outputColorSpace:un.isXRRenderTarget===!0?un.texture.colorSpace:$0,alphaToCoverage:!!Xt.alphaToCoverage,map:Se,matcap:pi,envMap:ri,envMapMode:ri&&Pi.mapping,envMapCubeUVHeight:Xe,aoMap:Si,lightMap:Oi,bumpMap:_i,normalMap:Hi,displacementMap:at&&Zi,emissiveMap:kn,normalMapObjectSpace:Hi&&Xt.normalMapType===po,normalMapTangentSpace:Hi&&Xt.normalMapType===vr,metalnessMap:Vn,roughnessMap:x9,anisotropy:Aa,anisotropyMap:Ai,clearcoat:Z9,clearcoatMap:gi,clearcoatNormalMap:fn,clearcoatRoughnessMap:Li,dispersion:ce,iridescence:Jt,iridescenceMap:en,iridescenceThicknessMap:L9,sheen:Ze,sheenColorMap:nn,sheenRoughnessMap:pn,specularMap:Zn,specularColorMap:Sn,specularIntensityMap:Ae,transmission:fi,transmissionMap:wi,thicknessMap:Ri,gradientMap:mn,opaque:Xt.transparent===!1&&Xt.blending===P&&Xt.alphaToCoverage===!1,alphaMap:Yi,alphaTest:t9,alphaHash:qi,combine:Xt.combine,mapUv:Se&&At(Xt.map.channel),aoMapUv:Si&&At(Xt.aoMap.channel),lightMapUv:Oi&&At(Xt.lightMap.channel),bumpMapUv:_i&&At(Xt.bumpMap.channel),normalMapUv:Hi&&At(Xt.normalMap.channel),displacementMapUv:Zi&&At(Xt.displacementMap.channel),emissiveMapUv:kn&&At(Xt.emissiveMap.channel),metalnessMapUv:Vn&&At(Xt.metalnessMap.channel),roughnessMapUv:x9&&At(Xt.roughnessMap.channel),anisotropyMapUv:Ai&&At(Xt.anisotropyMap.channel),clearcoatMapUv:gi&&At(Xt.clearcoatMap.channel),clearcoatNormalMapUv:fn&&At(Xt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Li&&At(Xt.clearcoatRoughnessMap.channel),iridescenceMapUv:en&&At(Xt.iridescenceMap.channel),iridescenceThicknessMapUv:L9&&At(Xt.iridescenceThicknessMap.channel),sheenColorMapUv:nn&&At(Xt.sheenColorMap.channel),sheenRoughnessMapUv:pn&&At(Xt.sheenRoughnessMap.channel),specularMapUv:Zn&&At(Xt.specularMap.channel),specularColorMapUv:Sn&&At(Xt.specularColorMap.channel),specularIntensityMapUv:Ae&&At(Xt.specularIntensityMap.channel),transmissionMapUv:wi&&At(Xt.transmissionMap.channel),thicknessMapUv:Ri&&At(Xt.thicknessMap.channel),alphaMapUv:Yi&&At(Xt.alphaMap.channel),vertexTangents:!!je.attributes.tangent&&(Hi||Aa),vertexColors:Xt.vertexColors,vertexAlphas:Xt.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,pointsUvs:Ce.isPoints===!0&&!!je.attributes.uv&&(Se||Yi),fog:!!xe,useFog:Xt.fog===!0,fogExp2:!!xe&&xe.isFogExp2,flatShading:Xt.flatShading===!0,sizeAttenuation:Xt.sizeAttenuation===!0,logarithmicDepthBuffer:et,skinning:Ce.isSkinnedMesh===!0,morphTargets:je.morphAttributes.position!==void 0,morphNormals:je.morphAttributes.normal!==void 0,morphColors:je.morphAttributes.color!==void 0,morphTargetsCount:ln,morphTextureStride:n9,numDirLights:zt.directional.length,numPointLights:zt.point.length,numSpotLights:zt.spot.length,numSpotLightMaps:zt.spotLightMap.length,numRectAreaLights:zt.rectArea.length,numHemiLights:zt.hemi.length,numDirLightShadows:zt.directionalShadowMap.length,numPointLightShadows:zt.pointShadowMap.length,numSpotLightShadows:zt.spotShadowMap.length,numSpotLightShadowsWithMaps:zt.numSpotLightShadowsWithMaps,numLightProbes:zt.numLightProbes,numClippingPlanes:T.numPlanes,numClipIntersection:T.numIntersection,dithering:Xt.dithering,shadowMapEnabled:_.shadowMap.enabled&&he.length>0,shadowMapType:_.shadowMap.type,toneMapping:o9,useLegacyLights:_._useLegacyLights,decodeVideoTexture:Se&&Xt.map.isVideoTexture===!0&&T9.getTransfer(Xt.map.colorSpace)===$9,premultipliedAlpha:Xt.premultipliedAlpha,doubleSided:Xt.side===R,flipSided:Xt.side===S,useDepthPacking:Xt.depthPacking>=0,depthPacking:Xt.depthPacking||0,index0AttributeName:Xt.index0AttributeName,extensionClipCullDistance:Vi&&Xt.extensions.clipCullDistance===!0&&h.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Vi&&Xt.extensions.multiDraw===!0&&h.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:h.has("KHR_parallel_shader_compile"),customProgramCacheKey:Xt.customProgramCacheKey()};return In.vertexUv1s=V.has(1),In.vertexUv2s=V.has(2),In.vertexUv3s=V.has(3),V.clear(),In}function ot(Xt){const zt=[];if(Xt.shaderID?zt.push(Xt.shaderID):(zt.push(Xt.customVertexShaderID),zt.push(Xt.customFragmentShaderID)),Xt.defines!==void 0)for(const he in Xt.defines)zt.push(he),zt.push(Xt.defines[he]);return Xt.isRawShaderMaterial===!1&&(Ut(zt,Xt),Lt(zt,Xt),zt.push(_.outputColorSpace)),zt.push(Xt.customProgramCacheKey),zt.join()}function Ut(Xt,zt){Xt.push(zt.precision),Xt.push(zt.outputColorSpace),Xt.push(zt.envMapMode),Xt.push(zt.envMapCubeUVHeight),Xt.push(zt.mapUv),Xt.push(zt.alphaMapUv),Xt.push(zt.lightMapUv),Xt.push(zt.aoMapUv),Xt.push(zt.bumpMapUv),Xt.push(zt.normalMapUv),Xt.push(zt.displacementMapUv),Xt.push(zt.emissiveMapUv),Xt.push(zt.metalnessMapUv),Xt.push(zt.roughnessMapUv),Xt.push(zt.anisotropyMapUv),Xt.push(zt.clearcoatMapUv),Xt.push(zt.clearcoatNormalMapUv),Xt.push(zt.clearcoatRoughnessMapUv),Xt.push(zt.iridescenceMapUv),Xt.push(zt.iridescenceThicknessMapUv),Xt.push(zt.sheenColorMapUv),Xt.push(zt.sheenRoughnessMapUv),Xt.push(zt.specularMapUv),Xt.push(zt.specularColorMapUv),Xt.push(zt.specularIntensityMapUv),Xt.push(zt.transmissionMapUv),Xt.push(zt.thicknessMapUv),Xt.push(zt.combine),Xt.push(zt.fogExp2),Xt.push(zt.sizeAttenuation),Xt.push(zt.morphTargetsCount),Xt.push(zt.morphAttributeCount),Xt.push(zt.numDirLights),Xt.push(zt.numPointLights),Xt.push(zt.numSpotLights),Xt.push(zt.numSpotLightMaps),Xt.push(zt.numHemiLights),Xt.push(zt.numRectAreaLights),Xt.push(zt.numDirLightShadows),Xt.push(zt.numPointLightShadows),Xt.push(zt.numSpotLightShadows),Xt.push(zt.numSpotLightShadowsWithMaps),Xt.push(zt.numLightProbes),Xt.push(zt.shadowMapType),Xt.push(zt.toneMapping),Xt.push(zt.numClippingPlanes),Xt.push(zt.numClipIntersection),Xt.push(zt.depthPacking)}function Lt(Xt,zt){D.disableAll(),zt.supportsVertexTextures&&D.enable(0),zt.instancing&&D.enable(1),zt.instancingColor&&D.enable(2),zt.instancingMorph&&D.enable(3),zt.matcap&&D.enable(4),zt.envMap&&D.enable(5),zt.normalMapObjectSpace&&D.enable(6),zt.normalMapTangentSpace&&D.enable(7),zt.clearcoat&&D.enable(8),zt.iridescence&&D.enable(9),zt.alphaTest&&D.enable(10),zt.vertexColors&&D.enable(11),zt.vertexAlphas&&D.enable(12),zt.vertexUv1s&&D.enable(13),zt.vertexUv2s&&D.enable(14),zt.vertexUv3s&&D.enable(15),zt.vertexTangents&&D.enable(16),zt.anisotropy&&D.enable(17),zt.alphaHash&&D.enable(18),zt.batching&&D.enable(19),zt.dispersion&&D.enable(20),Xt.push(D.mask),D.disableAll(),zt.fog&&D.enable(0),zt.useFog&&D.enable(1),zt.flatShading&&D.enable(2),zt.logarithmicDepthBuffer&&D.enable(3),zt.skinning&&D.enable(4),zt.morphTargets&&D.enable(5),zt.morphNormals&&D.enable(6),zt.morphColors&&D.enable(7),zt.premultipliedAlpha&&D.enable(8),zt.shadowMapEnabled&&D.enable(9),zt.useLegacyLights&&D.enable(10),zt.doubleSided&&D.enable(11),zt.flipSided&&D.enable(12),zt.useDepthPacking&&D.enable(13),zt.dithering&&D.enable(14),zt.transmission&&D.enable(15),zt.sheen&&D.enable(16),zt.opaque&&D.enable(17),zt.pointsUvs&&D.enable(18),zt.decodeVideoTexture&&D.enable(19),zt.alphaToCoverage&&D.enable(20),zt.numMultiviewViews&&D.enable(21),Xt.push(D.mask)}function Bt(Xt){const zt=lt[Xt.type];let he;if(zt){const Oe=V0[zt];he=zM.clone(Oe.uniforms)}else he=Xt.uniforms;return he}function fe(Xt,zt){let he;for(let Oe=0,Ce=Y.length;Oe<Ce;Oe++){const xe=Y[Oe];if(xe.cacheKey===zt){he=xe,++he.usedTimes;break}}return he===void 0&&(he=new VF(_,zt,Xt,C),Y.push(he)),he}function ae(Xt){if(--Xt.usedTimes===0){const zt=Y.indexOf(Xt);Y[zt]=Y[Y.length-1],Y.pop(),Xt.destroy()}}function se(Xt){F.remove(Xt)}function de(){F.dispose()}return{getParameters:ct,getProgramCacheKey:ot,getUniforms:Bt,acquireProgram:fe,releaseProgram:ae,releaseShaderCache:se,programs:Y,dispose:de}}function WF(){let _=new WeakMap;function n(C){let T=_.get(C);return T===void 0&&(T={},_.set(C,T)),T}function o(C){_.delete(C)}function h(C,T,D){_.get(C)[T]=D}function g(){_=new WeakMap}return{get:n,remove:o,update:h,dispose:g}}function KF(_,n){return _.groupOrder!==n.groupOrder?_.groupOrder-n.groupOrder:_.renderOrder!==n.renderOrder?_.renderOrder-n.renderOrder:_.material.id!==n.material.id?_.material.id-n.material.id:_.z!==n.z?_.z-n.z:_.id-n.id}function yA(_,n){return _.groupOrder!==n.groupOrder?_.groupOrder-n.groupOrder:_.renderOrder!==n.renderOrder?_.renderOrder-n.renderOrder:_.z!==n.z?n.z-_.z:_.id-n.id}function vA(){const _=[];let n=0;const o=[],h=[],g=[];function C(){n=0,o.length=0,h.length=0,g.length=0}function T(et,at,rt,lt,At,ct){let ot=_[n];return ot===void 0?(ot={id:et.id,object:et,geometry:at,material:rt,groupOrder:lt,renderOrder:et.renderOrder,z:At,group:ct},_[n]=ot):(ot.id=et.id,ot.object=et,ot.geometry=at,ot.material=rt,ot.groupOrder=lt,ot.renderOrder=et.renderOrder,ot.z=At,ot.group=ct),n++,ot}function D(et,at,rt,lt,At,ct){const ot=T(et,at,rt,lt,At,ct);rt.transmission>0?h.push(ot):rt.transparent===!0?g.push(ot):o.push(ot)}function F(et,at,rt,lt,At,ct){const ot=T(et,at,rt,lt,At,ct);rt.transmission>0?h.unshift(ot):rt.transparent===!0?g.unshift(ot):o.unshift(ot)}function V(et,at){o.length>1&&o.sort(et||KF),h.length>1&&h.sort(at||yA),g.length>1&&g.sort(at||yA)}function Y(){for(let et=n,at=_.length;et<at;et++){const rt=_[et];if(rt.id===null)break;rt.id=null,rt.object=null,rt.geometry=null,rt.material=null,rt.group=null}}return{opaque:o,transmissive:h,transparent:g,init:C,push:D,unshift:F,finish:Y,sort:V}}function XF(){let _=new WeakMap;function n(h,g){const C=_.get(h);let T;return C===void 0?(T=new vA,_.set(h,[T])):g>=C.length?(T=new vA,C.push(T)):T=C[g],T}function o(){_=new WeakMap}return{get:n,dispose:o}}function YF(){const _={};return{get:function(n){if(_[n.id]!==void 0)return _[n.id];let o;switch(n.type){case"DirectionalLight":o={direction:new ee,color:new tn};break;case"SpotLight":o={position:new ee,direction:new ee,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":o={position:new ee,color:new tn,distance:0,decay:0};break;case"HemisphereLight":o={direction:new ee,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":o={color:new tn,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return _[n.id]=o,o}}}function qF(){const _={};return{get:function(n){if(_[n.id]!==void 0)return _[n.id];let o;switch(n.type){case"DirectionalLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hi};break;case"SpotLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hi};break;case"PointLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hi,shadowCameraNear:1,shadowCameraFar:1e3};break}return _[n.id]=o,o}}}let ZF=0;function tU(_,n){return(n.castShadow?2:0)-(_.castShadow?2:0)+(n.map?1:0)-(_.map?1:0)}function eU(_){const n=new YF,o=qF(),h={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let V=0;V<9;V++)h.probe.push(new ee);const g=new ee,C=new cn,T=new cn;function D(V,Y){let et=0,at=0,rt=0;for(let he=0;he<9;he++)h.probe[he].set(0,0,0);let lt=0,At=0,ct=0,ot=0,Ut=0,Lt=0,Bt=0,fe=0,ae=0,se=0,de=0;V.sort(tU);const Xt=Y===!0?Math.PI:1;for(let he=0,Oe=V.length;he<Oe;he++){const Ce=V[he],xe=Ce.color,je=Ce.intensity,ui=Ce.distance,Pi=Ce.shadow&&Ce.shadow.map?Ce.shadow.map.texture:null;if(Ce.isAmbientLight)et+=xe.r*je*Xt,at+=xe.g*je*Xt,rt+=xe.b*je*Xt;else if(Ce.isLightProbe){for(let Xe=0;Xe<9;Xe++)h.probe[Xe].addScaledVector(Ce.sh.coefficients[Xe],je);de++}else if(Ce.isDirectionalLight){const Xe=n.get(Ce);if(Xe.color.copy(Ce.color).multiplyScalar(Ce.intensity*Xt),Ce.castShadow){const Ti=Ce.shadow,Bi=o.get(Ce);Bi.shadowBias=Ti.bias,Bi.shadowNormalBias=Ti.normalBias,Bi.shadowRadius=Ti.radius,Bi.shadowMapSize=Ti.mapSize,h.directionalShadow[lt]=Bi,h.directionalShadowMap[lt]=Pi,h.directionalShadowMatrix[lt]=Ce.shadow.matrix,Lt++}h.directional[lt]=Xe,lt++}else if(Ce.isSpotLight){const Xe=n.get(Ce);Xe.position.setFromMatrixPosition(Ce.matrixWorld),Xe.color.copy(xe).multiplyScalar(je*Xt),Xe.distance=ui,Xe.coneCos=Math.cos(Ce.angle),Xe.penumbraCos=Math.cos(Ce.angle*(1-Ce.penumbra)),Xe.decay=Ce.decay,h.spot[ct]=Xe;const Ti=Ce.shadow;if(Ce.map&&(h.spotLightMap[ae]=Ce.map,ae++,Ti.updateMatrices(Ce),Ce.castShadow&&se++),h.spotLightMatrix[ct]=Ti.matrix,Ce.castShadow){const Bi=o.get(Ce);Bi.shadowBias=Ti.bias,Bi.shadowNormalBias=Ti.normalBias,Bi.shadowRadius=Ti.radius,Bi.shadowMapSize=Ti.mapSize,h.spotShadow[ct]=Bi,h.spotShadowMap[ct]=Pi,fe++}ct++}else if(Ce.isRectAreaLight){const Xe=n.get(Ce);Xe.color.copy(xe).multiplyScalar(je),Xe.halfWidth.set(Ce.width*.5,0,0),Xe.halfHeight.set(0,Ce.height*.5,0),h.rectArea[ot]=Xe,ot++}else if(Ce.isPointLight){const Xe=n.get(Ce);if(Xe.color.copy(Ce.color).multiplyScalar(Ce.intensity*Xt),Xe.distance=Ce.distance,Xe.decay=Ce.decay,Ce.castShadow){const Ti=Ce.shadow,Bi=o.get(Ce);Bi.shadowBias=Ti.bias,Bi.shadowNormalBias=Ti.normalBias,Bi.shadowRadius=Ti.radius,Bi.shadowMapSize=Ti.mapSize,Bi.shadowCameraNear=Ti.camera.near,Bi.shadowCameraFar=Ti.camera.far,h.pointShadow[At]=Bi,h.pointShadowMap[At]=Pi,h.pointShadowMatrix[At]=Ce.shadow.matrix,Bt++}h.point[At]=Xe,At++}else if(Ce.isHemisphereLight){const Xe=n.get(Ce);Xe.skyColor.copy(Ce.color).multiplyScalar(je*Xt),Xe.groundColor.copy(Ce.groundColor).multiplyScalar(je*Xt),h.hemi[Ut]=Xe,Ut++}}ot>0&&(_.has("OES_texture_float_linear")===!0?(h.rectAreaLTC1=Fi.LTC_FLOAT_1,h.rectAreaLTC2=Fi.LTC_FLOAT_2):(h.rectAreaLTC1=Fi.LTC_HALF_1,h.rectAreaLTC2=Fi.LTC_HALF_2)),h.ambient[0]=et,h.ambient[1]=at,h.ambient[2]=rt;const zt=h.hash;(zt.directionalLength!==lt||zt.pointLength!==At||zt.spotLength!==ct||zt.rectAreaLength!==ot||zt.hemiLength!==Ut||zt.numDirectionalShadows!==Lt||zt.numPointShadows!==Bt||zt.numSpotShadows!==fe||zt.numSpotMaps!==ae||zt.numLightProbes!==de)&&(h.directional.length=lt,h.spot.length=ct,h.rectArea.length=ot,h.point.length=At,h.hemi.length=Ut,h.directionalShadow.length=Lt,h.directionalShadowMap.length=Lt,h.pointShadow.length=Bt,h.pointShadowMap.length=Bt,h.spotShadow.length=fe,h.spotShadowMap.length=fe,h.directionalShadowMatrix.length=Lt,h.pointShadowMatrix.length=Bt,h.spotLightMatrix.length=fe+ae-se,h.spotLightMap.length=ae,h.numSpotLightShadowsWithMaps=se,h.numLightProbes=de,zt.directionalLength=lt,zt.pointLength=At,zt.spotLength=ct,zt.rectAreaLength=ot,zt.hemiLength=Ut,zt.numDirectionalShadows=Lt,zt.numPointShadows=Bt,zt.numSpotShadows=fe,zt.numSpotMaps=ae,zt.numLightProbes=de,h.version=ZF++)}function F(V,Y){let et=0,at=0,rt=0,lt=0,At=0;const ct=Y.matrixWorldInverse;for(let ot=0,Ut=V.length;ot<Ut;ot++){const Lt=V[ot];if(Lt.isDirectionalLight){const Bt=h.directional[et];Bt.direction.setFromMatrixPosition(Lt.matrixWorld),g.setFromMatrixPosition(Lt.target.matrixWorld),Bt.direction.sub(g),Bt.direction.transformDirection(ct),et++}else if(Lt.isSpotLight){const Bt=h.spot[rt];Bt.position.setFromMatrixPosition(Lt.matrixWorld),Bt.position.applyMatrix4(ct),Bt.direction.setFromMatrixPosition(Lt.matrixWorld),g.setFromMatrixPosition(Lt.target.matrixWorld),Bt.direction.sub(g),Bt.direction.transformDirection(ct),rt++}else if(Lt.isRectAreaLight){const Bt=h.rectArea[lt];Bt.position.setFromMatrixPosition(Lt.matrixWorld),Bt.position.applyMatrix4(ct),T.identity(),C.copy(Lt.matrixWorld),C.premultiply(ct),T.extractRotation(C),Bt.halfWidth.set(Lt.width*.5,0,0),Bt.halfHeight.set(0,Lt.height*.5,0),Bt.halfWidth.applyMatrix4(T),Bt.halfHeight.applyMatrix4(T),lt++}else if(Lt.isPointLight){const Bt=h.point[at];Bt.position.setFromMatrixPosition(Lt.matrixWorld),Bt.position.applyMatrix4(ct),at++}else if(Lt.isHemisphereLight){const Bt=h.hemi[At];Bt.direction.setFromMatrixPosition(Lt.matrixWorld),Bt.direction.transformDirection(ct),At++}}}return{setup:D,setupView:F,state:h}}function bA(_){const n=new eU(_),o=[],h=[];function g(Y){V.camera=Y,o.length=0,h.length=0}function C(Y){o.push(Y)}function T(Y){h.push(Y)}function D(Y){n.setup(o,Y)}function F(Y){n.setupView(o,Y)}const V={lightsArray:o,shadowsArray:h,camera:null,lights:n,transmissionRenderTarget:{}};return{init:g,state:V,setupLights:D,setupLightsView:F,pushLight:C,pushShadow:T}}function iU(_){let n=new WeakMap;function o(g,C=0){const T=n.get(g);let D;return T===void 0?(D=new bA(_),n.set(g,[D])):C>=T.length?(D=new bA(_),T.push(D)):D=T[C],D}function h(){n=new WeakMap}return{get:o,dispose:h}}class E8 extends Er{constructor(n){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fo,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(n)}copy(n){return super.copy(n),this.depthPacking=n.depthPacking,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this}}class _8 extends Er{constructor(n){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(n)}copy(n){return super.copy(n),this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this}}const nU=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,aU=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function rU(_,n,o){let h=new ch;const g=new hi,C=new hi,T=new C9,D=new E8({depthPacking:mo}),F=new _8,V={},Y=o.maxTextureSize,et={[O]:S,[S]:O,[R]:R},at=new H0({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new hi},radius:{value:4}},vertexShader:nU,fragmentShader:aU}),rt=at.clone();rt.defines.HORIZONTAL_PASS=1;const lt=new i9;lt.setAttribute("position",new F9(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const At=new Ua(lt,at),ct=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=w;let ot=this.type;this.render=function(ae,se,de){if(ct.enabled===!1||ct.autoUpdate===!1&&ct.needsUpdate===!1||ae.length===0)return;const Xt=_.getRenderTarget(),zt=_.getActiveCubeFace(),he=_.getActiveMipmapLevel(),Oe=_.state;Oe.setBlending(I),Oe.buffers.color.setClear(1,1,1,1),Oe.buffers.depth.setTest(!0),Oe.setScissorTest(!1);const Ce=ot!==b&&this.type===b,xe=ot===b&&this.type!==b;for(let je=0,ui=ae.length;je<ui;je++){const Pi=ae[je],Xe=Pi.shadow;if(Xe===void 0){console.warn("THREE.WebGLShadowMap:",Pi,"has no shadow.");continue}if(Xe.autoUpdate===!1&&Xe.needsUpdate===!1)continue;g.copy(Xe.mapSize);const Ti=Xe.getFrameExtents();if(g.multiply(Ti),C.copy(Xe.mapSize),(g.x>Y||g.y>Y)&&(g.x>Y&&(C.x=Math.floor(Y/Ti.x),g.x=C.x*Ti.x,Xe.mapSize.x=C.x),g.y>Y&&(C.y=Math.floor(Y/Ti.y),g.y=C.y*Ti.y,Xe.mapSize.y=C.y)),Xe.map===null||Ce===!0||xe===!0){const ln=this.type!==b?{minFilter:Fe,magFilter:Fe}:{};Xe.map!==null&&Xe.map.dispose(),Xe.map=new zr(g.x,g.y,ln),Xe.map.texture.name=Pi.name+".shadowMap",Xe.camera.updateProjectionMatrix()}_.setRenderTarget(Xe.map),_.clear();const Bi=Xe.getViewportCount();for(let ln=0;ln<Bi;ln++){const n9=Xe.getViewport(ln);T.set(C.x*n9.x,C.y*n9.y,C.x*n9.z,C.y*n9.w),Oe.viewport(T),Xe.updateMatrices(Pi,ln),h=Xe.getFrustum(),Bt(se,de,Xe.camera,Pi,this.type)}Xe.isPointLightShadow!==!0&&this.type===b&&Ut(Xe,de),Xe.needsUpdate=!1}ot=this.type,ct.needsUpdate=!1,_.setRenderTarget(Xt,zt,he)};function Ut(ae,se){const de=n.update(At);at.defines.VSM_SAMPLES!==ae.blurSamples&&(at.defines.VSM_SAMPLES=ae.blurSamples,rt.defines.VSM_SAMPLES=ae.blurSamples,at.needsUpdate=!0,rt.needsUpdate=!0),ae.mapPass===null&&(ae.mapPass=new zr(g.x,g.y)),at.uniforms.shadow_pass.value=ae.map.texture,at.uniforms.resolution.value=ae.mapSize,at.uniforms.radius.value=ae.radius,_.setRenderTarget(ae.mapPass),_.clear(),_.renderBufferDirect(se,null,de,at,At,null),rt.uniforms.shadow_pass.value=ae.mapPass.texture,rt.uniforms.resolution.value=ae.mapSize,rt.uniforms.radius.value=ae.radius,_.setRenderTarget(ae.map),_.clear(),_.renderBufferDirect(se,null,de,rt,At,null)}function Lt(ae,se,de,Xt){let zt=null;const he=de.isPointLight===!0?ae.customDistanceMaterial:ae.customDepthMaterial;if(he!==void 0)zt=he;else if(zt=de.isPointLight===!0?F:D,_.localClippingEnabled&&se.clipShadows===!0&&Array.isArray(se.clippingPlanes)&&se.clippingPlanes.length!==0||se.displacementMap&&se.displacementScale!==0||se.alphaMap&&se.alphaTest>0||se.map&&se.alphaTest>0){const Oe=zt.uuid,Ce=se.uuid;let xe=V[Oe];xe===void 0&&(xe={},V[Oe]=xe);let je=xe[Ce];je===void 0&&(je=zt.clone(),xe[Ce]=je,se.addEventListener("dispose",fe)),zt=je}if(zt.visible=se.visible,zt.wireframe=se.wireframe,Xt===b?zt.side=se.shadowSide!==null?se.shadowSide:se.side:zt.side=se.shadowSide!==null?se.shadowSide:et[se.side],zt.alphaMap=se.alphaMap,zt.alphaTest=se.alphaTest,zt.map=se.map,zt.clipShadows=se.clipShadows,zt.clippingPlanes=se.clippingPlanes,zt.clipIntersection=se.clipIntersection,zt.displacementMap=se.displacementMap,zt.displacementScale=se.displacementScale,zt.displacementBias=se.displacementBias,zt.wireframeLinewidth=se.wireframeLinewidth,zt.linewidth=se.linewidth,de.isPointLight===!0&&zt.isMeshDistanceMaterial===!0){const Oe=_.properties.get(zt);Oe.light=de}return zt}function Bt(ae,se,de,Xt,zt){if(ae.visible===!1)return;if(ae.layers.test(se.layers)&&(ae.isMesh||ae.isLine||ae.isPoints)&&(ae.castShadow||ae.receiveShadow&&zt===b)&&(!ae.frustumCulled||h.intersectsObject(ae))){ae.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,ae.matrixWorld);const Ce=n.update(ae),xe=ae.material;if(Array.isArray(xe)){const je=Ce.groups;for(let ui=0,Pi=je.length;ui<Pi;ui++){const Xe=je[ui],Ti=xe[Xe.materialIndex];if(Ti&&Ti.visible){const Bi=Lt(ae,Ti,Xt,zt);ae.onBeforeShadow(_,ae,se,de,Ce,Bi,Xe),_.renderBufferDirect(de,null,Ce,Bi,ae,Xe),ae.onAfterShadow(_,ae,se,de,Ce,Bi,Xe)}}}else if(xe.visible){const je=Lt(ae,xe,Xt,zt);ae.onBeforeShadow(_,ae,se,de,Ce,je,null),_.renderBufferDirect(de,null,Ce,je,ae,null),ae.onAfterShadow(_,ae,se,de,Ce,je,null)}}const Oe=ae.children;for(let Ce=0,xe=Oe.length;Ce<xe;Ce++)Bt(Oe[Ce],se,de,Xt,zt)}function fe(ae){ae.target.removeEventListener("dispose",fe);for(const de in V){const Xt=V[de],zt=ae.target.uuid;zt in Xt&&(Xt[zt].dispose(),delete Xt[zt])}}}function oU(_){function n(){let Ae=!1;const wi=new C9;let Ri=null;const mn=new C9(0,0,0,0);return{setMask:function(Yi){Ri!==Yi&&!Ae&&(_.colorMask(Yi,Yi,Yi,Yi),Ri=Yi)},setLocked:function(Yi){Ae=Yi},setClear:function(Yi,t9,qi,Vi,o9){o9===!0&&(Yi*=Vi,t9*=Vi,qi*=Vi),wi.set(Yi,t9,qi,Vi),mn.equals(wi)===!1&&(_.clearColor(Yi,t9,qi,Vi),mn.copy(wi))},reset:function(){Ae=!1,Ri=null,mn.set(-1,0,0,0)}}}function o(){let Ae=!1,wi=null,Ri=null,mn=null;return{setTest:function(Yi){Yi?G9(_.DEPTH_TEST):un(_.DEPTH_TEST)},setMask:function(Yi){wi!==Yi&&!Ae&&(_.depthMask(Yi),wi=Yi)},setFunc:function(Yi){if(Ri!==Yi){switch(Yi){case Vt:_.depthFunc(_.NEVER);break;case ie:_.depthFunc(_.ALWAYS);break;case jt:_.depthFunc(_.LESS);break;case Wt:_.depthFunc(_.LEQUAL);break;case me:_.depthFunc(_.EQUAL);break;case Yt:_.depthFunc(_.GEQUAL);break;case pe:_.depthFunc(_.GREATER);break;case Qe:_.depthFunc(_.NOTEQUAL);break;default:_.depthFunc(_.LEQUAL)}Ri=Yi}},setLocked:function(Yi){Ae=Yi},setClear:function(Yi){mn!==Yi&&(_.clearDepth(Yi),mn=Yi)},reset:function(){Ae=!1,wi=null,Ri=null,mn=null}}}function h(){let Ae=!1,wi=null,Ri=null,mn=null,Yi=null,t9=null,qi=null,Vi=null,o9=null;return{setTest:function(In){Ae||(In?G9(_.STENCIL_TEST):un(_.STENCIL_TEST))},setMask:function(In){wi!==In&&!Ae&&(_.stencilMask(In),wi=In)},setFunc:function(In,Wa,vo){(Ri!==In||mn!==Wa||Yi!==vo)&&(_.stencilFunc(In,Wa,vo),Ri=In,mn=Wa,Yi=vo)},setOp:function(In,Wa,vo){(t9!==In||qi!==Wa||Vi!==vo)&&(_.stencilOp(In,Wa,vo),t9=In,qi=Wa,Vi=vo)},setLocked:function(In){Ae=In},setClear:function(In){o9!==In&&(_.clearStencil(In),o9=In)},reset:function(){Ae=!1,wi=null,Ri=null,mn=null,Yi=null,t9=null,qi=null,Vi=null,o9=null}}}const g=new n,C=new o,T=new h,D=new WeakMap,F=new WeakMap;let V={},Y={},et=new WeakMap,at=[],rt=null,lt=!1,At=null,ct=null,ot=null,Ut=null,Lt=null,Bt=null,fe=null,ae=new tn(0,0,0),se=0,de=!1,Xt=null,zt=null,he=null,Oe=null,Ce=null;const xe=_.getParameter(_.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let je=!1,ui=0;const Pi=_.getParameter(_.VERSION);Pi.indexOf("WebGL")!==-1?(ui=parseFloat(/^WebGL (\d)/.exec(Pi)[1]),je=ui>=1):Pi.indexOf("OpenGL ES")!==-1&&(ui=parseFloat(/^OpenGL ES (\d)/.exec(Pi)[1]),je=ui>=2);let Xe=null,Ti={};const Bi=_.getParameter(_.SCISSOR_BOX),ln=_.getParameter(_.VIEWPORT),n9=new C9().fromArray(Bi),I9=new C9().fromArray(ln);function q9(Ae,wi,Ri,mn){const Yi=new Uint8Array(4),t9=_.createTexture();_.bindTexture(Ae,t9),_.texParameteri(Ae,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(Ae,_.TEXTURE_MAG_FILTER,_.NEAREST);for(let qi=0;qi<Ri;qi++)Ae===_.TEXTURE_3D||Ae===_.TEXTURE_2D_ARRAY?_.texImage3D(wi,0,_.RGBA,1,1,mn,0,_.RGBA,_.UNSIGNED_BYTE,Yi):_.texImage2D(wi+qi,0,_.RGBA,1,1,0,_.RGBA,_.UNSIGNED_BYTE,Yi);return t9}const O9={};O9[_.TEXTURE_2D]=q9(_.TEXTURE_2D,_.TEXTURE_2D,1),O9[_.TEXTURE_CUBE_MAP]=q9(_.TEXTURE_CUBE_MAP,_.TEXTURE_CUBE_MAP_POSITIVE_X,6),O9[_.TEXTURE_2D_ARRAY]=q9(_.TEXTURE_2D_ARRAY,_.TEXTURE_2D_ARRAY,1,1),O9[_.TEXTURE_3D]=q9(_.TEXTURE_3D,_.TEXTURE_3D,1,1),g.setClear(0,0,0,1),C.setClear(1),T.setClear(0),G9(_.DEPTH_TEST),C.setFunc(Wt),Oi(!1),_i(p),G9(_.CULL_FACE),ri(I);function G9(Ae){V[Ae]!==!0&&(_.enable(Ae),V[Ae]=!0)}function un(Ae){V[Ae]!==!1&&(_.disable(Ae),V[Ae]=!1)}function mi(Ae,wi){return Y[Ae]!==wi?(_.bindFramebuffer(Ae,wi),Y[Ae]=wi,Ae===_.DRAW_FRAMEBUFFER&&(Y[_.FRAMEBUFFER]=wi),Ae===_.FRAMEBUFFER&&(Y[_.DRAW_FRAMEBUFFER]=wi),!0):!1}function ki(Ae,wi){let Ri=at,mn=!1;if(Ae){Ri=et.get(wi),Ri===void 0&&(Ri=[],et.set(wi,Ri));const Yi=Ae.textures;if(Ri.length!==Yi.length||Ri[0]!==_.COLOR_ATTACHMENT0){for(let t9=0,qi=Yi.length;t9<qi;t9++)Ri[t9]=_.COLOR_ATTACHMENT0+t9;Ri.length=Yi.length,mn=!0}}else Ri[0]!==_.BACK&&(Ri[0]=_.BACK,mn=!0);mn&&_.drawBuffers(Ri)}function Ui(Ae){return rt!==Ae?(_.useProgram(Ae),rt=Ae,!0):!1}const Se={[H]:_.FUNC_ADD,[U]:_.FUNC_SUBTRACT,[W]:_.FUNC_REVERSE_SUBTRACT};Se[J]=_.MIN,Se[Q]=_.MAX;const pi={[G]:_.ZERO,[z]:_.ONE,[j]:_.SRC_COLOR,[tt]:_.SRC_ALPHA,[Ot]:_.SRC_ALPHA_SATURATE,[Tt]:_.DST_COLOR,[pt]:_.DST_ALPHA,[nt]:_.ONE_MINUS_SRC_COLOR,[ht]:_.ONE_MINUS_SRC_ALPHA,[vt]:_.ONE_MINUS_DST_COLOR,[gt]:_.ONE_MINUS_DST_ALPHA,[ft]:_.CONSTANT_COLOR,[St]:_.ONE_MINUS_CONSTANT_COLOR,[Mt]:_.CONSTANT_ALPHA,[Pt]:_.ONE_MINUS_CONSTANT_ALPHA};function ri(Ae,wi,Ri,mn,Yi,t9,qi,Vi,o9,In){if(Ae===I){lt===!0&&(un(_.BLEND),lt=!1);return}if(lt===!1&&(G9(_.BLEND),lt=!0),Ae!==$){if(Ae!==At||In!==de){if((ct!==H||Lt!==H)&&(_.blendEquation(_.FUNC_ADD),ct=H,Lt=H),In)switch(Ae){case P:_.blendFuncSeparate(_.ONE,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA);break;case L:_.blendFunc(_.ONE,_.ONE);break;case k:_.blendFuncSeparate(_.ZERO,_.ONE_MINUS_SRC_COLOR,_.ZERO,_.ONE);break;case N:_.blendFuncSeparate(_.ZERO,_.SRC_COLOR,_.ZERO,_.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case P:_.blendFuncSeparate(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA);break;case L:_.blendFunc(_.SRC_ALPHA,_.ONE);break;case k:_.blendFuncSeparate(_.ZERO,_.ONE_MINUS_SRC_COLOR,_.ZERO,_.ONE);break;case N:_.blendFunc(_.ZERO,_.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}ot=null,Ut=null,Bt=null,fe=null,ae.set(0,0,0),se=0,At=Ae,de=In}return}Yi=Yi||wi,t9=t9||Ri,qi=qi||mn,(wi!==ct||Yi!==Lt)&&(_.blendEquationSeparate(Se[wi],Se[Yi]),ct=wi,Lt=Yi),(Ri!==ot||mn!==Ut||t9!==Bt||qi!==fe)&&(_.blendFuncSeparate(pi[Ri],pi[mn],pi[t9],pi[qi]),ot=Ri,Ut=mn,Bt=t9,fe=qi),(Vi.equals(ae)===!1||o9!==se)&&(_.blendColor(Vi.r,Vi.g,Vi.b,o9),ae.copy(Vi),se=o9),At=Ae,de=!1}function Si(Ae,wi){Ae.side===R?un(_.CULL_FACE):G9(_.CULL_FACE);let Ri=Ae.side===S;wi&&(Ri=!Ri),Oi(Ri),Ae.blending===P&&Ae.transparent===!1?ri(I):ri(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),C.setFunc(Ae.depthFunc),C.setTest(Ae.depthTest),C.setMask(Ae.depthWrite),g.setMask(Ae.colorWrite);const mn=Ae.stencilWrite;T.setTest(mn),mn&&(T.setMask(Ae.stencilWriteMask),T.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),T.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),Zi(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?G9(_.SAMPLE_ALPHA_TO_COVERAGE):un(_.SAMPLE_ALPHA_TO_COVERAGE)}function Oi(Ae){Xt!==Ae&&(Ae?_.frontFace(_.CW):_.frontFace(_.CCW),Xt=Ae)}function _i(Ae){Ae!==A?(G9(_.CULL_FACE),Ae!==zt&&(Ae===p?_.cullFace(_.BACK):Ae===y?_.cullFace(_.FRONT):_.cullFace(_.FRONT_AND_BACK))):un(_.CULL_FACE),zt=Ae}function Hi(Ae){Ae!==he&&(je&&_.lineWidth(Ae),he=Ae)}function Zi(Ae,wi,Ri){Ae?(G9(_.POLYGON_OFFSET_FILL),(Oe!==wi||Ce!==Ri)&&(_.polygonOffset(wi,Ri),Oe=wi,Ce=Ri)):un(_.POLYGON_OFFSET_FILL)}function kn(Ae){Ae?G9(_.SCISSOR_TEST):un(_.SCISSOR_TEST)}function Vn(Ae){Ae===void 0&&(Ae=_.TEXTURE0+xe-1),Xe!==Ae&&(_.activeTexture(Ae),Xe=Ae)}function x9(Ae,wi,Ri){Ri===void 0&&(Xe===null?Ri=_.TEXTURE0+xe-1:Ri=Xe);let mn=Ti[Ri];mn===void 0&&(mn={type:void 0,texture:void 0},Ti[Ri]=mn),(mn.type!==Ae||mn.texture!==wi)&&(Xe!==Ri&&(_.activeTexture(Ri),Xe=Ri),_.bindTexture(Ae,wi||O9[Ae]),mn.type=Ae,mn.texture=wi)}function Aa(){const Ae=Ti[Xe];Ae!==void 0&&Ae.type!==void 0&&(_.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function Z9(){try{_.compressedTexImage2D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ce(){try{_.compressedTexImage3D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Jt(){try{_.texSubImage2D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ze(){try{_.texSubImage3D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function fi(){try{_.compressedTexSubImage2D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ai(){try{_.compressedTexSubImage3D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function gi(){try{_.texStorage2D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function fn(){try{_.texStorage3D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Li(){try{_.texImage2D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function en(){try{_.texImage3D.apply(_,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function L9(Ae){n9.equals(Ae)===!1&&(_.scissor(Ae.x,Ae.y,Ae.z,Ae.w),n9.copy(Ae))}function nn(Ae){I9.equals(Ae)===!1&&(_.viewport(Ae.x,Ae.y,Ae.z,Ae.w),I9.copy(Ae))}function pn(Ae,wi){let Ri=F.get(wi);Ri===void 0&&(Ri=new WeakMap,F.set(wi,Ri));let mn=Ri.get(Ae);mn===void 0&&(mn=_.getUniformBlockIndex(wi,Ae.name),Ri.set(Ae,mn))}function Zn(Ae,wi){const mn=F.get(wi).get(Ae);D.get(wi)!==mn&&(_.uniformBlockBinding(wi,mn,Ae.__bindingPointIndex),D.set(wi,mn))}function Sn(){_.disable(_.BLEND),_.disable(_.CULL_FACE),_.disable(_.DEPTH_TEST),_.disable(_.POLYGON_OFFSET_FILL),_.disable(_.SCISSOR_TEST),_.disable(_.STENCIL_TEST),_.disable(_.SAMPLE_ALPHA_TO_COVERAGE),_.blendEquation(_.FUNC_ADD),_.blendFunc(_.ONE,_.ZERO),_.blendFuncSeparate(_.ONE,_.ZERO,_.ONE,_.ZERO),_.blendColor(0,0,0,0),_.colorMask(!0,!0,!0,!0),_.clearColor(0,0,0,0),_.depthMask(!0),_.depthFunc(_.LESS),_.clearDepth(1),_.stencilMask(4294967295),_.stencilFunc(_.ALWAYS,0,4294967295),_.stencilOp(_.KEEP,_.KEEP,_.KEEP),_.clearStencil(0),_.cullFace(_.BACK),_.frontFace(_.CCW),_.polygonOffset(0,0),_.activeTexture(_.TEXTURE0),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindFramebuffer(_.DRAW_FRAMEBUFFER,null),_.bindFramebuffer(_.READ_FRAMEBUFFER,null),_.useProgram(null),_.lineWidth(1),_.scissor(0,0,_.canvas.width,_.canvas.height),_.viewport(0,0,_.canvas.width,_.canvas.height),V={},Xe=null,Ti={},Y={},et=new WeakMap,at=[],rt=null,lt=!1,At=null,ct=null,ot=null,Ut=null,Lt=null,Bt=null,fe=null,ae=new tn(0,0,0),se=0,de=!1,Xt=null,zt=null,he=null,Oe=null,Ce=null,n9.set(0,0,_.canvas.width,_.canvas.height),I9.set(0,0,_.canvas.width,_.canvas.height),g.reset(),C.reset(),T.reset()}return{buffers:{color:g,depth:C,stencil:T},enable:G9,disable:un,bindFramebuffer:mi,drawBuffers:ki,useProgram:Ui,setBlending:ri,setMaterial:Si,setFlipSided:Oi,setCullFace:_i,setLineWidth:Hi,setPolygonOffset:Zi,setScissorTest:kn,activeTexture:Vn,bindTexture:x9,unbindTexture:Aa,compressedTexImage2D:Z9,compressedTexImage3D:ce,texImage2D:Li,texImage3D:en,updateUBOMapping:pn,uniformBlockBinding:Zn,texStorage2D:gi,texStorage3D:fn,texSubImage2D:Jt,texSubImage3D:Ze,compressedTexSubImage2D:fi,compressedTexSubImage3D:Ai,scissor:L9,viewport:nn,reset:Sn}}function sU(_,n,o,h,g,C,T){const D=n.has("WEBGL_multisampled_render_to_texture")?n.get("WEBGL_multisampled_render_to_texture"):null,F=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),V=n.has("OCULUS_multiview")?n.get("OCULUS_multiview"):null,Y=new hi,et=new WeakMap;let at;const rt=new WeakMap;let lt=[],At=!1,ct=!1;try{ct=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ot(ce,Jt){return ct?new OffscreenCanvas(ce,Jt):Yl("canvas")}function Ut(ce,Jt,Ze){let fi=1;const Ai=Z9(ce);if((Ai.width>Ze||Ai.height>Ze)&&(fi=Ze/Math.max(Ai.width,Ai.height)),fi<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const gi=Math.floor(fi*Ai.width),fn=Math.floor(fi*Ai.height);at===void 0&&(at=ot(gi,fn));const Li=Jt?ot(gi,fn):at;return Li.width=gi,Li.height=fn,Li.getContext("2d").drawImage(ce,0,0,gi,fn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ai.width+"x"+Ai.height+") to ("+gi+"x"+fn+")."),Li}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ai.width+"x"+Ai.height+")."),ce;return ce}function Lt(ce){return ce.generateMipmaps&&ce.minFilter!==Fe&&ce.minFilter!==Pe}function Bt(ce){_.generateMipmap(ce)}function fe(ce,Jt,Ze,fi,Ai=!1){if(ce!==null){if(_[ce]!==void 0)return _[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let gi=Jt;if(Jt===_.RED&&(Ze===_.FLOAT&&(gi=_.R32F),Ze===_.HALF_FLOAT&&(gi=_.R16F),Ze===_.UNSIGNED_BYTE&&(gi=_.R8)),Jt===_.RED_INTEGER&&(Ze===_.UNSIGNED_BYTE&&(gi=_.R8UI),Ze===_.UNSIGNED_SHORT&&(gi=_.R16UI),Ze===_.UNSIGNED_INT&&(gi=_.R32UI),Ze===_.BYTE&&(gi=_.R8I),Ze===_.SHORT&&(gi=_.R16I),Ze===_.INT&&(gi=_.R32I)),Jt===_.RG&&(Ze===_.FLOAT&&(gi=_.RG32F),Ze===_.HALF_FLOAT&&(gi=_.RG16F),Ze===_.UNSIGNED_BYTE&&(gi=_.RG8)),Jt===_.RG_INTEGER&&(Ze===_.UNSIGNED_BYTE&&(gi=_.RG8UI),Ze===_.UNSIGNED_SHORT&&(gi=_.RG16UI),Ze===_.UNSIGNED_INT&&(gi=_.RG32UI),Ze===_.BYTE&&(gi=_.RG8I),Ze===_.SHORT&&(gi=_.RG16I),Ze===_.INT&&(gi=_.RG32I)),Jt===_.RGB&&Ze===_.UNSIGNED_INT_5_9_9_9_REV&&(gi=_.RGB9_E5),Jt===_.RGBA){const fn=Ai?zl:T9.getTransfer(fi);Ze===_.FLOAT&&(gi=_.RGBA32F),Ze===_.HALF_FLOAT&&(gi=_.RGBA16F),Ze===_.UNSIGNED_BYTE&&(gi=fn===$9?_.SRGB8_ALPHA8:_.RGBA8),Ze===_.UNSIGNED_SHORT_4_4_4_4&&(gi=_.RGBA4),Ze===_.UNSIGNED_SHORT_5_5_5_1&&(gi=_.RGB5_A1)}return(gi===_.R16F||gi===_.R32F||gi===_.RG16F||gi===_.RG32F||gi===_.RGBA16F||gi===_.RGBA32F)&&n.get("EXT_color_buffer_float"),gi}function ae(ce,Jt){return Lt(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==Fe&&ce.minFilter!==Pe?Math.log2(Math.max(Jt.width,Jt.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?Jt.mipmaps.length:1}function se(ce){const Jt=ce.target;Jt.removeEventListener("dispose",se),Xt(Jt),Jt.isVideoTexture&&et.delete(Jt)}function de(ce){const Jt=ce.target;Jt.removeEventListener("dispose",de),he(Jt)}function Xt(ce){const Jt=h.get(ce);if(Jt.__webglInit===void 0)return;const Ze=ce.source,fi=rt.get(Ze);if(fi){const Ai=fi[Jt.__cacheKey];Ai.usedTimes--,Ai.usedTimes===0&&zt(ce),Object.keys(fi).length===0&&rt.delete(Ze)}h.remove(ce)}function zt(ce){const Jt=h.get(ce);_.deleteTexture(Jt.__webglTexture);const Ze=ce.source,fi=rt.get(Ze);delete fi[Jt.__cacheKey],T.memory.textures--}function he(ce){const Jt=h.get(ce);if(ce.depthTexture&&ce.depthTexture.dispose(),ce.isWebGLCubeRenderTarget)for(let fi=0;fi<6;fi++){if(Array.isArray(Jt.__webglFramebuffer[fi]))for(let Ai=0;Ai<Jt.__webglFramebuffer[fi].length;Ai++)_.deleteFramebuffer(Jt.__webglFramebuffer[fi][Ai]);else _.deleteFramebuffer(Jt.__webglFramebuffer[fi]);Jt.__webglDepthbuffer&&_.deleteRenderbuffer(Jt.__webglDepthbuffer[fi])}else{if(Array.isArray(Jt.__webglFramebuffer))for(let fi=0;fi<Jt.__webglFramebuffer.length;fi++)_.deleteFramebuffer(Jt.__webglFramebuffer[fi]);else _.deleteFramebuffer(Jt.__webglFramebuffer);if(Jt.__webglDepthbuffer&&_.deleteRenderbuffer(Jt.__webglDepthbuffer),Jt.__webglMultisampledFramebuffer&&_.deleteFramebuffer(Jt.__webglMultisampledFramebuffer),Jt.__webglColorRenderbuffer)for(let fi=0;fi<Jt.__webglColorRenderbuffer.length;fi++)Jt.__webglColorRenderbuffer[fi]&&_.deleteRenderbuffer(Jt.__webglColorRenderbuffer[fi]);Jt.__webglDepthRenderbuffer&&_.deleteRenderbuffer(Jt.__webglDepthRenderbuffer)}const Ze=ce.textures;for(let fi=0,Ai=Ze.length;fi<Ai;fi++){const gi=h.get(Ze[fi]);gi.__webglTexture&&(_.deleteTexture(gi.__webglTexture),T.memory.textures--),h.remove(Ze[fi])}h.remove(ce)}let Oe=0;function Ce(){Oe=0}function xe(){const ce=Oe;return ce>=g.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+g.maxTextures),Oe+=1,ce}function je(ce){const Jt=[];return Jt.push(ce.wrapS),Jt.push(ce.wrapT),Jt.push(ce.wrapR||0),Jt.push(ce.magFilter),Jt.push(ce.minFilter),Jt.push(ce.anisotropy),Jt.push(ce.internalFormat),Jt.push(ce.format),Jt.push(ce.type),Jt.push(ce.generateMipmaps),Jt.push(ce.premultiplyAlpha),Jt.push(ce.flipY),Jt.push(ce.unpackAlignment),Jt.push(ce.colorSpace),Jt.join()}function ui(ce,Jt){const Ze=h.get(ce);if(ce.isVideoTexture&&x9(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&Ze.__version!==ce.version){const fi=ce.image;if(fi===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(fi.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else if(un(Ze,ce,Jt))return}o.bindTexture(_.TEXTURE_2D,Ze.__webglTexture,_.TEXTURE0+Jt)}function Pi(ce,Jt){const Ze=h.get(ce);if(ce.version>0&&Ze.__version!==ce.version){un(Ze,ce,Jt);return}o.bindTexture(_.TEXTURE_2D_ARRAY,Ze.__webglTexture,_.TEXTURE0+Jt)}function Xe(ce,Jt){const Ze=h.get(ce);if(ce.version>0&&Ze.__version!==ce.version){un(Ze,ce,Jt);return}o.bindTexture(_.TEXTURE_3D,Ze.__webglTexture,_.TEXTURE0+Jt)}function Ti(ce,Jt){const Ze=h.get(ce);if(ce.version>0&&Ze.__version!==ce.version){mi(Ze,ce,Jt);return}o.bindTexture(_.TEXTURE_CUBE_MAP,Ze.__webglTexture,_.TEXTURE0+Jt)}const Bi={[Zt]:_.REPEAT,[ue]:_.CLAMP_TO_EDGE,[ve]:_.MIRRORED_REPEAT},ln={[Fe]:_.NEAREST,[Je]:_.NEAREST_MIPMAP_NEAREST,[re]:_.NEAREST_MIPMAP_LINEAR,[Pe]:_.LINEAR,[ke]:_.LINEAR_MIPMAP_NEAREST,[Ii]:_.LINEAR_MIPMAP_LINEAR},n9={[Q1]:_.NEVER,[X1]:_.ALWAYS,[z1]:_.LESS,[qd]:_.LEQUAL,[J1]:_.EQUAL,[K1]:_.GEQUAL,[j1]:_.GREATER,[W1]:_.NOTEQUAL};function I9(ce,Jt){if(Jt.type===$n&&n.has("OES_texture_float_linear")===!1&&(Jt.magFilter===Pe||Jt.magFilter===ke||Jt.magFilter===re||Jt.magFilter===Ii||Jt.minFilter===Pe||Jt.minFilter===ke||Jt.minFilter===re||Jt.minFilter===Ii)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),_.texParameteri(ce,_.TEXTURE_WRAP_S,Bi[Jt.wrapS]),_.texParameteri(ce,_.TEXTURE_WRAP_T,Bi[Jt.wrapT]),(ce===_.TEXTURE_3D||ce===_.TEXTURE_2D_ARRAY)&&_.texParameteri(ce,_.TEXTURE_WRAP_R,Bi[Jt.wrapR]),_.texParameteri(ce,_.TEXTURE_MAG_FILTER,ln[Jt.magFilter]),_.texParameteri(ce,_.TEXTURE_MIN_FILTER,ln[Jt.minFilter]),Jt.compareFunction&&(_.texParameteri(ce,_.TEXTURE_COMPARE_MODE,_.COMPARE_REF_TO_TEXTURE),_.texParameteri(ce,_.TEXTURE_COMPARE_FUNC,n9[Jt.compareFunction])),n.has("EXT_texture_filter_anisotropic")===!0){if(Jt.magFilter===Fe||Jt.minFilter!==re&&Jt.minFilter!==Ii||Jt.type===$n&&n.has("OES_texture_float_linear")===!1)return;if(Jt.anisotropy>1||h.get(Jt).__currentAnisotropy){const Ze=n.get("EXT_texture_filter_anisotropic");_.texParameterf(ce,Ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Jt.anisotropy,g.getMaxAnisotropy())),h.get(Jt).__currentAnisotropy=Jt.anisotropy}}}function q9(ce,Jt){let Ze=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,Jt.addEventListener("dispose",se));const fi=Jt.source;let Ai=rt.get(fi);Ai===void 0&&(Ai={},rt.set(fi,Ai));const gi=je(Jt);if(gi!==ce.__cacheKey){Ai[gi]===void 0&&(Ai[gi]={texture:_.createTexture(),usedTimes:0},T.memory.textures++,Ze=!0),Ai[gi].usedTimes++;const fn=Ai[ce.__cacheKey];fn!==void 0&&(Ai[ce.__cacheKey].usedTimes--,fn.usedTimes===0&&zt(Jt)),ce.__cacheKey=gi,ce.__webglTexture=Ai[gi].texture}return Ze}function O9(ce){At=ce}function G9(){const ce=At;At=!1;for(const Jt of lt)un(Jt.textureProperties,Jt.texture,Jt.slot),Jt.texture.isPendingDeferredUpload=!1;lt=[],At=ce}function un(ce,Jt,Ze){if(At)return Jt.isPendingDeferredUpload||(Jt.isPendingDeferredUpload=!0,lt.push({textureProperties:ce,texture:Jt,slot:Ze})),!1;let fi=_.TEXTURE_2D;(Jt.isDataArrayTexture||Jt.isCompressedArrayTexture)&&(fi=_.TEXTURE_2D_ARRAY),Jt.isData3DTexture&&(fi=_.TEXTURE_3D);const Ai=q9(ce,Jt),gi=Jt.source;o.bindTexture(fi,ce.__webglTexture,_.TEXTURE0+Ze);const fn=h.get(gi);if(gi.version!==fn.__version||Ai===!0){o.activeTexture(_.TEXTURE0+Ze);const Li=T9.getPrimaries(T9.workingColorSpace),en=Jt.colorSpace===fr?null:T9.getPrimaries(Jt.colorSpace),L9=Jt.colorSpace===fr||Li===en?_.NONE:_.BROWSER_DEFAULT_WEBGL;_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,Jt.flipY),_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Jt.premultiplyAlpha),_.pixelStorei(_.UNPACK_ALIGNMENT,Jt.unpackAlignment),_.pixelStorei(_.UNPACK_COLORSPACE_CONVERSION_WEBGL,L9);let nn=Ut(Jt.image,!1,g.maxTextureSize);nn=Aa(Jt,nn);const pn=C.convert(Jt.format,Jt.colorSpace),Zn=C.convert(Jt.type);let Sn=fe(Jt.internalFormat,pn,Zn,Jt.colorSpace,Jt.isVideoTexture);I9(fi,Jt);let Ae;const wi=Jt.mipmaps,Ri=Jt.isVideoTexture!==!0,mn=fn.__version===void 0||Ai===!0,Yi=gi.dataReady,t9=ae(Jt,nn);if(Jt.isDepthTexture)Sn=_.DEPTH_COMPONENT16,Jt.type===$n?Sn=_.DEPTH_COMPONENT32F:Jt.type===on?Sn=_.DEPTH_COMPONENT24:Jt.type===va&&(Sn=_.DEPTH24_STENCIL8),mn&&(Ri?o.texStorage2D(_.TEXTURE_2D,1,Sn,nn.width,nn.height):o.texImage2D(_.TEXTURE_2D,0,Sn,nn.width,nn.height,0,pn,Zn,null));else if(Jt.isDataTexture)if(wi.length>0){Ri&&mn&&o.texStorage2D(_.TEXTURE_2D,t9,Sn,wi[0].width,wi[0].height);for(let qi=0,Vi=wi.length;qi<Vi;qi++)Ae=wi[qi],Ri?Yi&&o.texSubImage2D(_.TEXTURE_2D,qi,0,0,Ae.width,Ae.height,pn,Zn,Ae.data):o.texImage2D(_.TEXTURE_2D,qi,Sn,Ae.width,Ae.height,0,pn,Zn,Ae.data);Jt.generateMipmaps=!1}else Ri?(mn&&o.texStorage2D(_.TEXTURE_2D,t9,Sn,nn.width,nn.height),Yi&&o.texSubImage2D(_.TEXTURE_2D,0,0,0,nn.width,nn.height,pn,Zn,nn.data)):o.texImage2D(_.TEXTURE_2D,0,Sn,nn.width,nn.height,0,pn,Zn,nn.data);else if(Jt.isCompressedTexture)if(Jt.isCompressedArrayTexture){Ri&&mn&&o.texStorage3D(_.TEXTURE_2D_ARRAY,t9,Sn,wi[0].width,wi[0].height,nn.depth);for(let qi=0,Vi=wi.length;qi<Vi;qi++)Ae=wi[qi],Jt.format!==le?pn!==null?Ri?Yi&&o.compressedTexSubImage3D(_.TEXTURE_2D_ARRAY,qi,0,0,0,Ae.width,Ae.height,nn.depth,pn,Ae.data,0,0):o.compressedTexImage3D(_.TEXTURE_2D_ARRAY,qi,Sn,Ae.width,Ae.height,nn.depth,0,Ae.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ri?Yi&&o.texSubImage3D(_.TEXTURE_2D_ARRAY,qi,0,0,0,Ae.width,Ae.height,nn.depth,pn,Zn,Ae.data):o.texImage3D(_.TEXTURE_2D_ARRAY,qi,Sn,Ae.width,Ae.height,nn.depth,0,pn,Zn,Ae.data)}else{Ri&&mn&&o.texStorage2D(_.TEXTURE_2D,t9,Sn,wi[0].width,wi[0].height);for(let qi=0,Vi=wi.length;qi<Vi;qi++)Ae=wi[qi],Jt.format!==le?pn!==null?Ri?Yi&&o.compressedTexSubImage2D(_.TEXTURE_2D,qi,0,0,Ae.width,Ae.height,pn,Ae.data):o.compressedTexImage2D(_.TEXTURE_2D,qi,Sn,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ri?Yi&&o.texSubImage2D(_.TEXTURE_2D,qi,0,0,Ae.width,Ae.height,pn,Zn,Ae.data):o.texImage2D(_.TEXTURE_2D,qi,Sn,Ae.width,Ae.height,0,pn,Zn,Ae.data)}else if(Jt.isDataArrayTexture)Ri?(mn&&o.texStorage3D(_.TEXTURE_2D_ARRAY,t9,Sn,nn.width,nn.height,nn.depth),Yi&&o.texSubImage3D(_.TEXTURE_2D_ARRAY,0,0,0,0,nn.width,nn.height,nn.depth,pn,Zn,nn.data)):o.texImage3D(_.TEXTURE_2D_ARRAY,0,Sn,nn.width,nn.height,nn.depth,0,pn,Zn,nn.data);else if(Jt.isData3DTexture)Ri?(mn&&o.texStorage3D(_.TEXTURE_3D,t9,Sn,nn.width,nn.height,nn.depth),Yi&&o.texSubImage3D(_.TEXTURE_3D,0,0,0,0,nn.width,nn.height,nn.depth,pn,Zn,nn.data)):o.texImage3D(_.TEXTURE_3D,0,Sn,nn.width,nn.height,nn.depth,0,pn,Zn,nn.data);else if(Jt.isFramebufferTexture){if(mn)if(Ri)o.texStorage2D(_.TEXTURE_2D,t9,Sn,nn.width,nn.height);else{let qi=nn.width,Vi=nn.height;for(let o9=0;o9<t9;o9++)o.texImage2D(_.TEXTURE_2D,o9,Sn,qi,Vi,0,pn,Zn,null),qi>>=1,Vi>>=1}}else if(wi.length>0){if(Ri&&mn){const qi=Z9(wi[0]);o.texStorage2D(_.TEXTURE_2D,t9,Sn,qi.width,qi.height)}for(let qi=0,Vi=wi.length;qi<Vi;qi++)Ae=wi[qi],Ri?Yi&&o.texSubImage2D(_.TEXTURE_2D,qi,0,0,pn,Zn,Ae):o.texImage2D(_.TEXTURE_2D,qi,Sn,pn,Zn,Ae);Jt.generateMipmaps=!1}else if(Ri){if(mn){const qi=Z9(nn);o.texStorage2D(_.TEXTURE_2D,t9,Sn,qi.width,qi.height)}Yi&&o.texSubImage2D(_.TEXTURE_2D,0,0,0,pn,Zn,nn)}else o.texImage2D(_.TEXTURE_2D,0,Sn,pn,Zn,nn);Lt(Jt)&&Bt(fi),fn.__version=gi.version,Jt.onUpdate&&Jt.onUpdate(Jt)}return ce.__version=Jt.version,!0}function mi(ce,Jt,Ze){if(Jt.image.length!==6)return;const fi=q9(ce,Jt),Ai=Jt.source;o.bindTexture(_.TEXTURE_CUBE_MAP,ce.__webglTexture,_.TEXTURE0+Ze);const gi=h.get(Ai);if(Ai.version!==gi.__version||fi===!0){o.activeTexture(_.TEXTURE0+Ze);const fn=T9.getPrimaries(T9.workingColorSpace),Li=Jt.colorSpace===fr?null:T9.getPrimaries(Jt.colorSpace),en=Jt.colorSpace===fr||fn===Li?_.NONE:_.BROWSER_DEFAULT_WEBGL;_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,Jt.flipY),_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Jt.premultiplyAlpha),_.pixelStorei(_.UNPACK_ALIGNMENT,Jt.unpackAlignment),_.pixelStorei(_.UNPACK_COLORSPACE_CONVERSION_WEBGL,en);const L9=Jt.isCompressedTexture||Jt.image[0].isCompressedTexture,nn=Jt.image[0]&&Jt.image[0].isDataTexture,pn=[];for(let Vi=0;Vi<6;Vi++)!L9&&!nn?pn[Vi]=Ut(Jt.image[Vi],!0,g.maxCubemapSize):pn[Vi]=nn?Jt.image[Vi].image:Jt.image[Vi],pn[Vi]=Aa(Jt,pn[Vi]);const Zn=pn[0],Sn=C.convert(Jt.format,Jt.colorSpace),Ae=C.convert(Jt.type),wi=fe(Jt.internalFormat,Sn,Ae,Jt.colorSpace),Ri=Jt.isVideoTexture!==!0,mn=gi.__version===void 0||fi===!0,Yi=Ai.dataReady;let t9=ae(Jt,Zn);I9(_.TEXTURE_CUBE_MAP,Jt);let qi;if(L9){Ri&&mn&&o.texStorage2D(_.TEXTURE_CUBE_MAP,t9,wi,Zn.width,Zn.height);for(let Vi=0;Vi<6;Vi++){qi=pn[Vi].mipmaps;for(let o9=0;o9<qi.length;o9++){const In=qi[o9];Jt.format!==le?Sn!==null?Ri?Yi&&o.compressedTexSubImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9,0,0,In.width,In.height,Sn,In.data):o.compressedTexImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9,wi,In.width,In.height,0,In.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ri?Yi&&o.texSubImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9,0,0,In.width,In.height,Sn,Ae,In.data):o.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9,wi,In.width,In.height,0,Sn,Ae,In.data)}}}else{if(qi=Jt.mipmaps,Ri&&mn){qi.length>0&&t9++;const Vi=Z9(pn[0]);o.texStorage2D(_.TEXTURE_CUBE_MAP,t9,wi,Vi.width,Vi.height)}for(let Vi=0;Vi<6;Vi++)if(nn){Ri?Yi&&o.texSubImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,0,0,0,pn[Vi].width,pn[Vi].height,Sn,Ae,pn[Vi].data):o.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,0,wi,pn[Vi].width,pn[Vi].height,0,Sn,Ae,pn[Vi].data);for(let o9=0;o9<qi.length;o9++){const Wa=qi[o9].image[Vi].image;Ri?Yi&&o.texSubImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9+1,0,0,Wa.width,Wa.height,Sn,Ae,Wa.data):o.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9+1,wi,Wa.width,Wa.height,0,Sn,Ae,Wa.data)}}else{Ri?Yi&&o.texSubImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,0,0,0,Sn,Ae,pn[Vi]):o.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,0,wi,Sn,Ae,pn[Vi]);for(let o9=0;o9<qi.length;o9++){const In=qi[o9];Ri?Yi&&o.texSubImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9+1,0,0,Sn,Ae,In.image[Vi]):o.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+Vi,o9+1,wi,Sn,Ae,In.image[Vi])}}}Lt(Jt)&&Bt(_.TEXTURE_CUBE_MAP),gi.__version=Ai.version,Jt.onUpdate&&Jt.onUpdate(Jt)}ce.__version=Jt.version}function ki(ce,Jt,Ze,fi,Ai,gi){const fn=C.convert(Ze.format,Ze.colorSpace),Li=C.convert(Ze.type),en=fe(Ze.internalFormat,fn,Li,Ze.colorSpace);if(!h.get(Jt).__hasExternalTextures){const pn=Math.max(1,Jt.width>>gi),Zn=Math.max(1,Jt.height>>gi);Jt.isWebGLMultiviewRenderTarget===!0?o.texStorage3D(_.TEXTURE_2D_ARRAY,0,en,Jt.width,Jt.height,Jt.numViews):Ai===_.TEXTURE_3D||Ai===_.TEXTURE_2D_ARRAY?o.texImage3D(Ai,gi,en,pn,Zn,Jt.depth,0,fn,Li,null):o.texImage2D(Ai,gi,en,pn,Zn,0,fn,Li,null)}o.bindFramebuffer(_.FRAMEBUFFER,ce);const nn=Vn(Jt);Jt.isWebGLMultiviewRenderTarget===!0?nn?V.framebufferTextureMultisampleMultiviewOVR(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,h.get(Ze).__webglTexture,0,kn(Jt),0,Jt.numViews):V.framebufferTextureMultiviewOVR(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,h.get(Ze).__webglTexture,0,0,Jt.numViews):(Ai===_.TEXTURE_2D||Ai>=_.TEXTURE_CUBE_MAP_POSITIVE_X&&Ai<=_.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&(nn?D.framebufferTexture2DMultisampleEXT(_.FRAMEBUFFER,fi,Ai,h.get(Ze).__webglTexture,0,kn(Jt)):_.framebufferTexture2D(_.FRAMEBUFFER,fi,Ai,h.get(Ze).__webglTexture,gi)),o.bindFramebuffer(_.FRAMEBUFFER,null)}function Ui(ce,Jt,Ze){if(_.bindRenderbuffer(_.RENDERBUFFER,ce),Jt.isWebGLMultiviewRenderTarget===!0){const fi=Vn(Jt),Ai=Jt.numViews,gi=Jt.depthTexture;let fn=_.DEPTH_COMPONENT24,Li=_.DEPTH_ATTACHMENT;gi&&gi.isDepthTexture&&(gi.type===$n?fn=_.DEPTH_COMPONENT32F:gi.type===va&&(fn=_.DEPTH24_STENCIL8,Li=_.DEPTH_STENCIL_ATTACHMENT));let en=h.get(Jt.depthTexture).__webglTexture;en===void 0&&(en=_.createTexture(),_.bindTexture(_.TEXTURE_2D_ARRAY,en),_.texStorage3D(_.TEXTURE_2D_ARRAY,1,fn,Jt.width,Jt.height,Ai)),fi?V.framebufferTextureMultisampleMultiviewOVR(_.FRAMEBUFFER,Li,en,0,kn(Jt),0,Ai):V.framebufferTextureMultiviewOVR(_.FRAMEBUFFER,Li,en,0,0,Ai)}else if(Jt.depthBuffer&&!Jt.stencilBuffer){let fi=_.DEPTH_COMPONENT24;if(Ze||Vn(Jt)){const Ai=Jt.depthTexture;Ai&&Ai.isDepthTexture&&(Ai.type===$n?fi=_.DEPTH_COMPONENT32F:Ai.type===on&&(fi=_.DEPTH_COMPONENT24));const gi=kn(Jt);Vn(Jt)?D.renderbufferStorageMultisampleEXT(_.RENDERBUFFER,gi,fi,Jt.width,Jt.height):_.renderbufferStorageMultisample(_.RENDERBUFFER,gi,fi,Jt.width,Jt.height)}else _.renderbufferStorage(_.RENDERBUFFER,fi,Jt.width,Jt.height);_.framebufferRenderbuffer(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,_.RENDERBUFFER,ce)}else if(Jt.depthBuffer&&Jt.stencilBuffer){const fi=kn(Jt);Ze&&Vn(Jt)===!1?_.renderbufferStorageMultisample(_.RENDERBUFFER,fi,_.DEPTH24_STENCIL8,Jt.width,Jt.height):Vn(Jt)?D.renderbufferStorageMultisampleEXT(_.RENDERBUFFER,fi,_.DEPTH24_STENCIL8,Jt.width,Jt.height):_.renderbufferStorage(_.RENDERBUFFER,_.DEPTH_STENCIL,Jt.width,Jt.height),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.DEPTH_STENCIL_ATTACHMENT,_.RENDERBUFFER,ce)}else{const fi=Jt.textures;for(let Ai=0;Ai<fi.length;Ai++){const gi=fi[Ai],fn=C.convert(gi.format,gi.colorSpace),Li=C.convert(gi.type),en=fe(gi.internalFormat,fn,Li,gi.colorSpace),L9=kn(Jt);Ze&&Vn(Jt)===!1?_.renderbufferStorageMultisample(_.RENDERBUFFER,L9,en,Jt.width,Jt.height):Vn(Jt)?D.renderbufferStorageMultisampleEXT(_.RENDERBUFFER,L9,en,Jt.width,Jt.height):_.renderbufferStorage(_.RENDERBUFFER,en,Jt.width,Jt.height)}}_.bindRenderbuffer(_.RENDERBUFFER,null)}function Se(ce,Jt){if(Jt&&Jt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(o.bindFramebuffer(_.FRAMEBUFFER,ce),!(Jt.depthTexture&&Jt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!h.get(Jt.depthTexture).__webglTexture||Jt.depthTexture.image.width!==Jt.width||Jt.depthTexture.image.height!==Jt.height)&&(Jt.depthTexture.image.width=Jt.width,Jt.depthTexture.image.height=Jt.height,Jt.depthTexture.needsUpdate=!0),ui(Jt.depthTexture,0),Jt.depthTexture.image.depth!=1?Pi(Jt.depthTexture,0):ui(Jt.depthTexture,0);const fi=h.get(Jt.depthTexture).__webglTexture,Ai=kn(Jt);if(Jt.isWebGLMultiviewRenderTarget===!0){const gi=Vn(Jt),fn=Jt.numViews;if(Jt.depthTexture.format===Le)gi?V.framebufferTextureMultisampleMultiviewOVR(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,fi,0,Ai,0,fn):V.framebufferTextureMultiviewOVR(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,fi,0,0,fn);else if(Jt.depthTexture.format===oi)gi?V.framebufferTextureMultisampleMultiviewOVR(_.FRAMEBUFFER,_.DEPTH_STENCIL_ATTACHMENT,fi,0,Ai,0,fn):V.framebufferTextureMultiviewOVR(_.FRAMEBUFFER,_.DEPTH_STENCIL_ATTACHMENT,fi,0,0,fn);else throw new Error("Unknown depthTexture format")}else if(Jt.depthTexture.format===Le)Vn(Jt)?D.framebufferTexture2DMultisampleEXT(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,_.TEXTURE_2D,fi,0,Ai):_.framebufferTexture2D(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,_.TEXTURE_2D,fi,0);else if(Jt.depthTexture.format===oi)Vn(Jt)?D.framebufferTexture2DMultisampleEXT(_.FRAMEBUFFER,_.DEPTH_STENCIL_ATTACHMENT,_.TEXTURE_2D,fi,0,Ai):_.framebufferTexture2D(_.FRAMEBUFFER,_.DEPTH_STENCIL_ATTACHMENT,_.TEXTURE_2D,fi,0);else throw new Error("Unknown depthTexture format")}function pi(ce){const Jt=h.get(ce),Ze=ce.isWebGLCubeRenderTarget===!0;if(ce.depthTexture&&!Jt.__autoAllocateDepthBuffer){if(Ze)throw new Error("target.depthTexture not supported in Cube render targets");Se(Jt.__webglFramebuffer,ce)}else if(Ze){Jt.__webglDepthbuffer=[];for(let fi=0;fi<6;fi++)o.bindFramebuffer(_.FRAMEBUFFER,Jt.__webglFramebuffer[fi]),Jt.__webglDepthbuffer[fi]=_.createRenderbuffer(),Ui(Jt.__webglDepthbuffer[fi],ce,!1)}else o.bindFramebuffer(_.FRAMEBUFFER,Jt.__webglFramebuffer),Jt.__webglDepthbuffer=_.createRenderbuffer(),Ui(Jt.__webglDepthbuffer,ce,!1);o.bindFramebuffer(_.FRAMEBUFFER,null)}function ri(ce,Jt,Ze){const fi=h.get(ce);Jt!==void 0&&ki(fi.__webglFramebuffer,ce,ce.texture,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,0),Ze!==void 0&&pi(ce)}function Si(ce){const Jt=ce.texture,Ze=h.get(ce),fi=h.get(Jt);ce.addEventListener("dispose",de);const Ai=ce.textures,gi=ce.isWebGLCubeRenderTarget===!0,fn=Ai.length>1;if(fn||(fi.__webglTexture===void 0&&(fi.__webglTexture=_.createTexture()),fi.__version=Jt.version,T.memory.textures++),gi){Ze.__webglFramebuffer=[];for(let Li=0;Li<6;Li++)if(Jt.mipmaps&&Jt.mipmaps.length>0){Ze.__webglFramebuffer[Li]=[];for(let en=0;en<Jt.mipmaps.length;en++)Ze.__webglFramebuffer[Li][en]=_.createFramebuffer()}else Ze.__webglFramebuffer[Li]=_.createFramebuffer()}else{if(Jt.mipmaps&&Jt.mipmaps.length>0){Ze.__webglFramebuffer=[];for(let Li=0;Li<Jt.mipmaps.length;Li++)Ze.__webglFramebuffer[Li]=_.createFramebuffer()}else Ze.__webglFramebuffer=_.createFramebuffer();if(fn)for(let Li=0,en=Ai.length;Li<en;Li++){const L9=h.get(Ai[Li]);L9.__webglTexture===void 0&&(L9.__webglTexture=_.createTexture(),T.memory.textures++)}if(ce.samples>0&&Vn(ce)===!1){Ze.__webglMultisampledFramebuffer=_.createFramebuffer(),Ze.__webglColorRenderbuffer=[],o.bindFramebuffer(_.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer);for(let Li=0;Li<Ai.length;Li++){const en=Ai[Li];Ze.__webglColorRenderbuffer[Li]=_.createRenderbuffer(),_.bindRenderbuffer(_.RENDERBUFFER,Ze.__webglColorRenderbuffer[Li]);const L9=C.convert(en.format,en.colorSpace),nn=C.convert(en.type),pn=fe(en.internalFormat,L9,nn,en.colorSpace,ce.isXRRenderTarget===!0),Zn=kn(ce);_.renderbufferStorageMultisample(_.RENDERBUFFER,Zn,pn,ce.width,ce.height),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0+Li,_.RENDERBUFFER,Ze.__webglColorRenderbuffer[Li])}_.bindRenderbuffer(_.RENDERBUFFER,null),ce.depthBuffer&&(Ze.__webglDepthRenderbuffer=_.createRenderbuffer(),Ui(Ze.__webglDepthRenderbuffer,ce,!0)),o.bindFramebuffer(_.FRAMEBUFFER,null)}}if(gi){o.bindTexture(_.TEXTURE_CUBE_MAP,fi.__webglTexture),I9(_.TEXTURE_CUBE_MAP,Jt);for(let Li=0;Li<6;Li++)if(Jt.mipmaps&&Jt.mipmaps.length>0)for(let en=0;en<Jt.mipmaps.length;en++)ki(Ze.__webglFramebuffer[Li][en],ce,Jt,_.COLOR_ATTACHMENT0,_.TEXTURE_CUBE_MAP_POSITIVE_X+Li,en);else ki(Ze.__webglFramebuffer[Li],ce,Jt,_.COLOR_ATTACHMENT0,_.TEXTURE_CUBE_MAP_POSITIVE_X+Li,0);Lt(Jt)&&Bt(_.TEXTURE_CUBE_MAP),o.unbindTexture()}else if(fn){for(let Li=0,en=Ai.length;Li<en;Li++){const L9=Ai[Li],nn=h.get(L9);o.bindTexture(_.TEXTURE_2D,nn.__webglTexture),I9(_.TEXTURE_2D,L9),ki(Ze.__webglFramebuffer,ce,L9,_.COLOR_ATTACHMENT0+Li,_.TEXTURE_2D,0),Lt(L9)&&Bt(_.TEXTURE_2D)}o.unbindTexture()}else{let Li=_.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(Li=ce.isWebGL3DRenderTarget?_.TEXTURE_3D:_.TEXTURE_2D_ARRAY),ce.isWebGLMultiviewRenderTarget===!0&&(Li=_.TEXTURE_2D_ARRAY),o.bindTexture(Li,fi.__webglTexture),I9(Li,Jt),Jt.mipmaps&&Jt.mipmaps.length>0)for(let en=0;en<Jt.mipmaps.length;en++)ki(Ze.__webglFramebuffer[en],ce,Jt,_.COLOR_ATTACHMENT0,Li,en);else ki(Ze.__webglFramebuffer,ce,Jt,_.COLOR_ATTACHMENT0,Li,0);Lt(Jt)&&Bt(Li),o.unbindTexture()}(ce.depthBuffer||ce.isWebGLMultiviewRenderTarget===!0)&&this.setupDepthRenderbuffer(ce)}function Oi(ce){const Jt=ce.textures;for(let Ze=0,fi=Jt.length;Ze<fi;Ze++){const Ai=Jt[Ze];if(Lt(Ai)){const gi=ce.isWebGLCubeRenderTarget?_.TEXTURE_CUBE_MAP:_.TEXTURE_2D,fn=h.get(Ai).__webglTexture;o.bindTexture(gi,fn),Bt(gi),o.unbindTexture()}}}const _i=[],Hi=[];function Zi(ce){if(ce.samples>0){if(Vn(ce)===!1){const Jt=ce.textures,Ze=ce.width,fi=ce.height;let Ai=_.COLOR_BUFFER_BIT;const gi=ce.stencilBuffer?_.DEPTH_STENCIL_ATTACHMENT:_.DEPTH_ATTACHMENT,fn=h.get(ce),Li=Jt.length>1;if(Li)for(let en=0;en<Jt.length;en++)o.bindFramebuffer(_.FRAMEBUFFER,fn.__webglMultisampledFramebuffer),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0+en,_.RENDERBUFFER,null),o.bindFramebuffer(_.FRAMEBUFFER,fn.__webglFramebuffer),_.framebufferTexture2D(_.DRAW_FRAMEBUFFER,_.COLOR_ATTACHMENT0+en,_.TEXTURE_2D,null,0);o.bindFramebuffer(_.READ_FRAMEBUFFER,fn.__webglMultisampledFramebuffer),o.bindFramebuffer(_.DRAW_FRAMEBUFFER,fn.__webglFramebuffer);for(let en=0;en<Jt.length;en++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(Ai|=_.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(Ai|=_.STENCIL_BUFFER_BIT)),Li){_.framebufferRenderbuffer(_.READ_FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.RENDERBUFFER,fn.__webglColorRenderbuffer[en]);const L9=h.get(Jt[en]).__webglTexture;_.framebufferTexture2D(_.DRAW_FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,L9,0)}_.blitFramebuffer(0,0,Ze,fi,0,0,Ze,fi,Ai,_.NEAREST),F===!0&&(_i.length=0,Hi.length=0,_i.push(_.COLOR_ATTACHMENT0+en),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(_i.push(gi),Hi.push(gi),_.invalidateFramebuffer(_.DRAW_FRAMEBUFFER,Hi)),_.invalidateFramebuffer(_.READ_FRAMEBUFFER,_i))}if(o.bindFramebuffer(_.READ_FRAMEBUFFER,null),o.bindFramebuffer(_.DRAW_FRAMEBUFFER,null),Li)for(let en=0;en<Jt.length;en++){o.bindFramebuffer(_.FRAMEBUFFER,fn.__webglMultisampledFramebuffer),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0+en,_.RENDERBUFFER,fn.__webglColorRenderbuffer[en]);const L9=h.get(Jt[en]).__webglTexture;o.bindFramebuffer(_.FRAMEBUFFER,fn.__webglFramebuffer),_.framebufferTexture2D(_.DRAW_FRAMEBUFFER,_.COLOR_ATTACHMENT0+en,_.TEXTURE_2D,L9,0)}o.bindFramebuffer(_.DRAW_FRAMEBUFFER,fn.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&F){const Jt=ce.stencilBuffer?_.DEPTH_STENCIL_ATTACHMENT:_.DEPTH_ATTACHMENT;_.invalidateFramebuffer(_.DRAW_FRAMEBUFFER,[Jt])}}}function kn(ce){return Math.min(g.maxSamples,ce.samples)}function Vn(ce){const Jt=h.get(ce);return ce.samples>0&&n.has("WEBGL_multisampled_render_to_texture")===!0&&Jt.__useRenderToTexture!==!1}function x9(ce){const Jt=T.render.frame;et.get(ce)!==Jt&&(et.set(ce,Jt),ce.update())}function Aa(ce,Jt){const Ze=ce.colorSpace,fi=ce.format,Ai=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||Ze!==$0&&Ze!==fr&&(T9.getTransfer(Ze)===$9?(fi!==le||Ai!==Ke)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ze)),Jt}function Z9(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(Y.width=ce.naturalWidth||ce.width,Y.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(Y.width=ce.displayWidth,Y.height=ce.displayHeight):(Y.width=ce.width,Y.height=ce.height),Y}this.allocateTextureUnit=xe,this.resetTextureUnits=Ce,this.setTexture2D=ui,this.setTexture2DArray=Pi,this.setTexture3D=Xe,this.setTextureCube=Ti,this.rebindTextures=ri,this.uploadTexture=un,this.setupRenderTarget=Si,this.updateRenderTargetMipmap=Oi,this.updateMultisampleRenderTarget=Zi,this.setupDepthTexture=Se,this.setupDepthRenderbuffer=pi,this.setupFrameBufferTexture=ki,this.useMultisampledRTT=Vn,this.runDeferredUploads=G9,this.setDeferTextureUploads=O9}function CA(_,n){function o(h,g=fr){let C;const T=T9.getTransfer(g);if(h===Ke)return _.UNSIGNED_BYTE;if(h===M9)return _.UNSIGNED_SHORT_4_4_4_4;if(h===qa)return _.UNSIGNED_SHORT_5_5_5_1;if(h===hr)return _.UNSIGNED_INT_5_9_9_9_REV;if(h===yn)return _.BYTE;if(h===Be)return _.SHORT;if(h===En)return _.UNSIGNED_SHORT;if(h===bi)return _.INT;if(h===on)return _.UNSIGNED_INT;if(h===$n)return _.FLOAT;if(h===Pn)return _.HALF_FLOAT;if(h===ka)return _.ALPHA;if(h===Kt)return _.RGB;if(h===le)return _.RGBA;if(h===_e)return _.LUMINANCE;if(h===Ye)return _.LUMINANCE_ALPHA;if(h===Le)return _.DEPTH_COMPONENT;if(h===oi)return _.DEPTH_STENCIL;if(h===vi)return _.RED;if(h===an)return _.RED_INTEGER;if(h===$i)return _.RG;if(h===si)return _.RG_INTEGER;if(h===dn)return _.RGBA_INTEGER;if(h===An||h===On||h===D9||h===zn)if(T===$9)if(C=n.get("WEBGL_compressed_texture_s3tc_srgb"),C!==null){if(h===An)return C.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(h===On)return C.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(h===D9)return C.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(h===zn)return C.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(C=n.get("WEBGL_compressed_texture_s3tc"),C!==null){if(h===An)return C.COMPRESSED_RGB_S3TC_DXT1_EXT;if(h===On)return C.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(h===D9)return C.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(h===zn)return C.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(h===Ln||h===u9||h===j9||h===Ia)if(C=n.get("WEBGL_compressed_texture_pvrtc"),C!==null){if(h===Ln)return C.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(h===u9)return C.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(h===j9)return C.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(h===Ia)return C.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(h===Gi||h===Jn||h===ma)if(C=n.get("WEBGL_compressed_texture_etc"),C!==null){if(h===Gi||h===Jn)return T===$9?C.COMPRESSED_SRGB8_ETC2:C.COMPRESSED_RGB8_ETC2;if(h===ma)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:C.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(h===p9||h===st||h===mt||h===It||h===$t||h===qt||h===ge||h===Ee||h===di||h===ci||h===Te||h===qe||h===yi||h===zi)if(C=n.get("WEBGL_compressed_texture_astc"),C!==null){if(h===p9)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:C.COMPRESSED_RGBA_ASTC_4x4_KHR;if(h===st)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:C.COMPRESSED_RGBA_ASTC_5x4_KHR;if(h===mt)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:C.COMPRESSED_RGBA_ASTC_5x5_KHR;if(h===It)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:C.COMPRESSED_RGBA_ASTC_6x5_KHR;if(h===$t)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:C.COMPRESSED_RGBA_ASTC_6x6_KHR;if(h===qt)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:C.COMPRESSED_RGBA_ASTC_8x5_KHR;if(h===ge)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:C.COMPRESSED_RGBA_ASTC_8x6_KHR;if(h===Ee)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:C.COMPRESSED_RGBA_ASTC_8x8_KHR;if(h===di)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:C.COMPRESSED_RGBA_ASTC_10x5_KHR;if(h===ci)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:C.COMPRESSED_RGBA_ASTC_10x6_KHR;if(h===Te)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:C.COMPRESSED_RGBA_ASTC_10x8_KHR;if(h===qe)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:C.COMPRESSED_RGBA_ASTC_10x10_KHR;if(h===yi)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:C.COMPRESSED_RGBA_ASTC_12x10_KHR;if(h===zi)return T===$9?C.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:C.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(h===sn||h===vn||h===Gn)if(C=n.get("EXT_texture_compression_bptc"),C!==null){if(h===sn)return T===$9?C.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:C.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(h===vn)return C.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(h===Gn)return C.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(h===Tn||h===_n||h===A9||h===P9)if(C=n.get("EXT_texture_compression_rgtc"),C!==null){if(h===sn)return C.COMPRESSED_RED_RGTC1_EXT;if(h===_n)return C.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(h===A9)return C.COMPRESSED_RED_GREEN_RGTC2_EXT;if(h===P9)return C.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return h===va?_.UNSIGNED_INT_24_8:_[h]!==void 0?_[h]:null}return{convert:o}}class ac extends w9{constructor(){super(),this.isGroup=!0,this.type="Group"}}class w8 extends za{constructor(n=[]){super(),this.isArrayCamera=!0,this.cameras=n}}var EA=new ee,_A=new ee;function lU(_,n,o){EA.setFromMatrixPosition(n.matrixWorld),_A.setFromMatrixPosition(o.matrixWorld);var h=EA.distanceTo(_A),g=n.projectionMatrix.elements,C=o.projectionMatrix.elements,T=g[14]/(g[10]-1),D=g[14]/(g[10]+1),F=(g[9]+1)/g[5],V=(g[9]-1)/g[5],Y=(g[8]-1)/g[0],et=(C[8]+1)/C[0],at=T*Y,rt=T*et,lt=h/(-Y+et),At=lt*-Y;n.matrixWorld.decompose(_.position,_.quaternion,_.scale),_.translateX(At),_.translateZ(lt),_.matrixWorld.compose(_.position,_.quaternion,_.scale),_.matrixWorldInverse.copy(_.matrixWorld).invert();var ct=T+lt,ot=D+lt,Ut=at-At,Lt=rt+(h-At),Bt=F*D/ot*ct,fe=V*D/ot*ct;_.projectionMatrix.makePerspective(Ut,Lt,Bt,fe,ct,ot)}function wA(_){var n,o,h=this,g=null,C=null,T=null,D=[],F=new cn,V=new cn,Y=1,et="local-floor";typeof window<"u"&&"VRFrameData"in window&&(C=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",Bt,!1));var at=new cn,rt=new _9,lt=new ee,At=new za;At.viewport=new C9,At.layers.enable(1);var ct=new za;ct.viewport=new C9,ct.layers.enable(2);var ot=new w8([At,ct]);ot.layers.enable(1),ot.layers.enable(2);var Ut=new hi,Lt;function Bt(){var he=h.isPresenting=g!==null&&g.isPresenting===!0;if(he){var Oe=g.getEyeParameters("left");n=2*Oe.renderWidth*Y,o=Oe.renderHeight*Y,Lt=_.getPixelRatio(),_.getSize(Ut),_.setDrawingBufferSize(n,o,1),At.viewport.set(0,0,n/2,o),ct.viewport.set(n/2,0,n/2,o),zt.start(),h.dispatchEvent({type:"sessionstart"})}else h.enabled&&_.setDrawingBufferSize(Ut.width,Ut.height,Lt),zt.stop(),h.dispatchEvent({type:"sessionend"})}var fe=[],ae=[];function se(he){for(var Oe=navigator.getGamepads&&navigator.getGamepads(),Ce=0,xe=Oe.length;Ce<xe;Ce++){var je=Oe[Ce];if(je&&(je.id==="Daydream Controller"||je.id==="Gear VR Controller"||je.id==="Oculus Go Controller"||je.id==="OpenVR Gamepad"||je.id.startsWith("Oculus Touch")||je.id.startsWith("HTC Vive Focus")||je.id.startsWith("Spatial Controller"))){var ui=je.hand;if(he===0&&(ui===""||ui==="right")||he===1&&ui==="left")return je}}}function de(){for(var he=0;he<D.length;he++){var Oe=D[he],Ce=se(he);if(Ce!==void 0&&Ce.pose!==void 0){if(Ce.pose===null)return;var xe=Ce.pose;xe.hasPosition===!1&&Oe.position.set(.2,-.6,-.05),xe.position!==null&&Oe.position.fromArray(xe.position),xe.orientation!==null&&Oe.quaternion.fromArray(xe.orientation),Oe.matrix.compose(Oe.position,Oe.quaternion,Oe.scale),Oe.matrix.premultiply(F),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.matrixWorldNeedsUpdate=!0,Oe.visible=!0;var je=Ce.id==="Daydream Controller"?0:1;fe[he]===void 0&&(fe[he]=!1),fe[he]!==Ce.buttons[je].pressed&&(fe[he]=Ce.buttons[je].pressed,fe[he]===!0?Oe.dispatchEvent({type:"selectstart"}):(Oe.dispatchEvent({type:"selectend"}),Oe.dispatchEvent({type:"select"}))),je=2,ae[he]===void 0&&(ae[he]=!1),Ce.buttons[je]!==void 0&&ae[he]!==Ce.buttons[je].pressed&&(ae[he]=Ce.buttons[je].pressed,ae[he]===!0?Oe.dispatchEvent({type:"squeezestart"}):(Oe.dispatchEvent({type:"squeezeend"}),Oe.dispatchEvent({type:"squeeze"})))}else Oe.visible=!1}}function Xt(he,Oe){Oe!==null&&Oe.length===4&&he.set(Oe[0]*n,Oe[1]*o,Oe[2]*n,Oe[3]*o)}this.enabled=!1,this.getController=function(he){var Oe=D[he];return Oe===void 0&&(Oe=new ac,Oe.matrixAutoUpdate=!1,Oe.visible=!1,D[he]=Oe),Oe},this.getDevice=function(){return g},this.setDevice=function(he){he!==void 0&&(g=he),zt.setContext(he)},this.setFramebufferScaleFactor=function(he){Y=he},this.setReferenceSpaceType=function(he){et=he},this.setPoseTarget=function(he){he!==void 0&&(T=he)},this.cameraAutoUpdate=!0,this.updateCamera=function(he){var Oe=et==="local-floor"?1.6:0;if(g.depthNear=he.near,g.depthFar=he.far,g.getFrameData(C),et==="local-floor"){var Ce=g.stageParameters;Ce?F.fromArray(Ce.sittingToStandingTransform):F.makeTranslation(0,Oe,0)}var xe=C.pose,je=T!==null?T:he;je.matrix.copy(F),je.matrix.decompose(je.position,je.quaternion,je.scale),xe.orientation!==null&&(rt.fromArray(xe.orientation),je.quaternion.multiply(rt)),xe.position!==null&&(rt.setFromRotationMatrix(F),lt.fromArray(xe.position),lt.applyQuaternion(rt),je.position.add(lt)),je.updateMatrixWorld();for(var ui=je.children,Pi=0,Xe=ui.length;Pi<Xe;Pi++)ui[Pi].updateMatrixWorld(!0);At.near=he.near,ct.near=he.near,At.far=he.far,ct.far=he.far,At.matrixWorldInverse.fromArray(C.leftViewMatrix),ct.matrixWorldInverse.fromArray(C.rightViewMatrix),V.copy(F).invert(),et==="local-floor"&&(At.matrixWorldInverse.multiply(V),ct.matrixWorldInverse.multiply(V));var Ti=je.parent;Ti!==null&&(at.copy(Ti.matrixWorld).invert(),At.matrixWorldInverse.multiply(at),ct.matrixWorldInverse.multiply(at)),At.matrixWorld.copy(At.matrixWorldInverse).invert(),ct.matrixWorld.copy(ct.matrixWorldInverse).invert(),At.projectionMatrix.fromArray(C.leftProjectionMatrix),ct.projectionMatrix.fromArray(C.rightProjectionMatrix),lU(ot,At,ct);var Bi=g.getLayers();if(Bi.length){var ln=Bi[0];Xt(At.viewport,ln.leftBounds),Xt(ct.viewport,ln.rightBounds)}return de(),ot},this.getCamera=function(){return ot},this.getFoveation=function(){return 1},this.setFoveation=function(he){he!==1&&console.warn("THREE.WebVRManager: setFoveation() not used in WebVR.")},this.getEnvironmentBlendMode=function(){if(h.isPresenting)return"opaque"},this.getStandingMatrix=function(){return F},this.isPresenting=!1;var zt=new h8;this.setAnimationLoop=function(he){zt.setAnimationLoop(he),this.isPresenting&&zt.start()},this.submitFrame=function(){this.isPresenting&&g.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",Bt)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}Object.assign(wA.prototype,{addEventListener:Dr.prototype.addEventListener,hasEventListener:Dr.prototype.hasEventListener,removeEventListener:Dr.prototype.removeEventListener,dispatchEvent:Dr.prototype.dispatchEvent});class OA extends zr{constructor(n,o,h,g={}){super(n,o,g),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=h}copy(n){return super.copy(n),this.numViews=n.numViews,this}}OA.prototype.isWebGLMultiviewRenderTarget=!0;const cU={type:"move"};class O8{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ac,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ac,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ac,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(n){return this._targetRay!==null&&this._targetRay.dispatchEvent(n),this._grip!==null&&this._grip.dispatchEvent(n),this._hand!==null&&this._hand.dispatchEvent(n),this}connect(n){if(n&&n.hand){const o=this._hand;if(o)for(const h of n.hand.values())this._getHandJoint(o,h)}return this.dispatchEvent({type:"connected",data:n}),this}disconnect(n){return this.dispatchEvent({type:"disconnected",data:n}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(n,o,h){let g=null,C=null,T=null;const D=this._targetRay,F=this._grip,V=this._hand;if(n&&o.session.visibilityState!=="visible-blurred"){if(V&&n.hand){T=!0;for(const At of n.hand.values()){const ct=o.getJointPose(At,h),ot=this._getHandJoint(V,At);ct!==null&&(ot.matrix.fromArray(ct.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),ot.matrixWorldNeedsUpdate=!0,ot.jointRadius=ct.radius),ot.visible=ct!==null}const Y=V.joints["index-finger-tip"],et=V.joints["thumb-tip"],at=Y.position.distanceTo(et.position),rt=.02,lt=.005;V.inputState.pinching&&at>rt+lt?(V.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:n.handedness,target:this})):!V.inputState.pinching&&at<=rt-lt&&(V.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:n.handedness,target:this}))}else F!==null&&n.gripSpace&&(C=o.getPose(n.gripSpace,h),C!==null&&(F.matrix.fromArray(C.transform.matrix),F.matrix.decompose(F.position,F.rotation,F.scale),F.matrixWorldNeedsUpdate=!0,C.linearVelocity?(F.hasLinearVelocity=!0,F.linearVelocity.copy(C.linearVelocity)):F.hasLinearVelocity=!1,C.angularVelocity?(F.hasAngularVelocity=!0,F.angularVelocity.copy(C.angularVelocity)):F.hasAngularVelocity=!1));D!==null&&(g=o.getPose(n.targetRaySpace,h),g===null&&C!==null&&(g=C),g!==null&&(D.matrix.fromArray(g.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale),D.matrixWorldNeedsUpdate=!0,g.linearVelocity?(D.hasLinearVelocity=!0,D.linearVelocity.copy(g.linearVelocity)):D.hasLinearVelocity=!1,g.angularVelocity?(D.hasAngularVelocity=!0,D.angularVelocity.copy(g.angularVelocity)):D.hasAngularVelocity=!1,this.dispatchEvent(cU)))}return D!==null&&(D.visible=g!==null),F!==null&&(F.visible=C!==null),V!==null&&(V.visible=T!==null),this}_getHandJoint(n,o){if(n.joints[o.jointName]===void 0){const h=new ac;h.matrixAutoUpdate=!1,h.visible=!1,n.joints[o.jointName]=h,n.add(h)}return n.joints[o.jointName]}}const uU=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,dU=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class hU{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(n,o,h){if(this.texture===null){const g=new K9,C=n.properties.get(g);C.__webglTexture=o.texture,(o.depthNear!=h.depthNear||o.depthFar!=h.depthFar)&&(this.depthNear=o.depthNear,this.depthFar=o.depthFar),this.texture=g}}render(n,o){if(this.texture!==null){if(this.mesh===null){const h=o.cameras[0].viewport,g=new H0({vertexShader:uU,fragmentShader:dU,uniforms:{depthColor:{value:this.texture},depthWidth:{value:h.z},depthHeight:{value:h.w}}});this.mesh=new Ua(new Eu(20,20),g)}n.render(this.mesh,o)}}reset(){this.texture=null,this.mesh=null}}class fU extends Dr{constructor(n,o,h,g){super();const C=this;let T=null,D=1;var F=null;let V=null,Y="local-floor",et=1,at=null,rt=null;var lt=[];let At=null,ct=null,ot=null,Ut=null;const Lt=new hU,Bt=o.getContextAttributes();let fe=null,ae=null;const se=[],de=[],Xt=new hi;let zt=null;const he=new za;he.layers.enable(1),he.viewport=new C9;const Oe=new za;Oe.layers.enable(2),Oe.viewport=new C9;const Ce=[he,Oe],xe=new w8;xe.layers.enable(1),xe.layers.enable(2);let je=null,ui=null;this.cameraAutoUpdate=!0,this.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.isMultiview=!1,this.getCameraPose=function(){return rt},this.getController=function(mi){let ki=se[mi];return ki===void 0&&(ki=new O8,se[mi]=ki),ki.getTargetRaySpace()},this.getControllerGrip=function(mi){let ki=se[mi];return ki===void 0&&(ki=new O8,se[mi]=ki),ki.getGripSpace()},this.getHand=function(mi){let ki=se[mi];return ki===void 0&&(ki=new O8,se[mi]=ki),ki.getHandSpace()};function Pi(mi){const ki=de.indexOf(mi.inputSource);if(ki===-1)return;const Ui=se[ki];Ui!==void 0&&(Ui.update(mi.inputSource,mi.frame,at||V),Ui.dispatchEvent({type:mi.type,data:mi.inputSource}))}function Xe(){T.removeEventListener("select",Pi),T.removeEventListener("selectstart",Pi),T.removeEventListener("selectend",Pi),T.removeEventListener("squeeze",Pi),T.removeEventListener("squeezestart",Pi),T.removeEventListener("squeezeend",Pi),T.removeEventListener("end",Xe),T.removeEventListener("inputsourceschange",Ti);for(let mi=0;mi<se.length;mi++){const ki=de[mi];ki!==null&&(de[mi]=null,se[mi].disconnect(ki))}je=null,ui=null,Lt.reset(),n.setRenderTarget(fe),ot=null,ct=null,At=null,T=null,ae=null,un.stop(),C.isPresenting=!1,n.setPixelRatio(zt),n.setSize(Xt.width,Xt.height,!1),C.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(mi){D=mi,C.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(mi){Y=mi,C.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return at||V},this.setReferenceSpace=function(mi){at=mi},this.getBaseLayer=function(){return ct!==null?ct:ot},this.getBinding=function(){return At},this.getFrame=function(){return Ut},this.getSession=function(){return T},this.setSession=async function(mi){if(T=mi,T!==null){if(fe=n.getRenderTarget(),T.addEventListener("select",Pi),T.addEventListener("selectstart",Pi),T.addEventListener("selectend",Pi),T.addEventListener("squeeze",Pi),T.addEventListener("squeezestart",Pi),T.addEventListener("squeezeend",Pi),T.addEventListener("end",Xe),T.addEventListener("inputsourceschange",Ti),Bt.xrCompatible!==!0&&await o.makeXRCompatible(),zt=n.getPixelRatio(),n.getSize(Xt),T.renderState.layers===void 0){const ki={antialias:Bt.antialias,alpha:!0,depth:Bt.depth,stencil:Bt.stencil,framebufferScaleFactor:D};ot=new XRWebGLLayer(T,o,ki),T.updateRenderState({baseLayer:ot}),n.setPixelRatio(1),n.setSize(ot.framebufferWidth,ot.framebufferHeight,!1),ae=new zr(ot.framebufferWidth,ot.framebufferHeight,{format:le,type:Ke,colorSpace:n.outputColorSpace,stencilBuffer:Bt.stencil})}else{let ki=null,Ui=null,Se=null;Bt.depth&&(Se=Bt.stencil?o.DEPTH24_STENCIL8:o.DEPTH_COMPONENT24,ki=Bt.stencil?oi:Le,Ui=Bt.stencil?va:on),C.isMultiview=g&&h.has("OCULUS_multiview");const pi={colorFormat:o.RGBA8,depthFormat:Se,scaleFactor:D};C.isMultiview&&(pi.textureType="texture-array"),At=new XRWebGLBinding(T,o),ct=At.createProjectionLayer(pi),T.updateRenderState({layers:[ct]}),n.setPixelRatio(1),n.setSize(ct.textureWidth,ct.textureHeight,!1);const ri={format:le,type:Ke,depthTexture:new v8(ct.textureWidth,ct.textureHeight,Ui,void 0,void 0,void 0,void 0,void 0,void 0,ki),stencilBuffer:Bt.stencil,colorSpace:n.outputColorSpace,samples:Bt.antialias?4:0,resolveDepthBuffer:ct.ignoreDepthValues===!1};if(C.isMultiview){const Si=h.get("OCULUS_multiview");this.maxNumViews=o.getParameter(Si.MAX_VIEWS_OVR),ae=new OA(ct.textureWidth,ct.textureHeight,2,ri)}else ae=new zr(ct.textureWidth,ct.textureHeight,ri)}ae.isXRRenderTarget=!0,this.setFoveation(et),at=null,V=await T.requestReferenceSpace(Y),un.setContext(T),un.start(),C.isPresenting=!0,C.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(T!==null)return T.environmentBlendMode},this.addLayer=function(mi){!window.XRWebGLBinding||!this.layersEnabled||!T||(lt.push(mi),this.updateLayers())},this.removeLayer=function(mi){lt.splice(lt.indexOf(mi),1),!(!window.XRWebGLBinding||!this.layersEnabled||!T)&&this.updateLayers()},this.updateLayers=function(){var mi=lt.map(function(ki){return ki});mi.unshift(T.renderState.layers[0]),T.updateRenderState({layers:mi})};function Ti(mi){for(let ki=0;ki<mi.removed.length;ki++){const Ui=mi.removed[ki],Se=de.indexOf(Ui);Se>=0&&(de[Se]=null,se[Se].disconnect(Ui))}for(let ki=0;ki<mi.added.length;ki++){const Ui=mi.added[ki];let Se=de.indexOf(Ui);if(Se===-1){for(let ri=0;ri<se.length;ri++)if(ri>=de.length){de.push(Ui),Se=ri;break}else if(de[ri]===null){de[ri]=Ui,Se=ri;break}if(Se===-1)break}const pi=se[Se];pi&&pi.connect(Ui)}}const Bi=new ee,ln=new ee;function n9(mi,ki,Ui){Bi.setFromMatrixPosition(ki.matrixWorld),ln.setFromMatrixPosition(Ui.matrixWorld);const Se=Bi.distanceTo(ln),pi=ki.projectionMatrix.elements,ri=Ui.projectionMatrix.elements,Si=pi[14]/(pi[10]-1),Oi=pi[14]/(pi[10]+1),_i=(pi[9]+1)/pi[5],Hi=(pi[9]-1)/pi[5],Zi=(pi[8]-1)/pi[0],kn=(ri[8]+1)/ri[0],Vn=Si*Zi,x9=Si*kn,Aa=Se/(-Zi+kn),Z9=Aa*-Zi;ki.matrixWorld.decompose(mi.position,mi.quaternion,mi.scale),mi.translateX(Z9),mi.translateZ(Aa),mi.matrixWorld.compose(mi.position,mi.quaternion,mi.scale),mi.matrixWorldInverse.copy(mi.matrixWorld).invert();const ce=Si+Aa,Jt=Oi+Aa,Ze=Vn-Z9,fi=x9+(Se-Z9),Ai=_i*Oi/Jt*ce,gi=Hi*Oi/Jt*ce;mi.projectionMatrix.makePerspective(Ze,fi,Ai,gi,ce,Jt),mi.projectionMatrixInverse.copy(mi.projectionMatrix).invert()}function I9(mi,ki){ki===null?mi.matrixWorld.copy(mi.matrix):mi.matrixWorld.multiplyMatrices(ki.matrixWorld,mi.matrix),mi.matrixWorldInverse.copy(mi.matrixWorld).invert()}this.setPoseTarget=function(mi){mi!==void 0&&(F=mi)},this.updateCamera=function(mi){if(T===null)return;Lt.texture!==null&&(mi.near=Lt.depthNear,mi.far=Lt.depthFar),xe.near=Oe.near=he.near=mi.near,xe.far=Oe.far=he.far=mi.far,(je!==xe.near||ui!==xe.far)&&(T.updateRenderState({depthNear:xe.near,depthFar:xe.far}),je=xe.near,ui=xe.far,he.near=je,he.far=ui,Oe.near=je,Oe.far=ui,he.updateProjectionMatrix(),Oe.updateProjectionMatrix(),mi.updateProjectionMatrix());const ki=xe.cameras;var Ui=F||mi;const Se=Ui.parent;I9(xe,Se);for(let pi=0;pi<ki.length;pi++)I9(ki[pi],Se);ki.length===2?n9(xe,he,Oe):xe.projectionMatrix.copy(he.projectionMatrix),q9(mi,xe,Ui)};function q9(mi,ki,Ui){ki.matrixWorld.decompose(ki.position,ki.quaternion,ki.scale),Ui.parent===null?Ui.matrix.copy(ki.matrixWorld):(Ui.matrix.copy(Ui.parent.matrixWorld),Ui.matrix.invert(),Ui.matrix.multiply(ki.matrixWorld)),Ui.matrix.decompose(Ui.position,Ui.quaternion,Ui.scale),Ui.updateMatrixWorld(!0),mi.projectionMatrix.copy(ki.projectionMatrix),mi.projectionMatrixInverse.copy(ki.projectionMatrixInverse),mi.isPerspectiveCamera&&(mi.fov=Hs*2*Math.atan(1/mi.projectionMatrix.elements[5]),mi.zoom=1)}this.getCamera=function(){return xe},this.getFoveation=function(){if(!(ct===null&&ot===null))return et},this.setFoveation=function(mi){et=mi,ct!==null&&(ct.fixedFoveation=mi),ot!==null&&ot.fixedFoveation!==void 0&&(ot.fixedFoveation=mi)},this.hasDepthSensing=function(){return Lt.texture!==null};let O9=null;function G9(mi,ki){if(rt=ki.getViewerPose(at||V),Ut=ki,rt!==null){const Ui=rt.views;ot!==null&&(n.setRenderTargetFramebuffer(ae,ot.framebuffer),n.setRenderTarget(ae));let Se=!1;Ui.length!==xe.cameras.length&&(xe.cameras.length=0,Se=!0);for(let ri=0;ri<Ui.length;ri++){const Si=Ui[ri];let Oi=null;if(ot!==null)Oi=ot.getViewport(Si);else{const Hi=At.getViewSubImage(ct,Si);Oi=Hi.viewport,ri===0&&(n.setRenderTargetTextures(ae,Hi.colorTexture,ct.ignoreDepthValues?void 0:Hi.depthStencilTexture),n.setRenderTarget(ae))}let _i=Ce[ri];_i===void 0&&(_i=new za,_i.layers.enable(ri),_i.viewport=new C9,Ce[ri]=_i),_i.matrix.fromArray(Si.transform.matrix),_i.matrix.decompose(_i.position,_i.quaternion,_i.scale),_i.projectionMatrix.fromArray(Si.projectionMatrix),_i.projectionMatrixInverse.copy(_i.projectionMatrix).invert(),_i.viewport.set(Oi.x,Oi.y,Oi.width,Oi.height),ri===0&&(xe.matrix.copy(_i.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale)),Se===!0&&xe.cameras.push(_i)}const pi=T.enabledFeatures;if(pi&&pi.includes("depth-sensing")){const ri=At.getDepthInformation(Ui[0]);ri&&ri.isValid&&ri.texture&&Lt.init(n,ri,T.renderState)}}for(let Ui=0;Ui<se.length;Ui++){const Se=de[Ui],pi=se[Ui];Se!==null&&pi!==void 0&&pi.update(Se,ki,at||V)}Lt.render(n,xe),O9&&O9(mi,ki),ki.detectedPlanes&&C.dispatchEvent({type:"planesdetected",data:ki}),Ut=null}const un=new h8;un.setAnimationLoop(G9),this.setAnimationLoop=function(mi){O9=mi},this.dispose=function(){}}}const rc=new l0,mU=new cn;function pU(_,n){function o(ct,ot){ct.matrixAutoUpdate===!0&&ct.updateMatrix(),ot.value.copy(ct.matrix)}function h(ct,ot){ot.color.getRGB(ct.fogColor.value,QM(_)),ot.isFog?(ct.fogNear.value=ot.near,ct.fogFar.value=ot.far):ot.isFogExp2&&(ct.fogDensity.value=ot.density)}function g(ct,ot,Ut,Lt,Bt){ot.isMeshBasicMaterial||ot.isMeshLambertMaterial?C(ct,ot):ot.isMeshToonMaterial?(C(ct,ot),et(ct,ot)):ot.isMeshPhongMaterial?(C(ct,ot),Y(ct,ot)):ot.isMeshStandardMaterial?(C(ct,ot),at(ct,ot),ot.isMeshPhysicalMaterial&&rt(ct,ot,Bt)):ot.isMeshMatcapMaterial?(C(ct,ot),lt(ct,ot)):ot.isMeshDepthMaterial?C(ct,ot):ot.isMeshDistanceMaterial?(C(ct,ot),At(ct,ot)):ot.isMeshNormalMaterial?C(ct,ot):ot.isLineBasicMaterial?(T(ct,ot),ot.isLineDashedMaterial&&D(ct,ot)):ot.isPointsMaterial?F(ct,ot,Ut,Lt):ot.isSpriteMaterial?V(ct,ot):ot.isShadowMaterial?(ct.color.value.copy(ot.color),ct.opacity.value=ot.opacity):ot.isShaderMaterial&&(ot.uniformsNeedUpdate=!1)}function C(ct,ot){ct.opacity.value=ot.opacity,ot.color&&ct.diffuse.value.copy(ot.color),ot.emissive&&ct.emissive.value.copy(ot.emissive).multiplyScalar(ot.emissiveIntensity),ot.map&&(ct.map.value=ot.map,o(ot.map,ct.mapTransform)),ot.alphaMap&&(ct.alphaMap.value=ot.alphaMap,o(ot.alphaMap,ct.alphaMapTransform)),ot.bumpMap&&(ct.bumpMap.value=ot.bumpMap,o(ot.bumpMap,ct.bumpMapTransform),ct.bumpScale.value=ot.bumpScale,ot.side===S&&(ct.bumpScale.value*=-1)),ot.normalMap&&(ct.normalMap.value=ot.normalMap,o(ot.normalMap,ct.normalMapTransform),ct.normalScale.value.copy(ot.normalScale),ot.side===S&&ct.normalScale.value.negate()),ot.displacementMap&&(ct.displacementMap.value=ot.displacementMap,o(ot.displacementMap,ct.displacementMapTransform),ct.displacementScale.value=ot.displacementScale,ct.displacementBias.value=ot.displacementBias),ot.emissiveMap&&(ct.emissiveMap.value=ot.emissiveMap,o(ot.emissiveMap,ct.emissiveMapTransform)),ot.specularMap&&(ct.specularMap.value=ot.specularMap,o(ot.specularMap,ct.specularMapTransform)),ot.alphaTest>0&&(ct.alphaTest.value=ot.alphaTest);const Ut=n.get(ot),Lt=Ut.envMap,Bt=Ut.envMapRotation;if(Lt&&(ct.envMap.value=Lt,rc.copy(Bt),rc.x*=-1,rc.y*=-1,rc.z*=-1,Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1&&(rc.y*=-1,rc.z*=-1),ct.envMapRotation.value.setFromMatrix4(mU.makeRotationFromEuler(rc)),ct.flipEnvMap.value=Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1?-1:1,ct.reflectivity.value=ot.reflectivity,ct.ior.value=ot.ior,ct.refractionRatio.value=ot.refractionRatio),ot.lightMap){ct.lightMap.value=ot.lightMap;const fe=_._useLegacyLights===!0?Math.PI:1;ct.lightMapIntensity.value=ot.lightMapIntensity*fe,o(ot.lightMap,ct.lightMapTransform)}ot.aoMap&&(ct.aoMap.value=ot.aoMap,ct.aoMapIntensity.value=ot.aoMapIntensity,o(ot.aoMap,ct.aoMapTransform))}function T(ct,ot){ct.diffuse.value.copy(ot.color),ct.opacity.value=ot.opacity,ot.map&&(ct.map.value=ot.map,o(ot.map,ct.mapTransform))}function D(ct,ot){ct.dashSize.value=ot.dashSize,ct.totalSize.value=ot.dashSize+ot.gapSize,ct.scale.value=ot.scale}function F(ct,ot,Ut,Lt){ct.diffuse.value.copy(ot.color),ct.opacity.value=ot.opacity,ct.size.value=ot.size*Ut,ct.scale.value=Lt*.5,ot.map&&(ct.map.value=ot.map,o(ot.map,ct.uvTransform)),ot.alphaMap&&(ct.alphaMap.value=ot.alphaMap,o(ot.alphaMap,ct.alphaMapTransform)),ot.alphaTest>0&&(ct.alphaTest.value=ot.alphaTest)}function V(ct,ot){ct.diffuse.value.copy(ot.color),ct.opacity.value=ot.opacity,ct.rotation.value=ot.rotation,ot.map&&(ct.map.value=ot.map,o(ot.map,ct.mapTransform)),ot.alphaMap&&(ct.alphaMap.value=ot.alphaMap,o(ot.alphaMap,ct.alphaMapTransform)),ot.alphaTest>0&&(ct.alphaTest.value=ot.alphaTest)}function Y(ct,ot){ct.specular.value.copy(ot.specular),ct.shininess.value=Math.max(ot.shininess,1e-4)}function et(ct,ot){ot.gradientMap&&(ct.gradientMap.value=ot.gradientMap)}function at(ct,ot){ct.metalness.value=ot.metalness,ot.metalnessMap&&(ct.metalnessMap.value=ot.metalnessMap,o(ot.metalnessMap,ct.metalnessMapTransform)),ct.roughness.value=ot.roughness,ot.roughnessMap&&(ct.roughnessMap.value=ot.roughnessMap,o(ot.roughnessMap,ct.roughnessMapTransform)),ot.envMap&&(ct.envMapIntensity.value=ot.envMapIntensity)}function rt(ct,ot,Ut){ct.ior.value=ot.ior,ot.sheen>0&&(ct.sheenColor.value.copy(ot.sheenColor).multiplyScalar(ot.sheen),ct.sheenRoughness.value=ot.sheenRoughness,ot.sheenColorMap&&(ct.sheenColorMap.value=ot.sheenColorMap,o(ot.sheenColorMap,ct.sheenColorMapTransform)),ot.sheenRoughnessMap&&(ct.sheenRoughnessMap.value=ot.sheenRoughnessMap,o(ot.sheenRoughnessMap,ct.sheenRoughnessMapTransform))),ot.clearcoat>0&&(ct.clearcoat.value=ot.clearcoat,ct.clearcoatRoughness.value=ot.clearcoatRoughness,ot.clearcoatMap&&(ct.clearcoatMap.value=ot.clearcoatMap,o(ot.clearcoatMap,ct.clearcoatMapTransform)),ot.clearcoatRoughnessMap&&(ct.clearcoatRoughnessMap.value=ot.clearcoatRoughnessMap,o(ot.clearcoatRoughnessMap,ct.clearcoatRoughnessMapTransform)),ot.clearcoatNormalMap&&(ct.clearcoatNormalMap.value=ot.clearcoatNormalMap,o(ot.clearcoatNormalMap,ct.clearcoatNormalMapTransform),ct.clearcoatNormalScale.value.copy(ot.clearcoatNormalScale),ot.side===S&&ct.clearcoatNormalScale.value.negate())),ot.dispersion>0&&(ct.dispersion.value=ot.dispersion),ot.iridescence>0&&(ct.iridescence.value=ot.iridescence,ct.iridescenceIOR.value=ot.iridescenceIOR,ct.iridescenceThicknessMinimum.value=ot.iridescenceThicknessRange[0],ct.iridescenceThicknessMaximum.value=ot.iridescenceThicknessRange[1],ot.iridescenceMap&&(ct.iridescenceMap.value=ot.iridescenceMap,o(ot.iridescenceMap,ct.iridescenceMapTransform)),ot.iridescenceThicknessMap&&(ct.iridescenceThicknessMap.value=ot.iridescenceThicknessMap,o(ot.iridescenceThicknessMap,ct.iridescenceThicknessMapTransform))),ot.transmission>0&&(ct.transmission.value=ot.transmission,ct.transmissionSamplerMap.value=Ut.texture,ct.transmissionSamplerSize.value.set(Ut.width,Ut.height),ot.transmissionMap&&(ct.transmissionMap.value=ot.transmissionMap,o(ot.transmissionMap,ct.transmissionMapTransform)),ct.thickness.value=ot.thickness,ot.thicknessMap&&(ct.thicknessMap.value=ot.thicknessMap,o(ot.thicknessMap,ct.thicknessMapTransform)),ct.attenuationDistance.value=ot.attenuationDistance,ct.attenuationColor.value.copy(ot.attenuationColor)),ot.anisotropy>0&&(ct.anisotropyVector.value.set(ot.anisotropy*Math.cos(ot.anisotropyRotation),ot.anisotropy*Math.sin(ot.anisotropyRotation)),ot.anisotropyMap&&(ct.anisotropyMap.value=ot.anisotropyMap,o(ot.anisotropyMap,ct.anisotropyMapTransform))),ct.specularIntensity.value=ot.specularIntensity,ct.specularColor.value.copy(ot.specularColor),ot.specularColorMap&&(ct.specularColorMap.value=ot.specularColorMap,o(ot.specularColorMap,ct.specularColorMapTransform)),ot.specularIntensityMap&&(ct.specularIntensityMap.value=ot.specularIntensityMap,o(ot.specularIntensityMap,ct.specularIntensityMapTransform))}function lt(ct,ot){ot.matcap&&(ct.matcap.value=ot.matcap)}function At(ct,ot){const Ut=n.get(ot).light;ct.referencePosition.value.setFromMatrixPosition(Ut.matrixWorld),ct.nearDistance.value=Ut.shadow.camera.near,ct.farDistance.value=Ut.shadow.camera.far}return{refreshFogUniforms:h,refreshMaterialUniforms:g}}function gU(_,n,o,h){let g={},C={},T=[];const D=_.getParameter(_.MAX_UNIFORM_BUFFER_BINDINGS);function F(Ut,Lt){const Bt=Lt.program;h.uniformBlockBinding(Ut,Bt)}function V(Ut,Lt){let Bt=g[Ut.id];Bt===void 0&&(lt(Ut),Bt=Y(Ut),g[Ut.id]=Bt,Ut.addEventListener("dispose",ct));const fe=Lt.program;h.updateUBOMapping(Ut,fe);const ae=n.render.frame;C[Ut.id]!==ae&&(at(Ut),C[Ut.id]=ae)}function Y(Ut){const Lt=et();Ut.__bindingPointIndex=Lt;const Bt=_.createBuffer(),fe=Ut.__size,ae=Ut.usage;return _.bindBuffer(_.UNIFORM_BUFFER,Bt),_.bufferData(_.UNIFORM_BUFFER,fe,ae),_.bindBuffer(_.UNIFORM_BUFFER,null),_.bindBufferBase(_.UNIFORM_BUFFER,Lt,Bt),Bt}function et(){for(let Ut=0;Ut<D;Ut++)if(T.indexOf(Ut)===-1)return T.push(Ut),Ut;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function at(Ut){const Lt=g[Ut.id],Bt=Ut.uniforms,fe=Ut.__cache;_.bindBuffer(_.UNIFORM_BUFFER,Lt);for(let ae=0,se=Bt.length;ae<se;ae++){const de=Array.isArray(Bt[ae])?Bt[ae]:[Bt[ae]];for(let Xt=0,zt=de.length;Xt<zt;Xt++){const he=de[Xt];if(rt(he,ae,Xt,fe)===!0){const Oe=he.__offset,Ce=Array.isArray(he.value)?he.value:[he.value];let xe=0;for(let je=0;je<Ce.length;je++){const ui=Ce[je],Pi=At(ui);typeof ui=="number"||typeof ui=="boolean"?(he.__data[0]=ui,_.bufferSubData(_.UNIFORM_BUFFER,Oe+xe,he.__data)):ui.isMatrix3?(he.__data[0]=ui.elements[0],he.__data[1]=ui.elements[1],he.__data[2]=ui.elements[2],he.__data[3]=0,he.__data[4]=ui.elements[3],he.__data[5]=ui.elements[4],he.__data[6]=ui.elements[5],he.__data[7]=0,he.__data[8]=ui.elements[6],he.__data[9]=ui.elements[7],he.__data[10]=ui.elements[8],he.__data[11]=0):(ui.toArray(he.__data,xe),xe+=Pi.storage/Float32Array.BYTES_PER_ELEMENT)}_.bufferSubData(_.UNIFORM_BUFFER,Oe,he.__data)}}}_.bindBuffer(_.UNIFORM_BUFFER,null)}function rt(Ut,Lt,Bt,fe){const ae=Ut.value,se=Lt+"_"+Bt;if(fe[se]===void 0)return typeof ae=="number"||typeof ae=="boolean"?fe[se]=ae:fe[se]=ae.clone(),!0;{const de=fe[se];if(typeof ae=="number"||typeof ae=="boolean"){if(de!==ae)return fe[se]=ae,!0}else if(de.equals(ae)===!1)return de.copy(ae),!0}return!1}function lt(Ut){const Lt=Ut.uniforms;let Bt=0;const fe=16;for(let se=0,de=Lt.length;se<de;se++){const Xt=Array.isArray(Lt[se])?Lt[se]:[Lt[se]];for(let zt=0,he=Xt.length;zt<he;zt++){const Oe=Xt[zt],Ce=Array.isArray(Oe.value)?Oe.value:[Oe.value];for(let xe=0,je=Ce.length;xe<je;xe++){const ui=Ce[xe],Pi=At(ui),Xe=Bt%fe;Xe!==0&&fe-Xe<Pi.boundary&&(Bt+=fe-Xe),Oe.__data=new Float32Array(Pi.storage/Float32Array.BYTES_PER_ELEMENT),Oe.__offset=Bt,Bt+=Pi.storage}}}const ae=Bt%fe;return ae>0&&(Bt+=fe-ae),Ut.__size=Bt,Ut.__cache={},this}function At(Ut){const Lt={boundary:0,storage:0};return typeof Ut=="number"||typeof Ut=="boolean"?(Lt.boundary=4,Lt.storage=4):Ut.isVector2?(Lt.boundary=8,Lt.storage=8):Ut.isVector3||Ut.isColor?(Lt.boundary=16,Lt.storage=12):Ut.isVector4?(Lt.boundary=16,Lt.storage=16):Ut.isMatrix3?(Lt.boundary=48,Lt.storage=48):Ut.isMatrix4?(Lt.boundary=64,Lt.storage=64):Ut.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Ut),Lt}function ct(Ut){const Lt=Ut.target;Lt.removeEventListener("dispose",ct);const Bt=T.indexOf(Lt.__bindingPointIndex);T.splice(Bt,1),_.deleteBuffer(g[Lt.id]),delete g[Lt.id],delete C[Lt.id]}function ot(){for(const Ut in g)_.deleteBuffer(g[Ut]);T=[],g={},C={}}return{bind:F,update:V,dispose:ot}}class MU{constructor(n={}){const{canvas:o=Z1(),context:h=null,depth:g=!0,stencil:C=!1,alpha:T=!1,antialias:D=!1,premultipliedAlpha:F=!0,preserveDrawingBuffer:V=!1,powerPreference:Y="default",failIfMajorPerformanceCaveat:et=!1,multiviewStereo:at=!1}=n;this.isWebGLRenderer=!0;let rt;if(h!==null){if(typeof WebGLRenderingContext<"u"&&h instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");rt=h.getContextAttributes().alpha}else rt=T;const lt=new Uint32Array(4),At=new Int32Array(4);let ct=null,ot=null;const Ut=[],Lt=[];this.domElement=o,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=y9,this._useLegacyLights=!1,this.toneMapping=ai,this.toneMappingExposure=1;const Bt=this;let fe=!1,ae=0,se=0,de=null,Xt=-1,zt=null;const he=new C9,Oe=new C9;let Ce=null;const xe=new tn(0);let je=0,ui=o.width,Pi=o.height,Xe=1,Ti=null,Bi=null;const ln=new C9(0,0,ui,Pi),n9=new C9(0,0,ui,Pi);let I9=!1;const q9=new ch;let O9=!1,G9=!1;const un=new cn,mi=new ee,ki={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ui(){return de===null?Xe:1}let Se=h;function pi(te,Ie){return o.getContext(te,Ie)}try{const te={alpha:!0,depth:g,stencil:C,antialias:D,premultipliedAlpha:F,preserveDrawingBuffer:V,powerPreference:Y,failIfMajorPerformanceCaveat:et};if("setAttribute"in o&&o.setAttribute("data-engine",`three.js r${f}`),o.addEventListener("webglcontextlost",Ri,!1),o.addEventListener("webglcontextrestored",mn,!1),o.addEventListener("webglcontextcreationerror",Yi,!1),Se===null){const Ie="webgl2";if(Se=pi(Ie,te),Se===null)throw pi(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}let ri,Si,Oi,_i,Hi,Zi,kn,Vn,x9,Aa,Z9,ce,Jt,Ze,fi,Ai,gi,fn,Li,en,L9,nn,pn,Zn,Sn;function Ae(){ri=new xN(Se),ri.init(),pn=new CA(Se,ri),Si=new bN(Se,ri,n,pn),Oi=new oU(Se),_i=new IN(Se),Hi=new WF,Zi=new sU(Se,ri,Oi,Hi,Si,pn,_i),kn=new EN(Bt),Vn=new ON(Bt),x9=new ML(Se),Zn=new yN(Se,x9),Aa=new SN(Se,x9,_i,Zn),Z9=new DN(Se,Aa,x9,_i),en=new BN(Se,Si,Zi),Ai=new CN(Hi),ce=new jF(Bt,kn,Vn,ri,Si,Zn,Ai),Jt=new pU(Bt,Hi),Ze=new XF,fi=new iU(ri),Li=new AN(Bt,kn,Vn,Oi,Z9,rt,F),fn=new RN(Bt,ri,Se),gi=new rU(Bt,Z9,Si),Sn=new gU(Se,_i,Si,Oi),L9=new vN(Se,ri,_i),nn=new TN(Se,ri,_i),_i.programs=ce.programs,Bt.capabilities=Si,Bt.extensions=ri,Bt.properties=Hi,Bt.renderLists=Ze,Bt.shadowMap=gi,Bt.state=Oi,Bt.info=_i}Ae();const wi=typeof navigator<"u"&&"xr"in navigator?new fU(Bt,Se,ri,at):new wA(Bt);this.xr=wi,this.getContext=function(){return Se},this.getContextAttributes=function(){return Se.getContextAttributes()},this.forceContextLoss=function(){const te=ri.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=ri.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return Xe},this.setPixelRatio=function(te){te!==void 0&&(Xe=te,this.setSize(ui,Pi,!1))},this.getSize=function(te){return te.set(ui,Pi)},this.setSize=function(te,Ie,We=!0){if(wi.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ui=te,Pi=Ie,o.width=Math.floor(te*Xe),o.height=Math.floor(Ie*Xe),We===!0&&(o.style.width=te+"px",o.style.height=Ie+"px"),this.setViewport(0,0,te,Ie)},this.getDrawingBufferSize=function(te){return te.set(ui*Xe,Pi*Xe).floor()},this.setDrawingBufferSize=function(te,Ie,We){ui=te,Pi=Ie,Xe=We,o.width=Math.floor(te*We),o.height=Math.floor(Ie*We),this.setViewport(0,0,te,Ie)},this.getCurrentViewport=function(te){return te.copy(he)},this.getViewport=function(te){return te.copy(ln)},this.setViewport=function(te,Ie,We,He){te.isVector4?ln.set(te.x,te.y,te.z,te.w):ln.set(te,Ie,We,He),Oi.viewport(he.copy(ln).multiplyScalar(Xe).round())},this.getScissor=function(te){return te.copy(n9)},this.setScissor=function(te,Ie,We,He){te.isVector4?n9.set(te.x,te.y,te.z,te.w):n9.set(te,Ie,We,He),Oi.scissor(Oe.copy(n9).multiplyScalar(Xe).round())},this.getScissorTest=function(){return I9},this.setScissorTest=function(te){Oi.setScissorTest(I9=te)},this.setOpaqueSort=function(te){Ti=te},this.setTransparentSort=function(te){Bi=te},this.getClearColor=function(te){return te.copy(Li.getClearColor())},this.setClearColor=function(){Li.setClearColor.apply(Li,arguments)},this.getClearAlpha=function(){return Li.getClearAlpha()},this.setClearAlpha=function(){Li.setClearAlpha.apply(Li,arguments)},this.clear=function(te=!0,Ie=!0,We=!0){let He=0;if(te){let ze=!1;if(de!==null){const Ji=de.texture.format;ze=Ji===dn||Ji===si||Ji===an}if(ze){const Ji=de.texture.type,Mn=Ji===Ke||Ji===on||Ji===En||Ji===va||Ji===M9||Ji===qa,bn=Li.getClearColor(),Rn=Li.getClearAlpha(),jn=bn.r,a9=bn.g,d9=bn.b;Mn?(lt[0]=jn,lt[1]=a9,lt[2]=d9,lt[3]=Rn,Se.clearBufferuiv(Se.COLOR,0,lt)):(At[0]=jn,At[1]=a9,At[2]=d9,At[3]=Rn,Se.clearBufferiv(Se.COLOR,0,At))}else He|=Se.COLOR_BUFFER_BIT}Ie&&(He|=Se.DEPTH_BUFFER_BIT),We&&(He|=Se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Se.clear(He)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",Ri,!1),o.removeEventListener("webglcontextrestored",mn,!1),o.removeEventListener("webglcontextcreationerror",Yi,!1),Ze.dispose(),fi.dispose(),Hi.dispose(),kn.dispose(),Vn.dispose(),Z9.dispose(),Zn.dispose(),Sn.dispose(),ce.dispose(),wi.dispose(),wi.removeEventListener("sessionstart",vo),wi.removeEventListener("sessionend",fv),Ac.stop()};function Ri(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),fe=!0}function mn(){console.log("THREE.WebGLRenderer: Context Restored."),fe=!1;const te=_i.autoReset,Ie=gi.enabled,We=gi.autoUpdate,He=gi.needsUpdate,ze=gi.type;Ae(),_i.autoReset=te,gi.enabled=Ie,gi.autoUpdate=We,gi.needsUpdate=He,gi.type=ze}function Yi(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function t9(te){const Ie=te.target;Ie.removeEventListener("dispose",t9),qi(Ie)}function qi(te){Vi(te),Hi.remove(te)}function Vi(te){const Ie=Hi.get(te).programs;Ie!==void 0&&(Ie.forEach(function(We){ce.releaseProgram(We)}),te.isShaderMaterial&&ce.releaseShaderCache(te))}this.renderBufferDirect=function(te,Ie,We,He,ze,Ji){Ie===null&&(Ie=ki);const Mn=ze.isMesh&&ze.matrixWorld.determinant()<0,bn=dG(te,Ie,We,He,ze);Oi.setMaterial(He,Mn);let Rn=We.index,jn=1;if(He.wireframe===!0){if(Rn=Aa.getWireframeAttribute(We),Rn===void 0)return;jn=2}const a9=We.drawRange,d9=We.attributes.position;let $a=a9.start*jn,wr=(a9.start+a9.count)*jn;Ji!==null&&($a=Math.max($a,Ji.start*jn),wr=Math.min(wr,(Ji.start+Ji.count)*jn)),Rn!==null?($a=Math.max($a,0),wr=Math.min(wr,Rn.count)):d9!=null&&($a=Math.max($a,0),wr=Math.min(wr,d9.count));const d0=wr-$a;if(d0<0||d0===1/0)return;Zn.setup(ze,He,bn,We,Rn);let al,B9=L9;if(Rn!==null&&(al=x9.get(Rn),B9=nn,B9.setIndex(al)),ze.isMesh)He.wireframe===!0?(Oi.setLineWidth(He.wireframeLinewidth*Ui()),B9.setMode(Se.LINES)):B9.setMode(Se.TRIANGLES);else if(ze.isLine){let ls=He.linewidth;ls===void 0&&(ls=1),Oi.setLineWidth(ls*Ui()),ze.isLineSegments?B9.setMode(Se.LINES):ze.isLineLoop?B9.setMode(Se.LINE_LOOP):B9.setMode(Se.LINE_STRIP)}else ze.isPoints?B9.setMode(Se.POINTS):ze.isSprite&&B9.setMode(Se.TRIANGLES);if(ze.isBatchedMesh)ze._multiDrawInstances!==null?B9.renderMultiDrawInstances(ze._multiDrawStarts,ze._multiDrawCounts,ze._multiDrawCount,ze._multiDrawInstances):B9.renderMultiDraw(ze._multiDrawStarts,ze._multiDrawCounts,ze._multiDrawCount);else if(ze.isInstancedMesh)B9.renderInstances($a,d0,ze.count);else if(We.isInstancedBufferGeometry){const ls=We._maxInstanceCount!==void 0?We._maxInstanceCount:1/0,s9=Math.min(We.instanceCount,ls);B9.renderInstances($a,d0,s9)}else B9.render($a,d0)};function o9(te,Ie,We){te.transparent===!0&&te.side===R&&te.forceSinglePass===!1?(te.side=S,te.needsUpdate=!0,bm(te,Ie,We),te.side=O,te.needsUpdate=!0,bm(te,Ie,We),te.side=R):bm(te,Ie,We)}this.compile=function(te,Ie,We=null){We===null&&(We=te),ot=fi.get(We),ot.init(Ie),Lt.push(ot),We.traverseVisible(function(ze){ze.isLight&&ze.layers.test(Ie.layers)&&(ot.pushLight(ze),ze.castShadow&&ot.pushShadow(ze))}),te!==We&&te.traverseVisible(function(ze){ze.isLight&&ze.layers.test(Ie.layers)&&(ot.pushLight(ze),ze.castShadow&&ot.pushShadow(ze))}),ot.setupLights(Bt._useLegacyLights);const He=new Set;return te.traverse(function(ze){const Ji=ze.material;if(Ji)if(Array.isArray(Ji))for(let Mn=0;Mn<Ji.length;Mn++){const bn=Ji[Mn];o9(bn,We,ze),He.add(bn)}else o9(Ji,We,ze),He.add(Ji)}),Lt.pop(),ot=null,He},this.compileAsync=function(te,Ie,We=null){const He=this.compile(te,Ie,We);return new Promise(ze=>{function Ji(){if(He.forEach(function(Mn){Hi.get(Mn).currentProgram.isReady()&&He.delete(Mn)}),He.size===0){ze(te);return}setTimeout(Ji,10)}ri.get("KHR_parallel_shader_compile")!==null?Ji():setTimeout(Ji,10)})};let In=null;function Wa(te){In&&In(te)}function vo(){Ac.stop()}function fv(){Ac.start()}const Ac=new h8;Ac.setAnimationLoop(Wa),typeof self<"u"&&Ac.setContext(self),this.setAnimationLoop=function(te){In=te,wi.setAnimationLoop(te),te===null?Ac.stop():Ac.start()},wi.addEventListener("sessionstart",vo),wi.addEventListener("sessionend",fv),this.render=function(te,Ie){if(Ie!==void 0&&Ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(fe===!0)return;te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),Ie.parent===null&&Ie.matrixWorldAutoUpdate===!0&&Ie.updateMatrixWorld(),wi.enabled===!0&&wi.isPresenting===!0&&(wi.cameraAutoUpdate===!0&&wi.updateCamera(Ie),Ie=wi.getCamera()),te.isScene===!0&&te.onBeforeRender(Bt,te,Ie,de),ot=fi.get(te,Lt.length),ot.init(Ie),Lt.push(ot),un.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),q9.setFromProjectionMatrix(un),G9=this.localClippingEnabled,O9=Ai.init(this.clippingPlanes,G9),ct=Ze.get(te,Ut.length),ct.init(),Ut.push(ct),mv(te,Ie,0,Bt.sortObjects),ct.finish(),Bt.sortObjects===!0&&ct.sort(Ti,Bi);const We=wi.enabled===!1||wi.isPresenting===!1||wi.hasDepthSensing()===!1;We&&Li.addToRenderList(ct,te),this.info.render.frame++,O9===!0&&Ai.beginShadows();const He=ot.state.shadowsArray;gi.render(He,te,Ie),O9===!0&&Ai.endShadows(),this.info.autoReset===!0&&this.info.reset();const ze=ct.opaque,Ji=ct.transmissive;if(ot.setupLights(Bt._useLegacyLights),Ie.isArrayCamera){const Mn=Ie.cameras;if(Ji.length>0)for(let bn=0,Rn=Mn.length;bn<Rn;bn++){const jn=Mn[bn];pv(ze,Ji,te,jn)}if(We&&Li.render(te),wi.enabled&&wi.isMultiview)Zi.setDeferTextureUploads(!0),h5(ct,te,Ie,Ie.cameras[0].viewport);else for(let bn=0,Rn=Mn.length;bn<Rn;bn++){const jn=Mn[bn];h5(ct,te,jn,jn.viewport)}}else Ji.length>0&&pv(ze,Ji,te,Ie),We&&Li.render(te),h5(ct,te,Ie);de!==null&&(Zi.updateMultisampleRenderTarget(de),Zi.updateRenderTargetMipmap(de)),te.isScene===!0&&te.onAfterRender(Bt,te,Ie),Zi.runDeferredUploads(),wi.enabled&&wi.submitFrame&&wi.submitFrame(),Zn.resetDefaultState(),Xt=-1,zt=null,Lt.pop(),Lt.length>0?(ot=Lt[Lt.length-1],O9===!0&&Ai.setGlobalState(Bt.clippingPlanes,ot.state.camera)):ot=null,Ut.pop(),Ut.length>0?ct=Ut[Ut.length-1]:ct=null};function mv(te,Ie,We,He){if(te.visible===!1)return;if(te.layers.test(Ie.layers)){if(te.isGroup)We=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(Ie);else if(te.isLight)ot.pushLight(te),te.castShadow&&ot.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||q9.intersectsSprite(te)){He&&mi.setFromMatrixPosition(te.matrixWorld).applyMatrix4(un);const Mn=Z9.update(te),bn=te.material;bn.visible&&ct.push(te,Mn,bn,We,mi.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(!te.frustumCulled||q9.intersectsObject(te))){const Mn=Z9.update(te),bn=te.material;if(He&&(te.boundingSphere!==void 0?(te.boundingSphere===null&&te.computeBoundingSphere(),mi.copy(te.boundingSphere.center)):(Mn.boundingSphere===null&&Mn.computeBoundingSphere(),mi.copy(Mn.boundingSphere.center)),mi.applyMatrix4(te.matrixWorld).applyMatrix4(un)),Array.isArray(bn)){const Rn=Mn.groups;for(let jn=0,a9=Rn.length;jn<a9;jn++){const d9=Rn[jn],$a=bn[d9.materialIndex];$a&&$a.visible&&ct.push(te,Mn,$a,We,mi.z,d9)}}else bn.visible&&ct.push(te,Mn,bn,We,mi.z,null)}}const Ji=te.children;for(let Mn=0,bn=Ji.length;Mn<bn;Mn++)mv(Ji[Mn],Ie,We,He)}function h5(te,Ie,We,He){const ze=te.opaque,Ji=te.transmissive,Mn=te.transparent;ot.setupLightsView(We),O9===!0&&Ai.setGlobalState(Bt.clippingPlanes,We),He&&Oi.viewport(he.copy(He)),ze.length>0&&vm(ze,Ie,We),Ji.length>0&&vm(Ji,Ie,We),Mn.length>0&&vm(Mn,Ie,We),Oi.buffers.depth.setTest(!0),Oi.buffers.depth.setMask(!0),Oi.buffers.color.setMask(!0),Oi.setPolygonOffset(!1)}function pv(te,Ie,We,He){if((We.isScene===!0?We.overrideMaterial:null)!==null)return;ot.state.transmissionRenderTarget[He.id]===void 0&&(ot.state.transmissionRenderTarget[He.id]=new zr(1,1,{generateMipmaps:!0,type:ri.has("EXT_color_buffer_half_float")||ri.has("EXT_color_buffer_float")?Pn:Ke,minFilter:Ii,samples:4,stencilBuffer:C,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const Ji=ot.state.transmissionRenderTarget[He.id],Mn=He.viewport||he;Ji.setSize(Mn.z,Mn.w);const bn=Bt.getRenderTarget();Bt.setRenderTarget(Ji),Bt.getClearColor(xe),je=Bt.getClearAlpha(),je<1&&Bt.setClearColor(16777215,.5),Bt.clear();const Rn=Bt.toneMapping;Bt.toneMapping=ai;const jn=He.viewport;if(He.viewport!==void 0&&(He.viewport=void 0),ot.setupLightsView(He),O9===!0&&Ai.setGlobalState(Bt.clippingPlanes,He),vm(te,We,He),Zi.updateMultisampleRenderTarget(Ji),Zi.updateRenderTargetMipmap(Ji),ri.has("WEBGL_multisampled_render_to_texture")===!1){let a9=!1;for(let d9=0,$a=Ie.length;d9<$a;d9++){const wr=Ie[d9],d0=wr.object,al=wr.geometry,B9=wr.material,ls=wr.group;if(B9.side===R&&d0.layers.test(He.layers)){const s9=B9.side;B9.side=S,B9.needsUpdate=!0,gv(d0,We,He,al,B9,ls),B9.side=s9,B9.needsUpdate=!0,a9=!0}}a9===!0&&(Zi.updateMultisampleRenderTarget(Ji),Zi.updateRenderTargetMipmap(Ji))}Bt.setRenderTarget(bn),Bt.setClearColor(xe,je),jn!==void 0&&(He.viewport=jn),Bt.toneMapping=Rn}function vm(te,Ie,We){const He=Ie.isScene===!0?Ie.overrideMaterial:null;for(let ze=0,Ji=te.length;ze<Ji;ze++){const Mn=te[ze],bn=Mn.object,Rn=Mn.geometry,jn=He===null?Mn.material:He,a9=Mn.group;bn.layers.test(We.layers)&&gv(bn,Ie,We,Rn,jn,a9)}}function gv(te,Ie,We,He,ze,Ji){te.onBeforeRender(Bt,Ie,We,He,ze,Ji),te.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),ze.onBeforeRender(Bt,Ie,We,He,te,Ji),ze.transparent===!0&&ze.side===R&&ze.forceSinglePass===!1?(ze.side=S,ze.needsUpdate=!0,Bt.renderBufferDirect(We,Ie,He,ze,te,Ji),ze.side=O,ze.needsUpdate=!0,Bt.renderBufferDirect(We,Ie,He,ze,te,Ji),ze.side=R):Bt.renderBufferDirect(We,Ie,He,ze,te,Ji),te.onAfterRender(Bt,Ie,We,He,ze,Ji)}function bm(te,Ie,We){Ie.isScene!==!0&&(Ie=ki);const He=Hi.get(te),ze=ot.state.lights,Ji=ot.state.shadowsArray,Mn=ze.state.version,bn=ce.getParameters(te,ze.state,Ji,Ie,We),Rn=ce.getProgramCacheKey(bn);let jn=He.programs;He.environment=te.isMeshStandardMaterial?Ie.environment:null,He.fog=Ie.fog,He.envMap=(te.isMeshStandardMaterial?Vn:kn).get(te.envMap||He.environment),He.envMapRotation=He.environment!==null&&te.envMap===null?Ie.environmentRotation:te.envMapRotation,jn===void 0&&(te.addEventListener("dispose",t9),jn=new Map,He.programs=jn);let a9=jn.get(Rn);if(a9!==void 0){if(He.currentProgram===a9&&He.lightsStateVersion===Mn)return Av(te,bn),a9}else bn.uniforms=ce.getUniforms(te),te.onBuild(We,bn,Bt),te.onBeforeCompile(bn,Bt),a9=ce.acquireProgram(bn,Rn),jn.set(Rn,a9),He.uniforms=bn.uniforms;const d9=He.uniforms;return(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(d9.clippingPlanes=Ai.uniform),Av(te,bn),He.needsLights=fG(te),He.lightsStateVersion=Mn,He.needsLights&&(d9.ambientLightColor.value=ze.state.ambient,d9.lightProbe.value=ze.state.probe,d9.directionalLights.value=ze.state.directional,d9.directionalLightShadows.value=ze.state.directionalShadow,d9.spotLights.value=ze.state.spot,d9.spotLightShadows.value=ze.state.spotShadow,d9.rectAreaLights.value=ze.state.rectArea,d9.ltc_1.value=ze.state.rectAreaLTC1,d9.ltc_2.value=ze.state.rectAreaLTC2,d9.pointLights.value=ze.state.point,d9.pointLightShadows.value=ze.state.pointShadow,d9.hemisphereLights.value=ze.state.hemi,d9.directionalShadowMap.value=ze.state.directionalShadowMap,d9.directionalShadowMatrix.value=ze.state.directionalShadowMatrix,d9.spotShadowMap.value=ze.state.spotShadowMap,d9.spotLightMatrix.value=ze.state.spotLightMatrix,d9.spotLightMap.value=ze.state.spotLightMap,d9.pointShadowMap.value=ze.state.pointShadowMap,d9.pointShadowMatrix.value=ze.state.pointShadowMatrix),He.currentProgram=a9,He.uniformsList=null,a9}function Mv(te){if(te.uniformsList===null){const Ie=te.currentProgram.getUniforms();te.uniformsList=w2.seqWithValue(Ie.seq,te.uniforms)}return te.uniformsList}function Av(te,Ie){const We=Hi.get(te);We.outputColorSpace=Ie.outputColorSpace,We.batching=Ie.batching,We.instancing=Ie.instancing,We.instancingColor=Ie.instancingColor,We.instancingMorph=Ie.instancingMorph,We.skinning=Ie.skinning,We.morphTargets=Ie.morphTargets,We.morphNormals=Ie.morphNormals,We.morphColors=Ie.morphColors,We.morphTargetsCount=Ie.morphTargetsCount,We.numClippingPlanes=Ie.numClippingPlanes,We.numIntersection=Ie.numClipIntersection,We.vertexAlphas=Ie.vertexAlphas,We.vertexTangents=Ie.vertexTangents,We.toneMapping=Ie.toneMapping,We.numMultiviewViews=Ie.numMultiviewViews}function dG(te,Ie,We,He,ze){Ie.isScene!==!0&&(Ie=ki),Zi.resetTextureUnits();const Ji=Ie.fog,Mn=He.isMeshStandardMaterial?Ie.environment:null,bn=de===null?Bt.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:$0,Rn=(He.isMeshStandardMaterial?Vn:kn).get(He.envMap||Mn),jn=He.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,a9=!!We.attributes.tangent&&(!!He.normalMap||He.anisotropy>0),d9=!!We.morphAttributes.position,$a=!!We.morphAttributes.normal,wr=!!We.morphAttributes.color;let d0=ai;He.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(d0=Bt.toneMapping);const al=de&&de.isWebGLMultiviewRenderTarget?de.numViews:0,B9=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,ls=B9!==void 0?B9.length:0,s9=Hi.get(He),mG=ot.state.lights;if(O9===!0&&(G9===!0||te!==zt)){const _0=te===zt&&He.id===Xt;Ai.setState(He,te,_0)}let la=!1;He.version===s9.__version?(s9.needsLights&&s9.lightsStateVersion!==mG.state.version||s9.outputColorSpace!==bn||ze.isBatchedMesh&&s9.batching===!1||!ze.isBatchedMesh&&s9.batching===!0||ze.isInstancedMesh&&s9.instancing===!1||!ze.isInstancedMesh&&s9.instancing===!0||ze.isSkinnedMesh&&s9.skinning===!1||!ze.isSkinnedMesh&&s9.skinning===!0||ze.isInstancedMesh&&s9.instancingColor===!0&&ze.instanceColor===null||ze.isInstancedMesh&&s9.instancingColor===!1&&ze.instanceColor!==null||ze.isInstancedMesh&&s9.instancingMorph===!0&&ze.morphTexture===null||ze.isInstancedMesh&&s9.instancingMorph===!1&&ze.morphTexture!==null||s9.envMap!==Rn||He.fog===!0&&s9.fog!==Ji||s9.numClippingPlanes!==void 0&&(s9.numClippingPlanes!==Ai.numPlanes||s9.numIntersection!==Ai.numIntersection)||s9.vertexAlphas!==jn||s9.vertexTangents!==a9||s9.morphTargets!==d9||s9.morphNormals!==$a||s9.morphColors!==wr||s9.toneMapping!==d0||s9.morphTargetsCount!==ls||s9.numMultiviewViews!==al)&&(la=!0):(la=!0,s9.__version=He.version);let cs=s9.currentProgram;la===!0&&(cs=bm(He,Ie,ze));let yv=!1,Dh=!1,f5=!1;const Ka=cs.getUniforms(),rl=s9.uniforms;if(Oi.useProgram(cs.program)&&(yv=!0,Dh=!0,f5=!0),He.id!==Xt&&(Xt=He.id,Dh=!0),yv||zt!==te){cs.numMultiviewViews>0?(fn.updateCameraProjectionMatricesUniform(te,Ka),fn.updateCameraViewMatricesUniform(te,Ka)):(Ka.setValue(Se,"projectionMatrix",te.projectionMatrix),Ka.setValue(Se,"viewMatrix",te.matrixWorldInverse));const _0=Ka.map.cameraPosition;_0!==void 0&&_0.setValue(Se,mi.setFromMatrixPosition(te.matrixWorld)),Si.logarithmicDepthBuffer&&Ka.setValue(Se,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),(He.isMeshPhongMaterial||He.isMeshToonMaterial||He.isMeshLambertMaterial||He.isMeshBasicMaterial||He.isMeshStandardMaterial||He.isShaderMaterial)&&Ka.setValue(Se,"isOrthographic",te.isOrthographicCamera===!0),zt!==te&&(zt=te,Dh=!0,f5=!0)}if(ze.isSkinnedMesh){Ka.setOptional(Se,ze,"bindMatrix"),Ka.setOptional(Se,ze,"bindMatrixInverse");const _0=ze.skeleton;_0&&(_0.boneTexture===null&&_0.computeBoneTexture(),Ka.setValue(Se,"boneTexture",_0.boneTexture,Zi))}ze.isBatchedMesh&&(Ka.setOptional(Se,ze,"batchingTexture"),Ka.setValue(Se,"batchingTexture",ze._matricesTexture,Zi));const m5=We.morphAttributes;if((m5.position!==void 0||m5.normal!==void 0||m5.color!==void 0)&&en.update(ze,We,cs),(Dh||s9.receiveShadow!==ze.receiveShadow)&&(s9.receiveShadow=ze.receiveShadow,Ka.setValue(Se,"receiveShadow",ze.receiveShadow)),He.isMeshGouraudMaterial&&He.envMap!==null&&(rl.envMap.value=Rn,rl.flipEnvMap.value=Rn.isCubeTexture&&Rn.isRenderTargetTexture===!1?-1:1),He.isMeshStandardMaterial&&He.envMap===null&&Ie.environment!==null&&(rl.envMapIntensity.value=Ie.environmentIntensity),Dh&&(Ka.setValue(Se,"toneMappingExposure",Bt.toneMappingExposure),s9.needsLights&&hG(rl,f5),Ji&&He.fog===!0&&Jt.refreshFogUniforms(rl,Ji),Jt.refreshMaterialUniforms(rl,He,Xe,Pi,ot.state.transmissionRenderTarget[te.id]),w2.upload(Se,Mv(s9),rl,Zi)),He.isShaderMaterial&&He.uniformsNeedUpdate===!0&&(w2.upload(Se,Mv(s9),rl,Zi),He.uniformsNeedUpdate=!1),He.isSpriteMaterial&&Ka.setValue(Se,"center",ze.center),cs.numMultiviewViews>0?fn.updateObjectMatricesUniforms(ze,te,Ka):(Ka.setValue(Se,"modelViewMatrix",ze.modelViewMatrix),Ka.setValue(Se,"normalMatrix",ze.normalMatrix)),Ka.setValue(Se,"modelMatrix",ze.matrixWorld),He.isShaderMaterial||He.isRawShaderMaterial){const _0=He.uniformsGroups;for(let p5=0,pG=_0.length;p5<pG;p5++){const vv=_0[p5];Sn.update(vv,cs),Sn.bind(vv,cs)}}return cs}function hG(te,Ie){te.ambientLightColor.needsUpdate=Ie,te.lightProbe.needsUpdate=Ie,te.directionalLights.needsUpdate=Ie,te.directionalLightShadows.needsUpdate=Ie,te.pointLights.needsUpdate=Ie,te.pointLightShadows.needsUpdate=Ie,te.spotLights.needsUpdate=Ie,te.spotLightShadows.needsUpdate=Ie,te.rectAreaLights.needsUpdate=Ie,te.hemisphereLights.needsUpdate=Ie}function fG(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.setTexture2D=function(){var te=!1;return function(We,He){We&&We.isWebGLRenderTarget&&(te||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),te=!0),We=We.texture),Zi.setTexture2D(We,He)}}(),this.getActiveCubeFace=function(){return ae},this.getActiveMipmapLevel=function(){return se},this.getRenderTarget=function(){return de},this.setRenderTargetTextures=function(te,Ie,We){Hi.get(te.texture).__webglTexture=Ie,Hi.get(te.depthTexture).__webglTexture=We;const He=Hi.get(te);He.__hasExternalTextures=!0,He.__autoAllocateDepthBuffer=We===void 0,!He.__autoAllocateDepthBuffer&&(!de||!de.isWebGLMultiviewRenderTarget)&&ri.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),He.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(te,Ie){const We=Hi.get(te);We.__webglFramebuffer=Ie,We.__useDefaultFramebuffer=Ie===void 0},this.setRenderTarget=function(te,Ie=0,We=0){de=te,ae=Ie,se=We;let He=!0,ze=null,Ji=!1,Mn=!1;if(te){const Rn=Hi.get(te);Rn.__useDefaultFramebuffer!==void 0?(Oi.bindFramebuffer(Se.FRAMEBUFFER,null),He=!1):Rn.__webglFramebuffer===void 0?Zi.setupRenderTarget(te):Rn.__hasExternalTextures&&Zi.rebindTextures(te,Hi.get(te.texture).__webglTexture,Hi.get(te.depthTexture).__webglTexture);const jn=te.texture;(jn.isData3DTexture||jn.isDataArrayTexture||jn.isCompressedArrayTexture)&&(Mn=!0);const a9=Hi.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Array.isArray(a9[Ie])?ze=a9[Ie][We]:ze=a9[Ie],Ji=!0):te.samples>0&&Zi.useMultisampledRTT(te)===!1?ze=Hi.get(te).__webglMultisampledFramebuffer:Array.isArray(a9)?ze=a9[We]:ze=a9,he.copy(te.viewport),Oe.copy(te.scissor),Ce=te.scissorTest}else he.copy(ln).multiplyScalar(Xe).floor(),Oe.copy(n9).multiplyScalar(Xe).floor(),Ce=I9;if(Oi.bindFramebuffer(Se.FRAMEBUFFER,ze)&&He&&Oi.drawBuffers(te,ze),Oi.viewport(he),Oi.scissor(Oe),Oi.setScissorTest(Ce),Ji){const Rn=Hi.get(te.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Rn.__webglTexture,We)}else if(Mn){const Rn=Hi.get(te.texture),jn=Ie||0;Se.framebufferTextureLayer(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Rn.__webglTexture,We||0,jn)}Xt=-1},this.readRenderTargetPixels=function(te,Ie,We,He,ze,Ji,Mn){if(!(te&&te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let bn=Hi.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Mn!==void 0&&(bn=bn[Mn]),bn){Oi.bindFramebuffer(Se.FRAMEBUFFER,bn);try{const Rn=te.texture,jn=Rn.format,a9=Rn.type;if(!Si.textureFormatReadable(jn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Si.textureTypeReadable(a9)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ie>=0&&Ie<=te.width-He&&We>=0&&We<=te.height-ze&&Se.readPixels(Ie,We,He,ze,pn.convert(jn),pn.convert(a9),Ji)}finally{const Rn=de!==null?Hi.get(de).__webglFramebuffer:null;Oi.bindFramebuffer(Se.FRAMEBUFFER,Rn)}}},this.copyFramebufferToTexture=function(te,Ie,We=0){const He=Math.pow(2,-We),ze=Math.floor(Ie.image.width*He),Ji=Math.floor(Ie.image.height*He);Zi.setTexture2D(Ie,0),Se.copyTexSubImage2D(Se.TEXTURE_2D,We,0,0,te.x,te.y,ze,Ji),Oi.unbindTexture()},this.copyTextureToTexture=function(te,Ie,We,He=0){const ze=Ie.image.width,Ji=Ie.image.height,Mn=pn.convert(We.format),bn=pn.convert(We.type);Zi.setTexture2D(We,0),Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,We.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,We.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,We.unpackAlignment),Ie.isDataTexture?Se.texSubImage2D(Se.TEXTURE_2D,He,te.x,te.y,ze,Ji,Mn,bn,Ie.image.data):Ie.isCompressedTexture?Se.compressedTexSubImage2D(Se.TEXTURE_2D,He,te.x,te.y,Ie.mipmaps[0].width,Ie.mipmaps[0].height,Mn,Ie.mipmaps[0].data):Se.texSubImage2D(Se.TEXTURE_2D,He,te.x,te.y,Mn,bn,Ie.image),He===0&&We.generateMipmaps&&Se.generateMipmap(Se.TEXTURE_2D),Oi.unbindTexture()},this.copyTextureToTexture3D=function(te,Ie,We,He,ze=0){const Ji=te.max.x-te.min.x,Mn=te.max.y-te.min.y,bn=te.max.z-te.min.z,Rn=pn.convert(He.format),jn=pn.convert(He.type);let a9;if(He.isData3DTexture)Zi.setTexture3D(He,0),a9=Se.TEXTURE_3D;else if(He.isDataArrayTexture||He.isCompressedArrayTexture)Zi.setTexture2DArray(He,0),a9=Se.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,He.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,He.unpackAlignment);const d9=Se.getParameter(Se.UNPACK_ROW_LENGTH),$a=Se.getParameter(Se.UNPACK_IMAGE_HEIGHT),wr=Se.getParameter(Se.UNPACK_SKIP_PIXELS),d0=Se.getParameter(Se.UNPACK_SKIP_ROWS),al=Se.getParameter(Se.UNPACK_SKIP_IMAGES),B9=We.isCompressedTexture?We.mipmaps[ze]:We.image;Se.pixelStorei(Se.UNPACK_ROW_LENGTH,B9.width),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,B9.height),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,te.min.x),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,te.min.y),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,te.min.z),We.isDataTexture||We.isData3DTexture?Se.texSubImage3D(a9,ze,Ie.x,Ie.y,Ie.z,Ji,Mn,bn,Rn,jn,B9.data):He.isCompressedArrayTexture?Se.compressedTexSubImage3D(a9,ze,Ie.x,Ie.y,Ie.z,Ji,Mn,bn,Rn,B9.data):Se.texSubImage3D(a9,ze,Ie.x,Ie.y,Ie.z,Ji,Mn,bn,Rn,jn,B9),Se.pixelStorei(Se.UNPACK_ROW_LENGTH,d9),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,$a),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,wr),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,d0),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,al),ze===0&&He.generateMipmaps&&Se.generateMipmap(a9),Oi.unbindTexture()},this.initTexture=function(te){te.isCubeTexture?Zi.setTextureCube(te,0):te.isData3DTexture?Zi.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?Zi.setTexture2DArray(te,0):Zi.setTexture2D(te,0),Oi.unbindTexture()},this.resetState=function(){ae=0,se=0,de=null,Oi.reset(),Zn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return b0}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(n){this._outputColorSpace=n;const o=this.getContext();o.drawingBufferColorSpace=n===nu?"display-p3":"srgb",o.unpackColorSpace=T9.workingColorSpace===Ql?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(n){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=n}}class O2{constructor(n,o=25e-5){this.isFogExp2=!0,this.name="",this.color=new tn(n),this.density=o}clone(){return new O2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class x2{constructor(n,o=1,h=1e3){this.isFog=!0,this.name="",this.color=new tn(n),this.near=o,this.far=h}clone(){return new x2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class xA extends w9{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new l0,this.environmentIntensity=1,this.environmentRotation=new l0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(n,o){return super.copy(n,o),n.background!==null&&(this.background=n.background.clone()),n.environment!==null&&(this.environment=n.environment.clone()),n.fog!==null&&(this.fog=n.fog.clone()),this.backgroundBlurriness=n.backgroundBlurriness,this.backgroundIntensity=n.backgroundIntensity,this.backgroundRotation.copy(n.backgroundRotation),this.environmentIntensity=n.environmentIntensity,this.environmentRotation.copy(n.environmentRotation),n.overrideMaterial!==null&&(this.overrideMaterial=n.overrideMaterial.clone()),this.matrixAutoUpdate=n.matrixAutoUpdate,this}toJSON(n){const o=super.toJSON(n);return this.fog!==null&&(o.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(o.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(o.object.backgroundIntensity=this.backgroundIntensity),o.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(o.object.environmentIntensity=this.environmentIntensity),o.object.environmentRotation=this.environmentRotation.toArray(),o}}class S2{constructor(n,o){this.isInterleavedBuffer=!0,this.array=n,this.stride=o,this.count=n!==void 0?n.length/o:0,this.usage=Wl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Pr()}onUploadCallback(){}set needsUpdate(n){n===!0&&this.version++}get updateRange(){return e2("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(n){return this.usage=n,this}addUpdateRange(n,o){this.updateRanges.push({start:n,count:o})}clearUpdateRanges(){this.updateRanges.length=0}copy(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.usage=n.usage,this}copyAt(n,o,h){n*=this.stride,h*=o.stride;for(let g=0,C=this.stride;g<C;g++)this.array[n+g]=o.array[h+g];return this}set(n,o=0){return this.array.set(n,o),this}clone(n){n.arrayBuffers===void 0&&(n.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pr()),n.arrayBuffers[this.array.buffer._uuid]===void 0&&(n.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const o=new this.array.constructor(n.arrayBuffers[this.array.buffer._uuid]),h=new this.constructor(o,this.stride);return h.setUsage(this.usage),h}onUpload(n){return this.onUploadCallback=n,this}toJSON(n){return n.arrayBuffers===void 0&&(n.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pr()),n.arrayBuffers[this.array.buffer._uuid]===void 0&&(n.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Nr=new ee;class oc{constructor(n,o,h,g=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=n,this.itemSize=o,this.offset=h,this.normalized=g}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(n){this.data.needsUpdate=n}applyMatrix4(n){for(let o=0,h=this.data.count;o<h;o++)Nr.fromBufferAttribute(this,o),Nr.applyMatrix4(n),this.setXYZ(o,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(n){for(let o=0,h=this.count;o<h;o++)Nr.fromBufferAttribute(this,o),Nr.applyNormalMatrix(n),this.setXYZ(o,Nr.x,Nr.y,Nr.z);return this}transformDirection(n){for(let o=0,h=this.count;o<h;o++)Nr.fromBufferAttribute(this,o),Nr.transformDirection(n),this.setXYZ(o,Nr.x,Nr.y,Nr.z);return this}getComponent(n,o){let h=this.array[n*this.data.stride+this.offset+o];return this.normalized&&(h=mr(h,this.array)),h}setComponent(n,o,h){return this.normalized&&(h=Hn(h,this.array)),this.data.array[n*this.data.stride+this.offset+o]=h,this}setX(n,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[n*this.data.stride+this.offset]=o,this}setY(n,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[n*this.data.stride+this.offset+1]=o,this}setZ(n,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[n*this.data.stride+this.offset+2]=o,this}setW(n,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[n*this.data.stride+this.offset+3]=o,this}getX(n){let o=this.data.array[n*this.data.stride+this.offset];return this.normalized&&(o=mr(o,this.array)),o}getY(n){let o=this.data.array[n*this.data.stride+this.offset+1];return this.normalized&&(o=mr(o,this.array)),o}getZ(n){let o=this.data.array[n*this.data.stride+this.offset+2];return this.normalized&&(o=mr(o,this.array)),o}getW(n){let o=this.data.array[n*this.data.stride+this.offset+3];return this.normalized&&(o=mr(o,this.array)),o}setXY(n,o,h){return n=n*this.data.stride+this.offset,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array)),this.data.array[n+0]=o,this.data.array[n+1]=h,this}setXYZ(n,o,h,g){return n=n*this.data.stride+this.offset,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array),g=Hn(g,this.array)),this.data.array[n+0]=o,this.data.array[n+1]=h,this.data.array[n+2]=g,this}setXYZW(n,o,h,g,C){return n=n*this.data.stride+this.offset,this.normalized&&(o=Hn(o,this.array),h=Hn(h,this.array),g=Hn(g,this.array),C=Hn(C,this.array)),this.data.array[n+0]=o,this.data.array[n+1]=h,this.data.array[n+2]=g,this.data.array[n+3]=C,this}clone(n){if(n===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const o=[];for(let h=0;h<this.count;h++){const g=h*this.data.stride+this.offset;for(let C=0;C<this.itemSize;C++)o.push(this.data.array[g+C])}return new F9(new this.array.constructor(o),this.itemSize,this.normalized)}else return n.interleavedBuffers===void 0&&(n.interleavedBuffers={}),n.interleavedBuffers[this.data.uuid]===void 0&&(n.interleavedBuffers[this.data.uuid]=this.data.clone(n)),new oc(n.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(n){if(n===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const o=[];for(let h=0;h<this.count;h++){const g=h*this.data.stride+this.offset;for(let C=0;C<this.itemSize;C++)o.push(this.data.array[g+C])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:o,normalized:this.normalized}}else return n.interleavedBuffers===void 0&&(n.interleavedBuffers={}),n.interleavedBuffers[this.data.uuid]===void 0&&(n.interleavedBuffers[this.data.uuid]=this.data.toJSON(n)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class x8 extends Er{constructor(n){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.rotation=n.rotation,this.sizeAttenuation=n.sizeAttenuation,this.fog=n.fog,this}}let xu;const dh=new ee,Su=new ee,Tu=new ee,Iu=new hi,hh=new hi,SA=new cn,T2=new ee,fh=new ee,I2=new ee,TA=new hi,S8=new hi,IA=new hi;class BA extends w9{constructor(n=new x8){if(super(),this.isSprite=!0,this.type="Sprite",xu===void 0){xu=new i9;const o=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),h=new S2(o,5);xu.setIndex([0,1,2,0,2,3]),xu.setAttribute("position",new oc(h,3,0,!1)),xu.setAttribute("uv",new oc(h,2,3,!1))}this.geometry=xu,this.material=n,this.center=new hi(.5,.5)}raycast(n,o){n.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Su.setFromMatrixScale(this.matrixWorld),SA.copy(n.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(n.camera.matrixWorldInverse,this.matrixWorld),Tu.setFromMatrixPosition(this.modelViewMatrix),n.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Su.multiplyScalar(-Tu.z);const h=this.material.rotation;let g,C;h!==0&&(C=Math.cos(h),g=Math.sin(h));const T=this.center;B2(T2.set(-.5,-.5,0),Tu,T,Su,g,C),B2(fh.set(.5,-.5,0),Tu,T,Su,g,C),B2(I2.set(.5,.5,0),Tu,T,Su,g,C),TA.set(0,0),S8.set(1,0),IA.set(1,1);let D=n.ray.intersectTriangle(T2,fh,I2,!1,dh);if(D===null&&(B2(fh.set(-.5,.5,0),Tu,T,Su,g,C),S8.set(0,1),D=n.ray.intersectTriangle(T2,I2,fh,!1,dh),D===null))return;const F=n.ray.origin.distanceTo(dh);F<n.near||F>n.far||o.push({distance:F,point:dh.clone(),uv:c0.getInterpolation(dh,T2,fh,I2,TA,S8,IA,new hi),face:null,object:this})}copy(n,o){return super.copy(n,o),n.center!==void 0&&this.center.copy(n.center),this.material=n.material,this}}function B2(_,n,o,h,g,C){Iu.subVectors(_,o).addScalar(.5).multiply(h),g!==void 0?(hh.x=C*Iu.x-g*Iu.y,hh.y=g*Iu.x+C*Iu.y):hh.copy(Iu),_.copy(n),_.x+=hh.x,_.y+=hh.y,_.applyMatrix4(SA)}const R2=new ee,RA=new ee;class DA extends w9{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(n){super.copy(n,!1);const o=n.levels;for(let h=0,g=o.length;h<g;h++){const C=o[h];this.addLevel(C.object.clone(),C.distance,C.hysteresis)}return this.autoUpdate=n.autoUpdate,this}addLevel(n,o=0,h=0){o=Math.abs(o);const g=this.levels;let C;for(C=0;C<g.length&&!(o<g[C].distance);C++);return g.splice(C,0,{distance:o,hysteresis:h,object:n}),this.add(n),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(n){const o=this.levels;if(o.length>0){let h,g;for(h=1,g=o.length;h<g;h++){let C=o[h].distance;if(o[h].object.visible&&(C-=C*o[h].hysteresis),n<C)break}return o[h-1].object}return null}raycast(n,o){if(this.levels.length>0){R2.setFromMatrixPosition(this.matrixWorld);const g=n.ray.origin.distanceTo(R2);this.getObjectForDistance(g).raycast(n,o)}}update(n){const o=this.levels;if(o.length>1){R2.setFromMatrixPosition(n.matrixWorld),RA.setFromMatrixPosition(this.matrixWorld);const h=R2.distanceTo(RA)/n.zoom;o[0].object.visible=!0;let g,C;for(g=1,C=o.length;g<C;g++){let T=o[g].distance;if(o[g].object.visible&&(T-=T*o[g].hysteresis),h>=T)o[g-1].object.visible=!1,o[g].object.visible=!0;else break}for(this._currentLevel=g-1;g<C;g++)o[g].object.visible=!1}}toJSON(n){const o=super.toJSON(n);this.autoUpdate===!1&&(o.object.autoUpdate=!1),o.object.levels=[];const h=this.levels;for(let g=0,C=h.length;g<C;g++){const T=h[g];o.object.levels.push({object:T.object.uuid,distance:T.distance,hysteresis:T.hysteresis})}return o}}const PA=new ee,LA=new C9,kA=new C9,AU=new ee,NA=new cn,D2=new ee,T8=new Va,FA=new cn,I8=new Qa;class UA extends Ua{constructor(n,o){super(n,o),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=wt,this.bindMatrix=new cn,this.bindMatrixInverse=new cn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const n=this.geometry;this.boundingBox===null&&(this.boundingBox=new ga),this.boundingBox.makeEmpty();const o=n.getAttribute("position");for(let h=0;h<o.count;h++)this.getVertexPosition(h,D2),this.boundingBox.expandByPoint(D2)}computeBoundingSphere(){const n=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Va),this.boundingSphere.makeEmpty();const o=n.getAttribute("position");for(let h=0;h<o.count;h++)this.getVertexPosition(h,D2),this.boundingSphere.expandByPoint(D2)}copy(n,o){return super.copy(n,o),this.bindMode=n.bindMode,this.bindMatrix.copy(n.bindMatrix),this.bindMatrixInverse.copy(n.bindMatrixInverse),this.skeleton=n.skeleton,n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),this}raycast(n,o){const h=this.material,g=this.matrixWorld;h!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),T8.copy(this.boundingSphere),T8.applyMatrix4(g),n.ray.intersectsSphere(T8)!==!1&&(FA.copy(g).invert(),I8.copy(n.ray).applyMatrix4(FA),!(this.boundingBox!==null&&I8.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(n,o,I8)))}getVertexPosition(n,o){return super.getVertexPosition(n,o),this.applyBoneTransform(n,o),o}bind(n,o){this.skeleton=n,o===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),o=this.matrixWorld),this.bindMatrix.copy(o),this.bindMatrixInverse.copy(o).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const n=new C9,o=this.geometry.attributes.skinWeight;for(let h=0,g=o.count;h<g;h++){n.fromBufferAttribute(o,h);const C=1/n.manhattanLength();C!==1/0?n.multiplyScalar(C):n.set(1,0,0,0),o.setXYZW(h,n.x,n.y,n.z,n.w)}}updateMatrixWorld(n){super.updateMatrixWorld(n),this.bindMode===wt?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===xt?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(n,o){const h=this.skeleton,g=this.geometry;LA.fromBufferAttribute(g.attributes.skinIndex,n),kA.fromBufferAttribute(g.attributes.skinWeight,n),PA.copy(o).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(let C=0;C<4;C++){const T=kA.getComponent(C);if(T!==0){const D=LA.getComponent(C);NA.multiplyMatrices(h.bones[D].matrixWorld,h.boneInverses[D]),o.addScaledVector(AU.copy(PA).applyMatrix4(NA),T)}}return o.applyMatrix4(this.bindMatrixInverse)}}class B8 extends w9{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qs extends K9{constructor(n=null,o=1,h=1,g,C,T,D,F,V=Fe,Y=Fe,et,at){super(null,T,D,F,V,Y,g,C,et,at),this.isDataTexture=!0,this.image={data:n,width:o,height:h},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $A=new cn,yU=new cn;class P2{constructor(n=[],o=[]){this.uuid=Pr(),this.bones=n.slice(0),this.boneInverses=o,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const n=this.bones,o=this.boneInverses;if(this.boneMatrices=new Float32Array(n.length*16),o.length===0)this.calculateInverses();else if(n.length!==o.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let h=0,g=this.bones.length;h<g;h++)this.boneInverses.push(new cn)}}calculateInverses(){this.boneInverses.length=0;for(let n=0,o=this.bones.length;n<o;n++){const h=new cn;this.bones[n]&&h.copy(this.bones[n].matrixWorld).invert(),this.boneInverses.push(h)}}pose(){for(let n=0,o=this.bones.length;n<o;n++){const h=this.bones[n];h&&h.matrixWorld.copy(this.boneInverses[n]).invert()}for(let n=0,o=this.bones.length;n<o;n++){const h=this.bones[n];h&&(h.parent&&h.parent.isBone?(h.matrix.copy(h.parent.matrixWorld).invert(),h.matrix.multiply(h.matrixWorld)):h.matrix.copy(h.matrixWorld),h.matrix.decompose(h.position,h.quaternion,h.scale))}}update(){const n=this.bones,o=this.boneInverses,h=this.boneMatrices,g=this.boneTexture;for(let C=0,T=n.length;C<T;C++){const D=n[C]?n[C].matrixWorld:yU;$A.multiplyMatrices(D,o[C]),$A.toArray(h,C*16)}g!==null&&(g.needsUpdate=!0)}clone(){return new P2(this.bones,this.boneInverses)}computeBoneTexture(){let n=Math.sqrt(this.bones.length*4);n=Math.ceil(n/4)*4,n=Math.max(n,4);const o=new Float32Array(n*n*4);o.set(this.boneMatrices);const h=new qs(o,n,n,le,$n);return h.needsUpdate=!0,this.boneMatrices=o,this.boneTexture=h,this}getBoneByName(n){for(let o=0,h=this.bones.length;o<h;o++){const g=this.bones[o];if(g.name===n)return g}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(n,o){this.uuid=n.uuid;for(let h=0,g=n.bones.length;h<g;h++){const C=n.bones[h];let T=o[C];T===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",C),T=new B8),this.bones.push(T),this.boneInverses.push(new cn().fromArray(n.boneInverses[h]))}return this.init(),this}toJSON(){const n={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};n.uuid=this.uuid;const o=this.bones,h=this.boneInverses;for(let g=0,C=o.length;g<C;g++){const T=o[g];n.bones.push(T.uuid);const D=h[g];n.boneInverses.push(D.toArray())}return n}}class Bu extends F9{constructor(n,o,h,g=1){super(n,o,h),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=g}copy(n){return super.copy(n),this.meshPerAttribute=n.meshPerAttribute,this}toJSON(){const n=super.toJSON();return n.meshPerAttribute=this.meshPerAttribute,n.isInstancedBufferAttribute=!0,n}}const Ru=new cn,GA=new cn,L2=[],HA=new ga,vU=new cn,mh=new Ua,ph=new Va;class VA extends Ua{constructor(n,o,h){super(n,o),this.isInstancedMesh=!0,this.instanceMatrix=new Bu(new Float32Array(h*16),16),this.instanceColor=null,this.morphTexture=null,this.count=h,this.boundingBox=null,this.boundingSphere=null;for(let g=0;g<h;g++)this.setMatrixAt(g,vU)}computeBoundingBox(){const n=this.geometry,o=this.count;this.boundingBox===null&&(this.boundingBox=new ga),n.boundingBox===null&&n.computeBoundingBox(),this.boundingBox.makeEmpty();for(let h=0;h<o;h++)this.getMatrixAt(h,Ru),HA.copy(n.boundingBox).applyMatrix4(Ru),this.boundingBox.union(HA)}computeBoundingSphere(){const n=this.geometry,o=this.count;this.boundingSphere===null&&(this.boundingSphere=new Va),n.boundingSphere===null&&n.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let h=0;h<o;h++)this.getMatrixAt(h,Ru),ph.copy(n.boundingSphere).applyMatrix4(Ru),this.boundingSphere.union(ph)}copy(n,o){return super.copy(n,o),this.instanceMatrix.copy(n.instanceMatrix),n.morphTexture!==null&&(this.morphTexture=n.morphTexture.clone()),n.instanceColor!==null&&(this.instanceColor=n.instanceColor.clone()),this.count=n.count,n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),this}getColorAt(n,o){o.fromArray(this.instanceColor.array,n*3)}getMatrixAt(n,o){o.fromArray(this.instanceMatrix.array,n*16)}getMorphAt(n,o){const h=o.morphTargetInfluences,g=this.morphTexture.source.data.data,C=h.length+1,T=n*C+1;for(let D=0;D<h.length;D++)h[D]=g[T+D]}raycast(n,o){const h=this.matrixWorld,g=this.count;if(mh.geometry=this.geometry,mh.material=this.material,mh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ph.copy(this.boundingSphere),ph.applyMatrix4(h),n.ray.intersectsSphere(ph)!==!1))for(let C=0;C<g;C++){this.getMatrixAt(C,Ru),GA.multiplyMatrices(h,Ru),mh.matrixWorld=GA,mh.raycast(n,L2);for(let T=0,D=L2.length;T<D;T++){const F=L2[T];F.instanceId=C,F.object=this,o.push(F)}L2.length=0}}setColorAt(n,o){this.instanceColor===null&&(this.instanceColor=new Bu(new Float32Array(this.instanceMatrix.count*3),3)),o.toArray(this.instanceColor.array,n*3)}setMatrixAt(n,o){o.toArray(this.instanceMatrix.array,n*16)}setMorphAt(n,o){const h=o.morphTargetInfluences,g=h.length+1;this.morphTexture===null&&(this.morphTexture=new qs(new Float32Array(g*this.count),g,this.count,vi,$n));const C=this.morphTexture.source.data.data;let T=0;for(let V=0;V<h.length;V++)T+=h[V];const D=this.geometry.morphTargetsRelative?1:1-T,F=g*n;C[F]=D,C.set(h,F+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function bU(_,n){return _.z-n.z}function CU(_,n){return n.z-_.z}class EU{constructor(){this.index=0,this.pool=[],this.list=[]}push(n,o){const h=this.pool,g=this.list;this.index>=h.length&&h.push({start:-1,count:-1,z:-1});const C=h[this.index];g.push(C),this.index++,C.start=n.start,C.count=n.count,C.z=o}reset(){this.list.length=0,this.index=0}}const Du="batchId",Zs=new cn,QA=new cn,_U=new cn,zA=new cn,R8=new ch,k2=new ga,sc=new Va,gh=new ee,D8=new EU,_r=new Ua,N2=[];function wU(_,n,o=0){const h=n.itemSize;if(_.isInterleavedBufferAttribute||_.array.constructor!==n.array.constructor){const g=_.count;for(let C=0;C<g;C++)for(let T=0;T<h;T++)n.setComponent(C+o,T,_.getComponent(C,T))}else n.array.set(_.array,o*h);n.needsUpdate=!0}class JA extends Ua{get maxGeometryCount(){return this._maxGeometryCount}constructor(n,o,h=o*2,g){super(new i9,g),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=n,this._maxVertexCount=o,this._maxIndexCount=h,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(n),this._multiDrawStarts=new Int32Array(n),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let n=Math.sqrt(this._maxGeometryCount*4);n=Math.ceil(n/4)*4,n=Math.max(n,4);const o=new Float32Array(n*n*4),h=new qs(o,n,n,le,$n);this._matricesTexture=h}_initializeGeometry(n){const o=this.geometry,h=this._maxVertexCount,g=this._maxGeometryCount,C=this._maxIndexCount;if(this._geometryInitialized===!1){for(const D in n.attributes){const F=n.getAttribute(D),{array:V,itemSize:Y,normalized:et}=F,at=new V.constructor(h*Y),rt=new F9(at,Y,et);o.setAttribute(D,rt)}if(n.getIndex()!==null){const D=h>65536?new Uint32Array(C):new Uint16Array(C);o.setIndex(new F9(D,1))}const T=g>65536?new Uint32Array(h):new Uint16Array(h);o.setAttribute(Du,new F9(T,1)),this._geometryInitialized=!0}}_validateGeometry(n){if(n.getAttribute(Du))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Du}"`);const o=this.geometry;if(!!n.getIndex()!=!!o.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const h in o.attributes){if(h===Du)continue;if(!n.hasAttribute(h))throw new Error(`BatchedMesh: Added geometry missing "${h}". All geometries must have consistent attributes.`);const g=n.getAttribute(h),C=o.getAttribute(h);if(g.itemSize!==C.itemSize||g.normalized!==C.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(n){return this.customSort=n,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ga);const n=this._geometryCount,o=this.boundingBox,h=this._active;o.makeEmpty();for(let g=0;g<n;g++)h[g]!==!1&&(this.getMatrixAt(g,Zs),this.getBoundingBoxAt(g,k2).applyMatrix4(Zs),o.union(k2))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Va);const n=this._geometryCount,o=this.boundingSphere,h=this._active;o.makeEmpty();for(let g=0;g<n;g++)h[g]!==!1&&(this.getMatrixAt(g,Zs),this.getBoundingSphereAt(g,sc).applyMatrix4(Zs),o.union(sc))}addGeometry(n,o=-1,h=-1){if(this._initializeGeometry(n),this._validateGeometry(n),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const g={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let C=null;const T=this._reservedRanges,D=this._drawRanges,F=this._bounds;this._geometryCount!==0&&(C=T[T.length-1]),o===-1?g.vertexCount=n.getAttribute("position").count:g.vertexCount=o,C===null?g.vertexStart=0:g.vertexStart=C.vertexStart+C.vertexCount;const V=n.getIndex(),Y=V!==null;if(Y&&(h===-1?g.indexCount=V.count:g.indexCount=h,C===null?g.indexStart=0:g.indexStart=C.indexStart+C.indexCount),g.indexStart!==-1&&g.indexStart+g.indexCount>this._maxIndexCount||g.vertexStart+g.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const et=this._visibility,at=this._active,rt=this._matricesTexture,lt=this._matricesTexture.image.data;et.push(!0),at.push(!0);const At=this._geometryCount;this._geometryCount++,_U.toArray(lt,At*16),rt.needsUpdate=!0,T.push(g),D.push({start:Y?g.indexStart:g.vertexStart,count:-1}),F.push({boxInitialized:!1,box:new ga,sphereInitialized:!1,sphere:new Va});const ct=this.geometry.getAttribute(Du);for(let ot=0;ot<g.vertexCount;ot++)ct.setX(g.vertexStart+ot,At);return ct.needsUpdate=!0,this.setGeometryAt(At,n),At}setGeometryAt(n,o){if(n>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(o);const h=this.geometry,g=h.getIndex()!==null,C=h.getIndex(),T=o.getIndex(),D=this._reservedRanges[n];if(g&&T.count>D.indexCount||o.attributes.position.count>D.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const F=D.vertexStart,V=D.vertexCount;for(const rt in h.attributes){if(rt===Du)continue;const lt=o.getAttribute(rt),At=h.getAttribute(rt);wU(lt,At,F);const ct=lt.itemSize;for(let ot=lt.count,Ut=V;ot<Ut;ot++){const Lt=F+ot;for(let Bt=0;Bt<ct;Bt++)At.setComponent(Lt,Bt,0)}At.needsUpdate=!0,At.addUpdateRange(F*ct,V*ct)}if(g){const rt=D.indexStart;for(let lt=0;lt<T.count;lt++)C.setX(rt+lt,F+T.getX(lt));for(let lt=T.count,At=D.indexCount;lt<At;lt++)C.setX(rt+lt,F);C.needsUpdate=!0,C.addUpdateRange(rt,D.indexCount)}const Y=this._bounds[n];o.boundingBox!==null?(Y.box.copy(o.boundingBox),Y.boxInitialized=!0):Y.boxInitialized=!1,o.boundingSphere!==null?(Y.sphere.copy(o.boundingSphere),Y.sphereInitialized=!0):Y.sphereInitialized=!1;const et=this._drawRanges[n],at=o.getAttribute("position");return et.count=g?T.count:at.count,this._visibilityChanged=!0,n}deleteGeometry(n){const o=this._active;return n>=o.length||o[n]===!1?this:(o[n]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(n){return this._multiDrawInstances===null?null:this._multiDrawInstances[n]}setInstanceCountAt(n,o){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[n]=o,n}getBoundingBoxAt(n,o){if(this._active[n]===!1)return null;const g=this._bounds[n],C=g.box,T=this.geometry;if(g.boxInitialized===!1){C.makeEmpty();const D=T.index,F=T.attributes.position,V=this._drawRanges[n];for(let Y=V.start,et=V.start+V.count;Y<et;Y++){let at=Y;D&&(at=D.getX(at)),C.expandByPoint(gh.fromBufferAttribute(F,at))}g.boxInitialized=!0}return o.copy(C),o}getBoundingSphereAt(n,o){if(this._active[n]===!1)return null;const g=this._bounds[n],C=g.sphere,T=this.geometry;if(g.sphereInitialized===!1){C.makeEmpty(),this.getBoundingBoxAt(n,k2),k2.getCenter(C.center);const D=T.index,F=T.attributes.position,V=this._drawRanges[n];let Y=0;for(let et=V.start,at=V.start+V.count;et<at;et++){let rt=et;D&&(rt=D.getX(rt)),gh.fromBufferAttribute(F,rt),Y=Math.max(Y,C.center.distanceToSquared(gh))}C.radius=Math.sqrt(Y),g.sphereInitialized=!0}return o.copy(C),o}setMatrixAt(n,o){const h=this._active,g=this._matricesTexture,C=this._matricesTexture.image.data,T=this._geometryCount;return n>=T||h[n]===!1?this:(o.toArray(C,n*16),g.needsUpdate=!0,this)}getMatrixAt(n,o){const h=this._active,g=this._matricesTexture.image.data,C=this._geometryCount;return n>=C||h[n]===!1?null:o.fromArray(g,n*16)}setVisibleAt(n,o){const h=this._visibility,g=this._active,C=this._geometryCount;return n>=C||g[n]===!1||h[n]===o?this:(h[n]=o,this._visibilityChanged=!0,this)}getVisibleAt(n){const o=this._visibility,h=this._active,g=this._geometryCount;return n>=g||h[n]===!1?!1:o[n]}raycast(n,o){const h=this._visibility,g=this._active,C=this._drawRanges,T=this._geometryCount,D=this.matrixWorld,F=this.geometry;_r.material=this.material,_r.geometry.index=F.index,_r.geometry.attributes=F.attributes,_r.geometry.boundingBox===null&&(_r.geometry.boundingBox=new ga),_r.geometry.boundingSphere===null&&(_r.geometry.boundingSphere=new Va);for(let V=0;V<T;V++){if(!h[V]||!g[V])continue;const Y=C[V];_r.geometry.setDrawRange(Y.start,Y.count),this.getMatrixAt(V,_r.matrixWorld).premultiply(D),this.getBoundingBoxAt(V,_r.geometry.boundingBox),this.getBoundingSphereAt(V,_r.geometry.boundingSphere),_r.raycast(n,N2);for(let et=0,at=N2.length;et<at;et++){const rt=N2[et];rt.object=this,rt.batchId=V,o.push(rt)}N2.length=0}_r.material=null,_r.geometry.index=null,_r.geometry.attributes={},_r.geometry.setDrawRange(0,1/0)}copy(n){return super.copy(n),this.geometry=n.geometry.clone(),this.perObjectFrustumCulled=n.perObjectFrustumCulled,this.sortObjects=n.sortObjects,this.boundingBox=n.boundingBox!==null?n.boundingBox.clone():null,this.boundingSphere=n.boundingSphere!==null?n.boundingSphere.clone():null,this._drawRanges=n._drawRanges.map(o=>({...o})),this._reservedRanges=n._reservedRanges.map(o=>({...o})),this._visibility=n._visibility.slice(),this._active=n._active.slice(),this._bounds=n._bounds.map(o=>({boxInitialized:o.boxInitialized,box:o.box.clone(),sphereInitialized:o.sphereInitialized,sphere:o.sphere.clone()})),this._maxGeometryCount=n._maxGeometryCount,this._maxVertexCount=n._maxVertexCount,this._maxIndexCount=n._maxIndexCount,this._geometryInitialized=n._geometryInitialized,this._geometryCount=n._geometryCount,this._multiDrawCounts=n._multiDrawCounts.slice(),this._multiDrawStarts=n._multiDrawStarts.slice(),this._matricesTexture=n._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(n,o,h,g,C){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const T=g.getIndex(),D=T===null?1:T.array.BYTES_PER_ELEMENT,F=this._active,V=this._visibility,Y=this._multiDrawStarts,et=this._multiDrawCounts,at=this._drawRanges,rt=this.perObjectFrustumCulled;rt&&(zA.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse).multiply(this.matrixWorld),R8.setFromProjectionMatrix(zA,n.coordinateSystem));let lt=0;if(this.sortObjects){QA.copy(this.matrixWorld).invert(),gh.setFromMatrixPosition(h.matrixWorld).applyMatrix4(QA);for(let ot=0,Ut=V.length;ot<Ut;ot++)if(V[ot]&&F[ot]){this.getMatrixAt(ot,Zs),this.getBoundingSphereAt(ot,sc).applyMatrix4(Zs);let Lt=!1;if(rt&&(Lt=!R8.intersectsSphere(sc)),!Lt){const Bt=gh.distanceTo(sc.center);D8.push(at[ot],Bt)}}const At=D8.list,ct=this.customSort;ct===null?At.sort(C.transparent?CU:bU):ct.call(this,At,h);for(let ot=0,Ut=At.length;ot<Ut;ot++){const Lt=At[ot];Y[lt]=Lt.start*D,et[lt]=Lt.count,lt++}D8.reset()}else for(let At=0,ct=V.length;At<ct;At++)if(V[At]&&F[At]){let ot=!1;if(rt&&(this.getMatrixAt(At,Zs),this.getBoundingSphereAt(At,sc).applyMatrix4(Zs),ot=!R8.intersectsSphere(sc)),!ot){const Ut=at[At];Y[lt]=Ut.start*D,et[lt]=Ut.count,lt++}}this._multiDrawCount=lt,this._visibilityChanged=!1}onBeforeShadow(n,o,h,g,C,T){this.onBeforeRender(n,null,g,C,T)}}class Fr extends Er{constructor(n){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this.fog=n.fog,this}}const F2=new ee,U2=new ee,jA=new cn,Mh=new Qa,$2=new Va,P8=new ee,WA=new ee;class tl extends w9{constructor(n=new i9,o=new Fr){super(),this.isLine=!0,this.type="Line",this.geometry=n,this.material=o,this.updateMorphTargets()}copy(n,o){return super.copy(n,o),this.material=Array.isArray(n.material)?n.material.slice():n.material,this.geometry=n.geometry,this}computeLineDistances(){const n=this.geometry;if(n.index===null){const o=n.attributes.position,h=[0];for(let g=1,C=o.count;g<C;g++)F2.fromBufferAttribute(o,g-1),U2.fromBufferAttribute(o,g),h[g]=h[g-1],h[g]+=F2.distanceTo(U2);n.setAttribute("lineDistance",new hn(h,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(n,o){const h=this.geometry,g=this.matrixWorld,C=n.params.Line.threshold,T=h.drawRange;if(h.boundingSphere===null&&h.computeBoundingSphere(),$2.copy(h.boundingSphere),$2.applyMatrix4(g),$2.radius+=C,n.ray.intersectsSphere($2)===!1)return;jA.copy(g).invert(),Mh.copy(n.ray).applyMatrix4(jA);const D=C/((this.scale.x+this.scale.y+this.scale.z)/3),F=D*D,V=this.isLineSegments?2:1,Y=h.index,at=h.attributes.position;if(Y!==null){const rt=Math.max(0,T.start),lt=Math.min(Y.count,T.start+T.count);for(let At=rt,ct=lt-1;At<ct;At+=V){const ot=Y.getX(At),Ut=Y.getX(At+1),Lt=G2(this,n,Mh,F,ot,Ut);Lt&&o.push(Lt)}if(this.isLineLoop){const At=Y.getX(lt-1),ct=Y.getX(rt),ot=G2(this,n,Mh,F,At,ct);ot&&o.push(ot)}}else{const rt=Math.max(0,T.start),lt=Math.min(at.count,T.start+T.count);for(let At=rt,ct=lt-1;At<ct;At+=V){const ot=G2(this,n,Mh,F,At,At+1);ot&&o.push(ot)}if(this.isLineLoop){const At=G2(this,n,Mh,F,lt-1,rt);At&&o.push(At)}}}updateMorphTargets(){const o=this.geometry.morphAttributes,h=Object.keys(o);if(h.length>0){const g=o[h[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let C=0,T=g.length;C<T;C++){const D=g[C].name||String(C);this.morphTargetInfluences.push(0),this.morphTargetDictionary[D]=C}}}}}function G2(_,n,o,h,g,C){const T=_.geometry.attributes.position;if(F2.fromBufferAttribute(T,g),U2.fromBufferAttribute(T,C),o.distanceSqToSegment(F2,U2,P8,WA)>h)return;P8.applyMatrix4(_.matrixWorld);const F=n.ray.origin.distanceTo(P8);if(!(F<n.near||F>n.far))return{distance:F,point:WA.clone().applyMatrix4(_.matrixWorld),index:g,face:null,faceIndex:null,object:_}}const KA=new ee,XA=new ee;class Ao extends tl{constructor(n,o){super(n,o),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const n=this.geometry;if(n.index===null){const o=n.attributes.position,h=[];for(let g=0,C=o.count;g<C;g+=2)KA.fromBufferAttribute(o,g),XA.fromBufferAttribute(o,g+1),h[g]=g===0?0:h[g-1],h[g+1]=h[g]+KA.distanceTo(XA);n.setAttribute("lineDistance",new hn(h,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YA extends tl{constructor(n,o){super(n,o),this.isLineLoop=!0,this.type="LineLoop"}}class L8 extends Er{constructor(n){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.fog=n.fog,this}}const qA=new cn,k8=new Qa,H2=new Va,V2=new ee;class ZA extends w9{constructor(n=new i9,o=new L8){super(),this.isPoints=!0,this.type="Points",this.geometry=n,this.material=o,this.updateMorphTargets()}copy(n,o){return super.copy(n,o),this.material=Array.isArray(n.material)?n.material.slice():n.material,this.geometry=n.geometry,this}raycast(n,o){const h=this.geometry,g=this.matrixWorld,C=n.params.Points.threshold,T=h.drawRange;if(h.boundingSphere===null&&h.computeBoundingSphere(),H2.copy(h.boundingSphere),H2.applyMatrix4(g),H2.radius+=C,n.ray.intersectsSphere(H2)===!1)return;qA.copy(g).invert(),k8.copy(n.ray).applyMatrix4(qA);const D=C/((this.scale.x+this.scale.y+this.scale.z)/3),F=D*D,V=h.index,et=h.attributes.position;if(V!==null){const at=Math.max(0,T.start),rt=Math.min(V.count,T.start+T.count);for(let lt=at,At=rt;lt<At;lt++){const ct=V.getX(lt);V2.fromBufferAttribute(et,ct),ty(V2,ct,F,g,n,o,this)}}else{const at=Math.max(0,T.start),rt=Math.min(et.count,T.start+T.count);for(let lt=at,At=rt;lt<At;lt++)V2.fromBufferAttribute(et,lt),ty(V2,lt,F,g,n,o,this)}}updateMorphTargets(){const o=this.geometry.morphAttributes,h=Object.keys(o);if(h.length>0){const g=o[h[0]];if(g!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let C=0,T=g.length;C<T;C++){const D=g[C].name||String(C);this.morphTargetInfluences.push(0),this.morphTargetDictionary[D]=C}}}}}function ty(_,n,o,h,g,C,T){const D=k8.distanceSqToPoint(_);if(D<o){const F=new ee;k8.closestPointToPoint(_,F),F.applyMatrix4(h);const V=g.ray.origin.distanceTo(F);if(V<g.near||V>g.far)return;C.push({distance:V,distanceToRay:Math.sqrt(D),point:F,index:n,face:null,object:T})}}class OU extends K9{constructor(n,o,h,g,C,T,D,F,V){super(n,o,h,g,C,T,D,F,V),this.isVideoTexture=!0,this.minFilter=T!==void 0?T:Pe,this.magFilter=C!==void 0?C:Pe,this.generateMipmaps=!1;const Y=this;function et(){Y.needsUpdate=!0,n.requestVideoFrameCallback(et)}"requestVideoFrameCallback"in n&&n.requestVideoFrameCallback(et)}clone(){return new this.constructor(this.image).copy(this)}update(){const n=this.image;"requestVideoFrameCallback"in n===!1&&n.readyState>=n.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class xU extends K9{constructor(n,o){super({width:n,height:o}),this.isFramebufferTexture=!0,this.magFilter=Fe,this.minFilter=Fe,this.generateMipmaps=!1,this.needsUpdate=!0}}class Q2 extends K9{constructor(n,o,h,g,C,T,D,F,V,Y,et,at){super(null,T,D,F,V,Y,g,C,et,at),this.isCompressedTexture=!0,this.image={width:o,height:h},this.mipmaps=n,this.flipY=!1,this.generateMipmaps=!1}}class SU extends Q2{constructor(n,o,h,g,C,T){super(n,o,h,C,T),this.isCompressedArrayTexture=!0,this.image.depth=g,this.wrapR=ue}}class TU extends Q2{constructor(n,o,h){super(void 0,n[0].width,n[0].height,o,h,ut),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=n}}class IU extends K9{constructor(n,o,h,g,C,T,D,F,V){super(n,o,h,g,C,T,D,F,V),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Q0{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(n,o){const h=this.getUtoTmapping(n);return this.getPoint(h,o)}getPoints(n=5){const o=[];for(let h=0;h<=n;h++)o.push(this.getPoint(h/n));return o}getSpacedPoints(n=5){const o=[];for(let h=0;h<=n;h++)o.push(this.getPointAt(h/n));return o}getLength(){const n=this.getLengths();return n[n.length-1]}getLengths(n=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const o=[];let h,g=this.getPoint(0),C=0;o.push(0);for(let T=1;T<=n;T++)h=this.getPoint(T/n),C+=h.distanceTo(g),o.push(C),g=h;return this.cacheArcLengths=o,o}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(n,o){const h=this.getLengths();let g=0;const C=h.length;let T;o?T=o:T=n*h[C-1];let D=0,F=C-1,V;for(;D<=F;)if(g=Math.floor(D+(F-D)/2),V=h[g]-T,V<0)D=g+1;else if(V>0)F=g-1;else{F=g;break}if(g=F,h[g]===T)return g/(C-1);const Y=h[g],at=h[g+1]-Y,rt=(T-Y)/at;return(g+rt)/(C-1)}getTangent(n,o){let g=n-1e-4,C=n+1e-4;g<0&&(g=0),C>1&&(C=1);const T=this.getPoint(g),D=this.getPoint(C),F=o||(T.isVector2?new hi:new ee);return F.copy(D).sub(T).normalize(),F}getTangentAt(n,o){const h=this.getUtoTmapping(n);return this.getTangent(h,o)}computeFrenetFrames(n,o){const h=new ee,g=[],C=[],T=[],D=new ee,F=new cn;for(let rt=0;rt<=n;rt++){const lt=rt/n;g[rt]=this.getTangentAt(lt,new ee)}C[0]=new ee,T[0]=new ee;let V=Number.MAX_VALUE;const Y=Math.abs(g[0].x),et=Math.abs(g[0].y),at=Math.abs(g[0].z);Y<=V&&(V=Y,h.set(1,0,0)),et<=V&&(V=et,h.set(0,1,0)),at<=V&&h.set(0,0,1),D.crossVectors(g[0],h).normalize(),C[0].crossVectors(g[0],D),T[0].crossVectors(g[0],C[0]);for(let rt=1;rt<=n;rt++){if(C[rt]=C[rt-1].clone(),T[rt]=T[rt-1].clone(),D.crossVectors(g[rt-1],g[rt]),D.length()>Number.EPSILON){D.normalize();const lt=Math.acos(fa(g[rt-1].dot(g[rt]),-1,1));C[rt].applyMatrix4(F.makeRotationAxis(D,lt))}T[rt].crossVectors(g[rt],C[rt])}if(o===!0){let rt=Math.acos(fa(C[0].dot(C[n]),-1,1));rt/=n,g[0].dot(D.crossVectors(C[0],C[n]))>0&&(rt=-rt);for(let lt=1;lt<=n;lt++)C[lt].applyMatrix4(F.makeRotationAxis(g[lt],rt*lt)),T[lt].crossVectors(g[lt],C[lt])}return{tangents:g,normals:C,binormals:T}}clone(){return new this.constructor().copy(this)}copy(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}toJSON(){const n={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return n.arcLengthDivisions=this.arcLengthDivisions,n.type=this.type,n}fromJSON(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}}class z2 extends Q0{constructor(n=0,o=0,h=1,g=1,C=0,T=Math.PI*2,D=!1,F=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=n,this.aY=o,this.xRadius=h,this.yRadius=g,this.aStartAngle=C,this.aEndAngle=T,this.aClockwise=D,this.aRotation=F}getPoint(n,o=new hi){const h=o,g=Math.PI*2;let C=this.aEndAngle-this.aStartAngle;const T=Math.abs(C)<Number.EPSILON;for(;C<0;)C+=g;for(;C>g;)C-=g;C<Number.EPSILON&&(T?C=0:C=g),this.aClockwise===!0&&!T&&(C===g?C=-g:C=C-g);const D=this.aStartAngle+n*C;let F=this.aX+this.xRadius*Math.cos(D),V=this.aY+this.yRadius*Math.sin(D);if(this.aRotation!==0){const Y=Math.cos(this.aRotation),et=Math.sin(this.aRotation),at=F-this.aX,rt=V-this.aY;F=at*Y-rt*et+this.aX,V=at*et+rt*Y+this.aY}return h.set(F,V)}copy(n){return super.copy(n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this}toJSON(){const n=super.toJSON();return n.aX=this.aX,n.aY=this.aY,n.xRadius=this.xRadius,n.yRadius=this.yRadius,n.aStartAngle=this.aStartAngle,n.aEndAngle=this.aEndAngle,n.aClockwise=this.aClockwise,n.aRotation=this.aRotation,n}fromJSON(n){return super.fromJSON(n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this}}class ey extends z2{constructor(n,o,h,g,C,T){super(n,o,h,h,g,C,T),this.isArcCurve=!0,this.type="ArcCurve"}}function N8(){let _=0,n=0,o=0,h=0;function g(C,T,D,F){_=C,n=D,o=-3*C+3*T-2*D-F,h=2*C-2*T+D+F}return{initCatmullRom:function(C,T,D,F,V){g(T,D,V*(D-C),V*(F-T))},initNonuniformCatmullRom:function(C,T,D,F,V,Y,et){let at=(T-C)/V-(D-C)/(V+Y)+(D-T)/Y,rt=(D-T)/Y-(F-T)/(Y+et)+(F-D)/et;at*=Y,rt*=Y,g(T,D,at,rt)},calc:function(C){const T=C*C,D=T*C;return _+n*C+o*T+h*D}}}const J2=new ee,F8=new N8,U8=new N8,$8=new N8;class iy extends Q0{constructor(n=[],o=!1,h="centripetal",g=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=n,this.closed=o,this.curveType=h,this.tension=g}getPoint(n,o=new ee){const h=o,g=this.points,C=g.length,T=(C-(this.closed?0:1))*n;let D=Math.floor(T),F=T-D;this.closed?D+=D>0?0:(Math.floor(Math.abs(D)/C)+1)*C:F===0&&D===C-1&&(D=C-2,F=1);let V,Y;this.closed||D>0?V=g[(D-1)%C]:(J2.subVectors(g[0],g[1]).add(g[0]),V=J2);const et=g[D%C],at=g[(D+1)%C];if(this.closed||D+2<C?Y=g[(D+2)%C]:(J2.subVectors(g[C-1],g[C-2]).add(g[C-1]),Y=J2),this.curveType==="centripetal"||this.curveType==="chordal"){const rt=this.curveType==="chordal"?.5:.25;let lt=Math.pow(V.distanceToSquared(et),rt),At=Math.pow(et.distanceToSquared(at),rt),ct=Math.pow(at.distanceToSquared(Y),rt);At<1e-4&&(At=1),lt<1e-4&&(lt=At),ct<1e-4&&(ct=At),F8.initNonuniformCatmullRom(V.x,et.x,at.x,Y.x,lt,At,ct),U8.initNonuniformCatmullRom(V.y,et.y,at.y,Y.y,lt,At,ct),$8.initNonuniformCatmullRom(V.z,et.z,at.z,Y.z,lt,At,ct)}else this.curveType==="catmullrom"&&(F8.initCatmullRom(V.x,et.x,at.x,Y.x,this.tension),U8.initCatmullRom(V.y,et.y,at.y,Y.y,this.tension),$8.initCatmullRom(V.z,et.z,at.z,Y.z,this.tension));return h.set(F8.calc(F),U8.calc(F),$8.calc(F)),h}copy(n){super.copy(n),this.points=[];for(let o=0,h=n.points.length;o<h;o++){const g=n.points[o];this.points.push(g.clone())}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this}toJSON(){const n=super.toJSON();n.points=[];for(let o=0,h=this.points.length;o<h;o++){const g=this.points[o];n.points.push(g.toArray())}return n.closed=this.closed,n.curveType=this.curveType,n.tension=this.tension,n}fromJSON(n){super.fromJSON(n),this.points=[];for(let o=0,h=n.points.length;o<h;o++){const g=n.points[o];this.points.push(new ee().fromArray(g))}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this}}function ny(_,n,o,h,g){const C=(h-n)*.5,T=(g-o)*.5,D=_*_,F=_*D;return(2*o-2*h+C+T)*F+(-3*o+3*h-2*C-T)*D+C*_+o}function BU(_,n){const o=1-_;return o*o*n}function RU(_,n){return 2*(1-_)*_*n}function DU(_,n){return _*_*n}function Ah(_,n,o,h){return BU(_,n)+RU(_,o)+DU(_,h)}function PU(_,n){const o=1-_;return o*o*o*n}function LU(_,n){const o=1-_;return 3*o*o*_*n}function kU(_,n){return 3*(1-_)*_*_*n}function NU(_,n){return _*_*_*n}function yh(_,n,o,h,g){return PU(_,n)+LU(_,o)+kU(_,h)+NU(_,g)}class G8 extends Q0{constructor(n=new hi,o=new hi,h=new hi,g=new hi){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=n,this.v1=o,this.v2=h,this.v3=g}getPoint(n,o=new hi){const h=o,g=this.v0,C=this.v1,T=this.v2,D=this.v3;return h.set(yh(n,g.x,C.x,T.x,D.x),yh(n,g.y,C.y,T.y,D.y)),h}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this}}class ay extends Q0{constructor(n=new ee,o=new ee,h=new ee,g=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=n,this.v1=o,this.v2=h,this.v3=g}getPoint(n,o=new ee){const h=o,g=this.v0,C=this.v1,T=this.v2,D=this.v3;return h.set(yh(n,g.x,C.x,T.x,D.x),yh(n,g.y,C.y,T.y,D.y),yh(n,g.z,C.z,T.z,D.z)),h}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this}}class H8 extends Q0{constructor(n=new hi,o=new hi){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=n,this.v2=o}getPoint(n,o=new hi){const h=o;return n===1?h.copy(this.v2):(h.copy(this.v2).sub(this.v1),h.multiplyScalar(n).add(this.v1)),h}getPointAt(n,o){return this.getPoint(n,o)}getTangent(n,o=new hi){return o.subVectors(this.v2,this.v1).normalize()}getTangentAt(n,o){return this.getTangent(n,o)}copy(n){return super.copy(n),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class ry extends Q0{constructor(n=new ee,o=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=n,this.v2=o}getPoint(n,o=new ee){const h=o;return n===1?h.copy(this.v2):(h.copy(this.v2).sub(this.v1),h.multiplyScalar(n).add(this.v1)),h}getPointAt(n,o){return this.getPoint(n,o)}getTangent(n,o=new ee){return o.subVectors(this.v2,this.v1).normalize()}getTangentAt(n,o){return this.getTangent(n,o)}copy(n){return super.copy(n),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class V8 extends Q0{constructor(n=new hi,o=new hi,h=new hi){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=n,this.v1=o,this.v2=h}getPoint(n,o=new hi){const h=o,g=this.v0,C=this.v1,T=this.v2;return h.set(Ah(n,g.x,C.x,T.x),Ah(n,g.y,C.y,T.y)),h}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class Q8 extends Q0{constructor(n=new ee,o=new ee,h=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=n,this.v1=o,this.v2=h}getPoint(n,o=new ee){const h=o,g=this.v0,C=this.v1,T=this.v2;return h.set(Ah(n,g.x,C.x,T.x),Ah(n,g.y,C.y,T.y),Ah(n,g.z,C.z,T.z)),h}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class z8 extends Q0{constructor(n=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=n}getPoint(n,o=new hi){const h=o,g=this.points,C=(g.length-1)*n,T=Math.floor(C),D=C-T,F=g[T===0?T:T-1],V=g[T],Y=g[T>g.length-2?g.length-1:T+1],et=g[T>g.length-3?g.length-1:T+2];return h.set(ny(D,F.x,V.x,Y.x,et.x),ny(D,F.y,V.y,Y.y,et.y)),h}copy(n){super.copy(n),this.points=[];for(let o=0,h=n.points.length;o<h;o++){const g=n.points[o];this.points.push(g.clone())}return this}toJSON(){const n=super.toJSON();n.points=[];for(let o=0,h=this.points.length;o<h;o++){const g=this.points[o];n.points.push(g.toArray())}return n}fromJSON(n){super.fromJSON(n),this.points=[];for(let o=0,h=n.points.length;o<h;o++){const g=n.points[o];this.points.push(new hi().fromArray(g))}return this}}var j2=Object.freeze({__proto__:null,ArcCurve:ey,CatmullRomCurve3:iy,CubicBezierCurve:G8,CubicBezierCurve3:ay,EllipseCurve:z2,LineCurve:H8,LineCurve3:ry,QuadraticBezierCurve:V8,QuadraticBezierCurve3:Q8,SplineCurve:z8});class oy extends Q0{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(n){this.curves.push(n)}closePath(){const n=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);if(!n.equals(o)){const h=n.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new j2[h](o,n))}return this}getPoint(n,o){const h=n*this.getLength(),g=this.getCurveLengths();let C=0;for(;C<g.length;){if(g[C]>=h){const T=g[C]-h,D=this.curves[C],F=D.getLength(),V=F===0?0:1-T/F;return D.getPointAt(V,o)}C++}return null}getLength(){const n=this.getCurveLengths();return n[n.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const n=[];let o=0;for(let h=0,g=this.curves.length;h<g;h++)o+=this.curves[h].getLength(),n.push(o);return this.cacheLengths=n,n}getSpacedPoints(n=40){const o=[];for(let h=0;h<=n;h++)o.push(this.getPoint(h/n));return this.autoClose&&o.push(o[0]),o}getPoints(n=12){const o=[];let h;for(let g=0,C=this.curves;g<C.length;g++){const T=C[g],D=T.isEllipseCurve?n*2:T.isLineCurve||T.isLineCurve3?1:T.isSplineCurve?n*T.points.length:n,F=T.getPoints(D);for(let V=0;V<F.length;V++){const Y=F[V];h&&h.equals(Y)||(o.push(Y),h=Y)}}return this.autoClose&&o.length>1&&!o[o.length-1].equals(o[0])&&o.push(o[0]),o}copy(n){super.copy(n),this.curves=[];for(let o=0,h=n.curves.length;o<h;o++){const g=n.curves[o];this.curves.push(g.clone())}return this.autoClose=n.autoClose,this}toJSON(){const n=super.toJSON();n.autoClose=this.autoClose,n.curves=[];for(let o=0,h=this.curves.length;o<h;o++){const g=this.curves[o];n.curves.push(g.toJSON())}return n}fromJSON(n){super.fromJSON(n),this.autoClose=n.autoClose,this.curves=[];for(let o=0,h=n.curves.length;o<h;o++){const g=n.curves[o];this.curves.push(new j2[g.type]().fromJSON(g))}return this}}class vh extends oy{constructor(n){super(),this.type="Path",this.currentPoint=new hi,n&&this.setFromPoints(n)}setFromPoints(n){this.moveTo(n[0].x,n[0].y);for(let o=1,h=n.length;o<h;o++)this.lineTo(n[o].x,n[o].y);return this}moveTo(n,o){return this.currentPoint.set(n,o),this}lineTo(n,o){const h=new H8(this.currentPoint.clone(),new hi(n,o));return this.curves.push(h),this.currentPoint.set(n,o),this}quadraticCurveTo(n,o,h,g){const C=new V8(this.currentPoint.clone(),new hi(n,o),new hi(h,g));return this.curves.push(C),this.currentPoint.set(h,g),this}bezierCurveTo(n,o,h,g,C,T){const D=new G8(this.currentPoint.clone(),new hi(n,o),new hi(h,g),new hi(C,T));return this.curves.push(D),this.currentPoint.set(C,T),this}splineThru(n){const o=[this.currentPoint.clone()].concat(n),h=new z8(o);return this.curves.push(h),this.currentPoint.copy(n[n.length-1]),this}arc(n,o,h,g,C,T){const D=this.currentPoint.x,F=this.currentPoint.y;return this.absarc(n+D,o+F,h,g,C,T),this}absarc(n,o,h,g,C,T){return this.absellipse(n,o,h,h,g,C,T),this}ellipse(n,o,h,g,C,T,D,F){const V=this.currentPoint.x,Y=this.currentPoint.y;return this.absellipse(n+V,o+Y,h,g,C,T,D,F),this}absellipse(n,o,h,g,C,T,D,F){const V=new z2(n,o,h,g,C,T,D,F);if(this.curves.length>0){const et=V.getPoint(0);et.equals(this.currentPoint)||this.lineTo(et.x,et.y)}this.curves.push(V);const Y=V.getPoint(1);return this.currentPoint.copy(Y),this}copy(n){return super.copy(n),this.currentPoint.copy(n.currentPoint),this}toJSON(){const n=super.toJSON();return n.currentPoint=this.currentPoint.toArray(),n}fromJSON(n){return super.fromJSON(n),this.currentPoint.fromArray(n.currentPoint),this}}class bh extends i9{constructor(n=[new hi(0,-.5),new hi(.5,0),new hi(0,.5)],o=12,h=0,g=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:n,segments:o,phiStart:h,phiLength:g},o=Math.floor(o),g=fa(g,0,Math.PI*2);const C=[],T=[],D=[],F=[],V=[],Y=1/o,et=new ee,at=new hi,rt=new ee,lt=new ee,At=new ee;let ct=0,ot=0;for(let Ut=0;Ut<=n.length-1;Ut++)switch(Ut){case 0:ct=n[Ut+1].x-n[Ut].x,ot=n[Ut+1].y-n[Ut].y,rt.x=ot*1,rt.y=-ct,rt.z=ot*0,At.copy(rt),rt.normalize(),F.push(rt.x,rt.y,rt.z);break;case n.length-1:F.push(At.x,At.y,At.z);break;default:ct=n[Ut+1].x-n[Ut].x,ot=n[Ut+1].y-n[Ut].y,rt.x=ot*1,rt.y=-ct,rt.z=ot*0,lt.copy(rt),rt.x+=At.x,rt.y+=At.y,rt.z+=At.z,rt.normalize(),F.push(rt.x,rt.y,rt.z),At.copy(lt)}for(let Ut=0;Ut<=o;Ut++){const Lt=h+Ut*Y*g,Bt=Math.sin(Lt),fe=Math.cos(Lt);for(let ae=0;ae<=n.length-1;ae++){et.x=n[ae].x*Bt,et.y=n[ae].y,et.z=n[ae].x*fe,T.push(et.x,et.y,et.z),at.x=Ut/o,at.y=ae/(n.length-1),D.push(at.x,at.y);const se=F[3*ae+0]*Bt,de=F[3*ae+1],Xt=F[3*ae+0]*fe;V.push(se,de,Xt)}}for(let Ut=0;Ut<o;Ut++)for(let Lt=0;Lt<n.length-1;Lt++){const Bt=Lt+Ut*n.length,fe=Bt,ae=Bt+n.length,se=Bt+n.length+1,de=Bt+1;C.push(fe,ae,de),C.push(se,de,ae)}this.setIndex(C),this.setAttribute("position",new hn(T,3)),this.setAttribute("uv",new hn(D,2)),this.setAttribute("normal",new hn(V,3))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new bh(n.points,n.segments,n.phiStart,n.phiLength)}}class W2 extends bh{constructor(n=1,o=1,h=4,g=8){const C=new vh;C.absarc(0,-o/2,n,Math.PI*1.5,0),C.absarc(0,o/2,n,0,Math.PI*.5),super(C.getPoints(h),g),this.type="CapsuleGeometry",this.parameters={radius:n,length:o,capSegments:h,radialSegments:g}}static fromJSON(n){return new W2(n.radius,n.length,n.capSegments,n.radialSegments)}}class K2 extends i9{constructor(n=1,o=32,h=0,g=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:n,segments:o,thetaStart:h,thetaLength:g},o=Math.max(3,o);const C=[],T=[],D=[],F=[],V=new ee,Y=new hi;T.push(0,0,0),D.push(0,0,1),F.push(.5,.5);for(let et=0,at=3;et<=o;et++,at+=3){const rt=h+et/o*g;V.x=n*Math.cos(rt),V.y=n*Math.sin(rt),T.push(V.x,V.y,V.z),D.push(0,0,1),Y.x=(T[at]/n+1)/2,Y.y=(T[at+1]/n+1)/2,F.push(Y.x,Y.y)}for(let et=1;et<=o;et++)C.push(et,et+1,0);this.setIndex(C),this.setAttribute("position",new hn(T,3)),this.setAttribute("normal",new hn(D,3)),this.setAttribute("uv",new hn(F,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new K2(n.radius,n.segments,n.thetaStart,n.thetaLength)}}class Pu extends i9{constructor(n=1,o=1,h=1,g=32,C=1,T=!1,D=0,F=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:n,radiusBottom:o,height:h,radialSegments:g,heightSegments:C,openEnded:T,thetaStart:D,thetaLength:F};const V=this;g=Math.floor(g),C=Math.floor(C);const Y=[],et=[],at=[],rt=[];let lt=0;const At=[],ct=h/2;let ot=0;Ut(),T===!1&&(n>0&&Lt(!0),o>0&&Lt(!1)),this.setIndex(Y),this.setAttribute("position",new hn(et,3)),this.setAttribute("normal",new hn(at,3)),this.setAttribute("uv",new hn(rt,2));function Ut(){const Bt=new ee,fe=new ee;let ae=0;const se=(o-n)/h;for(let de=0;de<=C;de++){const Xt=[],zt=de/C,he=zt*(o-n)+n;for(let Oe=0;Oe<=g;Oe++){const Ce=Oe/g,xe=Ce*F+D,je=Math.sin(xe),ui=Math.cos(xe);fe.x=he*je,fe.y=-zt*h+ct,fe.z=he*ui,et.push(fe.x,fe.y,fe.z),Bt.set(je,se,ui).normalize(),at.push(Bt.x,Bt.y,Bt.z),rt.push(Ce,1-zt),Xt.push(lt++)}At.push(Xt)}for(let de=0;de<g;de++)for(let Xt=0;Xt<C;Xt++){const zt=At[Xt][de],he=At[Xt+1][de],Oe=At[Xt+1][de+1],Ce=At[Xt][de+1];Y.push(zt,he,Ce),Y.push(he,Oe,Ce),ae+=6}V.addGroup(ot,ae,0),ot+=ae}function Lt(Bt){const fe=lt,ae=new hi,se=new ee;let de=0;const Xt=Bt===!0?n:o,zt=Bt===!0?1:-1;for(let Oe=1;Oe<=g;Oe++)et.push(0,ct*zt,0),at.push(0,zt,0),rt.push(.5,.5),lt++;const he=lt;for(let Oe=0;Oe<=g;Oe++){const xe=Oe/g*F+D,je=Math.cos(xe),ui=Math.sin(xe);se.x=Xt*ui,se.y=ct*zt,se.z=Xt*je,et.push(se.x,se.y,se.z),at.push(0,zt,0),ae.x=je*.5+.5,ae.y=ui*.5*zt+.5,rt.push(ae.x,ae.y),lt++}for(let Oe=0;Oe<g;Oe++){const Ce=fe+Oe,xe=he+Oe;Bt===!0?Y.push(xe,xe+1,Ce):Y.push(xe+1,xe,Ce),de+=3}V.addGroup(ot,de,Bt===!0?1:2),ot+=de}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Pu(n.radiusTop,n.radiusBottom,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength)}}class X2 extends Pu{constructor(n=1,o=1,h=32,g=1,C=!1,T=0,D=Math.PI*2){super(0,n,o,h,g,C,T,D),this.type="ConeGeometry",this.parameters={radius:n,height:o,radialSegments:h,heightSegments:g,openEnded:C,thetaStart:T,thetaLength:D}}static fromJSON(n){return new X2(n.radius,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength)}}class el extends i9{constructor(n=[],o=[],h=1,g=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:n,indices:o,radius:h,detail:g};const C=[],T=[];D(g),V(h),Y(),this.setAttribute("position",new hn(C,3)),this.setAttribute("normal",new hn(C.slice(),3)),this.setAttribute("uv",new hn(T,2)),g===0?this.computeVertexNormals():this.normalizeNormals();function D(Ut){const Lt=new ee,Bt=new ee,fe=new ee;for(let ae=0;ae<o.length;ae+=3)rt(o[ae+0],Lt),rt(o[ae+1],Bt),rt(o[ae+2],fe),F(Lt,Bt,fe,Ut)}function F(Ut,Lt,Bt,fe){const ae=fe+1,se=[];for(let de=0;de<=ae;de++){se[de]=[];const Xt=Ut.clone().lerp(Bt,de/ae),zt=Lt.clone().lerp(Bt,de/ae),he=ae-de;for(let Oe=0;Oe<=he;Oe++)Oe===0&&de===ae?se[de][Oe]=Xt:se[de][Oe]=Xt.clone().lerp(zt,Oe/he)}for(let de=0;de<ae;de++)for(let Xt=0;Xt<2*(ae-de)-1;Xt++){const zt=Math.floor(Xt/2);Xt%2===0?(at(se[de][zt+1]),at(se[de+1][zt]),at(se[de][zt])):(at(se[de][zt+1]),at(se[de+1][zt+1]),at(se[de+1][zt]))}}function V(Ut){const Lt=new ee;for(let Bt=0;Bt<C.length;Bt+=3)Lt.x=C[Bt+0],Lt.y=C[Bt+1],Lt.z=C[Bt+2],Lt.normalize().multiplyScalar(Ut),C[Bt+0]=Lt.x,C[Bt+1]=Lt.y,C[Bt+2]=Lt.z}function Y(){const Ut=new ee;for(let Lt=0;Lt<C.length;Lt+=3){Ut.x=C[Lt+0],Ut.y=C[Lt+1],Ut.z=C[Lt+2];const Bt=ct(Ut)/2/Math.PI+.5,fe=ot(Ut)/Math.PI+.5;T.push(Bt,1-fe)}lt(),et()}function et(){for(let Ut=0;Ut<T.length;Ut+=6){const Lt=T[Ut+0],Bt=T[Ut+2],fe=T[Ut+4],ae=Math.max(Lt,Bt,fe),se=Math.min(Lt,Bt,fe);ae>.9&&se<.1&&(Lt<.2&&(T[Ut+0]+=1),Bt<.2&&(T[Ut+2]+=1),fe<.2&&(T[Ut+4]+=1))}}function at(Ut){C.push(Ut.x,Ut.y,Ut.z)}function rt(Ut,Lt){const Bt=Ut*3;Lt.x=n[Bt+0],Lt.y=n[Bt+1],Lt.z=n[Bt+2]}function lt(){const Ut=new ee,Lt=new ee,Bt=new ee,fe=new ee,ae=new hi,se=new hi,de=new hi;for(let Xt=0,zt=0;Xt<C.length;Xt+=9,zt+=6){Ut.set(C[Xt+0],C[Xt+1],C[Xt+2]),Lt.set(C[Xt+3],C[Xt+4],C[Xt+5]),Bt.set(C[Xt+6],C[Xt+7],C[Xt+8]),ae.set(T[zt+0],T[zt+1]),se.set(T[zt+2],T[zt+3]),de.set(T[zt+4],T[zt+5]),fe.copy(Ut).add(Lt).add(Bt).divideScalar(3);const he=ct(fe);At(ae,zt+0,Ut,he),At(se,zt+2,Lt,he),At(de,zt+4,Bt,he)}}function At(Ut,Lt,Bt,fe){fe<0&&Ut.x===1&&(T[Lt]=Ut.x-1),Bt.x===0&&Bt.z===0&&(T[Lt]=fe/2/Math.PI+.5)}function ct(Ut){return Math.atan2(Ut.z,-Ut.x)}function ot(Ut){return Math.atan2(-Ut.y,Math.sqrt(Ut.x*Ut.x+Ut.z*Ut.z))}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new el(n.vertices,n.indices,n.radius,n.details)}}class Y2 extends el{constructor(n=1,o=0){const h=(1+Math.sqrt(5))/2,g=1/h,C=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-g,-h,0,-g,h,0,g,-h,0,g,h,-g,-h,0,-g,h,0,g,-h,0,g,h,0,-h,0,-g,h,0,-g,-h,0,g,h,0,g],T=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(C,T,n,o),this.type="DodecahedronGeometry",this.parameters={radius:n,detail:o}}static fromJSON(n){return new Y2(n.radius,n.detail)}}const q2=new ee,Z2=new ee,J8=new ee,tm=new c0;class sy extends i9{constructor(n=null,o=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:n,thresholdAngle:o},n!==null){const g=Math.pow(10,4),C=Math.cos(Yo*o),T=n.getIndex(),D=n.getAttribute("position"),F=T?T.count:D.count,V=[0,0,0],Y=["a","b","c"],et=new Array(3),at={},rt=[];for(let lt=0;lt<F;lt+=3){T?(V[0]=T.getX(lt),V[1]=T.getX(lt+1),V[2]=T.getX(lt+2)):(V[0]=lt,V[1]=lt+1,V[2]=lt+2);const{a:At,b:ct,c:ot}=tm;if(At.fromBufferAttribute(D,V[0]),ct.fromBufferAttribute(D,V[1]),ot.fromBufferAttribute(D,V[2]),tm.getNormal(J8),et[0]=`${Math.round(At.x*g)},${Math.round(At.y*g)},${Math.round(At.z*g)}`,et[1]=`${Math.round(ct.x*g)},${Math.round(ct.y*g)},${Math.round(ct.z*g)}`,et[2]=`${Math.round(ot.x*g)},${Math.round(ot.y*g)},${Math.round(ot.z*g)}`,!(et[0]===et[1]||et[1]===et[2]||et[2]===et[0]))for(let Ut=0;Ut<3;Ut++){const Lt=(Ut+1)%3,Bt=et[Ut],fe=et[Lt],ae=tm[Y[Ut]],se=tm[Y[Lt]],de=`${Bt}_${fe}`,Xt=`${fe}_${Bt}`;Xt in at&&at[Xt]?(J8.dot(at[Xt].normal)<=C&&(rt.push(ae.x,ae.y,ae.z),rt.push(se.x,se.y,se.z)),at[Xt]=null):de in at||(at[de]={index0:V[Ut],index1:V[Lt],normal:J8.clone()})}}for(const lt in at)if(at[lt]){const{index0:At,index1:ct}=at[lt];q2.fromBufferAttribute(D,At),Z2.fromBufferAttribute(D,ct),rt.push(q2.x,q2.y,q2.z),rt.push(Z2.x,Z2.y,Z2.z)}this.setAttribute("position",new hn(rt,3))}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}}class lc extends vh{constructor(n){super(n),this.uuid=Pr(),this.type="Shape",this.holes=[]}getPointsHoles(n){const o=[];for(let h=0,g=this.holes.length;h<g;h++)o[h]=this.holes[h].getPoints(n);return o}extractPoints(n){return{shape:this.getPoints(n),holes:this.getPointsHoles(n)}}copy(n){super.copy(n),this.holes=[];for(let o=0,h=n.holes.length;o<h;o++){const g=n.holes[o];this.holes.push(g.clone())}return this}toJSON(){const n=super.toJSON();n.uuid=this.uuid,n.holes=[];for(let o=0,h=this.holes.length;o<h;o++){const g=this.holes[o];n.holes.push(g.toJSON())}return n}fromJSON(n){super.fromJSON(n),this.uuid=n.uuid,this.holes=[];for(let o=0,h=n.holes.length;o<h;o++){const g=n.holes[o];this.holes.push(new vh().fromJSON(g))}return this}}const FU={triangulate:function(_,n,o=2){const h=n&&n.length,g=h?n[0]*o:_.length;let C=ly(_,0,g,o,!0);const T=[];if(!C||C.next===C.prev)return T;let D,F,V,Y,et,at,rt;if(h&&(C=VU(_,n,C,o)),_.length>80*o){D=V=_[0],F=Y=_[1];for(let lt=o;lt<g;lt+=o)et=_[lt],at=_[lt+1],et<D&&(D=et),at<F&&(F=at),et>V&&(V=et),at>Y&&(Y=at);rt=Math.max(V-D,Y-F),rt=rt!==0?32767/rt:0}return Ch(C,T,o,D,F,rt,0),T}};function ly(_,n,o,h,g){let C,T;if(g===t$(_,n,o,h)>0)for(C=n;C<o;C+=h)T=dy(C,_[C],_[C+1],T);else for(C=o-h;C>=n;C-=h)T=dy(C,_[C],_[C+1],T);return T&&em(T,T.next)&&(_h(T),T=T.next),T}function cc(_,n){if(!_)return _;n||(n=_);let o=_,h;do if(h=!1,!o.steiner&&(em(o,o.next)||Ma(o.prev,o,o.next)===0)){if(_h(o),o=n=o.prev,o===o.next)break;h=!0}else o=o.next;while(h||o!==n);return n}function Ch(_,n,o,h,g,C,T){if(!_)return;!T&&C&&WU(_,h,g,C);let D=_,F,V;for(;_.prev!==_.next;){if(F=_.prev,V=_.next,C?$U(_,h,g,C):UU(_)){n.push(F.i/o|0),n.push(_.i/o|0),n.push(V.i/o|0),_h(_),_=V.next,D=V.next;continue}if(_=V,_===D){T?T===1?(_=GU(cc(_),n,o),Ch(_,n,o,h,g,C,2)):T===2&&HU(_,n,o,h,g,C):Ch(cc(_),n,o,h,g,C,1);break}}}function UU(_){const n=_.prev,o=_,h=_.next;if(Ma(n,o,h)>=0)return!1;const g=n.x,C=o.x,T=h.x,D=n.y,F=o.y,V=h.y,Y=g<C?g<T?g:T:C<T?C:T,et=D<F?D<V?D:V:F<V?F:V,at=g>C?g>T?g:T:C>T?C:T,rt=D>F?D>V?D:V:F>V?F:V;let lt=h.next;for(;lt!==n;){if(lt.x>=Y&&lt.x<=at&&lt.y>=et&&lt.y<=rt&&Lu(g,D,C,F,T,V,lt.x,lt.y)&&Ma(lt.prev,lt,lt.next)>=0)return!1;lt=lt.next}return!0}function $U(_,n,o,h){const g=_.prev,C=_,T=_.next;if(Ma(g,C,T)>=0)return!1;const D=g.x,F=C.x,V=T.x,Y=g.y,et=C.y,at=T.y,rt=D<F?D<V?D:V:F<V?F:V,lt=Y<et?Y<at?Y:at:et<at?et:at,At=D>F?D>V?D:V:F>V?F:V,ct=Y>et?Y>at?Y:at:et>at?et:at,ot=j8(rt,lt,n,o,h),Ut=j8(At,ct,n,o,h);let Lt=_.prevZ,Bt=_.nextZ;for(;Lt&&Lt.z>=ot&&Bt&&Bt.z<=Ut;){if(Lt.x>=rt&&Lt.x<=At&&Lt.y>=lt&&Lt.y<=ct&&Lt!==g&&Lt!==T&&Lu(D,Y,F,et,V,at,Lt.x,Lt.y)&&Ma(Lt.prev,Lt,Lt.next)>=0||(Lt=Lt.prevZ,Bt.x>=rt&&Bt.x<=At&&Bt.y>=lt&&Bt.y<=ct&&Bt!==g&&Bt!==T&&Lu(D,Y,F,et,V,at,Bt.x,Bt.y)&&Ma(Bt.prev,Bt,Bt.next)>=0))return!1;Bt=Bt.nextZ}for(;Lt&&Lt.z>=ot;){if(Lt.x>=rt&&Lt.x<=At&&Lt.y>=lt&&Lt.y<=ct&&Lt!==g&&Lt!==T&&Lu(D,Y,F,et,V,at,Lt.x,Lt.y)&&Ma(Lt.prev,Lt,Lt.next)>=0)return!1;Lt=Lt.prevZ}for(;Bt&&Bt.z<=Ut;){if(Bt.x>=rt&&Bt.x<=At&&Bt.y>=lt&&Bt.y<=ct&&Bt!==g&&Bt!==T&&Lu(D,Y,F,et,V,at,Bt.x,Bt.y)&&Ma(Bt.prev,Bt,Bt.next)>=0)return!1;Bt=Bt.nextZ}return!0}function GU(_,n,o){let h=_;do{const g=h.prev,C=h.next.next;!em(g,C)&&cy(g,h,h.next,C)&&Eh(g,C)&&Eh(C,g)&&(n.push(g.i/o|0),n.push(h.i/o|0),n.push(C.i/o|0),_h(h),_h(h.next),h=_=C),h=h.next}while(h!==_);return cc(h)}function HU(_,n,o,h,g,C){let T=_;do{let D=T.next.next;for(;D!==T.prev;){if(T.i!==D.i&&YU(T,D)){let F=uy(T,D);T=cc(T,T.next),F=cc(F,F.next),Ch(T,n,o,h,g,C,0),Ch(F,n,o,h,g,C,0);return}D=D.next}T=T.next}while(T!==_)}function VU(_,n,o,h){const g=[];let C,T,D,F,V;for(C=0,T=n.length;C<T;C++)D=n[C]*h,F=C<T-1?n[C+1]*h:_.length,V=ly(_,D,F,h,!1),V===V.next&&(V.steiner=!0),g.push(XU(V));for(g.sort(QU),C=0;C<g.length;C++)o=zU(g[C],o);return o}function QU(_,n){return _.x-n.x}function zU(_,n){const o=JU(_,n);if(!o)return n;const h=uy(o,_);return cc(h,h.next),cc(o,o.next)}function JU(_,n){let o=n,h=-1/0,g;const C=_.x,T=_.y;do{if(T<=o.y&&T>=o.next.y&&o.next.y!==o.y){const at=o.x+(T-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(at<=C&&at>h&&(h=at,g=o.x<o.next.x?o:o.next,at===C))return g}o=o.next}while(o!==n);if(!g)return null;const D=g,F=g.x,V=g.y;let Y=1/0,et;o=g;do C>=o.x&&o.x>=F&&C!==o.x&&Lu(T<V?C:h,T,F,V,T<V?h:C,T,o.x,o.y)&&(et=Math.abs(T-o.y)/(C-o.x),Eh(o,_)&&(et<Y||et===Y&&(o.x>g.x||o.x===g.x&&jU(g,o)))&&(g=o,Y=et)),o=o.next;while(o!==D);return g}function jU(_,n){return Ma(_.prev,_,n.prev)<0&&Ma(n.next,_,_.next)<0}function WU(_,n,o,h){let g=_;do g.z===0&&(g.z=j8(g.x,g.y,n,o,h)),g.prevZ=g.prev,g.nextZ=g.next,g=g.next;while(g!==_);g.prevZ.nextZ=null,g.prevZ=null,KU(g)}function KU(_){let n,o,h,g,C,T,D,F,V=1;do{for(o=_,_=null,C=null,T=0;o;){for(T++,h=o,D=0,n=0;n<V&&(D++,h=h.nextZ,!!h);n++);for(F=V;D>0||F>0&&h;)D!==0&&(F===0||!h||o.z<=h.z)?(g=o,o=o.nextZ,D--):(g=h,h=h.nextZ,F--),C?C.nextZ=g:_=g,g.prevZ=C,C=g;o=h}C.nextZ=null,V*=2}while(T>1);return _}function j8(_,n,o,h,g){return _=(_-o)*g|0,n=(n-h)*g|0,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,_|n<<1}function XU(_){let n=_,o=_;do(n.x<o.x||n.x===o.x&&n.y<o.y)&&(o=n),n=n.next;while(n!==_);return o}function Lu(_,n,o,h,g,C,T,D){return(g-T)*(n-D)>=(_-T)*(C-D)&&(_-T)*(h-D)>=(o-T)*(n-D)&&(o-T)*(C-D)>=(g-T)*(h-D)}function YU(_,n){return _.next.i!==n.i&&_.prev.i!==n.i&&!qU(_,n)&&(Eh(_,n)&&Eh(n,_)&&ZU(_,n)&&(Ma(_.prev,_,n.prev)||Ma(_,n.prev,n))||em(_,n)&&Ma(_.prev,_,_.next)>0&&Ma(n.prev,n,n.next)>0)}function Ma(_,n,o){return(n.y-_.y)*(o.x-n.x)-(n.x-_.x)*(o.y-n.y)}function em(_,n){return _.x===n.x&&_.y===n.y}function cy(_,n,o,h){const g=nm(Ma(_,n,o)),C=nm(Ma(_,n,h)),T=nm(Ma(o,h,_)),D=nm(Ma(o,h,n));return!!(g!==C&&T!==D||g===0&&im(_,o,n)||C===0&&im(_,h,n)||T===0&&im(o,_,h)||D===0&&im(o,n,h))}function im(_,n,o){return n.x<=Math.max(_.x,o.x)&&n.x>=Math.min(_.x,o.x)&&n.y<=Math.max(_.y,o.y)&&n.y>=Math.min(_.y,o.y)}function nm(_){return _>0?1:_<0?-1:0}function qU(_,n){let o=_;do{if(o.i!==_.i&&o.next.i!==_.i&&o.i!==n.i&&o.next.i!==n.i&&cy(o,o.next,_,n))return!0;o=o.next}while(o!==_);return!1}function Eh(_,n){return Ma(_.prev,_,_.next)<0?Ma(_,n,_.next)>=0&&Ma(_,_.prev,n)>=0:Ma(_,n,_.prev)<0||Ma(_,_.next,n)<0}function ZU(_,n){let o=_,h=!1;const g=(_.x+n.x)/2,C=(_.y+n.y)/2;do o.y>C!=o.next.y>C&&o.next.y!==o.y&&g<(o.next.x-o.x)*(C-o.y)/(o.next.y-o.y)+o.x&&(h=!h),o=o.next;while(o!==_);return h}function uy(_,n){const o=new W8(_.i,_.x,_.y),h=new W8(n.i,n.x,n.y),g=_.next,C=n.prev;return _.next=n,n.prev=_,o.next=g,g.prev=o,h.next=o,o.prev=h,C.next=h,h.prev=C,h}function dy(_,n,o,h){const g=new W8(_,n,o);return h?(g.next=h.next,g.prev=h,h.next.prev=g,h.next=g):(g.prev=g,g.next=g),g}function _h(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function W8(_,n,o){this.i=_,this.x=n,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function t$(_,n,o,h){let g=0;for(let C=n,T=o-h;C<o;C+=h)g+=(_[T]-_[C])*(_[C+1]+_[T+1]),T=C;return g}class yo{static area(n){const o=n.length;let h=0;for(let g=o-1,C=0;C<o;g=C++)h+=n[g].x*n[C].y-n[C].x*n[g].y;return h*.5}static isClockWise(n){return yo.area(n)<0}static triangulateShape(n,o){const h=[],g=[],C=[];hy(n),fy(h,n);let T=n.length;o.forEach(hy);for(let F=0;F<o.length;F++)g.push(T),T+=o[F].length,fy(h,o[F]);const D=FU.triangulate(h,g);for(let F=0;F<D.length;F+=3)C.push(D.slice(F,F+3));return C}}function hy(_){const n=_.length;n>2&&_[n-1].equals(_[0])&&_.pop()}function fy(_,n){for(let o=0;o<n.length;o++)_.push(n[o].x),_.push(n[o].y)}class am extends i9{constructor(n=new lc([new hi(.5,.5),new hi(-.5,.5),new hi(-.5,-.5),new hi(.5,-.5)]),o={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:n,options:o},n=Array.isArray(n)?n:[n];const h=this,g=[],C=[];for(let D=0,F=n.length;D<F;D++){const V=n[D];T(V)}this.setAttribute("position",new hn(g,3)),this.setAttribute("uv",new hn(C,2)),this.computeVertexNormals();function T(D){const F=[],V=o.curveSegments!==void 0?o.curveSegments:12,Y=o.steps!==void 0?o.steps:1,et=o.depth!==void 0?o.depth:1;let at=o.bevelEnabled!==void 0?o.bevelEnabled:!0,rt=o.bevelThickness!==void 0?o.bevelThickness:.2,lt=o.bevelSize!==void 0?o.bevelSize:rt-.1,At=o.bevelOffset!==void 0?o.bevelOffset:0,ct=o.bevelSegments!==void 0?o.bevelSegments:3;const ot=o.extrudePath,Ut=o.UVGenerator!==void 0?o.UVGenerator:e$;let Lt,Bt=!1,fe,ae,se,de;ot&&(Lt=ot.getSpacedPoints(Y),Bt=!0,at=!1,fe=ot.computeFrenetFrames(Y,!1),ae=new ee,se=new ee,de=new ee),at||(ct=0,rt=0,lt=0,At=0);const Xt=D.extractPoints(V);let zt=Xt.shape;const he=Xt.holes;if(!yo.isClockWise(zt)){zt=zt.reverse();for(let pi=0,ri=he.length;pi<ri;pi++){const Si=he[pi];yo.isClockWise(Si)&&(he[pi]=Si.reverse())}}const Ce=yo.triangulateShape(zt,he),xe=zt;for(let pi=0,ri=he.length;pi<ri;pi++){const Si=he[pi];zt=zt.concat(Si)}function je(pi,ri,Si){return ri||console.error("THREE.ExtrudeGeometry: vec does not exist"),pi.clone().addScaledVector(ri,Si)}const ui=zt.length,Pi=Ce.length;function Xe(pi,ri,Si){let Oi,_i,Hi;const Zi=pi.x-ri.x,kn=pi.y-ri.y,Vn=Si.x-pi.x,x9=Si.y-pi.y,Aa=Zi*Zi+kn*kn,Z9=Zi*x9-kn*Vn;if(Math.abs(Z9)>Number.EPSILON){const ce=Math.sqrt(Aa),Jt=Math.sqrt(Vn*Vn+x9*x9),Ze=ri.x-kn/ce,fi=ri.y+Zi/ce,Ai=Si.x-x9/Jt,gi=Si.y+Vn/Jt,fn=((Ai-Ze)*x9-(gi-fi)*Vn)/(Zi*x9-kn*Vn);Oi=Ze+Zi*fn-pi.x,_i=fi+kn*fn-pi.y;const Li=Oi*Oi+_i*_i;if(Li<=2)return new hi(Oi,_i);Hi=Math.sqrt(Li/2)}else{let ce=!1;Zi>Number.EPSILON?Vn>Number.EPSILON&&(ce=!0):Zi<-Number.EPSILON?Vn<-Number.EPSILON&&(ce=!0):Math.sign(kn)===Math.sign(x9)&&(ce=!0),ce?(Oi=-kn,_i=Zi,Hi=Math.sqrt(Aa)):(Oi=Zi,_i=kn,Hi=Math.sqrt(Aa/2))}return new hi(Oi/Hi,_i/Hi)}const Ti=[];for(let pi=0,ri=xe.length,Si=ri-1,Oi=pi+1;pi<ri;pi++,Si++,Oi++)Si===ri&&(Si=0),Oi===ri&&(Oi=0),Ti[pi]=Xe(xe[pi],xe[Si],xe[Oi]);const Bi=[];let ln,n9=Ti.concat();for(let pi=0,ri=he.length;pi<ri;pi++){const Si=he[pi];ln=[];for(let Oi=0,_i=Si.length,Hi=_i-1,Zi=Oi+1;Oi<_i;Oi++,Hi++,Zi++)Hi===_i&&(Hi=0),Zi===_i&&(Zi=0),ln[Oi]=Xe(Si[Oi],Si[Hi],Si[Zi]);Bi.push(ln),n9=n9.concat(ln)}for(let pi=0;pi<ct;pi++){const ri=pi/ct,Si=rt*Math.cos(ri*Math.PI/2),Oi=lt*Math.sin(ri*Math.PI/2)+At;for(let _i=0,Hi=xe.length;_i<Hi;_i++){const Zi=je(xe[_i],Ti[_i],Oi);un(Zi.x,Zi.y,-Si)}for(let _i=0,Hi=he.length;_i<Hi;_i++){const Zi=he[_i];ln=Bi[_i];for(let kn=0,Vn=Zi.length;kn<Vn;kn++){const x9=je(Zi[kn],ln[kn],Oi);un(x9.x,x9.y,-Si)}}}const I9=lt+At;for(let pi=0;pi<ui;pi++){const ri=at?je(zt[pi],n9[pi],I9):zt[pi];Bt?(se.copy(fe.normals[0]).multiplyScalar(ri.x),ae.copy(fe.binormals[0]).multiplyScalar(ri.y),de.copy(Lt[0]).add(se).add(ae),un(de.x,de.y,de.z)):un(ri.x,ri.y,0)}for(let pi=1;pi<=Y;pi++)for(let ri=0;ri<ui;ri++){const Si=at?je(zt[ri],n9[ri],I9):zt[ri];Bt?(se.copy(fe.normals[pi]).multiplyScalar(Si.x),ae.copy(fe.binormals[pi]).multiplyScalar(Si.y),de.copy(Lt[pi]).add(se).add(ae),un(de.x,de.y,de.z)):un(Si.x,Si.y,et/Y*pi)}for(let pi=ct-1;pi>=0;pi--){const ri=pi/ct,Si=rt*Math.cos(ri*Math.PI/2),Oi=lt*Math.sin(ri*Math.PI/2)+At;for(let _i=0,Hi=xe.length;_i<Hi;_i++){const Zi=je(xe[_i],Ti[_i],Oi);un(Zi.x,Zi.y,et+Si)}for(let _i=0,Hi=he.length;_i<Hi;_i++){const Zi=he[_i];ln=Bi[_i];for(let kn=0,Vn=Zi.length;kn<Vn;kn++){const x9=je(Zi[kn],ln[kn],Oi);Bt?un(x9.x,x9.y+Lt[Y-1].y,Lt[Y-1].x+Si):un(x9.x,x9.y,et+Si)}}}q9(),O9();function q9(){const pi=g.length/3;if(at){let ri=0,Si=ui*ri;for(let Oi=0;Oi<Pi;Oi++){const _i=Ce[Oi];mi(_i[2]+Si,_i[1]+Si,_i[0]+Si)}ri=Y+ct*2,Si=ui*ri;for(let Oi=0;Oi<Pi;Oi++){const _i=Ce[Oi];mi(_i[0]+Si,_i[1]+Si,_i[2]+Si)}}else{for(let ri=0;ri<Pi;ri++){const Si=Ce[ri];mi(Si[2],Si[1],Si[0])}for(let ri=0;ri<Pi;ri++){const Si=Ce[ri];mi(Si[0]+ui*Y,Si[1]+ui*Y,Si[2]+ui*Y)}}h.addGroup(pi,g.length/3-pi,0)}function O9(){const pi=g.length/3;let ri=0;G9(xe,ri),ri+=xe.length;for(let Si=0,Oi=he.length;Si<Oi;Si++){const _i=he[Si];G9(_i,ri),ri+=_i.length}h.addGroup(pi,g.length/3-pi,1)}function G9(pi,ri){let Si=pi.length;for(;--Si>=0;){const Oi=Si;let _i=Si-1;_i<0&&(_i=pi.length-1);for(let Hi=0,Zi=Y+ct*2;Hi<Zi;Hi++){const kn=ui*Hi,Vn=ui*(Hi+1),x9=ri+Oi+kn,Aa=ri+_i+kn,Z9=ri+_i+Vn,ce=ri+Oi+Vn;ki(x9,Aa,Z9,ce)}}}function un(pi,ri,Si){F.push(pi),F.push(ri),F.push(Si)}function mi(pi,ri,Si){Ui(pi),Ui(ri),Ui(Si);const Oi=g.length/3,_i=Ut.generateTopUV(h,g,Oi-3,Oi-2,Oi-1);Se(_i[0]),Se(_i[1]),Se(_i[2])}function ki(pi,ri,Si,Oi){Ui(pi),Ui(ri),Ui(Oi),Ui(ri),Ui(Si),Ui(Oi);const _i=g.length/3,Hi=Ut.generateSideWallUV(h,g,_i-6,_i-3,_i-2,_i-1);Se(Hi[0]),Se(Hi[1]),Se(Hi[3]),Se(Hi[1]),Se(Hi[2]),Se(Hi[3])}function Ui(pi){g.push(F[pi*3+0]),g.push(F[pi*3+1]),g.push(F[pi*3+2])}function Se(pi){C.push(pi.x),C.push(pi.y)}}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}toJSON(){const n=super.toJSON(),o=this.parameters.shapes,h=this.parameters.options;return i$(o,h,n)}static fromJSON(n,o){const h=[];for(let C=0,T=n.shapes.length;C<T;C++){const D=o[n.shapes[C]];h.push(D)}const g=n.options.extrudePath;return g!==void 0&&(n.options.extrudePath=new j2[g.type]().fromJSON(g)),new am(h,n.options)}}const e$={generateTopUV:function(_,n,o,h,g){const C=n[o*3],T=n[o*3+1],D=n[h*3],F=n[h*3+1],V=n[g*3],Y=n[g*3+1];return[new hi(C,T),new hi(D,F),new hi(V,Y)]},generateSideWallUV:function(_,n,o,h,g,C){const T=n[o*3],D=n[o*3+1],F=n[o*3+2],V=n[h*3],Y=n[h*3+1],et=n[h*3+2],at=n[g*3],rt=n[g*3+1],lt=n[g*3+2],At=n[C*3],ct=n[C*3+1],ot=n[C*3+2];return Math.abs(D-Y)<Math.abs(T-V)?[new hi(T,1-F),new hi(V,1-et),new hi(at,1-lt),new hi(At,1-ot)]:[new hi(D,1-F),new hi(Y,1-et),new hi(rt,1-lt),new hi(ct,1-ot)]}};function i$(_,n,o){if(o.shapes=[],Array.isArray(_))for(let h=0,g=_.length;h<g;h++){const C=_[h];o.shapes.push(C.uuid)}else o.shapes.push(_.uuid);return o.options=Object.assign({},n),n.extrudePath!==void 0&&(o.options.extrudePath=n.extrudePath.toJSON()),o}class rm extends el{constructor(n=1,o=0){const h=(1+Math.sqrt(5))/2,g=[-1,h,0,1,h,0,-1,-h,0,1,-h,0,0,-1,h,0,1,h,0,-1,-h,0,1,-h,h,0,-1,h,0,1,-h,0,-1,-h,0,1],C=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(g,C,n,o),this.type="IcosahedronGeometry",this.parameters={radius:n,detail:o}}static fromJSON(n){return new rm(n.radius,n.detail)}}class wh extends el{constructor(n=1,o=0){const h=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],g=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(h,g,n,o),this.type="OctahedronGeometry",this.parameters={radius:n,detail:o}}static fromJSON(n){return new wh(n.radius,n.detail)}}class om extends i9{constructor(n=.5,o=1,h=32,g=1,C=0,T=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:n,outerRadius:o,thetaSegments:h,phiSegments:g,thetaStart:C,thetaLength:T},h=Math.max(3,h),g=Math.max(1,g);const D=[],F=[],V=[],Y=[];let et=n;const at=(o-n)/g,rt=new ee,lt=new hi;for(let At=0;At<=g;At++){for(let ct=0;ct<=h;ct++){const ot=C+ct/h*T;rt.x=et*Math.cos(ot),rt.y=et*Math.sin(ot),F.push(rt.x,rt.y,rt.z),V.push(0,0,1),lt.x=(rt.x/o+1)/2,lt.y=(rt.y/o+1)/2,Y.push(lt.x,lt.y)}et+=at}for(let At=0;At<g;At++){const ct=At*(h+1);for(let ot=0;ot<h;ot++){const Ut=ot+ct,Lt=Ut,Bt=Ut+h+1,fe=Ut+h+2,ae=Ut+1;D.push(Lt,Bt,ae),D.push(Bt,fe,ae)}}this.setIndex(D),this.setAttribute("position",new hn(F,3)),this.setAttribute("normal",new hn(V,3)),this.setAttribute("uv",new hn(Y,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new om(n.innerRadius,n.outerRadius,n.thetaSegments,n.phiSegments,n.thetaStart,n.thetaLength)}}class sm extends i9{constructor(n=new lc([new hi(0,.5),new hi(-.5,-.5),new hi(.5,-.5)]),o=12){super(),this.type="ShapeGeometry",this.parameters={shapes:n,curveSegments:o};const h=[],g=[],C=[],T=[];let D=0,F=0;if(Array.isArray(n)===!1)V(n);else for(let Y=0;Y<n.length;Y++)V(n[Y]),this.addGroup(D,F,Y),D+=F,F=0;this.setIndex(h),this.setAttribute("position",new hn(g,3)),this.setAttribute("normal",new hn(C,3)),this.setAttribute("uv",new hn(T,2));function V(Y){const et=g.length/3,at=Y.extractPoints(o);let rt=at.shape;const lt=at.holes;yo.isClockWise(rt)===!1&&(rt=rt.reverse());for(let ct=0,ot=lt.length;ct<ot;ct++){const Ut=lt[ct];yo.isClockWise(Ut)===!0&&(lt[ct]=Ut.reverse())}const At=yo.triangulateShape(rt,lt);for(let ct=0,ot=lt.length;ct<ot;ct++){const Ut=lt[ct];rt=rt.concat(Ut)}for(let ct=0,ot=rt.length;ct<ot;ct++){const Ut=rt[ct];g.push(Ut.x,Ut.y,0),C.push(0,0,1),T.push(Ut.x,Ut.y)}for(let ct=0,ot=At.length;ct<ot;ct++){const Ut=At[ct],Lt=Ut[0]+et,Bt=Ut[1]+et,fe=Ut[2]+et;h.push(Lt,Bt,fe),F+=3}}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}toJSON(){const n=super.toJSON(),o=this.parameters.shapes;return n$(o,n)}static fromJSON(n,o){const h=[];for(let g=0,C=n.shapes.length;g<C;g++){const T=o[n.shapes[g]];h.push(T)}return new sm(h,n.curveSegments)}}function n$(_,n){if(n.shapes=[],Array.isArray(_))for(let o=0,h=_.length;o<h;o++){const g=_[o];n.shapes.push(g.uuid)}else n.shapes.push(_.uuid);return n}class Oh extends i9{constructor(n=1,o=32,h=16,g=0,C=Math.PI*2,T=0,D=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:o,heightSegments:h,phiStart:g,phiLength:C,thetaStart:T,thetaLength:D},o=Math.max(3,Math.floor(o)),h=Math.max(2,Math.floor(h));const F=Math.min(T+D,Math.PI);let V=0;const Y=[],et=new ee,at=new ee,rt=[],lt=[],At=[],ct=[];for(let ot=0;ot<=h;ot++){const Ut=[],Lt=ot/h;let Bt=0;ot===0&&T===0?Bt=.5/o:ot===h&&F===Math.PI&&(Bt=-.5/o);for(let fe=0;fe<=o;fe++){const ae=fe/o;et.x=-n*Math.cos(g+ae*C)*Math.sin(T+Lt*D),et.y=n*Math.cos(T+Lt*D),et.z=n*Math.sin(g+ae*C)*Math.sin(T+Lt*D),lt.push(et.x,et.y,et.z),at.copy(et).normalize(),At.push(at.x,at.y,at.z),ct.push(ae+Bt,1-Lt),Ut.push(V++)}Y.push(Ut)}for(let ot=0;ot<h;ot++)for(let Ut=0;Ut<o;Ut++){const Lt=Y[ot][Ut+1],Bt=Y[ot][Ut],fe=Y[ot+1][Ut],ae=Y[ot+1][Ut+1];(ot!==0||T>0)&&rt.push(Lt,Bt,ae),(ot!==h-1||F<Math.PI)&&rt.push(Bt,fe,ae)}this.setIndex(rt),this.setAttribute("position",new hn(lt,3)),this.setAttribute("normal",new hn(At,3)),this.setAttribute("uv",new hn(ct,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Oh(n.radius,n.widthSegments,n.heightSegments,n.phiStart,n.phiLength,n.thetaStart,n.thetaLength)}}class lm extends el{constructor(n=1,o=0){const h=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],g=[2,1,0,0,3,2,1,3,0,2,3,1];super(h,g,n,o),this.type="TetrahedronGeometry",this.parameters={radius:n,detail:o}}static fromJSON(n){return new lm(n.radius,n.detail)}}class cm extends i9{constructor(n=1,o=.4,h=12,g=48,C=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:n,tube:o,radialSegments:h,tubularSegments:g,arc:C},h=Math.floor(h),g=Math.floor(g);const T=[],D=[],F=[],V=[],Y=new ee,et=new ee,at=new ee;for(let rt=0;rt<=h;rt++)for(let lt=0;lt<=g;lt++){const At=lt/g*C,ct=rt/h*Math.PI*2;et.x=(n+o*Math.cos(ct))*Math.cos(At),et.y=(n+o*Math.cos(ct))*Math.sin(At),et.z=o*Math.sin(ct),D.push(et.x,et.y,et.z),Y.x=n*Math.cos(At),Y.y=n*Math.sin(At),at.subVectors(et,Y).normalize(),F.push(at.x,at.y,at.z),V.push(lt/g),V.push(rt/h)}for(let rt=1;rt<=h;rt++)for(let lt=1;lt<=g;lt++){const At=(g+1)*rt+lt-1,ct=(g+1)*(rt-1)+lt-1,ot=(g+1)*(rt-1)+lt,Ut=(g+1)*rt+lt;T.push(At,ct,Ut),T.push(ct,ot,Ut)}this.setIndex(T),this.setAttribute("position",new hn(D,3)),this.setAttribute("normal",new hn(F,3)),this.setAttribute("uv",new hn(V,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new cm(n.radius,n.tube,n.radialSegments,n.tubularSegments,n.arc)}}class um extends i9{constructor(n=1,o=.4,h=64,g=8,C=2,T=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:o,tubularSegments:h,radialSegments:g,p:C,q:T},h=Math.floor(h),g=Math.floor(g);const D=[],F=[],V=[],Y=[],et=new ee,at=new ee,rt=new ee,lt=new ee,At=new ee,ct=new ee,ot=new ee;for(let Lt=0;Lt<=h;++Lt){const Bt=Lt/h*C*Math.PI*2;Ut(Bt,C,T,n,rt),Ut(Bt+.01,C,T,n,lt),ct.subVectors(lt,rt),ot.addVectors(lt,rt),At.crossVectors(ct,ot),ot.crossVectors(At,ct),At.normalize(),ot.normalize();for(let fe=0;fe<=g;++fe){const ae=fe/g*Math.PI*2,se=-o*Math.cos(ae),de=o*Math.sin(ae);et.x=rt.x+(se*ot.x+de*At.x),et.y=rt.y+(se*ot.y+de*At.y),et.z=rt.z+(se*ot.z+de*At.z),F.push(et.x,et.y,et.z),at.subVectors(et,rt).normalize(),V.push(at.x,at.y,at.z),Y.push(Lt/h),Y.push(fe/g)}}for(let Lt=1;Lt<=h;Lt++)for(let Bt=1;Bt<=g;Bt++){const fe=(g+1)*(Lt-1)+(Bt-1),ae=(g+1)*Lt+(Bt-1),se=(g+1)*Lt+Bt,de=(g+1)*(Lt-1)+Bt;D.push(fe,ae,de),D.push(ae,se,de)}this.setIndex(D),this.setAttribute("position",new hn(F,3)),this.setAttribute("normal",new hn(V,3)),this.setAttribute("uv",new hn(Y,2));function Ut(Lt,Bt,fe,ae,se){const de=Math.cos(Lt),Xt=Math.sin(Lt),zt=fe/Bt*Lt,he=Math.cos(zt);se.x=ae*(2+he)*.5*de,se.y=ae*(2+he)*Xt*.5,se.z=ae*Math.sin(zt)*.5}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new um(n.radius,n.tube,n.tubularSegments,n.radialSegments,n.p,n.q)}}class dm extends i9{constructor(n=new Q8(new ee(-1,-1,0),new ee(-1,1,0),new ee(1,1,0)),o=64,h=1,g=8,C=!1){super(),this.type="TubeGeometry",this.parameters={path:n,tubularSegments:o,radius:h,radialSegments:g,closed:C};const T=n.computeFrenetFrames(o,C);this.tangents=T.tangents,this.normals=T.normals,this.binormals=T.binormals;const D=new ee,F=new ee,V=new hi;let Y=new ee;const et=[],at=[],rt=[],lt=[];At(),this.setIndex(lt),this.setAttribute("position",new hn(et,3)),this.setAttribute("normal",new hn(at,3)),this.setAttribute("uv",new hn(rt,2));function At(){for(let Lt=0;Lt<o;Lt++)ct(Lt);ct(C===!1?o:0),Ut(),ot()}function ct(Lt){Y=n.getPointAt(Lt/o,Y);const Bt=T.normals[Lt],fe=T.binormals[Lt];for(let ae=0;ae<=g;ae++){const se=ae/g*Math.PI*2,de=Math.sin(se),Xt=-Math.cos(se);F.x=Xt*Bt.x+de*fe.x,F.y=Xt*Bt.y+de*fe.y,F.z=Xt*Bt.z+de*fe.z,F.normalize(),at.push(F.x,F.y,F.z),D.x=Y.x+h*F.x,D.y=Y.y+h*F.y,D.z=Y.z+h*F.z,et.push(D.x,D.y,D.z)}}function ot(){for(let Lt=1;Lt<=o;Lt++)for(let Bt=1;Bt<=g;Bt++){const fe=(g+1)*(Lt-1)+(Bt-1),ae=(g+1)*Lt+(Bt-1),se=(g+1)*Lt+Bt,de=(g+1)*(Lt-1)+Bt;lt.push(fe,ae,de),lt.push(ae,se,de)}}function Ut(){for(let Lt=0;Lt<=o;Lt++)for(let Bt=0;Bt<=g;Bt++)V.x=Lt/o,V.y=Bt/g,rt.push(V.x,V.y)}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}toJSON(){const n=super.toJSON();return n.path=this.parameters.path.toJSON(),n}static fromJSON(n){return new dm(new j2[n.path.type]().fromJSON(n.path),n.tubularSegments,n.radius,n.radialSegments,n.closed)}}class my extends i9{constructor(n=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:n},n!==null){const o=[],h=new Set,g=new ee,C=new ee;if(n.index!==null){const T=n.attributes.position,D=n.index;let F=n.groups;F.length===0&&(F=[{start:0,count:D.count,materialIndex:0}]);for(let V=0,Y=F.length;V<Y;++V){const et=F[V],at=et.start,rt=et.count;for(let lt=at,At=at+rt;lt<At;lt+=3)for(let ct=0;ct<3;ct++){const ot=D.getX(lt+ct),Ut=D.getX(lt+(ct+1)%3);g.fromBufferAttribute(T,ot),C.fromBufferAttribute(T,Ut),py(g,C,h)===!0&&(o.push(g.x,g.y,g.z),o.push(C.x,C.y,C.z))}}}else{const T=n.attributes.position;for(let D=0,F=T.count/3;D<F;D++)for(let V=0;V<3;V++){const Y=3*D+V,et=3*D+(V+1)%3;g.fromBufferAttribute(T,Y),C.fromBufferAttribute(T,et),py(g,C,h)===!0&&(o.push(g.x,g.y,g.z),o.push(C.x,C.y,C.z))}}this.setAttribute("position",new hn(o,3))}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}}function py(_,n,o){const h=`${_.x},${_.y},${_.z}-${n.x},${n.y},${n.z}`,g=`${n.x},${n.y},${n.z}-${_.x},${_.y},${_.z}`;return o.has(h)===!0||o.has(g)===!0?!1:(o.add(h),o.add(g),!0)}var gy=Object.freeze({__proto__:null,BoxGeometry:Zl,CapsuleGeometry:W2,CircleGeometry:K2,ConeGeometry:X2,CylinderGeometry:Pu,DodecahedronGeometry:Y2,EdgesGeometry:sy,ExtrudeGeometry:am,IcosahedronGeometry:rm,LatheGeometry:bh,OctahedronGeometry:wh,PlaneGeometry:Eu,PolyhedronGeometry:el,RingGeometry:om,ShapeGeometry:sm,SphereGeometry:Oh,TetrahedronGeometry:lm,TorusGeometry:cm,TorusKnotGeometry:um,TubeGeometry:dm,WireframeGeometry:my});class My extends Er{constructor(n){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tn(0),this.transparent=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.fog=n.fog,this}}class Ay extends H0{constructor(n){super(n),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class K8 extends Er{constructor(n){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new tn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new hi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new l0,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapRotation.copy(n.envMapRotation),this.envMapIntensity=n.envMapIntensity,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class yy extends K8{constructor(n){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new hi(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return fa(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(o){this.ior=(1+.4*o)/(1-.4*o)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new tn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(n)}get anisotropy(){return this._anisotropy}set anisotropy(n){this._anisotropy>0!=n>0&&this.version++,this._anisotropy=n}get clearcoat(){return this._clearcoat}set clearcoat(n){this._clearcoat>0!=n>0&&this.version++,this._clearcoat=n}get iridescence(){return this._iridescence}set iridescence(n){this._iridescence>0!=n>0&&this.version++,this._iridescence=n}get dispersion(){return this._dispersion}set dispersion(n){this._dispersion>0!=n>0&&this.version++,this._dispersion=n}get sheen(){return this._sheen}set sheen(n){this._sheen>0!=n>0&&this.version++,this._sheen=n}get transmission(){return this._transmission}set transmission(n){this._transmission>0!=n>0&&this.version++,this._transmission=n}copy(n){return super.copy(n),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=n.anisotropy,this.anisotropyRotation=n.anisotropyRotation,this.anisotropyMap=n.anisotropyMap,this.clearcoat=n.clearcoat,this.clearcoatMap=n.clearcoatMap,this.clearcoatRoughness=n.clearcoatRoughness,this.clearcoatRoughnessMap=n.clearcoatRoughnessMap,this.clearcoatNormalMap=n.clearcoatNormalMap,this.clearcoatNormalScale.copy(n.clearcoatNormalScale),this.dispersion=n.dispersion,this.ior=n.ior,this.iridescence=n.iridescence,this.iridescenceMap=n.iridescenceMap,this.iridescenceIOR=n.iridescenceIOR,this.iridescenceThicknessRange=[...n.iridescenceThicknessRange],this.iridescenceThicknessMap=n.iridescenceThicknessMap,this.sheen=n.sheen,this.sheenColor.copy(n.sheenColor),this.sheenColorMap=n.sheenColorMap,this.sheenRoughness=n.sheenRoughness,this.sheenRoughnessMap=n.sheenRoughnessMap,this.transmission=n.transmission,this.transmissionMap=n.transmissionMap,this.thickness=n.thickness,this.thicknessMap=n.thicknessMap,this.attenuationDistance=n.attenuationDistance,this.attenuationColor.copy(n.attenuationColor),this.specularIntensity=n.specularIntensity,this.specularIntensityMap=n.specularIntensityMap,this.specularColor.copy(n.specularColor),this.specularColorMap=n.specularColorMap,this}}class vy extends Er{constructor(n){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new hi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new l0,this.combine=ni,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapRotation.copy(n.envMapRotation),this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class by extends Er{constructor(n){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new hi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.gradientMap=n.gradientMap,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.fog=n.fog,this}}class Cy extends Er{constructor(n){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new hi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(n)}copy(n){return super.copy(n),this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.flatShading=n.flatShading,this}}class Ey extends Er{constructor(n){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new hi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new l0,this.combine=ni,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapRotation.copy(n.envMapRotation),this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class _y extends Er{constructor(n){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vr,this.normalScale=new hi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.defines={MATCAP:""},this.color.copy(n.color),this.matcap=n.matcap,this.map=n.map,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.flatShading=n.flatShading,this.fog=n.fog,this}}class wy extends Fr{constructor(n){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(n)}copy(n){return super.copy(n),this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this}}function uc(_,n,o){return!_||!o&&_.constructor===n?_:typeof n.BYTES_PER_ELEMENT=="number"?new n(_):Array.prototype.slice.call(_)}function Oy(_){return ArrayBuffer.isView(_)&&!(_ instanceof DataView)}function xy(_){function n(g,C){return _[g]-_[C]}const o=_.length,h=new Array(o);for(let g=0;g!==o;++g)h[g]=g;return h.sort(n),h}function X8(_,n,o){const h=_.length,g=new _.constructor(h);for(let C=0,T=0;T!==h;++C){const D=o[C]*n;for(let F=0;F!==n;++F)g[T++]=_[D+F]}return g}function Y8(_,n,o,h){let g=1,C=_[0];for(;C!==void 0&&C[h]===void 0;)C=_[g++];if(C===void 0)return;let T=C[h];if(T!==void 0)if(Array.isArray(T))do T=C[h],T!==void 0&&(n.push(C.time),o.push.apply(o,T)),C=_[g++];while(C!==void 0);else if(T.toArray!==void 0)do T=C[h],T!==void 0&&(n.push(C.time),T.toArray(o,o.length)),C=_[g++];while(C!==void 0);else do T=C[h],T!==void 0&&(n.push(C.time),o.push(T)),C=_[g++];while(C!==void 0)}function a$(_,n,o,h,g=30){const C=_.clone();C.name=n;const T=[];for(let F=0;F<C.tracks.length;++F){const V=C.tracks[F],Y=V.getValueSize(),et=[],at=[];for(let rt=0;rt<V.times.length;++rt){const lt=V.times[rt]*g;if(!(lt<o||lt>=h)){et.push(V.times[rt]);for(let At=0;At<Y;++At)at.push(V.values[rt*Y+At])}}et.length!==0&&(V.times=uc(et,V.times.constructor),V.values=uc(at,V.values.constructor),T.push(V))}C.tracks=T;let D=1/0;for(let F=0;F<C.tracks.length;++F)D>C.tracks[F].times[0]&&(D=C.tracks[F].times[0]);for(let F=0;F<C.tracks.length;++F)C.tracks[F].shift(-1*D);return C.resetDuration(),C}function r$(_,n=0,o=_,h=30){h<=0&&(h=30);const g=o.tracks.length,C=n/h;for(let T=0;T<g;++T){const D=o.tracks[T],F=D.ValueTypeName;if(F==="bool"||F==="string")continue;const V=_.tracks.find(function(ot){return ot.name===D.name&&ot.ValueTypeName===F});if(V===void 0)continue;let Y=0;const et=D.getValueSize();D.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Y=et/3);let at=0;const rt=V.getValueSize();V.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(at=rt/3);const lt=D.times.length-1;let At;if(C<=D.times[0]){const ot=Y,Ut=et-Y;At=D.values.slice(ot,Ut)}else if(C>=D.times[lt]){const ot=lt*et+Y,Ut=ot+et-Y;At=D.values.slice(ot,Ut)}else{const ot=D.createInterpolant(),Ut=Y,Lt=et-Y;ot.evaluate(C),At=ot.resultBuffer.slice(Ut,Lt)}F==="quaternion"&&new _9().fromArray(At).normalize().conjugate().toArray(At);const ct=V.times.length;for(let ot=0;ot<ct;++ot){const Ut=ot*rt+at;if(F==="quaternion")_9.multiplyQuaternionsFlat(V.values,Ut,At,0,V.values,Ut);else{const Lt=rt-at*2;for(let Bt=0;Bt<Lt;++Bt)V.values[Ut+Bt]-=At[Bt]}}}return _.blendMode=U0,_}const o$={convertArray:uc,isTypedArray:Oy,getKeyframeOrder:xy,sortedArray:X8,flattenJSON:Y8,subclip:a$,makeClipAdditive:r$};class xh{constructor(n,o,h,g){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=g!==void 0?g:new o.constructor(h),this.sampleValues=o,this.valueSize=h,this.settings=null,this.DefaultSettings_={}}evaluate(n){const o=this.parameterPositions;let h=this._cachedIndex,g=o[h],C=o[h-1];t:{e:{let T;i:{n:if(!(n<g)){for(let D=h+2;;){if(g===void 0){if(n<C)break n;return h=o.length,this._cachedIndex=h,this.copySampleValue_(h-1)}if(h===D)break;if(C=g,g=o[++h],n<g)break e}T=o.length;break i}if(!(n>=C)){const D=o[1];n<D&&(h=2,C=D);for(let F=h-2;;){if(C===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(h===F)break;if(g=C,C=o[--h-1],n>=C)break e}T=h,h=0;break i}break t}for(;h<T;){const D=h+T>>>1;n<o[D]?T=D:h=D+1}if(g=o[h],C=o[h-1],C===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(g===void 0)return h=o.length,this._cachedIndex=h,this.copySampleValue_(h-1)}this._cachedIndex=h,this.intervalChanged_(h,C,g)}return this.interpolate_(h,C,n,g)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(n){const o=this.resultBuffer,h=this.sampleValues,g=this.valueSize,C=n*g;for(let T=0;T!==g;++T)o[T]=h[C+T];return o}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Sy extends xh{constructor(n,o,h,g){super(n,o,h,g),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pa,endingEnd:pa}}intervalChanged_(n,o,h){const g=this.parameterPositions;let C=n-2,T=n+1,D=g[C],F=g[T];if(D===void 0)switch(this.getSettings_().endingStart){case Za:C=n,D=2*o-h;break;case a0:C=g.length-2,D=o+g[C]-g[C+1];break;default:C=n,D=h}if(F===void 0)switch(this.getSettings_().endingEnd){case Za:T=n,F=2*h-o;break;case a0:T=1,F=h+g[1]-g[0];break;default:T=n-1,F=o}const V=(h-o)*.5,Y=this.valueSize;this._weightPrev=V/(o-D),this._weightNext=V/(F-h),this._offsetPrev=C*Y,this._offsetNext=T*Y}interpolate_(n,o,h,g){const C=this.resultBuffer,T=this.sampleValues,D=this.valueSize,F=n*D,V=F-D,Y=this._offsetPrev,et=this._offsetNext,at=this._weightPrev,rt=this._weightNext,lt=(h-o)/(g-o),At=lt*lt,ct=At*lt,ot=-at*ct+2*at*At-at*lt,Ut=(1+at)*ct+(-1.5-2*at)*At+(-.5+at)*lt+1,Lt=(-1-rt)*ct+(1.5+rt)*At+.5*lt,Bt=rt*ct-rt*At;for(let fe=0;fe!==D;++fe)C[fe]=ot*T[Y+fe]+Ut*T[V+fe]+Lt*T[F+fe]+Bt*T[et+fe];return C}}class q8 extends xh{constructor(n,o,h,g){super(n,o,h,g)}interpolate_(n,o,h,g){const C=this.resultBuffer,T=this.sampleValues,D=this.valueSize,F=n*D,V=F-D,Y=(h-o)/(g-o),et=1-Y;for(let at=0;at!==D;++at)C[at]=T[V+at]*et+T[F+at]*Y;return C}}class Ty extends xh{constructor(n,o,h,g){super(n,o,h,g)}interpolate_(n){return this.copySampleValue_(n-1)}}class z0{constructor(n,o,h,g){if(n===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(o===void 0||o.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=uc(o,this.TimeBufferType),this.values=uc(h,this.ValueBufferType),this.setInterpolation(g||this.DefaultInterpolation)}static toJSON(n){const o=n.constructor;let h;if(o.toJSON!==this.toJSON)h=o.toJSON(n);else{h={name:n.name,times:uc(n.times,Array),values:uc(n.values,Array)};const g=n.getInterpolation();g!==n.DefaultInterpolation&&(h.interpolation=g)}return h.type=n.ValueTypeName,h}InterpolantFactoryMethodDiscrete(n){return new Ty(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodLinear(n){return new q8(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodSmooth(n){return new Sy(this.times,this.values,this.getValueSize(),n)}setInterpolation(n){let o;switch(n){case Ra:o=this.InterpolantFactoryMethodDiscrete;break;case Da:o=this.InterpolantFactoryMethodLinear;break;case Na:o=this.InterpolantFactoryMethodSmooth;break}if(o===void 0){const h="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(n!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(h);return console.warn("THREE.KeyframeTrack:",h),this}return this.createInterpolant=o,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ra;case this.InterpolantFactoryMethodLinear:return Da;case this.InterpolantFactoryMethodSmooth:return Na}}getValueSize(){return this.values.length/this.times.length}shift(n){if(n!==0){const o=this.times;for(let h=0,g=o.length;h!==g;++h)o[h]+=n}return this}scale(n){if(n!==1){const o=this.times;for(let h=0,g=o.length;h!==g;++h)o[h]*=n}return this}trim(n,o){const h=this.times,g=h.length;let C=0,T=g-1;for(;C!==g&&h[C]<n;)++C;for(;T!==-1&&h[T]>o;)--T;if(++T,C!==0||T!==g){C>=T&&(T=Math.max(T,1),C=T-1);const D=this.getValueSize();this.times=h.slice(C,T),this.values=this.values.slice(C*D,T*D)}return this}validate(){let n=!0;const o=this.getValueSize();o-Math.floor(o)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),n=!1);const h=this.times,g=this.values,C=h.length;C===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),n=!1);let T=null;for(let D=0;D!==C;D++){const F=h[D];if(typeof F=="number"&&isNaN(F)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,D,F),n=!1;break}if(T!==null&&T>F){console.error("THREE.KeyframeTrack: Out of order keys.",this,D,F,T),n=!1;break}T=F}if(g!==void 0&&Oy(g))for(let D=0,F=g.length;D!==F;++D){const V=g[D];if(isNaN(V)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,D,V),n=!1;break}}return n}optimize(){const n=this.times.slice(),o=this.values.slice(),h=this.getValueSize(),g=this.getInterpolation()===Na,C=n.length-1;let T=1;for(let D=1;D<C;++D){let F=!1;const V=n[D],Y=n[D+1];if(V!==Y&&(D!==1||V!==n[0]))if(g)F=!0;else{const et=D*h,at=et-h,rt=et+h;for(let lt=0;lt!==h;++lt){const At=o[et+lt];if(At!==o[at+lt]||At!==o[rt+lt]){F=!0;break}}}if(F){if(D!==T){n[T]=n[D];const et=D*h,at=T*h;for(let rt=0;rt!==h;++rt)o[at+rt]=o[et+rt]}++T}}if(C>0){n[T]=n[C];for(let D=C*h,F=T*h,V=0;V!==h;++V)o[F+V]=o[D+V];++T}return T!==n.length?(this.times=n.slice(0,T),this.values=o.slice(0,T*h)):(this.times=n,this.values=o),this}clone(){const n=this.times.slice(),o=this.values.slice(),h=this.constructor,g=new h(this.name,n,o);return g.createInterpolant=this.createInterpolant,g}}z0.prototype.TimeBufferType=Float32Array,z0.prototype.ValueBufferType=Float32Array,z0.prototype.DefaultInterpolation=Da;class dc extends z0{}dc.prototype.ValueTypeName="bool",dc.prototype.ValueBufferType=Array,dc.prototype.DefaultInterpolation=Ra,dc.prototype.InterpolantFactoryMethodLinear=void 0,dc.prototype.InterpolantFactoryMethodSmooth=void 0;class Z8 extends z0{}Z8.prototype.ValueTypeName="color";class Sh extends z0{}Sh.prototype.ValueTypeName="number";class Iy extends xh{constructor(n,o,h,g){super(n,o,h,g)}interpolate_(n,o,h,g){const C=this.resultBuffer,T=this.sampleValues,D=this.valueSize,F=(h-o)/(g-o);let V=n*D;for(let Y=V+D;V!==Y;V+=4)_9.slerpFlat(C,0,T,V-D,T,V,F);return C}}class ku extends z0{InterpolantFactoryMethodLinear(n){return new Iy(this.times,this.values,this.getValueSize(),n)}}ku.prototype.ValueTypeName="quaternion",ku.prototype.DefaultInterpolation=Da,ku.prototype.InterpolantFactoryMethodSmooth=void 0;class hc extends z0{}hc.prototype.ValueTypeName="string",hc.prototype.ValueBufferType=Array,hc.prototype.DefaultInterpolation=Ra,hc.prototype.InterpolantFactoryMethodLinear=void 0,hc.prototype.InterpolantFactoryMethodSmooth=void 0;class Th extends z0{}Th.prototype.ValueTypeName="vector";class Ih{constructor(n="",o=-1,h=[],g=v0){this.name=n,this.tracks=h,this.duration=o,this.blendMode=g,this.uuid=Pr(),this.duration<0&&this.resetDuration()}static parse(n){const o=[],h=n.tracks,g=1/(n.fps||1);for(let T=0,D=h.length;T!==D;++T)o.push(l$(h[T]).scale(g));const C=new this(n.name,n.duration,o,n.blendMode);return C.uuid=n.uuid,C}static toJSON(n){const o=[],h=n.tracks,g={name:n.name,duration:n.duration,tracks:o,uuid:n.uuid,blendMode:n.blendMode};for(let C=0,T=h.length;C!==T;++C)o.push(z0.toJSON(h[C]));return g}static CreateFromMorphTargetSequence(n,o,h,g){const C=o.length,T=[];for(let D=0;D<C;D++){let F=[],V=[];F.push((D+C-1)%C,D,(D+1)%C),V.push(0,1,0);const Y=xy(F);F=X8(F,1,Y),V=X8(V,1,Y),!g&&F[0]===0&&(F.push(C),V.push(V[0])),T.push(new Sh(".morphTargetInfluences["+o[D].name+"]",F,V).scale(1/h))}return new this(n,-1,T)}static findByName(n,o){let h=n;if(!Array.isArray(n)){const g=n;h=g.geometry&&g.geometry.animations||g.animations}for(let g=0;g<h.length;g++)if(h[g].name===o)return h[g];return null}static CreateClipsFromMorphTargetSequences(n,o,h){const g={},C=/^([\w-]*?)([\d]+)$/;for(let D=0,F=n.length;D<F;D++){const V=n[D],Y=V.name.match(C);if(Y&&Y.length>1){const et=Y[1];let at=g[et];at||(g[et]=at=[]),at.push(V)}}const T=[];for(const D in g)T.push(this.CreateFromMorphTargetSequence(D,g[D],o,h));return T}static parseAnimation(n,o){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const h=function(et,at,rt,lt,At){if(rt.length!==0){const ct=[],ot=[];Y8(rt,ct,ot,lt),ct.length!==0&&At.push(new et(at,ct,ot))}},g=[],C=n.name||"default",T=n.fps||30,D=n.blendMode;let F=n.length||-1;const V=n.hierarchy||[];for(let et=0;et<V.length;et++){const at=V[et].keys;if(!(!at||at.length===0))if(at[0].morphTargets){const rt={};let lt;for(lt=0;lt<at.length;lt++)if(at[lt].morphTargets)for(let At=0;At<at[lt].morphTargets.length;At++)rt[at[lt].morphTargets[At]]=-1;for(const At in rt){const ct=[],ot=[];for(let Ut=0;Ut!==at[lt].morphTargets.length;++Ut){const Lt=at[lt];ct.push(Lt.time),ot.push(Lt.morphTarget===At?1:0)}g.push(new Sh(".morphTargetInfluence["+At+"]",ct,ot))}F=rt.length*T}else{const rt=".bones["+o[et].name+"]";h(Th,rt+".position",at,"pos",g),h(ku,rt+".quaternion",at,"rot",g),h(Th,rt+".scale",at,"scl",g)}}return g.length===0?null:new this(C,F,g,D)}resetDuration(){const n=this.tracks;let o=0;for(let h=0,g=n.length;h!==g;++h){const C=this.tracks[h];o=Math.max(o,C.times[C.times.length-1])}return this.duration=o,this}trim(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this}validate(){let n=!0;for(let o=0;o<this.tracks.length;o++)n=n&&this.tracks[o].validate();return n}optimize(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this}clone(){const n=[];for(let o=0;o<this.tracks.length;o++)n.push(this.tracks[o].clone());return new this.constructor(this.name,this.duration,n,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function s$(_){switch(_.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sh;case"vector":case"vector2":case"vector3":case"vector4":return Th;case"color":return Z8;case"quaternion":return ku;case"bool":case"boolean":return dc;case"string":return hc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+_)}function l$(_){if(_.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const n=s$(_.type);if(_.times===void 0){const o=[],h=[];Y8(_.keys,o,h,"value"),_.times=o,_.values=h}return n.parse!==void 0?n.parse(_):new n(_.name,_.times,_.values,_.interpolation)}const rs={enabled:!1,files:{},add:function(_,n){this.enabled!==!1&&(this.files[_]=n)},get:function(_){if(this.enabled!==!1)return this.files[_]},remove:function(_){delete this.files[_]},clear:function(){this.files={}}};class t5{constructor(n,o,h){const g=this;let C=!1,T=0,D=0,F;const V=[];this.onStart=void 0,this.onLoad=n,this.onProgress=o,this.onError=h,this.itemStart=function(Y){D++,C===!1&&g.onStart!==void 0&&g.onStart(Y,T,D),C=!0},this.itemEnd=function(Y){T++,g.onProgress!==void 0&&g.onProgress(Y,T,D),T===D&&(C=!1,g.onLoad!==void 0&&g.onLoad())},this.itemError=function(Y){g.onError!==void 0&&g.onError(Y)},this.resolveURL=function(Y){return F?F(Y):Y},this.setURLModifier=function(Y){return F=Y,this},this.addHandler=function(Y,et){return V.push(Y,et),this},this.removeHandler=function(Y){const et=V.indexOf(Y);return et!==-1&&V.splice(et,2),this},this.getHandler=function(Y){for(let et=0,at=V.length;et<at;et+=2){const rt=V[et],lt=V[et+1];if(rt.global&&(rt.lastIndex=0),rt.test(Y))return lt}return null}}}const By=new t5;class Kr{constructor(n){this.manager=n!==void 0?n:By,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(n,o){const h=this;return new Promise(function(g,C){h.load(n,g,o,C)})}parse(){}setCrossOrigin(n){return this.crossOrigin=n,this}setWithCredentials(n){return this.withCredentials=n,this}setPath(n){return this.path=n,this}setResourcePath(n){return this.resourcePath=n,this}setRequestHeader(n){return this.requestHeader=n,this}}Kr.DEFAULT_MATERIAL_NAME="__DEFAULT";const os={};class c$ extends Error{constructor(n,o){super(n),this.response=o}}class ss extends Kr{constructor(n){super(n)}load(n,o,h,g){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);const C=rs.get(n);if(C!==void 0)return this.manager.itemStart(n),setTimeout(()=>{o&&o(C),this.manager.itemEnd(n)},0),C;if(os[n]!==void 0){os[n].push({onLoad:o,onProgress:h,onError:g});return}os[n]=[],os[n].push({onLoad:o,onProgress:h,onError:g});const T=new Request(n,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),D=this.mimeType,F=this.responseType;fetch(T).then(V=>{if(V.status===200||V.status===0){if(V.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||V.body===void 0||V.body.getReader===void 0)return V;const Y=os[n],et=V.body.getReader(),at=V.headers.get("X-File-Size")||V.headers.get("Content-Length"),rt=at?parseInt(at):0,lt=rt!==0;let At=0;const ct=new ReadableStream({start(ot){Ut();function Ut(){et.read().then(({done:Lt,value:Bt})=>{if(Lt)ot.close();else{At+=Bt.byteLength;const fe=new ProgressEvent("progress",{lengthComputable:lt,loaded:At,total:rt});for(let ae=0,se=Y.length;ae<se;ae++){const de=Y[ae];de.onProgress&&de.onProgress(fe)}ot.enqueue(Bt),Ut()}})}}});return new Response(ct)}else throw new c$(`fetch for "${V.url}" responded with ${V.status}: ${V.statusText}`,V)}).then(V=>{switch(F){case"arraybuffer":return V.arrayBuffer();case"blob":return V.blob();case"document":return V.text().then(Y=>new DOMParser().parseFromString(Y,D));case"json":return V.json();default:if(D===void 0)return V.text();{const et=/charset="?([^;"\s]*)"?/i.exec(D),at=et&&et[1]?et[1].toLowerCase():void 0,rt=new TextDecoder(at);return V.arrayBuffer().then(lt=>rt.decode(lt))}}}).then(V=>{rs.add(n,V);const Y=os[n];delete os[n];for(let et=0,at=Y.length;et<at;et++){const rt=Y[et];rt.onLoad&&rt.onLoad(V)}}).catch(V=>{const Y=os[n];if(Y===void 0)throw this.manager.itemError(n),V;delete os[n];for(let et=0,at=Y.length;et<at;et++){const rt=Y[et];rt.onError&&rt.onError(V)}this.manager.itemError(n)}).finally(()=>{this.manager.itemEnd(n)}),this.manager.itemStart(n)}setResponseType(n){return this.responseType=n,this}setMimeType(n){return this.mimeType=n,this}}class u$ extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=this,T=new ss(this.manager);T.setPath(this.path),T.setRequestHeader(this.requestHeader),T.setWithCredentials(this.withCredentials),T.load(n,function(D){try{o(C.parse(JSON.parse(D)))}catch(F){g?g(F):console.error(F),C.manager.itemError(n)}},h,g)}parse(n){const o=[];for(let h=0;h<n.length;h++){const g=Ih.parse(n[h]);o.push(g)}return o}}class d$ extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=this,T=[],D=new Q2,F=new ss(this.manager);F.setPath(this.path),F.setResponseType("arraybuffer"),F.setRequestHeader(this.requestHeader),F.setWithCredentials(C.withCredentials);let V=0;function Y(et){F.load(n[et],function(at){const rt=C.parse(at,!0);T[et]={width:rt.width,height:rt.height,format:rt.format,mipmaps:rt.mipmaps},V+=1,V===6&&(rt.mipmapCount===1&&(D.minFilter=Pe),D.image=T,D.format=rt.format,D.needsUpdate=!0,o&&o(D))},h,g)}if(Array.isArray(n))for(let et=0,at=n.length;et<at;++et)Y(et);else F.load(n,function(et){const at=C.parse(et,!0);if(at.isCubemap){const rt=at.mipmaps.length/at.mipmapCount;for(let lt=0;lt<rt;lt++){T[lt]={mipmaps:[]};for(let At=0;At<at.mipmapCount;At++)T[lt].mipmaps.push(at.mipmaps[lt*at.mipmapCount+At]),T[lt].format=at.format,T[lt].width=at.width,T[lt].height=at.height}D.image=T}else D.image.width=at.width,D.image.height=at.height,D.mipmaps=at.mipmaps;at.mipmapCount===1&&(D.minFilter=Pe),D.format=at.format,D.needsUpdate=!0,o&&o(D)},h,g);return D}}class Bh extends Kr{constructor(n){super(n)}load(n,o,h,g){this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);const C=this,T=rs.get(n);if(T!==void 0)return C.manager.itemStart(n),setTimeout(function(){o&&o(T),C.manager.itemEnd(n)},0),T;const D=Yl("img");function F(){Y(),rs.add(n,this),o&&o(this),C.manager.itemEnd(n)}function V(et){Y(),g&&g(et),C.manager.itemError(n),C.manager.itemEnd(n)}function Y(){D.removeEventListener("load",F,!1),D.removeEventListener("error",V,!1)}return D.addEventListener("load",F,!1),D.addEventListener("error",V,!1),n.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(D.crossOrigin=this.crossOrigin),C.manager.itemStart(n),D.src=n,D}}class h$ extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=new lh;C.colorSpace=y9;const T=new Bh(this.manager);T.setCrossOrigin(this.crossOrigin),T.setPath(this.path);let D=0;function F(V){T.load(n[V],function(Y){C.images[V]=Y,D++,D===6&&(C.needsUpdate=!0,o&&o(C))},void 0,g)}for(let V=0;V<n.length;++V)F(V);return C}}class f$ extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=this,T=new qs,D=new ss(this.manager);return D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(C.withCredentials),D.load(n,function(F){let V;try{V=C.parse(F)}catch(Y){if(g!==void 0)g(Y);else{console.error(Y);return}}V.image!==void 0?T.image=V.image:V.data!==void 0&&(T.image.width=V.width,T.image.height=V.height,T.image.data=V.data),T.wrapS=V.wrapS!==void 0?V.wrapS:ue,T.wrapT=V.wrapT!==void 0?V.wrapT:ue,T.magFilter=V.magFilter!==void 0?V.magFilter:Pe,T.minFilter=V.minFilter!==void 0?V.minFilter:Pe,T.anisotropy=V.anisotropy!==void 0?V.anisotropy:1,V.colorSpace!==void 0&&(T.colorSpace=V.colorSpace),V.flipY!==void 0&&(T.flipY=V.flipY),V.format!==void 0&&(T.format=V.format),V.type!==void 0&&(T.type=V.type),V.mipmaps!==void 0&&(T.mipmaps=V.mipmaps,T.minFilter=Ii),V.mipmapCount===1&&(T.minFilter=Pe),V.generateMipmaps!==void 0&&(T.generateMipmaps=V.generateMipmaps),T.needsUpdate=!0,o&&o(T,V)},h,g),T}}class m$ extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=new K9,T=new Bh(this.manager);return T.setCrossOrigin(this.crossOrigin),T.setPath(this.path),T.load(n,function(D){C.image=D,C.needsUpdate=!0,o!==void 0&&o(C)},h,g),C}}class il extends w9{constructor(n,o=1){super(),this.isLight=!0,this.type="Light",this.color=new tn(n),this.intensity=o}dispose(){}copy(n,o){return super.copy(n,o),this.color.copy(n.color),this.intensity=n.intensity,this}toJSON(n){const o=super.toJSON(n);return o.object.color=this.color.getHex(),o.object.intensity=this.intensity,this.groundColor!==void 0&&(o.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(o.object.distance=this.distance),this.angle!==void 0&&(o.object.angle=this.angle),this.decay!==void 0&&(o.object.decay=this.decay),this.penumbra!==void 0&&(o.object.penumbra=this.penumbra),this.shadow!==void 0&&(o.object.shadow=this.shadow.toJSON()),o}}class Ry extends il{constructor(n,o,h){super(n,h),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(w9.DEFAULT_UP),this.updateMatrix(),this.groundColor=new tn(o)}copy(n,o){return super.copy(n,o),this.groundColor.copy(n.groundColor),this}}const e5=new cn,Dy=new ee,Py=new ee;class i5{constructor(n){this.camera=n,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new hi(512,512),this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ch,this._frameExtents=new hi(1,1),this._viewportCount=1,this._viewports=[new C9(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(n){const o=this.camera,h=this.matrix;Dy.setFromMatrixPosition(n.matrixWorld),o.position.copy(Dy),Py.setFromMatrixPosition(n.target.matrixWorld),o.lookAt(Py),o.updateMatrixWorld(),e5.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(e5),h.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),h.multiply(e5)}getViewport(n){return this._viewports[n]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const n={};return this.bias!==0&&(n.bias=this.bias),this.normalBias!==0&&(n.normalBias=this.normalBias),this.radius!==1&&(n.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}class p$ extends i5{constructor(){super(new za(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(n){const o=this.camera,h=Hs*2*n.angle*this.focus,g=this.mapSize.width/this.mapSize.height,C=n.distance||o.far;(h!==o.fov||g!==o.aspect||C!==o.far)&&(o.fov=h,o.aspect=g,o.far=C,o.updateProjectionMatrix()),super.updateMatrices(n)}copy(n){return super.copy(n),this.focus=n.focus,this}}class Ly extends il{constructor(n,o,h=0,g=Math.PI/3,C=0,T=2){super(n,o),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(w9.DEFAULT_UP),this.updateMatrix(),this.target=new w9,this.distance=h,this.angle=g,this.penumbra=C,this.decay=T,this.map=null,this.shadow=new p$}get power(){return this.intensity*Math.PI}set power(n){this.intensity=n/Math.PI}dispose(){this.shadow.dispose()}copy(n,o){return super.copy(n,o),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}const ky=new cn,Rh=new ee,n5=new ee;class g$ extends i5{constructor(){super(new za(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new hi(4,2),this._viewportCount=6,this._viewports=[new C9(2,1,1,1),new C9(0,1,1,1),new C9(3,1,1,1),new C9(1,1,1,1),new C9(3,0,1,1),new C9(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(n,o=0){const h=this.camera,g=this.matrix,C=n.distance||h.far;C!==h.far&&(h.far=C,h.updateProjectionMatrix()),Rh.setFromMatrixPosition(n.matrixWorld),h.position.copy(Rh),n5.copy(h.position),n5.add(this._cubeDirections[o]),h.up.copy(this._cubeUps[o]),h.lookAt(n5),h.updateMatrixWorld(),g.makeTranslation(-Rh.x,-Rh.y,-Rh.z),ky.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ky)}}class Ny extends il{constructor(n,o,h=0,g=2){super(n,o),this.isPointLight=!0,this.type="PointLight",this.distance=h,this.decay=g,this.shadow=new g$}get power(){return this.intensity*4*Math.PI}set power(n){this.intensity=n/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(n,o){return super.copy(n,o),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}class M$ extends i5{constructor(){super(new C2(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Fy extends il{constructor(n,o){super(n,o),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(w9.DEFAULT_UP),this.updateMatrix(),this.target=new w9,this.shadow=new M$}dispose(){this.shadow.dispose()}copy(n){return super.copy(n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}class Uy extends il{constructor(n,o){super(n,o),this.isAmbientLight=!0,this.type="AmbientLight"}}class $y extends il{constructor(n,o,h=10,g=10){super(n,o),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=h,this.height=g}get power(){return this.intensity*this.width*this.height*Math.PI}set power(n){this.intensity=n/(this.width*this.height*Math.PI)}copy(n){return super.copy(n),this.width=n.width,this.height=n.height,this}toJSON(n){const o=super.toJSON(n);return o.object.width=this.width,o.object.height=this.height,o}}class Gy{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let n=0;n<9;n++)this.coefficients.push(new ee)}set(n){for(let o=0;o<9;o++)this.coefficients[o].copy(n[o]);return this}zero(){for(let n=0;n<9;n++)this.coefficients[n].set(0,0,0);return this}getAt(n,o){const h=n.x,g=n.y,C=n.z,T=this.coefficients;return o.copy(T[0]).multiplyScalar(.282095),o.addScaledVector(T[1],.488603*g),o.addScaledVector(T[2],.488603*C),o.addScaledVector(T[3],.488603*h),o.addScaledVector(T[4],1.092548*(h*g)),o.addScaledVector(T[5],1.092548*(g*C)),o.addScaledVector(T[6],.315392*(3*C*C-1)),o.addScaledVector(T[7],1.092548*(h*C)),o.addScaledVector(T[8],.546274*(h*h-g*g)),o}getIrradianceAt(n,o){const h=n.x,g=n.y,C=n.z,T=this.coefficients;return o.copy(T[0]).multiplyScalar(.886227),o.addScaledVector(T[1],1.023328*g),o.addScaledVector(T[2],1.023328*C),o.addScaledVector(T[3],1.023328*h),o.addScaledVector(T[4],.858086*h*g),o.addScaledVector(T[5],.858086*g*C),o.addScaledVector(T[6],.743125*C*C-.247708),o.addScaledVector(T[7],.858086*h*C),o.addScaledVector(T[8],.429043*(h*h-g*g)),o}add(n){for(let o=0;o<9;o++)this.coefficients[o].add(n.coefficients[o]);return this}addScaledSH(n,o){for(let h=0;h<9;h++)this.coefficients[h].addScaledVector(n.coefficients[h],o);return this}scale(n){for(let o=0;o<9;o++)this.coefficients[o].multiplyScalar(n);return this}lerp(n,o){for(let h=0;h<9;h++)this.coefficients[h].lerp(n.coefficients[h],o);return this}equals(n){for(let o=0;o<9;o++)if(!this.coefficients[o].equals(n.coefficients[o]))return!1;return!0}copy(n){return this.set(n.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(n,o=0){const h=this.coefficients;for(let g=0;g<9;g++)h[g].fromArray(n,o+g*3);return this}toArray(n=[],o=0){const h=this.coefficients;for(let g=0;g<9;g++)h[g].toArray(n,o+g*3);return n}static getBasisAt(n,o){const h=n.x,g=n.y,C=n.z;o[0]=.282095,o[1]=.488603*g,o[2]=.488603*C,o[3]=.488603*h,o[4]=1.092548*h*g,o[5]=1.092548*g*C,o[6]=.315392*(3*C*C-1),o[7]=1.092548*h*C,o[8]=.546274*(h*h-g*g)}}class Hy extends il{constructor(n=new Gy,o=1){super(void 0,o),this.isLightProbe=!0,this.sh=n}copy(n){return super.copy(n),this.sh.copy(n.sh),this}fromJSON(n){return this.intensity=n.intensity,this.sh.fromArray(n.sh),this}toJSON(n){const o=super.toJSON(n);return o.object.sh=this.sh.toArray(),o}}class hm extends Kr{constructor(n){super(n),this.textures={}}load(n,o,h,g){const C=this,T=new ss(C.manager);T.setPath(C.path),T.setRequestHeader(C.requestHeader),T.setWithCredentials(C.withCredentials),T.load(n,function(D){try{o(C.parse(JSON.parse(D)))}catch(F){g?g(F):console.error(F),C.manager.itemError(n)}},h,g)}parse(n){const o=this.textures;function h(C){return o[C]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",C),o[C]}const g=hm.createMaterialFromType(n.type);if(n.uuid!==void 0&&(g.uuid=n.uuid),n.name!==void 0&&(g.name=n.name),n.color!==void 0&&g.color!==void 0&&g.color.setHex(n.color),n.roughness!==void 0&&(g.roughness=n.roughness),n.metalness!==void 0&&(g.metalness=n.metalness),n.sheen!==void 0&&(g.sheen=n.sheen),n.sheenColor!==void 0&&(g.sheenColor=new tn().setHex(n.sheenColor)),n.sheenRoughness!==void 0&&(g.sheenRoughness=n.sheenRoughness),n.emissive!==void 0&&g.emissive!==void 0&&g.emissive.setHex(n.emissive),n.specular!==void 0&&g.specular!==void 0&&g.specular.setHex(n.specular),n.specularIntensity!==void 0&&(g.specularIntensity=n.specularIntensity),n.specularColor!==void 0&&g.specularColor!==void 0&&g.specularColor.setHex(n.specularColor),n.shininess!==void 0&&(g.shininess=n.shininess),n.clearcoat!==void 0&&(g.clearcoat=n.clearcoat),n.clearcoatRoughness!==void 0&&(g.clearcoatRoughness=n.clearcoatRoughness),n.dispersion!==void 0&&(g.dispersion=n.dispersion),n.iridescence!==void 0&&(g.iridescence=n.iridescence),n.iridescenceIOR!==void 0&&(g.iridescenceIOR=n.iridescenceIOR),n.iridescenceThicknessRange!==void 0&&(g.iridescenceThicknessRange=n.iridescenceThicknessRange),n.transmission!==void 0&&(g.transmission=n.transmission),n.thickness!==void 0&&(g.thickness=n.thickness),n.attenuationDistance!==void 0&&(g.attenuationDistance=n.attenuationDistance),n.attenuationColor!==void 0&&g.attenuationColor!==void 0&&g.attenuationColor.setHex(n.attenuationColor),n.anisotropy!==void 0&&(g.anisotropy=n.anisotropy),n.anisotropyRotation!==void 0&&(g.anisotropyRotation=n.anisotropyRotation),n.fog!==void 0&&(g.fog=n.fog),n.flatShading!==void 0&&(g.flatShading=n.flatShading),n.blending!==void 0&&(g.blending=n.blending),n.combine!==void 0&&(g.combine=n.combine),n.side!==void 0&&(g.side=n.side),n.shadowSide!==void 0&&(g.shadowSide=n.shadowSide),n.opacity!==void 0&&(g.opacity=n.opacity),n.transparent!==void 0&&(g.transparent=n.transparent),n.alphaTest!==void 0&&(g.alphaTest=n.alphaTest),n.alphaHash!==void 0&&(g.alphaHash=n.alphaHash),n.depthFunc!==void 0&&(g.depthFunc=n.depthFunc),n.depthTest!==void 0&&(g.depthTest=n.depthTest),n.depthWrite!==void 0&&(g.depthWrite=n.depthWrite),n.colorWrite!==void 0&&(g.colorWrite=n.colorWrite),n.blendSrc!==void 0&&(g.blendSrc=n.blendSrc),n.blendDst!==void 0&&(g.blendDst=n.blendDst),n.blendEquation!==void 0&&(g.blendEquation=n.blendEquation),n.blendSrcAlpha!==void 0&&(g.blendSrcAlpha=n.blendSrcAlpha),n.blendDstAlpha!==void 0&&(g.blendDstAlpha=n.blendDstAlpha),n.blendEquationAlpha!==void 0&&(g.blendEquationAlpha=n.blendEquationAlpha),n.blendColor!==void 0&&g.blendColor!==void 0&&g.blendColor.setHex(n.blendColor),n.blendAlpha!==void 0&&(g.blendAlpha=n.blendAlpha),n.stencilWriteMask!==void 0&&(g.stencilWriteMask=n.stencilWriteMask),n.stencilFunc!==void 0&&(g.stencilFunc=n.stencilFunc),n.stencilRef!==void 0&&(g.stencilRef=n.stencilRef),n.stencilFuncMask!==void 0&&(g.stencilFuncMask=n.stencilFuncMask),n.stencilFail!==void 0&&(g.stencilFail=n.stencilFail),n.stencilZFail!==void 0&&(g.stencilZFail=n.stencilZFail),n.stencilZPass!==void 0&&(g.stencilZPass=n.stencilZPass),n.stencilWrite!==void 0&&(g.stencilWrite=n.stencilWrite),n.wireframe!==void 0&&(g.wireframe=n.wireframe),n.wireframeLinewidth!==void 0&&(g.wireframeLinewidth=n.wireframeLinewidth),n.wireframeLinecap!==void 0&&(g.wireframeLinecap=n.wireframeLinecap),n.wireframeLinejoin!==void 0&&(g.wireframeLinejoin=n.wireframeLinejoin),n.rotation!==void 0&&(g.rotation=n.rotation),n.linewidth!==void 0&&(g.linewidth=n.linewidth),n.dashSize!==void 0&&(g.dashSize=n.dashSize),n.gapSize!==void 0&&(g.gapSize=n.gapSize),n.scale!==void 0&&(g.scale=n.scale),n.polygonOffset!==void 0&&(g.polygonOffset=n.polygonOffset),n.polygonOffsetFactor!==void 0&&(g.polygonOffsetFactor=n.polygonOffsetFactor),n.polygonOffsetUnits!==void 0&&(g.polygonOffsetUnits=n.polygonOffsetUnits),n.dithering!==void 0&&(g.dithering=n.dithering),n.alphaToCoverage!==void 0&&(g.alphaToCoverage=n.alphaToCoverage),n.premultipliedAlpha!==void 0&&(g.premultipliedAlpha=n.premultipliedAlpha),n.forceSinglePass!==void 0&&(g.forceSinglePass=n.forceSinglePass),n.visible!==void 0&&(g.visible=n.visible),n.toneMapped!==void 0&&(g.toneMapped=n.toneMapped),n.userData!==void 0&&(g.userData=n.userData),n.vertexColors!==void 0&&(typeof n.vertexColors=="number"?g.vertexColors=n.vertexColors>0:g.vertexColors=n.vertexColors),n.uniforms!==void 0)for(const C in n.uniforms){const T=n.uniforms[C];switch(g.uniforms[C]={},T.type){case"t":g.uniforms[C].value=h(T.value);break;case"c":g.uniforms[C].value=new tn().setHex(T.value);break;case"v2":g.uniforms[C].value=new hi().fromArray(T.value);break;case"v3":g.uniforms[C].value=new ee().fromArray(T.value);break;case"v4":g.uniforms[C].value=new C9().fromArray(T.value);break;case"m3":g.uniforms[C].value=new Nn().fromArray(T.value);break;case"m4":g.uniforms[C].value=new cn().fromArray(T.value);break;default:g.uniforms[C].value=T.value}}if(n.defines!==void 0&&(g.defines=n.defines),n.vertexShader!==void 0&&(g.vertexShader=n.vertexShader),n.fragmentShader!==void 0&&(g.fragmentShader=n.fragmentShader),n.glslVersion!==void 0&&(g.glslVersion=n.glslVersion),n.extensions!==void 0)for(const C in n.extensions)g.extensions[C]=n.extensions[C];if(n.lights!==void 0&&(g.lights=n.lights),n.clipping!==void 0&&(g.clipping=n.clipping),n.size!==void 0&&(g.size=n.size),n.sizeAttenuation!==void 0&&(g.sizeAttenuation=n.sizeAttenuation),n.map!==void 0&&(g.map=h(n.map)),n.matcap!==void 0&&(g.matcap=h(n.matcap)),n.alphaMap!==void 0&&(g.alphaMap=h(n.alphaMap)),n.bumpMap!==void 0&&(g.bumpMap=h(n.bumpMap)),n.bumpScale!==void 0&&(g.bumpScale=n.bumpScale),n.normalMap!==void 0&&(g.normalMap=h(n.normalMap)),n.normalMapType!==void 0&&(g.normalMapType=n.normalMapType),n.normalScale!==void 0){let C=n.normalScale;Array.isArray(C)===!1&&(C=[C,C]),g.normalScale=new hi().fromArray(C)}return n.displacementMap!==void 0&&(g.displacementMap=h(n.displacementMap)),n.displacementScale!==void 0&&(g.displacementScale=n.displacementScale),n.displacementBias!==void 0&&(g.displacementBias=n.displacementBias),n.roughnessMap!==void 0&&(g.roughnessMap=h(n.roughnessMap)),n.metalnessMap!==void 0&&(g.metalnessMap=h(n.metalnessMap)),n.emissiveMap!==void 0&&(g.emissiveMap=h(n.emissiveMap)),n.emissiveIntensity!==void 0&&(g.emissiveIntensity=n.emissiveIntensity),n.specularMap!==void 0&&(g.specularMap=h(n.specularMap)),n.specularIntensityMap!==void 0&&(g.specularIntensityMap=h(n.specularIntensityMap)),n.specularColorMap!==void 0&&(g.specularColorMap=h(n.specularColorMap)),n.envMap!==void 0&&(g.envMap=h(n.envMap)),n.envMapRotation!==void 0&&g.envMapRotation.fromArray(n.envMapRotation),n.envMapIntensity!==void 0&&(g.envMapIntensity=n.envMapIntensity),n.reflectivity!==void 0&&(g.reflectivity=n.reflectivity),n.refractionRatio!==void 0&&(g.refractionRatio=n.refractionRatio),n.lightMap!==void 0&&(g.lightMap=h(n.lightMap)),n.lightMapIntensity!==void 0&&(g.lightMapIntensity=n.lightMapIntensity),n.aoMap!==void 0&&(g.aoMap=h(n.aoMap)),n.aoMapIntensity!==void 0&&(g.aoMapIntensity=n.aoMapIntensity),n.gradientMap!==void 0&&(g.gradientMap=h(n.gradientMap)),n.clearcoatMap!==void 0&&(g.clearcoatMap=h(n.clearcoatMap)),n.clearcoatRoughnessMap!==void 0&&(g.clearcoatRoughnessMap=h(n.clearcoatRoughnessMap)),n.clearcoatNormalMap!==void 0&&(g.clearcoatNormalMap=h(n.clearcoatNormalMap)),n.clearcoatNormalScale!==void 0&&(g.clearcoatNormalScale=new hi().fromArray(n.clearcoatNormalScale)),n.iridescenceMap!==void 0&&(g.iridescenceMap=h(n.iridescenceMap)),n.iridescenceThicknessMap!==void 0&&(g.iridescenceThicknessMap=h(n.iridescenceThicknessMap)),n.transmissionMap!==void 0&&(g.transmissionMap=h(n.transmissionMap)),n.thicknessMap!==void 0&&(g.thicknessMap=h(n.thicknessMap)),n.anisotropyMap!==void 0&&(g.anisotropyMap=h(n.anisotropyMap)),n.sheenColorMap!==void 0&&(g.sheenColorMap=h(n.sheenColorMap)),n.sheenRoughnessMap!==void 0&&(g.sheenRoughnessMap=h(n.sheenRoughnessMap)),g}setTextures(n){return this.textures=n,this}static createMaterialFromType(n){const o={ShadowMaterial:My,SpriteMaterial:x8,RawShaderMaterial:Ay,ShaderMaterial:H0,PointsMaterial:L8,MeshPhysicalMaterial:yy,MeshStandardMaterial:K8,MeshPhongMaterial:vy,MeshToonMaterial:by,MeshNormalMaterial:Cy,MeshLambertMaterial:Ey,MeshDepthMaterial:E8,MeshDistanceMaterial:_8,MeshBasicMaterial:Ks,MeshMatcapMaterial:_y,LineDashedMaterial:wy,LineBasicMaterial:Fr,Material:Er};return new o[n]}}class a5{static decodeText(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let o="";for(let h=0,g=n.length;h<g;h++)o+=String.fromCharCode(n[h]);try{return decodeURIComponent(escape(o))}catch{return o}}static extractUrlBase(n){const o=n.lastIndexOf("/");return o===-1?"./":n.slice(0,o+1)}static resolveURL(n,o){return typeof n!="string"||n===""?"":(/^https?:\/\//i.test(o)&&/^\//.test(n)&&(o=o.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:o+n)}}class Vy extends i9{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(n){return super.copy(n),this.instanceCount=n.instanceCount,this}toJSON(){const n=super.toJSON();return n.instanceCount=this.instanceCount,n.isInstancedBufferGeometry=!0,n}}class Qy extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=this,T=new ss(C.manager);T.setPath(C.path),T.setRequestHeader(C.requestHeader),T.setWithCredentials(C.withCredentials),T.load(n,function(D){try{o(C.parse(JSON.parse(D)))}catch(F){g?g(F):console.error(F),C.manager.itemError(n)}},h,g)}parse(n){const o={},h={};function g(rt,lt){if(o[lt]!==void 0)return o[lt];const ct=rt.interleavedBuffers[lt],ot=C(rt,ct.buffer),Ut=Vs(ct.type,ot),Lt=new S2(Ut,ct.stride);return Lt.uuid=ct.uuid,o[lt]=Lt,Lt}function C(rt,lt){if(h[lt]!==void 0)return h[lt];const ct=rt.arrayBuffers[lt],ot=new Uint32Array(ct).buffer;return h[lt]=ot,ot}const T=n.isInstancedBufferGeometry?new Vy:new i9,D=n.data.index;if(D!==void 0){const rt=Vs(D.type,D.array);T.setIndex(new F9(rt,1))}const F=n.data.attributes;for(const rt in F){const lt=F[rt];let At;if(lt.isInterleavedBufferAttribute){const ct=g(n.data,lt.data);At=new oc(ct,lt.itemSize,lt.offset,lt.normalized)}else{const ct=Vs(lt.type,lt.array),ot=lt.isInstancedBufferAttribute?Bu:F9;At=new ot(ct,lt.itemSize,lt.normalized)}lt.name!==void 0&&(At.name=lt.name),lt.usage!==void 0&&At.setUsage(lt.usage),T.setAttribute(rt,At)}const V=n.data.morphAttributes;if(V)for(const rt in V){const lt=V[rt],At=[];for(let ct=0,ot=lt.length;ct<ot;ct++){const Ut=lt[ct];let Lt;if(Ut.isInterleavedBufferAttribute){const Bt=g(n.data,Ut.data);Lt=new oc(Bt,Ut.itemSize,Ut.offset,Ut.normalized)}else{const Bt=Vs(Ut.type,Ut.array);Lt=new F9(Bt,Ut.itemSize,Ut.normalized)}Ut.name!==void 0&&(Lt.name=Ut.name),At.push(Lt)}T.morphAttributes[rt]=At}n.data.morphTargetsRelative&&(T.morphTargetsRelative=!0);const et=n.data.groups||n.data.drawcalls||n.data.offsets;if(et!==void 0)for(let rt=0,lt=et.length;rt!==lt;++rt){const At=et[rt];T.addGroup(At.start,At.count,At.materialIndex)}const at=n.data.boundingSphere;if(at!==void 0){const rt=new ee;at.center!==void 0&&rt.fromArray(at.center),T.boundingSphere=new Va(rt,at.radius)}return n.name&&(T.name=n.name),n.userData&&(T.userData=n.userData),T}}class A$ extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=this,T=this.path===""?a5.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||T;const D=new ss(this.manager);D.setPath(this.path),D.setRequestHeader(this.requestHeader),D.setWithCredentials(this.withCredentials),D.load(n,function(F){let V=null;try{V=JSON.parse(F)}catch(et){g!==void 0&&g(et),console.error("THREE:ObjectLoader: Can't parse "+n+".",et.message);return}const Y=V.metadata;if(Y===void 0||Y.type===void 0||Y.type.toLowerCase()==="geometry"){g!==void 0&&g(new Error("THREE.ObjectLoader: Can't load "+n)),console.error("THREE.ObjectLoader: Can't load "+n);return}C.parse(V,o)},h,g)}async loadAsync(n,o){const h=this,g=this.path===""?a5.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||g;const C=new ss(this.manager);C.setPath(this.path),C.setRequestHeader(this.requestHeader),C.setWithCredentials(this.withCredentials);const T=await C.loadAsync(n,o),D=JSON.parse(T),F=D.metadata;if(F===void 0||F.type===void 0||F.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+n);return await h.parseAsync(D)}parse(n,o){const h=this.parseAnimations(n.animations),g=this.parseShapes(n.shapes),C=this.parseGeometries(n.geometries,g),T=this.parseImages(n.images,function(){o!==void 0&&o(V)}),D=this.parseTextures(n.textures,T),F=this.parseMaterials(n.materials,D),V=this.parseObject(n.object,C,F,D,h),Y=this.parseSkeletons(n.skeletons,V);if(this.bindSkeletons(V,Y),o!==void 0){let et=!1;for(const at in T)if(T[at].data instanceof HTMLImageElement){et=!0;break}et===!1&&o(V)}return V}async parseAsync(n){const o=this.parseAnimations(n.animations),h=this.parseShapes(n.shapes),g=this.parseGeometries(n.geometries,h),C=await this.parseImagesAsync(n.images),T=this.parseTextures(n.textures,C),D=this.parseMaterials(n.materials,T),F=this.parseObject(n.object,g,D,T,o),V=this.parseSkeletons(n.skeletons,F);return this.bindSkeletons(F,V),F}parseShapes(n){const o={};if(n!==void 0)for(let h=0,g=n.length;h<g;h++){const C=new lc().fromJSON(n[h]);o[C.uuid]=C}return o}parseSkeletons(n,o){const h={},g={};if(o.traverse(function(C){C.isBone&&(g[C.uuid]=C)}),n!==void 0)for(let C=0,T=n.length;C<T;C++){const D=new P2().fromJSON(n[C],g);h[D.uuid]=D}return h}parseGeometries(n,o){const h={};if(n!==void 0){const C=new Qy;for(let T=0,D=n.length;T<D;T++){let F;const V=n[T];switch(V.type){case"BufferGeometry":case"InstancedBufferGeometry":F=C.parse(V);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var g=new THREE.LegacyJSONLoader;F=g.parse(V,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:V.type in gy?F=gy[V.type].fromJSON(V,o):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${V.type}"`)}F.uuid=V.uuid,V.name!==void 0&&(F.name=V.name),V.userData!==void 0&&(F.userData=V.userData),h[V.uuid]=F}}return h}parseMaterials(n,o){const h={},g={};if(n!==void 0){const C=new hm;C.setTextures(o);for(let T=0,D=n.length;T<D;T++){const F=n[T];h[F.uuid]===void 0&&(h[F.uuid]=C.parse(F)),g[F.uuid]=h[F.uuid]}}return g}parseAnimations(n){const o={};if(n!==void 0)for(let h=0;h<n.length;h++){const g=n[h],C=Ih.parse(g);o[C.uuid]=C}return o}parseImages(n,o){const h=this,g={};let C;function T(F){return h.manager.itemStart(F),C.load(F,function(){h.manager.itemEnd(F)},void 0,function(){h.manager.itemError(F),h.manager.itemEnd(F)})}function D(F){if(typeof F=="string"){const V=F,Y=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(V)?V:h.resourcePath+V;return T(Y)}else return F.data?{data:Vs(F.type,F.data),width:F.width,height:F.height}:null}if(n!==void 0&&n.length>0){const F=new t5(o);C=new Bh(F),C.setCrossOrigin(this.crossOrigin);for(let V=0,Y=n.length;V<Y;V++){const et=n[V],at=et.url;if(Array.isArray(at)){const rt=[];for(let lt=0,At=at.length;lt<At;lt++){const ct=at[lt],ot=D(ct);ot!==null&&(ot instanceof HTMLImageElement?rt.push(ot):rt.push(new qs(ot.data,ot.width,ot.height)))}g[et.uuid]=new sa(rt)}else{const rt=D(et.url);g[et.uuid]=new sa(rt)}}}return g}async parseImagesAsync(n){const o=this,h={};let g;async function C(T){if(typeof T=="string"){const D=T,F=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(D)?D:o.resourcePath+D;return await g.loadAsync(F)}else return T.data?{data:Vs(T.type,T.data),width:T.width,height:T.height}:null}if(n!==void 0&&n.length>0){g=new Bh(this.manager),g.setCrossOrigin(this.crossOrigin);for(let T=0,D=n.length;T<D;T++){const F=n[T],V=F.url;if(Array.isArray(V)){const Y=[];for(let et=0,at=V.length;et<at;et++){const rt=V[et],lt=await C(rt);lt!==null&&(lt instanceof HTMLImageElement?Y.push(lt):Y.push(new qs(lt.data,lt.width,lt.height)))}h[F.uuid]=new sa(Y)}else{const Y=await C(F.url);h[F.uuid]=new sa(Y)}}}return h}parseTextures(n,o){function h(C,T){return typeof C=="number"?C:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",C),T[C])}const g={};if(n!==void 0)for(let C=0,T=n.length;C<T;C++){const D=n[C];D.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',D.uuid),o[D.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",D.image);const F=o[D.image],V=F.data;let Y;Array.isArray(V)?(Y=new lh,V.length===6&&(Y.needsUpdate=!0)):(V&&V.data?Y=new qs:Y=new K9,V&&(Y.needsUpdate=!0)),Y.source=F,Y.uuid=D.uuid,D.name!==void 0&&(Y.name=D.name),D.mapping!==void 0&&(Y.mapping=h(D.mapping,y$)),D.channel!==void 0&&(Y.channel=D.channel),D.offset!==void 0&&Y.offset.fromArray(D.offset),D.repeat!==void 0&&Y.repeat.fromArray(D.repeat),D.center!==void 0&&Y.center.fromArray(D.center),D.rotation!==void 0&&(Y.rotation=D.rotation),D.wrap!==void 0&&(Y.wrapS=h(D.wrap[0],zy),Y.wrapT=h(D.wrap[1],zy)),D.format!==void 0&&(Y.format=D.format),D.internalFormat!==void 0&&(Y.internalFormat=D.internalFormat),D.type!==void 0&&(Y.type=D.type),D.colorSpace!==void 0&&(Y.colorSpace=D.colorSpace),D.minFilter!==void 0&&(Y.minFilter=h(D.minFilter,Jy)),D.magFilter!==void 0&&(Y.magFilter=h(D.magFilter,Jy)),D.anisotropy!==void 0&&(Y.anisotropy=D.anisotropy),D.flipY!==void 0&&(Y.flipY=D.flipY),D.generateMipmaps!==void 0&&(Y.generateMipmaps=D.generateMipmaps),D.premultiplyAlpha!==void 0&&(Y.premultiplyAlpha=D.premultiplyAlpha),D.unpackAlignment!==void 0&&(Y.unpackAlignment=D.unpackAlignment),D.compareFunction!==void 0&&(Y.compareFunction=D.compareFunction),D.userData!==void 0&&(Y.userData=D.userData),g[D.uuid]=Y}return g}parseObject(n,o,h,g,C){let T;function D(at){return o[at]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",at),o[at]}function F(at){if(at!==void 0){if(Array.isArray(at)){const rt=[];for(let lt=0,At=at.length;lt<At;lt++){const ct=at[lt];h[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ct),rt.push(h[ct])}return rt}return h[at]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",at),h[at]}}function V(at){return g[at]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",at),g[at]}let Y,et;switch(n.type){case"Scene":T=new xA,n.background!==void 0&&(Number.isInteger(n.background)?T.background=new tn(n.background):T.background=V(n.background)),n.environment!==void 0&&(T.environment=V(n.environment)),n.fog!==void 0&&(n.fog.type==="Fog"?T.fog=new x2(n.fog.color,n.fog.near,n.fog.far):n.fog.type==="FogExp2"&&(T.fog=new O2(n.fog.color,n.fog.density)),n.fog.name!==""&&(T.fog.name=n.fog.name)),n.backgroundBlurriness!==void 0&&(T.backgroundBlurriness=n.backgroundBlurriness),n.backgroundIntensity!==void 0&&(T.backgroundIntensity=n.backgroundIntensity),n.backgroundRotation!==void 0&&T.backgroundRotation.fromArray(n.backgroundRotation),n.environmentIntensity!==void 0&&(T.environmentIntensity=n.environmentIntensity),n.environmentRotation!==void 0&&T.environmentRotation.fromArray(n.environmentRotation);break;case"PerspectiveCamera":T=new za(n.fov,n.aspect,n.near,n.far),n.focus!==void 0&&(T.focus=n.focus),n.zoom!==void 0&&(T.zoom=n.zoom),n.filmGauge!==void 0&&(T.filmGauge=n.filmGauge),n.filmOffset!==void 0&&(T.filmOffset=n.filmOffset),n.view!==void 0&&(T.view=Object.assign({},n.view));break;case"OrthographicCamera":T=new C2(n.left,n.right,n.top,n.bottom,n.near,n.far),n.zoom!==void 0&&(T.zoom=n.zoom),n.view!==void 0&&(T.view=Object.assign({},n.view));break;case"AmbientLight":T=new Uy(n.color,n.intensity);break;case"DirectionalLight":T=new Fy(n.color,n.intensity);break;case"PointLight":T=new Ny(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":T=new $y(n.color,n.intensity,n.width,n.height);break;case"SpotLight":T=new Ly(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":T=new Ry(n.color,n.groundColor,n.intensity);break;case"LightProbe":T=new Hy().fromJSON(n);break;case"SkinnedMesh":Y=D(n.geometry),et=F(n.material),T=new UA(Y,et),n.bindMode!==void 0&&(T.bindMode=n.bindMode),n.bindMatrix!==void 0&&T.bindMatrix.fromArray(n.bindMatrix),n.skeleton!==void 0&&(T.skeleton=n.skeleton);break;case"Mesh":Y=D(n.geometry),et=F(n.material),T=new Ua(Y,et);break;case"InstancedMesh":Y=D(n.geometry),et=F(n.material);const at=n.count,rt=n.instanceMatrix,lt=n.instanceColor;T=new VA(Y,et,at),T.instanceMatrix=new Bu(new Float32Array(rt.array),16),lt!==void 0&&(T.instanceColor=new Bu(new Float32Array(lt.array),lt.itemSize));break;case"BatchedMesh":Y=D(n.geometry),et=F(n.material),T=new JA(n.maxGeometryCount,n.maxVertexCount,n.maxIndexCount,et),T.geometry=Y,T.perObjectFrustumCulled=n.perObjectFrustumCulled,T.sortObjects=n.sortObjects,T._drawRanges=n.drawRanges,T._reservedRanges=n.reservedRanges,T._visibility=n.visibility,T._active=n.active,T._bounds=n.bounds.map(At=>{const ct=new ga;ct.min.fromArray(At.boxMin),ct.max.fromArray(At.boxMax);const ot=new Va;return ot.radius=At.sphereRadius,ot.center.fromArray(At.sphereCenter),{boxInitialized:At.boxInitialized,box:ct,sphereInitialized:At.sphereInitialized,sphere:ot}}),T._maxGeometryCount=n.maxGeometryCount,T._maxVertexCount=n.maxVertexCount,T._maxIndexCount=n.maxIndexCount,T._geometryInitialized=n.geometryInitialized,T._geometryCount=n.geometryCount,T._matricesTexture=V(n.matricesTexture.uuid);break;case"LOD":T=new DA;break;case"Line":T=new tl(D(n.geometry),F(n.material));break;case"LineLoop":T=new YA(D(n.geometry),F(n.material));break;case"LineSegments":T=new Ao(D(n.geometry),F(n.material));break;case"PointCloud":case"Points":T=new ZA(D(n.geometry),F(n.material));break;case"Sprite":T=new BA(F(n.material));break;case"Group":T=new ac;break;case"Bone":T=new B8;break;default:T=new w9}if(T.uuid=n.uuid,n.name!==void 0&&(T.name=n.name),n.matrix!==void 0?(T.matrix.fromArray(n.matrix),n.matrixAutoUpdate!==void 0&&(T.matrixAutoUpdate=n.matrixAutoUpdate),T.matrixAutoUpdate&&T.matrix.decompose(T.position,T.quaternion,T.scale)):(n.position!==void 0&&T.position.fromArray(n.position),n.rotation!==void 0&&T.rotation.fromArray(n.rotation),n.quaternion!==void 0&&T.quaternion.fromArray(n.quaternion),n.scale!==void 0&&T.scale.fromArray(n.scale)),n.up!==void 0&&T.up.fromArray(n.up),n.castShadow!==void 0&&(T.castShadow=n.castShadow),n.receiveShadow!==void 0&&(T.receiveShadow=n.receiveShadow),n.shadow&&(n.shadow.bias!==void 0&&(T.shadow.bias=n.shadow.bias),n.shadow.normalBias!==void 0&&(T.shadow.normalBias=n.shadow.normalBias),n.shadow.radius!==void 0&&(T.shadow.radius=n.shadow.radius),n.shadow.mapSize!==void 0&&T.shadow.mapSize.fromArray(n.shadow.mapSize),n.shadow.camera!==void 0&&(T.shadow.camera=this.parseObject(n.shadow.camera))),n.visible!==void 0&&(T.visible=n.visible),n.frustumCulled!==void 0&&(T.frustumCulled=n.frustumCulled),n.renderOrder!==void 0&&(T.renderOrder=n.renderOrder),n.userData!==void 0&&(T.userData=n.userData),n.layers!==void 0&&(T.layers.mask=n.layers),n.children!==void 0){const at=n.children;for(let rt=0;rt<at.length;rt++)T.add(this.parseObject(at[rt],o,h,g,C))}if(n.animations!==void 0){const at=n.animations;for(let rt=0;rt<at.length;rt++){const lt=at[rt];T.animations.push(C[lt])}}if(n.type==="LOD"){n.autoUpdate!==void 0&&(T.autoUpdate=n.autoUpdate);const at=n.levels;for(let rt=0;rt<at.length;rt++){const lt=at[rt],At=T.getObjectByProperty("uuid",lt.object);At!==void 0&&T.addLevel(At,lt.distance,lt.hysteresis)}}return T}bindSkeletons(n,o){Object.keys(o).length!==0&&n.traverse(function(h){if(h.isSkinnedMesh===!0&&h.skeleton!==void 0){const g=o[h.skeleton];g===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",h.skeleton):h.bind(g,h.bindMatrix)}})}}const y$={UVMapping:Qt,CubeReflectionMapping:ut,CubeRefractionMapping:X,EquirectangularReflectionMapping:Z,EquirectangularRefractionMapping:_t,CubeUVReflectionMapping:Gt},zy={RepeatWrapping:Zt,ClampToEdgeWrapping:ue,MirroredRepeatWrapping:ve},Jy={NearestFilter:Fe,NearestMipmapNearestFilter:Je,NearestMipmapLinearFilter:re,LinearFilter:Pe,LinearMipmapNearestFilter:ke,LinearMipmapLinearFilter:Ii};class v$ extends Kr{constructor(n){super(n),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(n){return this.options=n,this}load(n,o,h,g){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);const C=this,T=rs.get(n);if(T!==void 0){if(C.manager.itemStart(n),T.then){T.then(V=>{o&&o(V),C.manager.itemEnd(n)}).catch(V=>{g&&g(V)});return}return setTimeout(function(){o&&o(T),C.manager.itemEnd(n)},0),T}const D={};D.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",D.headers=this.requestHeader;const F=fetch(n,D).then(function(V){return V.blob()}).then(function(V){return createImageBitmap(V,Object.assign(C.options,{colorSpaceConversion:"none"}))}).then(function(V){return rs.add(n,V),o&&o(V),C.manager.itemEnd(n),V}).catch(function(V){g&&g(V),rs.remove(n),C.manager.itemError(n),C.manager.itemEnd(n)});rs.add(n,F),C.manager.itemStart(n)}}let fm;class r5{static getContext(){return fm===void 0&&(fm=new(window.AudioContext||window.webkitAudioContext)),fm}static setContext(n){fm=n}}class b$ extends Kr{constructor(n){super(n)}load(n,o,h,g){const C=this,T=new ss(this.manager);T.setResponseType("arraybuffer"),T.setPath(this.path),T.setRequestHeader(this.requestHeader),T.setWithCredentials(this.withCredentials),T.load(n,function(F){try{const V=F.slice(0);r5.getContext().decodeAudioData(V,function(et){o(et)}).catch(D)}catch(V){D(V)}},h,g);function D(F){g?g(F):console.error(F),C.manager.itemError(n)}}}const jy=new cn,Wy=new cn,fc=new cn;class C${constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new za,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new za,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(n){const o=this._cache;if(o.focus!==n.focus||o.fov!==n.fov||o.aspect!==n.aspect*this.aspect||o.near!==n.near||o.far!==n.far||o.zoom!==n.zoom||o.eyeSep!==this.eyeSep){o.focus=n.focus,o.fov=n.fov,o.aspect=n.aspect*this.aspect,o.near=n.near,o.far=n.far,o.zoom=n.zoom,o.eyeSep=this.eyeSep,fc.copy(n.projectionMatrix);const g=o.eyeSep/2,C=g*o.near/o.focus,T=o.near*Math.tan(Yo*o.fov*.5)/o.zoom;let D,F;Wy.elements[12]=-g,jy.elements[12]=g,D=-T*o.aspect+C,F=T*o.aspect+C,fc.elements[0]=2*o.near/(F-D),fc.elements[8]=(F+D)/(F-D),this.cameraL.projectionMatrix.copy(fc),D=-T*o.aspect-C,F=T*o.aspect-C,fc.elements[0]=2*o.near/(F-D),fc.elements[8]=(F+D)/(F-D),this.cameraR.projectionMatrix.copy(fc)}this.cameraL.matrixWorld.copy(n.matrixWorld).multiply(Wy),this.cameraR.matrixWorld.copy(n.matrixWorld).multiply(jy)}}class Ky{constructor(n=!0){this.autoStart=n,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Xy(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let n=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const o=Xy();n=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=n}return n}}function Xy(){return(typeof performance>"u"?Date:performance).now()}const mc=new ee,Yy=new _9,E$=new ee,pc=new ee;class _$ extends w9{constructor(){super(),this.type="AudioListener",this.context=r5.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ky}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(n){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=n,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}updateMatrixWorld(n){super.updateMatrixWorld(n);const o=this.context.listener,h=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mc,Yy,E$),pc.set(0,0,-1).applyQuaternion(Yy),o.positionX){const g=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(mc.x,g),o.positionY.linearRampToValueAtTime(mc.y,g),o.positionZ.linearRampToValueAtTime(mc.z,g),o.forwardX.linearRampToValueAtTime(pc.x,g),o.forwardY.linearRampToValueAtTime(pc.y,g),o.forwardZ.linearRampToValueAtTime(pc.z,g),o.upX.linearRampToValueAtTime(h.x,g),o.upY.linearRampToValueAtTime(h.y,g),o.upZ.linearRampToValueAtTime(h.z,g)}else o.setPosition(mc.x,mc.y,mc.z),o.setOrientation(pc.x,pc.y,pc.z,h.x,h.y,h.z)}}class qy extends w9{constructor(n){super(),this.type="Audio",this.listener=n,this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this}setMediaElementSource(n){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(n),this.connect(),this}setMediaStreamSource(n){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(n),this.connect(),this}setBuffer(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this}play(n=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+n;const o=this.context.createBufferSource();return o.buffer=this.buffer,o.loop=this.loop,o.loopStart=this.loopStart,o.loopEnd=this.loopEnd,o.onended=this.onEnded.bind(this),o.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=o,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let n=1,o=this.filters.length;n<o;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let n=1,o=this.filters.length;n<o;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(n){return n||(n=[]),this._connected===!0?(this.disconnect(),this.filters=n.slice(),this.connect()):this.filters=n.slice(),this}setDetune(n){return this.detune=n,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(n){return this.setFilters(n?[n]:[])}setPlaybackRate(n){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=n,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(n){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=n,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(n){return this.loopStart=n,this}setLoopEnd(n){return this.loopEnd=n,this}getVolume(){return this.gain.gain.value}setVolume(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}}const gc=new ee,Zy=new _9,w$=new ee,Mc=new ee;class O$ extends qy{constructor(n){super(n),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(n){return this.panner.refDistance=n,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(n){return this.panner.rolloffFactor=n,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(n){return this.panner.distanceModel=n,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(n){return this.panner.maxDistance=n,this}setDirectionalCone(n,o,h){return this.panner.coneInnerAngle=n,this.panner.coneOuterAngle=o,this.panner.coneOuterGain=h,this}updateMatrixWorld(n){if(super.updateMatrixWorld(n),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gc,Zy,w$),Mc.set(0,0,1).applyQuaternion(Zy);const o=this.panner;if(o.positionX){const h=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(gc.x,h),o.positionY.linearRampToValueAtTime(gc.y,h),o.positionZ.linearRampToValueAtTime(gc.z,h),o.orientationX.linearRampToValueAtTime(Mc.x,h),o.orientationY.linearRampToValueAtTime(Mc.y,h),o.orientationZ.linearRampToValueAtTime(Mc.z,h)}else o.setPosition(gc.x,gc.y,gc.z),o.setOrientation(Mc.x,Mc.y,Mc.z)}}class x${constructor(n,o=2048){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=o,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let n=0;const o=this.getFrequencyData();for(let h=0;h<o.length;h++)n+=o[h];return n/o.length}}class tv{constructor(n,o,h){this.binding=n,this.valueSize=h;let g,C,T;switch(o){case"quaternion":g=this._slerp,C=this._slerpAdditive,T=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(h*6),this._workIndex=5;break;case"string":case"bool":g=this._select,C=this._select,T=this._setAdditiveIdentityOther,this.buffer=new Array(h*5);break;default:g=this._lerp,C=this._lerpAdditive,T=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(h*5)}this._mixBufferRegion=g,this._mixBufferRegionAdditive=C,this._setIdentity=T,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(n,o){const h=this.buffer,g=this.valueSize,C=n*g+g;let T=this.cumulativeWeight;if(T===0){for(let D=0;D!==g;++D)h[C+D]=h[D];T=o}else{T+=o;const D=o/T;this._mixBufferRegion(h,C,0,D,g)}this.cumulativeWeight=T}accumulateAdditive(n){const o=this.buffer,h=this.valueSize,g=h*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(o,g,0,n,h),this.cumulativeWeightAdditive+=n}apply(n){const o=this.valueSize,h=this.buffer,g=n*o+o,C=this.cumulativeWeight,T=this.cumulativeWeightAdditive,D=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,C<1){const F=o*this._origIndex;this._mixBufferRegion(h,g,F,1-C,o)}T>0&&this._mixBufferRegionAdditive(h,g,this._addIndex*o,1,o);for(let F=o,V=o+o;F!==V;++F)if(h[F]!==h[F+o]){D.setValue(h,g);break}}saveOriginalState(){const n=this.binding,o=this.buffer,h=this.valueSize,g=h*this._origIndex;n.getValue(o,g);for(let C=h,T=g;C!==T;++C)o[C]=o[g+C%h];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const n=this.valueSize*3;this.binding.setValue(this.buffer,n)}_setAdditiveIdentityNumeric(){const n=this._addIndex*this.valueSize,o=n+this.valueSize;for(let h=n;h<o;h++)this.buffer[h]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const n=this._origIndex*this.valueSize,o=this._addIndex*this.valueSize;for(let h=0;h<this.valueSize;h++)this.buffer[o+h]=this.buffer[n+h]}_select(n,o,h,g,C){if(g>=.5)for(let T=0;T!==C;++T)n[o+T]=n[h+T]}_slerp(n,o,h,g){_9.slerpFlat(n,o,n,o,n,h,g)}_slerpAdditive(n,o,h,g,C){const T=this._workIndex*C;_9.multiplyQuaternionsFlat(n,T,n,o,n,h),_9.slerpFlat(n,o,n,o,n,T,g)}_lerp(n,o,h,g,C){const T=1-g;for(let D=0;D!==C;++D){const F=o+D;n[F]=n[F]*T+n[h+D]*g}}_lerpAdditive(n,o,h,g,C){for(let T=0;T!==C;++T){const D=o+T;n[D]=n[D]+n[h+T]*g}}}const o5="\\[\\]\\.:\\/",S$=new RegExp("["+o5+"]","g"),s5="[^"+o5+"]",T$="[^"+o5.replace("\\.","")+"]",I$=/((?:WC+[\/:])*)/.source.replace("WC",s5),B$=/(WCOD+)?/.source.replace("WCOD",T$),R$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",s5),D$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",s5),P$=new RegExp("^"+I$+B$+R$+D$+"$"),L$=["material","materials","bones","map"];class k${constructor(n,o,h){const g=h||E9.parseTrackName(o);this._targetGroup=n,this._bindings=n.subscribe_(o,g)}getValue(n,o){this.bind();const h=this._targetGroup.nCachedObjects_,g=this._bindings[h];g!==void 0&&g.getValue(n,o)}setValue(n,o){const h=this._bindings;for(let g=this._targetGroup.nCachedObjects_,C=h.length;g!==C;++g)h[g].setValue(n,o)}bind(){const n=this._bindings;for(let o=this._targetGroup.nCachedObjects_,h=n.length;o!==h;++o)n[o].bind()}unbind(){const n=this._bindings;for(let o=this._targetGroup.nCachedObjects_,h=n.length;o!==h;++o)n[o].unbind()}}class E9{constructor(n,o,h){this.path=o,this.parsedPath=h||E9.parseTrackName(o),this.node=E9.findNode(n,this.parsedPath.nodeName),this.rootNode=n,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(n,o,h){return n&&n.isAnimationObjectGroup?new E9.Composite(n,o,h):new E9(n,o,h)}static sanitizeNodeName(n){return n.replace(/\s/g,"_").replace(S$,"")}static parseTrackName(n){const o=P$.exec(n);if(o===null)throw new Error("PropertyBinding: Cannot parse trackName: "+n);const h={nodeName:o[2],objectName:o[3],objectIndex:o[4],propertyName:o[5],propertyIndex:o[6]},g=h.nodeName&&h.nodeName.lastIndexOf(".");if(g!==void 0&&g!==-1){const C=h.nodeName.substring(g+1);L$.indexOf(C)!==-1&&(h.nodeName=h.nodeName.substring(0,g),h.objectName=C)}if(h.propertyName===null||h.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return h}static findNode(n,o){if(o===void 0||o===""||o==="."||o===-1||o===n.name||o===n.uuid)return n;if(n.skeleton){const h=n.skeleton.getBoneByName(o);if(h!==void 0)return h}if(n.children){const h=function(C){for(let T=0;T<C.length;T++){const D=C[T];if(D.name===o||D.uuid===o)return D;const F=h(D.children);if(F)return F}return null},g=h(n.children);if(g)return g}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(n,o){n[o]=this.targetObject[this.propertyName]}_getValue_array(n,o){const h=this.resolvedProperty;for(let g=0,C=h.length;g!==C;++g)n[o++]=h[g]}_getValue_arrayElement(n,o){n[o]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(n,o){this.resolvedProperty.toArray(n,o)}_setValue_direct(n,o){this.targetObject[this.propertyName]=n[o]}_setValue_direct_setNeedsUpdate(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(n,o){const h=this.resolvedProperty;for(let g=0,C=h.length;g!==C;++g)h[g]=n[o++]}_setValue_array_setNeedsUpdate(n,o){const h=this.resolvedProperty;for(let g=0,C=h.length;g!==C;++g)h[g]=n[o++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(n,o){const h=this.resolvedProperty;for(let g=0,C=h.length;g!==C;++g)h[g]=n[o++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(n,o){this.resolvedProperty[this.propertyIndex]=n[o]}_setValue_arrayElement_setNeedsUpdate(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(n,o){this.resolvedProperty.fromArray(n,o)}_setValue_fromArray_setNeedsUpdate(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(n,o){this.bind(),this.getValue(n,o)}_setValue_unbound(n,o){this.bind(),this.setValue(n,o)}bind(){let n=this.node;const o=this.parsedPath,h=o.objectName,g=o.propertyName;let C=o.propertyIndex;if(n||(n=E9.findNode(this.rootNode,o.nodeName),this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!n){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(h){let V=o.objectIndex;switch(h){case"materials":if(!n.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!n.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}n=n.material.materials;break;case"bones":if(!n.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}n=n.skeleton.bones;for(let Y=0;Y<n.length;Y++)if(n[Y].name===V){V=Y;break}break;case"map":if("map"in n){n=n.map;break}if(!n.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!n.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}n=n.material.map;break;default:if(n[h]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}n=n[h]}if(V!==void 0){if(n[V]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);return}n=n[V]}}const T=n[g];if(T===void 0){const V=o.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+V+"."+g+" but it wasn't found.",n);return}let D=this.Versioning.None;this.targetObject=n,n.needsUpdate!==void 0?D=this.Versioning.NeedsUpdate:n.matrixWorldNeedsUpdate!==void 0&&(D=this.Versioning.MatrixWorldNeedsUpdate);let F=this.BindingType.Direct;if(C!==void 0){if(g==="morphTargetInfluences"){if(!n.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!n.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}n.morphTargetDictionary[C]!==void 0&&(C=n.morphTargetDictionary[C])}F=this.BindingType.ArrayElement,this.resolvedProperty=T,this.propertyIndex=C}else T.fromArray!==void 0&&T.toArray!==void 0?(F=this.BindingType.HasFromToArray,this.resolvedProperty=T):Array.isArray(T)?(F=this.BindingType.EntireArray,this.resolvedProperty=T):this.propertyName=g;this.getValue=this.GetterByBindingType[F],this.setValue=this.SetterByBindingTypeAndVersioning[F][D]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}E9.Composite=k$,E9.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},E9.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},E9.prototype.GetterByBindingType=[E9.prototype._getValue_direct,E9.prototype._getValue_array,E9.prototype._getValue_arrayElement,E9.prototype._getValue_toArray],E9.prototype.SetterByBindingTypeAndVersioning=[[E9.prototype._setValue_direct,E9.prototype._setValue_direct_setNeedsUpdate,E9.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[E9.prototype._setValue_array,E9.prototype._setValue_array_setNeedsUpdate,E9.prototype._setValue_array_setMatrixWorldNeedsUpdate],[E9.prototype._setValue_arrayElement,E9.prototype._setValue_arrayElement_setNeedsUpdate,E9.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[E9.prototype._setValue_fromArray,E9.prototype._setValue_fromArray_setNeedsUpdate,E9.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class N${constructor(){this.isAnimationObjectGroup=!0,this.uuid=Pr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const n={};this._indicesByUUID=n;for(let h=0,g=arguments.length;h!==g;++h)n[arguments[h].uuid]=h;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const o=this;this.stats={objects:{get total(){return o._objects.length},get inUse(){return this.total-o.nCachedObjects_}},get bindingsPerObject(){return o._bindings.length}}}add(){const n=this._objects,o=this._indicesByUUID,h=this._paths,g=this._parsedPaths,C=this._bindings,T=C.length;let D,F=n.length,V=this.nCachedObjects_;for(let Y=0,et=arguments.length;Y!==et;++Y){const at=arguments[Y],rt=at.uuid;let lt=o[rt];if(lt===void 0){lt=F++,o[rt]=lt,n.push(at);for(let At=0,ct=T;At!==ct;++At)C[At].push(new E9(at,h[At],g[At]))}else if(lt<V){D=n[lt];const At=--V,ct=n[At];o[ct.uuid]=lt,n[lt]=ct,o[rt]=At,n[At]=at;for(let ot=0,Ut=T;ot!==Ut;++ot){const Lt=C[ot],Bt=Lt[At];let fe=Lt[lt];Lt[lt]=Bt,fe===void 0&&(fe=new E9(at,h[ot],g[ot])),Lt[At]=fe}}else n[lt]!==D&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=V}remove(){const n=this._objects,o=this._indicesByUUID,h=this._bindings,g=h.length;let C=this.nCachedObjects_;for(let T=0,D=arguments.length;T!==D;++T){const F=arguments[T],V=F.uuid,Y=o[V];if(Y!==void 0&&Y>=C){const et=C++,at=n[et];o[at.uuid]=Y,n[Y]=at,o[V]=et,n[et]=F;for(let rt=0,lt=g;rt!==lt;++rt){const At=h[rt],ct=At[et],ot=At[Y];At[Y]=ct,At[et]=ot}}}this.nCachedObjects_=C}uncache(){const n=this._objects,o=this._indicesByUUID,h=this._bindings,g=h.length;let C=this.nCachedObjects_,T=n.length;for(let D=0,F=arguments.length;D!==F;++D){const V=arguments[D],Y=V.uuid,et=o[Y];if(et!==void 0)if(delete o[Y],et<C){const at=--C,rt=n[at],lt=--T,At=n[lt];o[rt.uuid]=et,n[et]=rt,o[At.uuid]=at,n[at]=At,n.pop();for(let ct=0,ot=g;ct!==ot;++ct){const Ut=h[ct],Lt=Ut[at],Bt=Ut[lt];Ut[et]=Lt,Ut[at]=Bt,Ut.pop()}}else{const at=--T,rt=n[at];at>0&&(o[rt.uuid]=et),n[et]=rt,n.pop();for(let lt=0,At=g;lt!==At;++lt){const ct=h[lt];ct[et]=ct[at],ct.pop()}}}this.nCachedObjects_=C}subscribe_(n,o){const h=this._bindingsIndicesByPath;let g=h[n];const C=this._bindings;if(g!==void 0)return C[g];const T=this._paths,D=this._parsedPaths,F=this._objects,V=F.length,Y=this.nCachedObjects_,et=new Array(V);g=C.length,h[n]=g,T.push(n),D.push(o),C.push(et);for(let at=Y,rt=F.length;at!==rt;++at){const lt=F[at];et[at]=new E9(lt,n,o)}return et}unsubscribe_(n){const o=this._bindingsIndicesByPath,h=o[n];if(h!==void 0){const g=this._paths,C=this._parsedPaths,T=this._bindings,D=T.length-1,F=T[D],V=n[D];o[V]=h,T[h]=F,T.pop(),C[h]=C[D],C.pop(),g[h]=g[D],g.pop()}}}class ev{constructor(n,o,h=null,g=o.blendMode){this._mixer=n,this._clip=o,this._localRoot=h,this.blendMode=g;const C=o.tracks,T=C.length,D=new Array(T),F={endingStart:pa,endingEnd:pa};for(let V=0;V!==T;++V){const Y=C[V].createInterpolant(null);D[V]=Y,Y.settings=F}this._interpolantSettings=F,this._interpolants=D,this._propertyBindings=new Array(T),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=W9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(n){return this._startTime=n,this}setLoop(n,o){return this.loop=n,this.repetitions=o,this}setEffectiveWeight(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(n){return this._scheduleFading(n,0,1)}fadeOut(n){return this._scheduleFading(n,1,0)}crossFadeFrom(n,o,h){if(n.fadeOut(o),this.fadeIn(o),h){const g=this._clip.duration,C=n._clip.duration,T=C/g,D=g/C;n.warp(1,T,o),this.warp(D,1,o)}return this}crossFadeTo(n,o,h){return n.crossFadeFrom(this,o,h)}stopFading(){const n=this._weightInterpolant;return n!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}setEffectiveTimeScale(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(n){return this.timeScale=this._clip.duration/n,this.stopWarping()}syncWith(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()}halt(n){return this.warp(this._effectiveTimeScale,0,n)}warp(n,o,h){const g=this._mixer,C=g.time,T=this.timeScale;let D=this._timeScaleInterpolant;D===null&&(D=g._lendControlInterpolant(),this._timeScaleInterpolant=D);const F=D.parameterPositions,V=D.sampleValues;return F[0]=C,F[1]=C+h,V[0]=n/T,V[1]=o/T,this}stopWarping(){const n=this._timeScaleInterpolant;return n!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(n,o,h,g){if(!this.enabled){this._updateWeight(n);return}const C=this._startTime;if(C!==null){const F=(n-C)*h;F<0||h===0?o=0:(this._startTime=null,o=h*F)}o*=this._updateTimeScale(n);const T=this._updateTime(o),D=this._updateWeight(n);if(D>0){const F=this._interpolants,V=this._propertyBindings;switch(this.blendMode){case U0:for(let Y=0,et=F.length;Y!==et;++Y)F[Y].evaluate(T),V[Y].accumulateAdditive(D);break;case v0:default:for(let Y=0,et=F.length;Y!==et;++Y)F[Y].evaluate(T),V[Y].accumulate(g,D)}}}_updateWeight(n){let o=0;if(this.enabled){o=this.weight;const h=this._weightInterpolant;if(h!==null){const g=h.evaluate(n)[0];o*=g,n>h.parameterPositions[1]&&(this.stopFading(),g===0&&(this.enabled=!1))}}return this._effectiveWeight=o,o}_updateTimeScale(n){let o=0;if(!this.paused){o=this.timeScale;const h=this._timeScaleInterpolant;if(h!==null){const g=h.evaluate(n)[0];o*=g,n>h.parameterPositions[1]&&(this.stopWarping(),o===0?this.paused=!0:this.timeScale=o)}}return this._effectiveTimeScale=o,o}_updateTime(n){const o=this._clip.duration,h=this.loop;let g=this.time+n,C=this._loopCount;const T=h===Ba;if(n===0)return C===-1?g:T&&(C&1)===1?o-g:g;if(h===oa){C===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(g>=o)g=o;else if(g<0)g=0;else{this.time=g;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=g,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{if(C===-1&&(n>=0?(C=0,this._setEndings(!0,this.repetitions===0,T)):this._setEndings(this.repetitions===0,!0,T)),g>=o||g<0){const D=Math.floor(g/o);g-=o*D,C+=Math.abs(D);const F=this.repetitions-C;if(F<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,g=n>0?o:0,this.time=g,this._mixer.dispatchEvent({type:"finished",action:this,direction:n>0?1:-1});else{if(F===1){const V=n<0;this._setEndings(V,!V,T)}else this._setEndings(!1,!1,T);this._loopCount=C,this.time=g,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:D})}}else this.time=g;if(T&&(C&1)===1)return o-g}return g}_setEndings(n,o,h){const g=this._interpolantSettings;h?(g.endingStart=Za,g.endingEnd=Za):(n?g.endingStart=this.zeroSlopeAtStart?Za:pa:g.endingStart=a0,o?g.endingEnd=this.zeroSlopeAtEnd?Za:pa:g.endingEnd=a0)}_scheduleFading(n,o,h){const g=this._mixer,C=g.time;let T=this._weightInterpolant;T===null&&(T=g._lendControlInterpolant(),this._weightInterpolant=T);const D=T.parameterPositions,F=T.sampleValues;return D[0]=C,F[0]=o,D[1]=C+n,F[1]=h,this}}const F$=new Float32Array(1);class U$ extends Dr{constructor(n){super(),this._root=n,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(n,o){const h=n._localRoot||this._root,g=n._clip.tracks,C=g.length,T=n._propertyBindings,D=n._interpolants,F=h.uuid,V=this._bindingsByRootAndName;let Y=V[F];Y===void 0&&(Y={},V[F]=Y);for(let et=0;et!==C;++et){const at=g[et],rt=at.name;let lt=Y[rt];if(lt!==void 0)++lt.referenceCount,T[et]=lt;else{if(lt=T[et],lt!==void 0){lt._cacheIndex===null&&(++lt.referenceCount,this._addInactiveBinding(lt,F,rt));continue}const At=o&&o._propertyBindings[et].binding.parsedPath;lt=new tv(E9.create(h,rt,At),at.ValueTypeName,at.getValueSize()),++lt.referenceCount,this._addInactiveBinding(lt,F,rt),T[et]=lt}D[et].resultBuffer=lt.buffer}}_activateAction(n){if(!this._isActiveAction(n)){if(n._cacheIndex===null){const h=(n._localRoot||this._root).uuid,g=n._clip.uuid,C=this._actionsByClip[g];this._bindAction(n,C&&C.knownActions[0]),this._addInactiveAction(n,g,h)}const o=n._propertyBindings;for(let h=0,g=o.length;h!==g;++h){const C=o[h];C.useCount++===0&&(this._lendBinding(C),C.saveOriginalState())}this._lendAction(n)}}_deactivateAction(n){if(this._isActiveAction(n)){const o=n._propertyBindings;for(let h=0,g=o.length;h!==g;++h){const C=o[h];--C.useCount===0&&(C.restoreOriginalState(),this._takeBackBinding(C))}this._takeBackAction(n)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}}_isActiveAction(n){const o=n._cacheIndex;return o!==null&&o<this._nActiveActions}_addInactiveAction(n,o,h){const g=this._actions,C=this._actionsByClip;let T=C[o];if(T===void 0)T={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,C[o]=T;else{const D=T.knownActions;n._byClipCacheIndex=D.length,D.push(n)}n._cacheIndex=g.length,g.push(n),T.actionByRoot[h]=n}_removeInactiveAction(n){const o=this._actions,h=o[o.length-1],g=n._cacheIndex;h._cacheIndex=g,o[g]=h,o.pop(),n._cacheIndex=null;const C=n._clip.uuid,T=this._actionsByClip,D=T[C],F=D.knownActions,V=F[F.length-1],Y=n._byClipCacheIndex;V._byClipCacheIndex=Y,F[Y]=V,F.pop(),n._byClipCacheIndex=null;const et=D.actionByRoot,at=(n._localRoot||this._root).uuid;delete et[at],F.length===0&&delete T[C],this._removeInactiveBindingsForAction(n)}_removeInactiveBindingsForAction(n){const o=n._propertyBindings;for(let h=0,g=o.length;h!==g;++h){const C=o[h];--C.referenceCount===0&&this._removeInactiveBinding(C)}}_lendAction(n){const o=this._actions,h=n._cacheIndex,g=this._nActiveActions++,C=o[g];n._cacheIndex=g,o[g]=n,C._cacheIndex=h,o[h]=C}_takeBackAction(n){const o=this._actions,h=n._cacheIndex,g=--this._nActiveActions,C=o[g];n._cacheIndex=g,o[g]=n,C._cacheIndex=h,o[h]=C}_addInactiveBinding(n,o,h){const g=this._bindingsByRootAndName,C=this._bindings;let T=g[o];T===void 0&&(T={},g[o]=T),T[h]=n,n._cacheIndex=C.length,C.push(n)}_removeInactiveBinding(n){const o=this._bindings,h=n.binding,g=h.rootNode.uuid,C=h.path,T=this._bindingsByRootAndName,D=T[g],F=o[o.length-1],V=n._cacheIndex;F._cacheIndex=V,o[V]=F,o.pop(),delete D[C],Object.keys(D).length===0&&delete T[g]}_lendBinding(n){const o=this._bindings,h=n._cacheIndex,g=this._nActiveBindings++,C=o[g];n._cacheIndex=g,o[g]=n,C._cacheIndex=h,o[h]=C}_takeBackBinding(n){const o=this._bindings,h=n._cacheIndex,g=--this._nActiveBindings,C=o[g];n._cacheIndex=g,o[g]=n,C._cacheIndex=h,o[h]=C}_lendControlInterpolant(){const n=this._controlInterpolants,o=this._nActiveControlInterpolants++;let h=n[o];return h===void 0&&(h=new q8(new Float32Array(2),new Float32Array(2),1,F$),h.__cacheIndex=o,n[o]=h),h}_takeBackControlInterpolant(n){const o=this._controlInterpolants,h=n.__cacheIndex,g=--this._nActiveControlInterpolants,C=o[g];n.__cacheIndex=g,o[g]=n,C.__cacheIndex=h,o[h]=C}clipAction(n,o,h){const g=o||this._root,C=g.uuid;let T=typeof n=="string"?Ih.findByName(g,n):n;const D=T!==null?T.uuid:n,F=this._actionsByClip[D];let V=null;if(h===void 0&&(T!==null?h=T.blendMode:h=v0),F!==void 0){const et=F.actionByRoot[C];if(et!==void 0&&et.blendMode===h)return et;V=F.knownActions[0],T===null&&(T=V._clip)}if(T===null)return null;const Y=new ev(this,T,o,h);return this._bindAction(Y,V),this._addInactiveAction(Y,D,C),Y}existingAction(n,o){const h=o||this._root,g=h.uuid,C=typeof n=="string"?Ih.findByName(h,n):n,T=C?C.uuid:n,D=this._actionsByClip[T];return D!==void 0&&D.actionByRoot[g]||null}stopAllAction(){const n=this._actions,o=this._nActiveActions;for(let h=o-1;h>=0;--h)n[h].stop();return this}update(n){n*=this.timeScale;const o=this._actions,h=this._nActiveActions,g=this.time+=n,C=Math.sign(n),T=this._accuIndex^=1;for(let V=0;V!==h;++V)o[V]._update(g,n,C,T);const D=this._bindings,F=this._nActiveBindings;for(let V=0;V!==F;++V)D[V].apply(T);return this}setTime(n){this.time=0;for(let o=0;o<this._actions.length;o++)this._actions[o].time=0;return this.update(n)}getRoot(){return this._root}uncacheClip(n){const o=this._actions,h=n.uuid,g=this._actionsByClip,C=g[h];if(C!==void 0){const T=C.knownActions;for(let D=0,F=T.length;D!==F;++D){const V=T[D];this._deactivateAction(V);const Y=V._cacheIndex,et=o[o.length-1];V._cacheIndex=null,V._byClipCacheIndex=null,et._cacheIndex=Y,o[Y]=et,o.pop(),this._removeInactiveBindingsForAction(V)}delete g[h]}}uncacheRoot(n){const o=n.uuid,h=this._actionsByClip;for(const T in h){const D=h[T].actionByRoot,F=D[o];F!==void 0&&(this._deactivateAction(F),this._removeInactiveAction(F))}const g=this._bindingsByRootAndName,C=g[o];if(C!==void 0)for(const T in C){const D=C[T];D.restoreOriginalState(),this._removeInactiveBinding(D)}}uncacheAction(n,o){const h=this.existingAction(n,o);h!==null&&(this._deactivateAction(h),this._removeInactiveAction(h))}}class l5{constructor(n){this.value=n}clone(){return new l5(this.value.clone===void 0?this.value:this.value.clone())}}let $$=0;class G$ extends Dr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:$$++}),this.name="",this.usage=Wl,this.uniforms=[]}add(n){return this.uniforms.push(n),this}remove(n){const o=this.uniforms.indexOf(n);return o!==-1&&this.uniforms.splice(o,1),this}setName(n){return this.name=n,this}setUsage(n){return this.usage=n,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(n){this.name=n.name,this.usage=n.usage;const o=n.uniforms;this.uniforms.length=0;for(let h=0,g=o.length;h<g;h++){const C=Array.isArray(o[h])?o[h]:[o[h]];for(let T=0;T<C.length;T++)this.uniforms.push(C[T].clone())}return this}clone(){return new this.constructor().copy(this)}}class H$ extends S2{constructor(n,o,h=1){super(n,o),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=h}copy(n){return super.copy(n),this.meshPerAttribute=n.meshPerAttribute,this}clone(n){const o=super.clone(n);return o.meshPerAttribute=this.meshPerAttribute,o}toJSON(n){const o=super.toJSON(n);return o.isInstancedInterleavedBuffer=!0,o.meshPerAttribute=this.meshPerAttribute,o}}class V${constructor(n,o,h,g,C){this.isGLBufferAttribute=!0,this.name="",this.buffer=n,this.type=o,this.itemSize=h,this.elementSize=g,this.count=C,this.version=0}set needsUpdate(n){n===!0&&this.version++}setBuffer(n){return this.buffer=n,this}setType(n,o){return this.type=n,this.elementSize=o,this}setItemSize(n){return this.itemSize=n,this}setCount(n){return this.count=n,this}}const iv=new cn;class Q${constructor(n,o,h=0,g=1/0){this.ray=new Qa(n,o),this.near=h,this.far=g,this.camera=null,this.layers=new s2,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(n,o){this.ray.set(n,o)}setFromCamera(n,o){o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):o.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):console.error("THREE.Raycaster: Unsupported camera type: "+o.type)}setFromXRController(n){return iv.identity().extractRotation(n.matrixWorld),this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(iv),this}intersectObject(n,o=!0,h=[]){return c5(n,this,h,o),h.sort(nv),h}intersectObjects(n,o=!0,h=[]){for(let g=0,C=n.length;g<C;g++)c5(n[g],this,h,o);return h.sort(nv),h}}function nv(_,n){return _.distance-n.distance}function c5(_,n,o,h){if(_.layers.test(n.layers)&&_.raycast(n,o),h===!0){const g=_.children;for(let C=0,T=g.length;C<T;C++)c5(g[C],n,o,!0)}}class z${constructor(n=1,o=0,h=0){return this.radius=n,this.phi=o,this.theta=h,this}set(n,o,h){return this.radius=n,this.phi=o,this.theta=h,this}copy(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(n){return this.setFromCartesianCoords(n.x,n.y,n.z)}setFromCartesianCoords(n,o,h){return this.radius=Math.sqrt(n*n+o*o+h*h),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n,h),this.phi=Math.acos(fa(o/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class J${constructor(n=1,o=0,h=0){return this.radius=n,this.theta=o,this.y=h,this}set(n,o,h){return this.radius=n,this.theta=o,this.y=h,this}copy(n){return this.radius=n.radius,this.theta=n.theta,this.y=n.y,this}setFromVector3(n){return this.setFromCartesianCoords(n.x,n.y,n.z)}setFromCartesianCoords(n,o,h){return this.radius=Math.sqrt(n*n+h*h),this.theta=Math.atan2(n,h),this.y=o,this}clone(){return new this.constructor().copy(this)}}const av=new hi;class j${constructor(n=new hi(1/0,1/0),o=new hi(-1/0,-1/0)){this.isBox2=!0,this.min=n,this.max=o}set(n,o){return this.min.copy(n),this.max.copy(o),this}setFromPoints(n){this.makeEmpty();for(let o=0,h=n.length;o<h;o++)this.expandByPoint(n[o]);return this}setFromCenterAndSize(n,o){const h=av.copy(o).multiplyScalar(.5);return this.min.copy(n).sub(h),this.max.copy(n).add(h),this}clone(){return new this.constructor().copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(n){return this.isEmpty()?n.set(0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return this.isEmpty()?n.set(0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}containsPoint(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y)}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y}getParameter(n,o){return o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y)}clampPoint(n,o){return o.copy(n).clamp(this.min,this.max)}distanceToPoint(n){return this.clampPoint(n,av).distanceTo(n)}intersect(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}const rv=new ee,mm=new ee;class W${constructor(n=new ee,o=new ee){this.start=n,this.end=o}set(n,o){return this.start.copy(n),this.end.copy(o),this}copy(n){return this.start.copy(n.start),this.end.copy(n.end),this}getCenter(n){return n.addVectors(this.start,this.end).multiplyScalar(.5)}delta(n){return n.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(n,o){return this.delta(o).multiplyScalar(n).add(this.start)}closestPointToPointParameter(n,o){rv.subVectors(n,this.start),mm.subVectors(this.end,this.start);const h=mm.dot(mm);let C=mm.dot(rv)/h;return o&&(C=fa(C,0,1)),C}closestPointToPoint(n,o,h){const g=this.closestPointToPointParameter(n,o);return this.delta(h).multiplyScalar(g).add(this.start)}applyMatrix4(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this}equals(n){return n.start.equals(this.start)&&n.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ov=new ee;class K$ extends w9{constructor(n,o){super(),this.light=n,this.matrixAutoUpdate=!1,this.color=o,this.type="SpotLightHelper";const h=new i9,g=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let T=0,D=1,F=32;T<F;T++,D++){const V=T/F*Math.PI*2,Y=D/F*Math.PI*2;g.push(Math.cos(V),Math.sin(V),1,Math.cos(Y),Math.sin(Y),1)}h.setAttribute("position",new hn(g,3));const C=new Fr({fog:!1,toneMapped:!1});this.cone=new Ao(h,C),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const n=this.light.distance?this.light.distance:1e3,o=n*Math.tan(this.light.angle);this.cone.scale.set(o,o,n),ov.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ov),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const nl=new ee,pm=new cn,u5=new cn;class X$ extends Ao{constructor(n){const o=sv(n),h=new i9,g=[],C=[],T=new tn(0,0,1),D=new tn(0,1,0);for(let V=0;V<o.length;V++){const Y=o[V];Y.parent&&Y.parent.isBone&&(g.push(0,0,0),g.push(0,0,0),C.push(T.r,T.g,T.b),C.push(D.r,D.g,D.b))}h.setAttribute("position",new hn(g,3)),h.setAttribute("color",new hn(C,3));const F=new Fr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(h,F),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=n,this.bones=o,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(n){const o=this.bones,h=this.geometry,g=h.getAttribute("position");u5.copy(this.root.matrixWorld).invert();for(let C=0,T=0;C<o.length;C++){const D=o[C];D.parent&&D.parent.isBone&&(pm.multiplyMatrices(u5,D.matrixWorld),nl.setFromMatrixPosition(pm),g.setXYZ(T,nl.x,nl.y,nl.z),pm.multiplyMatrices(u5,D.parent.matrixWorld),nl.setFromMatrixPosition(pm),g.setXYZ(T+1,nl.x,nl.y,nl.z),T+=2)}h.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(n)}dispose(){this.geometry.dispose(),this.material.dispose()}}function sv(_){const n=[];_.isBone===!0&&n.push(_);for(let o=0;o<_.children.length;o++)n.push.apply(n,sv(_.children[o]));return n}class Y$ extends Ua{constructor(n,o,h){const g=new Oh(o,4,2),C=new Ks({wireframe:!0,fog:!1,toneMapped:!1});super(g,C),this.light=n,this.color=h,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const q$=new ee,lv=new tn,cv=new tn;class Z$ extends w9{constructor(n,o,h){super(),this.light=n,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=h,this.type="HemisphereLightHelper";const g=new wh(o);g.rotateY(Math.PI*.5),this.material=new Ks({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const C=g.getAttribute("position"),T=new Float32Array(C.count*3);g.setAttribute("color",new F9(T,3)),this.add(new Ua(g,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const n=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const o=n.geometry.getAttribute("color");lv.copy(this.light.color),cv.copy(this.light.groundColor);for(let h=0,g=o.count;h<g;h++){const C=h<g/2?lv:cv;o.setXYZ(h,C.r,C.g,C.b)}o.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),n.lookAt(q$.setFromMatrixPosition(this.light.matrixWorld).negate())}}class tG extends Ao{constructor(n=10,o=10,h=4473924,g=8947848){h=new tn(h),g=new tn(g);const C=o/2,T=n/o,D=n/2,F=[],V=[];for(let at=0,rt=0,lt=-D;at<=o;at++,lt+=T){F.push(-D,0,lt,D,0,lt),F.push(lt,0,-D,lt,0,D);const At=at===C?h:g;At.toArray(V,rt),rt+=3,At.toArray(V,rt),rt+=3,At.toArray(V,rt),rt+=3,At.toArray(V,rt),rt+=3}const Y=new i9;Y.setAttribute("position",new hn(F,3)),Y.setAttribute("color",new hn(V,3));const et=new Fr({vertexColors:!0,toneMapped:!1});super(Y,et),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class eG extends Ao{constructor(n=10,o=16,h=8,g=64,C=4473924,T=8947848){C=new tn(C),T=new tn(T);const D=[],F=[];if(o>1)for(let et=0;et<o;et++){const at=et/o*(Math.PI*2),rt=Math.sin(at)*n,lt=Math.cos(at)*n;D.push(0,0,0),D.push(rt,0,lt);const At=et&1?C:T;F.push(At.r,At.g,At.b),F.push(At.r,At.g,At.b)}for(let et=0;et<h;et++){const at=et&1?C:T,rt=n-n/h*et;for(let lt=0;lt<g;lt++){let At=lt/g*(Math.PI*2),ct=Math.sin(At)*rt,ot=Math.cos(At)*rt;D.push(ct,0,ot),F.push(at.r,at.g,at.b),At=(lt+1)/g*(Math.PI*2),ct=Math.sin(At)*rt,ot=Math.cos(At)*rt,D.push(ct,0,ot),F.push(at.r,at.g,at.b)}}const V=new i9;V.setAttribute("position",new hn(D,3)),V.setAttribute("color",new hn(F,3));const Y=new Fr({vertexColors:!0,toneMapped:!1});super(V,Y),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const uv=new ee,gm=new ee,dv=new ee;class iG extends w9{constructor(n,o,h){super(),this.light=n,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=h,this.type="DirectionalLightHelper",o===void 0&&(o=1);let g=new i9;g.setAttribute("position",new hn([-o,o,0,o,o,0,o,-o,0,-o,-o,0,-o,o,0],3));const C=new Fr({fog:!1,toneMapped:!1});this.lightPlane=new tl(g,C),this.add(this.lightPlane),g=new i9,g.setAttribute("position",new hn([0,0,0,0,0,1],3)),this.targetLine=new tl(g,C),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),uv.setFromMatrixPosition(this.light.matrixWorld),gm.setFromMatrixPosition(this.light.target.matrixWorld),dv.subVectors(gm,uv),this.lightPlane.lookAt(gm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(gm),this.targetLine.scale.z=dv.length()}}const Mm=new ee,Ca=new y2;class nG extends Ao{constructor(n){const o=new i9,h=new Fr({color:16777215,vertexColors:!0,toneMapped:!1}),g=[],C=[],T={};D("n1","n2"),D("n2","n4"),D("n4","n3"),D("n3","n1"),D("f1","f2"),D("f2","f4"),D("f4","f3"),D("f3","f1"),D("n1","f1"),D("n2","f2"),D("n3","f3"),D("n4","f4"),D("p","n1"),D("p","n2"),D("p","n3"),D("p","n4"),D("u1","u2"),D("u2","u3"),D("u3","u1"),D("c","t"),D("p","c"),D("cn1","cn2"),D("cn3","cn4"),D("cf1","cf2"),D("cf3","cf4");function D(lt,At){F(lt),F(At)}function F(lt){g.push(0,0,0),C.push(0,0,0),T[lt]===void 0&&(T[lt]=[]),T[lt].push(g.length/3-1)}o.setAttribute("position",new hn(g,3)),o.setAttribute("color",new hn(C,3)),super(o,h),this.type="CameraHelper",this.camera=n,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=T,this.update();const V=new tn(16755200),Y=new tn(16711680),et=new tn(43775),at=new tn(16777215),rt=new tn(3355443);this.setColors(V,Y,et,at,rt)}setColors(n,o,h,g,C){const D=this.geometry.getAttribute("color");D.setXYZ(0,n.r,n.g,n.b),D.setXYZ(1,n.r,n.g,n.b),D.setXYZ(2,n.r,n.g,n.b),D.setXYZ(3,n.r,n.g,n.b),D.setXYZ(4,n.r,n.g,n.b),D.setXYZ(5,n.r,n.g,n.b),D.setXYZ(6,n.r,n.g,n.b),D.setXYZ(7,n.r,n.g,n.b),D.setXYZ(8,n.r,n.g,n.b),D.setXYZ(9,n.r,n.g,n.b),D.setXYZ(10,n.r,n.g,n.b),D.setXYZ(11,n.r,n.g,n.b),D.setXYZ(12,n.r,n.g,n.b),D.setXYZ(13,n.r,n.g,n.b),D.setXYZ(14,n.r,n.g,n.b),D.setXYZ(15,n.r,n.g,n.b),D.setXYZ(16,n.r,n.g,n.b),D.setXYZ(17,n.r,n.g,n.b),D.setXYZ(18,n.r,n.g,n.b),D.setXYZ(19,n.r,n.g,n.b),D.setXYZ(20,n.r,n.g,n.b),D.setXYZ(21,n.r,n.g,n.b),D.setXYZ(22,n.r,n.g,n.b),D.setXYZ(23,n.r,n.g,n.b),D.setXYZ(24,o.r,o.g,o.b),D.setXYZ(25,o.r,o.g,o.b),D.setXYZ(26,o.r,o.g,o.b),D.setXYZ(27,o.r,o.g,o.b),D.setXYZ(28,o.r,o.g,o.b),D.setXYZ(29,o.r,o.g,o.b),D.setXYZ(30,o.r,o.g,o.b),D.setXYZ(31,o.r,o.g,o.b),D.setXYZ(32,h.r,h.g,h.b),D.setXYZ(33,h.r,h.g,h.b),D.setXYZ(34,h.r,h.g,h.b),D.setXYZ(35,h.r,h.g,h.b),D.setXYZ(36,h.r,h.g,h.b),D.setXYZ(37,h.r,h.g,h.b),D.setXYZ(38,g.r,g.g,g.b),D.setXYZ(39,g.r,g.g,g.b),D.setXYZ(40,C.r,C.g,C.b),D.setXYZ(41,C.r,C.g,C.b),D.setXYZ(42,C.r,C.g,C.b),D.setXYZ(43,C.r,C.g,C.b),D.setXYZ(44,C.r,C.g,C.b),D.setXYZ(45,C.r,C.g,C.b),D.setXYZ(46,C.r,C.g,C.b),D.setXYZ(47,C.r,C.g,C.b),D.setXYZ(48,C.r,C.g,C.b),D.setXYZ(49,C.r,C.g,C.b),D.needsUpdate=!0}update(){const n=this.geometry,o=this.pointMap,h=1,g=1;Ca.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Pa("c",o,n,Ca,0,0,-1),Pa("t",o,n,Ca,0,0,1),Pa("n1",o,n,Ca,-h,-g,-1),Pa("n2",o,n,Ca,h,-g,-1),Pa("n3",o,n,Ca,-h,g,-1),Pa("n4",o,n,Ca,h,g,-1),Pa("f1",o,n,Ca,-h,-g,1),Pa("f2",o,n,Ca,h,-g,1),Pa("f3",o,n,Ca,-h,g,1),Pa("f4",o,n,Ca,h,g,1),Pa("u1",o,n,Ca,h*.7,g*1.1,-1),Pa("u2",o,n,Ca,-h*.7,g*1.1,-1),Pa("u3",o,n,Ca,0,g*2,-1),Pa("cf1",o,n,Ca,-h,0,1),Pa("cf2",o,n,Ca,h,0,1),Pa("cf3",o,n,Ca,0,-g,1),Pa("cf4",o,n,Ca,0,g,1),Pa("cn1",o,n,Ca,-h,0,-1),Pa("cn2",o,n,Ca,h,0,-1),Pa("cn3",o,n,Ca,0,-g,-1),Pa("cn4",o,n,Ca,0,g,-1),n.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pa(_,n,o,h,g,C,T){Mm.set(g,C,T).unproject(h);const D=n[_];if(D!==void 0){const F=o.getAttribute("position");for(let V=0,Y=D.length;V<Y;V++)F.setXYZ(D[V],Mm.x,Mm.y,Mm.z)}}const Am=new ga;class aG extends Ao{constructor(n,o=16776960){const h=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),g=new Float32Array(8*3),C=new i9;C.setIndex(new F9(h,1)),C.setAttribute("position",new F9(g,3)),super(C,new Fr({color:o,toneMapped:!1})),this.object=n,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Am.setFromObject(this.object),Am.isEmpty())return;const o=Am.min,h=Am.max,g=this.geometry.attributes.position,C=g.array;C[0]=h.x,C[1]=h.y,C[2]=h.z,C[3]=o.x,C[4]=h.y,C[5]=h.z,C[6]=o.x,C[7]=o.y,C[8]=h.z,C[9]=h.x,C[10]=o.y,C[11]=h.z,C[12]=h.x,C[13]=h.y,C[14]=o.z,C[15]=o.x,C[16]=h.y,C[17]=o.z,C[18]=o.x,C[19]=o.y,C[20]=o.z,C[21]=h.x,C[22]=o.y,C[23]=o.z,g.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(n){return this.object=n,this.update(),this}copy(n,o){return super.copy(n,o),this.object=n.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rG extends Ao{constructor(n,o=16776960){const h=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),g=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],C=new i9;C.setIndex(new F9(h,1)),C.setAttribute("position",new hn(g,3)),super(C,new Fr({color:o,toneMapped:!1})),this.box=n,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(n){const o=this.box;o.isEmpty()||(o.getCenter(this.position),o.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(n))}dispose(){this.geometry.dispose(),this.material.dispose()}}class oG extends tl{constructor(n,o=1,h=16776960){const g=h,C=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],T=new i9;T.setAttribute("position",new hn(C,3)),T.computeBoundingSphere(),super(T,new Fr({color:g,toneMapped:!1})),this.type="PlaneHelper",this.plane=n,this.size=o;const D=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],F=new i9;F.setAttribute("position",new hn(D,3)),F.computeBoundingSphere(),this.add(new Ua(F,new Ks({color:g,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(n){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(n)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hv=new ee;let ym,d5;class sG extends w9{constructor(n=new ee(0,0,1),o=new ee(0,0,0),h=1,g=16776960,C=h*.2,T=C*.2){super(),this.type="ArrowHelper",ym===void 0&&(ym=new i9,ym.setAttribute("position",new hn([0,0,0,0,1,0],3)),d5=new Pu(0,.5,1,5,1),d5.translate(0,-.5,0)),this.position.copy(o),this.line=new tl(ym,new Fr({color:g,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ua(d5,new Ks({color:g,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(h,C,T)}setDirection(n){if(n.y>.99999)this.quaternion.set(0,0,0,1);else if(n.y<-.99999)this.quaternion.set(1,0,0,0);else{hv.set(n.z,0,-n.x).normalize();const o=Math.acos(n.y);this.quaternion.setFromAxisAngle(hv,o)}}setLength(n,o=n*.2,h=o*.2){this.line.scale.set(1,Math.max(1e-4,n-o),1),this.line.updateMatrix(),this.cone.scale.set(h,o,h),this.cone.position.y=n,this.cone.updateMatrix()}setColor(n){this.line.material.color.set(n),this.cone.material.color.set(n)}copy(n){return super.copy(n,!1),this.line.copy(n.line),this.cone.copy(n.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class lG extends Ao{constructor(n=1){const o=[0,0,0,n,0,0,0,0,0,0,n,0,0,0,0,0,0,n],h=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],g=new i9;g.setAttribute("position",new hn(o,3)),g.setAttribute("color",new hn(h,3));const C=new Fr({vertexColors:!0,toneMapped:!1});super(g,C),this.type="AxesHelper"}setColors(n,o,h){const g=new tn,C=this.geometry.attributes.color.array;return g.set(n),g.toArray(C,0),g.toArray(C,3),g.set(o),g.toArray(C,6),g.toArray(C,9),g.set(h),g.toArray(C,12),g.toArray(C,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cG{constructor(){this.type="ShapePath",this.color=new tn,this.subPaths=[],this.currentPath=null}moveTo(n,o){return this.currentPath=new vh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(n,o),this}lineTo(n,o){return this.currentPath.lineTo(n,o),this}quadraticCurveTo(n,o,h,g){return this.currentPath.quadraticCurveTo(n,o,h,g),this}bezierCurveTo(n,o,h,g,C,T){return this.currentPath.bezierCurveTo(n,o,h,g,C,T),this}splineThru(n){return this.currentPath.splineThru(n),this}toShapes(n){function o(ot){const Ut=[];for(let Lt=0,Bt=ot.length;Lt<Bt;Lt++){const fe=ot[Lt],ae=new lc;ae.curves=fe.curves,Ut.push(ae)}return Ut}function h(ot,Ut){const Lt=Ut.length;let Bt=!1;for(let fe=Lt-1,ae=0;ae<Lt;fe=ae++){let se=Ut[fe],de=Ut[ae],Xt=de.x-se.x,zt=de.y-se.y;if(Math.abs(zt)>Number.EPSILON){if(zt<0&&(se=Ut[ae],Xt=-Xt,de=Ut[fe],zt=-zt),ot.y<se.y||ot.y>de.y)continue;if(ot.y===se.y){if(ot.x===se.x)return!0}else{const he=zt*(ot.x-se.x)-Xt*(ot.y-se.y);if(he===0)return!0;if(he<0)continue;Bt=!Bt}}else{if(ot.y!==se.y)continue;if(de.x<=ot.x&&ot.x<=se.x||se.x<=ot.x&&ot.x<=de.x)return!0}}return Bt}const g=yo.isClockWise,C=this.subPaths;if(C.length===0)return[];let T,D,F;const V=[];if(C.length===1)return D=C[0],F=new lc,F.curves=D.curves,V.push(F),V;let Y=!g(C[0].getPoints());Y=n?!Y:Y;const et=[],at=[];let rt=[],lt=0,At;at[lt]=void 0,rt[lt]=[];for(let ot=0,Ut=C.length;ot<Ut;ot++)D=C[ot],At=D.getPoints(),T=g(At),T=n?!T:T,T?(!Y&&at[lt]&&lt++,at[lt]={s:new lc,p:At},at[lt].s.curves=D.curves,Y&&lt++,rt[lt]=[]):rt[lt].push({h:D,p:At[0]});if(!at[0])return o(C);if(at.length>1){let ot=!1,Ut=0;for(let Lt=0,Bt=at.length;Lt<Bt;Lt++)et[Lt]=[];for(let Lt=0,Bt=at.length;Lt<Bt;Lt++){const fe=rt[Lt];for(let ae=0;ae<fe.length;ae++){const se=fe[ae];let de=!0;for(let Xt=0;Xt<at.length;Xt++)h(se.p,at[Xt].p)&&(Lt!==Xt&&Ut++,de?(de=!1,et[Xt].push(se)):ot=!0);de&&et[Lt].push(se)}}Ut>0&&ot===!1&&(rt=et)}let ct;for(let ot=0,Ut=at.length;ot<Ut;ot++){F=at[ot].s,V.push(F),ct=rt[ot];for(let Lt=0,Bt=ct.length;Lt<Bt;Lt++)F.holes.push(ct[Lt].h)}return V}}class uG extends zr{constructor(n=1,o=1,h=1,g={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(n,o,{...g,count:h}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:f}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=f)},"./node_modules/three/examples/jsm/libs/ktx-parse.module.js":(u,d,c)=>{c.r(d),c.d(d,{KHR_DF_CHANNEL_RGBSDA_ALPHA:()=>ti,KHR_DF_CHANNEL_RGBSDA_BLUE:()=>ei,KHR_DF_CHANNEL_RGBSDA_DEPTH:()=>ai,KHR_DF_CHANNEL_RGBSDA_GREEN:()=>ni,KHR_DF_CHANNEL_RGBSDA_RED:()=>Qe,KHR_DF_CHANNEL_RGBSDA_STENCIL:()=>Ci,KHR_DF_FLAG_ALPHA_PREMULTIPLIED:()=>P,KHR_DF_FLAG_ALPHA_STRAIGHT:()=>I,KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT:()=>y,KHR_DF_MODEL_ASTC:()=>S,KHR_DF_MODEL_ETC1:()=>b,KHR_DF_MODEL_ETC1S:()=>R,KHR_DF_MODEL_ETC2:()=>O,KHR_DF_MODEL_RGBSDA:()=>x,KHR_DF_MODEL_UNSPECIFIED:()=>w,KHR_DF_PRIMARIES_ACES:()=>ie,KHR_DF_PRIMARIES_ACESCC:()=>jt,KHR_DF_PRIMARIES_ADOBERGB:()=>pe,KHR_DF_PRIMARIES_BT2020:()=>Pt,KHR_DF_PRIMARIES_BT601_EBU:()=>St,KHR_DF_PRIMARIES_BT601_SMPTE:()=>Mt,KHR_DF_PRIMARIES_BT709:()=>ft,KHR_DF_PRIMARIES_CIEXYZ:()=>Vt,KHR_DF_PRIMARIES_DISPLAYP3:()=>Yt,KHR_DF_PRIMARIES_NTSC1953:()=>Wt,KHR_DF_PRIMARIES_PAL525:()=>me,KHR_DF_PRIMARIES_UNSPECIFIED:()=>Ot,KHR_DF_SAMPLE_DATATYPE_EXPONENT:()=>ne,KHR_DF_SAMPLE_DATATYPE_FLOAT:()=>be,KHR_DF_SAMPLE_DATATYPE_LINEAR:()=>Et,KHR_DF_SAMPLE_DATATYPE_SIGNED:()=>ye,KHR_DF_TRANSFER_ACESCC:()=>gt,KHR_DF_TRANSFER_ACESCCT:()=>Tt,KHR_DF_TRANSFER_ADOBERGB:()=>vt,KHR_DF_TRANSFER_BT1886:()=>J,KHR_DF_TRANSFER_DCIP3:()=>nt,KHR_DF_TRANSFER_HLG_EOTF:()=>G,KHR_DF_TRANSFER_HLG_OETF:()=>Q,KHR_DF_TRANSFER_ITU:()=>$,KHR_DF_TRANSFER_LINEAR:()=>k,KHR_DF_TRANSFER_NTSC:()=>H,KHR_DF_TRANSFER_PAL625_EOTF:()=>ht,KHR_DF_TRANSFER_PAL_OETF:()=>tt,KHR_DF_TRANSFER_PQ_EOTF:()=>z,KHR_DF_TRANSFER_PQ_OETF:()=>j,KHR_DF_TRANSFER_SLOG:()=>U,KHR_DF_TRANSFER_SLOG2:()=>W,KHR_DF_TRANSFER_SRGB:()=>N,KHR_DF_TRANSFER_ST240:()=>pt,KHR_DF_TRANSFER_UNSPECIFIED:()=>L,KHR_DF_VENDORID_KHRONOS:()=>E,KHR_DF_VERSION:()=>v,KHR_SUPERCOMPRESSION_BASISLZ:()=>m,KHR_SUPERCOMPRESSION_NONE:()=>M,KHR_SUPERCOMPRESSION_ZLIB:()=>p,KHR_SUPERCOMPRESSION_ZSTD:()=>A,KTX2Container:()=>qo,VK_FORMAT_A1R5G5B5_UNORM_PACK16:()=>_t,VK_FORMAT_A2B10G10R10_SINT_PACK32:()=>dn,VK_FORMAT_A2B10G10R10_SNORM_PACK32:()=>$i,VK_FORMAT_A2B10G10R10_UINT_PACK32:()=>si,VK_FORMAT_A2B10G10R10_UNORM_PACK32:()=>an,VK_FORMAT_A2R10G10B10_SINT_PACK32:()=>vi,VK_FORMAT_A2R10G10B10_SNORM_PACK32:()=>Le,VK_FORMAT_A2R10G10B10_UINT_PACK32:()=>oi,VK_FORMAT_A2R10G10B10_UNORM_PACK32:()=>Ye,VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT:()=>ih,VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT:()=>Qs,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:()=>au,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:()=>fa,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:()=>Pr,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:()=>e2,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:()=>Dr,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:()=>Kl,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:()=>i2,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:()=>Y1,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:()=>tr,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:()=>n2,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:()=>Hs,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:()=>Yo,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:()=>t8,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:()=>kp,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:()=>th,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:()=>T9,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:()=>Xl,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:()=>Np,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:()=>Nn,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:()=>W1,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:()=>j1,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:()=>eh,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:()=>X1,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:()=>K1,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:()=>q1,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:()=>xp,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:()=>Wl,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:()=>Zp,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:()=>Tp,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:()=>Sp,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:()=>Vs,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:()=>Bp,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:()=>Ip,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:()=>Yl,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:()=>Dp,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:()=>Rp,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:()=>Z1,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:()=>Lp,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:()=>Pp,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:()=>t2,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:()=>b0,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:()=>Zd,VK_FORMAT_B10G11R11_UFLOAT_PACK32:()=>Wo,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:()=>Hp,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:()=>jp,VK_FORMAT_B4G4R4A4_UNORM_PACK16:()=>xt,VK_FORMAT_B5G5R5A1_UNORM_PACK16:()=>Z,VK_FORMAT_B5G6R5_UNORM_PACK16:()=>ut,VK_FORMAT_B8G8R8A8_SINT:()=>le,VK_FORMAT_B8G8R8A8_SNORM:()=>ka,VK_FORMAT_B8G8R8A8_SRGB:()=>_e,VK_FORMAT_B8G8R8A8_UINT:()=>Kt,VK_FORMAT_B8G8R8A8_UNORM:()=>hr,VK_FORMAT_B8G8R8_SINT:()=>bi,VK_FORMAT_B8G8R8_SNORM:()=>Be,VK_FORMAT_B8G8R8_SRGB:()=>on,VK_FORMAT_B8G8R8_UINT:()=>En,VK_FORMAT_B8G8R8_UNORM:()=>yn,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:()=>$9,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:()=>zl,VK_FORMAT_BC1_RGB_SRGB_BLOCK:()=>Ql,VK_FORMAT_BC1_RGB_UNORM_BLOCK:()=>nu,VK_FORMAT_BC2_SRGB_BLOCK:()=>jl,VK_FORMAT_BC2_UNORM_BLOCK:()=>Jl,VK_FORMAT_BC3_SRGB_BLOCK:()=>Xo,VK_FORMAT_BC3_UNORM_BLOCK:()=>fp,VK_FORMAT_BC4_SNORM_BLOCK:()=>pp,VK_FORMAT_BC4_UNORM_BLOCK:()=>mp,VK_FORMAT_BC5_SNORM_BLOCK:()=>Mp,VK_FORMAT_BC5_UNORM_BLOCK:()=>gp,VK_FORMAT_BC6H_SFLOAT_BLOCK:()=>yp,VK_FORMAT_BC6H_UFLOAT_BLOCK:()=>Ap,VK_FORMAT_BC7_SRGB_BLOCK:()=>bp,VK_FORMAT_BC7_UNORM_BLOCK:()=>vp,VK_FORMAT_D16_UNORM:()=>fo,VK_FORMAT_D16_UNORM_S8_UINT:()=>fr,VK_FORMAT_D24_UNORM_S8_UINT:()=>y9,VK_FORMAT_D32_SFLOAT:()=>vr,VK_FORMAT_D32_SFLOAT_S8_UINT:()=>$0,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:()=>Ko,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:()=>qd,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:()=>J1,VK_FORMAT_EAC_R11_SNORM_BLOCK:()=>z1,VK_FORMAT_EAC_R11_UNORM_BLOCK:()=>Q1,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:()=>wp,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:()=>_p,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:()=>Yd,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:()=>Op,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:()=>Ep,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:()=>Cp,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:()=>Gp,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:()=>Jp,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:()=>mr,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:()=>Wp,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:()=>Hn,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:()=>Kp,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:()=>qp,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:()=>Xp,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:()=>hi,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:()=>Yp,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:()=>$p,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:()=>Up,VK_FORMAT_R10X6_UNORM_PACK16:()=>Fp,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:()=>zp,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:()=>Qp,VK_FORMAT_R12X4_UNORM_PACK16:()=>Vp,VK_FORMAT_R16G16B16A16_SFLOAT:()=>di,VK_FORMAT_R16G16B16A16_SINT:()=>Ee,VK_FORMAT_R16G16B16A16_SNORM:()=>qt,VK_FORMAT_R16G16B16A16_UINT:()=>ge,VK_FORMAT_R16G16B16A16_UNORM:()=>$t,VK_FORMAT_R16G16B16_SFLOAT:()=>It,VK_FORMAT_R16G16B16_SINT:()=>mt,VK_FORMAT_R16G16B16_SNORM:()=>p9,VK_FORMAT_R16G16B16_UINT:()=>st,VK_FORMAT_R16G16B16_UNORM:()=>ma,VK_FORMAT_R16G16_SFLOAT:()=>Jn,VK_FORMAT_R16G16_SINT:()=>Gi,VK_FORMAT_R16G16_SNORM:()=>j9,VK_FORMAT_R16G16_UINT:()=>Ia,VK_FORMAT_R16G16_UNORM:()=>u9,VK_FORMAT_R16_SFLOAT:()=>Ln,VK_FORMAT_R16_SINT:()=>zn,VK_FORMAT_R16_SNORM:()=>On,VK_FORMAT_R16_UINT:()=>D9,VK_FORMAT_R16_UNORM:()=>An,VK_FORMAT_R32G32B32A32_SFLOAT:()=>P9,VK_FORMAT_R32G32B32A32_SINT:()=>A9,VK_FORMAT_R32G32B32A32_UINT:()=>_n,VK_FORMAT_R32G32B32_SFLOAT:()=>Tn,VK_FORMAT_R32G32B32_SINT:()=>Gn,VK_FORMAT_R32G32B32_UINT:()=>vn,VK_FORMAT_R32G32_SFLOAT:()=>sn,VK_FORMAT_R32G32_SINT:()=>zi,VK_FORMAT_R32G32_UINT:()=>yi,VK_FORMAT_R32_SFLOAT:()=>qe,VK_FORMAT_R32_SINT:()=>Te,VK_FORMAT_R32_UINT:()=>ci,VK_FORMAT_R4G4B4A4_UNORM_PACK16:()=>wt,VK_FORMAT_R4G4_UNORM_PACK8:()=>Ht,VK_FORMAT_R5G5B5A1_UNORM_PACK16:()=>X,VK_FORMAT_R5G6B5_UNORM_PACK16:()=>Qt,VK_FORMAT_R64G64B64A64_SFLOAT:()=>jo,VK_FORMAT_R64G64B64A64_SINT:()=>U0,VK_FORMAT_R64G64B64A64_UINT:()=>v0,VK_FORMAT_R64G64B64_SFLOAT:()=>a0,VK_FORMAT_R64G64B64_SINT:()=>Za,VK_FORMAT_R64G64B64_UINT:()=>pa,VK_FORMAT_R64G64_SFLOAT:()=>Na,VK_FORMAT_R64G64_SINT:()=>Da,VK_FORMAT_R64G64_UINT:()=>Ra,VK_FORMAT_R64_SFLOAT:()=>Ba,VK_FORMAT_R64_SINT:()=>W9,VK_FORMAT_R64_UINT:()=>oa,VK_FORMAT_R8G8B8A8_SINT:()=>qa,VK_FORMAT_R8G8B8A8_SNORM:()=>Pn,VK_FORMAT_R8G8B8A8_SRGB:()=>va,VK_FORMAT_R8G8B8A8_UINT:()=>M9,VK_FORMAT_R8G8B8A8_UNORM:()=>$n,VK_FORMAT_R8G8B8_SINT:()=>wn,VK_FORMAT_R8G8B8_SNORM:()=>we,VK_FORMAT_R8G8B8_SRGB:()=>Ke,VK_FORMAT_R8G8B8_UINT:()=>Ii,VK_FORMAT_R8G8B8_UNORM:()=>ke,VK_FORMAT_R8G8_SINT:()=>Mi,VK_FORMAT_R8G8_SNORM:()=>ii,VK_FORMAT_R8G8_SRGB:()=>Pe,VK_FORMAT_R8G8_UINT:()=>re,VK_FORMAT_R8G8_UNORM:()=>Je,VK_FORMAT_R8_SINT:()=>ve,VK_FORMAT_R8_SNORM:()=>Zt,VK_FORMAT_R8_SRGB:()=>Fe,VK_FORMAT_R8_UINT:()=>ue,VK_FORMAT_R8_UNORM:()=>Gt,VK_FORMAT_S8_UINT:()=>po,VK_FORMAT_UNDEFINED:()=>yt,VK_FORMAT_X8_D24_UNORM_PACK32:()=>mo,read:()=>C9,write:()=>su});var f=c("./node_modules/buffer/index.js").Buffer;const M=0,m=1,A=2,p=3,y=0,E=0,v=2,w=0,x=1,b=160,O=161,S=162,R=163,I=0,P=1,L=0,k=1,N=2,$=3,H=4,U=5,W=6,J=7,Q=8,G=9,z=10,j=11,nt=12,tt=13,ht=14,pt=15,gt=16,Tt=17,vt=18,Ot=0,ft=1,St=2,Mt=3,Pt=4,Vt=5,ie=6,jt=7,Wt=8,me=9,Yt=10,pe=11,Qe=0,ni=1,ei=2,Ci=13,ai=14,ti=15,be=128,ye=64,ne=32,Et=16,yt=0,Ht=1,wt=2,xt=3,Qt=4,ut=5,X=6,Z=7,_t=8,Gt=9,Zt=10,ue=13,ve=14,Fe=15,Je=16,ii=17,re=20,Mi=21,Pe=22,ke=23,we=24,Ii=27,wn=28,Ke=29,yn=30,Be=31,En=34,bi=35,on=36,$n=37,Pn=38,M9=41,qa=42,va=43,hr=44,ka=45,Kt=48,le=49,_e=50,Ye=58,Le=59,oi=62,vi=63,an=64,$i=65,si=68,dn=69,An=70,On=71,D9=74,zn=75,Ln=76,u9=77,j9=78,Ia=81,Gi=82,Jn=83,ma=84,p9=85,st=88,mt=89,It=90,$t=91,qt=92,ge=95,Ee=96,di=97,ci=98,Te=99,qe=100,yi=101,zi=102,sn=103,vn=104,Gn=105,Tn=106,_n=107,A9=108,P9=109,oa=110,W9=111,Ba=112,Ra=113,Da=114,Na=115,pa=116,Za=117,a0=118,v0=119,U0=120,jo=121,Wo=122,Ko=123,fo=124,mo=125,vr=126,po=127,fr=128,y9=129,$0=130,nu=131,Ql=132,zl=133,$9=134,Jl=135,jl=136,fp=137,Xo=138,mp=139,pp=140,gp=141,Mp=142,Ap=143,yp=144,vp=145,bp=146,Cp=147,Ep=148,_p=149,wp=150,Op=151,Yd=152,Q1=153,z1=154,J1=155,qd=156,j1=157,W1=158,K1=159,X1=160,Wl=161,xp=162,Sp=163,Tp=164,Ip=165,Bp=166,Rp=167,Dp=168,Pp=169,Lp=170,Zd=171,b0=172,Kl=173,Dr=174,tr=175,Y1=176,Yo=177,Hs=178,Pr=179,fa=180,th=181,kp=182,Np=183,Xl=184,Fp=1000156007,Up=1000156008,$p=1000156009,Gp=1000156010,Hp=1000156011,Vp=1000156017,Qp=1000156018,zp=1000156019,Jp=1000156020,jp=1000156021,Wp=1000054e3,Kp=1000054001,Xp=1000054002,Yp=1000054003,mr=1000054004,Hn=1000054005,qp=1000054006,hi=1000054007,Nn=1000066e3,eh=1000066001,q1=1000066002,Zp=1000066003,Vs=1000066004,Yl=1000066005,Z1=1000066006,t2=1000066007,e2=1000066008,i2=1000066009,n2=1000066010,au=1000066011,t8=1000066012,T9=1000066013,Qs=100034e4,ih=1000340001;class qo{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class zs{constructor(Fn,g9,_9,ee){this._dataView=new DataView(Fn.buffer,Fn.byteOffset+g9,_9),this._littleEndian=ee,this._offset=0}_nextUint8(){const Fn=this._dataView.getUint8(this._offset);return this._offset+=1,Fn}_nextUint16(){const Fn=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,Fn}_nextUint32(){const Fn=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,Fn}_nextUint64(){const Fn=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,Fn}_nextInt32(){const Fn=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,Fn}_skip(Fn){return this._offset+=Fn,this}_scan(Fn,g9=0){const _9=this._offset;let ee=0;for(;this._dataView.getUint8(this._offset)!==g9&&ee<Fn;)ee++,this._offset++;return ee<Fn&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+_9,ee)}}const a2=new Uint8Array([0]),sa=[171,75,84,88,32,50,48,187,13,10,26,10];function ru(rn){return typeof TextEncoder<"u"?new TextEncoder().encode(rn):f.from(rn)}function r2(rn){return typeof TextDecoder<"u"?new TextDecoder().decode(rn):f.from(rn).toString("utf8")}function K9(rn){let Fn=0;for(const ee of rn)Fn+=ee.byteLength;const g9=new Uint8Array(Fn);let _9=0;for(const ee of rn)g9.set(new Uint8Array(ee),_9),_9+=ee.byteLength;return g9}function C9(rn){const Fn=new Uint8Array(rn.buffer,rn.byteOffset,sa.length);if(Fn[0]!==sa[0]||Fn[1]!==sa[1]||Fn[2]!==sa[2]||Fn[3]!==sa[3]||Fn[4]!==sa[4]||Fn[5]!==sa[5]||Fn[6]!==sa[6]||Fn[7]!==sa[7]||Fn[8]!==sa[8]||Fn[9]!==sa[9]||Fn[10]!==sa[10]||Fn[11]!==sa[11])throw new Error("Missing KTX 2.0 identifier.");const g9=new qo,_9=17*Uint32Array.BYTES_PER_ELEMENT,ee=new zs(rn,sa.length,_9,!0);g9.vkFormat=ee._nextUint32(),g9.typeSize=ee._nextUint32(),g9.pixelWidth=ee._nextUint32(),g9.pixelHeight=ee._nextUint32(),g9.pixelDepth=ee._nextUint32(),g9.layerCount=ee._nextUint32(),g9.faceCount=ee._nextUint32();const r0=ee._nextUint32();g9.supercompressionScheme=ee._nextUint32();const ba=ee._nextUint32(),ga=ee._nextUint32(),m9=ee._nextUint32(),br=ee._nextUint32(),go=ee._nextUint64(),Jr=ee._nextUint64(),er=new zs(rn,sa.length+_9,3*r0*8,!0);for(let Qa=0;Qa<r0;Qa++)g9.levels.push({levelData:new Uint8Array(rn.buffer,rn.byteOffset+er._nextUint64(),er._nextUint64()),uncompressedByteLength:er._nextUint64()});const Xn=new zs(rn,ba,ga,!0),pr={vendorId:Xn._skip(4)._nextUint16(),descriptorType:Xn._nextUint16(),versionNumber:Xn._nextUint16(),descriptorBlockSize:Xn._nextUint16(),colorModel:Xn._nextUint8(),colorPrimaries:Xn._nextUint8(),transferFunction:Xn._nextUint8(),flags:Xn._nextUint8(),texelBlockDimension:[Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8()],bytesPlane:[Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8()],samples:[]},o0=(pr.descriptorBlockSize/4-6)/4;for(let Qa=0;Qa<o0;Qa++){const cn={bitOffset:Xn._nextUint16(),bitLength:Xn._nextUint8(),channelType:Xn._nextUint8(),samplePosition:[Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8(),Xn._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&cn.channelType?(cn.sampleLower=Xn._nextInt32(),cn.sampleUpper=Xn._nextInt32()):(cn.sampleLower=Xn._nextUint32(),cn.sampleUpper=Xn._nextUint32()),pr.samples[Qa]=cn}g9.dataFormatDescriptor.length=0,g9.dataFormatDescriptor.push(pr);const ir=new zs(rn,m9,br,!0);for(;ir._offset<br;){const Qa=ir._nextUint32(),cn=ir._scan(Qa),ts=r2(cn),jr=ir._scan(Qa-cn.byteLength);g9.keyValue[ts]=ts.match(/^ktx/i)?r2(jr):jr,ir._offset%4&&ir._skip(4-ir._offset%4)}if(Jr<=0)return g9;const v9=new zs(rn,go,Jr,!0),N9=v9._nextUint16(),Yn=v9._nextUint16(),b9=v9._nextUint32(),Lr=v9._nextUint32(),Js=v9._nextUint32(),Zo=v9._nextUint32(),lu=[];for(let Qa=0;Qa<r0;Qa++)lu.push({imageFlags:v9._nextUint32(),rgbSliceByteOffset:v9._nextUint32(),rgbSliceByteLength:v9._nextUint32(),alphaSliceByteOffset:v9._nextUint32(),alphaSliceByteLength:v9._nextUint32()});const Va=go+v9._offset,C0=Va+b9,cu=C0+Lr,uu=cu+Js,Mo=new Uint8Array(rn.buffer,rn.byteOffset+Va,b9),nh=new Uint8Array(rn.buffer,rn.byteOffset+C0,Lr),du=new Uint8Array(rn.buffer,rn.byteOffset+cu,Js),ah=new Uint8Array(rn.buffer,rn.byteOffset+uu,Zo);return g9.globalData={endpointCount:N9,selectorCount:Yn,imageDescs:lu,endpointsData:Mo,selectorsData:nh,tablesData:du,extendedData:ah},g9}function ou(){return(ou=Object.assign||function(rn){for(var Fn=1;Fn<arguments.length;Fn++){var g9=arguments[Fn];for(var _9 in g9)Object.prototype.hasOwnProperty.call(g9,_9)&&(rn[_9]=g9[_9])}return rn}).apply(this,arguments)}const zr={keepWriter:!1};function su(rn,Fn={}){Fn=ou({},zr,Fn);let g9=new ArrayBuffer(0);if(rn.globalData){const N9=new ArrayBuffer(20+5*rn.globalData.imageDescs.length*4),Yn=new DataView(N9);Yn.setUint16(0,rn.globalData.endpointCount,!0),Yn.setUint16(2,rn.globalData.selectorCount,!0),Yn.setUint32(4,rn.globalData.endpointsData.byteLength,!0),Yn.setUint32(8,rn.globalData.selectorsData.byteLength,!0),Yn.setUint32(12,rn.globalData.tablesData.byteLength,!0),Yn.setUint32(16,rn.globalData.extendedData.byteLength,!0);for(let b9=0;b9<rn.globalData.imageDescs.length;b9++){const Lr=rn.globalData.imageDescs[b9];Yn.setUint32(20+5*b9*4+0,Lr.imageFlags,!0),Yn.setUint32(20+5*b9*4+4,Lr.rgbSliceByteOffset,!0),Yn.setUint32(20+5*b9*4+8,Lr.rgbSliceByteLength,!0),Yn.setUint32(20+5*b9*4+12,Lr.alphaSliceByteOffset,!0),Yn.setUint32(20+5*b9*4+16,Lr.alphaSliceByteLength,!0)}g9=K9([N9,rn.globalData.endpointsData,rn.globalData.selectorsData,rn.globalData.tablesData,rn.globalData.extendedData])}const _9=[];let ee=rn.keyValue;Fn.keepWriter||(ee=ou({},rn.keyValue,{KTXwriter:"KTX-Parse v0.3.1"}));for(const N9 in ee){const Yn=ee[N9],b9=ru(N9),Lr=typeof Yn=="string"?ru(Yn):Yn,Js=b9.byteLength+1+Lr.byteLength+1,Zo=Js%4?4-Js%4:0;_9.push(K9([new Uint32Array([Js]),b9,a2,Lr,a2,new Uint8Array(Zo).fill(0)]))}const r0=K9(_9);if(rn.dataFormatDescriptor.length!==1||rn.dataFormatDescriptor[0].descriptorType!==0)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const ba=rn.dataFormatDescriptor[0],ga=new ArrayBuffer(28+16*ba.samples.length),m9=new DataView(ga),br=24+16*ba.samples.length;if(m9.setUint32(0,ga.byteLength,!0),m9.setUint16(4,ba.vendorId,!0),m9.setUint16(6,ba.descriptorType,!0),m9.setUint16(8,ba.versionNumber,!0),m9.setUint16(10,br,!0),m9.setUint8(12,ba.colorModel),m9.setUint8(13,ba.colorPrimaries),m9.setUint8(14,ba.transferFunction),m9.setUint8(15,ba.flags),!Array.isArray(ba.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");m9.setUint8(16,ba.texelBlockDimension[0]),m9.setUint8(17,ba.texelBlockDimension[1]),m9.setUint8(18,ba.texelBlockDimension[2]),m9.setUint8(19,ba.texelBlockDimension[3]);for(let N9=0;N9<8;N9++)m9.setUint8(20+N9,ba.bytesPlane[N9]);for(let N9=0;N9<ba.samples.length;N9++){const Yn=ba.samples[N9],b9=28+16*N9;if(Yn.channelID)throw new Error("channelID has been renamed to channelType.");m9.setUint16(b9+0,Yn.bitOffset,!0),m9.setUint8(b9+2,Yn.bitLength),m9.setUint8(b9+3,Yn.channelType),m9.setUint8(b9+4,Yn.samplePosition[0]),m9.setUint8(b9+5,Yn.samplePosition[1]),m9.setUint8(b9+6,Yn.samplePosition[2]),m9.setUint8(b9+7,Yn.samplePosition[3]),64&Yn.channelType?(m9.setInt32(b9+8,Yn.sampleLower,!0),m9.setInt32(b9+12,Yn.sampleUpper,!0)):(m9.setUint32(b9+8,Yn.sampleLower,!0),m9.setUint32(b9+12,Yn.sampleUpper,!0))}const go=sa.length+68+3*rn.levels.length*8,Jr=go+ga.byteLength;let er=g9.byteLength>0?Jr+r0.byteLength:0;er%8&&(er+=8-er%8);const Xn=[],pr=new DataView(new ArrayBuffer(3*rn.levels.length*8));let o0=(er||Jr+r0.byteLength)+g9.byteLength;for(let N9=0;N9<rn.levels.length;N9++){const Yn=rn.levels[N9];Xn.push(Yn.levelData),pr.setBigUint64(24*N9+0,BigInt(o0),!0),pr.setBigUint64(24*N9+8,BigInt(Yn.levelData.byteLength),!0),pr.setBigUint64(24*N9+16,BigInt(Yn.uncompressedByteLength),!0),o0+=Yn.levelData.byteLength}const ir=new ArrayBuffer(68),v9=new DataView(ir);return v9.setUint32(0,rn.vkFormat,!0),v9.setUint32(4,rn.typeSize,!0),v9.setUint32(8,rn.pixelWidth,!0),v9.setUint32(12,rn.pixelHeight,!0),v9.setUint32(16,rn.pixelDepth,!0),v9.setUint32(20,rn.layerCount,!0),v9.setUint32(24,rn.faceCount,!0),v9.setUint32(28,rn.levels.length,!0),v9.setUint32(32,rn.supercompressionScheme,!0),v9.setUint32(36,go,!0),v9.setUint32(40,ga.byteLength,!0),v9.setUint32(44,Jr,!0),v9.setUint32(48,r0.byteLength,!0),v9.setBigUint64(52,BigInt(g9.byteLength>0?er:0),!0),v9.setBigUint64(60,BigInt(g9.byteLength),!0),new Uint8Array(K9([new Uint8Array(sa).buffer,ir,pr.buffer,ga,r0,er>0?new ArrayBuffer(er-(Jr+r0.byteLength)):new ArrayBuffer(0),g9,...Xn]))}},"./node_modules/three/examples/jsm/libs/zstddec.module.js":(u,d,c)=>{c.r(d),c.d(d,{ZSTDDecoder:()=>y});var f=c("./node_modules/buffer/index.js").Buffer;let M,m,A;const p={env:{emscripten_notify_memory_growth:function(v){A=new Uint8Array(m.exports.memory.buffer)}}};class y{init(){return M||(M=typeof fetch<"u"?fetch("data:application/wasm;base64,"+E).then(w=>w.arrayBuffer()).then(w=>WebAssembly.instantiate(w,p)).then(this._init):WebAssembly.instantiate(f.from(E,"base64"),p).then(this._init),M)}_init(w){m=w.instance,p.env.emscripten_notify_memory_growth(0)}decode(w,x=0){if(!m)throw new Error("ZSTDDecoder: Await .init() before decoding.");const b=w.byteLength,O=m.exports.malloc(b);A.set(w,O),x=x||Number(m.exports.ZSTD_findDecompressedSize(O,b));const S=m.exports.malloc(x),R=m.exports.ZSTD_decompress(S,x,O,b),I=A.slice(S,S+R);return m.exports.free(O),m.exports.free(S),I}}const E="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"},"./node_modules/three/examples/jsm/lights/LightProbeGenerator.js":(u,d,c)=>{c.r(d),c.d(d,{LightProbeGenerator:()=>M});var f=c("./node_modules/three/build/three.module.js");class M{static fromCubeTexture(p){let y=0;const E=new f.Vector3,v=new f.Vector3,w=new f.Color,x=[0,0,0,0,0,0,0,0,0],b=new f.SphericalHarmonics3,O=b.coefficients;for(let R=0;R<6;R++){const I=p.image[R],P=I.width,L=I.height,k=document.createElement("canvas");k.width=P,k.height=L;const N=k.getContext("2d");N.drawImage(I,0,0,P,L);const $=N.getImageData(0,0,P,L),H=$.data,U=$.width,W=2/U;for(let J=0,Q=H.length;J<Q;J+=4){w.setRGB(H[J]/255,H[J+1]/255,H[J+2]/255),m(w,p.colorSpace);const G=J/4,z=-1+(G%U+.5)*W,j=1-(Math.floor(G/U)+.5)*W;switch(R){case 0:E.set(-1,j,-z);break;case 1:E.set(1,j,z);break;case 2:E.set(-z,1,-j);break;case 3:E.set(-z,-1,j);break;case 4:E.set(-z,j,1);break;case 5:E.set(z,j,-1);break}const nt=E.lengthSq(),tt=4/(Math.sqrt(nt)*nt);y+=tt,v.copy(E).normalize(),f.SphericalHarmonics3.getBasisAt(v,x);for(let ht=0;ht<9;ht++)O[ht].x+=x[ht]*w.r*tt,O[ht].y+=x[ht]*w.g*tt,O[ht].z+=x[ht]*w.b*tt}}const S=4*Math.PI/y;for(let R=0;R<9;R++)O[R].x*=S,O[R].y*=S,O[R].z*=S;return new f.LightProbe(b)}static fromCubeRenderTarget(p,y){let E=0;const v=new f.Vector3,w=new f.Vector3,x=new f.Color,b=[0,0,0,0,0,0,0,0,0],O=new f.SphericalHarmonics3,S=O.coefficients,R=y.texture.type;for(let P=0;P<6;P++){const L=y.width;let k;R===f.HalfFloatType?k=new Uint16Array(L*L*4):k=new Uint8Array(L*L*4),p.readRenderTargetPixels(y,0,0,L,L,k,P);const N=2/L;for(let $=0,H=k.length;$<H;$+=4){let U,W,J;R===f.HalfFloatType?(U=f.DataUtils.fromHalfFloat(k[$]),W=f.DataUtils.fromHalfFloat(k[$+1]),J=f.DataUtils.fromHalfFloat(k[$+2])):(U=k[$]/255,W=k[$+1]/255,J=k[$+2]/255),x.setRGB(U,W,J),m(x,y.texture.colorSpace);const Q=$/4,G=-1+(Q%L+.5)*N,z=1-(Math.floor(Q/L)+.5)*N;switch(P){case 0:v.set(1,z,-G);break;case 1:v.set(-1,z,G);break;case 2:v.set(G,1,-z);break;case 3:v.set(G,-1,z);break;case 4:v.set(G,z,1);break;case 5:v.set(-G,z,-1);break}const j=v.lengthSq(),nt=4/(Math.sqrt(j)*j);E+=nt,w.copy(v).normalize(),f.SphericalHarmonics3.getBasisAt(w,b);for(let tt=0;tt<9;tt++)S[tt].x+=b[tt]*x.r*nt,S[tt].y+=b[tt]*x.g*nt,S[tt].z+=b[tt]*x.b*nt}}const I=4*Math.PI/E;for(let P=0;P<9;P++)S[P].x*=I,S[P].y*=I,S[P].z*=I;return new f.LightProbe(O)}}function m(A,p){switch(p){case f.SRGBColorSpace:A.convertSRGBToLinear();break;case f.LinearSRGBColorSpace:case f.NoColorSpace:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported color space.");break}return A}},"./node_modules/three/examples/jsm/loaders/DRACOLoader.js":(u,d,c)=>{c.r(d),c.d(d,{DRACOLoader:()=>m});var f=c("./node_modules/three/build/three.module.js");const M=new WeakMap;class m extends f.Loader{constructor(y){super(y),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(y){return this.decoderPath=y,this}setDecoderConfig(y){return this.decoderConfig=y,this}setWorkerLimit(y){return this.workerLimit=y,this}load(y,E,v,w){const x=new f.FileLoader(this.manager);x.setPath(this.path),x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(y,b=>{this.parse(b,E,w)},v,w)}parse(y,E,v=()=>{}){this.decodeDracoFile(y,E,null,null,f.SRGBColorSpace).catch(v)}decodeDracoFile(y,E,v,w,x=f.LinearSRGBColorSpace,b=()=>{}){const O={attributeIDs:v||this.defaultAttributeIDs,attributeTypes:w||this.defaultAttributeTypes,useUniqueIDs:!!v,vertexColorSpace:x};return this.decodeGeometry(y,O).then(E).catch(b)}decodeGeometry(y,E){const v=JSON.stringify(E);if(M.has(y)){const S=M.get(y);if(S.key===v)return S.promise;if(y.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let w;const x=this.workerNextTaskID++,b=y.byteLength,O=this._getWorker(x,b).then(S=>(w=S,new Promise((R,I)=>{w._callbacks[x]={resolve:R,reject:I},w.postMessage({type:"decode",id:x,taskConfig:E,buffer:y},[y])}))).then(S=>this._createGeometry(S.geometry));return O.catch(()=>!0).then(()=>{w&&x&&this._releaseTask(w,x)}),M.set(y,{key:v,promise:O}),O}_createGeometry(y){const E=new f.BufferGeometry;y.index&&E.setIndex(new f.BufferAttribute(y.index.array,1));for(let v=0;v<y.attributes.length;v++){const w=y.attributes[v],x=w.name,b=w.array,O=w.itemSize,S=new f.BufferAttribute(b,O);x==="color"&&(this._assignVertexColorSpace(S,w.vertexColorSpace),S.normalized=!(b instanceof Float32Array)),E.setAttribute(x,S)}return E}_assignVertexColorSpace(y,E){if(E!==f.SRGBColorSpace)return;const v=new f.Color;for(let w=0,x=y.count;w<x;w++)v.fromBufferAttribute(y,w).convertSRGBToLinear(),y.setXYZ(w,v.r,v.g,v.b)}_loadLibrary(y,E){const v=new f.FileLoader(this.manager);return v.setPath(this.decoderPath),v.setResponseType(E),v.setWithCredentials(this.withCredentials),new Promise((w,x)=>{v.load(y,w,void 0,x)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const y=typeof WebAssembly!="object"||this.decoderConfig.type==="js",E=[];return y?E.push(this._loadLibrary("draco_decoder.js","text")):(E.push(this._loadLibrary("draco_wasm_wrapper.js","text")),E.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(E).then(v=>{const w=v[0];y||(this.decoderConfig.wasmBinary=v[1]);const x=A.toString(),b=["/* draco decoder */",w,"","/* worker */",x.substring(x.indexOf("{")+1,x.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([b]))}),this.decoderPending}_getWorker(y,E){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const w=new Worker(this.workerSourceURL);w._callbacks={},w._taskCosts={},w._taskLoad=0,w.postMessage({type:"init",decoderConfig:this.decoderConfig}),w.onmessage=function(x){const b=x.data;switch(b.type){case"decode":w._callbacks[b.id].resolve(b);break;case"error":w._callbacks[b.id].reject(b);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+b.type+'"')}},this.workerPool.push(w)}else this.workerPool.sort(function(w,x){return w._taskLoad>x._taskLoad?-1:1});const v=this.workerPool[this.workerPool.length-1];return v._taskCosts[y]=E,v._taskLoad+=E,v})}_releaseTask(y,E){y._taskLoad-=y._taskCosts[E],delete y._callbacks[E],delete y._taskCosts[E]}debug(){console.log("Task load: ",this.workerPool.map(y=>y._taskLoad))}dispose(){for(let y=0;y<this.workerPool.length;++y)this.workerPool[y].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function A(){let p,y;onmessage=function(b){const O=b.data;switch(O.type){case"init":p=O.decoderConfig,y=new Promise(function(I){p.onModuleLoaded=function(P){I({draco:P})},DracoDecoderModule(p)});break;case"decode":const S=O.buffer,R=O.taskConfig;y.then(I=>{const P=I.draco,L=new P.Decoder;try{const k=E(P,L,new Int8Array(S),R),N=k.attributes.map($=>$.array.buffer);k.index&&N.push(k.index.array.buffer),self.postMessage({type:"decode",id:O.id,geometry:k},N)}catch(k){console.error(k),self.postMessage({type:"error",id:O.id,error:k.message})}finally{P.destroy(L)}});break}};function E(b,O,S,R){const I=R.attributeIDs,P=R.attributeTypes;let L,k;const N=O.GetEncodedGeometryType(S);if(N===b.TRIANGULAR_MESH)L=new b.Mesh,k=O.DecodeArrayToMesh(S,S.byteLength,L);else if(N===b.POINT_CLOUD)L=new b.PointCloud,k=O.DecodeArrayToPointCloud(S,S.byteLength,L);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!k.ok()||L.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+k.error_msg());const $={index:null,attributes:[]};for(const H in I){const U=self[P[H]];let W,J;if(R.useUniqueIDs)J=I[H],W=O.GetAttributeByUniqueId(L,J);else{if(J=O.GetAttributeId(L,b[I[H]]),J===-1)continue;W=O.GetAttribute(L,J)}const Q=w(b,O,L,H,U,W);H==="color"&&(Q.vertexColorSpace=R.vertexColorSpace),$.attributes.push(Q)}return N===b.TRIANGULAR_MESH&&($.index=v(b,O,L)),b.destroy(L),$}function v(b,O,S){const I=S.num_faces()*3,P=I*4,L=b._malloc(P);O.GetTrianglesUInt32Array(S,P,L);const k=new Uint32Array(b.HEAPF32.buffer,L,I).slice();return b._free(L),{array:k,itemSize:1}}function w(b,O,S,R,I,P){const L=P.num_components(),N=S.num_points()*L,$=N*I.BYTES_PER_ELEMENT,H=x(b,I),U=b._malloc($);O.GetAttributeDataArrayForAllPoints(S,P,H,$,U);const W=new I(b.HEAPF32.buffer,U,N).slice();return b._free(U),{name:R,array:W,itemSize:L}}function x(b,O){switch(O){case Float32Array:return b.DT_FLOAT32;case Int8Array:return b.DT_INT8;case Int16Array:return b.DT_INT16;case Int32Array:return b.DT_INT32;case Uint8Array:return b.DT_UINT8;case Uint16Array:return b.DT_UINT16;case Uint32Array:return b.DT_UINT32}}}},"./node_modules/three/examples/jsm/loaders/GLTFLoader.js":(u,d,c)=>{c.r(d),c.d(d,{GLTFLoader:()=>m});var f=c("./node_modules/three/build/three.module.js"),M=c("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js");class m extends f.Loader{constructor(Et){super(Et),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(yt){return new w(yt)}),this.register(function(yt){return new x(yt)}),this.register(function(yt){return new N(yt)}),this.register(function(yt){return new $(yt)}),this.register(function(yt){return new H(yt)}),this.register(function(yt){return new O(yt)}),this.register(function(yt){return new S(yt)}),this.register(function(yt){return new R(yt)}),this.register(function(yt){return new I(yt)}),this.register(function(yt){return new v(yt)}),this.register(function(yt){return new P(yt)}),this.register(function(yt){return new b(yt)}),this.register(function(yt){return new k(yt)}),this.register(function(yt){return new L(yt)}),this.register(function(yt){return new y(yt)}),this.register(function(yt){return new U(yt)}),this.register(function(yt){return new W(yt)})}load(Et,yt,Ht,wt){const xt=this;let Qt;if(this.resourcePath!=="")Qt=this.resourcePath;else if(this.path!==""){const Z=f.LoaderUtils.extractUrlBase(Et);Qt=f.LoaderUtils.resolveURL(Z,this.path)}else Qt=f.LoaderUtils.extractUrlBase(Et);this.manager.itemStart(Et);const ut=function(Z){wt?wt(Z):console.error(Z),xt.manager.itemError(Et),xt.manager.itemEnd(Et)},X=new f.FileLoader(this.manager);X.setPath(this.path),X.setResponseType("arraybuffer"),X.setRequestHeader(this.requestHeader),X.setWithCredentials(this.withCredentials),X.load(Et,function(Z){try{xt.parse(Z,Qt,function(_t){yt(_t),xt.manager.itemEnd(Et)},ut)}catch(_t){ut(_t)}},Ht,ut)}setDRACOLoader(Et){return this.dracoLoader=Et,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(Et){return this.ktx2Loader=Et,this}setMeshoptDecoder(Et){return this.meshoptDecoder=Et,this}register(Et){return this.pluginCallbacks.indexOf(Et)===-1&&this.pluginCallbacks.push(Et),this}unregister(Et){return this.pluginCallbacks.indexOf(Et)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(Et),1),this}parse(Et,yt,Ht,wt){let xt;const Qt={},ut={},X=new TextDecoder;if(typeof Et=="string")xt=JSON.parse(Et);else if(Et instanceof ArrayBuffer)if(X.decode(new Uint8Array(Et,0,4))===J){try{Qt[p.KHR_BINARY_GLTF]=new z(Et)}catch(Gt){wt&&wt(Gt);return}xt=JSON.parse(Qt[p.KHR_BINARY_GLTF].content)}else xt=JSON.parse(X.decode(Et));else xt=Et;if(xt.asset===void 0||xt.asset.version[0]<2){wt&&wt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const Z=new ti(xt,{path:yt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Z.fileLoader.setRequestHeader(this.requestHeader);for(let _t=0;_t<this.pluginCallbacks.length;_t++){const Gt=this.pluginCallbacks[_t](Z);Gt.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),ut[Gt.name]=Gt,Qt[Gt.name]=!0}if(xt.extensionsUsed)for(let _t=0;_t<xt.extensionsUsed.length;++_t){const Gt=xt.extensionsUsed[_t],Zt=xt.extensionsRequired||[];switch(Gt){case p.KHR_MATERIALS_UNLIT:Qt[Gt]=new E;break;case p.KHR_DRACO_MESH_COMPRESSION:Qt[Gt]=new j(xt,this.dracoLoader);break;case p.KHR_TEXTURE_TRANSFORM:Qt[Gt]=new nt;break;case p.KHR_MESH_QUANTIZATION:Qt[Gt]=new tt;break;default:Zt.indexOf(Gt)>=0&&ut[Gt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+Gt+'".')}}Z.setExtensions(Qt),Z.setPlugins(ut),Z.parse(Ht,wt)}parseAsync(Et,yt){const Ht=this;return new Promise(function(wt,xt){Ht.parse(Et,yt,wt,xt)})}}function A(){let ne={};return{get:function(Et){return ne[Et]},add:function(Et,yt){ne[Et]=yt},remove:function(Et){delete ne[Et]},removeAll:function(){ne={}}}}const p={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class y{constructor(Et){this.parser=Et,this.name=p.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const Et=this.parser,yt=this.parser.json.nodes||[];for(let Ht=0,wt=yt.length;Ht<wt;Ht++){const xt=yt[Ht];xt.extensions&&xt.extensions[this.name]&&xt.extensions[this.name].light!==void 0&&Et._addNodeRef(this.cache,xt.extensions[this.name].light)}}_loadLight(Et){const yt=this.parser,Ht="light:"+Et;let wt=yt.cache.get(Ht);if(wt)return wt;const xt=yt.json,X=((xt.extensions&&xt.extensions[this.name]||{}).lights||[])[Et];let Z;const _t=new f.Color(16777215);X.color!==void 0&&_t.setRGB(X.color[0],X.color[1],X.color[2],f.LinearSRGBColorSpace);const Gt=X.range!==void 0?X.range:0;switch(X.type){case"directional":Z=new f.DirectionalLight(_t),Z.target.position.set(0,0,-1),Z.add(Z.target);break;case"point":Z=new f.PointLight(_t),Z.distance=Gt;break;case"spot":Z=new f.SpotLight(_t),Z.distance=Gt,X.spot=X.spot||{},X.spot.innerConeAngle=X.spot.innerConeAngle!==void 0?X.spot.innerConeAngle:0,X.spot.outerConeAngle=X.spot.outerConeAngle!==void 0?X.spot.outerConeAngle:Math.PI/4,Z.angle=X.spot.outerConeAngle,Z.penumbra=1-X.spot.innerConeAngle/X.spot.outerConeAngle,Z.target.position.set(0,0,-1),Z.add(Z.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+X.type)}return Z.position.set(0,0,0),Z.decay=2,me(Z,X),X.intensity!==void 0&&(Z.intensity=X.intensity),Z.name=yt.createUniqueName(X.name||"light_"+Et),wt=Promise.resolve(Z),yt.cache.add(Ht,wt),wt}getDependency(Et,yt){if(Et==="light")return this._loadLight(yt)}createNodeAttachment(Et){const yt=this,Ht=this.parser,xt=Ht.json.nodes[Et],ut=(xt.extensions&&xt.extensions[this.name]||{}).light;return ut===void 0?null:this._loadLight(ut).then(function(X){return Ht._getNodeRef(yt.cache,ut,X)})}}class E{constructor(){this.name=p.KHR_MATERIALS_UNLIT}getMaterialType(){return f.MeshBasicMaterial}extendParams(Et,yt,Ht){const wt=[];Et.color=new f.Color(1,1,1),Et.opacity=1;const xt=yt.pbrMetallicRoughness;if(xt){if(Array.isArray(xt.baseColorFactor)){const Qt=xt.baseColorFactor;Et.color.setRGB(Qt[0],Qt[1],Qt[2],f.LinearSRGBColorSpace),Et.opacity=Qt[3]}xt.baseColorTexture!==void 0&&wt.push(Ht.assignTexture(Et,"map",xt.baseColorTexture,f.SRGBColorSpace))}return Promise.all(wt)}}class v{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(Et,yt){const wt=this.parser.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=wt.extensions[this.name].emissiveStrength;return xt!==void 0&&(yt.emissiveIntensity=xt),Promise.resolve()}}class w{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_CLEARCOAT}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[],Qt=wt.extensions[this.name];if(Qt.clearcoatFactor!==void 0&&(yt.clearcoat=Qt.clearcoatFactor),Qt.clearcoatTexture!==void 0&&xt.push(Ht.assignTexture(yt,"clearcoatMap",Qt.clearcoatTexture)),Qt.clearcoatRoughnessFactor!==void 0&&(yt.clearcoatRoughness=Qt.clearcoatRoughnessFactor),Qt.clearcoatRoughnessTexture!==void 0&&xt.push(Ht.assignTexture(yt,"clearcoatRoughnessMap",Qt.clearcoatRoughnessTexture)),Qt.clearcoatNormalTexture!==void 0&&(xt.push(Ht.assignTexture(yt,"clearcoatNormalMap",Qt.clearcoatNormalTexture)),Qt.clearcoatNormalTexture.scale!==void 0)){const ut=Qt.clearcoatNormalTexture.scale;yt.clearcoatNormalScale=new f.Vector2(ut,ut)}return Promise.all(xt)}}class x{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_DISPERSION}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const wt=this.parser.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=wt.extensions[this.name];return yt.dispersion=xt.dispersion!==void 0?xt.dispersion:0,Promise.resolve()}}class b{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_IRIDESCENCE}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[],Qt=wt.extensions[this.name];return Qt.iridescenceFactor!==void 0&&(yt.iridescence=Qt.iridescenceFactor),Qt.iridescenceTexture!==void 0&&xt.push(Ht.assignTexture(yt,"iridescenceMap",Qt.iridescenceTexture)),Qt.iridescenceIor!==void 0&&(yt.iridescenceIOR=Qt.iridescenceIor),yt.iridescenceThicknessRange===void 0&&(yt.iridescenceThicknessRange=[100,400]),Qt.iridescenceThicknessMinimum!==void 0&&(yt.iridescenceThicknessRange[0]=Qt.iridescenceThicknessMinimum),Qt.iridescenceThicknessMaximum!==void 0&&(yt.iridescenceThicknessRange[1]=Qt.iridescenceThicknessMaximum),Qt.iridescenceThicknessTexture!==void 0&&xt.push(Ht.assignTexture(yt,"iridescenceThicknessMap",Qt.iridescenceThicknessTexture)),Promise.all(xt)}}class O{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_SHEEN}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[];yt.sheenColor=new f.Color(0,0,0),yt.sheenRoughness=0,yt.sheen=1;const Qt=wt.extensions[this.name];if(Qt.sheenColorFactor!==void 0){const ut=Qt.sheenColorFactor;yt.sheenColor.setRGB(ut[0],ut[1],ut[2],f.LinearSRGBColorSpace)}return Qt.sheenRoughnessFactor!==void 0&&(yt.sheenRoughness=Qt.sheenRoughnessFactor),Qt.sheenColorTexture!==void 0&&xt.push(Ht.assignTexture(yt,"sheenColorMap",Qt.sheenColorTexture,f.SRGBColorSpace)),Qt.sheenRoughnessTexture!==void 0&&xt.push(Ht.assignTexture(yt,"sheenRoughnessMap",Qt.sheenRoughnessTexture)),Promise.all(xt)}}class S{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_TRANSMISSION}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[],Qt=wt.extensions[this.name];return Qt.transmissionFactor!==void 0&&(yt.transmission=Qt.transmissionFactor),Qt.transmissionTexture!==void 0&&xt.push(Ht.assignTexture(yt,"transmissionMap",Qt.transmissionTexture)),Promise.all(xt)}}class R{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_VOLUME}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[],Qt=wt.extensions[this.name];yt.thickness=Qt.thicknessFactor!==void 0?Qt.thicknessFactor:0,Qt.thicknessTexture!==void 0&&xt.push(Ht.assignTexture(yt,"thicknessMap",Qt.thicknessTexture)),yt.attenuationDistance=Qt.attenuationDistance||1/0;const ut=Qt.attenuationColor||[1,1,1];return yt.attenuationColor=new f.Color().setRGB(ut[0],ut[1],ut[2],f.LinearSRGBColorSpace),Promise.all(xt)}}class I{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_IOR}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const wt=this.parser.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=wt.extensions[this.name];return yt.ior=xt.ior!==void 0?xt.ior:1.5,Promise.resolve()}}class P{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_SPECULAR}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[],Qt=wt.extensions[this.name];yt.specularIntensity=Qt.specularFactor!==void 0?Qt.specularFactor:1,Qt.specularTexture!==void 0&&xt.push(Ht.assignTexture(yt,"specularIntensityMap",Qt.specularTexture));const ut=Qt.specularColorFactor||[1,1,1];return yt.specularColor=new f.Color().setRGB(ut[0],ut[1],ut[2],f.LinearSRGBColorSpace),Qt.specularColorTexture!==void 0&&xt.push(Ht.assignTexture(yt,"specularColorMap",Qt.specularColorTexture,f.SRGBColorSpace)),Promise.all(xt)}}class L{constructor(Et){this.parser=Et,this.name=p.EXT_MATERIALS_BUMP}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[],Qt=wt.extensions[this.name];return yt.bumpScale=Qt.bumpFactor!==void 0?Qt.bumpFactor:1,Qt.bumpTexture!==void 0&&xt.push(Ht.assignTexture(yt,"bumpMap",Qt.bumpTexture)),Promise.all(xt)}}class k{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_ANISOTROPY}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:f.MeshPhysicalMaterial}extendMaterialParams(Et,yt){const Ht=this.parser,wt=Ht.json.materials[Et];if(!wt.extensions||!wt.extensions[this.name])return Promise.resolve();const xt=[],Qt=wt.extensions[this.name];return Qt.anisotropyStrength!==void 0&&(yt.anisotropy=Qt.anisotropyStrength),Qt.anisotropyRotation!==void 0&&(yt.anisotropyRotation=Qt.anisotropyRotation),Qt.anisotropyTexture!==void 0&&xt.push(Ht.assignTexture(yt,"anisotropyMap",Qt.anisotropyTexture)),Promise.all(xt)}}class N{constructor(Et){this.parser=Et,this.name=p.KHR_TEXTURE_BASISU}loadTexture(Et){const yt=this.parser,Ht=yt.json,wt=Ht.textures[Et];if(!wt.extensions||!wt.extensions[this.name])return null;const xt=wt.extensions[this.name],Qt=yt.options.ktx2Loader;if(!Qt){if(Ht.extensionsRequired&&Ht.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return yt.loadTextureImage(Et,xt.source,Qt)}}class ${constructor(Et){this.parser=Et,this.name=p.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(Et){const yt=this.name,Ht=this.parser,wt=Ht.json,xt=wt.textures[Et];if(!xt.extensions||!xt.extensions[yt])return null;const Qt=xt.extensions[yt],ut=wt.images[Qt.source];let X=Ht.textureLoader;if(ut.uri){const Z=Ht.options.manager.getHandler(ut.uri);Z!==null&&(X=Z)}return this.detectSupport().then(function(Z){if(Z)return Ht.loadTextureImage(Et,Qt.source,X);if(wt.extensionsRequired&&wt.extensionsRequired.indexOf(yt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return Ht.loadTexture(Et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(Et){const yt=new Image;yt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",yt.onload=yt.onerror=function(){Et(yt.height===1)}})),this.isSupported}}class H{constructor(Et){this.parser=Et,this.name=p.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(Et){const yt=this.name,Ht=this.parser,wt=Ht.json,xt=wt.textures[Et];if(!xt.extensions||!xt.extensions[yt])return null;const Qt=xt.extensions[yt],ut=wt.images[Qt.source];let X=Ht.textureLoader;if(ut.uri){const Z=Ht.options.manager.getHandler(ut.uri);Z!==null&&(X=Z)}return this.detectSupport().then(function(Z){if(Z)return Ht.loadTextureImage(Et,Qt.source,X);if(wt.extensionsRequired&&wt.extensionsRequired.indexOf(yt)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return Ht.loadTexture(Et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(Et){const yt=new Image;yt.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",yt.onload=yt.onerror=function(){Et(yt.height===1)}})),this.isSupported}}class U{constructor(Et){this.name=p.EXT_MESHOPT_COMPRESSION,this.parser=Et}loadBufferView(Et){const yt=this.parser.json,Ht=yt.bufferViews[Et];if(Ht.extensions&&Ht.extensions[this.name]){const wt=Ht.extensions[this.name],xt=this.parser.getDependency("buffer",wt.buffer),Qt=this.parser.options.meshoptDecoder;if(!Qt||!Qt.supported){if(yt.extensionsRequired&&yt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return xt.then(function(ut){const X=wt.byteOffset||0,Z=wt.byteLength||0,_t=wt.count,Gt=wt.byteStride,Zt=new Uint8Array(ut,X,Z);return Qt.decodeGltfBufferAsync?Qt.decodeGltfBufferAsync(_t,Gt,Zt,wt.mode,wt.filter).then(function(ue){return ue.buffer}):Qt.ready.then(function(){const ue=new ArrayBuffer(_t*Gt);return Qt.decodeGltfBuffer(new Uint8Array(ue),_t,Gt,Zt,wt.mode,wt.filter),ue})})}else return null}}class W{constructor(Et){this.name=p.EXT_MESH_GPU_INSTANCING,this.parser=Et}createNodeMesh(Et){const yt=this.parser.json,Ht=yt.nodes[Et];if(!Ht.extensions||!Ht.extensions[this.name]||Ht.mesh===void 0)return null;const wt=yt.meshes[Ht.mesh];for(const Z of wt.primitives)if(Z.mode!==Tt.TRIANGLES&&Z.mode!==Tt.TRIANGLE_STRIP&&Z.mode!==Tt.TRIANGLE_FAN&&Z.mode!==void 0)return null;const Qt=Ht.extensions[this.name].attributes,ut=[],X={};for(const Z in Qt)ut.push(this.parser.getDependency("accessor",Qt[Z]).then(_t=>(X[Z]=_t,X[Z])));return ut.length<1?null:(ut.push(this.parser.createNodeMesh(Et)),Promise.all(ut).then(Z=>{const _t=Z.pop(),Gt=_t.isGroup?_t.children:[_t],Zt=Z[0].count,ue=[];for(const ve of Gt){const Fe=new f.Matrix4,Je=new f.Vector3,ii=new f.Quaternion,re=new f.Vector3(1,1,1),Mi=new f.InstancedMesh(ve.geometry,ve.material,Zt);for(let Pe=0;Pe<Zt;Pe++)X.TRANSLATION&&Je.fromBufferAttribute(X.TRANSLATION,Pe),X.ROTATION&&ii.fromBufferAttribute(X.ROTATION,Pe),X.SCALE&&re.fromBufferAttribute(X.SCALE,Pe),Mi.setMatrixAt(Pe,Fe.compose(Je,ii,re));for(const Pe in X)if(Pe==="_COLOR_0"){const ke=X[Pe];Mi.instanceColor=new f.InstancedBufferAttribute(ke.array,ke.itemSize,ke.normalized)}else Pe!=="TRANSLATION"&&Pe!=="ROTATION"&&Pe!=="SCALE"&&ve.geometry.setAttribute(Pe,X[Pe]);f.Object3D.prototype.copy.call(Mi,ve),this.parser.assignFinalMaterial(Mi),ue.push(Mi)}return _t.isGroup?(_t.clear(),_t.add(...ue),_t):ue[0]}))}}const J="glTF",Q=12,G={JSON:1313821514,BIN:5130562};class z{constructor(Et){this.name=p.KHR_BINARY_GLTF,this.content=null,this.body=null;const yt=new DataView(Et,0,Q),Ht=new TextDecoder;if(this.header={magic:Ht.decode(new Uint8Array(Et.slice(0,4))),version:yt.getUint32(4,!0),length:yt.getUint32(8,!0)},this.header.magic!==J)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const wt=this.header.length-Q,xt=new DataView(Et,Q);let Qt=0;for(;Qt<wt;){const ut=xt.getUint32(Qt,!0);Qt+=4;const X=xt.getUint32(Qt,!0);if(Qt+=4,X===G.JSON){const Z=new Uint8Array(Et,Q+Qt,ut);this.content=Ht.decode(Z)}else if(X===G.BIN){const Z=Q+Qt;this.body=Et.slice(Z,Z+ut)}Qt+=ut}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class j{constructor(Et,yt){if(!yt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=p.KHR_DRACO_MESH_COMPRESSION,this.json=Et,this.dracoLoader=yt,this.dracoLoader.preload()}decodePrimitive(Et,yt){const Ht=this.json,wt=this.dracoLoader,xt=Et.extensions[this.name].bufferView,Qt=Et.extensions[this.name].attributes,ut={},X={},Z={};for(const _t in Qt){const Gt=Mt[_t]||_t.toLowerCase();ut[Gt]=Qt[_t]}for(const _t in Et.attributes){const Gt=Mt[_t]||_t.toLowerCase();if(Qt[_t]!==void 0){const Zt=Ht.accessors[Et.attributes[_t]],ue=vt[Zt.componentType];Z[Gt]=ue.name,X[Gt]=Zt.normalized===!0}}return yt.getDependency("bufferView",xt).then(function(_t){return new Promise(function(Gt,Zt){wt.decodeDracoFile(_t,function(ue){for(const ve in ue.attributes){const Fe=ue.attributes[ve],Je=X[ve];Je!==void 0&&(Fe.normalized=Je)}Gt(ue)},ut,Z,f.LinearSRGBColorSpace,Zt)})})}}class nt{constructor(){this.name=p.KHR_TEXTURE_TRANSFORM}extendTexture(Et,yt){return(yt.texCoord===void 0||yt.texCoord===Et.channel)&&yt.offset===void 0&&yt.rotation===void 0&&yt.scale===void 0||(Et=Et.clone(),yt.texCoord!==void 0&&(Et.channel=yt.texCoord),yt.offset!==void 0&&Et.offset.fromArray(yt.offset),yt.rotation!==void 0&&(Et.rotation=yt.rotation),yt.scale!==void 0&&Et.repeat.fromArray(yt.scale),Et.needsUpdate=!0),Et}}class tt{constructor(){this.name=p.KHR_MESH_QUANTIZATION}}class ht extends f.Interpolant{constructor(Et,yt,Ht,wt){super(Et,yt,Ht,wt)}copySampleValue_(Et){const yt=this.resultBuffer,Ht=this.sampleValues,wt=this.valueSize,xt=Et*wt*3+wt;for(let Qt=0;Qt!==wt;Qt++)yt[Qt]=Ht[xt+Qt];return yt}interpolate_(Et,yt,Ht,wt){const xt=this.resultBuffer,Qt=this.sampleValues,ut=this.valueSize,X=ut*2,Z=ut*3,_t=wt-yt,Gt=(Ht-yt)/_t,Zt=Gt*Gt,ue=Zt*Gt,ve=Et*Z,Fe=ve-Z,Je=-2*ue+3*Zt,ii=ue-Zt,re=1-Je,Mi=ii-Zt+Gt;for(let Pe=0;Pe!==ut;Pe++){const ke=Qt[Fe+Pe+ut],we=Qt[Fe+Pe+X]*_t,Ii=Qt[ve+Pe+ut],wn=Qt[ve+Pe]*_t;xt[Pe]=re*ke+Mi*we+Je*Ii+ii*wn}return xt}}const pt=new f.Quaternion;class gt extends ht{interpolate_(Et,yt,Ht,wt){const xt=super.interpolate_(Et,yt,Ht,wt);return pt.fromArray(xt).normalize().toArray(xt),xt}}const Tt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},vt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ot={9728:f.NearestFilter,9729:f.LinearFilter,9984:f.NearestMipmapNearestFilter,9985:f.LinearMipmapNearestFilter,9986:f.NearestMipmapLinearFilter,9987:f.LinearMipmapLinearFilter},ft={33071:f.ClampToEdgeWrapping,33648:f.MirroredRepeatWrapping,10497:f.RepeatWrapping},St={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Mt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Pt={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Vt={CUBICSPLINE:void 0,LINEAR:f.InterpolateLinear,STEP:f.InterpolateDiscrete},ie={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function jt(ne){return ne.DefaultMaterial===void 0&&(ne.DefaultMaterial=new f.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:f.FrontSide})),ne.DefaultMaterial}function Wt(ne,Et,yt){for(const Ht in yt.extensions)ne[Ht]===void 0&&(Et.userData.gltfExtensions=Et.userData.gltfExtensions||{},Et.userData.gltfExtensions[Ht]=yt.extensions[Ht])}function me(ne,Et){Et.extras!==void 0&&(typeof Et.extras=="object"?Object.assign(ne.userData,Et.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+Et.extras))}function Yt(ne,Et,yt){let Ht=!1,wt=!1,xt=!1;for(let Z=0,_t=Et.length;Z<_t;Z++){const Gt=Et[Z];if(Gt.POSITION!==void 0&&(Ht=!0),Gt.NORMAL!==void 0&&(wt=!0),Gt.COLOR_0!==void 0&&(xt=!0),Ht&&wt&&xt)break}if(!Ht&&!wt&&!xt)return Promise.resolve(ne);const Qt=[],ut=[],X=[];for(let Z=0,_t=Et.length;Z<_t;Z++){const Gt=Et[Z];if(Ht){const Zt=Gt.POSITION!==void 0?yt.getDependency("accessor",Gt.POSITION):ne.attributes.position;Qt.push(Zt)}if(wt){const Zt=Gt.NORMAL!==void 0?yt.getDependency("accessor",Gt.NORMAL):ne.attributes.normal;ut.push(Zt)}if(xt){const Zt=Gt.COLOR_0!==void 0?yt.getDependency("accessor",Gt.COLOR_0):ne.attributes.color;X.push(Zt)}}return Promise.all([Promise.all(Qt),Promise.all(ut),Promise.all(X)]).then(function(Z){const _t=Z[0],Gt=Z[1],Zt=Z[2];return Ht&&(ne.morphAttributes.position=_t),wt&&(ne.morphAttributes.normal=Gt),xt&&(ne.morphAttributes.color=Zt),ne.morphTargetsRelative=!0,ne})}function pe(ne,Et){if(ne.updateMorphTargets(),Et.weights!==void 0)for(let yt=0,Ht=Et.weights.length;yt<Ht;yt++)ne.morphTargetInfluences[yt]=Et.weights[yt];if(Et.extras&&Array.isArray(Et.extras.targetNames)){const yt=Et.extras.targetNames;if(ne.morphTargetInfluences.length===yt.length){ne.morphTargetDictionary={};for(let Ht=0,wt=yt.length;Ht<wt;Ht++)ne.morphTargetDictionary[yt[Ht]]=Ht}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Qe(ne){let Et;const yt=ne.extensions&&ne.extensions[p.KHR_DRACO_MESH_COMPRESSION];if(yt?Et="draco:"+yt.bufferView+":"+yt.indices+":"+ni(yt.attributes):Et=ne.indices+":"+ni(ne.attributes)+":"+ne.mode,ne.targets!==void 0)for(let Ht=0,wt=ne.targets.length;Ht<wt;Ht++)Et+=":"+ni(ne.targets[Ht]);return Et}function ni(ne){let Et="";const yt=Object.keys(ne).sort();for(let Ht=0,wt=yt.length;Ht<wt;Ht++)Et+=yt[Ht]+":"+ne[yt[Ht]]+";";return Et}function ei(ne){switch(ne){case Int8Array:return .007874015748031496;case Uint8Array:return .00392156862745098;case Int16Array:return 3051850947599719e-20;case Uint16Array:return 15259021896696422e-21;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ci(ne){return ne.search(/\.jpe?g($|\?)/i)>0||ne.search(/^data\:image\/jpeg/)===0?"image/jpeg":ne.search(/\.webp($|\?)/i)>0||ne.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ai=new f.Matrix4;class ti{constructor(Et={},yt={}){this.json=Et,this.extensions={},this.plugins={},this.options=yt,this.cache=new A,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let Ht=!1,wt=!1,xt=-1;typeof navigator<"u"&&(Ht=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,wt=navigator.userAgent.indexOf("Firefox")>-1,xt=wt?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||Ht||wt&&xt<98?this.textureLoader=new f.TextureLoader(this.options.manager):this.textureLoader=new f.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new f.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(Et){this.extensions=Et}setPlugins(Et){this.plugins=Et}parse(Et,yt){const Ht=this,wt=this.json,xt=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(Qt){return Qt._markDefs&&Qt._markDefs()}),Promise.all(this._invokeAll(function(Qt){return Qt.beforeRoot&&Qt.beforeRoot()})).then(function(){return Promise.all([Ht.getDependencies("scene"),Ht.getDependencies("animation"),Ht.getDependencies("camera")])}).then(function(Qt){const ut={scene:Qt[0][wt.scene||0],scenes:Qt[0],animations:Qt[1],cameras:Qt[2],asset:wt.asset,parser:Ht,userData:{}};return Wt(xt,ut,wt),me(ut,wt),Promise.all(Ht._invokeAll(function(X){return X.afterRoot&&X.afterRoot(ut)})).then(function(){for(const X of ut.scenes)X.updateMatrixWorld();Et(ut)})}).catch(yt)}_markDefs(){const Et=this.json.nodes||[],yt=this.json.skins||[],Ht=this.json.meshes||[];for(let wt=0,xt=yt.length;wt<xt;wt++){const Qt=yt[wt].joints;for(let ut=0,X=Qt.length;ut<X;ut++)Et[Qt[ut]].isBone=!0}for(let wt=0,xt=Et.length;wt<xt;wt++){const Qt=Et[wt];Qt.mesh!==void 0&&(this._addNodeRef(this.meshCache,Qt.mesh),Qt.skin!==void 0&&(Ht[Qt.mesh].isSkinnedMesh=!0)),Qt.camera!==void 0&&this._addNodeRef(this.cameraCache,Qt.camera)}}_addNodeRef(Et,yt){yt!==void 0&&(Et.refs[yt]===void 0&&(Et.refs[yt]=Et.uses[yt]=0),Et.refs[yt]++)}_getNodeRef(Et,yt,Ht){if(Et.refs[yt]<=1)return Ht;const wt=Ht.clone(),xt=(Qt,ut)=>{const X=this.associations.get(Qt);X!=null&&this.associations.set(ut,X);for(const[Z,_t]of Qt.children.entries())xt(_t,ut.children[Z])};return xt(Ht,wt),wt.name+="_instance_"+Et.uses[yt]++,wt}_invokeOne(Et){const yt=Object.values(this.plugins);yt.push(this);for(let Ht=0;Ht<yt.length;Ht++){const wt=Et(yt[Ht]);if(wt)return wt}return null}_invokeAll(Et){const yt=Object.values(this.plugins);yt.unshift(this);const Ht=[];for(let wt=0;wt<yt.length;wt++){const xt=Et(yt[wt]);xt&&Ht.push(xt)}return Ht}getDependency(Et,yt){const Ht=Et+":"+yt;let wt=this.cache.get(Ht);if(!wt){switch(Et){case"scene":wt=this.loadScene(yt);break;case"node":wt=this._invokeOne(function(xt){return xt.loadNode&&xt.loadNode(yt)});break;case"mesh":wt=this._invokeOne(function(xt){return xt.loadMesh&&xt.loadMesh(yt)});break;case"accessor":wt=this.loadAccessor(yt);break;case"bufferView":wt=this._invokeOne(function(xt){return xt.loadBufferView&&xt.loadBufferView(yt)});break;case"buffer":wt=this.loadBuffer(yt);break;case"material":wt=this._invokeOne(function(xt){return xt.loadMaterial&&xt.loadMaterial(yt)});break;case"texture":wt=this._invokeOne(function(xt){return xt.loadTexture&&xt.loadTexture(yt)});break;case"skin":wt=this.loadSkin(yt);break;case"animation":wt=this._invokeOne(function(xt){return xt.loadAnimation&&xt.loadAnimation(yt)});break;case"camera":wt=this.loadCamera(yt);break;default:if(wt=this._invokeOne(function(xt){return xt!=this&&xt.getDependency&&xt.getDependency(Et,yt)}),!wt)throw new Error("Unknown type: "+Et);break}this.cache.add(Ht,wt)}return wt}getDependencies(Et){let yt=this.cache.get(Et);if(!yt){const Ht=this,wt=this.json[Et+(Et==="mesh"?"es":"s")]||[];yt=Promise.all(wt.map(function(xt,Qt){return Ht.getDependency(Et,Qt)})),this.cache.add(Et,yt)}return yt}loadBuffer(Et){const yt=this.json.buffers[Et],Ht=this.fileLoader;if(yt.type&&yt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+yt.type+" buffer type is not supported.");if(yt.uri===void 0&&Et===0)return Promise.resolve(this.extensions[p.KHR_BINARY_GLTF].body);const wt=this.options;return new Promise(function(xt,Qt){Ht.load(f.LoaderUtils.resolveURL(yt.uri,wt.path),xt,void 0,function(){Qt(new Error('THREE.GLTFLoader: Failed to load buffer "'+yt.uri+'".'))})})}loadBufferView(Et){const yt=this.json.bufferViews[Et];return this.getDependency("buffer",yt.buffer).then(function(Ht){const wt=yt.byteLength||0,xt=yt.byteOffset||0;return Ht.slice(xt,xt+wt)})}loadAccessor(Et){const yt=this,Ht=this.json,wt=this.json.accessors[Et];if(wt.bufferView===void 0&&wt.sparse===void 0){const Qt=St[wt.type],ut=vt[wt.componentType],X=wt.normalized===!0,Z=new ut(wt.count*Qt);return Promise.resolve(new f.BufferAttribute(Z,Qt,X))}const xt=[];return wt.bufferView!==void 0?xt.push(this.getDependency("bufferView",wt.bufferView)):xt.push(null),wt.sparse!==void 0&&(xt.push(this.getDependency("bufferView",wt.sparse.indices.bufferView)),xt.push(this.getDependency("bufferView",wt.sparse.values.bufferView))),Promise.all(xt).then(function(Qt){const ut=Qt[0],X=St[wt.type],Z=vt[wt.componentType],_t=Z.BYTES_PER_ELEMENT,Gt=_t*X,Zt=wt.byteOffset||0,ue=wt.bufferView!==void 0?Ht.bufferViews[wt.bufferView].byteStride:void 0,ve=wt.normalized===!0;let Fe,Je;if(ue&&ue!==Gt){const ii=Math.floor(Zt/ue),re="InterleavedBuffer:"+wt.bufferView+":"+wt.componentType+":"+ii+":"+wt.count;let Mi=yt.cache.get(re);Mi||(Fe=new Z(ut,ii*ue,wt.count*ue/_t),Mi=new f.InterleavedBuffer(Fe,ue/_t),yt.cache.add(re,Mi)),Je=new f.InterleavedBufferAttribute(Mi,X,Zt%ue/_t,ve)}else ut===null?Fe=new Z(wt.count*X):Fe=new Z(ut,Zt,wt.count*X),Je=new f.BufferAttribute(Fe,X,ve);if(wt.sparse!==void 0){const ii=St.SCALAR,re=vt[wt.sparse.indices.componentType],Mi=wt.sparse.indices.byteOffset||0,Pe=wt.sparse.values.byteOffset||0,ke=new re(Qt[1],Mi,wt.sparse.count*ii),we=new Z(Qt[2],Pe,wt.sparse.count*X);ut!==null&&(Je=new f.BufferAttribute(Je.array.slice(),Je.itemSize,Je.normalized));for(let Ii=0,wn=ke.length;Ii<wn;Ii++){const Ke=ke[Ii];if(Je.setX(Ke,we[Ii*X]),X>=2&&Je.setY(Ke,we[Ii*X+1]),X>=3&&Je.setZ(Ke,we[Ii*X+2]),X>=4&&Je.setW(Ke,we[Ii*X+3]),X>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return Je})}loadTexture(Et){const yt=this.json,Ht=this.options,xt=yt.textures[Et].source,Qt=yt.images[xt];let ut=this.textureLoader;if(Qt.uri){const X=Ht.manager.getHandler(Qt.uri);X!==null&&(ut=X)}return this.loadTextureImage(Et,xt,ut)}loadTextureImage(Et,yt,Ht){const wt=this,xt=this.json,Qt=xt.textures[Et],ut=xt.images[yt],X=(ut.uri||ut.bufferView)+":"+Qt.sampler;if(this.textureCache[X])return this.textureCache[X];const Z=this.loadImageSource(yt,Ht).then(function(_t){_t.flipY=!1,_t.name=Qt.name||ut.name||"",_t.name===""&&typeof ut.uri=="string"&&ut.uri.startsWith("data:image/")===!1&&(_t.name=ut.uri);const Zt=(xt.samplers||{})[Qt.sampler]||{};return _t.magFilter=Ot[Zt.magFilter]||f.LinearFilter,_t.minFilter=Ot[Zt.minFilter]||f.LinearMipmapLinearFilter,_t.wrapS=ft[Zt.wrapS]||f.RepeatWrapping,_t.wrapT=ft[Zt.wrapT]||f.RepeatWrapping,wt.associations.set(_t,{textures:Et}),_t}).catch(function(){return null});return this.textureCache[X]=Z,Z}loadImageSource(Et,yt){const Ht=this,wt=this.json,xt=this.options;if(this.sourceCache[Et]!==void 0)return this.sourceCache[Et].then(Gt=>Gt.clone());const Qt=wt.images[Et],ut=self.URL||self.webkitURL;let X=Qt.uri||"",Z=!1;if(Qt.bufferView!==void 0)X=Ht.getDependency("bufferView",Qt.bufferView).then(function(Gt){Z=!0;const Zt=new Blob([Gt],{type:Qt.mimeType});return X=ut.createObjectURL(Zt),X});else if(Qt.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+Et+" is missing URI and bufferView");const _t=Promise.resolve(X).then(function(Gt){return new Promise(function(Zt,ue){let ve=Zt;yt.isImageBitmapLoader===!0&&(ve=function(Fe){const Je=new f.Texture(Fe);Je.needsUpdate=!0,Zt(Je)}),yt.load(f.LoaderUtils.resolveURL(Gt,xt.path),ve,void 0,ue)})}).then(function(Gt){return Z===!0&&ut.revokeObjectURL(X),Gt.userData.mimeType=Qt.mimeType||Ci(Qt.uri),Gt}).catch(function(Gt){throw console.error("THREE.GLTFLoader: Couldn't load texture",X),Gt});return this.sourceCache[Et]=_t,_t}assignTexture(Et,yt,Ht,wt){const xt=this;return this.getDependency("texture",Ht.index).then(function(Qt){if(!Qt)return null;if(Ht.texCoord!==void 0&&Ht.texCoord>0&&(Qt=Qt.clone(),Qt.channel=Ht.texCoord),xt.extensions[p.KHR_TEXTURE_TRANSFORM]){const ut=Ht.extensions!==void 0?Ht.extensions[p.KHR_TEXTURE_TRANSFORM]:void 0;if(ut){const X=xt.associations.get(Qt);Qt=xt.extensions[p.KHR_TEXTURE_TRANSFORM].extendTexture(Qt,ut),xt.associations.set(Qt,X)}}return wt!==void 0&&(Qt.colorSpace=wt),Et[yt]=Qt,Qt})}assignFinalMaterial(Et){const yt=Et.geometry;let Ht=Et.material;const wt=yt.attributes.tangent===void 0,xt=yt.attributes.color!==void 0,Qt=yt.attributes.normal===void 0;if(Et.isPoints){const ut="PointsMaterial:"+Ht.uuid;let X=this.cache.get(ut);X||(X=new f.PointsMaterial,f.Material.prototype.copy.call(X,Ht),X.color.copy(Ht.color),X.map=Ht.map,X.sizeAttenuation=!1,this.cache.add(ut,X)),Ht=X}else if(Et.isLine){const ut="LineBasicMaterial:"+Ht.uuid;let X=this.cache.get(ut);X||(X=new f.LineBasicMaterial,f.Material.prototype.copy.call(X,Ht),X.color.copy(Ht.color),X.map=Ht.map,this.cache.add(ut,X)),Ht=X}if(wt||xt||Qt){let ut="ClonedMaterial:"+Ht.uuid+":";wt&&(ut+="derivative-tangents:"),xt&&(ut+="vertex-colors:"),Qt&&(ut+="flat-shading:");let X=this.cache.get(ut);X||(X=Ht.clone(),xt&&(X.vertexColors=!0),Qt&&(X.flatShading=!0),wt&&(X.normalScale&&(X.normalScale.y*=-1),X.clearcoatNormalScale&&(X.clearcoatNormalScale.y*=-1)),this.cache.add(ut,X),this.associations.set(X,this.associations.get(Ht))),Ht=X}Et.material=Ht}getMaterialType(){return f.MeshStandardMaterial}loadMaterial(Et){const yt=this,Ht=this.json,wt=this.extensions,xt=Ht.materials[Et];let Qt;const ut={},X=xt.extensions||{},Z=[];if(X[p.KHR_MATERIALS_UNLIT]){const Gt=wt[p.KHR_MATERIALS_UNLIT];Qt=Gt.getMaterialType(),Z.push(Gt.extendParams(ut,xt,yt))}else{const Gt=xt.pbrMetallicRoughness||{};if(ut.color=new f.Color(1,1,1),ut.opacity=1,Array.isArray(Gt.baseColorFactor)){const Zt=Gt.baseColorFactor;ut.color.setRGB(Zt[0],Zt[1],Zt[2],f.LinearSRGBColorSpace),ut.opacity=Zt[3]}Gt.baseColorTexture!==void 0&&Z.push(yt.assignTexture(ut,"map",Gt.baseColorTexture,f.SRGBColorSpace)),ut.metalness=Gt.metallicFactor!==void 0?Gt.metallicFactor:1,ut.roughness=Gt.roughnessFactor!==void 0?Gt.roughnessFactor:1,Gt.metallicRoughnessTexture!==void 0&&(Z.push(yt.assignTexture(ut,"metalnessMap",Gt.metallicRoughnessTexture)),Z.push(yt.assignTexture(ut,"roughnessMap",Gt.metallicRoughnessTexture))),Qt=this._invokeOne(function(Zt){return Zt.getMaterialType&&Zt.getMaterialType(Et)}),Z.push(Promise.all(this._invokeAll(function(Zt){return Zt.extendMaterialParams&&Zt.extendMaterialParams(Et,ut)})))}xt.doubleSided===!0&&(ut.side=f.DoubleSide);const _t=xt.alphaMode||ie.OPAQUE;if(_t===ie.BLEND?(ut.transparent=!0,ut.depthWrite=!1):(ut.transparent=!1,_t===ie.MASK&&(ut.alphaTest=xt.alphaCutoff!==void 0?xt.alphaCutoff:.5)),xt.normalTexture!==void 0&&Qt!==f.MeshBasicMaterial&&(Z.push(yt.assignTexture(ut,"normalMap",xt.normalTexture)),ut.normalScale=new f.Vector2(1,1),xt.normalTexture.scale!==void 0)){const Gt=xt.normalTexture.scale;ut.normalScale.set(Gt,Gt)}if(xt.occlusionTexture!==void 0&&Qt!==f.MeshBasicMaterial&&(Z.push(yt.assignTexture(ut,"aoMap",xt.occlusionTexture)),xt.occlusionTexture.strength!==void 0&&(ut.aoMapIntensity=xt.occlusionTexture.strength)),xt.emissiveFactor!==void 0&&Qt!==f.MeshBasicMaterial){const Gt=xt.emissiveFactor;ut.emissive=new f.Color().setRGB(Gt[0],Gt[1],Gt[2],f.LinearSRGBColorSpace)}return xt.emissiveTexture!==void 0&&Qt!==f.MeshBasicMaterial&&Z.push(yt.assignTexture(ut,"emissiveMap",xt.emissiveTexture,f.SRGBColorSpace)),Promise.all(Z).then(function(){const Gt=new Qt(ut);return xt.name&&(Gt.name=xt.name),me(Gt,xt),yt.associations.set(Gt,{materials:Et}),xt.extensions&&Wt(wt,Gt,xt),Gt})}createUniqueName(Et){const yt=f.PropertyBinding.sanitizeNodeName(Et||"");return yt in this.nodeNamesUsed?yt+"_"+ ++this.nodeNamesUsed[yt]:(this.nodeNamesUsed[yt]=0,yt)}loadGeometries(Et){const yt=this,Ht=this.extensions,wt=this.primitiveCache;function xt(ut){return Ht[p.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(ut,yt).then(function(X){return ye(X,ut,yt)})}const Qt=[];for(let ut=0,X=Et.length;ut<X;ut++){const Z=Et[ut],_t=Qe(Z),Gt=wt[_t];if(Gt)Qt.push(Gt.promise);else{let Zt;Z.extensions&&Z.extensions[p.KHR_DRACO_MESH_COMPRESSION]?Zt=xt(Z):Zt=ye(new f.BufferGeometry,Z,yt),wt[_t]={primitive:Z,promise:Zt},Qt.push(Zt)}}return Promise.all(Qt)}loadMesh(Et){const yt=this,Ht=this.json,wt=this.extensions,xt=Ht.meshes[Et],Qt=xt.primitives,ut=[];for(let X=0,Z=Qt.length;X<Z;X++){const _t=Qt[X].material===void 0?jt(this.cache):this.getDependency("material",Qt[X].material);ut.push(_t)}return ut.push(yt.loadGeometries(Qt)),Promise.all(ut).then(function(X){const Z=X.slice(0,X.length-1),_t=X[X.length-1],Gt=[];for(let ue=0,ve=_t.length;ue<ve;ue++){const Fe=_t[ue],Je=Qt[ue];let ii;const re=Z[ue];if(Je.mode===Tt.TRIANGLES||Je.mode===Tt.TRIANGLE_STRIP||Je.mode===Tt.TRIANGLE_FAN||Je.mode===void 0)ii=xt.isSkinnedMesh===!0?new f.SkinnedMesh(Fe,re):new f.Mesh(Fe,re),ii.isSkinnedMesh===!0&&ii.normalizeSkinWeights(),Je.mode===Tt.TRIANGLE_STRIP?ii.geometry=(0,M.toTrianglesDrawMode)(ii.geometry,f.TriangleStripDrawMode):Je.mode===Tt.TRIANGLE_FAN&&(ii.geometry=(0,M.toTrianglesDrawMode)(ii.geometry,f.TriangleFanDrawMode));else if(Je.mode===Tt.LINES)ii=new f.LineSegments(Fe,re);else if(Je.mode===Tt.LINE_STRIP)ii=new f.Line(Fe,re);else if(Je.mode===Tt.LINE_LOOP)ii=new f.LineLoop(Fe,re);else if(Je.mode===Tt.POINTS)ii=new f.Points(Fe,re);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Je.mode);Object.keys(ii.geometry.morphAttributes).length>0&&pe(ii,xt),ii.name=yt.createUniqueName(xt.name||"mesh_"+Et),me(ii,xt),Je.extensions&&Wt(wt,ii,Je),yt.assignFinalMaterial(ii),Gt.push(ii)}for(let ue=0,ve=Gt.length;ue<ve;ue++)yt.associations.set(Gt[ue],{meshes:Et,primitives:ue});if(Gt.length===1)return xt.extensions&&Wt(wt,Gt[0],xt),Gt[0];const Zt=new f.Group;xt.extensions&&Wt(wt,Zt,xt),yt.associations.set(Zt,{meshes:Et});for(let ue=0,ve=Gt.length;ue<ve;ue++)Zt.add(Gt[ue]);return Zt})}loadCamera(Et){let yt;const Ht=this.json.cameras[Et],wt=Ht[Ht.type];if(!wt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return Ht.type==="perspective"?yt=new f.PerspectiveCamera(f.MathUtils.radToDeg(wt.yfov),wt.aspectRatio||1,wt.znear||1,wt.zfar||2e6):Ht.type==="orthographic"&&(yt=new f.OrthographicCamera(-wt.xmag,wt.xmag,wt.ymag,-wt.ymag,wt.znear,wt.zfar)),Ht.name&&(yt.name=this.createUniqueName(Ht.name)),me(yt,Ht),Promise.resolve(yt)}loadSkin(Et){const yt=this.json.skins[Et],Ht=[];for(let wt=0,xt=yt.joints.length;wt<xt;wt++)Ht.push(this._loadNodeShallow(yt.joints[wt]));return yt.inverseBindMatrices!==void 0?Ht.push(this.getDependency("accessor",yt.inverseBindMatrices)):Ht.push(null),Promise.all(Ht).then(function(wt){const xt=wt.pop(),Qt=wt,ut=[],X=[];for(let Z=0,_t=Qt.length;Z<_t;Z++){const Gt=Qt[Z];if(Gt){ut.push(Gt);const Zt=new f.Matrix4;xt!==null&&Zt.fromArray(xt.array,Z*16),X.push(Zt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',yt.joints[Z])}return new f.Skeleton(ut,X)})}loadAnimation(Et){const yt=this.json,Ht=this,wt=yt.animations[Et],xt=wt.name?wt.name:"animation_"+Et,Qt=[],ut=[],X=[],Z=[],_t=[];for(let Gt=0,Zt=wt.channels.length;Gt<Zt;Gt++){const ue=wt.channels[Gt],ve=wt.samplers[ue.sampler],Fe=ue.target,Je=Fe.node,ii=wt.parameters!==void 0?wt.parameters[ve.input]:ve.input,re=wt.parameters!==void 0?wt.parameters[ve.output]:ve.output;Fe.node!==void 0&&(Qt.push(this.getDependency("node",Je)),ut.push(this.getDependency("accessor",ii)),X.push(this.getDependency("accessor",re)),Z.push(ve),_t.push(Fe))}return Promise.all([Promise.all(Qt),Promise.all(ut),Promise.all(X),Promise.all(Z),Promise.all(_t)]).then(function(Gt){const Zt=Gt[0],ue=Gt[1],ve=Gt[2],Fe=Gt[3],Je=Gt[4],ii=[];for(let re=0,Mi=Zt.length;re<Mi;re++){const Pe=Zt[re],ke=ue[re],we=ve[re],Ii=Fe[re],wn=Je[re];if(Pe===void 0)continue;Pe.updateMatrix&&Pe.updateMatrix();const Ke=Ht._createAnimationTracks(Pe,ke,we,Ii,wn);if(Ke)for(let yn=0;yn<Ke.length;yn++)ii.push(Ke[yn])}return new f.AnimationClip(xt,void 0,ii)})}createNodeMesh(Et){const yt=this.json,Ht=this,wt=yt.nodes[Et];return wt.mesh===void 0?null:Ht.getDependency("mesh",wt.mesh).then(function(xt){const Qt=Ht._getNodeRef(Ht.meshCache,wt.mesh,xt);return wt.weights!==void 0&&Qt.traverse(function(ut){if(ut.isMesh)for(let X=0,Z=wt.weights.length;X<Z;X++)ut.morphTargetInfluences[X]=wt.weights[X]}),Qt})}loadNode(Et){const yt=this.json,Ht=this,wt=yt.nodes[Et],xt=Ht._loadNodeShallow(Et),Qt=[],ut=wt.children||[];for(let Z=0,_t=ut.length;Z<_t;Z++)Qt.push(Ht.getDependency("node",ut[Z]));const X=wt.skin===void 0?Promise.resolve(null):Ht.getDependency("skin",wt.skin);return Promise.all([xt,Promise.all(Qt),X]).then(function(Z){const _t=Z[0],Gt=Z[1],Zt=Z[2];Zt!==null&&_t.traverse(function(ue){ue.isSkinnedMesh&&ue.bind(Zt,ai)});for(let ue=0,ve=Gt.length;ue<ve;ue++)_t.add(Gt[ue]);return _t})}_loadNodeShallow(Et){const yt=this.json,Ht=this.extensions,wt=this;if(this.nodeCache[Et]!==void 0)return this.nodeCache[Et];const xt=yt.nodes[Et],Qt=xt.name?wt.createUniqueName(xt.name):"",ut=[],X=wt._invokeOne(function(Z){return Z.createNodeMesh&&Z.createNodeMesh(Et)});return X&&ut.push(X),xt.camera!==void 0&&ut.push(wt.getDependency("camera",xt.camera).then(function(Z){return wt._getNodeRef(wt.cameraCache,xt.camera,Z)})),wt._invokeAll(function(Z){return Z.createNodeAttachment&&Z.createNodeAttachment(Et)}).forEach(function(Z){ut.push(Z)}),this.nodeCache[Et]=Promise.all(ut).then(function(Z){let _t;if(xt.isBone===!0?_t=new f.Bone:Z.length>1?_t=new f.Group:Z.length===1?_t=Z[0]:_t=new f.Object3D,_t!==Z[0])for(let Gt=0,Zt=Z.length;Gt<Zt;Gt++)_t.add(Z[Gt]);if(xt.name&&(_t.userData.name=xt.name,_t.name=Qt),me(_t,xt),xt.extensions&&Wt(Ht,_t,xt),xt.matrix!==void 0){const Gt=new f.Matrix4;Gt.fromArray(xt.matrix),_t.applyMatrix4(Gt)}else xt.translation!==void 0&&_t.position.fromArray(xt.translation),xt.rotation!==void 0&&_t.quaternion.fromArray(xt.rotation),xt.scale!==void 0&&_t.scale.fromArray(xt.scale);return wt.associations.has(_t)||wt.associations.set(_t,{}),wt.associations.get(_t).nodes=Et,_t}),this.nodeCache[Et]}loadScene(Et){const yt=this.extensions,Ht=this.json.scenes[Et],wt=this,xt=new f.Group;Ht.name&&(xt.name=wt.createUniqueName(Ht.name)),me(xt,Ht),Ht.extensions&&Wt(yt,xt,Ht);const Qt=Ht.nodes||[],ut=[];for(let X=0,Z=Qt.length;X<Z;X++)ut.push(wt.getDependency("node",Qt[X]));return Promise.all(ut).then(function(X){for(let _t=0,Gt=X.length;_t<Gt;_t++)xt.add(X[_t]);const Z=_t=>{const Gt=new Map;for(const[Zt,ue]of wt.associations)(Zt instanceof f.Material||Zt instanceof f.Texture)&&Gt.set(Zt,ue);return _t.traverse(Zt=>{const ue=wt.associations.get(Zt);ue!=null&&Gt.set(Zt,ue)}),Gt};return wt.associations=Z(xt),xt})}_createAnimationTracks(Et,yt,Ht,wt,xt){const Qt=[],ut=Et.name?Et.name:Et.uuid,X=[];Pt[xt.path]===Pt.weights?Et.traverse(function(Zt){Zt.morphTargetInfluences&&X.push(Zt.name?Zt.name:Zt.uuid)}):X.push(ut);let Z;switch(Pt[xt.path]){case Pt.weights:Z=f.NumberKeyframeTrack;break;case Pt.rotation:Z=f.QuaternionKeyframeTrack;break;case Pt.position:case Pt.scale:Z=f.VectorKeyframeTrack;break;default:switch(Ht.itemSize){case 1:Z=f.NumberKeyframeTrack;break;case 2:case 3:default:Z=f.VectorKeyframeTrack;break}break}const _t=wt.interpolation!==void 0?Vt[wt.interpolation]:f.InterpolateLinear,Gt=this._getArrayFromAccessor(Ht);for(let Zt=0,ue=X.length;Zt<ue;Zt++){const ve=new Z(X[Zt]+"."+Pt[xt.path],yt.array,Gt,_t);wt.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(ve),Qt.push(ve)}return Qt}_getArrayFromAccessor(Et){let yt=Et.array;if(Et.normalized){const Ht=ei(yt.constructor),wt=new Float32Array(yt.length);for(let xt=0,Qt=yt.length;xt<Qt;xt++)wt[xt]=yt[xt]*Ht;yt=wt}return yt}_createCubicSplineTrackInterpolant(Et){Et.createInterpolant=function(Ht){const wt=this instanceof f.QuaternionKeyframeTrack?gt:ht;return new wt(this.times,this.values,this.getValueSize()/3,Ht)},Et.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function be(ne,Et,yt){const Ht=Et.attributes,wt=new f.Box3;if(Ht.POSITION!==void 0){const ut=yt.json.accessors[Ht.POSITION],X=ut.min,Z=ut.max;if(X!==void 0&&Z!==void 0){if(wt.set(new f.Vector3(X[0],X[1],X[2]),new f.Vector3(Z[0],Z[1],Z[2])),ut.normalized){const _t=ei(vt[ut.componentType]);wt.min.multiplyScalar(_t),wt.max.multiplyScalar(_t)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const xt=Et.targets;if(xt!==void 0){const ut=new f.Vector3,X=new f.Vector3;for(let Z=0,_t=xt.length;Z<_t;Z++){const Gt=xt[Z];if(Gt.POSITION!==void 0){const Zt=yt.json.accessors[Gt.POSITION],ue=Zt.min,ve=Zt.max;if(ue!==void 0&&ve!==void 0){if(X.setX(Math.max(Math.abs(ue[0]),Math.abs(ve[0]))),X.setY(Math.max(Math.abs(ue[1]),Math.abs(ve[1]))),X.setZ(Math.max(Math.abs(ue[2]),Math.abs(ve[2]))),Zt.normalized){const Fe=ei(vt[Zt.componentType]);X.multiplyScalar(Fe)}ut.max(X)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}wt.expandByVector(ut)}ne.boundingBox=wt;const Qt=new f.Sphere;wt.getCenter(Qt.center),Qt.radius=wt.min.distanceTo(wt.max)/2,ne.boundingSphere=Qt}function ye(ne,Et,yt){const Ht=Et.attributes,wt=[];function xt(Qt,ut){return yt.getDependency("accessor",Qt).then(function(X){ne.setAttribute(ut,X)})}for(const Qt in Ht){const ut=Mt[Qt]||Qt.toLowerCase();ut in ne.attributes||wt.push(xt(Ht[Qt],ut))}if(Et.indices!==void 0&&!ne.index){const Qt=yt.getDependency("accessor",Et.indices).then(function(ut){ne.setIndex(ut)});wt.push(Qt)}return f.ColorManagement.workingColorSpace!==f.LinearSRGBColorSpace&&"COLOR_0"in Ht&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${f.ColorManagement.workingColorSpace}" not supported.`),me(ne,Et),be(ne,Et,yt),Promise.all(wt).then(function(){return Et.targets!==void 0?Yt(ne,Et.targets,yt):ne})}},"./node_modules/three/examples/jsm/loaders/KTX2Loader.js":(u,d,c)=>{c.r(d),c.d(d,{KTX2Loader:()=>v});var f=c("./node_modules/three/build/three.module.js"),M=c("./node_modules/three/examples/jsm/utils/WorkerPool.js"),m=c("./node_modules/three/examples/jsm/libs/ktx-parse.module.js"),A=c("./node_modules/three/examples/jsm/libs/zstddec.module.js");const p=new WeakMap;let y=0,E;class v extends f.Loader{constructor(I){super(I),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new M.WorkerPool,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(I){return this.transcoderPath=I,this}setWorkerLimit(I){return this.workerPool.setWorkerLimit(I),this}async detectSupportAsync(I){return this.workerConfig={astcSupported:await I.hasFeatureAsync("texture-compression-astc"),etc1Supported:await I.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await I.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await I.hasFeatureAsync("texture-compression-bc"),bptcSupported:await I.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await I.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(I){return I.isWebGPURenderer===!0?this.workerConfig={astcSupported:I.hasFeature("texture-compression-astc"),etc1Supported:I.hasFeature("texture-compression-etc1"),etc2Supported:I.hasFeature("texture-compression-etc2"),dxtSupported:I.hasFeature("texture-compression-bc"),bptcSupported:I.hasFeature("texture-compression-bptc"),pvrtcSupported:I.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:I.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:I.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:I.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:I.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:I.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:I.extensions.has("WEBGL_compressed_texture_pvrtc")||I.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const I=new f.FileLoader(this.manager);I.setPath(this.transcoderPath),I.setWithCredentials(this.withCredentials);const P=I.loadAsync("basis_transcoder.js"),L=new f.FileLoader(this.manager);L.setPath(this.transcoderPath),L.setResponseType("arraybuffer"),L.setWithCredentials(this.withCredentials);const k=L.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([P,k]).then(([N,$])=>{const H=v.BasisWorker.toString(),U=["/* constants */","let _EngineFormat = "+JSON.stringify(v.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(v.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(v.BasisFormat),"/* basis_transcoder.js */",N,"/* worker */",H.substring(H.indexOf("{")+1,H.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([U])),this.transcoderBinary=$,this.workerPool.setWorkerCreator(()=>{const W=new Worker(this.workerSourceURL),J=this.transcoderBinary.slice(0);return W.postMessage({type:"init",config:this.workerConfig,transcoderBinary:J},[J]),W})}),y>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),y++}return this.transcoderPending}load(I,P,L,k){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const N=new f.FileLoader(this.manager);N.setResponseType("arraybuffer"),N.setWithCredentials(this.withCredentials),N.load(I,$=>{if(p.has($))return p.get($).promise.then(P).catch(k);this._createTexture($).then(H=>P?P(H):null).catch(k)},L,k)}_createTextureFrom(I,P){const{faces:L,width:k,height:N,format:$,type:H,error:U,dfdFlags:W}=I;if(H==="error")return Promise.reject(U);let J;if(P.faceCount===6)J=new f.CompressedCubeTexture(L,$,f.UnsignedByteType);else{const Q=L[0].mipmaps;J=P.layerCount>1?new f.CompressedArrayTexture(Q,k,N,P.layerCount,$,f.UnsignedByteType):new f.CompressedTexture(Q,k,N,$,f.UnsignedByteType)}return J.minFilter=L[0].mipmaps.length===1?f.LinearFilter:f.LinearMipmapLinearFilter,J.magFilter=f.LinearFilter,J.generateMipmaps=!1,J.needsUpdate=!0,J.colorSpace=S(P),J.premultiplyAlpha=!!(W&m.KHR_DF_FLAG_ALPHA_PREMULTIPLIED),J}async _createTexture(I,P={}){const L=(0,m.read)(new Uint8Array(I));if(L.vkFormat!==m.VK_FORMAT_UNDEFINED)return O(L);const k=P,N=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:I,taskConfig:k},[I])).then($=>this._createTextureFrom($.data,L));return p.set(I,{promise:N}),N}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),y--,this}}v.BasisFormat={ETC1S:0,UASTC_4x4:1},v.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},v.EngineFormat={RGBAFormat:f.RGBAFormat,RGBA_ASTC_4x4_Format:f.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:f.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:f.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:f.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:f.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:f.RGB_ETC1_Format,RGB_ETC2_Format:f.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:f.RGB_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format:f.RGBA_S3TC_DXT1_Format},v.BasisWorker=function(){let R,I,P;const L=_EngineFormat,k=_TranscoderFormat,N=_BasisFormat;self.addEventListener("message",function(j){const nt=j.data;switch(nt.type){case"init":R=nt.config,$(nt.transcoderBinary);break;case"transcode":I.then(()=>{try{const{faces:tt,buffers:ht,width:pt,height:gt,hasAlpha:Tt,format:vt,dfdFlags:Ot}=H(nt.buffer);self.postMessage({type:"transcode",id:nt.id,faces:tt,width:pt,height:gt,hasAlpha:Tt,format:vt,dfdFlags:Ot},ht)}catch(tt){console.error(tt),self.postMessage({type:"error",id:nt.id,error:tt.message})}});break}});function $(j){I=new Promise(nt=>{P={wasmBinary:j,onRuntimeInitialized:nt},BASIS(P)}).then(()=>{P.initializeBasis(),P.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function H(j){const nt=new P.KTX2File(new Uint8Array(j));function tt(){nt.close(),nt.delete()}if(!nt.isValid())throw tt(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const ht=nt.isUASTC()?N.UASTC_4x4:N.ETC1S,pt=nt.getWidth(),gt=nt.getHeight(),Tt=nt.getLayers()||1,vt=nt.getLevels(),Ot=nt.getFaces(),ft=nt.getHasAlpha(),St=nt.getDFDFlags(),{transcoderFormat:Mt,engineFormat:Pt}=Q(ht,pt,gt,ft);if(!pt||!gt||!vt)throw tt(),new Error("THREE.KTX2Loader:	Invalid texture");if(!nt.startTranscoding())throw tt(),new Error("THREE.KTX2Loader: .startTranscoding failed");const Vt=[],ie=[];for(let jt=0;jt<Ot;jt++){const Wt=[];for(let me=0;me<vt;me++){const Yt=[];let pe,Qe;for(let ei=0;ei<Tt;ei++){const Ci=nt.getImageLevelInfo(me,ei,jt);jt===0&&me===0&&ei===0&&(Ci.origWidth%4!==0||Ci.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),vt>1?(pe=Ci.origWidth,Qe=Ci.origHeight):(pe=Ci.width,Qe=Ci.height);const ai=new Uint8Array(nt.getImageTranscodedSizeInBytes(me,ei,0,Mt));if(!nt.transcodeImage(ai,me,ei,jt,Mt,0,-1,-1))throw tt(),new Error("THREE.KTX2Loader: .transcodeImage failed.");Yt.push(ai)}const ni=z(Yt);Wt.push({data:ni,width:pe,height:Qe}),ie.push(ni.buffer)}Vt.push({mipmaps:Wt,width:pt,height:gt,format:Pt})}return tt(),{faces:Vt,buffers:ie,width:pt,height:gt,hasAlpha:ft,format:Pt,dfdFlags:St}}const U=[{if:"astcSupported",basisFormat:[N.UASTC_4x4],transcoderFormat:[k.ASTC_4x4,k.ASTC_4x4],engineFormat:[L.RGBA_ASTC_4x4_Format,L.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[k.BC7_M5,k.BC7_M5],engineFormat:[L.RGBA_BPTC_Format,L.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[k.BC1,k.BC3],engineFormat:[L.RGBA_S3TC_DXT1_Format,L.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[k.ETC1,k.ETC2],engineFormat:[L.RGB_ETC2_Format,L.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[k.ETC1],engineFormat:[L.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[k.PVRTC1_4_RGB,k.PVRTC1_4_RGBA],engineFormat:[L.RGB_PVRTC_4BPPV1_Format,L.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],W=U.sort(function(j,nt){return j.priorityETC1S-nt.priorityETC1S}),J=U.sort(function(j,nt){return j.priorityUASTC-nt.priorityUASTC});function Q(j,nt,tt,ht){let pt,gt;const Tt=j===N.ETC1S?W:J;for(let vt=0;vt<Tt.length;vt++){const Ot=Tt[vt];if(R[Ot.if]&&Ot.basisFormat.includes(j)&&!(ht&&Ot.transcoderFormat.length<2)&&!(Ot.needsPowerOfTwo&&!(G(nt)&&G(tt))))return pt=Ot.transcoderFormat[ht?1:0],gt=Ot.engineFormat[ht?1:0],{transcoderFormat:pt,engineFormat:gt}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),pt=k.RGBA32,gt=L.RGBAFormat,{transcoderFormat:pt,engineFormat:gt}}function G(j){return j<=2?!0:(j&j-1)===0&&j!==0}function z(j){if(j.length===1)return j[0];let nt=0;for(let pt=0;pt<j.length;pt++){const gt=j[pt];nt+=gt.byteLength}const tt=new Uint8Array(nt);let ht=0;for(let pt=0;pt<j.length;pt++){const gt=j[pt];tt.set(gt,ht),ht+=gt.byteLength}return tt}};const w=new Set([f.RGBAFormat,f.RGFormat,f.RedFormat]),x={[m.VK_FORMAT_R32G32B32A32_SFLOAT]:f.RGBAFormat,[m.VK_FORMAT_R16G16B16A16_SFLOAT]:f.RGBAFormat,[m.VK_FORMAT_R8G8B8A8_UNORM]:f.RGBAFormat,[m.VK_FORMAT_R8G8B8A8_SRGB]:f.RGBAFormat,[m.VK_FORMAT_R32G32_SFLOAT]:f.RGFormat,[m.VK_FORMAT_R16G16_SFLOAT]:f.RGFormat,[m.VK_FORMAT_R8G8_UNORM]:f.RGFormat,[m.VK_FORMAT_R8G8_SRGB]:f.RGFormat,[m.VK_FORMAT_R32_SFLOAT]:f.RedFormat,[m.VK_FORMAT_R16_SFLOAT]:f.RedFormat,[m.VK_FORMAT_R8_SRGB]:f.RedFormat,[m.VK_FORMAT_R8_UNORM]:f.RedFormat,[m.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:f.RGBA_ASTC_6x6_Format,[m.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:f.RGBA_ASTC_6x6_Format},b={[m.VK_FORMAT_R32G32B32A32_SFLOAT]:f.FloatType,[m.VK_FORMAT_R16G16B16A16_SFLOAT]:f.HalfFloatType,[m.VK_FORMAT_R8G8B8A8_UNORM]:f.UnsignedByteType,[m.VK_FORMAT_R8G8B8A8_SRGB]:f.UnsignedByteType,[m.VK_FORMAT_R32G32_SFLOAT]:f.FloatType,[m.VK_FORMAT_R16G16_SFLOAT]:f.HalfFloatType,[m.VK_FORMAT_R8G8_UNORM]:f.UnsignedByteType,[m.VK_FORMAT_R8G8_SRGB]:f.UnsignedByteType,[m.VK_FORMAT_R32_SFLOAT]:f.FloatType,[m.VK_FORMAT_R16_SFLOAT]:f.HalfFloatType,[m.VK_FORMAT_R8_SRGB]:f.UnsignedByteType,[m.VK_FORMAT_R8_UNORM]:f.UnsignedByteType,[m.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:f.UnsignedByteType,[m.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:f.UnsignedByteType};async function O(R){const{vkFormat:I}=R;if(x[I]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let P;R.supercompressionScheme===m.KHR_SUPERCOMPRESSION_ZSTD&&(E||(E=new Promise(async N=>{const $=new A.ZSTDDecoder;await $.init(),N($)})),P=await E);const L=[];for(let N=0;N<R.levels.length;N++){const $=Math.max(1,R.pixelWidth>>N),H=Math.max(1,R.pixelHeight>>N),U=R.pixelDepth?Math.max(1,R.pixelDepth>>N):0,W=R.levels[N];let J;if(R.supercompressionScheme===m.KHR_SUPERCOMPRESSION_NONE)J=W.levelData;else if(R.supercompressionScheme===m.KHR_SUPERCOMPRESSION_ZSTD)J=P.decode(W.levelData,W.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let Q;b[I]===f.FloatType?Q=new Float32Array(J.buffer,J.byteOffset,J.byteLength/Float32Array.BYTES_PER_ELEMENT):b[I]===f.HalfFloatType?Q=new Uint16Array(J.buffer,J.byteOffset,J.byteLength/Uint16Array.BYTES_PER_ELEMENT):Q=J,L.push({data:Q,width:$,height:H,depth:U})}let k;if(w.has(x[I]))k=R.pixelDepth===0?new f.DataTexture(L[0].data,R.pixelWidth,R.pixelHeight):new f.Data3DTexture(L[0].data,R.pixelWidth,R.pixelHeight,R.pixelDepth);else{if(R.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");k=new f.CompressedTexture(L,R.pixelWidth,R.pixelHeight)}return k.mipmaps=L,k.type=b[I],k.format=x[I],k.colorSpace=S(R),k.needsUpdate=!0,Promise.resolve(k)}function S(R){const I=R.dataFormatDescriptor[0];return I.colorPrimaries===m.KHR_DF_PRIMARIES_BT709?I.transferFunction===m.KHR_DF_TRANSFER_SRGB?f.SRGBColorSpace:f.LinearSRGBColorSpace:I.colorPrimaries===m.KHR_DF_PRIMARIES_DISPLAYP3?I.transferFunction===m.KHR_DF_TRANSFER_SRGB?f.DisplayP3ColorSpace:f.LinearDisplayP3ColorSpace:(I.colorPrimaries===m.KHR_DF_PRIMARIES_UNSPECIFIED||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${I.colorPrimaries}"`),f.NoColorSpace)}},"./node_modules/three/examples/jsm/loaders/MTLLoader.js":(u,d,c)=>{c.r(d),c.d(d,{MTLLoader:()=>M});var f=c("./node_modules/three/build/three.module.js");class M extends f.Loader{constructor(p){super(p)}load(p,y,E,v){const w=this,x=this.path===""?f.LoaderUtils.extractUrlBase(p):this.path,b=new f.FileLoader(this.manager);b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(p,function(O){try{y(w.parse(O,x))}catch(S){v?v(S):console.error(S),w.manager.itemError(p)}},E,v)}setMaterialOptions(p){return this.materialOptions=p,this}parse(p,y){const E=p.split(`
`);let v={};const w=/\s+/,x={};for(let O=0;O<E.length;O++){let S=E[O];if(S=S.trim(),S.length===0||S.charAt(0)==="#")continue;const R=S.indexOf(" ");let I=R>=0?S.substring(0,R):S;I=I.toLowerCase();let P=R>=0?S.substring(R+1):"";if(P=P.trim(),I==="newmtl")v={name:P},x[P]=v;else if(I==="ka"||I==="kd"||I==="ks"||I==="ke"){const L=P.split(w,3);v[I]=[parseFloat(L[0]),parseFloat(L[1]),parseFloat(L[2])]}else v[I]=P}const b=new m(this.resourcePath||y,this.materialOptions);return b.setCrossOrigin(this.crossOrigin),b.setManager(this.manager),b.setMaterials(x),b}}class m{constructor(p="",y={}){this.baseUrl=p,this.options=y,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:f.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:f.RepeatWrapping}setCrossOrigin(p){return this.crossOrigin=p,this}setManager(p){this.manager=p}setMaterials(p){this.materialsInfo=this.convert(p),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(p){if(!this.options)return p;const y={};for(const E in p){const v=p[E],w={};y[E]=w;for(const x in v){let b=!0,O=v[x];const S=x.toLowerCase();switch(S){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(O=[O[0]/255,O[1]/255,O[2]/255]),this.options&&this.options.ignoreZeroRGBs&&O[0]===0&&O[1]===0&&O[2]===0&&(b=!1);break}b&&(w[S]=O)}}return y}preload(){for(const p in this.materialsInfo)this.create(p)}getIndex(p){return this.nameLookup[p]}getAsArray(){let p=0;for(const y in this.materialsInfo)this.materialsArray[p]=this.create(y),this.nameLookup[y]=p,p++;return this.materialsArray}create(p){return this.materials[p]===void 0&&this.createMaterial_(p),this.materials[p]}createMaterial_(p){const y=this,E=this.materialsInfo[p],v={name:p,side:this.side};function w(b,O){return typeof O!="string"||O===""?"":/^https?:\/\//i.test(O)?O:b+O}function x(b,O){if(v[b])return;const S=y.getTextureParams(O,v),R=y.loadTexture(w(y.baseUrl,S.url));R.repeat.copy(S.scale),R.offset.copy(S.offset),R.wrapS=y.wrap,R.wrapT=y.wrap,(b==="map"||b==="emissiveMap")&&(R.colorSpace=f.SRGBColorSpace),v[b]=R}for(const b in E){const O=E[b];let S;if(O!=="")switch(b.toLowerCase()){case"kd":v.color=new f.Color().fromArray(O).convertSRGBToLinear();break;case"ks":v.specular=new f.Color().fromArray(O).convertSRGBToLinear();break;case"ke":v.emissive=new f.Color().fromArray(O).convertSRGBToLinear();break;case"map_kd":x("map",O);break;case"map_ks":x("specularMap",O);break;case"map_ke":x("emissiveMap",O);break;case"norm":x("normalMap",O);break;case"map_bump":case"bump":x("bumpMap",O);break;case"map_d":x("alphaMap",O),v.transparent=!0;break;case"ns":v.shininess=parseFloat(O);break;case"d":S=parseFloat(O),S<1&&(v.opacity=S,v.transparent=!0);break;case"tr":S=parseFloat(O),this.options&&this.options.invertTrProperty&&(S=1-S),S>0&&(v.opacity=1-S,v.transparent=!0);break}}return this.materials[p]=new f.MeshPhongMaterial(v),this.materials[p]}getTextureParams(p,y){const E={scale:new f.Vector2(1,1),offset:new f.Vector2(0,0)},v=p.split(/\s+/);let w;return w=v.indexOf("-bm"),w>=0&&(y.bumpScale=parseFloat(v[w+1]),v.splice(w,2)),w=v.indexOf("-s"),w>=0&&(E.scale.set(parseFloat(v[w+1]),parseFloat(v[w+2])),v.splice(w,4)),w=v.indexOf("-o"),w>=0&&(E.offset.set(parseFloat(v[w+1]),parseFloat(v[w+2])),v.splice(w,4)),E.url=v.join(" ").trim(),E}loadTexture(p,y,E,v,w){const x=this.manager!==void 0?this.manager:f.DefaultLoadingManager;let b=x.getHandler(p);b===null&&(b=new f.TextureLoader(x)),b.setCrossOrigin&&b.setCrossOrigin(this.crossOrigin);const O=b.load(p,E,v,w);return y!==void 0&&(O.mapping=y),O}}},"./node_modules/three/examples/jsm/loaders/OBJLoader.js":(u,d,c)=>{c.r(d),c.d(d,{OBJLoader:()=>R});var f=c("./node_modules/three/build/three.module.js");const M=/^[og]\s*(.+)?/,m=/^mtllib /,A=/^usemtl /,p=/^usemap /,y=/\s+/,E=new f.Vector3,v=new f.Vector3,w=new f.Vector3,x=new f.Vector3,b=new f.Vector3,O=new f.Color;function S(){const I={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(P,L){if(this.object&&this.object.fromDeclaration===!1){this.object.name=P,this.object.fromDeclaration=L!==!1;return}const k=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:P||"",fromDeclaration:L!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(N,$){const H=this._finalize(!1);H&&(H.inherited||H.groupCount<=0)&&this.materials.splice(H.index,1);const U={index:this.materials.length,name:N||"",mtllib:Array.isArray($)&&$.length>0?$[$.length-1]:"",smooth:H!==void 0?H.smooth:this.smooth,groupStart:H!==void 0?H.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(W){const J={index:typeof W=="number"?W:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return J.clone=this.clone.bind(J),J}};return this.materials.push(U),U},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(N){const $=this.currentMaterial();if($&&$.groupEnd===-1&&($.groupEnd=this.geometry.vertices.length/3,$.groupCount=$.groupEnd-$.groupStart,$.inherited=!1),N&&this.materials.length>1)for(let H=this.materials.length-1;H>=0;H--)this.materials[H].groupCount<=0&&this.materials.splice(H,1);return N&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),$}},k&&k.name&&typeof k.clone=="function"){const N=k.clone(0);N.inherited=!0,this.object.materials.push(N)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(P,L){const k=parseInt(P,10);return(k>=0?k-1:k+L/3)*3},parseNormalIndex:function(P,L){const k=parseInt(P,10);return(k>=0?k-1:k+L/3)*3},parseUVIndex:function(P,L){const k=parseInt(P,10);return(k>=0?k-1:k+L/2)*2},addVertex:function(P,L,k){const N=this.vertices,$=this.object.geometry.vertices;$.push(N[P+0],N[P+1],N[P+2]),$.push(N[L+0],N[L+1],N[L+2]),$.push(N[k+0],N[k+1],N[k+2])},addVertexPoint:function(P){const L=this.vertices;this.object.geometry.vertices.push(L[P+0],L[P+1],L[P+2])},addVertexLine:function(P){const L=this.vertices;this.object.geometry.vertices.push(L[P+0],L[P+1],L[P+2])},addNormal:function(P,L,k){const N=this.normals,$=this.object.geometry.normals;$.push(N[P+0],N[P+1],N[P+2]),$.push(N[L+0],N[L+1],N[L+2]),$.push(N[k+0],N[k+1],N[k+2])},addFaceNormal:function(P,L,k){const N=this.vertices,$=this.object.geometry.normals;E.fromArray(N,P),v.fromArray(N,L),w.fromArray(N,k),b.subVectors(w,v),x.subVectors(E,v),b.cross(x),b.normalize(),$.push(b.x,b.y,b.z),$.push(b.x,b.y,b.z),$.push(b.x,b.y,b.z)},addColor:function(P,L,k){const N=this.colors,$=this.object.geometry.colors;N[P]!==void 0&&$.push(N[P+0],N[P+1],N[P+2]),N[L]!==void 0&&$.push(N[L+0],N[L+1],N[L+2]),N[k]!==void 0&&$.push(N[k+0],N[k+1],N[k+2])},addUV:function(P,L,k){const N=this.uvs,$=this.object.geometry.uvs;$.push(N[P+0],N[P+1]),$.push(N[L+0],N[L+1]),$.push(N[k+0],N[k+1])},addDefaultUV:function(){const P=this.object.geometry.uvs;P.push(0,0),P.push(0,0),P.push(0,0)},addUVLine:function(P){const L=this.uvs;this.object.geometry.uvs.push(L[P+0],L[P+1])},addFace:function(P,L,k,N,$,H,U,W,J){const Q=this.vertices.length;let G=this.parseVertexIndex(P,Q),z=this.parseVertexIndex(L,Q),j=this.parseVertexIndex(k,Q);if(this.addVertex(G,z,j),this.addColor(G,z,j),U!==void 0&&U!==""){const nt=this.normals.length;G=this.parseNormalIndex(U,nt),z=this.parseNormalIndex(W,nt),j=this.parseNormalIndex(J,nt),this.addNormal(G,z,j)}else this.addFaceNormal(G,z,j);if(N!==void 0&&N!==""){const nt=this.uvs.length;G=this.parseUVIndex(N,nt),z=this.parseUVIndex($,nt),j=this.parseUVIndex(H,nt),this.addUV(G,z,j),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(P){this.object.geometry.type="Points";const L=this.vertices.length;for(let k=0,N=P.length;k<N;k++){const $=this.parseVertexIndex(P[k],L);this.addVertexPoint($),this.addColor($)}},addLineGeometry:function(P,L){this.object.geometry.type="Line";const k=this.vertices.length,N=this.uvs.length;for(let $=0,H=P.length;$<H;$++)this.addVertexLine(this.parseVertexIndex(P[$],k));for(let $=0,H=L.length;$<H;$++)this.addUVLine(this.parseUVIndex(L[$],N))}};return I.startObject("",!1),I}class R extends f.Loader{constructor(P){super(P),this.materials=null}load(P,L,k,N){const $=this,H=new f.FileLoader(this.manager);H.setPath(this.path),H.setRequestHeader(this.requestHeader),H.setWithCredentials(this.withCredentials),H.load(P,function(U){try{L($.parse(U))}catch(W){N?N(W):console.error(W),$.manager.itemError(P)}},k,N)}setMaterials(P){return this.materials=P,this}parse(P){const L=new S;P.indexOf(`\r
`)!==-1&&(P=P.replace(/\r\n/g,`
`)),P.indexOf(`\\
`)!==-1&&(P=P.replace(/\\\n/g,""));const k=P.split(`
`);let N=[];for(let U=0,W=k.length;U<W;U++){const J=k[U].trimStart();if(J.length===0)continue;const Q=J.charAt(0);if(Q!=="#")if(Q==="v"){const G=J.split(y);switch(G[0]){case"v":L.vertices.push(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])),G.length>=7?(O.setRGB(parseFloat(G[4]),parseFloat(G[5]),parseFloat(G[6])).convertSRGBToLinear(),L.colors.push(O.r,O.g,O.b)):L.colors.push(void 0,void 0,void 0);break;case"vn":L.normals.push(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3]));break;case"vt":L.uvs.push(parseFloat(G[1]),parseFloat(G[2]));break}}else if(Q==="f"){const z=J.slice(1).trim().split(y),j=[];for(let tt=0,ht=z.length;tt<ht;tt++){const pt=z[tt];if(pt.length>0){const gt=pt.split("/");j.push(gt)}}const nt=j[0];for(let tt=1,ht=j.length-1;tt<ht;tt++){const pt=j[tt],gt=j[tt+1];L.addFace(nt[0],pt[0],gt[0],nt[1],pt[1],gt[1],nt[2],pt[2],gt[2])}}else if(Q==="l"){const G=J.substring(1).trim().split(" ");let z=[];const j=[];if(J.indexOf("/")===-1)z=G;else for(let nt=0,tt=G.length;nt<tt;nt++){const ht=G[nt].split("/");ht[0]!==""&&z.push(ht[0]),ht[1]!==""&&j.push(ht[1])}L.addLineGeometry(z,j)}else if(Q==="p"){const z=J.slice(1).trim().split(" ");L.addPointGeometry(z)}else if((N=M.exec(J))!==null){const G=(" "+N[0].slice(1).trim()).slice(1);L.startObject(G)}else if(A.test(J))L.object.startMaterial(J.substring(7).trim(),L.materialLibraries);else if(m.test(J))L.materialLibraries.push(J.substring(7).trim());else if(p.test(J))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(Q==="s"){if(N=J.split(" "),N.length>1){const z=N[1].trim().toLowerCase();L.object.smooth=z!=="0"&&z!=="off"}else L.object.smooth=!0;const G=L.object.currentMaterial();G&&(G.smooth=L.object.smooth)}else{if(J==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+J+'"')}}L.finalize();const $=new f.Group;if($.materialLibraries=[].concat(L.materialLibraries),!(L.objects.length===1&&L.objects[0].geometry.vertices.length===0)===!0)for(let U=0,W=L.objects.length;U<W;U++){const J=L.objects[U],Q=J.geometry,G=J.materials,z=Q.type==="Line",j=Q.type==="Points";let nt=!1;if(Q.vertices.length===0)continue;const tt=new f.BufferGeometry;tt.setAttribute("position",new f.Float32BufferAttribute(Q.vertices,3)),Q.normals.length>0&&tt.setAttribute("normal",new f.Float32BufferAttribute(Q.normals,3)),Q.colors.length>0&&(nt=!0,tt.setAttribute("color",new f.Float32BufferAttribute(Q.colors,3))),Q.hasUVIndices===!0&&tt.setAttribute("uv",new f.Float32BufferAttribute(Q.uvs,2));const ht=[];for(let gt=0,Tt=G.length;gt<Tt;gt++){const vt=G[gt],Ot=vt.name+"_"+vt.smooth+"_"+nt;let ft=L.materials[Ot];if(this.materials!==null){if(ft=this.materials.create(vt.name),z&&ft&&!(ft instanceof f.LineBasicMaterial)){const St=new f.LineBasicMaterial;f.Material.prototype.copy.call(St,ft),St.color.copy(ft.color),ft=St}else if(j&&ft&&!(ft instanceof f.PointsMaterial)){const St=new f.PointsMaterial({size:10,sizeAttenuation:!1});f.Material.prototype.copy.call(St,ft),St.color.copy(ft.color),St.map=ft.map,ft=St}}ft===void 0&&(z?ft=new f.LineBasicMaterial:j?ft=new f.PointsMaterial({size:1,sizeAttenuation:!1}):ft=new f.MeshPhongMaterial,ft.name=vt.name,ft.flatShading=!vt.smooth,ft.vertexColors=nt,L.materials[Ot]=ft),ht.push(ft)}let pt;if(ht.length>1){for(let gt=0,Tt=G.length;gt<Tt;gt++){const vt=G[gt];tt.addGroup(vt.groupStart,vt.groupCount,gt)}z?pt=new f.LineSegments(tt,ht):j?pt=new f.Points(tt,ht):pt=new f.Mesh(tt,ht)}else z?pt=new f.LineSegments(tt,ht[0]):j?pt=new f.Points(tt,ht[0]):pt=new f.Mesh(tt,ht[0]);pt.name=J.name,$.add(pt)}else if(L.vertices.length>0){const U=new f.PointsMaterial({size:1,sizeAttenuation:!1}),W=new f.BufferGeometry;W.setAttribute("position",new f.Float32BufferAttribute(L.vertices,3)),L.colors.length>0&&L.colors[0]!==void 0&&(W.setAttribute("color",new f.Float32BufferAttribute(L.colors,3)),U.vertexColors=!0);const J=new f.Points(W,U);$.add(J)}return $}}},"./node_modules/three/examples/jsm/math/OBB.js":(u,d,c)=>{c.r(d),c.d(d,{OBB:()=>k});var f=c("./node_modules/three/build/three.module.js");const M={c:null,u:[new f.Vector3,new f.Vector3,new f.Vector3],e:[]},m={c:null,u:[new f.Vector3,new f.Vector3,new f.Vector3],e:[]},A=[[],[],[]],p=[[],[],[]],y=[],E=new f.Vector3,v=new f.Vector3,w=new f.Vector3,x=new f.Vector3,b=new f.Vector3,O=new f.Vector3,S=new f.Matrix3,R=new f.Box3,I=new f.Matrix4,P=new f.Matrix4,L=new f.Ray;class k{constructor(H=new f.Vector3,U=new f.Vector3,W=new f.Matrix3){this.center=H,this.halfSize=U,this.rotation=W}set(H,U,W){return this.center=H,this.halfSize=U,this.rotation=W,this}copy(H){return this.center.copy(H.center),this.halfSize.copy(H.halfSize),this.rotation.copy(H.rotation),this}clone(){return new this.constructor().copy(this)}getSize(H){return H.copy(this.halfSize).multiplyScalar(2)}clampPoint(H,U){const W=this.halfSize;x.subVectors(H,this.center),this.rotation.extractBasis(E,v,w),U.copy(this.center);const J=f.MathUtils.clamp(x.dot(E),-W.x,W.x);U.add(E.multiplyScalar(J));const Q=f.MathUtils.clamp(x.dot(v),-W.y,W.y);U.add(v.multiplyScalar(Q));const G=f.MathUtils.clamp(x.dot(w),-W.z,W.z);return U.add(w.multiplyScalar(G)),U}containsPoint(H){return x.subVectors(H,this.center),this.rotation.extractBasis(E,v,w),Math.abs(x.dot(E))<=this.halfSize.x&&Math.abs(x.dot(v))<=this.halfSize.y&&Math.abs(x.dot(w))<=this.halfSize.z}intersectsBox3(H){return this.intersectsOBB(N.fromBox3(H))}intersectsSphere(H){return this.clampPoint(H.center,O),O.distanceToSquared(H.center)<=H.radius*H.radius}intersectsOBB(H,U=Number.EPSILON){M.c=this.center,M.e[0]=this.halfSize.x,M.e[1]=this.halfSize.y,M.e[2]=this.halfSize.z,this.rotation.extractBasis(M.u[0],M.u[1],M.u[2]),m.c=H.center,m.e[0]=H.halfSize.x,m.e[1]=H.halfSize.y,m.e[2]=H.halfSize.z,H.rotation.extractBasis(m.u[0],m.u[1],m.u[2]);for(let Q=0;Q<3;Q++)for(let G=0;G<3;G++)A[Q][G]=M.u[Q].dot(m.u[G]);x.subVectors(m.c,M.c),y[0]=x.dot(M.u[0]),y[1]=x.dot(M.u[1]),y[2]=x.dot(M.u[2]);for(let Q=0;Q<3;Q++)for(let G=0;G<3;G++)p[Q][G]=Math.abs(A[Q][G])+U;let W,J;for(let Q=0;Q<3;Q++)if(W=M.e[Q],J=m.e[0]*p[Q][0]+m.e[1]*p[Q][1]+m.e[2]*p[Q][2],Math.abs(y[Q])>W+J)return!1;for(let Q=0;Q<3;Q++)if(W=M.e[0]*p[0][Q]+M.e[1]*p[1][Q]+M.e[2]*p[2][Q],J=m.e[Q],Math.abs(y[0]*A[0][Q]+y[1]*A[1][Q]+y[2]*A[2][Q])>W+J)return!1;return W=M.e[1]*p[2][0]+M.e[2]*p[1][0],J=m.e[1]*p[0][2]+m.e[2]*p[0][1],!(Math.abs(y[2]*A[1][0]-y[1]*A[2][0])>W+J||(W=M.e[1]*p[2][1]+M.e[2]*p[1][1],J=m.e[0]*p[0][2]+m.e[2]*p[0][0],Math.abs(y[2]*A[1][1]-y[1]*A[2][1])>W+J)||(W=M.e[1]*p[2][2]+M.e[2]*p[1][2],J=m.e[0]*p[0][1]+m.e[1]*p[0][0],Math.abs(y[2]*A[1][2]-y[1]*A[2][2])>W+J)||(W=M.e[0]*p[2][0]+M.e[2]*p[0][0],J=m.e[1]*p[1][2]+m.e[2]*p[1][1],Math.abs(y[0]*A[2][0]-y[2]*A[0][0])>W+J)||(W=M.e[0]*p[2][1]+M.e[2]*p[0][1],J=m.e[0]*p[1][2]+m.e[2]*p[1][0],Math.abs(y[0]*A[2][1]-y[2]*A[0][1])>W+J)||(W=M.e[0]*p[2][2]+M.e[2]*p[0][2],J=m.e[0]*p[1][1]+m.e[1]*p[1][0],Math.abs(y[0]*A[2][2]-y[2]*A[0][2])>W+J)||(W=M.e[0]*p[1][0]+M.e[1]*p[0][0],J=m.e[1]*p[2][2]+m.e[2]*p[2][1],Math.abs(y[1]*A[0][0]-y[0]*A[1][0])>W+J)||(W=M.e[0]*p[1][1]+M.e[1]*p[0][1],J=m.e[0]*p[2][2]+m.e[2]*p[2][0],Math.abs(y[1]*A[0][1]-y[0]*A[1][1])>W+J)||(W=M.e[0]*p[1][2]+M.e[1]*p[0][2],J=m.e[0]*p[2][1]+m.e[1]*p[2][0],Math.abs(y[1]*A[0][2]-y[0]*A[1][2])>W+J))}intersectsPlane(H){this.rotation.extractBasis(E,v,w);const U=this.halfSize.x*Math.abs(H.normal.dot(E))+this.halfSize.y*Math.abs(H.normal.dot(v))+this.halfSize.z*Math.abs(H.normal.dot(w)),W=H.normal.dot(this.center)-H.constant;return Math.abs(W)<=U}intersectRay(H,U){return this.getSize(b),R.setFromCenterAndSize(x.set(0,0,0),b),I.setFromMatrix3(this.rotation),I.setPosition(this.center),P.copy(I).invert(),L.copy(H).applyMatrix4(P),L.intersectBox(R,U)?U.applyMatrix4(I):null}intersectsRay(H){return this.intersectRay(H,x)!==null}fromBox3(H){return H.getCenter(this.center),H.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals(H){return H.center.equals(this.center)&&H.halfSize.equals(this.halfSize)&&H.rotation.equals(this.rotation)}applyMatrix4(H){const U=H.elements;let W=x.set(U[0],U[1],U[2]).length();const J=x.set(U[4],U[5],U[6]).length(),Q=x.set(U[8],U[9],U[10]).length();H.determinant()<0&&(W=-W),S.setFromMatrix4(H);const z=1/W,j=1/J,nt=1/Q;return S.elements[0]*=z,S.elements[1]*=z,S.elements[2]*=z,S.elements[3]*=j,S.elements[4]*=j,S.elements[5]*=j,S.elements[6]*=nt,S.elements[7]*=nt,S.elements[8]*=nt,this.rotation.multiply(S),this.halfSize.x*=W,this.halfSize.y*=J,this.halfSize.z*=Q,x.setFromMatrixPosition(H),this.center.add(x),this}}const N=new k},"./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js":(u,d,c)=>{c.r(d),c.d(d,{computeMikkTSpaceTangents:()=>M,computeMorphedAttributes:()=>O,deepCloneAttribute:()=>p,deinterleaveAttribute:()=>E,deinterleaveGeometry:()=>v,estimateBytesUsed:()=>w,interleaveAttributes:()=>y,mergeAttributes:()=>A,mergeGeometries:()=>m,mergeGroups:()=>S,mergeVertices:()=>x,toCreasedNormals:()=>R,toTrianglesDrawMode:()=>b});var f=c("./node_modules/three/build/three.module.js");function M(I,P,L=!0){if(!P||!P.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!I.hasAttribute("position")||!I.hasAttribute("normal")||!I.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function k(H){if(H.normalized||H.isInterleavedBufferAttribute){const U=new Float32Array(H.count*H.itemSize);for(let W=0,J=0;W<H.count;W++)U[J++]=H.getX(W),U[J++]=H.getY(W),H.itemSize>2&&(U[J++]=H.getZ(W));return U}return H.array instanceof Float32Array?H.array:new Float32Array(H.array)}const N=I.index?I.toNonIndexed():I,$=P.generateTangents(k(N.attributes.position),k(N.attributes.normal),k(N.attributes.uv));if(L)for(let H=3;H<$.length;H+=4)$[H]*=-1;return N.setAttribute("tangent",new f.BufferAttribute($,4)),I!==N&&I.copy(N),I}function m(I,P=!1){const L=I[0].index!==null,k=new Set(Object.keys(I[0].attributes)),N=new Set(Object.keys(I[0].morphAttributes)),$={},H={},U=I[0].morphTargetsRelative,W=new f.BufferGeometry;let J=0;for(let Q=0;Q<I.length;++Q){const G=I[Q];let z=0;if(L!==(G.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const j in G.attributes){if(!k.has(j))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+'. All geometries must have compatible attributes; make sure "'+j+'" attribute exists among all geometries, or in none of them.'),null;$[j]===void 0&&($[j]=[]),$[j].push(G.attributes[j]),z++}if(z!==k.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". Make sure all geometries have the same number of attributes."),null;if(U!==G.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const j in G.morphAttributes){if(!N.has(j))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+".  .morphAttributes must be consistent throughout all geometries."),null;H[j]===void 0&&(H[j]=[]),H[j].push(G.morphAttributes[j])}if(P){let j;if(L)j=G.index.count;else if(G.attributes.position!==void 0)j=G.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". The geometry must have either an index or a position attribute"),null;W.addGroup(J,j,Q),J+=j}}if(L){let Q=0;const G=[];for(let z=0;z<I.length;++z){const j=I[z].index;for(let nt=0;nt<j.count;++nt)G.push(j.getX(nt)+Q);Q+=I[z].attributes.position.count}W.setIndex(G)}for(const Q in $){const G=A($[Q]);if(!G)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+Q+" attribute."),null;W.setAttribute(Q,G)}for(const Q in H){const G=H[Q][0].length;if(G===0)break;W.morphAttributes=W.morphAttributes||{},W.morphAttributes[Q]=[];for(let z=0;z<G;++z){const j=[];for(let tt=0;tt<H[Q].length;++tt)j.push(H[Q][tt][z]);const nt=A(j);if(!nt)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+Q+" morphAttribute."),null;W.morphAttributes[Q].push(nt)}}return W}function A(I){let P,L,k,N=-1,$=0;for(let J=0;J<I.length;++J){const Q=I[J];if(P===void 0&&(P=Q.array.constructor),P!==Q.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(L===void 0&&(L=Q.itemSize),L!==Q.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(k===void 0&&(k=Q.normalized),k!==Q.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(N===-1&&(N=Q.gpuType),N!==Q.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;$+=Q.count*L}const H=new P($),U=new f.BufferAttribute(H,L,k);let W=0;for(let J=0;J<I.length;++J){const Q=I[J];if(Q.isInterleavedBufferAttribute){const G=W/L;for(let z=0,j=Q.count;z<j;z++)for(let nt=0;nt<L;nt++){const tt=Q.getComponent(z,nt);U.setComponent(z+G,nt,tt)}}else H.set(Q.array,W);W+=Q.count*L}return N!==void 0&&(U.gpuType=N),U}function p(I){return I.isInstancedInterleavedBufferAttribute||I.isInterleavedBufferAttribute?E(I):I.isInstancedBufferAttribute?new f.InstancedBufferAttribute().copy(I):new f.BufferAttribute().copy(I)}function y(I){let P,L=0,k=0;for(let J=0,Q=I.length;J<Q;++J){const G=I[J];if(P===void 0&&(P=G.array.constructor),P!==G.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;L+=G.array.length,k+=G.itemSize}const N=new f.InterleavedBuffer(new P(L),k);let $=0;const H=[],U=["getX","getY","getZ","getW"],W=["setX","setY","setZ","setW"];for(let J=0,Q=I.length;J<Q;J++){const G=I[J],z=G.itemSize,j=G.count,nt=new f.InterleavedBufferAttribute(N,z,$,G.normalized);H.push(nt),$+=z;for(let tt=0;tt<j;tt++)for(let ht=0;ht<z;ht++)nt[W[ht]](tt,G[U[ht]](tt))}return H}function E(I){const P=I.data.array.constructor,L=I.count,k=I.itemSize,N=I.normalized,$=new P(L*k);let H;I.isInstancedInterleavedBufferAttribute?H=new f.InstancedBufferAttribute($,k,N,I.meshPerAttribute):H=new f.BufferAttribute($,k,N);for(let U=0;U<L;U++)H.setX(U,I.getX(U)),k>=2&&H.setY(U,I.getY(U)),k>=3&&H.setZ(U,I.getZ(U)),k>=4&&H.setW(U,I.getW(U));return H}function v(I){const P=I.attributes,L=I.morphTargets,k=new Map;for(const N in P){const $=P[N];$.isInterleavedBufferAttribute&&(k.has($)||k.set($,E($)),P[N]=k.get($))}for(const N in L){const $=L[N];$.isInterleavedBufferAttribute&&(k.has($)||k.set($,E($)),L[N]=k.get($))}}function w(I){let P=0;for(const k in I.attributes){const N=I.getAttribute(k);P+=N.count*N.itemSize*N.array.BYTES_PER_ELEMENT}const L=I.getIndex();return P+=L?L.count*L.itemSize*L.array.BYTES_PER_ELEMENT:0,P}function x(I,P=1e-4){P=Math.max(P,Number.EPSILON);const L={},k=I.getIndex(),N=I.getAttribute("position"),$=k?k.count:N.count;let H=0;const U=Object.keys(I.attributes),W={},J={},Q=[],G=["getX","getY","getZ","getW"],z=["setX","setY","setZ","setW"];for(let gt=0,Tt=U.length;gt<Tt;gt++){const vt=U[gt],Ot=I.attributes[vt];W[vt]=new f.BufferAttribute(new Ot.array.constructor(Ot.count*Ot.itemSize),Ot.itemSize,Ot.normalized);const ft=I.morphAttributes[vt];ft&&(J[vt]=new f.BufferAttribute(new ft.array.constructor(ft.count*ft.itemSize),ft.itemSize,ft.normalized))}const j=P*.5,nt=Math.log10(1/P),tt=Math.pow(10,nt),ht=j*tt;for(let gt=0;gt<$;gt++){const Tt=k?k.getX(gt):gt;let vt="";for(let Ot=0,ft=U.length;Ot<ft;Ot++){const St=U[Ot],Mt=I.getAttribute(St),Pt=Mt.itemSize;for(let Vt=0;Vt<Pt;Vt++)vt+=`${~~(Mt[G[Vt]](Tt)*tt+ht)},`}if(vt in L)Q.push(L[vt]);else{for(let Ot=0,ft=U.length;Ot<ft;Ot++){const St=U[Ot],Mt=I.getAttribute(St),Pt=I.morphAttributes[St],Vt=Mt.itemSize,ie=W[St],jt=J[St];for(let Wt=0;Wt<Vt;Wt++){const me=G[Wt],Yt=z[Wt];if(ie[Yt](H,Mt[me](Tt)),Pt)for(let pe=0,Qe=Pt.length;pe<Qe;pe++)jt[pe][Yt](H,Pt[pe][me](Tt))}}L[vt]=H,Q.push(H),H++}}const pt=I.clone();for(const gt in I.attributes){const Tt=W[gt];if(pt.setAttribute(gt,new f.BufferAttribute(Tt.array.slice(0,H*Tt.itemSize),Tt.itemSize,Tt.normalized)),gt in J)for(let vt=0;vt<J[gt].length;vt++){const Ot=J[gt][vt];pt.morphAttributes[gt][vt]=new f.BufferAttribute(Ot.array.slice(0,H*Ot.itemSize),Ot.itemSize,Ot.normalized)}}return pt.setIndex(Q),pt}function b(I,P){if(P===f.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),I;if(P===f.TriangleFanDrawMode||P===f.TriangleStripDrawMode){let L=I.getIndex();if(L===null){const H=[],U=I.getAttribute("position");if(U!==void 0){for(let W=0;W<U.count;W++)H.push(W);I.setIndex(H),L=I.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),I}const k=L.count-2,N=[];if(P===f.TriangleFanDrawMode)for(let H=1;H<=k;H++)N.push(L.getX(0)),N.push(L.getX(H)),N.push(L.getX(H+1));else for(let H=0;H<k;H++)H%2===0?(N.push(L.getX(H)),N.push(L.getX(H+1)),N.push(L.getX(H+2))):(N.push(L.getX(H+2)),N.push(L.getX(H+1)),N.push(L.getX(H)));N.length/3!==k&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const $=I.clone();return $.setIndex(N),$.clearGroups(),$}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",P),I}function O(I){const P=new f.Vector3,L=new f.Vector3,k=new f.Vector3,N=new f.Vector3,$=new f.Vector3,H=new f.Vector3,U=new f.Vector3,W=new f.Vector3,J=new f.Vector3;function Q(ei,Ci,ai,ti,be,ye,ne,Et){P.fromBufferAttribute(Ci,be),L.fromBufferAttribute(Ci,ye),k.fromBufferAttribute(Ci,ne);const yt=ei.morphTargetInfluences;if(ai&&yt){U.set(0,0,0),W.set(0,0,0),J.set(0,0,0);for(let Ht=0,wt=ai.length;Ht<wt;Ht++){const xt=yt[Ht],Qt=ai[Ht];xt!==0&&(N.fromBufferAttribute(Qt,be),$.fromBufferAttribute(Qt,ye),H.fromBufferAttribute(Qt,ne),ti?(U.addScaledVector(N,xt),W.addScaledVector($,xt),J.addScaledVector(H,xt)):(U.addScaledVector(N.sub(P),xt),W.addScaledVector($.sub(L),xt),J.addScaledVector(H.sub(k),xt)))}P.add(U),L.add(W),k.add(J)}ei.isSkinnedMesh&&(ei.applyBoneTransform(be,P),ei.applyBoneTransform(ye,L),ei.applyBoneTransform(ne,k)),Et[be*3+0]=P.x,Et[be*3+1]=P.y,Et[be*3+2]=P.z,Et[ye*3+0]=L.x,Et[ye*3+1]=L.y,Et[ye*3+2]=L.z,Et[ne*3+0]=k.x,Et[ne*3+1]=k.y,Et[ne*3+2]=k.z}const G=I.geometry,z=I.material;let j,nt,tt;const ht=G.index,pt=G.attributes.position,gt=G.morphAttributes.position,Tt=G.morphTargetsRelative,vt=G.attributes.normal,Ot=G.morphAttributes.position,ft=G.groups,St=G.drawRange;let Mt,Pt,Vt,ie,jt,Wt,me;const Yt=new Float32Array(pt.count*pt.itemSize),pe=new Float32Array(vt.count*vt.itemSize);if(ht!==null)if(Array.isArray(z))for(Mt=0,Vt=ft.length;Mt<Vt;Mt++)for(jt=ft[Mt],Wt=Math.max(jt.start,St.start),me=Math.min(jt.start+jt.count,St.start+St.count),Pt=Wt,ie=me;Pt<ie;Pt+=3)j=ht.getX(Pt),nt=ht.getX(Pt+1),tt=ht.getX(Pt+2),Q(I,pt,gt,Tt,j,nt,tt,Yt),Q(I,vt,Ot,Tt,j,nt,tt,pe);else for(Wt=Math.max(0,St.start),me=Math.min(ht.count,St.start+St.count),Mt=Wt,Vt=me;Mt<Vt;Mt+=3)j=ht.getX(Mt),nt=ht.getX(Mt+1),tt=ht.getX(Mt+2),Q(I,pt,gt,Tt,j,nt,tt,Yt),Q(I,vt,Ot,Tt,j,nt,tt,pe);else if(Array.isArray(z))for(Mt=0,Vt=ft.length;Mt<Vt;Mt++)for(jt=ft[Mt],Wt=Math.max(jt.start,St.start),me=Math.min(jt.start+jt.count,St.start+St.count),Pt=Wt,ie=me;Pt<ie;Pt+=3)j=Pt,nt=Pt+1,tt=Pt+2,Q(I,pt,gt,Tt,j,nt,tt,Yt),Q(I,vt,Ot,Tt,j,nt,tt,pe);else for(Wt=Math.max(0,St.start),me=Math.min(pt.count,St.start+St.count),Mt=Wt,Vt=me;Mt<Vt;Mt+=3)j=Mt,nt=Mt+1,tt=Mt+2,Q(I,pt,gt,Tt,j,nt,tt,Yt),Q(I,vt,Ot,Tt,j,nt,tt,pe);const Qe=new f.Float32BufferAttribute(Yt,3),ni=new f.Float32BufferAttribute(pe,3);return{positionAttribute:pt,normalAttribute:vt,morphedPositionAttribute:Qe,morphedNormalAttribute:ni}}function S(I){if(I.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),I;let P=I.groups;if(P=P.sort((H,U)=>H.materialIndex!==U.materialIndex?H.materialIndex-U.materialIndex:H.start-U.start),I.getIndex()===null){const H=I.getAttribute("position"),U=[];for(let W=0;W<H.count;W+=3)U.push(W,W+1,W+2);I.setIndex(U)}const L=I.getIndex(),k=[];for(let H=0;H<P.length;H++){const U=P[H],W=U.start,J=W+U.count;for(let Q=W;Q<J;Q++)k.push(L.getX(Q))}I.dispose(),I.setIndex(k);let N=0;for(let H=0;H<P.length;H++){const U=P[H];U.start=N,N+=U.count}let $=P[0];I.groups=[$];for(let H=1;H<P.length;H++){const U=P[H];$.materialIndex===U.materialIndex?$.count+=U.count:($=U,I.groups.push($))}return I}function R(I,P=Math.PI/3){const L=Math.cos(P),k=(1+1e-10)*100,N=[new f.Vector3,new f.Vector3,new f.Vector3],$=new f.Vector3,H=new f.Vector3,U=new f.Vector3,W=new f.Vector3;function J(tt){const ht=~~(tt.x*k),pt=~~(tt.y*k),gt=~~(tt.z*k);return`${ht},${pt},${gt}`}const Q=I.index?I.toNonIndexed():I,G=Q.attributes.position,z={};for(let tt=0,ht=G.count/3;tt<ht;tt++){const pt=3*tt,gt=N[0].fromBufferAttribute(G,pt+0),Tt=N[1].fromBufferAttribute(G,pt+1),vt=N[2].fromBufferAttribute(G,pt+2);$.subVectors(vt,Tt),H.subVectors(gt,Tt);const Ot=new f.Vector3().crossVectors($,H).normalize();for(let ft=0;ft<3;ft++){const St=N[ft],Mt=J(St);Mt in z||(z[Mt]=[]),z[Mt].push(Ot)}}const j=new Float32Array(G.count*3),nt=new f.BufferAttribute(j,3,!1);for(let tt=0,ht=G.count/3;tt<ht;tt++){const pt=3*tt,gt=N[0].fromBufferAttribute(G,pt+0),Tt=N[1].fromBufferAttribute(G,pt+1),vt=N[2].fromBufferAttribute(G,pt+2);$.subVectors(vt,Tt),H.subVectors(gt,Tt),U.crossVectors($,H).normalize();for(let Ot=0;Ot<3;Ot++){const ft=N[Ot],St=J(ft),Mt=z[St];W.set(0,0,0);for(let Pt=0,Vt=Mt.length;Pt<Vt;Pt++){const ie=Mt[Pt];U.dot(ie)>L&&W.add(ie)}W.normalize(),nt.setXYZ(pt+Ot,W.x,W.y,W.z)}}return Q.setAttribute("normal",nt),Q}},"./node_modules/three/examples/jsm/utils/WorkerPool.js":(u,d,c)=>{c.r(d),c.d(d,{WorkerPool:()=>f});class f{constructor(m=4){this.pool=m,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(m){if(!this.workers[m]){const A=this.workerCreator();A.addEventListener("message",this._onMessage.bind(this,m)),this.workers[m]=A}}_getIdleWorker(){for(let m=0;m<this.pool;m++)if(!(this.workerStatus&1<<m))return m;return-1}_onMessage(m,A){const p=this.workersResolve[m];if(p&&p(A),this.queue.length){const{resolve:y,msg:E,transfer:v}=this.queue.shift();this.workersResolve[m]=y,this.workers[m].postMessage(E,v)}else this.workerStatus^=1<<m}setWorkerCreator(m){this.workerCreator=m}setWorkerLimit(m){this.pool=m}postMessage(m,A){return new Promise(p=>{const y=this._getIdleWorker();y!==-1?(this._initWorker(y),this.workerStatus|=1<<y,this.workersResolve[y]=p,this.workers[y].postMessage(m,A)):this.queue.push({resolve:p,msg:m,transfer:A})})}dispose(){this.workers.forEach(m=>m.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}},"./src/lib/three.mjs":(u,d,c)=>{c.r(d),c.d(d,{default:()=>b});var f=c("./node_modules/three/build/three.module.js"),M=c("./node_modules/three/examples/jsm/loaders/DRACOLoader.js"),m=c("./node_modules/three/examples/jsm/loaders/GLTFLoader.js"),A=c("./node_modules/three/examples/jsm/loaders/KTX2Loader.js"),p=c("./node_modules/three/examples/jsm/math/OBB.js"),y=c("./node_modules/three/examples/jsm/loaders/OBJLoader.js"),E=c("./node_modules/three/examples/jsm/loaders/MTLLoader.js"),v=c("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js"),w=c("./node_modules/three/examples/jsm/lights/LightProbeGenerator.js"),x={...f};x.DRACOLoader=M.DRACOLoader,x.GLTFLoader=m.GLTFLoader,x.KTX2Loader=A.KTX2Loader,x.OBJLoader=y.OBJLoader,x.MTLLoader=E.MTLLoader,x.OBB=p.OBB,x.BufferGeometryUtils=v,x.LightProbeGenerator=w.LightProbeGenerator;const b=x},"./package.json":u=>{u.exports=JSON.parse('{"name":"aframe","version":"1.6.0","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"dev":"cross-env INSPECTOR_VERSION=dev webpack serve --port 8080","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"webpack --config webpack.config.js","dist:min":"webpack --config webpack.prod.config.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"standardx -v | snazzy","lint:fix":"standardx --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"node scripts/release.js 1.5.0 1.6.0","start":"npm run dev","start:https":"npm run dev -- --server-type https","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"node --experimental-require-module ./node_modules/mocha/bin/mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"buffer":"^6.0.3","debug":"^4.3.4","deep-assign":"^2.0.0","load-bmfont":"^1.2.3","super-animejs":"^3.1.0","three":"npm:super-three@0.164.0","three-bmfont-text":"dmarcos/three-bmfont-text#eed4878795be9b3e38cf6aec6b903f56acd1f695","webvr-polyfill":"^0.10.12"},"devDependencies":{"@babel/core":"^7.17.10","babel-loader":"^8.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.6","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","cross-env":"^7.0.3","css-loader":"^6.7.1","eslint":"^8.45.0","eslint-config-semistandard":"^17.0.0","eslint-config-standard-jsx":"^11.0.0","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^8.0.3","husky":"^0.11.7","jsdom":"^24.0.0","jsdom-global":"^3.0.2","karma":"^6.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sinon-chai":"^2.0.2","karma-webpack":"^5.0.0","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","mocha":"^10.0.0","replace-in-file":"^2.5.3","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"<12.0.0","sinon-chai":"^3.7.0","snazzy":"^5.0.0","standardx":"^7.0.0","style-loader":"^3.3.1","too-wordy":"ngokevin/too-wordy","webpack":"^5.73.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.0","webpack-merge":"^5.8.0","write-good":"^1.0.8"},"link":true,"standardx":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","quest","meta","web-components","webvr","webxr"],"engines":{"node":">= 4.6.0","npm":">= 2.15.9"}}')}},r={};function s(u){var d=r[u];if(d!==void 0)return d.exports;var c=r[u]={id:u,exports:{}};return a[u].call(c.exports,c,c.exports,s),c.exports}s.m=a,s.n=u=>{var d=u&&u.__esModule?()=>u.default:()=>u;return s.d(d,{a:d}),d},s.d=(u,d)=>{for(var c in d)s.o(d,c)&&!s.o(u,c)&&Object.defineProperty(u,c,{enumerable:!0,get:d[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(u,d)=>Object.prototype.hasOwnProperty.call(u,d),s.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},s.b=document.baseURI||self.location.href,s.nc=void 0;var l=s("./src/index.js");return l})())})(JP);var rut=JP.exports;const out={},sut={};AFRAME.registerComponent("svelte",{multiple:!0,schema:{props:{default:{},parse(t){switch(typeof t){case"string":return JSON.parse(t);default:return t}},serialize(t){return JSON.stringify(t)}},component:{parse(t){return out[t]},serialize(t){return t.name}},gather:{parse(t){return sut[t]},serialize(t){return t.name},default:function(){return this.data.props}}},update(){this.remove(),this.data.component&&requestAnimationFrame(()=>{this.svelte=new this.data.component({target:this.el,props:this.data.gather.call(this)})})},remove(){this.svelte&&(this.svelte.$destroy(),delete this.svelte)}});function E_(t,e,i){const a=t.slice();return a[17]=e[i],a}function __(t,e,i){const a=t.slice();return a[20]=e[i],a}function lut(t,e,i){const a=t.slice();return a[23]=e[i],a}function cut(t,e,i){const a=t.slice();return a[23]=e[i],a}function w_(t,e,i){const a=t.slice();return a[28]=e[i],a}function O_(t,e,i){const a=t.slice();return a[31]=e[i],a}function x_(t){let e,i,a;return{c(){e=K("a-cylinder"),i=q(),a=K("a-entity"),Xi(e,"position",`${Xf/2} 0 ${t[31]-5}`),Xi(e,"radius",.02*(t[31]/6+1)),Xi(e,"height","26"),Xi(e,"rotation","0 0 90"),Xi(e,"color",t[7][Kf-t[31]-1]),Xi(a,"text","value: "+t[6][t[31]]+"; color: #666"),Xi(a,"position",`2.5 0 ${t[31]-5}`),Xi(a,"scale","10 10 10")},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function S_(t){let e,i,a;return{c(){e=K("a-cylinder"),i=q(),a=K("a-entity"),Xi(e,"position",`${t[28]} 0 -2.5`),Xi(e,"radius",.02),Xi(e,"height","5"),Xi(e,"rotation","90 0 0"),Xi(e,"color","#ddd"),Xi(a,"text","value: "+t[28]+"; color: #666"),Xi(a,"position",`${t[28]+4.5} 0 1`),Xi(a,"scale","10 10 10")},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function uut(t){let e;return{c(){e=K("a-sphere"),Xi(e,"position",t[23]-.5+" 0 -2.5"),Xi(e,"color","silver"),Xi(e,"scale","0.25 0.1 0.25")},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function dut(t){let e,i,a;return{c(){e=K("a-sphere"),i=q(),a=K("a-sphere"),Xi(e,"position",t[23]-.5+" 0 -1.5"),Xi(e,"color","silver"),Xi(e,"scale","0.25 0.1 0.25"),Xi(a,"position",t[23]-.5+" 0 -3.5"),Xi(a,"color","silver"),Xi(a,"scale","0.25 0.1 0.25")},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function T_(t){let e,i,a,r,s,l;return{c(){e=K("a-cylinder"),a=q(),r=K("a-entity"),Xi(e,"position",i=`${Xf/2} ${t[5](t[20])} -6`),Xi(e,"radius","0.02"),Xi(e,"height","26"),Xi(e,"rotation","0 0 90"),Xi(e,"color","#ccc"),Xi(r,"text",s="value: "+t[20].toFixed()+"s; color: #666"),Xi(r,"position",l=`2.5 ${t[5](t[20])} -6 `),Xi(r,"scale","10 10 10")},m(u,d){Ct(u,e,d),Ct(u,a,d),Ct(u,r,d)},p(u,d){d[0]&38&&i!==(i=`${Xf/2} ${u[5](u[20])} -6`)&&Xi(e,"position",i),d[0]&6&&s!==(s="value: "+u[20].toFixed()+"s; color: #666")&&Xi(r,"text",s),d[0]&38&&l!==(l=`2.5 ${u[5](u[20])} -6 `)&&Xi(r,"position",l)},d(u){u&&(bt(e),bt(a),bt(r))}}}function I_(t){let e,i,a,r,s,l;return{c(){e=K("a-box"),i=K("a-entity"),r=q(),Xi(i,"text",a="value: "+t[17].note+"\\n"+t[17].fret+"; color: #666"),Xi(i,"position","2.35 0 0.201"),Xi(i,"scale","5 5 5"),Xi(e,"position",s=`${t[17].fret-.3} ${t[5](t[17].time)} ${t[17].string-5}`),Xi(e,"color",l=t[7][Kf-t[17].string-1]),Xi(e,"opacity","0.5"),Xi(e,"width","0.4"),Xi(e,"height","0.4"),Xi(e,"depth","0.4")},m(u,d){Ct(u,e,d),B(e,i),B(e,r)},p(u,d){d[0]&16&&a!==(a="value: "+u[17].note+"\\n"+u[17].fret+"; color: #666")&&Xi(i,"text",a),d[0]&48&&s!==(s=`${u[17].fret-.3} ${u[5](u[17].time)} ${u[17].string-5}`)&&Xi(e,"position",s),d[0]&16&&l!==(l=u[7][Kf-u[17].string-1])&&Xi(e,"color",l)},d(u){u&&bt(e)}}}function hut(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H=$e(Ei(Kf)),U=[];for(let gt=0;gt<H.length;gt+=1)U[gt]=x_(O_(t,H,gt));let W=$e(Ei(Xf+1)),J=[];for(let gt=0;gt<W.length;gt+=1)J[gt]=S_(w_(t,W,gt));let Q=$e([3,5,7,9,15,17,19,21]),G=[];for(let gt=0;gt<8;gt+=1)G[gt]=uut(cut(t,Q,gt));let z=$e([12,24]),j=[];for(let gt=0;gt<2;gt+=1)j[gt]=dut(lut(t,z,gt));let nt=$e(Ei(uC(t[2],5),t[1]+1,5)),tt=[];for(let gt=0;gt<nt.length;gt+=1)tt[gt]=T_(__(t,nt,gt));let ht=$e(t[4]),pt=[];for(let gt=0;gt<ht.length;gt+=1)pt[gt]=I_(E_(t,ht,gt));return N=new k9({props:{noteOn:t[8],controlChange:t[9]}}),{c(){e=K("main"),i=K("a-scene"),a=K("a-entity"),r=q(),s=K("a-entity"),l=q(),u=K("a-entity"),d=q(),c=K("a-entity"),f=q(),M=K("a-sky"),m=q(),A=K("a-entity"),y=q(),E=K("a-entity"),v=q(),w=K("a-entity"),b=q(),O=K("a-box");for(let gt=0;gt<U.length;gt+=1)U[gt].c();S=q();for(let gt=0;gt<J.length;gt+=1)J[gt].c();R=q();for(let gt=0;gt<8;gt+=1)G[gt].c();I=q();for(let gt=0;gt<2;gt+=1)j[gt].c();P=q();for(let gt=0;gt<tt.length;gt+=1)tt[gt].c();L=q();for(let gt=0;gt<pt.length;gt+=1)pt[gt].c();k=q(),Ft(N.$$.fragment),Xi(a,"oculus-touch-controls","hand: left"),Xi(s,"oculus-touch-controls","hand: right"),Xi(u,"id","leftHand"),Xi(u,"hand-tracking-controls","hand: left;"),Xi(c,"id","rightHand"),Xi(c,"hand-tracking-controls","hand: right;"),Xi(M,"color","white"),Xi(A,"text",p="value: "+t[0].title+"; color: #666; width: 5"),Xi(A,"position","-1.75 1.85 -3"),Xi(A,"scale",".35 .35 .35"),Xi(E,"text","value: Connect a MIDI guitar and start playing. Notes are positioned based on their string (forward), fret (right), and time (up). They are colored by string and labelled with note name and fret number.\\n\\nRandom notes are shown until you play.\\n\\nGo back in your browser to return to the main page.; color: #666; width: 5"),Xi(E,"position","-2 1.5 -3"),Xi(E,"scale",".25 .25 .25"),Xi(w,"text",x="value: "+t[3]+"; color: #666; width: 5"),Xi(w,"position","-2 1 -3"),Xi(w,"scale",".25 .25 .25"),Xi(O,"position","-1 .5 -3"),Xi(O,"rotation","0 0 0"),Xi(O,"scale",".1 .1 .1"),Xi(O,"visible","true"),Xi(O,"opacity","0"),dt(e,"class","app")},m(gt,Tt){Ct(gt,e,Tt),B(e,i),B(i,a),B(i,r),B(i,s),B(i,l),B(i,u),B(i,d),B(i,c),B(i,f),B(i,M),B(i,m),B(i,A),B(i,y),B(i,E),B(i,v),B(i,w),B(i,b),B(i,O);for(let vt=0;vt<U.length;vt+=1)U[vt]&&U[vt].m(O,null);B(O,S);for(let vt=0;vt<J.length;vt+=1)J[vt]&&J[vt].m(O,null);B(O,R);for(let vt=0;vt<8;vt+=1)G[vt]&&G[vt].m(O,null);B(O,I);for(let vt=0;vt<2;vt+=1)j[vt]&&j[vt].m(O,null);B(O,P);for(let vt=0;vt<tt.length;vt+=1)tt[vt]&&tt[vt].m(O,null);B(O,L);for(let vt=0;vt<pt.length;vt+=1)pt[vt]&&pt[vt].m(O,null);B(e,k),kt(N,e,null),$=!0},p(gt,Tt){if((!$||Tt[0]&1&&p!==(p="value: "+gt[0].title+"; color: #666; width: 5"))&&Xi(A,"text",p),(!$||Tt[0]&8&&x!==(x="value: "+gt[3]+"; color: #666; width: 5"))&&Xi(w,"text",x),Tt[0]&192){H=$e(Ei(Kf));let vt;for(vt=0;vt<H.length;vt+=1){const Ot=O_(gt,H,vt);U[vt]?U[vt].p(Ot,Tt):(U[vt]=x_(Ot),U[vt].c(),U[vt].m(O,S))}for(;vt<U.length;vt+=1)U[vt].d(1);U.length=H.length}if(Tt&0){W=$e(Ei(Xf+1));let vt;for(vt=0;vt<W.length;vt+=1){const Ot=w_(gt,W,vt);J[vt]?J[vt].p(Ot,Tt):(J[vt]=S_(Ot),J[vt].c(),J[vt].m(O,R))}for(;vt<J.length;vt+=1)J[vt].d(1);J.length=W.length}if(Tt[0]&38){nt=$e(Ei(uC(gt[2],5),gt[1]+1,5));let vt;for(vt=0;vt<nt.length;vt+=1){const Ot=__(gt,nt,vt);tt[vt]?tt[vt].p(Ot,Tt):(tt[vt]=T_(Ot),tt[vt].c(),tt[vt].m(O,L))}for(;vt<tt.length;vt+=1)tt[vt].d(1);tt.length=nt.length}if(Tt[0]&176){ht=$e(gt[4]);let vt;for(vt=0;vt<ht.length;vt+=1){const Ot=E_(gt,ht,vt);pt[vt]?pt[vt].p(Ot,Tt):(pt[vt]=I_(Ot),pt[vt].c(),pt[vt].m(O,null))}for(;vt<pt.length;vt+=1)pt[vt].d(1);pt.length=ht.length}},i(gt){$||(Rt(N.$$.fragment,gt),$=!0)},o(gt){Dt(N.$$.fragment,gt),$=!1},d(gt){gt&&bt(e),xi(U,gt),xi(J,gt),xi(G,gt),xi(j,gt),xi(tt,gt),xi(pt,gt),Nt(N)}}}let Kf=6,Xf=24;function fut(t,e,i){let a,r,s,{appInfo:l}=e,u=[64,59,55,50,45,40];const d=u.map(Ga.fromMidiSharps),c=Z0;let f=1,M=60,m=0,A=60,p=[];const y=b=>{const O=Math.floor(Math.random()*6),S=Math.round(Math.random()*24),R=Math.round(Math.random()*127),I=u[O]+S;return b=b??Math.round(Math.random()*60),i(1,A=b),{string:O,fret:S,time:b,note:M0[I%12],velocity:R}};let E=setInterval(()=>i(12,p=[...p,y(performance.now()/1e3)]),500),v="";const w=b=>{E&&(clearInterval(E),E=null,i(12,p=[])),p.length===0&&(m=b.timestamp);const O=(b.timestamp-m)/1e3,S=b.message.channel-1,R=b.note.number-u[S];if(R<0)return;const I={number:b.note.number,note:M0[b.note.number%12],velocity:b.rawVelocity,time:O,channel:b.message.channel,string:S,fret:R};i(12,p=[...p,I]),i(1,A=O)},x=b=>{const O=b.controller.number;O===14?i(10,f=b.value):O===15&&i(11,M=b.value*120)};return c9(()=>{rut.registerComponent("thumbstick-logging",{init(){this.el.addEventListener("thumbstickmoved",this.logThumbstick)},logThumbstick(b){b.detail.y>.95&&console.log("DOWN"),b.detail.y<-.95&&console.log("UP"),b.detail.x<-.95&&console.log("LEFT"),b.detail.x>.95&&console.log("RIGHT"),i(3,v=`x ${b.detail.x} y ${b.detail.y}`)}})}),r9(()=>{clearInterval(E),window.location.reload()}),t.$$set=b=>{"appInfo"in b&&i(0,l=b.appInfo)},t.$$.update=()=>{t.$$.dirty[0]&2050&&i(2,a=A-M),t.$$.dirty[0]&3078&&i(5,r=y1().domain([A,a]).range([.5,M*f])),t.$$.dirty[0]&6146&&i(4,s=p.filter(b=>b.time>A-M))},[l,A,a,v,s,r,d,c,w,x,f,M,p]}class mut extends Ki{constructor(e){super(),Wi(this,e,fut,hut,ji,{appInfo:0},null,[-1,-1])}}const put=!0,gut=!0,Mut=[{number:72,velocity:34,time:290372.10000014305,channel:1},{number:79,velocity:66,time:290628.10000014305,channel:1},{number:77,velocity:48,time:292438.10000014305,channel:1},{number:76,velocity:98,time:292732.10000014305,channel:1},{number:81,velocity:42,time:294628.10000014305,channel:1},{number:81,velocity:127,time:295494.10000014305,channel:1},{number:81,velocity:127,time:295679.10000014305,channel:1},{number:83,velocity:20,time:297681.10000014305,channel:1},{number:71,velocity:45,time:299932.10000014305,channel:1},{number:64,velocity:55,time:300356.10000014305,channel:1},{number:76,velocity:54,time:302248.10000014305,channel:1},{number:72,velocity:80,time:302624.10000014305,channel:1},{number:67,velocity:69,time:304313.10000014305,channel:1},{number:69,velocity:37,time:307079.2000000477,channel:1},{number:71,velocity:58,time:307343.10000014305,channel:1},{number:72,velocity:55,time:307629.10000014305,channel:1},{number:66,velocity:51,time:309766.10000014305,channel:1},{number:68,velocity:48,time:309968.10000014305,channel:1},{number:70,velocity:76,time:310370.10000014305,channel:1},{number:72,velocity:49,time:312700.10000014305,channel:1},{number:76,velocity:70,time:313177.10000014305,channel:1},{number:77,velocity:60,time:314654.10000014305,channel:1},{number:79,velocity:79,time:315093.10000014305,channel:1},{number:71,velocity:73,time:317319.10000014305,channel:1},{number:69,velocity:99,time:318431.10000014305,channel:1},{number:67,velocity:60,time:318848.10000014305,channel:1},{number:65,velocity:110,time:319800.10000014305,channel:1},{number:60,velocity:62,time:320876.10000014305,channel:1},{number:72,velocity:105,time:324679.10000014305,channel:1},{number:76,velocity:63,time:327670.2000000477,channel:1},{number:79,velocity:72,time:329615.10000014305,channel:1},{number:84,velocity:64,time:330978.10000014305,channel:1},{number:86,velocity:73,time:335036.10000014305,channel:1},{number:88,velocity:99,time:335408.10000014305,channel:1},{number:82,velocity:46,time:337702.10000014305,channel:1},{number:80,velocity:26,time:337932.10000014305,channel:1},{number:77,velocity:57,time:339103.10000014305,channel:1},{number:83,velocity:69,time:343022.10000014305,channel:1},{number:81,velocity:115,time:343185.10000014305,channel:1},{number:76,velocity:79,time:345086.10000014305,channel:1},{number:72,velocity:65,time:345298.10000014305,channel:1}],Aut="improvisation-intervals",yut="2024-09-04T12:05:22.821Z",B_={showUnison:put,useColors:gut,notes:Mut,_appId:Aut,_date:yut};function vut(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent=`1) Play different notes and see which intervals are between
                them.`,i=q(),a=K("p"),a.textContent=`2) Try to play only perfect 5ths (for example, go through the
                circle of fifths).`,r=q(),s=K("p"),s.textContent="3) Try to play only perfect 5ths and major intervals.",l=q(),u=K("p"),u.textContent="4) Try to play only perfect 5ths and minor intervals."},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function but(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j;function nt(ft){t[10](ft)}let tt={label:"unison",title:"Toggle filtering unison intervals",callback:t[6]};t[2]!==void 0&&(tt.checked=t[2]),c=new R9({props:tt}),Me.push(()=>De(c,"checked",nt));function ht(ft){t[11](ft)}let pt={title:"The number of most recent notes that are shown as bars.",label:"bars",callback:t[6],step:10,min:40};t[3]!==void 0&&(pt.value=t[3]),m=new na({props:pt}),Me.push(()=>De(m,"value",ht));function gt(ft){t[13](ft)}let Tt={saveToStorage:t[9],callback:t[6]};t[4]!==void 0&&(Tt.notes=t[4]),w=new Y9({props:Tt}),Me.push(()=>De(w,"notes",gt)),R=new ha({props:{appId:t[0].id,loadData:t[8]}});function vt(ft){t[15](ft)}let Ot={callback:t[6]};return t[4]!==void 0&&(Ot.notes=t[4]),P=new y0({props:Ot}),Me.push(()=>De(P,"notes",vt)),N=new aa({props:{loadData:t[8],getExportData:t[7],appId:t[0].id}}),H=new z9({props:{$$slots:{default:[vut]},$$scope:{ctx:t}}}),W=new J9({props:{appId:t[0].id}}),Q=new k9({props:{noteOn:t[5]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing intervals between notes in a melody. You
            can play a note, then another one some interval apart, and so on.
            The bar chart below shows how often you played each interval: when
            you go up in pitch, the bar of the played interval in the top half
            will increase. If you go down, it will show up in the bottom half.
            Colors denote the type of interval, so you can quickly see if you
            play, for example, more major or minor intervals. The intervals are
            labelled by their name and the number of semitones (negative when
            going from higher to lower notes). The second chart on the bottom
            shows the intervals over time with the same colors.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),y=K("div"),E=q(),v=K("div"),Ft(w.$$.fragment),b=q(),O=K("button"),O.textContent="example",S=q(),Ft(R.$$.fragment),I=q(),Ft(P.$$.fragment),k=q(),Ft(N.$$.fragment),$=q(),Ft(H.$$.fragment),U=q(),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(y,"class","visualization"),dt(v,"class","control"),dt(e,"class","app")},m(ft,St){Ct(ft,e,St),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(e,p),B(e,y),t[12](y),B(e,E),B(e,v),kt(w,v,null),B(v,b),B(v,O),B(v,S),kt(R,v,null),B(v,I),kt(P,v,null),B(v,k),kt(N,v,null),B(e,$),kt(H,e,null),B(e,U),kt(W,e,null),B(e,J),kt(Q,e,null),G=!0,z||(j=Ue(O,"click",t[14]),z=!0)},p(ft,St){(!G||St&1)&&a!==(a=ft[0].title+"")&&Ge(r,a);const Mt={};!f&&St&4&&(f=!0,Mt.checked=ft[2],Re(()=>f=!1)),c.$set(Mt);const Pt={};!A&&St&8&&(A=!0,Pt.value=ft[3],Re(()=>A=!1)),m.$set(Pt);const Vt={};!x&&St&16&&(x=!0,Vt.notes=ft[4],Re(()=>x=!1)),w.$set(Vt);const ie={};St&1&&(ie.appId=ft[0].id),R.$set(ie);const jt={};!L&&St&16&&(L=!0,jt.notes=ft[4],Re(()=>L=!1)),P.$set(jt);const Wt={};St&1&&(Wt.appId=ft[0].id),N.$set(Wt);const me={};St&131072&&(me.$$scope={dirty:St,ctx:ft}),H.$set(me);const Yt={};St&1&&(Yt.appId=ft[0].id),W.$set(Yt)},i(ft){G||(Rt(c.$$.fragment,ft),Rt(m.$$.fragment,ft),Rt(w.$$.fragment,ft),Rt(R.$$.fragment,ft),Rt(P.$$.fragment,ft),Rt(N.$$.fragment,ft),Rt(H.$$.fragment,ft),Rt(W.$$.fragment,ft),Rt(Q.$$.fragment,ft),G=!0)},o(ft){Dt(c.$$.fragment,ft),Dt(m.$$.fragment,ft),Dt(w.$$.fragment,ft),Dt(R.$$.fragment,ft),Dt(P.$$.fragment,ft),Dt(N.$$.fragment,ft),Dt(H.$$.fragment,ft),Dt(W.$$.fragment,ft),Dt(Q.$$.fragment,ft),G=!1},d(ft){ft&&bt(e),Nt(c),Nt(m),t[12](null),Nt(w),Nt(R),Nt(P),Nt(N),Nt(H),Nt(W),Nt(Q),z=!1,j()}}}function Cut(t){let e,i;return e=new ra({props:{loadData:t[8],$$slots:{default:[but]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&131103&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let R_=900,D_=400;function Eut(t,e,i){let{appInfo:a}=e,r,s=!0,l=40,u,d=[];const c=b=>{d.length===0&&(u=b.timestamp);const O=(b.timestamp-u)/1e3,S={number:b.note.number,velocity:b.rawVelocity,time:O};i(4,d=[...d,S]),f()},f=()=>{let b=d.map((P,L)=>L===0?0:P.number-d[L-1].number);s||(b=b.filter(P=>P!==0)),b=b.map(P=>{if(Math.abs(P)<=12)return P;{const L=P>0?12:-12;for(;Math.abs(P)>12;)P-=L;return P}});const O=Is(b,P=>P).map(([P,L])=>({interval:P,count:L.length})),S=" ".repeat(20);i(1,r.textContent="",r);const R=Bn({width:R_,height:D_,marginLeft:125,marginRight:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{domain:["minor","major","perfect","tritone"],range:["#7da2e8","#ed796a","gold","#ccc"],marginLeft:100},y:{label:` going down ${S}|${S} going up      `,reverse:!0,domain:Ei(-12,13,1),tickFormat:P=>P>=0?`${vc[P].name} (${P})`:`${vc[-P].name} (${P})`,type:"band"},marks:[H9([-12,0,12],{stroke:"#888",strokeWidth:1.5}),xc(O,{x:"count",y:"interval",fill:P=>vc[Math.abs(P.interval)].type,dx:.5,rx:4})]});r.appendChild(R);const I=Bn({width:R_,height:D_,marginLeft:125,marginRight:10,marginTop:30,color:{legend:!0,domain:["minor","major","perfect","tritone"],range:["#7da2e8","#ed796a","gold","#ccc"],marginLeft:100},x:{nice:!0,label:"intervals sorted by time",ticks:[]},y:{label:` going down ${S}|${S} going up      `,reverse:!0,domain:Ei(-12,13,1),tickFormat:P=>P>=0?`${vc[P].name} (${P})`:`${vc[-P].name} (${P})`,type:"band"},marks:[H9([-12,0,12],{stroke:"#888",strokeWidth:1.5}),Ll(b.slice(-l),{x:(P,L)=>L,fill:P=>vc[Math.abs(P)].type,rx:4}),l<=40?gM(b.slice(-l),{x:(P,L)=>L,y:P=>P>0?P+1:P-1,text:P=>vc[Math.abs(P)].short,fill:"black",stroke:"white",strokeWidth:3}):null]});r.appendChild(I)};c9(f);const M=()=>({showUnison:s,notes:d}),m=b=>{A(),i(2,s=b.showUnison),i(4,d=b.notes),f()},A=()=>{d.length>0&&JSON.stringify(d)!==JSON.stringify(B_.notes)&&da(a.id,M())};r9(A);function p(b){s=b,i(2,s)}function y(b){l=b,i(3,l)}function E(b){Me[b?"unshift":"push"](()=>{r=b,i(1,r)})}function v(b){d=b,i(4,d)}const w=()=>m(B_);function x(b){d=b,i(4,d)}return t.$$set=b=>{"appInfo"in b&&i(0,a=b.appInfo)},[a,r,s,l,d,c,f,M,m,A,p,y,E,v,w,x]}class _ut extends Ki{constructor(e){super(),Wi(this,e,Eut,Cut,ji,{appInfo:0})}}const wut="D",Out=50,xut=[{name:"D",number:62,velocity:.5354330708661418,time:0,channel:1,duration:1.629,end:1.629},{name:"F",number:65,velocity:.4881889763779528,time:1.55,channel:1,duration:2.9720000000000004,end:4.522},{name:"E",number:64,velocity:.4251968503937008,time:4.48,channel:1,duration:.4289999999999994,end:4.909},{name:"C",number:60,velocity:.5354330708661418,time:4.755,channel:1,duration:2.3950000000000005,end:7.15},{name:"A",number:69,velocity:.5984251968503937,time:7.105,channel:1,duration:3.530999999999999,end:10.636},{name:"G",number:67,velocity:.4881889763779528,time:10.668,channel:1,duration:.3490000000000002,end:11.017},{name:"A",number:69,velocity:.5433070866141733,time:10.95,channel:1,duration:2.373900000095368,end:13.323900000095367},{name:"G#",number:68,velocity:.6299212598425197,time:13.292,channel:1,duration:.33800000000000097,end:13.63},{name:"F",number:65,velocity:.7322834645669292,time:13.572,channel:1,duration:2.817,end:16.389},{name:"E",number:64,velocity:.31496062992125984,time:16.355,channel:1,duration:.5560000000000009,end:16.911},{name:"D",number:62,velocity:.6850393700787402,time:16.859,channel:1,duration:3.4619999999999997,end:20.321},{name:"D",number:62,velocity:.3779527559055118,time:21.237,channel:1,duration:2.759900000095371,end:23.99690000009537},{name:"A",number:57,velocity:.5196850393700787,time:24.006,channel:1,duration:.13700000000000045,end:24.143},{name:"D",number:62,velocity:.49606299212598426,time:24.139,channel:1,duration:.14700000000000202,end:24.286},{name:"A",number:57,velocity:.7007874015748031,time:24.241,channel:1,duration:2.2029999999999994,end:26.444},{name:"C#",number:61,velocity:.4015748031496063,time:26.479,channel:1,duration:.277000000000001,end:26.756},{name:"C",number:60,velocity:.8031496062992126,time:26.706,channel:1,duration:3.649000000000001,end:30.355},{name:"G",number:55,velocity:.7165354330708661,time:30.122900000095367,channel:1,duration:.5470999999046349,end:30.67},{name:"A",number:69,velocity:.30708661417322836,time:30.395,channel:1,duration:3.032,end:33.427},{name:"F",number:65,velocity:.6377952755905512,time:33.351,channel:1,duration:.37599999999999767,end:33.727},{name:"E",number:64,velocity:.8031496062992126,time:33.663,channel:1,duration:3.436,end:37.099},{name:"B",number:71,velocity:.3464566929133858,time:37.075,channel:1,duration:.26200000000000045,end:37.337},{name:"A",number:69,velocity:.4094488188976378,time:37.253,channel:1,duration:.07590000009536624,end:37.328900000095366},{name:"G",number:67,velocity:.8740157480314961,time:37.305,channel:1,duration:.6509000000953691,end:37.95590000009537},{name:"D",number:62,velocity:.49606299212598426,time:37.883,channel:1,duration:4.606999999999999,end:42.49},{name:"F#",number:66,velocity:.9763779527559056,time:42.417,channel:1,duration:1.0379999999999967,end:43.455},{name:"F",number:65,velocity:.47244094488188976,time:43.424,channel:1,duration:2.2310000000000016,end:45.655},{name:"D",number:62,velocity:.6062992125984252,time:45.6,channel:1,duration:3.9039999999999964,end:49.504},{name:"A",number:57,velocity:.7559055118110236,time:49.5,channel:1,duration:.11399999999999721,end:49.614},{name:"D",number:62,velocity:.5354330708661418,time:49.644,channel:1,duration:.142000000000003,end:49.786},{name:"A",number:57,velocity:.7637795275590551,time:49.741,channel:1,duration:4.308,end:54.049},{name:"G",number:55,velocity:.5511811023622047,time:54.021900000095364,channel:1,duration:.2460999999046365,end:54.268},{name:"A#",number:58,velocity:.7480314960629921,time:54.214,channel:1,duration:3.301000000000002,end:57.515},{name:"C",number:60,velocity:.5748031496062992,time:57.491,channel:1,duration:.347999999999999,end:57.839},{name:"D",number:62,velocity:.6141732283464567,time:57.768,channel:1,duration:2.8569999999999993,end:60.625},{name:"D",number:50,velocity:.7716535433070866,time:60.559,channel:1,duration:3.4399000000953706,end:63.99890000009537},{name:"F",number:53,velocity:.5748031496062992,time:63.945,channel:1,duration:.3309000000953617,end:64.27590000009536},{name:"A",number:57,velocity:.7795275590551181,time:64.24290000009536,channel:1,duration:3.494099999904634,end:67.737},{name:"F",number:65,velocity:.6614173228346457,time:67.747,channel:1,duration:.3719999999999999,end:68.119},{name:"D",number:62,velocity:.8582677165354331,time:68.088,channel:1,duration:2.8290000000000077,end:70.917},{name:"C",number:60,velocity:.5669291338582677,time:70.871,channel:1,duration:.36299999999999955,end:71.234},{name:"A#",number:58,velocity:.9606299212598425,time:71.195,channel:1,duration:2.3940000000000055,end:73.589},{name:"G",number:55,velocity:.5196850393700787,time:73.504,channel:1,duration:4.411999999999992,end:77.916},{name:"E",number:52,velocity:.4330708661417323,time:77.835,channel:1,duration:.3719999999999999,end:78.207},{name:"D",number:62,velocity:.4015748031496063,time:78.11590000009537,channel:1,duration:2.52209999990464,end:80.638}],Sut="improvisation-note-colors",Tut="0.17.0",Iut="2024-10-11T15:21:23.731Z",o4={root:wut,pastNoteCount:Out,notes:xut,_appId:Sut,_softwareVersion:Tut,_date:Iut};function But(t,e,i){const a=t.slice();return a[33]=e[i],a}function P_(t,e,i){const a=t.slice();return a[36]=e[i],a}function Rut(t,e,i){const a=t.slice();return a[36]=e[i],a}function Dut(t){let e;return{c(){e=K("option"),e.textContent=`${t[36]}`,e.__value=t[36],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Put(t){let e,i=$e(["major","minor"]),a=[];for(let r=0;r<2;r+=1)a[r]=Dut(Rut(t,i,r));return{c(){for(let r=0;r<2;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<2;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function L_(t){let e,i=t[36]+"",a,r;return{c(){e=K("option"),a=oe(i),e.__value=r=t[36],Qi(e,e.__value)},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){l[0]&4&&i!==(i=s[36]+"")&&Ge(a,i),l[0]&4&&r!==(r=s[36])&&(e.__value=r,Qi(e,e.__value))},d(s){s&&bt(e)}}}function Lut(t){let e,i=$e(["pentatonic","blues"].map(t[20])),a=[];for(let r=0;r<i.length;r+=1)a[r]=L_(P_(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p(r,s){if(s[0]&4){i=$e(["pentatonic","blues"].map(r[20]));let l;for(l=0;l<i.length;l+=1){const u=P_(r,i,l);a[l]?a[l].p(u,s):(a[l]=L_(u),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(r){r&&bt(e),xi(a,r)}}}function kut(t){let e;return{c(){e=K("option"),e.textContent=`${t[33]}`,e.__value=t[33],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Nut(t){let e,i=$e(M0),a=[];for(let r=0;r<i.length;r+=1)a[r]=kut(But(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function Fut(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent=`1) Improvise something in the scale of C major pentatonic. Check
                if you only used this scale's notes using the colors.`,i=q(),a=K("p"),a.textContent=`2) Improvise something in A minor pentatonic. Check if you only
                used this scale's notes using the colors and how often and when
                you used the tonic A.`,r=q(),s=K("p"),s.textContent=`3) Improvise in A minor blues, see how often and when you used
                the blue note (D#).`,l=q(),u=K("p"),u.textContent="4) Improvise in a scale you do not know yet."},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function Uut(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht=[...So(t[11],[t[1]])].join(", ")+"",pt,gt,Tt,vt,Ot,ft,St=[...So(t[10],t[11])].join(", ")+"",Mt,Pt,Vt,ie,jt=[...So(M0,t[10])].join(", ")+"",Wt,me,Yt,pe,Qe,ni,ei,Ci,ai,ti,be,ye,ne,Et,yt,Ht,wt,xt,Qt,ut,X,Z,_t,Gt,Zt;function ue(bi){t[19](bi)}let ve={label:"scale type 1",callback:t[15],style:"background-color: "+U7+";",$$slots:{default:[Put]},$$scope:{ctx:t}};t[2]!==void 0&&(ve.value=t[2]),c=new ia({props:ve}),Me.push(()=>De(c,"value",ue));function Fe(bi){t[21](bi)}let Je={label:"scale type 2",callback:t[15],style:"background-color: "+$7+";",$$slots:{default:[Lut]},$$scope:{ctx:t}};t[3]!==void 0&&(Je.value=t[3]),m=new ia({props:Je}),Me.push(()=>De(m,"value",Fe));function ii(bi){t[22](bi)}let re={label:"root note",callback:t[15],style:"background-color: "+F7+";",$$slots:{default:[Nut]},$$scope:{ctx:t}};t[1]!==void 0&&(re.value=t[1]),y=new ia({props:re}),Me.push(()=>De(y,"value",ii));function Mi(bi){t[23](bi)}let Pe={callback:t[15]};t[5]!==void 0&&(Pe.value=t[5]),x=new iu({props:Pe}),Me.push(()=>De(x,"value",Mi));function ke(bi){t[24](bi)}let we={label:"show duration",title:"Show duration in the bar's height?",callback:t[15]};t[6]!==void 0&&(we.checked=t[6]),S=new R9({props:we}),Me.push(()=>De(S,"checked",ke));function Ii(bi){t[25](bi)}let wn={label:"show loudness",title:"Show loudness in the bar's opacity?",callback:t[15]};t[7]!==void 0&&(wn.checked=t[7]),P=new R9({props:wn}),Me.push(()=>De(P,"checked",Ii));function Ke(bi){t[28](bi)}let yn={saveToStorage:t[18],callback:t[27]};t[8]!==void 0&&(yn.notes=t[8]),ni=new Y9({props:yn}),Me.push(()=>De(ni,"notes",Ke)),be=new ha({props:{appId:t[0].id,loadData:t[17]}});function Be(bi){t[30](bi)}let En={callback:t[15]};return t[8]!==void 0&&(En.notes=t[8]),ne=new y0({props:En}),Me.push(()=>De(ne,"notes",Be)),Ht=new aa({props:{loadData:t[17],getExportData:t[16],appId:t[0].id}}),xt=new z9({props:{$$slots:{default:[Fut]},$$scope:{ctx:t}}}),ut=new J9({props:{appId:t[0].id}}),Z=new k9({props:{noteOn:t[12],noteOff:t[13],controlChange:t[14]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing improvising in a scale that is a sub-set
            of another scale. Notes that you play are shown as bars. The color
            shows which scale subset a note belongs to. For example, when
            improvising in C major pentatonic, the note C would be the darkest,
            followed by the notes of the pentatonic in a brighter color, the
            rest of the major scale even brighter, and all remaining notes of
            the chromatic scale in gray. The bars' height encodes the notes'
            durations.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),w=K("div"),Ft(x.$$.fragment),O=q(),Ft(S.$$.fragment),I=q(),Ft(P.$$.fragment),k=q(),N=K("div"),$=K("div"),H=K("div"),U=K("div"),W=K("div"),J=oe("root: "),Q=oe(t[1]),G=q(),z=oe(t[3]),j=oe(":"),nt=K("br"),tt=q(),pt=oe(ht),gt=q(),Tt=oe(t[2]),vt=oe(":"),Ot=K("br"),ft=q(),Mt=oe(St),Pt=oe(`
                chromatic:`),Vt=K("br"),ie=q(),Wt=oe(jt),me=q(),Yt=K("div"),pe=q(),Qe=K("div"),Ft(ni.$$.fragment),Ci=q(),ai=K("button"),ai.textContent="example",ti=q(),Ft(be.$$.fragment),ye=q(),Ft(ne.$$.fragment),yt=q(),Ft(Ht.$$.fragment),wt=q(),Ft(xt.$$.fragment),Qt=q(),Ft(ut.$$.fragment),X=q(),Ft(Z.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(w,"class","control"),gn(W,"background",F7),gn(W,"color","white"),dt(W,"class","svelte-pkx7fb"),gn(U,"background",$7),gn(U,"color","white"),dt(U,"class","svelte-pkx7fb"),gn(H,"background",U7),dt(H,"class","svelte-pkx7fb"),gn($,"background",jP),gn($,"width","250px"),dt($,"class","svelte-pkx7fb"),dt(N,"class","legend svelte-pkx7fb"),dt(Yt,"class","visualization"),dt(Qe,"class","control"),dt(e,"class","app")},m(bi,on){Ct(bi,e,on),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,v),B(e,w),kt(x,w,null),B(w,O),kt(S,w,null),B(w,I),kt(P,w,null),B(e,k),B(e,N),B(N,$),B($,H),B(H,U),B(U,W),B(W,J),B(W,Q),B(U,G),B(U,z),B(U,j),B(U,nt),B(U,tt),B(U,pt),B(H,gt),B(H,Tt),B(H,vt),B(H,Ot),B(H,ft),B(H,Mt),B($,Pt),B($,Vt),B($,ie),B($,Wt),B(e,me),B(e,Yt),t[26](Yt),B(e,pe),B(e,Qe),kt(ni,Qe,null),B(Qe,Ci),B(Qe,ai),B(Qe,ti),kt(be,Qe,null),B(Qe,ye),kt(ne,Qe,null),B(Qe,yt),kt(Ht,Qe,null),B(e,wt),kt(xt,e,null),B(e,Qt),kt(ut,e,null),B(e,X),kt(Z,e,null),_t=!0,Gt||(Zt=Ue(ai,"click",t[29]),Gt=!0)},p(bi,on){(!_t||on[0]&1)&&a!==(a=bi[0].title+"")&&Ge(r,a);const $n={};on[1]&1024&&($n.$$scope={dirty:on,ctx:bi}),!f&&on[0]&4&&(f=!0,$n.value=bi[2],Re(()=>f=!1)),c.$set($n);const Pn={};on[0]&4|on[1]&1024&&(Pn.$$scope={dirty:on,ctx:bi}),!A&&on[0]&8&&(A=!0,Pn.value=bi[3],Re(()=>A=!1)),m.$set(Pn);const M9={};on[1]&1024&&(M9.$$scope={dirty:on,ctx:bi}),!E&&on[0]&2&&(E=!0,M9.value=bi[1],Re(()=>E=!1)),y.$set(M9);const qa={};!b&&on[0]&32&&(b=!0,qa.value=bi[5],Re(()=>b=!1)),x.$set(qa);const va={};!R&&on[0]&64&&(R=!0,va.checked=bi[6],Re(()=>R=!1)),S.$set(va);const hr={};!L&&on[0]&128&&(L=!0,hr.checked=bi[7],Re(()=>L=!1)),P.$set(hr),(!_t||on[0]&2)&&Ge(Q,bi[1]),(!_t||on[0]&8)&&Ge(z,bi[3]),(!_t||on[0]&2050)&&ht!==(ht=[...So(bi[11],[bi[1]])].join(", ")+"")&&Ge(pt,ht),(!_t||on[0]&4)&&Ge(Tt,bi[2]),(!_t||on[0]&3072)&&St!==(St=[...So(bi[10],bi[11])].join(", ")+"")&&Ge(Mt,St),(!_t||on[0]&1024)&&jt!==(jt=[...So(M0,bi[10])].join(", ")+"")&&Ge(Wt,jt);const ka={};on[0]&512&&(ka.callback=bi[27]),!ei&&on[0]&256&&(ei=!0,ka.notes=bi[8],Re(()=>ei=!1)),ni.$set(ka);const Kt={};on[0]&1&&(Kt.appId=bi[0].id),be.$set(Kt);const le={};!Et&&on[0]&256&&(Et=!0,le.notes=bi[8],Re(()=>Et=!1)),ne.$set(le);const _e={};on[0]&1&&(_e.appId=bi[0].id),Ht.$set(_e);const Ye={};on[1]&1024&&(Ye.$$scope={dirty:on,ctx:bi}),xt.$set(Ye);const Le={};on[0]&1&&(Le.appId=bi[0].id),ut.$set(Le)},i(bi){_t||(Rt(c.$$.fragment,bi),Rt(m.$$.fragment,bi),Rt(y.$$.fragment,bi),Rt(x.$$.fragment,bi),Rt(S.$$.fragment,bi),Rt(P.$$.fragment,bi),Rt(ni.$$.fragment,bi),Rt(be.$$.fragment,bi),Rt(ne.$$.fragment,bi),Rt(Ht.$$.fragment,bi),Rt(xt.$$.fragment,bi),Rt(ut.$$.fragment,bi),Rt(Z.$$.fragment,bi),_t=!0)},o(bi){Dt(c.$$.fragment,bi),Dt(m.$$.fragment,bi),Dt(y.$$.fragment,bi),Dt(x.$$.fragment,bi),Dt(S.$$.fragment,bi),Dt(P.$$.fragment,bi),Dt(ni.$$.fragment,bi),Dt(be.$$.fragment,bi),Dt(ne.$$.fragment,bi),Dt(Ht.$$.fragment,bi),Dt(xt.$$.fragment,bi),Dt(ut.$$.fragment,bi),Dt(Z.$$.fragment,bi),_t=!1},d(bi){bi&&bt(e),Nt(c),Nt(m),Nt(y),Nt(x),Nt(S),Nt(P),t[26](null),Nt(ni),Nt(be),Nt(ne),Nt(Ht),Nt(xt),Nt(ut),Nt(Z),Gt=!1,Zt()}}}function $ut(t){let e,i;return e=new ra({props:{loadData:t[17],$$slots:{default:[Uut]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&4095|r[1]&1024&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let Gut=900,Hut=300;const F7="#1B5E20",U7="#D4E157",$7="#689F38",jP="lightgray";function Vut(t,e,i){let a,r,s,{appInfo:l}=e,u;const d=M0;let c="C",f="major",M=50,m=!1,A=!1,p,y=[],E=new Map;const v=z=>{y.length===0&&(p=z.timestamp);const j=(z.timestamp-p)/1e3,nt={name:z.note.name+(z.note.accidental??""),number:z.note.number,velocity:z.velocity,time:j,channel:z.message.channel,duration:0};if(E.has(z.note.number)){const tt=E.get(z.note.number);tt.end===void 0&&(tt.end=j)}i(8,y=[...y,nt]),E.set(z.note.number,nt),b()},w=z=>{if(E.has(z.note.number)){const j=E.get(z.note.number),nt=(z.timestamp-p)/1e3;j.end=nt,j.duration=j.end-j.time}b()},x=z=>{const j=La(z.rawValue*2,20,250);i(5,M=j),b()},b=()=>{const z=d.map(ht=>ht===c?F7:s.has(ht)?$7:r.has(ht)?U7:jP),j=y.slice(-M),nt=1,tt=Bn({width:Gut,height:Hut,marginLeft:50,marginBottom:50,padding:0,x:{axis:!1},y:{axis:m,domain:[0,nt],label:"duration in seconds",labelAnchor:"center"},color:{domain:Ei(12),range:z},opacity:{domain:[0,127],range:[.3,1]},marks:[H9([0],{stroke:"#ddd"}),Kd(j,{x:(ht,pt)=>pt,y:ht=>m&&ht.duration>0?ht.duration:nt,fill:ht=>ht.number%12,stroke:ht=>ht.number%12,opacity:A?ht=>ht.velocity:1,fillOpacity:ht=>m&&ht.duration===0?0:1,inset:1.5,rx:4}),Ta(j,{x:(ht,pt)=>pt,y:0,text:ht=>ht.name.split("").join(`
`),fontSize:12,dy:16})]});i(4,u.textContent="",u),u.appendChild(tt)};c9(b);const O=()=>({root:c,scaleType1:f,scaleType2:a,pastNoteCount:M,showDuration:m,showLoudness:A,notes:y}),S=z=>{R(),i(1,c=z.root),i(2,f=z.scaleType1),i(3,a=z.scaleType2),i(5,M=z.pastNoteCount),i(6,m=z.showDuration),i(7,A=z.showLoudness),i(8,y=z.notes),b()},R=()=>{y.length>0&&JSON.stringify(y)!==JSON.stringify(o4.notes)&&da(l.id,O())};r9(R);function I(z){f=z,i(2,f)}const P=z=>`${f} ${z}`;function L(z){a=z,i(3,a),i(2,f)}function k(z){c=z,i(1,c)}function N(z){M=z,i(5,M)}function $(z){m=z,i(6,m)}function H(z){A=z,i(7,A)}function U(z){Me[z?"unshift":"push"](()=>{u=z,i(4,u)})}const W=()=>{i(9,E=new Map),b()};function J(z){y=z,i(8,y)}const Q=()=>S(o4);function G(z){y=z,i(8,y)}return t.$$set=z=>{"appInfo"in z&&i(0,l=z.appInfo)},t.$$.update=()=>{t.$$.dirty[0]&4&&i(3,a=`${f} pentatonic`),t.$$.dirty[0]&6&&i(10,r=new Set(sr.get(`${c} ${f}`).notes.map(z=>d[kl.get(z)]))),t.$$.dirty[0]&10&&i(11,s=new Set(sr.get(`${c} ${a}`).notes.map(z=>d[kl.get(z)])))},[l,c,f,a,u,M,m,A,y,E,r,s,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G]}class Qut extends Ki{constructor(e){super(),Wi(this,e,Vut,$ut,ji,{appInfo:0},null,[-1,-1])}}const zut="C",Jut="major pentatonic",jut=!0,Wut=!0,Kut=[{number:60,velocity:28,time:368361.90000009537,channel:1},{number:67,velocity:22,time:369318.90000009537,channel:1},{number:69,velocity:23,time:370665.90000009537,channel:1},{number:64,velocity:32,time:372451.90000009537,channel:1},{number:62,velocity:40,time:372714.90000009537,channel:1},{number:60,velocity:53,time:374098,channel:1},{number:57,velocity:36,time:375437.90000009537,channel:1},{number:55,velocity:32,time:375751.90000009537,channel:1},{number:48,velocity:33,time:376917.90000009537,channel:1},{number:60,velocity:30,time:377811.90000009537,channel:1},{number:65,velocity:45,time:380359,channel:1},{number:64,velocity:85,time:380491.90000009537,channel:1},{number:65,velocity:55,time:380696,channel:1},{number:64,velocity:62,time:380868.90000009537,channel:1},{number:65,velocity:75,time:381073.90000009537,channel:1},{number:66,velocity:22,time:382357.90000009537,channel:1},{number:62,velocity:35,time:385011.90000009537,channel:1},{number:60,velocity:43,time:385457.90000009537,channel:1},{number:52,velocity:36,time:387174.90000009537,channel:1},{number:55,velocity:68,time:388009.90000009537,channel:1},{number:67,velocity:37,time:389847.90000009537,channel:1},{number:52,velocity:38,time:392573.90000009537,channel:1},{number:48,velocity:55,time:393137.90000009537,channel:1},{number:49,velocity:62,time:395960.90000009537,channel:1},{number:50,velocity:88,time:396157.90000009537,channel:1},{number:59,velocity:61,time:399249.90000009537,channel:1},{number:60,velocity:100,time:399445.90000009537,channel:1},{number:72,velocity:29,time:404650,channel:1},{number:74,velocity:67,time:407511.90000009537,channel:1},{number:81,velocity:48,time:408827.90000009537,channel:1},{number:79,velocity:70,time:410352.90000009537,channel:1},{number:76,velocity:89,time:411115,channel:1},{number:72,velocity:65,time:411454.90000009537,channel:1},{number:67,velocity:62,time:412677.90000009537,channel:1},{number:71,velocity:65,time:416872.90000009537,channel:1},{number:76,velocity:50,time:418128,channel:1},{number:78,velocity:44,time:419986,channel:1},{number:75,velocity:66,time:421073.90000009537,channel:1},{number:73,velocity:94,time:421417,channel:1},{number:72,velocity:55,time:421892.90000009537,channel:1}],Xut="improvisation-scale-degrees",Yut="2024-09-04T12:13:35.595Z",k_={root:zut,scale:Jut,useColors:jut,showOutsideScale:Wut,notes:Kut,_appId:Xut,_date:Yut};function qut(t){let e,i,a;return{c(){e=K("p"),e.textContent="1) Improvise in A minor pentatonic.",i=q(),a=K("p"),a.textContent="2) Improvise in a scale you did not know before."},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function Zut(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt;function ht(Pt){t[12](Pt)}function pt(Pt){t[13](Pt)}let gt={callback:t[8]};t[2]!==void 0&&(gt.scaleRoot=t[2]),t[3]!==void 0&&(gt.scaleType=t[3]),c=new Xd({props:gt}),Me.push(()=>De(c,"scaleRoot",ht)),Me.push(()=>De(c,"scaleType",pt));function Tt(Pt){t[14](Pt)}let vt={label:"colors",title:"Use colors for root, in-scale, outside-scale",callback:t[8]};t[4]!==void 0&&(vt.checked=t[4]),p=new R9({props:vt}),Me.push(()=>De(p,"checked",Tt));function Ot(Pt){t[15](Pt)}let ft={label:"non-scale notes",title:"Show notes outside the scale",callback:t[8]};t[5]!==void 0&&(ft.checked=t[5]),v=new R9({props:ft}),Me.push(()=>De(v,"checked",Ot));function St(Pt){t[17](Pt)}let Mt={saveToStorage:t[11],callback:t[8]};return t[6]!==void 0&&(Mt.notes=t[6]),R=new Y9({props:Mt}),Me.push(()=>De(R,"notes",St)),N=new ha({props:{appId:t[0].id,loadData:t[10]}}),H=new aa({props:{loadData:t[10],getExportData:t[9],appId:t[0].id}}),W=new z9({props:{$$slots:{default:[qut]},$$scope:{ctx:t}}}),Q=new J9({props:{appId:t[0].id}}),z=new k9({props:{noteOn:t[7]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing how to use the different degrees of a
            scale. The bar chart below shows how often you played each scale
            degree.`,u=q(),d=K("div"),Ft(c.$$.fragment),m=q(),A=K("div"),Ft(p.$$.fragment),E=q(),Ft(v.$$.fragment),x=q(),b=K("div"),O=q(),S=K("div"),Ft(R.$$.fragment),P=q(),L=K("button"),L.textContent="example",k=q(),Ft(N.$$.fragment),$=q(),Ft(H.$$.fragment),U=q(),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),G=q(),Ft(z.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(A,"class","control"),dt(b,"class","visualization"),dt(S,"class","control"),dt(e,"class","app")},m(Pt,Vt){Ct(Pt,e,Vt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(e,m),B(e,A),kt(p,A,null),B(A,E),kt(v,A,null),B(e,x),B(e,b),t[16](b),B(e,O),B(e,S),kt(R,S,null),B(S,P),B(S,L),B(S,k),kt(N,S,null),B(S,$),kt(H,S,null),B(e,U),kt(W,e,null),B(e,J),kt(Q,e,null),B(e,G),kt(z,e,null),j=!0,nt||(tt=Ue(L,"click",t[18]),nt=!0)},p(Pt,Vt){(!j||Vt&1)&&a!==(a=Pt[0].title+"")&&Ge(r,a);const ie={};!f&&Vt&4&&(f=!0,ie.scaleRoot=Pt[2],Re(()=>f=!1)),!M&&Vt&8&&(M=!0,ie.scaleType=Pt[3],Re(()=>M=!1)),c.$set(ie);const jt={};!y&&Vt&16&&(y=!0,jt.checked=Pt[4],Re(()=>y=!1)),p.$set(jt);const Wt={};!w&&Vt&32&&(w=!0,Wt.checked=Pt[5],Re(()=>w=!1)),v.$set(Wt);const me={};!I&&Vt&64&&(I=!0,me.notes=Pt[6],Re(()=>I=!1)),R.$set(me);const Yt={};Vt&1&&(Yt.appId=Pt[0].id),N.$set(Yt);const pe={};Vt&1&&(pe.appId=Pt[0].id),H.$set(pe);const Qe={};Vt&2097152&&(Qe.$$scope={dirty:Vt,ctx:Pt}),W.$set(Qe);const ni={};Vt&1&&(ni.appId=Pt[0].id),Q.$set(ni)},i(Pt){j||(Rt(c.$$.fragment,Pt),Rt(p.$$.fragment,Pt),Rt(v.$$.fragment,Pt),Rt(R.$$.fragment,Pt),Rt(N.$$.fragment,Pt),Rt(H.$$.fragment,Pt),Rt(W.$$.fragment,Pt),Rt(Q.$$.fragment,Pt),Rt(z.$$.fragment,Pt),j=!0)},o(Pt){Dt(c.$$.fragment,Pt),Dt(p.$$.fragment,Pt),Dt(v.$$.fragment,Pt),Dt(R.$$.fragment,Pt),Dt(N.$$.fragment,Pt),Dt(H.$$.fragment,Pt),Dt(W.$$.fragment,Pt),Dt(Q.$$.fragment,Pt),Dt(z.$$.fragment,Pt),j=!1},d(Pt){Pt&&bt(e),Nt(c),Nt(p),Nt(v),t[16](null),Nt(R),Nt(N),Nt(H),Nt(W),Nt(Q),Nt(z),nt=!1,tt()}}}function tdt(t){let e,i;return e=new ra({props:{loadData:t[10],$$slots:{default:[Zut]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&2097279&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let edt=900,idt=300;const ndt="#1B5E20",adt="#689F38",rdt="lightgray";function odt(t,e,i){let{appInfo:a}=e,r,s="C",l="major pentatonic",u=!0,d=!0,c,f=[];const M=Ag,m=I=>{f.length===0&&(c=I.timestamp);const P=(I.timestamp-c)/1e3,L={number:I.note.number,velocity:I.rawVelocity,time:P};i(6,f=[...f,L]),A()},A=()=>{if(f.length===0)return;const I=M.indexOf(s),P=sr.get(`${s} ${l}`),L=P.notes.map((W,J)=>{const Q=kl.get(W);let G=Q-I;return G=G>=0?G:G+12,{name:W,chroma:Q,interval:P.intervals[J],degree:J,offset:G}}),k=new Set(L.map(W=>W.offset)),$=f.map(W=>W.number%12).map(W=>{const J=W-I;return J>=0?J:J+12}),H=Is($,W=>W).map(([W,J])=>({value:W,count:J.length})),U=Bn({width:edt,height:idt,marginLeft:70,marginRight:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{legend:u,domain:["root","scale","outside scale"],range:[ndt,adt,rdt],marginLeft:100},y:{tickFormat:W=>M[(W+I)%12],domain:d?Ei(0,12,1):[...k],reverse:!0,label:"notes, increasing from tonic "},marks:[xc(H,{x:"count",y:"value",fill:W=>u?W.value===0?"root":k.has(W.value)?"scale":"outside scale":"#ddd",dx:.5,rx:4})]});i(1,r.textContent="",r),r.appendChild(U)};c9(A);const p=()=>({root:s,scale:l,useColors:u,showOutsideScale:d,notes:f}),y=I=>{E(),i(2,s=I.root),i(3,l=I.scale),i(4,u=I.useColors),i(5,d=I.showOutsideScale),i(6,f=I.notes),A()},E=()=>{f.length>0&&JSON.stringify(f)!==JSON.stringify(k_.notes)&&da(a.id,p())};r9(E);function v(I){s=I,i(2,s)}function w(I){l=I,i(3,l)}function x(I){u=I,i(4,u)}function b(I){d=I,i(5,d)}function O(I){Me[I?"unshift":"push"](()=>{r=I,i(1,r)})}function S(I){f=I,i(6,f)}const R=()=>y(k_);return t.$$set=I=>{"appInfo"in I&&i(0,a=I.appInfo)},[a,r,s,l,u,d,f,m,A,p,y,E,v,w,x,b,O,S,R]}class sdt extends Ki{constructor(e){super(),Wi(this,e,odt,tdt,ji,{appInfo:0})}}const ldt="A",cdt="minor pentatonic",udt=!0,ddt=!0,hdt=120,fdt=[{number:57,velocity:120,time:0},{number:60,velocity:79,time:9.863799999952317},{number:62,velocity:102,time:10.05589999985695},{number:64,velocity:74,time:11.08189999985695},{number:60,velocity:124,time:12.088899999856949},{number:59,velocity:79,time:13.06189999985695},{number:57,velocity:105,time:13.52089999985695},{number:55,velocity:101,time:13.765899999856948},{number:53,velocity:75,time:14.003899999856948},{number:62,velocity:97,time:16.09589999985695},{number:53,velocity:107,time:16.206899999856947},{number:62,velocity:106,time:16.345799999952316},{number:53,velocity:110,time:16.427899999856947},{number:62,velocity:105,time:16.62489999985695},{number:64,velocity:74,time:17.84189999985695},{number:65,velocity:43,time:17.86289999985695},{number:65,velocity:108,time:18.102899999856948},{number:62,velocity:96,time:19.53789999985695},{number:60,velocity:90,time:19.53989999985695},{number:59,velocity:83,time:20.06089999985695},{number:62,velocity:100,time:20.22589999985695},{number:59,velocity:68,time:20.354799999952316},{number:62,velocity:98,time:20.471899999856948},{number:61,velocity:123,time:21.82789999985695},{number:69,velocity:70,time:21.99089999985695},{number:67,velocity:55,time:22.000899999856948},{number:61,velocity:127,time:23.01089999985695},{number:61,velocity:126,time:23.564899999856948},{number:65,velocity:72,time:24.07289999985695},{number:67,velocity:59,time:24.08289999985695},{number:65,velocity:101,time:24.968899999856948},{number:65,velocity:93,time:25.517899999856947},{number:64,velocity:72,time:25.69789999985695},{number:62,velocity:82,time:26.08589999985695},{number:60,velocity:109,time:27.881799999952317},{number:57,velocity:109,time:28.122899999856948},{number:50,velocity:70,time:30.046899999856947},{number:52,velocity:67,time:31.81989999985695},{number:53,velocity:87,time:32.02489999985695},{number:55,velocity:98,time:34.376899999856946},{number:55,velocity:103,time:35.25089999985695},{number:55,velocity:111,time:35.81389999985695},{number:60,velocity:112,time:36.02679999995232},{number:59,velocity:107,time:36.02889999985695},{number:62,velocity:75,time:37.59589999985695},{number:60,velocity:93,time:37.84589999985695},{number:62,velocity:96,time:38.00889999985695},{number:60,velocity:109,time:38.120899999856945},{number:62,velocity:94,time:38.283799999952315},{number:60,velocity:108,time:38.43589999985695},{number:64,velocity:70,time:39.56089999985695},{number:57,velocity:102,time:39.80889999985695},{number:65,velocity:101,time:40.09789999985695},{number:64,velocity:90,time:41.55389999985695},{number:62,velocity:109,time:42.04089999985695},{number:57,velocity:71,time:43.81389999985695},{number:55,velocity:52,time:43.96689999985695},{number:55,velocity:93,time:44.565899999856946},{number:57,velocity:88,time:45.38189999985695},{number:69,velocity:82,time:45.86179999995232},{number:57,velocity:89,time:46.02079999995232},{number:69,velocity:102,time:46.12189999985695},{number:57,velocity:97,time:46.22489999985695},{number:65,velocity:117,time:46.72389999985695},{number:59,velocity:108,time:47.501899999856946},{number:64,velocity:70,time:47.884799999952314},{number:57,velocity:98,time:48.072799999952316},{number:69,velocity:107,time:48.55189999985695},{number:57,velocity:88,time:48.83189999985695},{number:69,velocity:88,time:49.03289999985695},{number:64,velocity:60,time:49.54689999985695},{number:62,velocity:92,time:50.04689999985695},{number:59,velocity:55,time:50.52089999985695},{number:62,velocity:68,time:50.78789999985695},{number:59,velocity:62,time:50.975799999952315},{number:62,velocity:97,time:51.30189999985695},{number:57,velocity:85,time:51.57589999985695},{number:64,velocity:80,time:51.84589999985695},{number:55,velocity:87,time:52.01189999985695},{number:64,velocity:98,time:52.64089999985695},{number:57,velocity:96,time:53.06489999985695},{number:65,velocity:109,time:53.32779999995232},{number:59,velocity:74,time:53.54089999985695},{number:62,velocity:65,time:53.78889999985695},{number:53,velocity:98,time:54.06489999985695}],mdt="improvisation-scale-degrees-bar",pdt="2024-09-04T12:28:19.393Z",N_={root:ldt,scale:cdt,useColors:udt,showOutsideScale:ddt,tempo:hdt,notes:fdt,_appId:mdt,_date:pdt};function gdt(t){let e,i,a,r,s;return{c(){e=K("p"),e.textContent="1) Improvise in A minor pentatonic.",i=q(),a=K("p"),a.textContent="2) Improvise in a scale you did not know before.",r=q(),s=K("p"),s.textContent="3) Try to change the key, for example in every fourth bar."},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function Mdt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt;function Ot(pe){t[13](pe)}function ft(pe){t[14](pe)}let St={callback:t[9]};t[2]!==void 0&&(St.scaleRoot=t[2]),t[3]!==void 0&&(St.scaleType=t[3]),c=new Xd({props:St}),Me.push(()=>De(c,"scaleRoot",Ot)),Me.push(()=>De(c,"scaleType",ft));function Mt(pe){t[15](pe)}let Pt={callback:t[9]};t[6]!==void 0&&(Pt.value=t[6]),p=new Hr({props:Pt}),Me.push(()=>De(p,"value",Mt));function Vt(pe){t[16](pe)}let ie={label:"colors",title:"Use colors for root, in-scale, outside-scale",callback:t[9]};t[4]!==void 0&&(ie.checked=t[4]),v=new R9({props:ie}),Me.push(()=>De(v,"checked",Vt));function jt(pe){t[17](pe)}let Wt={label:"non-scale notes",title:"Show notes outside the scale",callback:t[9]};t[5]!==void 0&&(Wt.checked=t[5]),b=new R9({props:Wt}),Me.push(()=>De(b,"checked",jt)),L=new F0({props:{tempo:t[6],accent:4}});function me(pe){t[19](pe)}let Yt={saveToStorage:t[12],callback:t[9]};return t[7]!==void 0&&(Yt.notes=t[7]),N=new Y9({props:Yt}),Me.push(()=>De(N,"notes",me)),J=new ha({props:{appId:t[0].id,loadData:t[11]}}),G=new aa({props:{loadData:t[11],getExportData:t[10],appId:t[0].id}}),j=new z9({props:{$$slots:{default:[gdt]},$$scope:{ctx:t}}}),tt=new J9({props:{appId:t[0].id}}),pt=new k9({props:{noteOn:t[8]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing how to use the different degrees of a
            scale. The bar chart below shows how often you played each scale
            degree.`,u=q(),d=K("div"),Ft(c.$$.fragment),m=q(),A=K("div"),Ft(p.$$.fragment),E=q(),Ft(v.$$.fragment),x=q(),Ft(b.$$.fragment),S=q(),R=K("div"),I=q(),P=K("div"),Ft(L.$$.fragment),k=q(),Ft(N.$$.fragment),H=q(),U=K("button"),U.textContent="example",W=q(),Ft(J.$$.fragment),Q=q(),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),nt=q(),Ft(tt.$$.fragment),ht=q(),Ft(pt.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(A,"class","control"),dt(R,"class","visualization"),dt(P,"class","control"),dt(e,"class","app")},m(pe,Qe){Ct(pe,e,Qe),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(e,m),B(e,A),kt(p,A,null),B(A,E),kt(v,A,null),B(A,x),kt(b,A,null),B(e,S),B(e,R),t[18](R),B(e,I),B(e,P),kt(L,P,null),B(P,k),kt(N,P,null),B(P,H),B(P,U),B(P,W),kt(J,P,null),B(P,Q),kt(G,P,null),B(e,z),kt(j,e,null),B(e,nt),kt(tt,e,null),B(e,ht),kt(pt,e,null),gt=!0,Tt||(vt=Ue(U,"click",t[20]),Tt=!0)},p(pe,Qe){(!gt||Qe&1)&&a!==(a=pe[0].title+"")&&Ge(r,a);const ni={};!f&&Qe&4&&(f=!0,ni.scaleRoot=pe[2],Re(()=>f=!1)),!M&&Qe&8&&(M=!0,ni.scaleType=pe[3],Re(()=>M=!1)),c.$set(ni);const ei={};!y&&Qe&64&&(y=!0,ei.value=pe[6],Re(()=>y=!1)),p.$set(ei);const Ci={};!w&&Qe&16&&(w=!0,Ci.checked=pe[4],Re(()=>w=!1)),v.$set(Ci);const ai={};!O&&Qe&32&&(O=!0,ai.checked=pe[5],Re(()=>O=!1)),b.$set(ai);const ti={};Qe&64&&(ti.tempo=pe[6]),L.$set(ti);const be={};!$&&Qe&128&&($=!0,be.notes=pe[7],Re(()=>$=!1)),N.$set(be);const ye={};Qe&1&&(ye.appId=pe[0].id),J.$set(ye);const ne={};Qe&1&&(ne.appId=pe[0].id),G.$set(ne);const Et={};Qe&8388608&&(Et.$$scope={dirty:Qe,ctx:pe}),j.$set(Et);const yt={};Qe&1&&(yt.appId=pe[0].id),tt.$set(yt)},i(pe){gt||(Rt(c.$$.fragment,pe),Rt(p.$$.fragment,pe),Rt(v.$$.fragment,pe),Rt(b.$$.fragment,pe),Rt(L.$$.fragment,pe),Rt(N.$$.fragment,pe),Rt(J.$$.fragment,pe),Rt(G.$$.fragment,pe),Rt(j.$$.fragment,pe),Rt(tt.$$.fragment,pe),Rt(pt.$$.fragment,pe),gt=!0)},o(pe){Dt(c.$$.fragment,pe),Dt(p.$$.fragment,pe),Dt(v.$$.fragment,pe),Dt(b.$$.fragment,pe),Dt(L.$$.fragment,pe),Dt(N.$$.fragment,pe),Dt(J.$$.fragment,pe),Dt(G.$$.fragment,pe),Dt(j.$$.fragment,pe),Dt(tt.$$.fragment,pe),Dt(pt.$$.fragment,pe),gt=!1},d(pe){pe&&bt(e),Nt(c),Nt(p),Nt(v),Nt(b),t[18](null),Nt(L),Nt(N),Nt(J),Nt(G),Nt(j),Nt(tt),Nt(pt),Tt=!1,vt()}}}function Adt(t){let e,i;return e=new ra({props:{loadData:t[11],$$slots:{default:[Mdt]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&8388863&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let ydt=900,vdt=350;const bdt="#1B5E20",Cdt="#689F38",Edt="lightgray";function _dt(t,e,i){let{appInfo:a}=e,r,s="C",l="major pentatonic",u=!0,d=!0,c=120,f,M=[];const m=M0,A=L=>{M.length===0&&(f=L.timestamp);const k=(L.timestamp-f)/1e3,N={number:L.note.number,velocity:L.rawVelocity,time:k};i(7,M=[...M,N]),p()},p=()=>{if(M.length===0)return;const L=m.indexOf(s),k=sr.get(`${s} ${l}`),N=k.notes.map((z,j)=>{const nt=kl.get(z);let tt=nt-L;return tt=tt>=0?tt:tt+12,{name:z,chroma:nt,interval:k.intervals[j],degree:j,offset:tt}}),$=new Set(N.map(z=>z.offset)),H=ta(c)*4,U=Is(M,z=>Math.floor(z.time/H));let W=[];for(const[z,j]of U){const nt=j.map(ht=>{const gt=ht.number%12-L;return gt>=0?gt:gt+12}),tt=Is(nt,ht=>ht).map(([ht,pt])=>({value:ht,count:pt.length,barId:z}));W=W.concat(tt)}const Q=Math.floor(M.at(-1).time/H)-7;W=W.filter(z=>z.barId>=Q);const G=Bn({width:ydt,height:vdt,marginLeft:50,marginRight:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{legend:u,domain:["root","scale","outside scale"],range:[bdt,Cdt,Edt],marginLeft:100},y:{domain:d?Ei(0,12,1):[...$],reverse:!0,label:"notes, increasing from tonic ",grid:!0},fx:{label:null,axis:!1},marks:[Vo({tickFormat:z=>m[(z+L)%12],anchor:"left"}),Vo({anchor:"right",tickFormat:z=>m[(z+L)%12]}),Ar([0],{strokeWidth:2,stroke:"darkgray"}),xc(W,{x:"count",y:"value",fx:"barId",fill:z=>u?z.value===0?"root":$.has(z.value)?"scale":"outside scale":"#ddd",dx:.5,rx:4})]});i(1,r.textContent="",r),r.appendChild(G)};c9(p);const y=()=>({root:s,scale:l,useColors:u,showOutsideScale:d,tempo:c,notes:M}),E=L=>{v(),i(2,s=L.root),i(3,l=L.scale),i(4,u=L.useColors),i(5,d=L.showOutsideScale),i(6,c=L.tempo),i(7,M=L.notes),p()},v=()=>{M.length>0&&JSON.stringify(M)!==JSON.stringify(N_.notes)&&da(a.id,y())};r9(v);function w(L){s=L,i(2,s)}function x(L){l=L,i(3,l)}function b(L){c=L,i(6,c)}function O(L){u=L,i(4,u)}function S(L){d=L,i(5,d)}function R(L){Me[L?"unshift":"push"](()=>{r=L,i(1,r)})}function I(L){M=L,i(7,M)}const P=()=>E(N_);return t.$$set=L=>{"appInfo"in L&&i(0,a=L.appInfo)},[a,r,s,l,u,d,c,M,A,p,y,E,v,w,x,b,O,S,R,I,P]}class wdt extends Ki{constructor(e){super(),Wi(this,e,_dt,Adt,ji,{appInfo:0})}}const Odt=50,xdt="D",Sdt="minor",Tdt=[{name:"D",number:62,velocity:.5354330708661418,time:0,channel:1,duration:1.629,end:1.629},{name:"F",number:65,velocity:.4881889763779528,time:1.55,channel:1,duration:2.9720000000000004,end:4.522},{name:"E",number:64,velocity:.4251968503937008,time:4.48,channel:1,duration:.4289999999999994,end:4.909},{name:"C",number:60,velocity:.5354330708661418,time:4.755,channel:1,duration:2.3950000000000005,end:7.15},{name:"A",number:69,velocity:.5984251968503937,time:7.105,channel:1,duration:3.530999999999999,end:10.636},{name:"G",number:67,velocity:.4881889763779528,time:10.668,channel:1,duration:.3490000000000002,end:11.017},{name:"A",number:69,velocity:.5433070866141733,time:10.95,channel:1,duration:2.373900000095368,end:13.323900000095367},{name:"G#",number:68,velocity:.6299212598425197,time:13.292,channel:1,duration:.33800000000000097,end:13.63},{name:"F",number:65,velocity:.7322834645669292,time:13.572,channel:1,duration:2.817,end:16.389},{name:"E",number:64,velocity:.31496062992125984,time:16.355,channel:1,duration:.5560000000000009,end:16.911},{name:"D",number:62,velocity:.6850393700787402,time:16.859,channel:1,duration:3.4619999999999997,end:20.321},{name:"D",number:62,velocity:.3779527559055118,time:21.237,channel:1,duration:2.759900000095371,end:23.99690000009537},{name:"A",number:57,velocity:.5196850393700787,time:24.006,channel:1,duration:.13700000000000045,end:24.143},{name:"D",number:62,velocity:.49606299212598426,time:24.139,channel:1,duration:.14700000000000202,end:24.286},{name:"A",number:57,velocity:.7007874015748031,time:24.241,channel:1,duration:2.2029999999999994,end:26.444},{name:"C#",number:61,velocity:.4015748031496063,time:26.479,channel:1,duration:.277000000000001,end:26.756},{name:"C",number:60,velocity:.8031496062992126,time:26.706,channel:1,duration:3.649000000000001,end:30.355},{name:"G",number:55,velocity:.7165354330708661,time:30.122900000095367,channel:1,duration:.5470999999046349,end:30.67},{name:"A",number:69,velocity:.30708661417322836,time:30.395,channel:1,duration:3.032,end:33.427},{name:"F",number:65,velocity:.6377952755905512,time:33.351,channel:1,duration:.37599999999999767,end:33.727},{name:"E",number:64,velocity:.8031496062992126,time:33.663,channel:1,duration:3.436,end:37.099},{name:"B",number:71,velocity:.3464566929133858,time:37.075,channel:1,duration:.26200000000000045,end:37.337},{name:"A",number:69,velocity:.4094488188976378,time:37.253,channel:1,duration:.07590000009536624,end:37.328900000095366},{name:"G",number:67,velocity:.8740157480314961,time:37.305,channel:1,duration:.6509000000953691,end:37.95590000009537},{name:"D",number:62,velocity:.49606299212598426,time:37.883,channel:1,duration:4.606999999999999,end:42.49},{name:"F#",number:66,velocity:.9763779527559056,time:42.417,channel:1,duration:1.0379999999999967,end:43.455},{name:"F",number:65,velocity:.47244094488188976,time:43.424,channel:1,duration:2.2310000000000016,end:45.655},{name:"D",number:62,velocity:.6062992125984252,time:45.6,channel:1,duration:3.9039999999999964,end:49.504},{name:"A",number:57,velocity:.7559055118110236,time:49.5,channel:1,duration:.11399999999999721,end:49.614},{name:"D",number:62,velocity:.5354330708661418,time:49.644,channel:1,duration:.142000000000003,end:49.786},{name:"A",number:57,velocity:.7637795275590551,time:49.741,channel:1,duration:4.308,end:54.049},{name:"G",number:55,velocity:.5511811023622047,time:54.021900000095364,channel:1,duration:.2460999999046365,end:54.268},{name:"A#",number:58,velocity:.7480314960629921,time:54.214,channel:1,duration:3.301000000000002,end:57.515},{name:"C",number:60,velocity:.5748031496062992,time:57.491,channel:1,duration:.347999999999999,end:57.839},{name:"D",number:62,velocity:.6141732283464567,time:57.768,channel:1,duration:2.8569999999999993,end:60.625},{name:"D",number:50,velocity:.7716535433070866,time:60.559,channel:1,duration:3.4399000000953706,end:63.99890000009537},{name:"F",number:53,velocity:.5748031496062992,time:63.945,channel:1,duration:.3309000000953617,end:64.27590000009536},{name:"A",number:57,velocity:.7795275590551181,time:64.24290000009536,channel:1,duration:3.494099999904634,end:67.737},{name:"F",number:65,velocity:.6614173228346457,time:67.747,channel:1,duration:.3719999999999999,end:68.119},{name:"D",number:62,velocity:.8582677165354331,time:68.088,channel:1,duration:2.8290000000000077,end:70.917},{name:"C",number:60,velocity:.5669291338582677,time:70.871,channel:1,duration:.36299999999999955,end:71.234},{name:"A#",number:58,velocity:.9606299212598425,time:71.195,channel:1,duration:2.3940000000000055,end:73.589},{name:"G",number:55,velocity:.5196850393700787,time:73.504,channel:1,duration:4.411999999999992,end:77.916},{name:"E",number:52,velocity:.4330708661417323,time:77.835,channel:1,duration:.3719999999999999,end:78.207},{name:"D",number:62,velocity:.4015748031496063,time:78.11590000009537,channel:1,duration:2.52209999990464,end:80.638}],Idt="keyboard-histogram",Bdt="0.16.2",Rdt="2024-10-09T17:09:18.391Z",F_={pastNoteCount:Odt,scaleRoot:xdt,scaleType:Sdt,notes:Tdt,_appId:Idt,_softwareVersion:Bdt,_date:Rdt};function Ddt(t){let e,i,a;return{c(){e=K("p"),e.textContent=`1) Improvise something while trying to use the whole range of
                the keyboard.`,i=q(),a=K("p"),a.textContent=`2) Improvise something while trying to use both hands (far
                enough apart) for the same amount of notes.`},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function Pdt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt;function Tt(Yt){t[14](Yt)}let vt={callback:t[10]};t[3]!==void 0&&(vt.value=t[3]),c=new iu({props:vt}),Me.push(()=>De(c,"value",Tt));function Ot(Yt){t[15](Yt)}let ft={label:"show scale",title:"If active, the color hue will show whether notes are in the selected scale or not",callback:t[10]};t[6]!==void 0&&(ft.checked=t[6]),m=new R9({props:ft}),Me.push(()=>De(m,"checked",Ot));function St(Yt){t[16](Yt)}function Mt(Yt){t[17](Yt)}function Pt(Yt){t[18](Yt)}let Vt={disabled:!t[6],callback:t[10]};t[1]!==void 0&&(Vt.scaleInfo=t[1]),t[4]!==void 0&&(Vt.scaleRoot=t[4]),t[5]!==void 0&&(Vt.scaleType=t[5]),y=new Xd({props:Vt}),Me.push(()=>De(y,"scaleInfo",St)),Me.push(()=>De(y,"scaleRoot",Mt)),Me.push(()=>De(y,"scaleType",Pt));function ie(Yt){t[20](Yt)}let jt={saveToStorage:t[13],callback:t[10]};t[7]!==void 0&&(jt.notes=t[7]),R=new Y9({props:jt}),Me.push(()=>De(R,"notes",ie)),N=new ha({props:{appId:t[0].id,loadData:t[12]}});function Wt(Yt){t[22](Yt)}let me={callback:t[10]};return t[7]!==void 0&&(me.notes=t[7]),H=new y0({props:me}),Me.push(()=>De(H,"notes",Wt)),J=new aa({props:{loadData:t[12],getExportData:t[11],appId:t[0].id}}),G=new z9({props:{$$slots:{default:[Ddt]},$$scope:{ctx:t}}}),j=new J9({props:{appId:t[0].id}}),tt=new k9({props:{noteOn:t[8],controlChange:t[9]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing scales on a keyboard. The heatmap below
            shows how often you played each keyboard key. You can color notes
            depending on whether they belong to the chosen scale or not, so you
            can see how often you played one outside the scale (on purpose or by
            accident).`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),x=q(),b=K("div"),O=q(),S=K("div"),Ft(R.$$.fragment),P=q(),L=K("button"),L.textContent="example",k=q(),Ft(N.$$.fragment),$=q(),Ft(H.$$.fragment),W=q(),Ft(J.$$.fragment),Q=q(),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),nt=q(),Ft(tt.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(b,"class","visualization"),dt(S,"class","control"),dt(e,"class","app")},m(Yt,pe){Ct(Yt,e,pe),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,x),B(e,b),t[19](b),B(e,O),B(e,S),kt(R,S,null),B(S,P),B(S,L),B(S,k),kt(N,S,null),B(S,$),kt(H,S,null),B(S,W),kt(J,S,null),B(e,Q),kt(G,e,null),B(e,z),kt(j,e,null),B(e,nt),kt(tt,e,null),ht=!0,pt||(gt=Ue(L,"click",t[21]),pt=!0)},p(Yt,pe){(!ht||pe&1)&&a!==(a=Yt[0].title+"")&&Ge(r,a);const Qe={};!f&&pe&8&&(f=!0,Qe.value=Yt[3],Re(()=>f=!1)),c.$set(Qe);const ni={};!A&&pe&64&&(A=!0,ni.checked=Yt[6],Re(()=>A=!1)),m.$set(ni);const ei={};pe&64&&(ei.disabled=!Yt[6]),!E&&pe&2&&(E=!0,ei.scaleInfo=Yt[1],Re(()=>E=!1)),!v&&pe&16&&(v=!0,ei.scaleRoot=Yt[4],Re(()=>v=!1)),!w&&pe&32&&(w=!0,ei.scaleType=Yt[5],Re(()=>w=!1)),y.$set(ei);const Ci={};!I&&pe&128&&(I=!0,Ci.notes=Yt[7],Re(()=>I=!1)),R.$set(Ci);const ai={};pe&1&&(ai.appId=Yt[0].id),N.$set(ai);const ti={};!U&&pe&128&&(U=!0,ti.notes=Yt[7],Re(()=>U=!1)),H.$set(ti);const be={};pe&1&&(be.appId=Yt[0].id),J.$set(be);const ye={};pe&33554432&&(ye.$$scope={dirty:pe,ctx:Yt}),G.$set(ye);const ne={};pe&1&&(ne.appId=Yt[0].id),j.$set(ne)},i(Yt){ht||(Rt(c.$$.fragment,Yt),Rt(m.$$.fragment,Yt),Rt(y.$$.fragment,Yt),Rt(R.$$.fragment,Yt),Rt(N.$$.fragment,Yt),Rt(H.$$.fragment,Yt),Rt(J.$$.fragment,Yt),Rt(G.$$.fragment,Yt),Rt(j.$$.fragment,Yt),Rt(tt.$$.fragment,Yt),ht=!0)},o(Yt){Dt(c.$$.fragment,Yt),Dt(m.$$.fragment,Yt),Dt(y.$$.fragment,Yt),Dt(R.$$.fragment,Yt),Dt(N.$$.fragment,Yt),Dt(H.$$.fragment,Yt),Dt(J.$$.fragment,Yt),Dt(G.$$.fragment,Yt),Dt(j.$$.fragment,Yt),Dt(tt.$$.fragment,Yt),ht=!1},d(Yt){Yt&&bt(e),Nt(c),Nt(m),Nt(y),t[19](null),Nt(R),Nt(N),Nt(H),Nt(J),Nt(G),Nt(j),Nt(tt),pt=!1,gt()}}}function Ldt(t){let e,i;return e=new ra({props:{loadData:t[12],$$slots:{default:[Pdt]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&33554687&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let U_=900,kdt=300;const g6=21,M6=108;function Ndt(t,e,i){let a,{appInfo:r}=e,s,l,u=500,d="C",c="major",f=!0,M,m=[];const A=N=>{m.length===0&&(M=N.timestamp);const $=(N.timestamp-M)/1e3,H={number:N.note.number,velocity:N.rawVelocity,time:$,channel:N.message.channel};i(7,m=[...m,H]),y()},p=N=>{const $=La(N.rawValue*2,20,250);i(3,u=$),y()},y=()=>{const N=m.slice(-u),$=Is(N,J=>J.number),H=ca($,J=>J[1].length);i(2,s.textContent="",s);const U=Bn({width:U_,height:kdt,marginLeft:30,marginBottom:28,marginRight:5,padding:0,x:{label:"",domain:Ei(g6,M6+1),tickFormat:J=>ul(J)?"":J%12===0?`
`+Ga.fromMidiSharps(J):Ga.fromMidiSharps(J).slice(0,-1)},y:{label:"count",interval:1,nice:!0},color:{legend:f,domain:["in scale","not in scale"],range:Co,marginLeft:380},marks:[H9([0],{stroke:"#ddd"}),Kd(Ei(g6,M6+1).filter(J=>ul(J)),{x:J=>J,y:()=>H,fill:"#f8f8f8",inset:.5}),Krt(N,rit({y:"count"},{x:"number",fill:f?J=>a.has(J.number%12)?"in scale":"not in scale":J=>ul(J.number)?"#444":"#ccc",inset:.5,rx:4,tip:!0}))]});s.appendChild(U);const W=Bn({width:U_,height:60,marginLeft:f?65:30,marginRight:f?40:5,marginBottom:10,padding:0,x:{axis:!1,interval:1},y:{axis:!1},marks:[Ll(Ei(g6,M6+1),{x:J=>J,y1:J=>ul(J)?2:1.5,y2:J=>ul(J)?.5:0,fill:J=>ul(J)?"#333":"white",stroke:"#bbb",inset:1,rx:2.5,clip:!1})]});s.appendChild(W)};c9(y);const E=()=>({pastNoteCount:u,scaleRoot:d,scaleType:c,notes:m}),v=N=>{w(),i(3,u=N.pastNoteCount),i(4,d=N.scaleRoot),i(5,c=N.scaleType),i(7,m=N.notes),y()},w=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(F_.notes)&&da(r.id,E())};r9(w);function x(N){u=N,i(3,u)}function b(N){f=N,i(6,f)}function O(N){l=N,i(1,l)}function S(N){d=N,i(4,d)}function R(N){c=N,i(5,c)}function I(N){Me[N?"unshift":"push"](()=>{s=N,i(2,s)})}function P(N){m=N,i(7,m)}const L=()=>v(F_);function k(N){m=N,i(7,m)}return t.$$set=N=>{"appInfo"in N&&i(0,r=N.appInfo)},t.$$.update=()=>{t.$$.dirty&2&&(a=new Set(l?l.notes.map(N=>kl.get(N)):[]))},[r,l,s,u,d,c,f,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k]}class Fdt extends Ki{constructor(e){super(),Wi(this,e,Ndt,Ldt,ji,{appInfo:0})}}const Udt=20,$dt=268290.80000000005,Gdt=-20,Hdt=!0,Vdt=[{time:6.866100000000094,pitch:164.84394981764146,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.8558387003551999},{time:6.882699999999954,pitch:165.13856985862867,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.8717938546740882},{time:6.899399999999907,pitch:168.62434413709184,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9550674496646963},{time:6.916100000000093,pitch:166.47566607514122,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9892278466152646},{time:6.9326999999999535,pitch:165.50585321263233,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9985202891473897},{time:6.9493999999999065,pitch:164.99543357303352,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.998910431492817},{time:6.966100000000093,pitch:164.8487478097934,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9990359914436446},{time:6.982800000000046,pitch:164.95743237248462,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994584921478911},{time:6.9995,pitch:164.80896988770772,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9992993320414669},{time:7.016100000000093,pitch:164.841824151065,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9989685956499592},{time:7.032800000000046,pitch:164.85334356864416,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9992501424627882},{time:7.0495,pitch:164.866500940062,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992278286807306},{time:7.066100000000093,pitch:164.9950305803836,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9987453238050286},{time:7.082800000000047,pitch:164.94150244683595,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9985164754781799},{time:7.099399999999907,pitch:165.0572032559152,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992148272991805},{time:7.116100000000094,pitch:164.8610917153099,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9988873273261767},{time:7.132899999999907,pitch:165.0984178548978,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9984405615214733},{time:7.151899999999907,pitch:164.94967400278276,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987463365972289},{time:7.166100000000093,pitch:164.81419903812036,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9987159745650764},{time:7.1826999999999535,pitch:164.90151204025747,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9986094038283042},{time:7.1995,pitch:164.78527366479423,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9982966174686894},{time:7.216100000000093,pitch:165.03819567012926,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9987167405897956},{time:7.232699999999953,pitch:164.77597239369763,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9981829247023377},{time:7.249399999999907,pitch:165.0629985434194,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9977194747458284},{time:7.266100000000093,pitch:165.08961565904517,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985446299963563},{time:7.282800000000046,pitch:165.14883112356247,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9981114660209442},{time:7.299399999999907,pitch:163.9517820760354,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9931167050345593},{time:7.316100000000093,pitch:163.81234068839808,noteMidi:52,actualMidi:51.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9881696274460765},{time:7.332699999999954,pitch:165.69085168456365,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9743155662962835},{time:7.349399999999907,pitch:163.6914381640926,noteMidi:52,actualMidi:51.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9500692155729453},{time:7.366100000000094,pitch:162.2325439731973,noteMidi:52,actualMidi:51.73,actualMidiChroma:3.729999999999997,centsOffset:-27.000000000000313,clarity:.8873816464558963},{time:7.382699999999954,pitch:161.73750038958147,noteMidi:52,actualMidi:51.67,actualMidiChroma:3.6700000000000017,centsOffset:-32.99999999999983,clarity:.86465913358645},{time:7.399399999999907,pitch:152.82987217031967,noteMidi:51,actualMidi:50.69,actualMidiChroma:2.6899999999999977,centsOffset:-31.000000000000227,clarity:.4891711867699211},{time:7.416100000000093,pitch:155.24270348486192,noteMidi:51,actualMidi:50.96,actualMidiChroma:2.960000000000001,centsOffset:-3.9999999999999147,clarity:.6306220024590541},{time:7.4326999999999535,pitch:161.8269658172597,noteMidi:52,actualMidi:51.68,actualMidiChroma:3.6799999999999997,centsOffset:-32.00000000000003,clarity:.6914854286082885},{time:7.4493999999999065,pitch:164.78687538436128,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.7315233545188917},{time:7.466100000000093,pitch:164.51599485204596,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9312925520659476},{time:7.482699999999953,pitch:164.56655461757478,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9975351172510756},{time:7.499399999999907,pitch:164.6091096975178,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999728817947485},{time:7.518600000000093,pitch:164.60448306937226,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997637395205743},{time:7.532800000000046,pitch:164.6021324768012,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997767661574102},{time:7.549399999999907,pitch:164.61430798885218,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998081201834026},{time:7.566100000000093,pitch:164.5966987735068,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998238892243236},{time:7.582800000000047,pitch:164.583513443727,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998474338232768},{time:7.5995,pitch:164.55118862232186,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998562822041208},{time:7.616100000000094,pitch:164.54775693070215,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998733775956552},{time:7.632699999999954,pitch:164.55287782522797,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998697881286063},{time:7.649399999999907,pitch:164.57993399437402,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998807215246472},{time:7.666,pitch:164.62599768003454,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998862841845693},{time:7.6826999999999535,pitch:164.62633525776772,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998926206189438},{time:7.6993999999999065,pitch:164.63117779162107,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999083887412894},{time:7.716100000000093,pitch:164.6217692113757,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999048298632474},{time:7.732699999999953,pitch:164.62298099777067,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999064967878866},{time:7.749399999999907,pitch:164.64627519220136,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998998459822062},{time:7.766100000000093,pitch:164.69291928303588,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998851241170215},{time:7.782800000000046,pitch:164.76414528652464,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998674813727533},{time:7.799399999999907,pitch:164.9039124696968,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998659451371452},{time:7.816100000000093,pitch:165.09595006695162,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998508547546976},{time:7.832699999999954,pitch:165.21236391966048,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998501269187727},{time:7.849399999999907,pitch:165.59909371193066,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9997168184625096},{time:7.866100000000094,pitch:166.32959674748992,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9996002451489829},{time:7.885199999999953,pitch:166.95005672321903,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995674358182214},{time:7.8995,pitch:167.30822520388563,noteMidi:52,actualMidi:52.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9995460139737204},{time:7.916100000000093,pitch:167.96869061390035,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.9992575823123317},{time:7.9326999999999535,pitch:168.42974787165807,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9988347989439674},{time:7.9493999999999065,pitch:169.69146990273828,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9969885331529795},{time:7.966100000000093,pitch:171.25631625699404,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9929487160522186},{time:7.982699999999953,pitch:172.3707299352859,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.9913604806097283},{time:7.999399999999907,pitch:173.45397592440486,noteMidi:53,actualMidi:52.88,actualMidiChroma:4.880000000000003,centsOffset:-11.999999999999744,clarity:.9911117339865996},{time:8.016100000000094,pitch:173.58105402136647,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9913338229458546},{time:8.032699999999954,pitch:173.6323235849193,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9922206622500909},{time:8.049399999999906,pitch:173.6185964608792,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9944782262746585},{time:8.066100000000093,pitch:173.15416900152098,noteMidi:53,actualMidi:52.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.995203740044488},{time:8.082699999999953,pitch:173.25198025412067,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9937208794896861},{time:8.099399999999907,pitch:174.1311707063476,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.9883601213378483},{time:8.116100000000094,pitch:172.82310265013388,noteMidi:53,actualMidi:52.82,actualMidiChroma:4.82,centsOffset:-17.99999999999997,clarity:.986285733678173},{time:8.132699999999954,pitch:171.48070740457166,noteMidi:53,actualMidi:52.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.9899169337489582},{time:8.149300000000046,pitch:169.697948578165,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.996847439023206},{time:8.166100000000093,pitch:168.66735385929246,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9981152319323741},{time:8.182800000000046,pitch:168.05758001719303,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9985024094434252},{time:8.199399999999907,pitch:167.05123138099424,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9989938470060906},{time:8.216100000000093,pitch:166.38371693034617,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.999509127897042},{time:8.232800000000047,pitch:166.1269850402358,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9996331147481996},{time:8.251699999999953,pitch:165.6685333591511,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9996724018451957},{time:8.266100000000094,pitch:165.14962450335688,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998590675734533},{time:8.282699999999954,pitch:165.0717615825231,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998738842335939},{time:8.299399999999906,pitch:164.9279133573899,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999057670331482},{time:8.316,pitch:164.93212260038686,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999131890453299},{time:8.332699999999953,pitch:164.92347146272655,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999231240141029},{time:8.349399999999907,pitch:164.97450531958546,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999072588426401},{time:8.366,pitch:165.15897932688134,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998485492188394},{time:8.382800000000046,pitch:165.32536336264081,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997492275956077},{time:8.399399999999908,pitch:165.90951513260146,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9995347198668654},{time:8.416100000000093,pitch:166.46650082048882,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9994799374476457},{time:8.432699999999953,pitch:166.77875843523165,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9994846219575919},{time:8.449399999999907,pitch:167.21741274129107,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9993352694181681},{time:8.466100000000093,pitch:167.8834258809413,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9982656364979121},{time:8.482800000000047,pitch:168.11538904071602,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9980810644853264},{time:8.499399999999907,pitch:169.2328567090309,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9931708717753978},{time:8.516100000000094,pitch:170.63571142124826,noteMidi:53,actualMidi:52.6,actualMidiChroma:4.600000000000001,centsOffset:-39.99999999999986,clarity:.9848737299755683},{time:8.532699999999954,pitch:171.4389763130013,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.976238655929123},{time:8.549399999999906,pitch:171.4310832497451,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.9778200538953712},{time:8.566100000000093,pitch:170.5180356340411,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.9889662790078333},{time:8.582699999999953,pitch:170.43058152497653,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9927388886325517},{time:8.599399999999907,pitch:169.9080704023652,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9955827277791869},{time:8.618399999999907,pitch:168.9995379704416,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9969674259488954},{time:8.632699999999954,pitch:168.42667788359935,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9978202310170872},{time:8.649399999999908,pitch:167.15582143002482,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9987653272755246},{time:8.666100000000093,pitch:166.09050347337185,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9995995763451901},{time:8.682800000000046,pitch:165.87465410744227,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9996424773777051},{time:8.699399999999907,pitch:165.3534795084119,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997655162181331},{time:8.716100000000093,pitch:164.984884753777,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994715088380985},{time:8.732699999999953,pitch:164.8245410794315,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.999512930167981},{time:8.749399999999907,pitch:164.7207070591235,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998817083187461},{time:8.766100000000094,pitch:164.64659978959494,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998772790801418},{time:8.782699999999954,pitch:164.71407577372304,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998890539555383},{time:8.799399999999906,pitch:164.66590845176603,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998875932531526},{time:8.816100000000093,pitch:164.73662181616334,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998739480376813},{time:8.832699999999953,pitch:164.8525857386244,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9995090709635548},{time:8.849399999999907,pitch:165.0826442074827,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992637761081724},{time:8.866,pitch:165.6740243015302,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9995195579426692},{time:8.882699999999954,pitch:165.74978285617087,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9994388275967054},{time:8.899399999999908,pitch:166.48677382649606,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9992100552002796},{time:8.916100000000093,pitch:167.1076192118069,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9985475958831067},{time:8.932800000000046,pitch:167.65459050773455,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9977380928952151},{time:8.949399999999907,pitch:168.63518660042632,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9907558074830476},{time:8.966100000000093,pitch:170.58319863199816,noteMidi:53,actualMidi:52.6,actualMidiChroma:4.600000000000001,centsOffset:-39.99999999999986,clarity:.9553077129905745},{time:8.985100000000093,pitch:172.05277576137826,noteMidi:53,actualMidi:52.74,actualMidiChroma:4.740000000000002,centsOffset:-25.9999999999998,clarity:.9194256710938689},{time:8.999399999999907,pitch:170.98417004058112,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.9399612675385001},{time:9.016100000000094,pitch:170.36704863131982,noteMidi:53,actualMidi:52.57,actualMidiChroma:4.57,centsOffset:-42.99999999999997,clarity:.9831707372620571},{time:9.032699999999954,pitch:170.13882509361062,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9871076528192191},{time:9.049399999999906,pitch:169.69540228209473,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9915116048877266},{time:9.066,pitch:169.05893495241105,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9921280372532024},{time:9.082699999999953,pitch:168.74648795639789,noteMidi:52,actualMidi:52.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.9924070653775559},{time:9.099399999999907,pitch:167.6830133905739,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.990465699078527},{time:9.116,pitch:166.65325408413136,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9903528820599945},{time:9.132699999999954,pitch:166.23699225640473,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.988907364964831},{time:9.149399999999908,pitch:165.5622709441096,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9913537136596986},{time:9.166100000000093,pitch:165.22312077190833,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9966486026359718},{time:9.182699999999953,pitch:165.1399288232579,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985897293870778},{time:9.199399999999907,pitch:164.88233655796014,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9993198256611109},{time:9.216100000000093,pitch:164.6600828663795,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990255529635306},{time:9.232699999999953,pitch:164.62335189211518,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991440116177372},{time:9.249399999999907,pitch:164.67595654446146,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993777889130584},{time:9.266,pitch:164.71651627097233,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993470217003022},{time:9.282699999999954,pitch:164.72896324446975,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990619944315782},{time:9.299399999999906,pitch:164.97747703320175,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9977693631834512},{time:9.316,pitch:165.75001027182515,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9965839168588957},{time:9.332699999999953,pitch:165.99927080703412,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9964715988682258},{time:9.351699999999953,pitch:167.0659050426878,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9919009463752033},{time:9.366,pitch:168.26587195782554,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9797269577048056},{time:9.382699999999954,pitch:169.34312222183863,noteMidi:52,actualMidi:52.47,actualMidiChroma:4.469999999999999,centsOffset:46.999999999999886,clarity:.9638938319865531},{time:9.399300000000046,pitch:170.1678883326128,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9430821418404562},{time:9.416,pitch:170.01430859937165,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9744575301589435},{time:9.432699999999953,pitch:169.94504987608735,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9852338418709685},{time:9.449399999999907,pitch:169.6497293432335,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9926115060415235},{time:9.466,pitch:169.5985685999916,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9922799111601108},{time:9.482699999999953,pitch:169.65375984588474,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.992723744401502},{time:9.499399999999907,pitch:169.07131699408137,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9865183460268199},{time:9.516,pitch:168.0972758463785,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9772078129089792},{time:9.532699999999954,pitch:167.5682595577913,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9759038123749235},{time:9.549399999999906,pitch:166.12520106416568,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9763967440546821},{time:9.566100000000093,pitch:165.64998344842908,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9852065984185714},{time:9.582800000000047,pitch:165.51943218727814,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9922176721904208},{time:9.599399999999907,pitch:164.98825779187862,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9924823669119007},{time:9.616,pitch:164.60217164673278,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9807802833970527},{time:9.632699999999954,pitch:164.83698110997156,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9825379258077049},{time:9.649399999999908,pitch:164.63474094254883,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.997060225410273},{time:9.666,pitch:164.7260982893437,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980249238046426},{time:9.682699999999953,pitch:164.6657384449429,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9978444502666264},{time:9.701699999999953,pitch:164.98565134462098,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965799200352947},{time:9.716,pitch:165.05236705028852,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.983006061158477},{time:9.732800000000047,pitch:165.3890936476649,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9777208156034405},{time:9.749399999999907,pitch:165.58999374381565,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9783472680551171},{time:9.766100000000094,pitch:166.86780501763303,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9644738741329277},{time:9.782699999999954,pitch:167.67902923697974,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9672960957388312},{time:9.799300000000047,pitch:168.09866906086964,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9594326654171823},{time:9.816100000000093,pitch:168.9694989976726,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9677405818198608},{time:9.832699999999953,pitch:168.8575859106849,noteMidi:52,actualMidi:52.42,actualMidiChroma:4.420000000000002,centsOffset:42.00000000000017,clarity:.9738915202702074},{time:9.849399999999907,pitch:169.17723905819736,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9821519944541066},{time:9.866,pitch:169.29232387294206,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9882856925358325},{time:9.882699999999954,pitch:168.94799882079442,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.988974822156365},{time:9.899399999999908,pitch:168.99347003062866,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9812760653675561},{time:9.916100000000093,pitch:169.16510838169606,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9689671237469177},{time:9.932699999999953,pitch:168.5293676207821,noteMidi:52,actualMidi:52.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.9367946230635447},{time:9.949199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.965899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.982600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.999199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.015899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.049199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.068399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.099300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.115899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.1325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.149199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.165899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.1825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.199199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.215899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.232600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.249199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.265899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.2825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.299300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.315899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.3325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.349199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.365800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.382600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.399199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.415899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.435199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.449300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.465899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.482600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.499300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.515899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.532600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.549199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.565899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.5825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.599199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.6325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.649300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.665899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.682600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.699199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.715899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.732600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.749199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.765899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.782600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.801600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.815899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.832600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.849199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.865899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.8825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.899199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.915899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.932600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.949300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.965899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.9825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.999199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.015899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.049199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.065899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.099300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.115899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.132600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.149199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.168399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.182600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.199199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.215800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.232600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.249199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.265800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.2825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.299199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.315800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.332600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.349199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.365800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.382600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.399199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.415899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.432600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.449199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.465899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.499199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.515800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.535199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.549300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.565800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.5825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.599199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.615899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.6325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.649199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.665899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.6825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.699199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.715800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.7325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.749199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.765899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.7825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.799199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.815899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.832600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.849199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.865899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.882600000000092,pitch:122.99971404694507,noteMidi:47,actualMidi:46.93,actualMidiChroma:10.93,centsOffset:-7.000000000000028,clarity:.22237098169316383},{time:11.901699999999954,pitch:158.07340275858212,noteMidi:51,actualMidi:51.28,actualMidiChroma:3.280000000000001,centsOffset:28.000000000000114,clarity:.3794272410180053},{time:11.916100000000093,pitch:165.47234417598042,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.7220560826078994},{time:11.932699999999953,pitch:165.24102216474537,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.8417470226440003},{time:11.949399999999907,pitch:164.91299942464866,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971877262032791},{time:11.966,pitch:164.87568493678106,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996251686185076},{time:11.982699999999953,pitch:164.86963256676034,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996613988714813},{time:11.999300000000046,pitch:164.85060616947288,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997231937070552},{time:12.016,pitch:164.80474989435524,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997932752779803},{time:12.032600000000093,pitch:164.78955396509568,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998167876406967},{time:12.049300000000047,pitch:164.76806716445725,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998382793698397},{time:12.065899999999907,pitch:164.75406595268652,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998444207794535},{time:12.082699999999953,pitch:164.75673196447767,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998568463410891},{time:12.099300000000046,pitch:164.76132698567326,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998642070386836},{time:12.116,pitch:164.7599415929434,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998745190893032},{time:12.132600000000092,pitch:164.7506830773582,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998762562625245},{time:12.149300000000046,pitch:164.7383580992646,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998898641161631},{time:12.166,pitch:164.7416464508854,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998978884198522},{time:12.182600000000093,pitch:164.76165570263183,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998952432946595},{time:12.199300000000047,pitch:164.86287146138318,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998899689868566},{time:12.216,pitch:164.95859291058477,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999080117683832},{time:12.232600000000094,pitch:164.9791938813049,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999135973180557},{time:12.249399999999907,pitch:165.00760802829015,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999194956776662},{time:12.268600000000093,pitch:165.06960784854692,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999207640101702},{time:12.282600000000093,pitch:165.13080901636337,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999107818479587},{time:12.299300000000047,pitch:165.28936313648663,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9999102115855081},{time:12.316,pitch:165.4964278600309,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998858470831351},{time:12.332600000000093,pitch:165.65369203423543,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9998408498919602},{time:12.349300000000046,pitch:166.02861243044143,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9997800566134529},{time:12.366,pitch:166.31627146361407,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9997546818203844},{time:12.382600000000092,pitch:166.49068221116875,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996897098282247},{time:12.399300000000046,pitch:166.8427732150061,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9996153493309521},{time:12.416,pitch:167.3894408302328,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9994756116351553},{time:12.432600000000093,pitch:167.73142602922553,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9993223127299871},{time:12.449399999999907,pitch:168.3645214576296,noteMidi:52,actualMidi:52.37,actualMidiChroma:4.369999999999997,centsOffset:36.999999999999744,clarity:.9985561142493182},{time:12.466,pitch:169.43647741383396,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.99624246217018},{time:12.482600000000094,pitch:169.9867167796157,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9948881897144233},{time:12.499300000000046,pitch:171.60990828566023,noteMidi:53,actualMidi:52.7,actualMidiChroma:4.700000000000003,centsOffset:-29.999999999999716,clarity:.9931344371906619},{time:12.516,pitch:172.08588772594808,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.9927442831063047},{time:12.532699999999954,pitch:172.2321352845652,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9928908174880036},{time:12.549300000000047,pitch:172.73607892274683,noteMidi:53,actualMidi:52.81,actualMidiChroma:4.810000000000002,centsOffset:-18.999999999999773,clarity:.9920640177391604},{time:12.566,pitch:173.24069505521152,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9936870420610688},{time:12.582699999999953,pitch:173.20361801957,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9945483208836663},{time:12.599399999999907,pitch:173.12705041047704,noteMidi:53,actualMidi:52.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.9934031762708244},{time:12.6185,pitch:174.77530175576314,noteMidi:53,actualMidi:53.02,actualMidiChroma:5.020000000000003,centsOffset:2.0000000000003126,clarity:.9841012773140534},{time:12.632699999999954,pitch:175.26404850040137,noteMidi:53,actualMidi:53.06,actualMidiChroma:5.060000000000002,centsOffset:6.000000000000227,clarity:.9822435739459223},{time:12.649399999999908,pitch:174.63629436596383,noteMidi:53,actualMidi:53,actualMidiChroma:5,centsOffset:0,clarity:.9868766288684867},{time:12.666,pitch:174.29026792475238,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9917270322447962},{time:12.682600000000093,pitch:174.0637455277285,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.9928826823691494},{time:12.699300000000047,pitch:173.87239914293505,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.992273598010037},{time:12.716,pitch:174.73475052519015,noteMidi:53,actualMidi:53.01,actualMidiChroma:5.009999999999998,centsOffset:.999999999999801,clarity:.9859587106853738},{time:12.732699999999953,pitch:175.24020160912042,noteMidi:53,actualMidi:53.06,actualMidiChroma:5.060000000000002,centsOffset:6.000000000000227,clarity:.9815880842788118},{time:12.749399999999907,pitch:174.3603189169219,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9870553855781736},{time:12.766,pitch:173.80799851091464,noteMidi:53,actualMidi:52.92,actualMidiChroma:4.920000000000002,centsOffset:-7.9999999999998295,clarity:.9919719199465078},{time:12.782699999999954,pitch:173.7396026782135,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9929966404166493},{time:12.799399999999906,pitch:173.3838860088675,noteMidi:53,actualMidi:52.88,actualMidiChroma:4.880000000000003,centsOffset:-11.999999999999744,clarity:.993641802509444},{time:12.816,pitch:173.87839139242186,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9879404665678848},{time:12.832600000000093,pitch:174.42277110483084,noteMidi:53,actualMidi:52.98,actualMidiChroma:4.979999999999997,centsOffset:-2.0000000000003126,clarity:.983568348834865},{time:12.849300000000046,pitch:173.9391404907044,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9832787731692321},{time:12.866,pitch:172.14373155966902,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.9929482009900283},{time:12.882600000000092,pitch:171.72990348246213,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9948651799283894},{time:12.899300000000046,pitch:171.02297536743802,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.996447381238049},{time:12.915899999999906,pitch:170.42345857860482,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9971628295995458},{time:12.932600000000093,pitch:170.08476078947328,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.99700320834976},{time:12.949300000000047,pitch:169.39413852411047,noteMidi:52,actualMidi:52.47,actualMidiChroma:4.469999999999999,centsOffset:46.999999999999886,clarity:.9969980514072745},{time:12.966,pitch:169.02426391169752,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9965993075577444},{time:12.985199999999953,pitch:168.67231413855737,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9966534863021792},{time:12.999300000000046,pitch:168.5207640347269,noteMidi:52,actualMidi:52.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.9968482891196118},{time:13.015899999999906,pitch:167.92464193116618,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9976491054710124},{time:13.032600000000093,pitch:167.61483567921258,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9980503690941305},{time:13.049300000000047,pitch:167.09129784408603,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988878303043407},{time:13.066,pitch:166.6829552590152,noteMidi:52,actualMidi:52.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9993186997678123},{time:13.082600000000093,pitch:166.58317265915653,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9993564214868798},{time:13.099300000000046,pitch:166.4514631287783,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9994600422887459},{time:13.116,pitch:166.21271719795286,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9995356609317128},{time:13.132699999999954,pitch:166.0325330874872,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9995281016834383},{time:13.149300000000046,pitch:165.61337287991176,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9997349583266484},{time:13.166,pitch:165.4480044454292,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998340115880993},{time:13.182600000000093,pitch:165.4012574552898,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9998300271252987},{time:13.199300000000047,pitch:165.27553403620354,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997589306951085},{time:13.216,pitch:165.0906997268016,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997629228747371},{time:13.232699999999953,pitch:164.97919779476177,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9998238237108055},{time:13.249399999999907,pitch:164.92303771364152,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998275582155998},{time:13.266,pitch:164.85622243336738,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997845330453572},{time:13.282600000000093,pitch:164.84259926678848,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997956247800914},{time:13.299399999999906,pitch:164.72670793960103,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998012658377817},{time:13.316,pitch:164.641405023088,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997091293004772},{time:13.335,pitch:164.637110613443,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997088875487776},{time:13.349300000000046,pitch:164.59122699206978,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996793912388497},{time:13.365899999999908,pitch:164.57947265406804,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995687888261173},{time:13.382699999999954,pitch:164.56030023328938,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995399120996709},{time:13.399300000000046,pitch:164.51639960802152,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994165082193405},{time:13.415899999999906,pitch:164.48359106117042,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993899801025847},{time:13.432600000000093,pitch:164.43112458806115,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992696440699049},{time:13.449300000000047,pitch:164.4425323765353,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993623287569733},{time:13.466,pitch:164.40605840518236,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993468355192903},{time:13.482699999999953,pitch:164.39781468249478,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992525615174088},{time:13.499399999999907,pitch:164.3410826468068,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991928274286295},{time:13.516,pitch:164.26876940089196,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991876664441008},{time:13.532600000000093,pitch:164.26672190246717,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992320413191038},{time:13.549300000000047,pitch:164.21794330654635,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990156914919055},{time:13.566,pitch:164.24060574267608,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990411018327308},{time:13.582699999999953,pitch:164.2447384453097,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992094731190662},{time:13.599300000000046,pitch:164.22971176769647,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9989939239932681},{time:13.615899999999908,pitch:164.24091735167738,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992433094639068},{time:13.632600000000092,pitch:164.21003383787328,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991090206632975},{time:13.649199999999954,pitch:164.2556155991957,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993112338180481},{time:13.666,pitch:164.29162817498033,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9994627584294449},{time:13.685100000000093,pitch:164.29970896619275,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992528862222088},{time:13.699300000000047,pitch:164.32959235634198,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991774315972464},{time:13.716,pitch:164.31640222820613,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992310713122237},{time:13.732600000000094,pitch:164.36255583671883,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9995523300291751},{time:13.749300000000046,pitch:164.35342987798222,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993532281192188},{time:13.765899999999906,pitch:164.36085012487695,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9994437565953831},{time:13.782699999999954,pitch:164.38226521492422,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9995137500092142},{time:13.799300000000047,pitch:164.36217898011918,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993684728012227},{time:13.815899999999907,pitch:164.3620880396468,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992878482371026},{time:13.832600000000093,pitch:164.31081347948037,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993046951839801},{time:13.849199999999954,pitch:164.31280475561084,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9990824134482068},{time:13.866,pitch:164.3092896873149,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9987750238061466},{time:13.882699999999954,pitch:164.26407209423783,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990447205735364},{time:13.899300000000046,pitch:164.26781961681317,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991600074539093},{time:13.915899999999906,pitch:164.21415818918268,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990426000864403},{time:13.932699999999953,pitch:164.23438217716568,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991991439029348},{time:13.949300000000047,pitch:164.2092557689644,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993184035342395},{time:13.965899999999907,pitch:164.19466961887287,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9990780851586791},{time:13.982699999999953,pitch:164.23892996661354,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990728958285615},{time:13.999300000000046,pitch:164.21134227891287,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999346645964593},{time:14.015899999999906,pitch:164.30335765031938,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991206855691885},{time:14.035,pitch:164.30873597708282,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992484194013684},{time:14.049300000000047,pitch:164.3469586308741,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.999386699475167},{time:14.066,pitch:164.41417191807906,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992802703053769},{time:14.082600000000093,pitch:164.4153658135478,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992038078464063},{time:14.099300000000046,pitch:164.43129277952977,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993975555990531},{time:14.116,pitch:164.41905008114782,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993548362102374},{time:14.132600000000092,pitch:164.46025832427284,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992115273028901},{time:14.149300000000046,pitch:164.46826097384925,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992652576446446},{time:14.166,pitch:164.48139191155713,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994216745291453},{time:14.182600000000093,pitch:164.50005733807768,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994705719196233},{time:14.199199999999953,pitch:164.50851278743286,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993325487670646},{time:14.216,pitch:164.51017648379926,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994818457615651},{time:14.232600000000094,pitch:164.47787761903572,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9994177051864455},{time:14.249300000000046,pitch:164.49826987829263,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9990872126857155},{time:14.266,pitch:164.4763328130946,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9988359269634088},{time:14.282600000000093,pitch:164.40913999678048,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9984127702426591},{time:14.299399999999906,pitch:164.42182486344177,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9962046883178388},{time:14.315899999999907,pitch:164.2911837270567,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9960264698730228},{time:14.332699999999953,pitch:164.38519088269106,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9971910778496209},{time:14.349300000000046,pitch:164.36555778499675,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9978360686914414},{time:14.368300000000046,pitch:164.2613950230256,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9969157547704413},{time:14.382600000000092,pitch:164.29481095338707,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9969762286552566},{time:14.399199999999954,pitch:164.12739376041603,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9958686635816747},{time:14.415800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.4325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.449199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.465800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.499100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.515899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.549100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.565800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.599100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.632399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.649199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.665800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.6825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.699100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.718300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.7325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.749100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.765800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.7825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.799100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.815800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.8325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.849199999999954,pitch:290.9140056137336,noteMidi:62,actualMidi:61.84,actualMidiChroma:1.8400000000000034,centsOffset:-15.999999999999659,clarity:.2421313985819058},{time:14.865899999999908,pitch:164.57012995428374,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.8161532855289124},{time:14.882600000000092,pitch:164.59298841329377,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.8698257839050854},{time:14.899300000000046,pitch:164.63586749164165,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995485340638623},{time:14.916,pitch:164.63383497695725,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997147633418848},{time:14.932600000000093,pitch:164.64071969565765,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997367593636852},{time:14.949199999999953,pitch:164.65980504316636,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999782768953807},{time:14.966,pitch:164.64064530521335,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998257550867891},{time:14.982600000000094,pitch:164.6344279350128,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998262423623743},{time:14.999399999999907,pitch:164.62870798109938,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998356210945047},{time:15.016,pitch:164.62814794109997,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998081349558277},{time:15.032600000000093,pitch:164.62949132452215,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998020798130369},{time:15.051699999999954,pitch:164.62829554202895,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997970145577852},{time:15.066,pitch:164.630218059076,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997956739972551},{time:15.082600000000093,pitch:164.63879695193455,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998118981975921},{time:15.099199999999954,pitch:164.65117001408288,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998110556905004},{time:15.115899999999908,pitch:164.68160178066645,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998106616520133},{time:15.132600000000092,pitch:164.71784052003287,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998145140247914},{time:15.149199999999954,pitch:164.85377336740225,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998154542374422},{time:15.165899999999906,pitch:165.03377061189093,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.999843429535126},{time:15.1825,pitch:165.13854308818927,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998452151946537},{time:15.199300000000047,pitch:165.33102314013576,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998616350365239},{time:15.215899999999907,pitch:165.63137576129907,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.999832274931471},{time:15.232600000000094,pitch:165.7837934414672,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9997788083299142},{time:15.249300000000046,pitch:166.08544101027576,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9997690124005914},{time:15.265899999999906,pitch:166.46274937407688,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9996731555713652},{time:15.282600000000093,pitch:166.6370431408558,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996250258911132},{time:15.299199999999953,pitch:167.1052915495754,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9995911963624025},{time:15.316,pitch:167.581455773751,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9994859710838071},{time:15.332600000000093,pitch:167.86512732593093,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9993876619500384},{time:15.349300000000046,pitch:168.6245858564438,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9983964587898271},{time:15.365899999999908,pitch:169.70874392975196,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9961058049698011},{time:15.385100000000094,pitch:171.66495337432676,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9925077706296719},{time:15.399300000000046,pitch:172.40644266397334,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.9924732277651884},{time:15.415899999999906,pitch:173.48726713804393,noteMidi:53,actualMidi:52.89,actualMidiChroma:4.890000000000001,centsOffset:-10.999999999999943,clarity:.9916148206848874},{time:15.432600000000093,pitch:173.963511164248,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9896689706848463},{time:15.449300000000047,pitch:175.16036943900133,noteMidi:53,actualMidi:53.05,actualMidiChroma:5.049999999999997,centsOffset:4.999999999999716,clarity:.9907720181884017},{time:15.466,pitch:175.6584190101521,noteMidi:53,actualMidi:53.1,actualMidiChroma:5.100000000000001,centsOffset:10.000000000000142,clarity:.9921100629148185},{time:15.482600000000094,pitch:175.81819853608042,noteMidi:53,actualMidi:53.12,actualMidiChroma:5.119999999999997,centsOffset:11.999999999999744,clarity:.9900103829605271},{time:15.499199999999954,pitch:177.47569149438309,noteMidi:53,actualMidi:53.28,actualMidiChroma:5.280000000000001,centsOffset:28.000000000000114,clarity:.9821667798021849},{time:15.516,pitch:177.85746860743478,noteMidi:53,actualMidi:53.32,actualMidiChroma:5.32,centsOffset:32.00000000000003,clarity:.9822603927675857},{time:15.532600000000093,pitch:177.7305141963233,noteMidi:53,actualMidi:53.31,actualMidiChroma:5.310000000000002,centsOffset:31.000000000000227,clarity:.986045796150151},{time:15.549300000000047,pitch:177.92672222634016,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9870553053559306},{time:15.565899999999907,pitch:178.9528408841786,noteMidi:53,actualMidi:53.42,actualMidiChroma:5.420000000000002,centsOffset:42.00000000000017,clarity:.979806463977944},{time:15.582600000000093,pitch:179.5221695955171,noteMidi:53,actualMidi:53.48,actualMidiChroma:5.479999999999997,centsOffset:47.99999999999969,clarity:.9771490056626959},{time:15.599199999999954,pitch:179.1673950280054,noteMidi:53,actualMidi:53.45,actualMidiChroma:5.450000000000003,centsOffset:45.000000000000284,clarity:.9825840230796743},{time:15.616,pitch:178.72440821034422,noteMidi:53,actualMidi:53.4,actualMidiChroma:5.399999999999999,centsOffset:39.99999999999986,clarity:.9866950393541387},{time:15.6325,pitch:179.30692986338647,noteMidi:53,actualMidi:53.46,actualMidiChroma:5.460000000000001,centsOffset:46.000000000000085,clarity:.9826147241884229},{time:15.649300000000046,pitch:180.47615780704726,noteMidi:54,actualMidi:53.57,actualMidiChroma:5.57,centsOffset:-42.99999999999997,clarity:.9736180940988106},{time:15.665899999999906,pitch:179.9556847611114,noteMidi:54,actualMidi:53.52,actualMidiChroma:5.520000000000003,centsOffset:-47.99999999999969,clarity:.9831329414000791},{time:15.682600000000093,pitch:179.89652600468818,noteMidi:54,actualMidi:53.52,actualMidiChroma:5.520000000000003,centsOffset:-47.99999999999969,clarity:.9840994032757209},{time:15.699199999999953,pitch:181.11645824795818,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.975128993526809},{time:15.718300000000047,pitch:182.10848209627042,noteMidi:54,actualMidi:53.73,actualMidiChroma:5.729999999999997,centsOffset:-27.000000000000313,clarity:.9727933440239411},{time:15.732600000000094,pitch:181.68479145332344,noteMidi:54,actualMidi:53.69,actualMidiChroma:5.689999999999998,centsOffset:-31.000000000000227,clarity:.9787736678922485},{time:15.749300000000046,pitch:181.5577754482416,noteMidi:54,actualMidi:53.68,actualMidiChroma:5.68,centsOffset:-32.00000000000003,clarity:.9786507611462625},{time:15.765899999999906,pitch:182.36748846015303,noteMidi:54,actualMidi:53.75,actualMidiChroma:5.75,centsOffset:-25,clarity:.9712378016005658},{time:15.782600000000093,pitch:182.26210996180527,noteMidi:54,actualMidi:53.74,actualMidiChroma:5.740000000000002,centsOffset:-25.9999999999998,clarity:.9727220947547579},{time:15.799199999999953,pitch:180.82489419714184,noteMidi:54,actualMidi:53.61,actualMidiChroma:5.609999999999999,centsOffset:-39.00000000000006,clarity:.981265437623982},{time:15.815899999999907,pitch:181.78412403084377,noteMidi:54,actualMidi:53.7,actualMidiChroma:5.700000000000003,centsOffset:-29.999999999999716,clarity:.9740195968928731},{time:15.8325,pitch:182.14308730495148,noteMidi:54,actualMidi:53.73,actualMidiChroma:5.729999999999997,centsOffset:-27.000000000000313,clarity:.968022192538811},{time:15.849300000000046,pitch:181.0743062334016,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.9794905094546493},{time:15.865899999999908,pitch:180.96524965056975,noteMidi:54,actualMidi:53.62,actualMidiChroma:5.619999999999997,centsOffset:-38.000000000000256,clarity:.9788311902833797},{time:15.882600000000092,pitch:181.22669918505758,noteMidi:54,actualMidi:53.64,actualMidiChroma:5.640000000000001,centsOffset:-35.99999999999994,clarity:.9780995164753676},{time:15.899199999999954,pitch:181.04540937765643,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.9730196600587107},{time:15.915899999999906,pitch:179.37990877061884,noteMidi:53,actualMidi:53.47,actualMidiChroma:5.469999999999999,centsOffset:46.999999999999886,clarity:.9832734268029455},{time:15.932600000000093,pitch:179.1655569708442,noteMidi:53,actualMidi:53.45,actualMidiChroma:5.450000000000003,centsOffset:45.000000000000284,clarity:.9836109636626347},{time:15.949199999999953,pitch:179.7265060932876,noteMidi:54,actualMidi:53.5,actualMidiChroma:5.5,centsOffset:-50,clarity:.9772443902440102},{time:15.965899999999907,pitch:178.12473526829396,noteMidi:53,actualMidi:53.34,actualMidiChroma:5.340000000000003,centsOffset:34.00000000000034,clarity:.9786240854316546},{time:15.982600000000094,pitch:176.58710134283783,noteMidi:53,actualMidi:53.19,actualMidiChroma:5.189999999999998,centsOffset:18.999999999999773,clarity:.9862545657755959},{time:15.999199999999954,pitch:174.0578246980628,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9908591509370837},{time:16.015899999999906,pitch:172.57986228893117,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.9911189512797094},{time:16.032600000000095,pitch:172.57715731370683,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.9859343972285828},{time:16.051600000000093,pitch:172.6973310566844,noteMidi:53,actualMidi:52.81,actualMidiChroma:4.810000000000002,centsOffset:-18.999999999999773,clarity:.9831621103904382},{time:16.066,pitch:171.7537433769402,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9837132304895135},{time:16.08260000000009,pitch:171.18076907456629,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9873499495040079},{time:16.099199999999954,pitch:169.65290825954716,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9917157825764633},{time:16.115899999999908,pitch:169.08842489845517,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9936791588650138},{time:16.1325,pitch:168.8543860482823,noteMidi:52,actualMidi:52.42,actualMidiChroma:4.420000000000002,centsOffset:42.00000000000017,clarity:.9943031374838256},{time:16.149199999999954,pitch:168.2533860507679,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9943735297103089},{time:16.16589999999991,pitch:168.10895951079405,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9950852633783995},{time:16.1825,pitch:167.88870429414325,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9946549322413034},{time:16.199300000000047,pitch:167.5414404316285,noteMidi:52,actualMidi:52.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9943736488862456},{time:16.215899999999905,pitch:167.39093757729333,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9929152654336022},{time:16.232600000000094,pitch:167.04477240607747,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9924381580804322},{time:16.249300000000048,pitch:166.9030006274428,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9918287158560517},{time:16.265899999999906,pitch:166.64922107662372,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9901634557768375},{time:16.282600000000095,pitch:166.52317812132702,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9897762314990715},{time:16.299300000000045,pitch:166.55574962002436,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9882995059442337},{time:16.315899999999907,pitch:166.14069773425553,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9867146377900795},{time:16.33260000000009,pitch:166.4010516945281,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9872918224744964},{time:16.349199999999954,pitch:165.81423696109044,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9845739560435618},{time:16.366,pitch:165.89841010934978,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9830363592428384},{time:16.385,pitch:166.07727465239654,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9809857788645502},{time:16.399199999999954,pitch:165.7760672219568,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9799340897605404},{time:16.41589999999991,pitch:165.95531350853008,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9792327503982392},{time:16.4325,pitch:165.69011936094003,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9779035418244106},{time:16.449199999999955,pitch:166.03583863829118,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9781225427776121},{time:16.465899999999905,pitch:165.35493338383029,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.975252786098352},{time:16.482600000000094,pitch:165.99540945817478,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.974701476490111},{time:16.499300000000048,pitch:165.2762453195656,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9733510664492329},{time:16.515899999999906,pitch:165.62961527079156,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9730420622325511},{time:16.532600000000095,pitch:165.0826041311463,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9723120499144926},{time:16.549199999999953,pitch:165.59348400504587,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9703490821784655},{time:16.565899999999907,pitch:164.9925357453912,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.969573980743391},{time:16.58260000000009,pitch:165.40895280035508,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9714670973299491},{time:16.599199999999954,pitch:164.6091744737456,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9695280051537978},{time:16.615899999999908,pitch:164.74234044580953,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9714951260245854},{time:16.632600000000092,pitch:164.2763204116287,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9689488776002051},{time:16.649300000000046,pitch:164.52003772077492,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9715520733761238},{time:16.66589999999991,pitch:164.31221103783005,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9732129306843973},{time:16.682600000000093,pitch:164.50513720389506,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9739552509479736},{time:16.699199999999955,pitch:164.08311359632793,noteMidi:52,actualMidi:51.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9749666715345526},{time:16.718199999999953,pitch:164.493114738392,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.97298635220492},{time:16.732600000000094,pitch:164.2812436673432,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.97418951544973},{time:16.749199999999952,pitch:164.70486357217123,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9748809594906476},{time:16.765899999999906,pitch:164.32320486302282,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9744087512066173},{time:16.782600000000095,pitch:164.8442799201956,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9757426113209533},{time:16.799199999999953,pitch:163.98532547859693,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9749200377585439},{time:16.815800000000046,pitch:164.43892121743576,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9777309271296843},{time:16.8325,pitch:163.97845924960347,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9776095106905132},{time:16.849300000000046,pitch:164.3025656584806,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9789039412166431},{time:16.865899999999908,pitch:163.88619311270043,noteMidi:52,actualMidi:51.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9789124387957031},{time:16.882600000000092,pitch:164.5972019494292,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9765877996930215},{time:16.899300000000046,pitch:164.16604024716332,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9745155261679557},{time:16.91589999999991,pitch:164.42141677570973,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9719924726658604},{time:16.9325,pitch:164.2823726393027,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9706357914766883},{time:16.949199999999955,pitch:164.9310903712281,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9685338288299477},{time:16.965899999999905,pitch:163.97034415772086,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.964452584747292},{time:16.982600000000094,pitch:164.9828934533351,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9655245442445519},{time:16.999199999999952,pitch:163.47886469388828,noteMidi:52,actualMidi:51.86,actualMidiChroma:3.8599999999999994,centsOffset:-14.000000000000057,clarity:.9650959486634463},{time:17.016,pitch:164.40767478547127,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9650638561715112},{time:17.032600000000095,pitch:164.1138124977332,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9590824975024361},{time:17.051600000000093,pitch:164.78423332122753,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9484419636517885},{time:17.066,pitch:163.97846169559966,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.93807170864455},{time:17.08260000000009,pitch:165.17572554039168,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9321226597723253},{time:17.099300000000046,pitch:164.38572972521004,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9164446683576486},{time:17.115899999999908,pitch:165.1442444149234,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9054764180555992},{time:17.132399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.182399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.199100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.215699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.249100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.29910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.315800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.332399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.384800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.432399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.449100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.465800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.499100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.515699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.549,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.632399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.665800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.682399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.699199999999955,pitch:164.57998956916842,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.7727720442789803},{time:17.718300000000045,pitch:164.47721978676518,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9246529358668312},{time:17.7325,pitch:164.45578935925158,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9969270385712719},{time:17.749199999999952,pitch:164.4149330328975,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996402448748398},{time:17.765899999999906,pitch:164.44192272643383,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996589550079591},{time:17.7825,pitch:164.4825083325738,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996502675211758},{time:17.799199999999953,pitch:164.55517540086996,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996484187045525},{time:17.815899999999907,pitch:164.88169234767184,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995704376009229},{time:17.8325,pitch:165.10641321497263,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9994829198074342},{time:17.849300000000046,pitch:165.6676152815397,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9992742112508068},{time:17.865899999999908,pitch:166.4060070391678,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.999037556667389},{time:17.8825,pitch:166.91940569218582,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9990396778874029},{time:17.899199999999954,pitch:167.96361774512616,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.998317130348795},{time:17.91589999999991,pitch:169.23796065493778,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9977794218778726},{time:17.932600000000093,pitch:170.06654866910802,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.997127260606419},{time:17.949199999999955,pitch:172.25072570902444,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9943001882427893},{time:17.965899999999905,pitch:173.7199575445278,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9961581555997299},{time:17.9825,pitch:173.91781227503608,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9968169905550468},{time:17.999300000000048,pitch:173.88446138127503,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9965775740244567},{time:18.015899999999906,pitch:173.63387104701584,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9966155610723106},{time:18.032600000000095,pitch:172.78384867194669,noteMidi:53,actualMidi:52.82,actualMidiChroma:4.82,centsOffset:-17.99999999999997,clarity:.9951105908396514},{time:18.051100000000094,pitch:170.08775804537447,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9916798371994133},{time:18.066,pitch:166.86389856475975,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9957191318935585},{time:18.0825,pitch:165.98736315145183,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9981692907414512},{time:18.099199999999954,pitch:164.88311284756796,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992467871283992},{time:18.115899999999908,pitch:164.51474133474554,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994753958775817},{time:18.1325,pitch:164.45115317740897,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996266073228526},{time:18.149100000000093,pitch:164.43862086254407,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9995002523822976},{time:18.16589999999991,pitch:164.48732682994628,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995730223335499},{time:18.182600000000093,pitch:164.63361382583108,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995562954528978},{time:18.199199999999955,pitch:165.14742332810414,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9990159644724628},{time:18.215899999999905,pitch:166.62436970045832,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9974683968552043},{time:18.232399999999906,pitch:167.66486934881792,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9975439322931408},{time:18.249199999999952,pitch:169.72913251036255,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9952223978808945},{time:18.265800000000045,pitch:172.46704755161718,noteMidi:53,actualMidi:52.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.9865751326285022},{time:18.282600000000095,pitch:173.73037148108455,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9851265790425643},{time:18.299199999999953,pitch:174.84464473761142,noteMidi:53,actualMidi:53.02,actualMidiChroma:5.020000000000003,centsOffset:2.0000000000003126,clarity:.9857757586510871},{time:18.315800000000046,pitch:174.2640528707011,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9883993225014152},{time:18.3325,pitch:173.98260702768584,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9910026034929444},{time:18.349300000000046,pitch:171.74792071135678,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9902939780493085},{time:18.365899999999908,pitch:168.67651283378117,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9929500045224557},{time:18.384899999999906,pitch:166.13627783624412,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9977212136227536},{time:18.399199999999954,pitch:165.7675233679335,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.998050684530206},{time:18.41589999999991,pitch:164.735494526045,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988547892763933},{time:18.4325,pitch:164.67257705113946,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99905210500593},{time:18.449199999999955,pitch:164.5490994686062,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995279523206548},{time:18.465800000000048,pitch:164.71409764890294,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995310718626484},{time:18.482600000000094,pitch:164.76666142715274,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9994748400759903},{time:18.499199999999952,pitch:165.66144596266213,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9986019406279709},{time:18.515899999999906,pitch:167.13261781341328,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9974949761015992},{time:18.5325,pitch:168.1067615925246,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9972864128409924},{time:18.549300000000045,pitch:170.04599456947807,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9934944731182185},{time:18.565800000000046,pitch:172.06570133883574,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.984860053159224},{time:18.5825,pitch:173.29296687972533,noteMidi:53,actualMidi:52.87,actualMidiChroma:4.869999999999997,centsOffset:-13.000000000000256,clarity:.9807336000324796},{time:18.599199999999954,pitch:172.9932802447196,noteMidi:53,actualMidi:52.84,actualMidiChroma:4.840000000000003,centsOffset:-15.999999999999659,clarity:.9799297298676635},{time:18.615899999999908,pitch:171.36492150324185,noteMidi:53,actualMidi:52.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.9897893074874844},{time:18.6325,pitch:170.14980006791941,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9910362643511021},{time:18.649199999999954,pitch:167.44384117714105,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.993051792624172},{time:18.665800000000047,pitch:165.22582272657877,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9981739872805448},{time:18.6825,pitch:164.78879069527054,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9983012373363778},{time:18.699199999999955,pitch:164.32625733635055,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991416024744311},{time:18.718300000000045,pitch:164.3903231521565,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999189560110139},{time:18.732600000000094,pitch:164.46385047142346,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9990973850110692},{time:18.749199999999952,pitch:164.53049698340166,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9988266088829292},{time:18.765899999999906,pitch:164.92667230794933,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984491645588633},{time:18.7825,pitch:165.30675676679945,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.997597406277599},{time:18.799199999999953,pitch:166.90761095332266,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9969923746601381},{time:18.815800000000046,pitch:168.73573424861826,noteMidi:52,actualMidi:52.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.9961034421286357},{time:18.832399999999907,pitch:169.6041950565177,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9962297700892222},{time:18.849199999999954,pitch:170.57338648094893,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.9943968837526143},{time:18.865899999999908,pitch:171.31291330076056,noteMidi:53,actualMidi:52.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.9891469652018898},{time:18.8825,pitch:171.22883686892695,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9869853479615216},{time:18.899199999999954,pitch:170.27383423140733,noteMidi:53,actualMidi:52.56,actualMidiChroma:4.560000000000002,centsOffset:-43.99999999999977,clarity:.9775011954684771},{time:18.915800000000047,pitch:167.71592374224616,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9812556826286993},{time:18.932600000000093,pitch:166.22138186738889,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9887732968119707},{time:18.949199999999955,pitch:164.8982681101341,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948917420969394},{time:18.965899999999905,pitch:164.55115053891606,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9966348282612216},{time:18.9825,pitch:164.4735597470431,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9964157800242077},{time:18.999199999999952,pitch:164.55622824203806,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9965722272201418},{time:19.015899999999906,pitch:164.92072315029398,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957028177327061},{time:19.032600000000095,pitch:165.33281593048216,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9935828708774466},{time:19.049399999999906,pitch:166.9967368371517,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9881827871475082},{time:19.065899999999907,pitch:168.95780132726878,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9902845598306982},{time:19.0825,pitch:169.40737836787082,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.9867912160503352},{time:19.099100000000092,pitch:170.44965854250455,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9849351718486687},{time:19.115800000000046,pitch:170.29193324934093,noteMidi:53,actualMidi:52.57,actualMidiChroma:4.57,centsOffset:-42.99999999999997,clarity:.9899208990849857},{time:19.1325,pitch:169.68642079390094,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9930653730752823},{time:19.149199999999954,pitch:167.49688798620843,noteMidi:52,actualMidi:52.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9955527264094499},{time:19.16589999999991,pitch:165.679074452243,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.997882574260359},{time:19.1825,pitch:165.01335564073892,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981803240697786},{time:19.199199999999955,pitch:164.51865397590194,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.998665138074692},{time:19.215800000000048,pitch:164.4397190427387,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9985661489071589},{time:19.2325,pitch:164.4685504202222,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9985983274136956},{time:19.249199999999952,pitch:164.56773279425377,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9980672886831776},{time:19.265800000000045,pitch:165.8627174266473,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9970910370976291},{time:19.282600000000095,pitch:166.3648561719326,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9959837252060488},{time:19.299199999999953,pitch:168.47476615320636,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9943038072476327},{time:19.315800000000046,pitch:169.94072689004724,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9912736468743546},{time:19.3325,pitch:170.76862209908052,noteMidi:53,actualMidi:52.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.9860803610243991},{time:19.349100000000092,pitch:172.89948735302,noteMidi:53,actualMidi:52.83,actualMidiChroma:4.829999999999998,centsOffset:-17.00000000000017,clarity:.9638011170199903},{time:19.365800000000046,pitch:173.0498734715289,noteMidi:53,actualMidi:52.84,actualMidiChroma:4.840000000000003,centsOffset:-15.999999999999659,clarity:.9571045928507687},{time:19.384699999999953,pitch:170.79729802886033,noteMidi:53,actualMidi:52.62,actualMidiChroma:4.619999999999997,centsOffset:-38.000000000000256,clarity:.9668708445818055},{time:19.399100000000093,pitch:169.4903012884934,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.9653903824279766},{time:19.41589999999991,pitch:166.36512838538366,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9848366052161452},{time:19.4325,pitch:165.2705057508452,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9935585702064742},{time:19.449199999999955,pitch:164.56252860615638,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9968436529344586},{time:19.465899999999905,pitch:164.47170713626528,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.998098569218655},{time:19.4825,pitch:164.36083845120723,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9978143175691159},{time:19.499199999999952,pitch:164.9048148927852,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9974313589979005},{time:19.515800000000045,pitch:165.74402273235313,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9955778571276994},{time:19.5325,pitch:166.50940026992177,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9951580883332056},{time:19.549199999999953,pitch:167.994426537849,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.9940050512762646},{time:19.565800000000046,pitch:168.96705826010216,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9928928361282168},{time:19.5825,pitch:168.94884520002324,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9943650482001516},{time:19.599199999999954,pitch:169.18202330666264,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9926188576843415},{time:19.615800000000046,pitch:168.0969240532466,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.988447193970373},{time:19.6325,pitch:167.40196788959187,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9858606810899531},{time:19.649199999999954,pitch:165.71655037734524,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9914006918700835},{time:19.665800000000047,pitch:164.88612499065755,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9952268350780074},{time:19.6825,pitch:165.11697692775184,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955985416050908},{time:19.699300000000047,pitch:164.92967109458556,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9936953873331547},{time:19.718199999999953,pitch:165.8139785784379,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9893994698099462},{time:19.732600000000094,pitch:166.01761581422676,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.986286924307457},{time:19.749199999999952,pitch:168.1032622945923,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9799163663223496},{time:19.765899999999906,pitch:169.976861329392,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9757273795520405},{time:19.782300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.832300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.849199999999954,pitch:165.27472527472528,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9815936240744065},{time:19.865800000000046,pitch:164.66410132903746,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9938913691267004},{time:19.8825,pitch:164.36341042779847,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9949264360666135},{time:19.899199999999954,pitch:164.6708455564373,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9956311543627621},{time:19.915699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.949100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.965800000000048,pitch:167.87580053135977,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.991443034661522},{time:19.9825,pitch:168.3522347794266,noteMidi:52,actualMidi:52.37,actualMidiChroma:4.369999999999997,centsOffset:36.999999999999744,clarity:.9922386423190233},{time:19.999199999999952,pitch:169.03958168031645,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9900293494549324},{time:20.015800000000045,pitch:169.0567393273612,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9832601877331157},{time:20.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.05139999999991,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.065699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.082300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.099100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.132300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.182399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.199,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.215600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.249,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.299,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.315699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.332300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.368100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.432300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.465699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.482300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.499100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.51560000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.549,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.615600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.632300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.665699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.682399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.7015,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.715699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.732399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.749,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.765699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.782300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.832399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.849100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.865699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.882300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.899,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.915600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.949,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.965699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.982399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.999,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.015699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.0345,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.049,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.065600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.082399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.099,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.132300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.182300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.199,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.215600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.232300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.249100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.282300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.29910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.315699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.332300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.432399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.465699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.482399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.499199999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.515699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.532300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.54910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.615699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.632399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.665699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.684300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.699199999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.715600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.732300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.749,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.765699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.782399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.832300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.849,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.865699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.882399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.899199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.915600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.949100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.965699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.982300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.001199999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.015699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.032399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.049,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.065699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.082399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.099199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.132399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.149100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.165600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.182300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.199100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.215699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.249,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.299,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.318100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.332399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.415600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.432300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.465800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0}],Qdt="pitch-bend-audio",zdt="2024-07-03T13:38:52.148Z",Jdt={pastTime:Udt,firstTimeStamp:$dt,minVolumeDecibels:Gdt,ignoreOctave:Hdt,bendValues:Vdt,_appId:Qdt,_date:zdt};function jdt(t){let e,i,a,r,s,l,u,d,c;return{c(){e=K("p"),e.textContent="1) Play/sing a bend by one semitone (for example, A to A#).",i=q(),a=K("p"),a.textContent="2) Play/sing a bend by two semitones (for example, A to B).",r=q(),s=K("p"),s.textContent="3) Play/sing a vibrato where you always bend by one semitone.",l=q(),u=K("p"),u.textContent=`4) Play/sing a vibrato and then a second one with twice the
                frequency of modulation.`,d=q(),c=K("p"),c.textContent=`5) Slide from one note to a much higher one as smoothly as
                possible.`},m(f,M){Ct(f,e,M),Ct(f,i,M),Ct(f,a,M),Ct(f,r,M),Ct(f,s,M),Ct(f,l,M),Ct(f,u,M),Ct(f,d,M),Ct(f,c,M)},p:Ne,d(f){f&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u),bt(d),bt(c))}}}function Wdt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f=t[3]?"play":"pause",M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt;function gt(Vt){t[15](Vt)}let Tt={label:"past seconds",callback:t[10],min:5,max:60,step:5};t[5]!==void 0&&(Tt.value=t[5]),A=new na({props:Tt}),Me.push(()=>De(A,"value",gt));function vt(Vt){t[17](Vt)}let Ot={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:t[16],min:-40,max:-5,step:5};t[7]!==void 0&&(Ot.value=t[7]),E=new na({props:Ot}),Me.push(()=>De(E,"value",vt));function ft(Vt){t[18](Vt)}let St={label:"ignore octave",title:"When ignoring the octave, the lower visualization will only show the note's chroma from C to B",callback:t[10]};t[6]!==void 0&&(St.checked=t[6]),x=new R9({props:St}),Me.push(()=>De(x,"checked",ft));function Mt(Vt){t[22](Vt)}let Pt={saveToStorage:qdt,callback:t[21]};return t[8]!==void 0&&(Pt.notes=t[8]),k=new Y9({props:Pt}),Me.push(()=>De(k,"notes",Mt)),W=new aa({props:{loadData:t[13],getExportData:t[12],appId:t[0].id}}),Q=new z9({props:{$$slots:{default:[jdt]},$$scope:{ctx:t}}}),z=new J9({props:{appId:t[0].id}}),nt=new Sa({props:{key:" ",keyDown:t[14]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing pitch bends or vibratos with any
            instrument that supports pitch modulation or with you singing voice.
            The line chart below shows how far you bend up and down over time.`,u=q(),d=K("div"),c=K("button"),M=oe(f),m=q(),Ft(A.$$.fragment),y=q(),Ft(E.$$.fragment),w=q(),Ft(x.$$.fragment),O=q(),S=K("button"),S.textContent="resume",R=q(),I=K("div"),P=q(),L=K("div"),Ft(k.$$.fragment),$=q(),H=K("button"),H.textContent="example",U=q(),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),G=q(),Ft(z.$$.fragment),j=q(),Ft(nt.$$.fragment),dt(l,"class","explanation"),dt(c,"title","Pause the moving visualization (shortcut: space)"),gn(c,"width","75px"),dt(S,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),dt(d,"class","control"),dt(I,"class","visualization"),dt(L,"class","control"),dt(e,"class","app")},m(Vt,ie){Ct(Vt,e,ie),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(d,c),B(c,M),B(d,m),kt(A,d,null),B(d,y),kt(E,d,null),B(d,w),kt(x,d,null),B(d,O),B(d,S),B(e,R),B(e,I),t[20](I),B(e,P),B(e,L),kt(k,L,null),B(L,$),B(L,H),B(L,U),kt(W,L,null),B(e,J),kt(Q,e,null),B(e,G),kt(z,e,null),B(e,j),kt(nt,e,null),tt=!0,ht||(pt=[Ue(c,"click",t[14]),Ue(S,"click",t[19]),Ue(H,"click",t[23])],ht=!0)},p(Vt,ie){(!tt||ie&1)&&a!==(a=Vt[0].title+"")&&Ge(r,a),(!tt||ie&8)&&f!==(f=Vt[3]?"play":"pause")&&Ge(M,f);const jt={};!p&&ie&32&&(p=!0,jt.value=Vt[5],Re(()=>p=!1)),A.$set(jt);const Wt={};ie&132&&(Wt.callback=Vt[16]),!v&&ie&128&&(v=!0,Wt.value=Vt[7],Re(()=>v=!1)),E.$set(Wt);const me={};!b&&ie&64&&(b=!0,me.checked=Vt[6],Re(()=>b=!1)),x.$set(me);const Yt={};ie&16&&(Yt.callback=Vt[21]),!N&&ie&256&&(N=!0,Yt.notes=Vt[8],Re(()=>N=!1)),k.$set(Yt);const pe={};ie&1&&(pe.appId=Vt[0].id),W.$set(pe);const Qe={};ie&268435456&&(Qe.$$scope={dirty:ie,ctx:Vt}),Q.$set(Qe);const ni={};ie&1&&(ni.appId=Vt[0].id),z.$set(ni)},i(Vt){tt||(Rt(A.$$.fragment,Vt),Rt(E.$$.fragment,Vt),Rt(x.$$.fragment,Vt),Rt(k.$$.fragment,Vt),Rt(W.$$.fragment,Vt),Rt(Q.$$.fragment,Vt),Rt(z.$$.fragment,Vt),Rt(nt.$$.fragment,Vt),tt=!0)},o(Vt){Dt(A.$$.fragment,Vt),Dt(E.$$.fragment,Vt),Dt(x.$$.fragment,Vt),Dt(k.$$.fragment,Vt),Dt(W.$$.fragment,Vt),Dt(Q.$$.fragment,Vt),Dt(z.$$.fragment,Vt),Dt(nt.$$.fragment,Vt),tt=!1},d(Vt){Vt&&bt(e),Nt(A),Nt(E),Nt(x),t[20](null),Nt(k),Nt(W),Nt(Q),Nt(z),Nt(nt),ht=!1,f9(pt)}}}function Kdt(t){let e,i;return e=new ra({props:{loadData:t[13],$$slots:{default:[Wdt]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&268435967&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let Xdt=900,Ydt=600;const $_=16,qdt=()=>{};function Zdt(t,e,i){let{appInfo:a}=e,r,s,l,u,d=!1,c=performance.now(),f=new window.AudioContext,M=10,m=!0,A=-20,p=[],y=0;function E(U,W){s.getFloatTimeDomainData(U);const J=l.findPitch(U,W),Q=J[0],G=J[1],z=Ff.freqToMidi(Q),nt={time:(performance.now()-c)/1e3,pitch:Q,actualMidi:z,actualMidiChroma:z%12,clarity:G};if(p.push(nt),p.length>3){const tt=z,ht=p.at(-2).actualMidi,pt=p.at(-3).actualMidi;Math.abs(tt-pt)<1.5&&Math.abs(tt-ht)>1.5&&p.splice(-2,1)}v(),u=requestAnimationFrame(()=>E(U,W))}const v=()=>{if(!r)return;i(1,r.textContent="",r);let U;p.length>0?U=p.at(-1).time:U=(performance.now()-c)/1e3;const W=p.filter((nt,tt)=>tt===0||Math.abs(p[tt-1].pitch-nt.pitch)<3),J=U-M,Q=1e3/$_;let G=Math.round(Md(W.slice(-Q),nt=>nt.actualMidi));isNaN(G)?G=y:y=G;const z=nt=>Math.floor(nt)===nt?Ff.midiToNoteName(nt,{pitchClass:m,sharps:!0}):"",j=Bn({width:Xdt,height:Ydt,marginBottom:50,padding:0,x:{domain:[J,U-$_/1e3],label:"time in seconds"},y:{domain:m?[0,12]:[G-5,G+5],label:m?"chroma":"pitch",grid:!0},marks:[OM(W,{x:"time",y:m?"actualMidiChroma":"actualMidi",clip:!0,curve:"basis",stroke:"#666",strokeWidth:2}),Vo({anchor:"left",tickFormat:z}),Vo({anchor:"right",tickFormat:z})]});r.appendChild(j)},w=()=>{s=f.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(U=>{f.createMediaStreamSource(U).connect(s),i(2,l=_l.forFloat32Array(s.fftSize)),i(2,l.minVolumeDecibels=A,l);const W=new Float32Array(l.inputLength);E(W,f.sampleRate)}),v()};c9(w);const x=()=>({pastTime:M,firstTimeStamp:c,minVolumeDecibels:A,ignoreOctave:m,bendValues:p}),b=U=>{i(3,d=!0),cancelAnimationFrame(u),i(5,M=U.pastTime),i(4,c=U.firstTimeStamp),i(7,A=U.minVolumeDecibels),i(6,m=U.ignoreOctave??!1),i(8,p=U.bendValues),v()};r9(()=>{clearTimeout(u),cancelAnimationFrame(u)});const O=()=>{i(3,d=!d),d?cancelAnimationFrame(u):w()};function S(U){M=U,i(5,M)}const R=()=>i(2,l.minVolumeDecibels=A,l);function I(U){A=U,i(7,A)}function P(U){m=U,i(6,m)}const L=()=>{f.resume(),w()};function k(U){Me[U?"unshift":"push"](()=>{r=U,i(1,r)})}const N=()=>{i(4,c=performance.now()),v()};function $(U){p=U,i(8,p)}const H=()=>b(Jdt);return t.$$set=U=>{"appInfo"in U&&i(0,a=U.appInfo)},[a,r,l,d,c,M,m,A,p,f,v,w,x,b,O,S,R,I,P,L,k,N,$,H]}class tht extends Ki{constructor(e){super(),Wi(this,e,Zdt,Kdt,ji,{appInfo:0})}}const eht=15,iht=33129.90000009537,nht=-25,aht=!0,rht=[{time:.017299999952316285,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.028,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.044899999856948855,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.061399999856948856,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.078,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.09459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.11129999995231628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.128,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.14459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.16129999995231628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.17809999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.19459999990463256,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.21139999985694885,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.228,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.24459999990463258,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.2612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.278,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.2945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.3112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.328,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.3445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.36129999995231626,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.378,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.39459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4278999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.44459999990463256,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.478,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.49459999990463255,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5113999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.528,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5611999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5778999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6781999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7278999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7612999999523162,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7778999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7946999998092651,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.828,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8778999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9278999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9616999998092651,note:"E2",pitch:83.56865000290836,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.36734256884756533},{time:.9781999998092651,note:"E2",pitch:84.03204558710574,noteMidi:40,actualMidi:40.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.28548823458057093},{time:.9946999998092652,note:"A0",pitch:28.20510072559441,noteMidi:21,actualMidi:21.44,actualMidiChroma:9.440000000000001,centsOffset:44.00000000000013,clarity:.42969844868787277},{time:1.011399999856949,note:"A4",pitch:432.3990181924554,noteMidi:69,actualMidi:68.7,actualMidiChroma:8.700000000000003,centsOffset:-29.999999999999716,clarity:.5012674832709241},{time:1.0280999999046325,note:"A4",pitch:435.98698398196944,noteMidi:69,actualMidi:68.84,actualMidiChroma:8.840000000000003,centsOffset:-15.999999999999659,clarity:.4880171096876236},{time:1.0445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.0612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.0945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.1111999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.1278999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.144699999809265,note:"C1",pitch:32.88495963522127,noteMidi:24,actualMidi:24.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.01257515143433352},{time:1.1613999998569489,note:"E2",pitch:83.98191350111632,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.5921441079905208},{time:1.178,note:"E2",pitch:83.04846868191989,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.7619197261586379},{time:1.1946999998092651,note:"E2",pitch:83.2911415442013,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9367037292415432},{time:1.211399999856949,note:"E2",pitch:83.30867749556846,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9399263496657966},{time:1.2280999999046325,note:"E2",pitch:83.36697963878561,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9331100178867757},{time:1.2446999998092652,note:"E2",pitch:83.43869868690359,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9455124740793508},{time:1.261399999856949,note:"E2",pitch:83.62552594670407,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9391197029899274},{time:1.2780999999046325,note:"E2",pitch:83.47807978976537,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9403479105035331},{time:1.2946999998092652,note:"E2",pitch:83.44869772383375,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9474955656462214},{time:1.3115,note:"E2",pitch:83.28262142389825,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9263490800501586},{time:1.3280999999046326,note:"E2",pitch:83.46467844703064,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.924952996526855},{time:1.3446999998092652,note:"E2",pitch:83.43813604409073,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9390574832663958},{time:1.3612999999523163,note:"E2",pitch:83.30289849240798,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9497658143106804},{time:1.3780999999046326,note:"E2",pitch:83.77077445245168,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9486261197398846},{time:1.394699999809265,note:"E2",pitch:83.60887316340514,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9396027646618279},{time:1.4112999999523164,note:"E2",pitch:83.4535191090718,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9465869610037174},{time:1.4280999999046327,note:"E2",pitch:83.38011614718087,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9473009955986953},{time:1.444899999856949,note:"E2",pitch:83.61773277489769,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9296394976345681},{time:1.461399999856949,note:"E2",pitch:83.62131786648243,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9437911256281666},{time:1.478,note:"E2",pitch:83.26970350630133,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.954638121325587},{time:1.4946999998092652,note:"E2",pitch:83.15623457376218,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9432576344602666},{time:1.511399999856949,note:"E2",pitch:83.28585273152603,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9397615489091606},{time:1.5280999999046325,note:"E2",pitch:83.31928462149796,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9476775552848551},{time:1.5446999998092652,note:"E2",pitch:83.28338544999899,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9512859884175668},{time:1.5613999998569488,note:"E2",pitch:83.19967165400541,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9271788353989336},{time:1.578,note:"E2",pitch:83.40734840777999,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9368849255423299},{time:1.5946999998092652,note:"E2",pitch:83.40162684752946,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9481471282774407},{time:1.6113999998569488,note:"E2",pitch:83.186290776606,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9375809588908055},{time:1.6280999999046326,note:"E2",pitch:83.53880651492764,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9276889982759542},{time:1.644699999809265,note:"E2",pitch:83.36444105959293,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9415344515684296},{time:1.6613999998569489,note:"E2",pitch:83.38330870913661,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9417691553971395},{time:1.6780999999046327,note:"E2",pitch:83.56476039767564,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9179823898515451},{time:1.6945999999046326,note:"E2",pitch:83.54962783126022,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9308430738161064},{time:1.711399999856949,note:"E2",pitch:83.51359812741026,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9394064386730463},{time:1.7280999999046325,note:"E2",pitch:83.40472879923547,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9255064518656866},{time:1.7445999999046327,note:"E2",pitch:83.59429349333952,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9064287560612456},{time:1.761399999856949,note:"E2",pitch:83.46710406415164,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9272216124665249},{time:1.7780999999046325,note:"E2",pitch:83.27141744797525,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9280671429026199},{time:1.7946999998092652,note:"E2",pitch:83.24783112336945,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9035475899777623},{time:1.8113999998569488,note:"E2",pitch:83.47427346673234,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8989598105267191},{time:1.8280999999046326,note:"E2",pitch:83.61727930125453,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9007445372366192},{time:1.8446999998092652,note:"E2",pitch:83.5452111891312,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.913247792575163},{time:1.8613999998569488,note:"E2",pitch:83.33915393103493,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9018297703991607},{time:1.8780999999046326,note:"E2",pitch:83.73295973153097,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9132557012659106},{time:1.894699999809265,note:"E2",pitch:83.51103711110177,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9286626628310728},{time:1.9113999998569489,note:"E2",pitch:83.76430699400564,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9111753493920105},{time:1.928,note:"E2",pitch:83.34634689495516,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9066889748682456},{time:1.9445999999046326,note:"E2",pitch:83.57996073187275,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9215394476626102},{time:1.961399999856949,note:"E2",pitch:83.4905322790394,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9349760579533495},{time:1.978,note:"E2",pitch:83.29576461640528,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9373431425422041},{time:1.9947999999523163,note:"E2",pitch:83.39819301947443,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9295593447502313},{time:2.0113999998569487,note:"E2",pitch:83.16901808987956,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9345636201971104},{time:2.028,note:"E2",pitch:83.31142552776856,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9356322405107278},{time:2.044699999809265,note:"E2",pitch:83.23829500743575,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9193349789077274},{time:2.061399999856949,note:"E2",pitch:83.24011282803359,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9337831432988537},{time:2.078,note:"E2",pitch:83.18052875381633,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9435693605477979},{time:2.094699999809265,note:"E2",pitch:83.30390339563503,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9348399769655771},{time:2.111399999856949,note:"E2",pitch:83.24911081154517,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9368836293864149},{time:2.128,note:"E2",pitch:83.36825976054297,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9507427650053728},{time:2.1446999998092653,note:"E2",pitch:83.31737344415194,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9809750071235896},{time:2.1613999998569486,note:"E2",pitch:83.53329308567467,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9902614241587173},{time:2.178199999809265,note:"E2",pitch:83.57119064617795,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9865470940608247},{time:2.1947999999523162,note:"E2",pitch:83.44934533317509,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9684382703887877},{time:2.211399999856949,note:"E2",pitch:83.4885454054069,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9649892810028291},{time:2.2280999999046327,note:"E2",pitch:83.4839793053308,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9677360675792954},{time:2.244699999809265,note:"B3",pitch:249.52266480609734,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9381800244286538},{time:2.2613999998569487,note:"B3",pitch:250.38838215289945,noteMidi:59,actualMidi:59.24,actualMidiChroma:11.240000000000002,centsOffset:24.0000000000002,clarity:.9928115789267586},{time:2.2780999999046325,note:"B3",pitch:249.98304251430082,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9980025586206125},{time:2.294699999809265,note:"B3",pitch:249.6865563284747,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9995758980641938},{time:2.311399999856949,note:"B3",pitch:249.6224180842238,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9996501992621383},{time:2.328099999904633,note:"B3",pitch:249.55794483980125,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9997110949690189},{time:2.344699999809265,note:"B3",pitch:249.5168144422139,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998584703777347},{time:2.361399999856949,note:"B3",pitch:249.55012258575695,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998815757110222},{time:2.378199999809265,note:"B3",pitch:249.54316407331524,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998768286449469},{time:2.3946999998092653,note:"B3",pitch:249.5911381509047,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998731337561431},{time:2.4113999998569486,note:"B3",pitch:249.63021665560973,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9998803354656758},{time:2.428,note:"B3",pitch:249.66793380022318,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9998897110094376},{time:2.444699999809265,note:"B3",pitch:249.71574035152838,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9999011673404361},{time:2.461399999856949,note:"B3",pitch:249.76743022608997,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999095353011036},{time:2.4780999999046327,note:"B3",pitch:249.779877523333,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999103074670295},{time:2.4945999999046324,note:"B3",pitch:249.82147029917567,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999093489904176},{time:2.5113999998569487,note:"B3",pitch:249.87838203235717,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999109131351815},{time:2.5280999999046325,note:"B3",pitch:249.90013590683114,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999141989584821},{time:2.544699999809265,note:"B3",pitch:249.91655907015183,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999188748797572},{time:2.5612999999523165,note:"B3",pitch:249.925070548409,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999308631840265},{time:2.578,note:"B3",pitch:249.90557998857597,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999364183353556},{time:2.594699999809265,note:"B3",pitch:249.87891129168378,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999932393955671},{time:2.6112999999523163,note:"B3",pitch:249.83545961236936,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999266730021752},{time:2.6280999999046326,note:"B3",pitch:249.82327134403556,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999243911676601},{time:2.6445999999046323,note:"B3",pitch:249.80826991676832,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999255598549297},{time:2.661299999952316,note:"B3",pitch:249.7950962728168,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999311724040787},{time:2.6780999999046324,note:"B3",pitch:249.78957891429255,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999931465680028},{time:2.694699999809265,note:"B3",pitch:249.76248672512088,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999387760066654},{time:2.711399999856949,note:"B3",pitch:249.75221935265432,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999939524803068},{time:2.7280999999046327,note:"B3",pitch:249.75419122276648,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999397547078921},{time:2.7445999999046324,note:"B3",pitch:249.75542295031113,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999368012897492},{time:2.7612999999523162,note:"B3",pitch:249.78232643397234,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999413699524062},{time:2.778,note:"B3",pitch:249.7823059027025,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999431639054102},{time:2.794699999809265,note:"B3",pitch:249.79059692753478,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999432776488248},{time:2.811399999856949,note:"B3",pitch:249.82376530805655,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999466245066699},{time:2.828099999904633,note:"B3",pitch:249.83675653504255,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999458194858768},{time:2.844699999809265,note:"B3",pitch:249.86383519955552,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999485841882247},{time:2.8612999999523163,note:"B3",pitch:249.89608981603743,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999547853611439},{time:2.8780999999046326,note:"B3",pitch:249.90768984729434,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999551497698498},{time:2.8946999998092653,note:"B3",pitch:249.92761266935085,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999493733064533},{time:2.911299999952316,note:"B3",pitch:249.95288411637264,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999431138352186},{time:2.928,note:"B3",pitch:249.9640702140536,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999410372030617},{time:2.9447999999523162,note:"B3",pitch:249.9800773570908,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999318168890845},{time:2.961399999856949,note:"B3",pitch:249.99640678270364,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999348561531853},{time:2.978,note:"B3",pitch:249.98836914955922,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999342405318146},{time:2.994699999809265,note:"B3",pitch:249.98657188619651,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999321069521372},{time:3.0112999999523162,note:"B3",pitch:249.9739104871976,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999190403350582},{time:3.0280999999046325,note:"B3",pitch:249.95834496936303,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999133400306768},{time:3.044699999809265,note:"B3",pitch:249.9448503429846,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.99991237630719},{time:3.061399999856949,note:"B3",pitch:249.91215527723327,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999025737841372},{time:3.078099999904633,note:"B3",pitch:249.8852793645268,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999019514463576},{time:3.094699999809265,note:"B3",pitch:249.86668114999503,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998809734119938},{time:3.1112999999523163,note:"B3",pitch:249.86322519522028,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998562527635677},{time:3.128,note:"B3",pitch:249.87425830060812,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998661599227887},{time:3.1446999998092653,note:"B3",pitch:249.87654537368303,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998514163739749},{time:3.1613999998569486,note:"B3",pitch:249.8879720710945,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.999840461984693},{time:3.1780999999046324,note:"B3",pitch:249.8810361578343,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998383705667067},{time:3.194699999809265,note:"B3",pitch:249.9010965299323,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997980387683683},{time:3.211399999856949,note:"B3",pitch:249.92265641912311,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997678786712747},{time:3.228,note:"B3",pitch:249.95395467220885,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997427584668408},{time:3.244699999809265,note:"B3",pitch:249.9904664352006,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997211380167386},{time:3.2612999999523162,note:"B3",pitch:249.9834008655377,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.999679175410936},{time:3.2780999999046325,note:"B3",pitch:249.95646438205495,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9996668114658078},{time:3.294699999809265,note:"B3",pitch:249.97796495287034,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9996474175852441},{time:3.3112999999523165,note:"B3",pitch:249.97176960865565,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9995380173575406},{time:3.328,note:"B3",pitch:250.01993634277667,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9995188750629254},{time:3.344699999809265,note:"B3",pitch:250.0076493120332,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9994328802752186},{time:3.361399999856949,note:"B3",pitch:250.04279323434523,noteMidi:59,actualMidi:59.22,actualMidiChroma:11.219999999999999,centsOffset:21.999999999999886,clarity:.9994019565831671},{time:3.3780999999046326,note:"B3",pitch:250.0248164532874,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9993590926421696},{time:3.3945999999046323,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.411199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4277999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4612999999523164,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.478,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5112999999523162,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.578,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.627899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.661199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7111999998092653,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7445999999046324,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8112999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8278999998569487,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.861399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.877899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8945999999046323,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9113999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9277999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9611999998092653,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.978,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.044599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.0612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.0945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.161299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.177899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.227899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.2445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.277899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.294599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.327899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.361299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.412099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.444599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.494599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.611299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.6278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.644599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.694599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.711199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.761299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.827899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.977899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.061199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.177899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.227899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.2445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.277799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.294599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.327899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.361399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.677799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.711199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.794599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.827799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.977899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.061199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.177799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.228,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.244599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.277899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.2945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.328,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.361199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.577799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.644399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.711299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.827799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.927799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.978,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.011399999856949,note:"Db4",pitch:271.06362728332886,noteMidi:61,actualMidi:60.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.08040075813761538},{time:7.028,note:"F3",pitch:169.85649763095245,noteMidi:53,actualMidi:52.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.7818871198568331},{time:7.044599999904633,note:"F3",pitch:169.72477189912775,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.8121939736008414},{time:7.0612999999523165,note:"E3",pitch:168.2727382189103,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8064913792516109},{time:7.078099999904633,note:"E3",pitch:168.08179308768607,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.6857714637934009},{time:7.094699999809265,note:"F3",pitch:178.67248721021238,noteMidi:53,actualMidi:53.4,actualMidiChroma:5.399999999999999,centsOffset:39.99999999999986,clarity:.8124283236965084},{time:7.111299999952316,note:"F3",pitch:177.999685389489,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9503452882862575},{time:7.128,note:"F3",pitch:177.97116376244952,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9430279422282979},{time:7.144699999809265,note:"F3",pitch:178.2320150375641,noteMidi:53,actualMidi:53.36,actualMidiChroma:5.359999999999999,centsOffset:35.99999999999994,clarity:.9441299092914051},{time:7.161399999856949,note:"F3",pitch:178.6106398691054,noteMidi:53,actualMidi:53.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.9335209896674428},{time:7.177899999856949,note:"F3",pitch:178.85801101262834,noteMidi:53,actualMidi:53.42,actualMidiChroma:5.420000000000002,centsOffset:42.00000000000017,clarity:.9227312057840891},{time:7.194699999809266,note:"F3",pitch:179.33779359664553,noteMidi:53,actualMidi:53.46,actualMidiChroma:5.460000000000001,centsOffset:46.000000000000085,clarity:.9237773952430075},{time:7.2113999998569485,note:"Gb3",pitch:179.87678323274235,noteMidi:54,actualMidi:53.51,actualMidiChroma:5.509999999999998,centsOffset:-49.0000000000002,clarity:.9234556953728088},{time:7.227899999856949,note:"Gb3",pitch:180.19252463188346,noteMidi:54,actualMidi:53.54,actualMidiChroma:5.539999999999999,centsOffset:-46.000000000000085,clarity:.9286744275160572},{time:7.244699999809265,note:"Gb3",pitch:181.02461061605996,noteMidi:54,actualMidi:53.62,actualMidiChroma:5.619999999999997,centsOffset:-38.000000000000256,clarity:.9165656342985926},{time:7.261299999952317,note:"Gb3",pitch:182.6711380455531,noteMidi:54,actualMidi:53.78,actualMidiChroma:5.780000000000001,centsOffset:-21.999999999999886,clarity:.8425687125230183},{time:7.277899999856949,note:"Gb3",pitch:183.19474065981416,noteMidi:54,actualMidi:53.83,actualMidiChroma:5.829999999999998,centsOffset:-17.00000000000017,clarity:.8070065069124439},{time:7.294599999904633,note:"F3",pitch:171.3845854122462,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.8626372300479659},{time:7.3112999999523165,note:"F3",pitch:171.93295478243638,noteMidi:53,actualMidi:52.73,actualMidiChroma:4.729999999999997,centsOffset:-27.000000000000313,clarity:.9018536533558859},{time:7.328,note:"F3",pitch:172.07543528475193,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.8768688782174081},{time:7.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.361199999809265,note:"F3",pitch:172.20308702893945,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.8690860650982586},{time:7.378,note:"F3",pitch:172.05858161897024,noteMidi:53,actualMidi:52.74,actualMidiChroma:4.740000000000002,centsOffset:-25.9999999999998,clarity:.9029524129360595},{time:7.394699999809265,note:"F3",pitch:170.75965870541697,noteMidi:53,actualMidi:52.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.8516494571662321},{time:7.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.427799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.444599999904632,note:"E3",pitch:165.39698192348558,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.8786491126944469},{time:7.461299999952316,note:"E3",pitch:165.4914769158506,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9325141064955389},{time:7.478,note:"E3",pitch:165.38151238024753,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9395410841602185},{time:7.494599999904633,note:"E3",pitch:165.51182335594999,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9326510312881169},{time:7.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5945999999046325,note:"E3",pitch:167.66105756453007,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9316236031343053},{time:7.611299999952316,note:"E3",pitch:168.28999494413193,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9306105360878192},{time:7.628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.677799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.694399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.711299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.727799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.761099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.778,note:"E3",pitch:166.58744276712162,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9113997721521514},{time:7.794599999904633,note:"E3",pitch:166.93139482595817,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9128077148477871},{time:7.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.828,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.8778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.894599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.911299999952316,note:"E3",pitch:167.55774741567868,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.8974041656857992},{time:7.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.977799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.011299999952316,note:"E2",pitch:83.19365364648253,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9698783200147432},{time:8.028,note:"E2",pitch:83.3360770189433,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.980146451901291},{time:8.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.0945,note:"E2",pitch:83.80783704710825,noteMidi:40,actualMidi:40.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9695941456862442},{time:8.111299999952315,note:"E2",pitch:83.49509334756333,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9944641822980174},{time:8.128,note:"E2",pitch:83.21782046523856,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.998028178280407},{time:8.144599999904633,note:"E2",pitch:83.36913366831975,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.998554656555271},{time:8.161099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.194599999904632,note:"E2",pitch:83.31114968108781,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9990628281254033},{time:8.211299999952317,note:"E2",pitch:83.50948860963466,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9970373404913744},{time:8.228099999904632,note:"E2",pitch:83.49918272597772,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9907585435884982},{time:8.244599999904633,note:"E3",pitch:166.60208683546534,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9091201557837394},{time:8.261299999952316,note:"E2",pitch:83.18714921279305,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9928336565264857},{time:8.278,note:"E2",pitch:83.10713839178656,noteMidi:40,actualMidi:40.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9944495310200239},{time:8.294599999904632,note:"E2",pitch:83.29558613649449,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9989964191388481},{time:8.311399999856949,note:"E2",pitch:83.24707110704878,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989015965839343},{time:8.328,note:"E2",pitch:83.42665365553933,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9978977627574466},{time:8.344699999809265,note:"E2",pitch:83.44022058356474,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9953843850545212},{time:8.36139999985695,note:"Gb4",pitch:377.19050289080735,noteMidi:66,actualMidi:66.33,actualMidiChroma:6.329999999999998,centsOffset:32.99999999999983,clarity:.18216382935662723},{time:8.377899999856949,note:"F3",pitch:174.5690951081058,noteMidi:53,actualMidi:53,actualMidiChroma:5,centsOffset:0,clarity:.6258386485877665},{time:8.394599999904633,note:"F3",pitch:172.62533155925195,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.8598827117467067},{time:8.411399999856949,note:"F3",pitch:172.21997738583175,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9033507580080595},{time:8.428,note:"F3",pitch:172.08992870587514,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.8388006226238076},{time:8.444599999904632,note:"F3",pitch:170.53760291546797,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.8400651396792114},{time:8.461299999952317,note:"F3",pitch:170.45382293768034,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.8691572346070018},{time:8.478,note:"F3",pitch:171.0018170771062,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.8709567760186587},{time:8.494599999904633,note:"Gb3",pitch:182.71878175835238,noteMidi:54,actualMidi:53.79,actualMidiChroma:5.789999999999999,centsOffset:-21.000000000000085,clarity:.9363432164074936},{time:8.511299999952316,note:"Gb3",pitch:184.3897147113502,noteMidi:54,actualMidi:53.94,actualMidiChroma:5.939999999999998,centsOffset:-6.000000000000227,clarity:.9631368530200319},{time:8.528,note:"Gb3",pitch:184.48438185492353,noteMidi:54,actualMidi:53.95,actualMidiChroma:5.950000000000003,centsOffset:-4.999999999999716,clarity:.9644609328700398},{time:8.544599999904632,note:"Gb3",pitch:184.91566303244994,noteMidi:54,actualMidi:53.99,actualMidiChroma:5.990000000000002,centsOffset:-.999999999999801,clarity:.9475553102848835},{time:8.561299999952316,note:"Gb3",pitch:187.02763018042535,noteMidi:54,actualMidi:54.19,actualMidiChroma:6.189999999999998,centsOffset:18.999999999999773,clarity:.9151423220461226},{time:8.57789999985695,note:"Gb3",pitch:187.2513932564633,noteMidi:54,actualMidi:54.21,actualMidiChroma:6.210000000000001,centsOffset:21.000000000000085,clarity:.9261743991103941},{time:8.594599999904633,note:"Gb3",pitch:187.19928742004018,noteMidi:54,actualMidi:54.2,actualMidiChroma:6.200000000000003,centsOffset:20.000000000000284,clarity:.9250986192861959},{time:8.611299999952315,note:"Gb3",pitch:189.35157298564798,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.8937435530741169},{time:8.628,note:"Gb3",pitch:189.32956419997714,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.8886805340433028},{time:8.644599999904633,note:"F3",pitch:177.05022710561988,noteMidi:53,actualMidi:53.24,actualMidiChroma:5.240000000000002,centsOffset:24.0000000000002,clarity:.8862540838475041},{time:8.661199999809265,note:"F3",pitch:176.47972280180585,noteMidi:53,actualMidi:53.18,actualMidiChroma:5.18,centsOffset:17.99999999999997,clarity:.7982107112744217},{time:8.67789999985695,note:"F3",pitch:176.54781281925537,noteMidi:53,actualMidi:53.19,actualMidiChroma:5.189999999999998,centsOffset:18.999999999999773,clarity:.8115945291019528},{time:8.694599999904632,note:"G0",pitch:23.836295567173778,noteMidi:19,actualMidi:18.52,actualMidiChroma:6.52,centsOffset:-48.00000000000004,clarity:.9690810186075396},{time:8.711299999952317,note:"F3",pitch:174.9109314561057,noteMidi:53,actualMidi:53.03,actualMidiChroma:5.030000000000001,centsOffset:3.0000000000001137,clarity:.7918201297121499},{time:8.727899999856948,note:"F3",pitch:174.07771529884945,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.8084391795277668},{time:8.744599999904633,note:"F3",pitch:172.53725223758343,noteMidi:53,actualMidi:52.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.8681668810506267},{time:8.761299999952316,note:"F3",pitch:170.53654974913266,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.7320937827541769},{time:8.777899999856949,note:"F3",pitch:169.81858812188838,noteMidi:53,actualMidi:52.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.8376796080263915},{time:8.794599999904632,note:"F3",pitch:169.753446134875,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9164382067307528},{time:8.811299999952316,note:"E3",pitch:168.30382118369525,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8773505561648136},{time:8.828,note:"E3",pitch:167.17015751238046,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8247883831664637},{time:8.844599999904633,note:"E3",pitch:165.6312923106978,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.7931297994577164},{time:8.861299999952315,note:"E3",pitch:166.92191676165763,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8984869621231084},{time:8.877899999856949,note:"E3",pitch:167.2033800797346,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9197061871177112},{time:8.894599999904633,note:"E3",pitch:167.26233023588279,noteMidi:52,actualMidi:52.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9369667371114048},{time:8.911299999952316,note:"E3",pitch:166.2319644744594,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9235298584980853},{time:8.928,note:"E3",pitch:165.64499897409843,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8842860309413467},{time:8.944599999904632,note:"E2",pitch:82.95606287181089,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9406593366718994},{time:8.961299999952317,note:"E2",pitch:83.0557679042339,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9485758347457818},{time:8.977899999856948,note:"E3",pitch:166.25317914709373,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.8634979258388356},{time:8.994699999809265,note:"E3",pitch:166.66395953597615,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9039883697235567},{time:9.011299999952316,note:"E3",pitch:167.0593121682053,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9286429081727547},{time:9.028,note:"E3",pitch:166.9731736579849,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9350220424886757},{time:9.044599999904632,note:"E3",pitch:166.40219079638265,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9191025864924995},{time:9.061299999952316,note:"E3",pitch:166.33700864977118,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.8863633544763516},{time:9.078,note:"E2",pitch:82.84814829451665,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9738648030651973},{time:9.094599999904633,note:"E2",pitch:83.00098111345571,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9692138030310105},{time:9.111299999952315,note:"E3",pitch:166.84023124667107,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.8841741234765763},{time:9.127899999856949,note:"E3",pitch:166.98311799482317,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.891384057321666},{time:9.1445,note:"E3",pitch:166.97209847260174,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.8840548309707188},{time:9.161299999952316,note:"E2",pitch:82.92332844456688,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9840790345847381},{time:9.17789999985695,note:"E2",pitch:83.01704943570131,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9849427649875508},{time:9.194599999904632,note:"E2",pitch:83.1835159042653,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9865294966244562},{time:9.211199999809265,note:"E2",pitch:82.9558247534857,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.984555845117228},{time:9.228,note:"E2",pitch:82.89287880889094,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9835091808501772},{time:9.244599999904633,note:"E2",pitch:83.07487139073281,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9850288314833335},{time:9.261299999952316,note:"E2",pitch:82.96484316699964,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.989976889046261},{time:9.278,note:"E2",pitch:82.8895380542204,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9907621751790714},{time:9.294599999904632,note:"E2",pitch:83.04769195532513,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9882381956278437},{time:9.311299999952316,note:"E2",pitch:83.04030540553406,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9869489724885057},{time:9.327799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.344599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.361099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.39439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.411199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.427799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.461099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.477799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.494399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.511199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.54439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.561099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.594399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.611099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.677799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.711099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.727799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.744399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.761199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.844599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.861099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.911199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.927799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.977799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.011299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.111099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.127799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.161199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.178,note:"B3",pitch:248.71590222203193,noteMidi:59,actualMidi:59.12,actualMidiChroma:11.119999999999997,centsOffset:11.999999999999744,clarity:.5840499150733507},{time:10.194599999904632,note:"F3",pitch:172.45101721435643,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.764106955670087},{time:10.211299999952317,note:"F3",pitch:171.6922375799798,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.8530905320258171},{time:10.227899999856948,note:"F3",pitch:171.43177822885116,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.9220854327745087},{time:10.244599999904633,note:"F3",pitch:170.8429731862728,noteMidi:53,actualMidi:52.62,actualMidiChroma:4.619999999999997,centsOffset:-38.000000000000256,clarity:.8026087540077924},{time:10.261399999856948,note:"F3",pitch:170.22412125950723,noteMidi:53,actualMidi:52.56,actualMidiChroma:4.560000000000002,centsOffset:-43.99999999999977,clarity:.8134539923845523},{time:10.277899999856949,note:"F3",pitch:170.46022716786885,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.788898232445149},{time:10.294599999904632,note:"Gb3",pitch:182.74636277809245,noteMidi:54,actualMidi:53.79,actualMidiChroma:5.789999999999999,centsOffset:-21.000000000000085,clarity:.7828808897170347},{time:10.311399999856949,note:"Gb3",pitch:182.01489298316457,noteMidi:54,actualMidi:53.72,actualMidiChroma:5.719999999999999,centsOffset:-28.000000000000114,clarity:.92626491408015},{time:10.328,note:"Gb3",pitch:183.12740132755812,noteMidi:54,actualMidi:53.82,actualMidiChroma:5.82,centsOffset:-17.99999999999997,clarity:.9493449146960984},{time:10.344599999904633,note:"Gb3",pitch:184.9134569354542,noteMidi:54,actualMidi:53.99,actualMidiChroma:5.990000000000002,centsOffset:-.999999999999801,clarity:.9490766037212097},{time:10.361299999952315,note:"Gb3",pitch:186.5743710685163,noteMidi:54,actualMidi:54.15,actualMidiChroma:6.149999999999999,centsOffset:14.999999999999858,clarity:.932044078662642},{time:10.378099999904633,note:"Gb3",pitch:188.0137260004386,noteMidi:54,actualMidi:54.28,actualMidiChroma:6.280000000000001,centsOffset:28.000000000000114,clarity:.9173624087522967},{time:10.394599999904633,note:"Gb3",pitch:189.35529176205063,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.9193492461791379},{time:10.411299999952316,note:"Gb3",pitch:190.11857200013085,noteMidi:54,actualMidi:54.47,actualMidiChroma:6.469999999999999,centsOffset:46.999999999999886,clarity:.9204204694571274},{time:10.428,note:"G3",pitch:190.7655683486787,noteMidi:55,actualMidi:54.53,actualMidiChroma:6.530000000000001,centsOffset:-46.999999999999886,clarity:.9114416657444337},{time:10.444599999904632,note:"G3",pitch:191.49746208529152,noteMidi:55,actualMidi:54.6,actualMidiChroma:6.600000000000001,centsOffset:-39.99999999999986,clarity:.8994993463661842},{time:10.461299999952317,note:"G3",pitch:191.91244359060283,noteMidi:55,actualMidi:54.64,actualMidiChroma:6.640000000000001,centsOffset:-35.99999999999994,clarity:.8617443199403851},{time:10.477899999856948,note:"G3",pitch:192.1806120360001,noteMidi:55,actualMidi:54.66,actualMidiChroma:6.659999999999997,centsOffset:-34.00000000000034,clarity:.8332309223862353},{time:10.4945,note:"G3",pitch:192.06818530361744,noteMidi:55,actualMidi:54.65,actualMidiChroma:6.649999999999999,centsOffset:-35.00000000000014,clarity:.8244714752007667},{time:10.511199999809266,note:"Gb0",pitch:23.763078509836912,noteMidi:18,actualMidi:18.47,actualMidiChroma:6.469999999999999,centsOffset:46.999999999999886,clarity:.8853665351271047},{time:10.527899999856949,note:"G3",pitch:191.93202708372894,noteMidi:55,actualMidi:54.64,actualMidiChroma:6.640000000000001,centsOffset:-35.99999999999994,clarity:.7326660369460569},{time:10.544599999904632,note:"F3",pitch:173.19635614672922,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.7832540571276354},{time:10.561299999952316,note:"Gb0",pitch:23.50385492659778,noteMidi:18,actualMidi:18.28,actualMidiChroma:6.280000000000001,centsOffset:28.000000000000114,clarity:.9005270437919535},{time:10.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.594599999904633,note:"Gb0",pitch:23.64654595005964,noteMidi:18,actualMidi:18.39,actualMidiChroma:6.390000000000001,centsOffset:39.00000000000006,clarity:.9393869334890042},{time:10.611099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.677699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.711,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.727799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.761099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.861199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.877699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.911099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.927699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.944399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.977899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.011099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.077699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.094399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.111199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.127799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.161399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.194399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.211099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.227799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.244399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.261299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.277699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.327799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.344399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.361099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.411099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.427799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.461099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.477799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.494399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.511099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.54439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.594399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.611199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.677699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.711099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.727699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.744399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.761099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.844399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.861099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.911099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.927699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.977799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.011099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.04439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.094399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.111,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.127699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.161199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.177699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.194399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.211099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.227799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.244399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.261,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.277699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.327699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.344399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.361199999809266,note:"Db3",pitch:138.9776562481823,noteMidi:49,actualMidi:49.05,actualMidiChroma:1.0499999999999972,centsOffset:4.999999999999716,clarity:.5692454597053214},{time:12.377899999856949,note:"C3",pitch:132.82012461181446,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.827786727332672},{time:12.394699999809266,note:"C3",pitch:132.51671296883308,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9501402702940993},{time:12.411299999952316,note:"C3",pitch:132.60452326897047,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9978847574416108},{time:12.427799999952317,note:"C3",pitch:132.6419669219357,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9975007496057273},{time:12.444599999904632,note:"C3",pitch:132.60438329435672,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971238136692548},{time:12.461199999809265,note:"C3",pitch:132.61585185030646,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971346393179346},{time:12.477799999952316,note:"C3",pitch:132.6473023082439,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9972020905154153},{time:12.4945,note:"C3",pitch:132.67496463269816,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9970560742768697},{time:12.511199999809266,note:"C3",pitch:132.73522884463398,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9974392958051297},{time:12.527799999952316,note:"C3",pitch:132.75616648557158,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9975873120360603},{time:12.5445,note:"C3",pitch:132.88060683841323,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9978846580018548},{time:12.561199999809265,note:"C3",pitch:132.8498672374689,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9981718883480113},{time:12.57789999985695,note:"C3",pitch:133.0357773293992,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9983663240076659},{time:12.5945,note:"C3",pitch:133.04975703655973,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.998682668435336},{time:12.611199999809266,note:"C3",pitch:133.24098555158727,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9989693724273678},{time:12.627799999952316,note:"C3",pitch:133.38528113116172,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9991628850212066},{time:12.64439999985695,note:"C3",pitch:133.68890087220774,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.999318782589512},{time:12.661099999904632,note:"C3",pitch:134.25621954544823,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9994078078053832},{time:12.67789999985695,note:"C3",pitch:134.48529019986356,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.999507378191204},{time:12.6945,note:"Db3",pitch:135.08030953019122,noteMidi:49,actualMidi:48.56,actualMidiChroma:.5600000000000023,centsOffset:-43.99999999999977,clarity:.9996096899189411},{time:12.711199999809265,note:"Db3",pitch:135.83929094721572,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9989916426512622},{time:12.727899999856948,note:"Db3",pitch:136.55215861960346,noteMidi:49,actualMidi:48.74,actualMidiChroma:.740000000000002,centsOffset:-25.9999999999998,clarity:.9979794337995997},{time:12.744599999904633,note:"Db3",pitch:138.70461894513718,noteMidi:49,actualMidi:49.01,actualMidiChroma:1.009999999999998,centsOffset:.999999999999801,clarity:.9974080136793049},{time:12.761199999809266,note:"Db3",pitch:140.42060544095722,noteMidi:49,actualMidi:49.23,actualMidiChroma:1.2299999999999969,centsOffset:22.999999999999687,clarity:.9988884470055268},{time:12.777899999856949,note:"Db3",pitch:140.93444867191957,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.9993278559015906},{time:12.7945,note:"Db3",pitch:141.65120845784614,noteMidi:49,actualMidi:49.38,actualMidiChroma:1.3800000000000026,centsOffset:38.000000000000256,clarity:.9995788995679646},{time:12.811199999809265,note:"Db3",pitch:142.0885791883037,noteMidi:49,actualMidi:49.43,actualMidiChroma:1.4299999999999997,centsOffset:42.99999999999997,clarity:.9996991189088931},{time:12.82789999985695,note:"Db3",pitch:142.22368933836913,noteMidi:49,actualMidi:49.45,actualMidiChroma:1.4500000000000028,centsOffset:45.000000000000284,clarity:.9997363954694336},{time:12.844599999904633,note:"Db3",pitch:142.2998212878994,noteMidi:49,actualMidi:49.46,actualMidiChroma:1.4600000000000009,centsOffset:46.000000000000085,clarity:.9997351686485842},{time:12.861199999809266,note:"Db3",pitch:142.25313857260224,noteMidi:49,actualMidi:49.45,actualMidiChroma:1.4500000000000028,centsOffset:45.000000000000284,clarity:.9997038916588963},{time:12.877899999856949,note:"Db3",pitch:142.19292494271684,noteMidi:49,actualMidi:49.44,actualMidiChroma:1.4399999999999977,centsOffset:43.99999999999977,clarity:.9996803246968184},{time:12.8945,note:"Db3",pitch:141.87596199606526,noteMidi:49,actualMidi:49.41,actualMidiChroma:1.4099999999999966,centsOffset:40.99999999999966,clarity:.9995855613629345},{time:12.911199999809265,note:"Db3",pitch:141.4346320828793,noteMidi:49,actualMidi:49.35,actualMidiChroma:1.3500000000000014,centsOffset:35.00000000000014,clarity:.9994587538248041},{time:12.927799999952317,note:"Db3",pitch:140.9358508542775,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.99898138237171},{time:12.9445,note:"Db3",pitch:139.37059179917466,noteMidi:49,actualMidi:49.1,actualMidiChroma:1.1000000000000014,centsOffset:10.000000000000142,clarity:.9967514308770831},{time:12.961199999809265,note:"Db3",pitch:137.64847293370377,noteMidi:49,actualMidi:48.88,actualMidiChroma:.8800000000000026,centsOffset:-11.999999999999744,clarity:.996183450127269},{time:12.977799999952316,note:"Db3",pitch:136.19825941374978,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9961706734031068},{time:12.9945,note:"Db3",pitch:134.72888521435246,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9982588804594386},{time:13.011199999809266,note:"C3",pitch:133.43933234597137,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9991077683665708},{time:13.028,note:"C3",pitch:132.99324902117453,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9996447217331053},{time:13.04439999985695,note:"C3",pitch:132.71697226754773,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997654995534901},{time:13.061199999809265,note:"C3",pitch:132.55156244753292,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998433346675881},{time:13.07789999985695,note:"C3",pitch:132.53400141699007,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998448938440561},{time:13.0945,note:"C3",pitch:132.5521438105791,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.999876257709893},{time:13.111299999952315,note:"C3",pitch:132.5737470645916,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998827449811714},{time:13.127899999856949,note:"C3",pitch:132.6129479007038,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999876265821193},{time:13.1445,note:"C3",pitch:132.86678848339452,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997497671619442},{time:13.161299999952316,note:"C3",pitch:133.45391155032752,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9994048540768858},{time:13.17789999985695,note:"C3",pitch:133.8233381698133,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9992914026803916},{time:13.1945,note:"Db3",pitch:134.6110819816604,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9994484483197468},{time:13.211199999809265,note:"Db3",pitch:135.69281418851074,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9988136144055133},{time:13.227899999856948,note:"Db3",pitch:136.26655021451302,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9986373058258096},{time:13.2445,note:"Db3",pitch:137.80447397935652,noteMidi:49,actualMidi:48.9,actualMidiChroma:.8999999999999986,centsOffset:-10.000000000000142,clarity:.9978018025117237},{time:13.261299999952316,note:"Db3",pitch:139.5277980708673,noteMidi:49,actualMidi:49.12,actualMidiChroma:1.1199999999999974,centsOffset:11.999999999999744,clarity:.9986204023603662},{time:13.277899999856949,note:"Db3",pitch:140.00034666798848,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9989884827259345},{time:13.2945,note:"Db3",pitch:140.85728391170588,noteMidi:49,actualMidi:49.28,actualMidiChroma:1.2800000000000011,centsOffset:28.000000000000114,clarity:.9997819488621928},{time:13.311199999809265,note:"Db3",pitch:141.06309416538343,noteMidi:49,actualMidi:49.31,actualMidiChroma:1.3100000000000023,centsOffset:31.000000000000227,clarity:.9998476954783015},{time:13.32789999985695,note:"Db3",pitch:141.0715447750383,noteMidi:49,actualMidi:49.31,actualMidiChroma:1.3100000000000023,centsOffset:31.000000000000227,clarity:.9998566413795658},{time:13.3445,note:"Gb0",pitch:23.483204872334596,noteMidi:18,actualMidi:18.27,actualMidiChroma:6.27,centsOffset:26.999999999999957,clarity:1},{time:13.361299999952315,note:"Db3",pitch:140.93623414575245,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.9998916380900624},{time:13.377899999856949,note:"Db3",pitch:140.8729226852274,noteMidi:49,actualMidi:49.28,actualMidiChroma:1.2800000000000011,centsOffset:28.000000000000114,clarity:.9969514986730985},{time:13.3945,note:"Db3",pitch:139.90507447741274,noteMidi:49,actualMidi:49.16,actualMidiChroma:1.1599999999999966,centsOffset:15.999999999999659,clarity:.9879963408269745},{time:13.411199999809265,note:"Db3",pitch:136.8579632359689,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.9953559082321632},{time:13.42789999985695,note:"Db3",pitch:135.87654670698376,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9977335206957534},{time:13.444599999904632,note:"C3",pitch:134.49834093912793,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.9991153405848223},{time:13.461199999809265,note:"C3",pitch:133.5007658412193,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9995475723442624},{time:13.477899999856948,note:"C3",pitch:133.25163861414177,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9996543035072349},{time:13.4945,note:"C3",pitch:132.89521324257208,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999319946488541},{time:13.511099999904632,note:"C3",pitch:132.87750122335663,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999947449367113},{time:13.527799999952316,note:"C3",pitch:132.89936742069838,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999445682157955},{time:13.544599999904632,note:"C3",pitch:133.03390378249708,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9998997045113853},{time:13.561199999809265,note:"C3",pitch:133.5149316469505,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9996033320897695},{time:13.577799999952317,note:"C3",pitch:133.86154920559076,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.9993845634777543},{time:13.5945,note:"Db3",pitch:134.74486023239604,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9995286245925925},{time:13.611199999809266,note:"Db3",pitch:135.72551003210668,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.999106792664378},{time:13.627799999952316,note:"Db3",pitch:136.3170722025591,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9990954062669601},{time:13.6445,note:"Db3",pitch:137.54600260159324,noteMidi:49,actualMidi:48.87,actualMidiChroma:.8699999999999974,centsOffset:-13.000000000000256,clarity:.9983359840738473},{time:13.661099999904632,note:"Db3",pitch:139.04522674208738,noteMidi:49,actualMidi:49.06,actualMidiChroma:1.0600000000000023,centsOffset:6.000000000000227,clarity:.9989733289563247},{time:13.677799999952317,note:"Db3",pitch:139.4627280839928,noteMidi:49,actualMidi:49.11,actualMidiChroma:1.1099999999999994,centsOffset:10.999999999999943,clarity:.9994658192738655},{time:13.694599999904632,note:"Db3",pitch:140.01577313785683,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999065498110369},{time:13.711199999809265,note:"Db3",pitch:140.07812909571624,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999497402448654},{time:13.727899999856948,note:"Db3",pitch:140.02119068585807,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.999945130552959},{time:13.7445,note:"Db3",pitch:139.70514250191675,noteMidi:49,actualMidi:49.14,actualMidiChroma:1.1400000000000006,centsOffset:14.000000000000057,clarity:.9997015578740616},{time:13.761199999809266,note:"Db3",pitch:138.57834788563173,noteMidi:49,actualMidi:49,actualMidiChroma:1,centsOffset:0,clarity:.9968497726215091},{time:13.777899999856949,note:"Db3",pitch:137.0375476263259,noteMidi:49,actualMidi:48.8,actualMidiChroma:.7999999999999972,centsOffset:-20.000000000000284,clarity:.9958399323277476},{time:13.7945,note:"Db3",pitch:135.21275252178592,noteMidi:49,actualMidi:48.57,actualMidiChroma:.5700000000000003,centsOffset:-42.99999999999997,clarity:.9983299421055705},{time:13.811299999952316,note:"C3",pitch:133.79830881421302,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9989185392721822},{time:13.82789999985695,note:"C3",pitch:133.1547887517991,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9995185085062772},{time:13.8445,note:"C3",pitch:132.69399894234456,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998197806115954},{time:13.861199999809266,note:"C3",pitch:132.57187783225413,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998903132083541},{time:13.877799999952316,note:"C3",pitch:132.58384692613365,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998806617416847},{time:13.8945,note:"C3",pitch:132.6859548717525,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998653438154719},{time:13.911199999809265,note:"C3",pitch:133.05551338165066,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9995584048390924},{time:13.92789999985695,note:"C3",pitch:133.576906273501,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9991171910185059},{time:13.9445,note:"Db3",pitch:134.64362270074125,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9994605141074615},{time:13.961199999809265,note:"Db3",pitch:135.38522440496808,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9994313497292353},{time:13.977899999856948,note:"Db3",pitch:135.97802110009897,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9994778642113786},{time:13.9945,note:"Db3",pitch:136.83661943032118,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.9993867132899865},{time:14.011299999952316,note:"Db3",pitch:138.0782913592546,noteMidi:49,actualMidi:48.94,actualMidiChroma:.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992491521874882},{time:14.027899999856949,note:"Db3",pitch:138.80745465350117,noteMidi:49,actualMidi:49.03,actualMidiChroma:1.0300000000000011,centsOffset:3.0000000000001137,clarity:.9993191071750793},{time:14.0445,note:"Db3",pitch:139.559025679126,noteMidi:49,actualMidi:49.12,actualMidiChroma:1.1199999999999974,centsOffset:11.999999999999744,clarity:.9997243690653619},{time:14.061199999809265,note:"Db3",pitch:139.99897743643314,noteMidi:49,actualMidi:49.17,actualMidiChroma:1.1700000000000017,centsOffset:17.00000000000017,clarity:.9999174455489808},{time:14.078,note:"Db3",pitch:140.0318245108386,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999226057563639},{time:14.0945,note:"Db3",pitch:139.9342407188639,noteMidi:49,actualMidi:49.17,actualMidiChroma:1.1700000000000017,centsOffset:17.00000000000017,clarity:.9999031688375624},{time:14.111199999809266,note:"Db3",pitch:139.40231925500817,noteMidi:49,actualMidi:49.1,actualMidiChroma:1.1000000000000014,centsOffset:10.000000000000142,clarity:.9994129170518207},{time:14.127899999856949,note:"Db3",pitch:138.80215448097957,noteMidi:49,actualMidi:49.03,actualMidiChroma:1.0300000000000011,centsOffset:3.0000000000001137,clarity:.9985313984608375},{time:14.1445,note:"Db3",pitch:136.731141090701,noteMidi:49,actualMidi:48.77,actualMidiChroma:.7700000000000031,centsOffset:-22.999999999999687,clarity:.997987220727083},{time:14.161199999809265,note:"Db3",pitch:134.908222975801,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9986711445290091},{time:14.17789999985695,note:"C3",pitch:134.15805896219024,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9986173571746448},{time:14.1945,note:"C3",pitch:133.04456553145465,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9994222734852016},{time:14.211099999904633,note:"C3",pitch:132.47987527191682,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999501606791199},{time:14.227799999952316,note:"C3",pitch:132.34336102803053,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999737200730209},{time:14.244399999856949,note:"C3",pitch:132.33759501932457,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999124312875516},{time:14.261099999904632,note:"C3",pitch:132.3813476981442,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999043443177555},{time:14.277799999952316,note:"C3",pitch:132.39436340436416,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999100695157317},{time:14.294599999904632,note:"C3",pitch:132.50133992668546,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999870919468318},{time:14.311199999809265,note:"C3",pitch:133.07717730978663,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9995288112626604},{time:14.328,note:"C3",pitch:133.49000555384345,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9993697709684},{time:14.3445,note:"C3",pitch:134.48457496811545,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.9995919850086281},{time:14.361199999809266,note:"Db3",pitch:135.2660977793798,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9995859084949821},{time:14.378,note:"Db3",pitch:135.7181931101811,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9995883422137979},{time:14.3945,note:"Db3",pitch:136.7606298416048,noteMidi:49,actualMidi:48.77,actualMidiChroma:.7700000000000031,centsOffset:-22.999999999999687,clarity:.9993849149815155},{time:14.411299999952316,note:"Db3",pitch:138.04404071737352,noteMidi:49,actualMidi:48.93,actualMidiChroma:.9299999999999997,centsOffset:-7.000000000000028,clarity:.999385939719609},{time:14.42789999985695,note:"Db3",pitch:138.65728403270276,noteMidi:49,actualMidi:49.01,actualMidiChroma:1.009999999999998,centsOffset:.999999999999801,clarity:.9994624312105032},{time:14.444599999904632,note:"Db3",pitch:139.6195528780777,noteMidi:49,actualMidi:49.13,actualMidiChroma:1.1300000000000026,centsOffset:13.000000000000256,clarity:.9995231429901388},{time:14.461199999809265,note:"Db3",pitch:140.33594439957974,noteMidi:49,actualMidi:49.22,actualMidiChroma:1.2199999999999989,centsOffset:21.999999999999886,clarity:.999807297868351},{time:14.477899999856948,note:"Db3",pitch:140.51773896128915,noteMidi:49,actualMidi:49.24,actualMidiChroma:1.240000000000002,centsOffset:24.0000000000002,clarity:.9998307097742689},{time:14.4945,note:"Db3",pitch:140.68902075572944,noteMidi:49,actualMidi:49.26,actualMidiChroma:1.259999999999998,centsOffset:25.9999999999998,clarity:.9998481113941864},{time:14.511199999809266,note:"Db3",pitch:140.60289054775922,noteMidi:49,actualMidi:49.25,actualMidiChroma:1.25,centsOffset:25,clarity:.9997664092748906},{time:14.527899999856949,note:"Db3",pitch:140.54139794277518,noteMidi:49,actualMidi:49.24,actualMidiChroma:1.240000000000002,centsOffset:24.0000000000002,clarity:.999735969694239},{time:14.5445,note:"Db3",pitch:139.70155512601355,noteMidi:49,actualMidi:49.14,actualMidiChroma:1.1400000000000006,centsOffset:14.000000000000057,clarity:.9986967617683469},{time:14.561299999952316,note:"Db3",pitch:138.00250213441603,noteMidi:49,actualMidi:48.93,actualMidiChroma:.9299999999999997,centsOffset:-7.000000000000028,clarity:.9973197703715044},{time:14.57789999985695,note:"Db3",pitch:136.85748986031703,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.997362681120709},{time:14.5945,note:"Db3",pitch:135.26775233097686,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9985951348770072},{time:14.611099999904633,note:"C3",pitch:134.27034774147197,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9994151374559195},{time:14.627899999856949,note:"C3",pitch:133.77338020771444,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9996547705785517},{time:14.644599999904633,note:"C3",pitch:133.39779372701975,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.999798911055418},{time:14.661199999809265,note:"C3",pitch:133.3040141191138,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9998466231850216},{time:14.67789999985695,note:"C3",pitch:133.31175247072693,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9997624584335156},{time:14.6945,note:"C3",pitch:133.31715121090087,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9994795447594278},{time:14.711299999952317,note:"C3",pitch:133.42229429082317,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9997805673601938},{time:14.727899999856948,note:"C3",pitch:133.50066996005785,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9997523308226945},{time:14.7445,note:"C3",pitch:134.1501606408276,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9995150081787152},{time:14.761199999809266,note:"Db3",pitch:135.02399726070496,noteMidi:49,actualMidi:48.55,actualMidiChroma:.5499999999999972,centsOffset:-45.000000000000284,clarity:.9994295579025021},{time:14.777899999856949,note:"Db3",pitch:135.62817864092037,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9994620395345706},{time:14.7945,note:"Db3",pitch:136.50023147081785,noteMidi:49,actualMidi:48.74,actualMidiChroma:.740000000000002,centsOffset:-25.9999999999998,clarity:.9995815163010349},{time:14.811199999809265,note:"Db3",pitch:137.2872646250798,noteMidi:49,actualMidi:48.84,actualMidiChroma:.8400000000000034,centsOffset:-15.999999999999659,clarity:.9996733011793744},{time:14.828,note:"Db3",pitch:137.53353944562502,noteMidi:49,actualMidi:48.87,actualMidiChroma:.8699999999999974,centsOffset:-13.000000000000256,clarity:.9997476415974482},{time:14.8445,note:"Db3",pitch:137.71873709017572,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998163459313325},{time:14.861199999809266,note:"Db3",pitch:137.74328906305618,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998382580255303},{time:14.877899999856949,note:"Db3",pitch:137.68611228860013,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998219617370232},{time:14.8945,note:"Db3",pitch:137.43398919887068,noteMidi:49,actualMidi:48.85,actualMidiChroma:.8500000000000014,centsOffset:-14.999999999999858,clarity:.9998163639191695},{time:14.911199999809265,note:"Db3",pitch:136.57791627414318,noteMidi:49,actualMidi:48.75,actualMidiChroma:.75,centsOffset:-25,clarity:.9989253522082002},{time:14.928,note:"Db3",pitch:135.842239951829,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9988114540564226},{time:14.944599999904632,note:"C3",pitch:134.287211923551,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9984588070186398},{time:14.961199999809265,note:"C3",pitch:133.19076330007945,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9983646461795388},{time:14.977899999856948,note:"C3",pitch:132.86153651080144,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9987892986726337},{time:14.9945,note:"C3",pitch:132.80894511126075,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9988191319652593},{time:15.011299999952316,note:"C3",pitch:132.719823510873,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9988622811699344},{time:15.027799999952316,note:"C3",pitch:132.7689609454652,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9987669549643847},{time:15.0445,note:"C3",pitch:132.74455985390796,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9984752511555968},{time:15.061199999809265,note:"C3",pitch:132.949032454723,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9977138387616016},{time:15.077699999809266,note:"C3",pitch:133.1927150854756,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.997324701930264},{time:15.094399999856948,note:"C3",pitch:133.92559689061633,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9971003565029086},{time:15.111199999809266,note:"Db3",pitch:134.70623422550958,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9966231068835363},{time:15.127799999952316,note:"Db3",pitch:134.85854680781875,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9968042896730935},{time:15.1445,note:"Db3",pitch:135.6919518567696,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9963888645623662},{time:15.161199999809265,note:"Db3",pitch:135.94102519384674,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9966946309812315},{time:15.177799999952317,note:"Db3",pitch:136.2103657004436,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9969607366327793},{time:15.1945,note:"Db3",pitch:136.10522426981106,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9969440903443463},{time:15.211099999904633,note:"Db3",pitch:135.94277494974082,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9967889897255944},{time:15.227799999952316,note:"Db3",pitch:135.94095956324122,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.996563340136742},{time:15.244599999904633,note:"Db3",pitch:134.90421646864522,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9944369514541656},{time:15.261099999904632,note:"C3",pitch:133.75545207935147,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9955186396980196},{time:15.277799999952316,note:"C3",pitch:133.38233281531896,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9946261620670569},{time:15.2945,note:"C3",pitch:132.91993449696142,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.994653354578336},{time:15.311199999809265,note:"C3",pitch:132.8965282133997,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9936336224459055},{time:15.328,note:"C3",pitch:132.75130371455697,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9943668935506302},{time:15.3445,note:"C3",pitch:133.07411866677347,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9939807367826461},{time:15.361199999809266,note:"C3",pitch:133.0997213793348,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9929165703283687},{time:15.377799999952316,note:"C3",pitch:133.57868017578176,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9921666386235763},{time:15.3945,note:"C3",pitch:134.0678550132667,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9913215683003322},{time:15.411199999809265,note:"Db3",pitch:134.71655138859435,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9924029721420702},{time:15.427799999952317,note:"Db3",pitch:135.45453664799973,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9929021698850633},{time:15.444599999904632,note:"Db3",pitch:135.34507641499886,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9927714038516484},{time:15.461199999809265,note:"Db3",pitch:136.15815701037164,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9926743299878211},{time:15.477799999952316,note:"Db3",pitch:135.77636878463386,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9926965529730758},{time:15.4945,note:"Db3",pitch:136.32210010741542,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9921755528445075},{time:15.511099999904632,note:"Db3",pitch:136.6442282170498,noteMidi:49,actualMidi:48.76,actualMidiChroma:.759999999999998,centsOffset:-24.0000000000002,clarity:.9905393493259993},{time:15.527799999952316,note:"Db3",pitch:136.12368016641153,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9908332192592546},{time:15.54439999985695,note:"Db3",pitch:135.9794075865065,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9895263379122063},{time:15.561099999904632,note:"Db3",pitch:134.80344773647036,noteMidi:49,actualMidi:48.52,actualMidiChroma:.5200000000000031,centsOffset:-47.99999999999969,clarity:.9886965251282192},{time:15.577799999952317,note:"C3",pitch:134.32506581483824,noteMidi:48,actualMidi:48.46,actualMidiChroma:.46000000000000085,centsOffset:46.000000000000085,clarity:.9896758576220819},{time:15.5945,note:"C3",pitch:133.37420712443912,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9867587282202024},{time:15.611199999809266,note:"C3",pitch:132.6572287567036,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9854942680712284},{time:15.627799999952316,note:"C3",pitch:132.7412673680641,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9851913759465205},{time:15.64439999985695,note:"C3",pitch:132.0545076446563,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9844968123987918},{time:15.661099999904632,note:"C3",pitch:132.45031426525577,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9835204100612955},{time:15.677799999952317,note:"C3",pitch:132.06492627487782,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9836052482379287},{time:15.6945,note:"C3",pitch:133.0569698894612,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.981335663387231},{time:15.711199999809265,note:"C3",pitch:134.10512635367206,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9824881891564239},{time:15.727799999952316,note:"C3",pitch:134.24382494222834,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.982461377641016},{time:15.7445,note:"Db3",pitch:135.45686913542522,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9810919357049066},{time:15.761099999904632,note:"Db3",pitch:135.23255831904078,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9810008049991019},{time:15.777799999952316,note:"Db3",pitch:136.20600632739084,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9823258104641717},{time:15.79439999985695,note:"Db3",pitch:135.9031543781941,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9813881317039872},{time:15.811199999809265,note:"Db3",pitch:136.0477658789484,noteMidi:49,actualMidi:48.68,actualMidiChroma:.6799999999999997,centsOffset:-32.00000000000003,clarity:.9835732324664797},{time:15.827799999952317,note:"Db3",pitch:136.9595445270959,noteMidi:49,actualMidi:48.79,actualMidiChroma:.7899999999999991,centsOffset:-21.000000000000085,clarity:.9821920152047952},{time:15.8445,note:"Db3",pitch:135.8365414503576,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9826240696631139},{time:15.861099999904633,note:"Db3",pitch:135.15551009495812,noteMidi:49,actualMidi:48.57,actualMidiChroma:.5700000000000003,centsOffset:-42.99999999999997,clarity:.9822862475583136},{time:15.877699999809264,note:"C3",pitch:134.41158124824577,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9823353667539081},{time:15.8945,note:"C3",pitch:133.34848355812818,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9835922803458956},{time:15.911199999809265,note:"C3",pitch:132.97320504679072,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.980080302525387},{time:15.927699999809265,note:"C3",pitch:132.69931992430614,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9785345468521598},{time:15.9445,note:"C3",pitch:132.84633517899238,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9770230213321405},{time:15.961199999809265,note:"C3",pitch:132.51404300880566,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9746369632676277},{time:15.977699999809266,note:"C3",pitch:132.83605059351063,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9742593342764181},{time:15.9945,note:"C3",pitch:132.4208839138319,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9745486453674239},{time:16.011299999952318,note:"C3",pitch:133.19636419514427,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9720375794661145},{time:16.027799999952315,note:"C3",pitch:134.08757446187835,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9709723572991784},{time:16.04439999985695,note:"C3",pitch:134.42532973155272,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9727891292313053},{time:16.061099999904634,note:"Db3",pitch:135.61726400896973,noteMidi:49,actualMidi:48.62,actualMidiChroma:.6199999999999974,centsOffset:-38.000000000000256,clarity:.9719588286379448},{time:16.077699999809266,note:"Db3",pitch:135.378910728753,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9722599249191823},{time:16.09439999985695,note:"Db3",pitch:135.7463137296998,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9733795405569943},{time:16.11109999990463,note:"Db3",pitch:136.34201883319253,noteMidi:49,actualMidi:48.72,actualMidiChroma:.7199999999999989,centsOffset:-28.000000000000114,clarity:.971549599638756},{time:16.127799999952316,note:"Db3",pitch:135.5321257997657,noteMidi:49,actualMidi:48.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.9734564051032066},{time:16.144399999856947,note:"Db3",pitch:135.8882068591285,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9738399415666734},{time:16.161099999904632,note:"Db3",pitch:135.41891500093058,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9719529824179389},{time:16.177799999952317,note:"Db3",pitch:134.667116077926,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9753579959490928},{time:16.1945,note:"C3",pitch:134.13568142775662,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9703149305665519},{time:16.211,note:"C3",pitch:132.54592004201405,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9691492638838675},{time:16.227699999809264,note:"C3",pitch:132.64060508814742,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9672394679098346},{time:16.244299999952315,note:"C3",pitch:131.8183030325596,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9688373009782403},{time:16.261099999904634,note:"C3",pitch:132.06738098555445,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9662612154860035},{time:16.277799999952315,note:"C3",pitch:131.70068079112346,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.965389921038895},{time:16.2945,note:"C3",pitch:131.2605200429957,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9672793532365134},{time:16.311099999904634,note:"C3",pitch:131.17118983977198,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9613940682108719},{time:16.327699999809266,note:"C3",pitch:130.90036362067917,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9538792589150837},{time:16.34439999985695,note:"C3",pitch:134.03007468648292,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.8887675054401818},{time:16.361,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.377599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.394299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.411,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.427599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.461,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.477599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.494299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.511,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.527599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.544299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.561,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.57759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.594299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.611199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.627599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.661,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.677699999809263,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.694299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.71089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.727599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.744299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.761099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.777599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.794299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.811,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.827699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.84439999985695,note:"C3",pitch:133.16818398303806,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.6015556636363826},{time:16.86109999990463,note:"C3",pitch:131.8994334149491,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9062431912168449},{time:16.877699999809266,note:"C3",pitch:131.809002729845,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9648108326958962},{time:16.894399999856947,note:"C3",pitch:131.6575007313411,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9984406108407029},{time:16.911099999904632,note:"C3",pitch:131.62367587314688,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9985856674680065},{time:16.927899999856947,note:"C3",pitch:131.62286417629966,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.99840655473335},{time:16.944299999952317,note:"C3",pitch:131.65018054017168,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983774062932156},{time:16.961,note:"C3",pitch:131.68451783842627,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983586228025416},{time:16.977799999952317,note:"C3",pitch:131.65347971587806,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983956642591139},{time:16.994299999952315,note:"C3",pitch:131.7242424823377,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9984764614219799},{time:17.011099999904634,note:"C3",pitch:131.7024679719076,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9986850134019605},{time:17.027799999952315,note:"C3",pitch:131.69338356791127,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9988427333104042},{time:17.0445,note:"C3",pitch:131.69869536557124,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9990017909864903},{time:17.061099999904634,note:"C3",pitch:131.65064710398994,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9990209368752652},{time:17.077799999952315,note:"C3",pitch:131.65385878600333,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9990751486642466},{time:17.0945,note:"C3",pitch:131.70635461556805,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999135640039281},{time:17.11109999990463,note:"C3",pitch:131.75954867785813,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9991679710151402},{time:17.127699999809266,note:"C3",pitch:131.76307544346443,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999183195502745},{time:17.144399999856947,note:"C3",pitch:131.76187521747164,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993354955235105},{time:17.161199999809266,note:"C3",pitch:131.68092042214772,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9994532686497983},{time:17.177799999952317,note:"C3",pitch:131.7215604517747,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995120414900747},{time:17.194399999856948,note:"C3",pitch:131.6995048581183,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995759283975687},{time:17.211,note:"C3",pitch:131.77469839444743,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9996231828471736},{time:17.227799999952317,note:"C3",pitch:131.7740769026921,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999664226337778},{time:17.2445,note:"C3",pitch:131.8813702602198,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999653472552879},{time:17.261099999904634,note:"C3",pitch:131.88615697280198,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9997096113269208},{time:17.277799999952315,note:"C3",pitch:131.87957267215447,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999736141207471},{time:17.294299999952315,note:"C3",pitch:131.9122947106379,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998231395468231},{time:17.311099999904634,note:"C3",pitch:131.93845795637407,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998211520077973},{time:17.327699999809266,note:"C3",pitch:131.93638225645563,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998504078686423},{time:17.34439999985695,note:"C3",pitch:131.98464335544472,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998694173638683},{time:17.36109999990463,note:"C3",pitch:132.05815592665914,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9998645727059099},{time:17.377699999809266,note:"C3",pitch:132.08853892239583,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998715679702741},{time:17.394399999856947,note:"C3",pitch:132.13792884924626,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998882085283896},{time:17.411099999904632,note:"C3",pitch:132.18267867922992,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999049698604949},{time:17.427899999856947,note:"C3",pitch:132.23423535401653,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9999142457041259},{time:17.444299999952317,note:"C3",pitch:132.3865169159113,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999087617080633},{time:17.461,note:"C3",pitch:132.6343989119493,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999910504934256},{time:17.477699999809264,note:"C3",pitch:132.72844590764535,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999157130369554},{time:17.494599999904633,note:"C3",pitch:132.86513728624743,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999198732610068},{time:17.511099999904634,note:"C3",pitch:132.9168413426133,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999175204627875},{time:17.527699999809265,note:"C3",pitch:132.93740615611304,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999044866007765},{time:17.5445,note:"C3",pitch:132.9756984815868,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999262609304509},{time:17.561,note:"C3",pitch:132.9565304215249,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.999934495992143},{time:17.577699999809266,note:"C3",pitch:132.95696697786954,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999448462138929},{time:17.594299999952316,note:"C3",pitch:132.91410617459434,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999509675718627},{time:17.61109999990463,note:"C3",pitch:132.72507751474663,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.999873666102296},{time:17.627699999809266,note:"C3",pitch:132.588757613995,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.99987109624022},{time:17.644399999856947,note:"C3",pitch:132.40892139125933,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9998784805496612},{time:17.661199999809266,note:"C3",pitch:132.25614469456897,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9998662664264444},{time:17.677699999809263,note:"C3",pitch:132.18611447658535,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9998668251818117},{time:17.694399999856948,note:"C3",pitch:131.96733074653622,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998752945030986},{time:17.711,note:"C3",pitch:131.82517784988028,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999118769731368},{time:17.727699999809264,note:"C3",pitch:131.78400145484318,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999342378088798},{time:17.74439999985695,note:"C3",pitch:131.7182843979575,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999505500022252},{time:17.761,note:"C3",pitch:131.66815002174093,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.999956261907613},{time:17.777699999809265,note:"C3",pitch:131.65230348979728,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999601776938079},{time:17.7945,note:"C3",pitch:131.62402379454386,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999657941809801},{time:17.811,note:"C3",pitch:131.58798864915696,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999603521650684},{time:17.827799999952315,note:"C3",pitch:131.57963132151022,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999593340562498},{time:17.84439999985695,note:"C3",pitch:131.51690957095983,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999552293982248},{time:17.86109999990463,note:"C3",pitch:131.47749528854624,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999607170200733},{time:17.877799999952316,note:"C3",pitch:131.48144319493903,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999661969571605},{time:17.8945,note:"C3",pitch:131.50227628371402,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.999948547926266},{time:17.911099999904632,note:"C3",pitch:131.51825683792038,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999549489225927},{time:17.927799999952317,note:"C3",pitch:131.5249840574442,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999597070692019},{time:17.944399999856948,note:"C3",pitch:131.50854743801432,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999688332320247},{time:17.961099999904633,note:"C3",pitch:131.52423572019563,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999491437070347},{time:17.977799999952317,note:"C3",pitch:131.5594782270102,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999951484829964},{time:17.99439999985695,note:"C3",pitch:131.65015750526968,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999318930316932},{time:18.011099999904634,note:"C3",pitch:131.70823472142055,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999455710311622},{time:18.027699999809265,note:"C3",pitch:131.75553593214104,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999607788786022},{time:18.04439999985695,note:"C3",pitch:131.8482922776368,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999673175173456},{time:18.061099999904634,note:"C3",pitch:132.00507107033,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9999479178234978},{time:18.077799999952315,note:"C3",pitch:132.08025582343785,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999293681434054},{time:18.094799999952315,note:"C3",pitch:132.33190525815075,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999351974993189},{time:18.11109999990463,note:"C3",pitch:132.51212952150266,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999294171809154},{time:18.127699999809266,note:"C3",pitch:132.65465480900343,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999938649012762},{time:18.144399999856947,note:"C3",pitch:132.9245196631058,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.999922969398213},{time:18.161199999809266,note:"C3",pitch:133.09420442984273,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999426541624103},{time:18.177799999952317,note:"C3",pitch:133.1633039086572,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999443313202292},{time:18.194299999952317,note:"C3",pitch:133.30517997575984,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9999465129940717},{time:18.211,note:"C3",pitch:133.43624290418163,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9999538542361464},{time:18.227799999952317,note:"C3",pitch:133.46496723653928,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999549375990924},{time:18.2445,note:"C3",pitch:133.4996424743408,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999693474888005},{time:18.26209999990463,note:"C3",pitch:133.47232085629605,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999632914592311},{time:18.277799999952315,note:"C3",pitch:133.4512175990561,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999622921886555},{time:18.2945,note:"C3",pitch:133.17073448565878,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9998283397243171},{time:18.311,note:"C3",pitch:132.6907099102131,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997839553065688},{time:18.327699999809266,note:"C3",pitch:132.49069677916077,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998102991402007},{time:18.34439999985695,note:"C3",pitch:132.15501890012337,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999014820626861},{time:18.361,note:"C3",pitch:131.93275995446868,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9999311566138367},{time:18.377799999952316,note:"C3",pitch:131.8287964443266,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999263066470903},{time:18.394399999856947,note:"C3",pitch:131.6849842246889,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999166367598811},{time:18.4115,note:"C3",pitch:131.64481789316366,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999094452897701},{time:18.427699999809263,note:"C3",pitch:131.64865370574324,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999318915633033},{time:18.444299999952317,note:"C3",pitch:131.67910975633058,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999533996606615},{time:18.461199999809264,note:"C3",pitch:131.71078513971725,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999608267918312},{time:18.477699999809264,note:"C3",pitch:131.72390961880842,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999596290658523},{time:18.49439999985695,note:"C3",pitch:131.75673113957836,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999606196707518},{time:18.511,note:"C3",pitch:131.74123478907003,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999582374112244},{time:18.527599999904634,note:"C3",pitch:131.74249342662733,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999968506983727},{time:18.5445,note:"C3",pitch:131.73342987923144,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999743380591468},{time:18.561099999904634,note:"C3",pitch:131.78189927366378,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999622641794979},{time:18.577699999809266,note:"C3",pitch:131.85262044192936,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999452185694047},{time:18.59439999985695,note:"C3",pitch:131.96408821315026,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9999632286779381},{time:18.61109999990463,note:"C3",pitch:132.0775721194497,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999424697183557},{time:18.627699999809266,note:"C3",pitch:132.1280788197331,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999389229555184},{time:18.644299999952317,note:"C3",pitch:132.30191762986766,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999585092142595},{time:18.661,note:"C3",pitch:132.42224468157895,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999628131353475},{time:18.677699999809263,note:"C3",pitch:132.48118344935224,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999581484645823},{time:18.694399999856948,note:"C3",pitch:132.6368650743773,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999578657582404},{time:18.711099999904633,note:"C3",pitch:132.72415171267636,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.999965232806975},{time:18.727799999952317,note:"C3",pitch:132.74847912319754,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999633247908264},{time:18.74439999985695,note:"C3",pitch:132.77172757596037,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999595786607394},{time:18.761199999809264,note:"C3",pitch:132.73288048153776,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999540721640692},{time:18.777699999809265,note:"C3",pitch:132.73575703760102,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998199766089151},{time:18.794299999952315,note:"C3",pitch:132.69723478327188,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.99960226944129},{time:18.811,note:"C3",pitch:132.4642168922775,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9996498807667678},{time:18.82789999985695,note:"C3",pitch:132.18991326010826,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9998167531552937},{time:18.844299999952316,note:"C3",pitch:131.8794699522541,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998773795090194},{time:18.861,note:"C3",pitch:131.67200978286016,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999087287718993},{time:18.877699999809266,note:"C3",pitch:131.63942101017741,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999155319111956},{time:18.894299999952317,note:"C3",pitch:131.6045729570649,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999535777796034},{time:18.911199999809266,note:"C3",pitch:131.60175243672765,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9997796211551453},{time:18.927699999809263,note:"C3",pitch:131.61190378502326,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9997433790995736},{time:18.944399999856948,note:"C3",pitch:131.59536395574088,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9994938366427384},{time:18.961,note:"C3",pitch:131.57973179302556,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9991032774295725},{time:18.977799999952317,note:"C3",pitch:131.60329134127278,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999074661031603},{time:18.994299999952315,note:"C3",pitch:131.69414663556057,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.998940632553996},{time:19.011,note:"C3",pitch:131.82775453349927,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9983829193870299},{time:19.027699999809265,note:"C3",pitch:131.87234944925524,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9978299943409183},{time:19.04439999985695,note:"C3",pitch:131.99467891486927,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9969257479970643},{time:19.061099999904634,note:"C3",pitch:132.1174183658524,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9956385681382933},{time:19.077699999809266,note:"C3",pitch:132.17557018860234,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9961513559858091},{time:19.094299999952316,note:"C3",pitch:132.20182129149666,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9957938946225333},{time:19.11109999990463,note:"C3",pitch:132.3378935423361,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9952538467512468},{time:19.129299999952316,note:"C3",pitch:132.36141550419143,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9949053851870104},{time:19.144299999952317,note:"C3",pitch:132.52143759857117,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9947368808532246},{time:19.161099999904632,note:"C3",pitch:132.40748512434755,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9945269659357621},{time:19.177799999952317,note:"C3",pitch:132.28293335199993,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9937289348185026},{time:19.194299999952317,note:"C3",pitch:131.92194573458025,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9933818673729036},{time:19.211,note:"C3",pitch:131.71529992307399,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9953563929220373},{time:19.227699999809264,note:"C3",pitch:131.8060797080413,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9980446050124385},{time:19.244299999952315,note:"C3",pitch:131.65017959310316,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998012886415459},{time:19.261199999809264,note:"C3",pitch:131.6381446620517,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998279608248666},{time:19.277699999809265,note:"C3",pitch:131.70277353876602,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999825201669438},{time:19.29439999985695,note:"C3",pitch:131.67587895193412,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998468571644779},{time:19.311,note:"C3",pitch:131.7031405620321,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998378614082348},{time:19.327699999809266,note:"C3",pitch:131.74666811343022,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998263128383975},{time:19.344299999952316,note:"C3",pitch:131.99307160427716,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9997917878056377},{time:19.361,note:"C3",pitch:132.23626081802308,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9998027382214865},{time:19.377599999904632,note:"C3",pitch:132.33511909481146,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9998582251387838},{time:19.394399999856947,note:"C3",pitch:132.4613915683652,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998219288613726},{time:19.411,note:"C3",pitch:132.5417436597141,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998928560321652},{time:19.427699999809263,note:"C3",pitch:132.49902004578627,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999027477410998},{time:19.444399999856948,note:"C3",pitch:132.50054727271882,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999022477623853},{time:19.461,note:"C3",pitch:132.29277519399852,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9997931591693003},{time:19.477699999809264,note:"C3",pitch:132.2078479288892,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997626157925978},{time:19.4955,note:"C3",pitch:131.84613257568608,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998437124643509},{time:19.511,note:"C3",pitch:131.7332209366319,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999168863158232},{time:19.5275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.544199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.561,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.577699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.594199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.610899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.627599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.661,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.677599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.694299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.71089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.727599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.744199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.761,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.777699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.794199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.811,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.828199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.844199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.860899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.877699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.894299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.911,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.927599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.944199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.961,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.994199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.01089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.0275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.044199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.06089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.07759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.094299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.110899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.127599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.144199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.161,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.19739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.21089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.227599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.24439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.26089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.2775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.294199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.311,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.32759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.344299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.361,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.377599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.394299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.410899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.427599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.444299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.461,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.478,note:"D4",pitch:291.8398106416368,noteMidi:62,actualMidi:61.89,actualMidiChroma:1.8900000000000006,centsOffset:-10.999999999999943,clarity:.1178841495547367},{time:20.494299999952315,note:"E2",pitch:83.76978036378426,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.6376876238600602},{time:20.511,note:"E2",pitch:83.2446448913192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9394686281037679},{time:20.527699999809265,note:"E2",pitch:83.33747634161404,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993226079566853},{time:20.544299999952315,note:"E2",pitch:83.33879898190835,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999441705254867},{time:20.562699999809265,note:"E2",pitch:83.30197030378594,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993778251826484},{time:20.577699999809266,note:"E2",pitch:83.29169437568979,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994132197846852},{time:20.59439999985695,note:"E2",pitch:83.31455832594962,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995190827251861},{time:20.61109999990463,note:"E2",pitch:83.3408628817681,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995154951183167},{time:20.627699999809266,note:"E2",pitch:83.32737834387008,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9994961172219092},{time:20.644299999952317,note:"E2",pitch:83.33684675285988,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996001489284652},{time:20.661199999809266,note:"E2",pitch:83.34986507607783,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995931335377719},{time:20.677699999809263,note:"E2",pitch:83.35638176853686,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995428219793467},{time:20.694399999856948,note:"E2",pitch:83.32526760983069,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995223789823768},{time:20.711,note:"E2",pitch:83.3203555350386,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999657007810157},{time:20.727699999809264,note:"E2",pitch:83.31469679135498,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996922032386379},{time:20.744299999952315,note:"E2",pitch:83.30337676786104,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996822461699111},{time:20.761099999904634,note:"E2",pitch:83.2865237506789,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999718704993569},{time:20.777699999809265,note:"E2",pitch:83.27995831658176,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997246759333791},{time:20.794299999952315,note:"E2",pitch:83.27791470683019,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997100035268858},{time:20.811,note:"E2",pitch:83.27551606547658,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997451233893315},{time:20.82759999990463,note:"E2",pitch:83.27359520753657,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997786147804959},{time:20.844299999952316,note:"E2",pitch:83.28366274413709,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998043113312463},{time:20.861,note:"E2",pitch:83.27545924080452,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997814822504694},{time:20.877699999809266,note:"E2",pitch:83.28123752617584,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998270716973536},{time:20.894299999952317,note:"E2",pitch:83.28683078136528,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998203773458698},{time:20.911099999904632,note:"E2",pitch:83.29128325499735,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998207006811128},{time:20.929699999809266,note:"E2",pitch:83.2830458844166,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997964776308947},{time:20.944299999952317,note:"E2",pitch:83.27943903147802,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997660738281979},{time:20.961,note:"E2",pitch:83.2702603005351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997962690992352},{time:20.977799999952317,note:"E2",pitch:83.26602112685192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998181630220557},{time:20.994299999952315,note:"E2",pitch:83.24784355090631,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999836216522425},{time:21.011,note:"E2",pitch:83.26379002238656,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997762474028065},{time:21.027699999809265,note:"E2",pitch:83.2607068065159,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999812247326247},{time:21.044299999952315,note:"E2",pitch:83.23980306338349,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9998435147148683},{time:21.061099999904634,note:"E2",pitch:83.24614019538883,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997445211475053},{time:21.077699999809266,note:"E2",pitch:83.25660652529783,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997333981450396},{time:21.094299999952316,note:"E2",pitch:83.26300156083664,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998143689324621},{time:21.11109999990463,note:"E2",pitch:83.25389059588815,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998405535185242},{time:21.127699999809266,note:"E2",pitch:83.2651572993744,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997453868260635},{time:21.144299999952317,note:"E2",pitch:83.28171449423259,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997335754543286},{time:21.160899999856948,note:"E2",pitch:83.25593343423459,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998436875571457},{time:21.177699999809263,note:"E2",pitch:83.2521545981479,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997431057259121},{time:21.194299999952317,note:"E2",pitch:83.28012102109336,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999621480171669},{time:21.211099999904633,note:"E2",pitch:83.27056928352123,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996939643020823},{time:21.227599999904633,note:"E2",pitch:83.25086895021383,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997872809857},{time:21.24439999985695,note:"E2",pitch:83.26746393822351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996403080215543},{time:21.261,note:"E2",pitch:83.27838216645532,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9995534434573585},{time:21.277599999904634,note:"E2",pitch:83.27742070299327,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999528418573874},{time:21.294299999952315,note:"E2",pitch:83.26177397704154,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996975364609},{time:21.313299999952317,note:"E2",pitch:83.27830858855343,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999447479040839},{time:21.327699999809266,note:"E2",pitch:83.27463220778351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9993971313089105},{time:21.344299999952316,note:"E2",pitch:83.22615141400141,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9996819008087812},{time:21.36109999990463,note:"E2",pitch:83.26890742120023,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9995155051942106},{time:21.377699999809266,note:"E2",pitch:83.29552530489175,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993422533799077},{time:21.394299999952317,note:"E2",pitch:83.28261121148864,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992695825230697},{time:21.411,note:"E2",pitch:83.25021649522192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999595801776195},{time:21.427699999809263,note:"E2",pitch:83.26989439627971,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9991699846616768},{time:21.444199999809264,note:"E2",pitch:83.28445594432291,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999037603482094},{time:21.461,note:"E2",pitch:83.22127586745216,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9995016337251315},{time:21.477599999904633,note:"E2",pitch:83.22947980537451,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9995729678195033},{time:21.494299999952315,note:"E2",pitch:83.28347697418734,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989977464806827},{time:21.511099999904634,note:"E2",pitch:83.29107721759146,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.99819291381651},{time:21.527699999809265,note:"E2",pitch:83.3093769156211,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9934269035826162},{time:21.544299999952315,note:"E2",pitch:83.41839424378429,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9386731322364454},{time:21.561,note:"E2",pitch:84.40436949016457,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.8131299251171455},{time:21.577699999809266,note:"F2",pitch:86.25563232085959,noteMidi:41,actualMidi:40.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.8060052095244004},{time:21.594299999952316,note:"F2",pitch:85.75254996794689,noteMidi:41,actualMidi:40.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.8279213849463929},{time:21.610899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.627699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.661,note:"C3",pitch:134.3840509846314,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.46229527054739705},{time:21.677699999809263,note:"E2",pitch:84.11879722927574,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.46122493351665383},{time:21.696299999952316,note:"E2",pitch:83.48292389612538,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8930284360513383},{time:21.711,note:"E2",pitch:83.3755605139034,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9991821562884695},{time:21.727599999904633,note:"E2",pitch:83.37546923687533,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9994905827583409},{time:21.7445,note:"E2",pitch:83.36027950718234,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9994265572268688},{time:21.76089999985695,note:"E2",pitch:83.32889565782327,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992765499038825},{time:21.777599999904634,note:"E2",pitch:83.3178620975538,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993285510295209},{time:21.794299999952315,note:"E2",pitch:83.31914234147065,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995902392659985},{time:21.811,note:"E2",pitch:83.33880714190033,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993327655576394},{time:21.827799999952315,note:"E2",pitch:83.32632281911103,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993069716570488},{time:21.844299999952316,note:"E2",pitch:83.30015454271184,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993386436994172},{time:21.861,note:"E2",pitch:83.335693380576,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992892429979321},{time:21.877699999809266,note:"E2",pitch:83.34275510225473,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9992749893298054},{time:21.894299999952317,note:"E2",pitch:83.31369689832023,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992027379564945},{time:21.911,note:"E2",pitch:83.30728768861427,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999554637541678},{time:21.927699999809263,note:"E2",pitch:83.3332475378031,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999403357629518},{time:21.944299999952317,note:"E2",pitch:83.33023164058244,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992832424187981},{time:21.961,note:"E2",pitch:83.2802158513508,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994096713286638},{time:21.977699999809264,note:"E2",pitch:83.30315451783667,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993982260125733},{time:21.994299999952315,note:"E2",pitch:83.31823041552694,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992430362958657},{time:22.011,note:"E2",pitch:83.27797714270558,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9991905196035589},{time:22.027699999809265,note:"E2",pitch:83.24619534857538,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994166975383791},{time:22.044299999952315,note:"E2",pitch:83.32795763426638,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991307826086882},{time:22.061,note:"E2",pitch:83.67278408248544,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9397035477649354},{time:22.07989999985695,note:"E2",pitch:84.36089231721324,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.7369575964699848},{time:22.094199999809266,note:"F2",pitch:85.03941740978176,noteMidi:41,actualMidi:40.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.6404448166435728},{time:22.111,note:"F2",pitch:86.54222026817521,noteMidi:41,actualMidi:40.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.7140539838999302},{time:22.127799999952316,note:"E2",pitch:84.51857640144159,noteMidi:40,actualMidi:40.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.6221999837102743},{time:22.144299999952317,note:"E2",pitch:83.97875063834303,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.5264648753553729},{time:22.161,note:"E2",pitch:83.50356556213895,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.8577109123824016},{time:22.177699999809263,note:"E2",pitch:83.24758583815357,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9886014634309532},{time:22.194299999952317,note:"E2",pitch:83.33424584298179,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.998944118097441},{time:22.211,note:"E2",pitch:83.32825986067155,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9986470700155365},{time:22.227599999904633,note:"E2",pitch:83.28640891557824,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989692268078016},{time:22.244299999952315,note:"E2",pitch:83.27496311410881,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992124915449949},{time:22.261,note:"E2",pitch:83.32882799334728,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9986829033337159},{time:22.277599999904634,note:"E2",pitch:83.32183322442758,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.998296144484641},{time:22.294299999952315,note:"E2",pitch:83.265052572176,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9990421563071266},{time:22.31089999985695,note:"E2",pitch:83.32292859337656,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991557851390809},{time:22.32759999990463,note:"E2",pitch:83.35443498561021,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9987312246037305},{time:22.344199999809266,note:"E2",pitch:83.31193122705217,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9989395263546612},{time:22.360899999856947,note:"E2",pitch:83.28747275788463,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992419423153365},{time:22.377599999904632,note:"E2",pitch:83.29515236815872,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988556637347017},{time:22.394299999952317,note:"E2",pitch:83.28338016082577,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9982991030199599},{time:22.411,note:"E2",pitch:83.36811566022702,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9965694364887696},{time:22.427699999809263,note:"E2",pitch:83.73718529726668,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9381473557561719},{time:22.444299999952317,note:"E2",pitch:84.75498207212998,noteMidi:40,actualMidi:40.49,actualMidiChroma:4.490000000000002,centsOffset:49.0000000000002,clarity:.7467139887398986},{time:22.463599999904634,note:"G2",pitch:95.92124519429103,noteMidi:43,actualMidi:42.63,actualMidiChroma:6.630000000000003,centsOffset:-36.999999999999744,clarity:.6016363129721505},{time:22.477699999809264,note:"C4",pitch:262.35900115297244,noteMidi:60,actualMidi:60.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.21298559101615755},{time:22.494199999809265,note:"E2",pitch:83.89391781718287,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.7809203028915732},{time:22.511,note:"E2",pitch:83.09336893847902,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9818022692466002},{time:22.527599999904634,note:"E2",pitch:83.28815033797832,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9980873650640802},{time:22.544299999952315,note:"E2",pitch:83.34495340872985,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9989629134530986},{time:22.561,note:"E2",pitch:83.292318155597,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988138655252641},{time:22.577699999809266,note:"E2",pitch:83.3005765616181,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992219942608358},{time:22.594199999809266,note:"E2",pitch:83.36520505386414,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9992382151294521},{time:22.611,note:"E2",pitch:83.39989945939087,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9987969113590651},{time:22.627599999904632,note:"E2",pitch:83.38471530373577,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9989385443012111},{time:22.644299999952317,note:"E2",pitch:83.41063511746978,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9994796208014805},{time:22.661,note:"E2",pitch:83.49294378438249,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9989732058342327},{time:22.677599999904633,note:"E2",pitch:83.50597491333919,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9984399146998157},{time:22.694299999952317,note:"E2",pitch:83.47375545002055,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9992423291413957},{time:22.71089999985695,note:"E2",pitch:83.5267255368791,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992739161167066},{time:22.727599999904633,note:"E2",pitch:83.54543984906974,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.99877137252399},{time:22.744299999952315,note:"E2",pitch:83.50568919149936,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9986581397426733},{time:22.76089999985695,note:"E2",pitch:83.48034606208135,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995224543269217},{time:22.777699999809265,note:"E2",pitch:83.5882986920573,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9949809648628332},{time:22.794299999952315,note:"E2",pitch:84.12260467333765,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8926733168556211},{time:22.811,note:"F2",pitch:88.15010869351057,noteMidi:41,actualMidi:41.17,actualMidiChroma:5.170000000000002,centsOffset:17.00000000000017,clarity:.5777317421426744},{time:22.82759999990463,note:"F2",pitch:89.72615617892343,noteMidi:41,actualMidi:41.47,actualMidiChroma:5.469999999999999,centsOffset:46.999999999999886,clarity:.536405821808895},{time:22.844099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.861,note:"G0",pitch:23.82476698908005,noteMidi:19,actualMidi:18.52,actualMidiChroma:6.52,centsOffset:-48.00000000000004,clarity:.4305725403382894},{time:22.881299999952315,note:"E2",pitch:84.14335924831931,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.7692796130478428},{time:22.894199999809267,note:"E2",pitch:83.69653200444137,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.8804764673944874},{time:22.911,note:"E2",pitch:83.50431119281987,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9985873869699731},{time:22.927699999809263,note:"E2",pitch:83.56781668963598,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993431524851673},{time:22.944199999809264,note:"E2",pitch:83.556720744926,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992715784929658},{time:22.96089999985695,note:"E2",pitch:83.49840056505563,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994646336243562},{time:22.977599999904633,note:"E2",pitch:83.52071856231457,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994389782713995},{time:22.994299999952315,note:"E2",pitch:83.57525513232063,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992611145019623},{time:23.01089999985695,note:"E2",pitch:83.54761775236113,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992232506510561},{time:23.027599999904634,note:"E2",pitch:83.50476939499036,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993675077185458},{time:23.044199999809265,note:"E2",pitch:83.52817703541841,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994123841526346},{time:23.06089999985695,note:"E2",pitch:83.52921028161455,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999348253139658},{time:23.07759999990463,note:"E2",pitch:83.52166358835588,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999115271492883},{time:23.094199999809266,note:"E2",pitch:83.49642191110256,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993405952135959},{time:23.110899999856947,note:"E2",pitch:83.52525786093581,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992714021548323},{time:23.127599999904632,note:"E2",pitch:83.52338251651788,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992123367668881},{time:23.144199999809267,note:"E2",pitch:83.48840287227621,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993722985883693},{time:23.160899999856948,note:"E2",pitch:83.5155225185833,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994051612484611},{time:23.177599999904633,note:"E2",pitch:83.53658670980796,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993158276546694},{time:23.194299999952317,note:"E2",pitch:83.54098954843417,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990058211578798},{time:23.21089999985695,note:"E2",pitch:83.52030460823991,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993615810067098},{time:23.227599999904633,note:"E2",pitch:83.53878407906063,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993790857930662},{time:23.244299999952315,note:"E2",pitch:83.57122424025494,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991505813139128},{time:23.261,note:"E2",pitch:83.54652536977687,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991206378209796},{time:23.277699999809265,note:"E2",pitch:83.55792859804444,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9994385169356121},{time:23.2975,note:"E2",pitch:83.56551889822563,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.999295339641435},{time:23.31089999985695,note:"E2",pitch:83.570713812633,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9986701809883982},{time:23.32759999990463,note:"E2",pitch:83.54885968747911,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988870710831748},{time:23.344299999952316,note:"E2",pitch:83.56122470046272,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993378764272052},{time:23.360899999856947,note:"E2",pitch:83.58459724619047,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9988990784671472},{time:23.377599999904632,note:"E2",pitch:83.57471817779955,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9986610509713927},{time:23.394199999809267,note:"E2",pitch:83.55369989659114,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992226219738569},{time:23.411099999904632,note:"E2",pitch:83.57022292341152,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991035614621069},{time:23.427599999904633,note:"E2",pitch:83.58174617142843,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9987632079371735},{time:23.444199999809264,note:"E2",pitch:83.55417495291258,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9982801076832999},{time:23.46089999985695,note:"E2",pitch:83.55009457656485,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990798870642976},{time:23.477599999904633,note:"E2",pitch:83.56639427006795,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990833421282019},{time:23.494199999809265,note:"E2",pitch:83.57329827853881,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9979687782789739},{time:23.51089999985695,note:"E2",pitch:83.5392621510604,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988105090917969},{time:23.527599999904634,note:"E2",pitch:83.52999364763824,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993228757673194},{time:23.544199999809265,note:"E2",pitch:83.57876994446347,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9982074300403667},{time:23.56089999985695,note:"E2",pitch:83.53398733254865,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.997363018920467},{time:23.57759999990463,note:"E2",pitch:83.50217786273758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9985027864070588},{time:23.594299999952316,note:"E2",pitch:83.56235624293043,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9989148991190575},{time:23.610899999856947,note:"E2",pitch:83.57821298601561,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9973190346569254},{time:23.627599999904632,note:"E2",pitch:83.53478519166043,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.99726471775314},{time:23.644199999809267,note:"E2",pitch:83.51394161868605,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999005582506598},{time:23.660899999856948,note:"E2",pitch:83.56594208208702,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9971345412944004},{time:23.677599999904633,note:"E2",pitch:83.54178345884053,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9953862232218142},{time:23.694299999952317,note:"E2",pitch:83.4438324331234,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9977559865949246},{time:23.710799999952318,note:"E2",pitch:83.49017714473483,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9983330388731417},{time:23.73159999990463,note:"E2",pitch:83.49135541084762,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9951893782478862},{time:23.744199999809265,note:"E2",pitch:83.45255489171305,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9952401281047543},{time:23.76089999985695,note:"E2",pitch:83.41012781184807,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9985223120101097},{time:23.777699999809265,note:"E2",pitch:83.41503699553185,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.998004517300302},{time:23.794199999809265,note:"E2",pitch:83.41154384929258,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9954192509794524},{time:23.811,note:"E2",pitch:83.33100931347977,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9974517470373172},{time:23.82759999990463,note:"E2",pitch:83.34820182602765,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9975710135127969},{time:23.84439999985695,note:"E2",pitch:83.35543798637623,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9970832890661541},{time:23.860899999856947,note:"E2",pitch:83.28080371887141,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9967602141990994},{time:23.877599999904632,note:"E2",pitch:83.25094692062758,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9973037578077282},{time:23.894299999952317,note:"E2",pitch:83.32603922210721,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9977209585743907},{time:23.910899999856948,note:"E2",pitch:83.43034554564365,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9946059881267502},{time:23.927599999904633,note:"E2",pitch:83.60541794755643,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9734857259985716},{time:23.944199999809264,note:"E2",pitch:84.12060384916495,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.7445802789743112},{time:23.96089999985695,note:"F2",pitch:87.52704073625232,noteMidi:41,actualMidi:41.04,actualMidiChroma:5.039999999999999,centsOffset:3.9999999999999147,clarity:.6061479499515663},{time:23.9775,note:"F2",pitch:88.06918113333914,noteMidi:41,actualMidi:41.15,actualMidiChroma:5.149999999999999,centsOffset:14.999999999999858,clarity:.691122379496786},{time:23.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.0275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.044199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.061,note:"F2",pitch:84.95125653006257,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.46818263155333284},{time:24.07759999990463,note:"F2",pitch:84.92906259609326,noteMidi:41,actualMidi:40.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.5553899921074219},{time:24.094199999809266,note:"E2",pitch:83.36103117340218,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8891230397209},{time:24.110899999856947,note:"E2",pitch:83.45280067244157,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9688998650279927},{time:24.127599999904632,note:"E2",pitch:83.43728811505858,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9765928647015159},{time:24.144199999809267,note:"E2",pitch:83.20768998681989,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9762780166214213},{time:24.164799999952315,note:"E2",pitch:83.24262790680538,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9879114246406289},{time:24.177599999904633,note:"E2",pitch:83.3201989406603,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9833416022588182},{time:24.194299999952317,note:"E2",pitch:83.24320252735494,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9691407398097596},{time:24.211,note:"E2",pitch:83.08685427291029,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9786190312437526},{time:24.2275,note:"E2",pitch:83.17734130661688,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9820665800306756},{time:24.244199999809265,note:"E2",pitch:83.28169185898219,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9805750515389917},{time:24.26089999985695,note:"E2",pitch:83.09374116069206,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9781979374943433},{time:24.277699999809265,note:"E2",pitch:83.18398054084368,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9842713148140092},{time:24.294199999809265,note:"E2",pitch:83.35253892393601,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9842121419618337},{time:24.31089999985695,note:"E2",pitch:84.11187749079687,noteMidi:40,actualMidi:40.35,actualMidiChroma:4.350000000000001,centsOffset:35.00000000000014,clarity:.9054351062649602},{time:24.32759999990463,note:"F2",pitch:85.26159728316594,noteMidi:41,actualMidi:40.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.7324437539323725},{time:24.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.360899999856947,note:"F2",pitch:88.57933601497851,noteMidi:41,actualMidi:41.25,actualMidiChroma:5.25,centsOffset:25,clarity:.28742340109027964},{time:24.3775,note:"E2",pitch:84.585940349349,noteMidi:40,actualMidi:40.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.45415277426783973},{time:24.394199999809267,note:"E2",pitch:83.36511421586059,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8956628395027053},{time:24.410899999856948,note:"E2",pitch:83.38640843210696,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9980988128987747},{time:24.427599999904633,note:"E2",pitch:83.37616229165307,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9984078161867558},{time:24.444199999809264,note:"E2",pitch:83.31226609646681,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988607027067644},{time:24.46089999985695,note:"E2",pitch:83.335131985064,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988510605431316},{time:24.477599999904633,note:"E2",pitch:83.34474726272052,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9986174255419371},{time:24.494199999809265,note:"E2",pitch:83.31658267690467,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9982902805957821},{time:24.51089999985695,note:"E2",pitch:83.2932848142969,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993544889486259},{time:24.527599999904634,note:"E2",pitch:83.31898502709569,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991165953300651},{time:24.544199999809265,note:"E2",pitch:83.341172160192,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9983774762823572},{time:24.56089999985695,note:"E2",pitch:83.31408621113277,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988841067676901},{time:24.57759999990463,note:"E2",pitch:83.32392088833846,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992213221118362},{time:24.594199999809266,note:"E2",pitch:83.3650893420049,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9984613487189904},{time:24.610899999856947,note:"E2",pitch:83.33929396648162,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9979218386079083},{time:24.627599999904632,note:"E2",pitch:83.32575507613439,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988166447379285},{time:24.648299999952318,note:"E2",pitch:83.36027271498736,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9991516439029624},{time:24.661,note:"E2",pitch:83.36087974610838,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.997935140761598},{time:24.677599999904633,note:"E2",pitch:83.33578934292683,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9976434540011354},{time:24.694199999809264,note:"E2",pitch:83.35589094569958,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9993097249728038},{time:24.71089999985695,note:"E2",pitch:83.36799997615798,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9982591085313715},{time:24.7275,note:"E2",pitch:83.36572554613271,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9972495350248494},{time:24.744299999952315,note:"E2",pitch:83.32956647006915,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9985418344949721},{time:24.76089999985695,note:"E2",pitch:83.38957290732735,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.999083317879311},{time:24.7775,note:"E2",pitch:83.40610132959071,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9980788924100068},{time:24.794199999809265,note:"E2",pitch:83.3760135196718,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9969760558858525},{time:24.81089999985695,note:"E2",pitch:83.41066214387644,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.999270605399488},{time:24.82759999990463,note:"E2",pitch:83.44272405726245,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.998414302234778},{time:24.844199999809266,note:"E2",pitch:83.42671463011199,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.996272356097208},{time:24.860899999856947,note:"E2",pitch:83.37959112200674,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.998026120446383},{time:24.877599999904632,note:"E2",pitch:83.39104129460218,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9993260056822493},{time:24.894199999809267,note:"E2",pitch:83.45773478055897,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9973254028528089},{time:24.910899999856948,note:"E2",pitch:83.4092882723182,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9956191029817063},{time:24.927599999904633,note:"E2",pitch:83.42220412391788,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9977302565432637},{time:24.944299999952317,note:"E2",pitch:83.45831441802773,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9978247205700228},{time:24.96089999985695,note:"E2",pitch:83.44596766277833,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9950357999633894},{time:24.977599999904633,note:"E2",pitch:83.41095343000335,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9950493813934713},{time:24.994099999904634,note:"E2",pitch:83.40886909060599,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9992011715690836},{time:25.01089999985695,note:"E2",pitch:83.47272720085458,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9962465351727161},{time:25.027599999904634,note:"E2",pitch:83.44710669640367,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9950925468098291},{time:25.044199999809265,note:"E2",pitch:83.40769528433208,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9972801299928733},{time:25.06089999985695,note:"E2",pitch:83.45656192236599,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.997512151236549},{time:25.07759999990463,note:"E2",pitch:83.47372655178792,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.996297882695302},{time:25.099,note:"E2",pitch:83.42081263972982,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9947786054698895},{time:25.1115,note:"E2",pitch:83.42448996361529,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9989354466744516},{time:25.127599999904632,note:"E2",pitch:83.4708781322753,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9974239477821243},{time:25.144399999856947,note:"E2",pitch:83.46216026994969,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9947796191823102},{time:25.160899999856948,note:"E2",pitch:83.40313788991331,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9974294478578969},{time:25.177599999904633,note:"E2",pitch:83.43841062032705,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9982649357214513},{time:25.194399999856948,note:"E2",pitch:83.50462917541094,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9949615440309572},{time:25.211,note:"E2",pitch:83.44409921728447,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9955616195351809},{time:25.227599999904633,note:"E2",pitch:83.418880444203,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.997512546591409},{time:25.244299999952315,note:"E2",pitch:83.49129703615269,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9968161114411771},{time:25.26089999985695,note:"E2",pitch:83.48741121083017,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9943530485965368},{time:25.277599999904634,note:"E2",pitch:83.44710452257945,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9948582740990446},{time:25.294299999952315,note:"E2",pitch:83.43902741269459,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9978767648711226},{time:25.31089999985695,note:"E2",pitch:83.50801698566303,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9951486787578006},{time:25.32759999990463,note:"E2",pitch:83.49366196852982,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9939947391152941},{time:25.344299999952316,note:"E2",pitch:83.41142437271657,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.996870102824829},{time:25.361,note:"E2",pitch:83.48185648556225,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9967824499121747},{time:25.377699999809266,note:"E2",pitch:83.509395700356,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9949176673405589},{time:25.394299999952317,note:"E2",pitch:83.45488942228786,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9930137372507772},{time:25.411,note:"E2",pitch:83.44792253346023,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9970818622207815},{time:25.427599999904633,note:"E2",pitch:83.4646799949509,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9965935375474544},{time:25.444199999809264,note:"E2",pitch:83.49551250805642,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9927635821872371},{time:25.461,note:"E2",pitch:83.40269288266212,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9953262213976757},{time:25.477599999904633,note:"E2",pitch:83.44734448415521,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9974540847844651},{time:25.494199999809265,note:"E2",pitch:83.50465996259176,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9943488299358734},{time:25.51089999985695,note:"E2",pitch:83.46584182838708,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9905381892730389},{time:25.527599999904634,note:"E2",pitch:83.39627380096901,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9942208163468393},{time:25.544299999952315,note:"E2",pitch:83.44146396097526,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.996388314369753},{time:25.561,note:"E2",pitch:83.47564949797457,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9924779913952761},{time:25.577699999809266,note:"E2",pitch:83.46054404955233,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.990931782536407},{time:25.594299999952316,note:"E2",pitch:83.40773649766427,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9964991647559742},{time:25.616,note:"E2",pitch:83.45876822113318,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9946455248458506},{time:25.629799999952315,note:"E2",pitch:83.44110241111916,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9895768968136451},{time:25.644199999809267,note:"E2",pitch:83.38716433154997,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9922707648727851},{time:25.661,note:"E2",pitch:83.41836642805941,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9959057257508874},{time:25.677799999952317,note:"E2",pitch:83.44001182152833,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9945578053948054},{time:25.694299999952317,note:"E2",pitch:83.43221967810405,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9899238190398734},{time:25.711,note:"E2",pitch:83.41279076718135,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9951127435394511},{time:25.727599999904633,note:"E2",pitch:83.41967771082047,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9961177610505558},{time:25.744199999809265,note:"E2",pitch:83.47161590415648,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.992205126442343},{time:25.761,note:"E2",pitch:83.40600395320624,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9901497300634787},{time:25.777599999904634,note:"E2",pitch:83.38604943227946,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9930807328308191},{time:25.794199999809265,note:"E2",pitch:83.41474254745313,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9942272518898818},{time:25.81089999985695,note:"E2",pitch:83.42014853715058,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9890469408999536},{time:25.827699999809266,note:"E2",pitch:83.37229229760885,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9907229366403669},{time:25.844299999952316,note:"E2",pitch:83.41795742727192,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9949289033662012},{time:25.861,note:"E2",pitch:83.49054710392166,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9925649524881237},{time:25.877599999904632,note:"E2",pitch:83.46042481709877,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9889343748405821},{time:25.894299999952317,note:"E2",pitch:83.40777487978177,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9918985210286735},{time:25.910899999856948,note:"E2",pitch:83.42446654676819,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9944737253203328},{time:25.927599999904633,note:"E2",pitch:83.4571791602768,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9925388162909456},{time:25.944299999952317,note:"E2",pitch:83.39623380570625,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9918322209745014},{time:25.961,note:"E2",pitch:83.4181796839289,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9950987629690502},{time:25.977599999904633,note:"E2",pitch:83.46463463240403,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9938937861052608},{time:25.994299999952315,note:"E2",pitch:83.4705853969309,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9906101900631228},{time:26.011,note:"E2",pitch:83.41452985853749,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9925310925093243},{time:26.027699999809265,note:"E2",pitch:83.45541303077961,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9942863642076389},{time:26.044299999952315,note:"E2",pitch:83.5378847853618,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.992822565746522},{time:26.06089999985695,note:"E2",pitch:83.87850870944747,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.9459521076933299},{time:26.077699999809266,note:"E2",pitch:84.32554471090754,noteMidi:40,actualMidi:40.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.8833188797476481},{time:26.094299999952316,note:"F2",pitch:85.64221037467217,noteMidi:41,actualMidi:40.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.6125509599302035},{time:26.110799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.1275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.144099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.160799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.1775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.194199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.232299999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.247699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.260799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.277599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.29409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.310799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.32759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.360799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.3775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.394199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.410799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.4275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.444099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.460799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.4775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.494099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.510799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.5275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.54409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.560799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.5775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.594199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.610699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.6275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.644199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.660799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.6775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.694099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.710799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.7275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.744199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.761099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.782,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.795299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.810799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.8275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.844199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.860799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.877399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.894199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.910799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.927599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.944099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.960799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.01089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.04409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.060799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.077399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.110799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.1275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.144199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.160799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.17739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.194099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.22739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.244199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.260799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.2775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.29409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.310799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.3275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.360799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.3775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.39909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.41459999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.4275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.444199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.460799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.4775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.494199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.510699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.52739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.54409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.560799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.577399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.594099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.610699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.627399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.644099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.660799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.6775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.694099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.710799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.7275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.744099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.760799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.77739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.794199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.810799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.8275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.844099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.860799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.8775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.894099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.910899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.92739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.944099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.960699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.97739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.027699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.046899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.062599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.0775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.110699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.127399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.144099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.160699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.17739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.194099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.227599999904633,note:"C3",pitch:133.85532566871504,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.2498412962849894},{time:28.244199999809265,note:"E2",pitch:81.56200252752028,noteMidi:40,actualMidi:39.82,actualMidiChroma:3.8200000000000003,centsOffset:-17.99999999999997,clarity:.5976108843739851},{time:28.26089999985695,note:"E2",pitch:83.18896133686496,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9317721724950019},{time:28.277599999904634,note:"E2",pitch:83.48686865793223,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9962837007934269},{time:28.294199999809265,note:"E2",pitch:83.52266158305758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9996097151373675},{time:28.310799999952316,note:"E2",pitch:83.49298992024758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999701348955611},{time:28.32759999990463,note:"E2",pitch:83.4677621026803,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9996728658040155},{time:28.344299999952316,note:"E2",pitch:83.44411494017793,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995997407857118},{time:28.360899999856947,note:"E2",pitch:83.44929600613598,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997500491743239},{time:28.377599999904632,note:"E2",pitch:83.45177897447533,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997660395937231},{time:28.394199999809267,note:"E2",pitch:83.44316209659628,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997025965715949},{time:28.410899999856948,note:"E2",pitch:83.44620319587212,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997342455432232},{time:28.427599999904633,note:"E2",pitch:83.45810339954258,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997949140307583},{time:28.444199999809264,note:"E2",pitch:83.46076578265365,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998079838756411},{time:28.461,note:"E2",pitch:83.46868623750056,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997618878225012},{time:28.4775,note:"E2",pitch:83.47723284948871,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998364014996639},{time:28.494199999809265,note:"E2",pitch:83.48033453777015,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998676849141361},{time:28.51089999985695,note:"E2",pitch:83.47389025380997,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998117128260873},{time:28.5275,note:"E2",pitch:83.46360311289743,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998192256806817},{time:28.544199999809265,note:"E2",pitch:83.44665413648441,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998466385406317},{time:28.56089999985695,note:"E2",pitch:83.40707632315153,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998629830000851},{time:28.57759999990463,note:"E2",pitch:83.38237489296891,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998592762726588},{time:28.594199999809266,note:"E2",pitch:83.34815217732404,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998592330389755},{time:28.610799999952317,note:"E2",pitch:83.32550907993317,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998837666762483},{time:28.6275,note:"E2",pitch:83.30922322738117,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998824165930102},{time:28.644299999952317,note:"E2",pitch:83.27939799428464,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998591815265172},{time:28.662,note:"E2",pitch:83.26121638364032,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998888824328986},{time:28.682699999809266,note:"E2",pitch:83.26212774517518,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998925509243577},{time:28.69839999985695,note:"E2",pitch:83.25629860945519,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998856346261391},{time:28.711399999856948,note:"E2",pitch:83.2570161818252,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999906246254028},{time:28.727599999904633,note:"E2",pitch:83.25994164864431,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999097921302678},{time:28.744199999809265,note:"E2",pitch:83.26722896643193,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999132027488145},{time:28.76089999985695,note:"E2",pitch:83.2651808049249,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998921240777321},{time:28.777599999904634,note:"E2",pitch:83.26137849793773,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999115184254066},{time:28.794199999809265,note:"E2",pitch:83.26111235347665,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999295026511561},{time:28.81089999985695,note:"E2",pitch:83.28865623576189,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.99455034713543},{time:28.82759999990463,note:"E2",pitch:83.54084443522045,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.963003049305982},{time:28.844199999809266,note:"E2",pitch:83.91734029051271,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.8485152304012047},{time:28.860899999856947,note:"F2",pitch:88.39206165321349,noteMidi:41,actualMidi:41.21,actualMidiChroma:5.210000000000001,centsOffset:21.000000000000085,clarity:.6260963466844238},{time:28.878,note:"Gb2",pitch:93.23346415409817,noteMidi:42,actualMidi:42.14,actualMidiChroma:6.140000000000001,centsOffset:14.000000000000057,clarity:.7913983924751786},{time:28.894,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.910699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.92739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.944199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.960699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.994,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.04409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.060699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.077399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.110899999856947,note:"D3",pitch:149.5089559724154,noteMidi:50,actualMidi:50.31,actualMidiChroma:2.3100000000000023,centsOffset:31.000000000000227,clarity:.4532607054971898},{time:29.1275,note:"E2",pitch:83.51285506227376,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.6581503455619355},{time:29.144199999809267,note:"E2",pitch:83.29403926202833,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9784504493561599},{time:29.160899999856948,note:"E2",pitch:83.51221177925463,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9997779891852616},{time:29.177599999904633,note:"E2",pitch:83.5044372908564,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9997815942153778},{time:29.194199999809264,note:"E2",pitch:83.46598249974066,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.999823784740272},{time:29.21089999985695,note:"E2",pitch:83.4511392493092,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998234250955278},{time:29.2275,note:"E2",pitch:83.46178653117616,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998154108102},{time:29.244199999809265,note:"E2",pitch:83.46878261253717,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997921605350939},{time:29.26089999985695,note:"E2",pitch:83.42832887564778,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998584554884502},{time:29.278099999904633,note:"E2",pitch:83.41745208724373,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998723947799704},{time:29.298299999952317,note:"E2",pitch:83.42379570200801,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998384952168067},{time:29.314299999952315,note:"E2",pitch:83.42191890566598,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998762696793335},{time:29.327399999856947,note:"E2",pitch:83.40463514618854,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998924700788052},{time:29.344299999952316,note:"E2",pitch:83.39064962854654,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998832067824992},{time:29.360799999952317,note:"E2",pitch:83.39129552542734,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998740530417507},{time:29.3775,note:"E2",pitch:83.37648946317618,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998925047052154},{time:29.394199999809267,note:"E2",pitch:83.34299293821171,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999030719891664},{time:29.411,note:"E2",pitch:83.33421551295216,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998907570431896},{time:29.427599999904633,note:"E2",pitch:83.346253306618,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998980862639968},{time:29.444299999952317,note:"E2",pitch:83.3541259058011,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999439523907654},{time:29.46089999985695,note:"E2",pitch:83.36554068804412,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999362554391382},{time:29.4775,note:"E2",pitch:83.3742658284445,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999160283189781},{time:29.494199999809265,note:"E2",pitch:83.3235900782468,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998784932953555},{time:29.510799999952315,note:"E2",pitch:83.09526527858131,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.999621590692584},{time:29.527599999904634,note:"E2",pitch:82.95135996781414,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9997148494745289},{time:29.544299999952315,note:"E2",pitch:82.73427241992977,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998322973151517},{time:29.56089999985695,note:"E2",pitch:82.59318402519841,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998761300178103},{time:29.5775,note:"E2",pitch:82.5363516570246,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999083396801041},{time:29.594199999809266,note:"E2",pitch:82.48384399243218,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999255995349756},{time:29.610899999856947,note:"E2",pitch:82.44705272311855,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.999935383879162},{time:29.6275,note:"E2",pitch:82.42607588998155,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999374145031368},{time:29.644199999809267,note:"E2",pitch:82.38845189954681,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999288741501573},{time:29.660899999856948,note:"E2",pitch:82.3419284533236,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999283137684785},{time:29.677599999904633,note:"E2",pitch:82.32311383072938,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999325585666128},{time:29.694199999809264,note:"E2",pitch:82.27286198430714,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999342310237864},{time:29.71089999985695,note:"E2",pitch:82.24652624948264,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999300673863729},{time:29.7275,note:"E2",pitch:82.2345099545153,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999264391112206},{time:29.744299999952315,note:"E2",pitch:82.19430411483188,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999297030893501},{time:29.760799999952315,note:"E2",pitch:82.15628666892329,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999265350968187},{time:29.777599999904634,note:"E2",pitch:82.12068542253074,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999326784388813},{time:29.794199999809265,note:"E2",pitch:82.0537441795839,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999147363903944},{time:29.810799999952316,note:"E2",pitch:81.9934530087355,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999124659344432},{time:29.8275,note:"E2",pitch:81.97818338767348,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999293940761476},{time:29.844099999904632,note:"E2",pitch:81.93792173130826,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999342090511618},{time:29.860899999856947,note:"E2",pitch:81.89791181217204,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.999927517939696},{time:29.8775,note:"E2",pitch:81.8868142675283,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999264778201677},{time:29.894199999809267,note:"E2",pitch:81.88265761567966,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999347112177475},{time:29.910899999856948,note:"E2",pitch:81.86786533491427,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999402581679533},{time:29.9275,note:"E2",pitch:81.86063529598952,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999469804133412},{time:29.945799999952317,note:"E2",pitch:81.85172041274329,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999569195223472},{time:29.965599999904633,note:"E2",pitch:81.84084513584895,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999483055621141},{time:29.98389999985695,note:"E2",pitch:81.83582986431789,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.999941517789253},{time:29.997599999904633,note:"E2",pitch:81.84206005714589,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.999936102001854},{time:30.011299999952318,note:"E2",pitch:81.8480416724357,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999381073029809},{time:30.0275,note:"E2",pitch:81.84446901991056,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999449416461346},{time:30.044199999809265,note:"E2",pitch:81.8382641087548,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999381200650532},{time:30.06089999985695,note:"E2",pitch:81.82511594525006,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999367101491714},{time:30.07759999990463,note:"E2",pitch:81.8149161759209,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999403545162124},{time:30.094299999952316,note:"E2",pitch:81.80294856510594,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999442898658089},{time:30.110899999856947,note:"E2",pitch:81.79894930544835,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999421487665359},{time:30.1275,note:"E2",pitch:81.79082033292032,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999412628518058},{time:30.144199999809267,note:"E2",pitch:81.78981551855179,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999566068937185},{time:30.160899999856948,note:"E2",pitch:81.80113677693683,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999530319631589},{time:30.1775,note:"E2",pitch:81.80848571255397,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999477131383117},{time:30.194199999809264,note:"E2",pitch:81.80451623945018,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999479430773306},{time:30.21089999985695,note:"E2",pitch:81.80509036343027,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999493175474612},{time:30.227599999904633,note:"E2",pitch:81.81132672283051,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999531441319647},{time:30.244099999904634,note:"E2",pitch:81.83061236358522,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999526036679356},{time:30.260799999952315,note:"E2",pitch:81.85938415128179,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999561264570787},{time:30.2775,note:"E2",pitch:81.86884819240942,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999414252651206},{time:30.294199999809265,note:"E2",pitch:81.8679633523228,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999297868414345},{time:30.310799999952316,note:"E2",pitch:81.87729109249993,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999566922000866},{time:30.3275,note:"E2",pitch:81.88541745476175,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999582998206336},{time:30.344199999809266,note:"E2",pitch:81.91257755546347,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999569901139722},{time:30.360799999952317,note:"E2",pitch:81.93720067481465,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999611656842688},{time:30.3775,note:"E2",pitch:81.95619594937268,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999598149197766},{time:30.394199999809267,note:"E2",pitch:81.98513078679458,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999357835274765},{time:30.410899999856948,note:"E2",pitch:82.00248971070744,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999497125158854},{time:30.4275,note:"E2",pitch:82.00571807535033,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999515156265915},{time:30.444199999809264,note:"E2",pitch:81.99759348930746,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999564566088566},{time:30.46089999985695,note:"E2",pitch:82.00296594463686,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999559372903661},{time:30.4775,note:"E2",pitch:82.00624785926223,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999567539507694},{time:30.494199999809265,note:"E2",pitch:82.00903080565655,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999523657330371},{time:30.510799999952315,note:"E2",pitch:82.01353208894014,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999557552345522},{time:30.5275,note:"E2",pitch:82.02020042740357,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999485208009133},{time:30.544199999809265,note:"E2",pitch:82.02781085453672,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999398317455643},{time:30.56089999985695,note:"E2",pitch:82.0184193600529,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999471146367256},{time:30.5775,note:"E2",pitch:82.01112117672197,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999531934939228},{time:30.594199999809266,note:"E2",pitch:82.01370887170772,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999613436293515},{time:30.6125,note:"E2",pitch:82.01066600961948,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.99995837678388},{time:30.6325,note:"E2",pitch:81.99958887020033,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999510728793126},{time:30.651099999904634,note:"E2",pitch:81.99891141968686,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999527028758308},{time:30.665199999809264,note:"E2",pitch:81.9966047167371,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999407368566011},{time:30.678299999952316,note:"E2",pitch:81.99366838167313,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999408818367783},{time:30.694099999904633,note:"E2",pitch:81.99684781345921,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999433491758083},{time:30.710799999952318,note:"E2",pitch:82.0202796678903,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999484121913014},{time:30.727599999904633,note:"E2",pitch:82.02388546407732,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999526230878644},{time:30.744199999809265,note:"E2",pitch:82.04246629774502,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.999939115872678},{time:30.76089999985695,note:"E2",pitch:82.08011541771023,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999623916279887},{time:30.7775,note:"E2",pitch:82.08392449237203,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999587750892402},{time:30.794199999809265,note:"E2",pitch:82.0927573976778,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999571019923224},{time:30.810799999952316,note:"E2",pitch:82.09730363935883,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999948788911226},{time:30.827399999856947,note:"E2",pitch:82.10494795155279,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999433802280606},{time:30.844199999809266,note:"E2",pitch:82.12806509098536,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999936276414644},{time:30.860899999856947,note:"E2",pitch:82.1437064513631,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999532699871878},{time:30.8775,note:"E2",pitch:82.15231977134258,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999466621270585},{time:30.894099999904633,note:"E2",pitch:82.14919208303718,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999414258418682},{time:30.910799999952317,note:"E2",pitch:82.15210129242816,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999274172962913},{time:30.9275,note:"E2",pitch:82.16927676076085,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999228926668451},{time:30.944199999809264,note:"E2",pitch:82.17270947669115,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999348045396914},{time:30.96089999985695,note:"E2",pitch:82.16372030744832,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999400592739676},{time:30.9775,note:"E2",pitch:82.16365356241798,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.999945895673477},{time:30.994199999809265,note:"E2",pitch:82.16945535475818,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999391322904359},{time:31.01089999985695,note:"E2",pitch:82.17822120240812,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999311401271598},{time:31.02739999985695,note:"E2",pitch:82.19288965676395,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999335585483777},{time:31.044199999809265,note:"E2",pitch:82.20711172909635,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999442401498868},{time:31.06089999985695,note:"E2",pitch:82.19845690828008,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999382340557332},{time:31.0775,note:"E2",pitch:82.18977655585572,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999441492015819},{time:31.094099999904632,note:"E2",pitch:82.20639751899611,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999327455941796},{time:31.110899999856947,note:"E2",pitch:82.21469548373854,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999944667967128},{time:31.1275,note:"E2",pitch:82.21438166049006,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999306299148145},{time:31.144099999904633,note:"E2",pitch:82.22694208973178,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.99994589017885},{time:31.160799999952317,note:"E2",pitch:82.22299301660875,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999331854829165},{time:31.1775,note:"E2",pitch:82.23299537233716,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999164427270415},{time:31.194099999904633,note:"E2",pitch:82.22971884585517,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999083869665242},{time:31.211,note:"E2",pitch:82.23486637998691,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999273219099223},{time:31.2275,note:"E2",pitch:82.2262666154996,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999341962738697},{time:31.244199999809265,note:"E2",pitch:82.2178759251138,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999932093065766},{time:31.26089999985695,note:"E2",pitch:82.23769460501394,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999288008155958},{time:31.282799999952317,note:"E2",pitch:82.24362576006672,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999330387441177},{time:31.302599999904633,note:"E2",pitch:82.2433743089876,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999190683097936},{time:31.319599999904632,note:"E2",pitch:82.24165354992829,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999367788228},{time:31.33389999985695,note:"E2",pitch:82.23321543184323,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999341447102381},{time:31.34759999990463,note:"E2",pitch:82.23841252746357,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999924707544082},{time:31.36139999985695,note:"E2",pitch:82.22981440713322,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999083514426417},{time:31.377599999904632,note:"E2",pitch:82.23033359130335,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998997344705316},{time:31.394099999904633,note:"E2",pitch:82.23748342385176,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998987790927742},{time:31.410799999952317,note:"E2",pitch:82.23351448559515,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999008312002502},{time:31.4275,note:"E2",pitch:82.23886035331869,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999172557635205},{time:31.444199999809264,note:"E2",pitch:82.22980749859177,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999262866985958},{time:31.4655,note:"E2",pitch:82.21132602139392,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998726194247354},{time:31.479699999809267,note:"E2",pitch:82.21746139816165,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998930087715507},{time:31.494099999904634,note:"E2",pitch:82.22587312800643,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999216921047775},{time:31.510799999952315,note:"E2",pitch:82.23038199617842,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999221500004154},{time:31.5275,note:"E2",pitch:82.2263571683442,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999217888182415},{time:31.54409999990463,note:"E2",pitch:82.23377464756081,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999106149741834},{time:31.560799999952316,note:"E2",pitch:82.21638708449576,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998802100808319},{time:31.5775,note:"E2",pitch:82.20625220331773,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998632046122538},{time:31.594199999809266,note:"E2",pitch:82.22923172960184,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998882109458123},{time:31.610699999809267,note:"E2",pitch:82.23480562102465,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999149181638813},{time:31.6275,note:"E2",pitch:82.23043784142858,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998886293746239},{time:31.644099999904633,note:"E2",pitch:82.22344132334061,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998703129627842},{time:31.660799999952317,note:"E2",pitch:82.23252714818798,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998732043705303},{time:31.677599999904633,note:"E2",pitch:82.24097980636134,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998801744268775},{time:31.694099999904633,note:"E2",pitch:82.22734689477704,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998862108301836},{time:31.710799999952318,note:"E2",pitch:82.24065286938307,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998902223473607},{time:31.727599999904633,note:"E2",pitch:82.24036937983713,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998333718593244},{time:31.744199999809265,note:"E2",pitch:82.21450868525572,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997925946348829},{time:31.76089999985695,note:"E2",pitch:82.23827196925801,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998463085167089},{time:31.7775,note:"E2",pitch:82.24997717040051,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998672085050799},{time:31.79409999990463,note:"E2",pitch:82.25900076810491,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9997952102018388},{time:31.81089999985695,note:"E2",pitch:82.2608359426805,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998690403004105},{time:31.8275,note:"E2",pitch:82.28242446226918,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999898420204417},{time:31.844099999904632,note:"E2",pitch:82.29170107779909,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998504758472677},{time:31.860799999952317,note:"E2",pitch:82.27253137921998,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998037494600993},{time:31.8775,note:"E2",pitch:82.29857129781409,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995406652179213},{time:31.894199999809267,note:"E2",pitch:82.5038312451979,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9927503586669104},{time:31.910799999952317,note:"E2",pitch:82.72129255252935,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9646766224341405},{time:31.9275,note:"E2",pitch:82.88197537367954,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9495315179474488},{time:31.944199999809264,note:"E2",pitch:82.86406126816082,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9359955582900668},{time:31.960799999952318,note:"E2",pitch:83.16304659805498,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9498640544161105},{time:31.977299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:31.994,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.01069999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.02759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.04969999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.070099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.088099999904635,note:"Eb3",pitch:151.23207583543928,noteMidi:51,actualMidi:50.51,actualMidiChroma:2.509999999999998,centsOffset:-49.0000000000002,clarity:.19849424696199858},{time:32.102299999952315,note:"E2",pitch:82.28090947481762,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.8156429127778608},{time:32.116,note:"E2",pitch:82.3161984410137,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9105312045023197},{time:32.129899999856946,note:"E2",pitch:82.37544992669586,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999715988427738},{time:32.14419999980927,note:"E2",pitch:82.3917308038144,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997555761719497},{time:32.16089999985695,note:"E2",pitch:82.36666541968395,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998377194406913},{time:32.1775,note:"E2",pitch:82.3445392945485,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998377404289727},{time:32.19409999990463,note:"E2",pitch:82.32496149908742,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998023550788275},{time:32.211,note:"E2",pitch:82.33388045572393,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998256182958016},{time:32.2275,note:"E2",pitch:82.33952374261055,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998269401678073},{time:32.244099999904634,note:"E2",pitch:82.3260545132346,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997964474400618},{time:32.260899999856946,note:"E2",pitch:82.28233190535353,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998416272758277},{time:32.2775,note:"E2",pitch:82.27743068787748,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998633220152016},{time:32.294199999809265,note:"E2",pitch:82.28796532427938,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999819761683753},{time:32.310799999952316,note:"E2",pitch:82.31080304260296,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998644681921149},{time:32.3275,note:"E2",pitch:82.3025599758182,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998853131009469},{time:32.344099999904635,note:"E2",pitch:82.29234610896825,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998894773047482},{time:32.36089999985695,note:"E2",pitch:82.2876140802944,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998643803656506},{time:32.37739999985695,note:"E2",pitch:82.29500471253534,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998738447470146},{time:32.39419999980927,note:"E2",pitch:82.29795388376702,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999032378263877},{time:32.41079999995232,note:"E2",pitch:82.29584786319514,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998862699648043},{time:32.4275,note:"E2",pitch:82.29294914962168,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998843155747466},{time:32.44409999990463,note:"E2",pitch:82.28396922669761,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998959280647028},{time:32.460799999952314,note:"E2",pitch:82.27817015549945,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998878425035258},{time:32.4775,note:"E2",pitch:82.27056691560341,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999002395478414},{time:32.49419999980927,note:"E2",pitch:82.26968730589371,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999216733529437},{time:32.51079999995232,note:"E2",pitch:82.27720322239811,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999098430987772},{time:32.52739999985695,note:"E2",pitch:82.28688721578138,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999900389909854},{time:32.54409999990463,note:"E2",pitch:82.28668169406262,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999153496631976},{time:32.560799999952316,note:"E2",pitch:82.27468053410108,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999248309254796},{time:32.57739999985695,note:"E2",pitch:82.27782901423866,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999208324671685},{time:32.59419999980926,note:"E2",pitch:82.2871879388496,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999306971346158},{time:32.61079999995231,note:"E2",pitch:82.29308102213822,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999931684235591},{time:32.6275,note:"E2",pitch:82.2891004886441,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999286459876231},{time:32.64409999990463,note:"E2",pitch:82.27423395998227,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.99992036734659},{time:32.66079999995232,note:"E2",pitch:82.27908631500021,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999929652319139},{time:32.6775,note:"E2",pitch:82.28240693183997,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999928807616854},{time:32.69409999990463,note:"E2",pitch:82.29534743778949,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999218833067829},{time:32.710799999952314,note:"E2",pitch:82.28839088990954,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999470715149528},{time:32.7275,note:"E2",pitch:82.28042342622518,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999371497136735},{time:32.74419999980927,note:"E2",pitch:82.26565780113799,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999283011448057},{time:32.76079999995232,note:"E2",pitch:82.25905808264065,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999324288474156},{time:32.7775,note:"E2",pitch:82.26323260338923,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999446884044829},{time:32.79409999990463,note:"E2",pitch:82.26110985299799,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999377010317403},{time:32.810799999952316,note:"E2",pitch:82.27569494740692,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999312722599996},{time:32.8275,note:"E2",pitch:82.2733673445832,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999507880371397},{time:32.84429999995232,note:"E2",pitch:82.26359218673677,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999431818551869},{time:32.86789999985695,note:"E2",pitch:82.27054660325815,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999501158398658},{time:32.88819999980927,note:"E2",pitch:82.28655978630759,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999466978827627},{time:32.90839999985695,note:"E2",pitch:82.30000492793215,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999437322965434},{time:32.923099999904636,note:"E2",pitch:82.30814191038155,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999366783016086},{time:32.937599999904634,note:"E2",pitch:82.31632385409588,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999453737189299},{time:32.95269999980926,note:"E2",pitch:82.28382413080048,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999267807338299},{time:32.96709999990463,note:"E2",pitch:82.27079236812374,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999258769296517},{time:32.981799999952315,note:"E2",pitch:82.26836408555224,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999428046330081},{time:32.99639999985695,note:"E2",pitch:82.27572031240129,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999552230709412},{time:33.010899999856946,note:"E2",pitch:82.28880729366855,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999944830320203},{time:33.0275,note:"E2",pitch:82.29767767881023,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999389878500722},{time:33.04409999990463,note:"E2",pitch:82.30839979052293,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999401919542237},{time:33.060799999952316,note:"E2",pitch:82.30186645506713,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999356148794618},{time:33.07739999985695,note:"E2",pitch:82.2938872533131,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999360412995486},{time:33.094099999904635,note:"E2",pitch:82.29520005590706,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999465190970653},{time:33.11079999995231,note:"E2",pitch:82.30262130370403,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999949623773702},{time:33.12739999985695,note:"E2",pitch:82.31382773770984,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999434078147971},{time:33.14409999990463,note:"E2",pitch:82.32904304162456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999390441791007},{time:33.16069999980927,note:"E2",pitch:82.31939394926275,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999395378818576},{time:33.1775,note:"E2",pitch:82.30650258572425,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999355620929009},{time:33.19409999990463,note:"E2",pitch:82.30159095253218,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999171413406458},{time:33.210799999952314,note:"E2",pitch:82.31712389159694,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999409134385928},{time:33.2275,note:"E2",pitch:82.30770304940671,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999361167390077},{time:33.244,note:"E2",pitch:82.32006937084498,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999316662884752},{time:33.26079999995232,note:"E2",pitch:82.34242453704442,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999569371838106},{time:33.2775,note:"E2",pitch:82.34686527297683,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999617752503553},{time:33.29409999990463,note:"E2",pitch:82.33945802062924,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999414809561955},{time:33.310799999952316,note:"E2",pitch:82.32742684865093,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999146212803112},{time:33.32739999985695,note:"E2",pitch:82.34466877519519,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998887072268445},{time:33.344099999904635,note:"E2",pitch:82.3473301864114,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999899850260789},{time:33.36079999995231,note:"E2",pitch:82.36105099710967,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999164986781182},{time:33.37759999990463,note:"E2",pitch:82.36538835104966,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999364152544388},{time:33.39409999990463,note:"E2",pitch:82.35852181327711,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999440101376962},{time:33.41069999980927,note:"E2",pitch:82.35534993867422,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999179557826352},{time:33.42739999985695,note:"E2",pitch:82.35507968246081,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999344890492097},{time:33.444,note:"E2",pitch:82.37688400861778,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999511586677698},{time:33.460799999952314,note:"E2",pitch:82.38635395966926,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999302465495958},{time:33.4775,note:"E2",pitch:82.38674830541696,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999910807838333},{time:33.494,note:"E2",pitch:82.39441081529972,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998977714003701},{time:33.51079999995232,note:"E2",pitch:82.36533725838,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999025919135676},{time:33.5275,note:"E2",pitch:82.36239453595822,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99990191750409},{time:33.54409999990463,note:"E2",pitch:82.38027669759434,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999911575699727},{time:33.560699999809266,note:"E2",pitch:82.39531654924619,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999383174742036},{time:33.57739999985695,note:"E2",pitch:82.39418032101182,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999079020469992},{time:33.594099999904635,note:"E2",pitch:82.38882342238225,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998825770666997},{time:33.61079999995231,note:"E2",pitch:82.38039671148191,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999902848425009},{time:33.6275,note:"E2",pitch:82.36907595462888,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998840188046074},{time:33.64409999990463,note:"E2",pitch:82.37909304932609,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998725659743855},{time:33.66069999980927,note:"E2",pitch:82.40841240618039,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999172150723012},{time:33.67739999985695,note:"E2",pitch:82.41526315871916,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999279791909714},{time:33.69409999990463,note:"E2",pitch:82.39390439443747,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998562538967661},{time:33.710699999809265,note:"E2",pitch:82.38580998958942,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998304415906176},{time:33.7275,note:"E2",pitch:82.38660458804466,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999909032770816},{time:33.744099999904634,note:"E2",pitch:82.36830290395503,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998930680672515},{time:33.7685,note:"E2",pitch:82.40122170323816,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997951016266882},{time:33.789,note:"E2",pitch:82.41203468765296,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998397637183842},{time:33.808399999856945,note:"E2",pitch:82.37447698744771,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998080463636398},{time:33.82439999985695,note:"E2",pitch:82.37077702938416,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999813287090447},{time:33.8385,note:"E2",pitch:82.37638327875224,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998466678661373},{time:33.85359999990463,note:"E2",pitch:82.33825542240832,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999852048052901},{time:33.86809999990463,note:"E2",pitch:82.34609760968425,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997260068285385},{time:33.88309999990463,note:"E2",pitch:82.37529021828495,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996682869769842},{time:33.89739999985695,note:"E2",pitch:82.36921249706991,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997874816560852},{time:33.912599999904636,note:"E2",pitch:82.32739714472997,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999804583101664},{time:33.92739999985695,note:"E2",pitch:82.32908803539874,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996467761700671},{time:33.94409999990463,note:"E2",pitch:82.37646201987644,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999435900507919},{time:33.960699999809265,note:"E2",pitch:82.34613959967956,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999769650555848},{time:33.9775,note:"E2",pitch:82.33633622142386,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997112147033818},{time:33.994099999904634,note:"E2",pitch:82.36953418396948,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994882125191538},{time:34.01079999995232,note:"E2",pitch:82.38766129256854,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9996178246304623},{time:34.02739999985695,note:"E2",pitch:82.32780369902011,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.99970068605775},{time:34.04409999990463,note:"E2",pitch:82.34068467101193,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994176175254381},{time:34.060699999809266,note:"E2",pitch:82.47841022291809,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957110617841067},{time:34.0775,note:"E2",pitch:82.56958040338908,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9693906509694727},{time:34.094099999904635,note:"E2",pitch:83.36423727457307,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8444447805676774},{time:34.11069999980926,note:"F2",pitch:86.47109223645941,noteMidi:41,actualMidi:40.83,actualMidiChroma:4.829999999999998,centsOffset:-17.00000000000017,clarity:.7865511659642195},{time:34.12739999985695,note:"F2",pitch:88.3583304858632,noteMidi:41,actualMidi:41.21,actualMidiChroma:5.210000000000001,centsOffset:21.000000000000085,clarity:.8669940730759862},{time:34.14389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:34.16079999995232,note:"E2",pitch:82.99660549688696,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.3772884661543827},{time:34.17729999995232,note:"E2",pitch:82.55645180158807,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.7845067782985495},{time:34.194,note:"E2",pitch:82.40075407430261,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9917642179644872},{time:34.210699999809265,note:"E2",pitch:82.37543626873692,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996195372996084},{time:34.22739999985695,note:"E2",pitch:82.37802011159448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996627601922654},{time:34.244099999904634,note:"E2",pitch:82.33999944909749,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995613321127337},{time:34.26069999980926,note:"E2",pitch:82.31547483075695,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999605421447086},{time:34.2775,note:"E2",pitch:82.32162166319047,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997328469679445},{time:34.29409999990463,note:"E2",pitch:82.3256437230474,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994197182211195},{time:34.310699999809266,note:"E2",pitch:82.29256583806618,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994139771708035},{time:34.3275,note:"E2",pitch:82.30175830157279,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996113499565098},{time:34.344099999904635,note:"E2",pitch:82.30792709655144,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994980541374758},{time:34.36069999980926,note:"E2",pitch:82.31916252033501,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9993309562327966},{time:34.3775,note:"E2",pitch:82.31586610254769,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995524777811653},{time:34.39409999990463,note:"E2",pitch:82.33100909274704,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999555402051655},{time:34.41069999980927,note:"E2",pitch:82.3118563042361,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999140110855194},{time:34.42739999985695,note:"E2",pitch:82.29333905594878,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992562977778903},{time:34.44409999990463,note:"E2",pitch:82.31598089838087,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996919834481304},{time:34.460799999952314,note:"E2",pitch:82.31243713428668,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987729281013316},{time:34.47739999985695,note:"E2",pitch:82.32030996057539,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980678056411278},{time:34.494099999904634,note:"E2",pitch:82.34066731402977,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992544652521218},{time:34.51079999995232,note:"E2",pitch:82.33359906371456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992524509165719},{time:34.52739999985695,note:"E2",pitch:82.31026963181013,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989925956370485},{time:34.54409999990463,note:"E2",pitch:82.2957026823459,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992747205778869},{time:34.560699999809266,note:"E2",pitch:82.33088645120951,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992145319207566},{time:34.57739999985695,note:"E2",pitch:82.31446039761963,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9983883181226929},{time:34.594,note:"E2",pitch:82.2768150861973,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9976312657882858},{time:34.61069999980926,note:"E2",pitch:82.31629603382353,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999194715628235},{time:34.62759999990463,note:"E2",pitch:82.31572100174448,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987447297778687},{time:34.65219999980926,note:"E2",pitch:82.29111668797309,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9981606108506327},{time:34.67339999985695,note:"E2",pitch:82.2996318199665,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999177525123315},{time:34.69489999985695,note:"E2",pitch:82.2791598424398,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.998287002564993},{time:34.71019999980926,note:"E2",pitch:82.26803478596092,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9986018078937633},{time:34.725,note:"E2",pitch:82.3124946872314,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991429279470196},{time:34.73979999995232,note:"E2",pitch:82.2935001077256,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9974994851196044},{time:34.754899999856946,note:"E2",pitch:82.28187882659705,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.996128417403753},{time:34.76969999980926,note:"E2",pitch:82.29499226334104,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980643643346383},{time:34.785,note:"E2",pitch:82.31692852701235,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9984212963173036},{time:34.79989999985695,note:"E2",pitch:82.29973350414485,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975847055242468},{time:34.815199999809266,note:"E2",pitch:82.30780221842045,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9967305930807555},{time:34.83009999990463,note:"E2",pitch:82.30815640637066,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986031150572074},{time:34.84539999985695,note:"E2",pitch:82.32901851352449,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987221468275465},{time:34.86069999980926,note:"E2",pitch:82.31304665762813,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9971290025120823},{time:34.87739999985695,note:"E2",pitch:82.30638752822084,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9961333269515222},{time:34.89409999990463,note:"E2",pitch:82.32618237779,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985306741378679},{time:34.91069999980927,note:"E2",pitch:82.32655446029742,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9963525088278544},{time:34.92739999985695,note:"E2",pitch:82.33846286800235,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942356998943893},{time:34.94409999990463,note:"E2",pitch:82.32562851152284,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9968689394209065},{time:34.960699999809265,note:"E2",pitch:82.39705208541724,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965762131868559},{time:34.97739999985695,note:"E2",pitch:82.5158525506318,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9902402021229477},{time:34.994099999904634,note:"E2",pitch:82.98487927174452,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9174545824432556},{time:35.01069999980926,note:"E2",pitch:83.87613859810227,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.7218601782635972},{time:35.02739999985695,note:"F2",pitch:85.82801215672511,noteMidi:41,actualMidi:40.7,actualMidiChroma:4.700000000000003,centsOffset:-29.999999999999716,clarity:.5268517320793578},{time:35.04389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.06059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.07729999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.094,note:"C3",pitch:131.70190634180844,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.5982418961995464},{time:35.11069999980926,note:"E2",pitch:82.43424111897691,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.781085270689232},{time:35.1275,note:"E2",pitch:82.36352931294721,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.8971018043529995},{time:35.144,note:"E2",pitch:82.39840322099646,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973628982142202},{time:35.16069999980927,note:"E2",pitch:82.39841754710197,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9991976427785971},{time:35.17739999985695,note:"E2",pitch:82.37763802492515,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994411875392757},{time:35.19409999990463,note:"E2",pitch:82.34040785222486,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987601757595712},{time:35.210699999809265,note:"E2",pitch:82.3402921214343,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989934322569667},{time:35.22739999985695,note:"E2",pitch:82.3468678328552,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992186147028974},{time:35.244,note:"E2",pitch:82.35835368019836,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9981629298270036},{time:35.26069999980926,note:"E2",pitch:82.36018708287351,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979390937400439},{time:35.27739999985695,note:"E2",pitch:82.35808494711617,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987988050890948},{time:35.294,note:"E2",pitch:82.35774246740716,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9986798446127096},{time:35.310699999809266,note:"E2",pitch:82.38510471629769,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971926093760288},{time:35.32729999995232,note:"E2",pitch:82.38188473274468,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978431440833333},{time:35.344099999904635,note:"E2",pitch:82.371429248307,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990449905659773},{time:35.36069999980926,note:"E2",pitch:82.3634657737181,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998532648912331},{time:35.37739999985695,note:"E2",pitch:82.39261582463945,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9982429933548218},{time:35.394,note:"E2",pitch:82.40403125728882,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999250283669781},{time:35.41069999980927,note:"E2",pitch:82.35474781263703,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9983459584238261},{time:35.42729999995232,note:"E2",pitch:82.34514568577761,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980114168413223},{time:35.44409999990463,note:"E2",pitch:82.35899509219738,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998765402454552},{time:35.46059999990463,note:"E2",pitch:82.37443399600956,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982358937181033},{time:35.477299999952315,note:"E2",pitch:82.38021898910975,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9974484994386899},{time:35.494,note:"E2",pitch:82.42329774115295,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974496053227568},{time:35.51109999990463,note:"E2",pitch:82.36932352526665,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988831846613095},{time:35.53629999995232,note:"E2",pitch:82.36954216213525,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998060590030903},{time:35.55909999990463,note:"E2",pitch:82.3968255698222,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983639357680119},{time:35.57989999985695,note:"E2",pitch:82.36713089478677,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982659317789171},{time:35.59659999990463,note:"E2",pitch:82.38191655920323,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975530548000933},{time:35.61179999995232,note:"E2",pitch:82.39673408261274,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986423453597979},{time:35.62739999985695,note:"E2",pitch:82.39499589984621,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9988671099134336},{time:35.646799999952314,note:"E2",pitch:82.36015008603466,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969510091580958},{time:35.662,note:"E2",pitch:82.42896005546741,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969140480564818},{time:35.67769999980926,note:"E2",pitch:82.40132822038977,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980559476850317},{time:35.69409999990463,note:"E2",pitch:82.36397773748448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9973138075882702},{time:35.71059999990463,note:"E2",pitch:82.40194149334957,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9960653485379822},{time:35.727299999952315,note:"E2",pitch:82.42781317812036,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9976073880333445},{time:35.744,note:"E2",pitch:82.39148404597547,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9972620749391155},{time:35.76069999980926,note:"E2",pitch:82.3830670347711,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9958520876693768},{time:35.77729999995232,note:"E2",pitch:82.49173842845599,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9947160508601058},{time:35.794,note:"E2",pitch:82.87117702950957,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9052183086809578},{time:35.810699999809266,note:"E2",pitch:84.29271299512659,noteMidi:40,actualMidi:40.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.5492001624822151},{time:35.82729999995232,note:"F3",pitch:178.3731909068759,noteMidi:53,actualMidi:53.37,actualMidiChroma:5.369999999999997,centsOffset:36.999999999999744,clarity:.5073908275175771},{time:35.84389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.860599999904636,note:"Bb3",pitch:229.62633536540923,noteMidi:58,actualMidi:57.74,actualMidiChroma:9.740000000000002,centsOffset:-25.9999999999998,clarity:.3764694465405718},{time:35.877299999952314,note:"E2",pitch:83.86363753222084,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.6737958812825724},{time:35.894,note:"E2",pitch:82.45816008773483,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9384725107144618},{time:35.91059999990463,note:"E2",pitch:82.47507406462054,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9981467862829447},{time:35.92729999995232,note:"E2",pitch:82.46328168922327,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.998281083205768},{time:35.944,note:"E2",pitch:82.3849593517507,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986517203434175},{time:35.96059999990463,note:"E2",pitch:82.39716963652371,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9995109670306448},{time:35.977299999952315,note:"E2",pitch:82.41408657969582,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989708098543133},{time:35.994,note:"E2",pitch:82.40386935599147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998027842255965},{time:36.01069999980926,note:"E2",pitch:82.38185767183374,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992151828769664},{time:36.02739999985695,note:"E2",pitch:82.39024756717615,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9993035029454234},{time:36.044,note:"E2",pitch:82.39110480185438,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9988718063690385},{time:36.060699999809266,note:"E2",pitch:82.36562733148274,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990930612393925},{time:36.07729999995232,note:"E2",pitch:82.40264149052268,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9994266212792837},{time:36.094,note:"E2",pitch:82.42395807819287,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9982430879751121},{time:36.11079999995231,note:"E2",pitch:82.36987483096074,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976645119468088},{time:36.127299999952314,note:"E2",pitch:82.37130838807018,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988400320407322},{time:36.144,note:"E2",pitch:82.41273286383871,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983315672739081},{time:36.16069999980927,note:"E2",pitch:82.40014372118091,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9962461178385809},{time:36.17729999995232,note:"E2",pitch:82.36517506452162,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976465271182491},{time:36.194,note:"E2",pitch:82.4065677906996,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9991301678487048},{time:36.210699999809265,note:"E2",pitch:82.38628975632591,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980151305596081},{time:36.227299999952315,note:"E2",pitch:82.3703223241908,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978495168585084},{time:36.244099999904634,note:"E2",pitch:82.39025199768442,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989980913485255},{time:36.260599999904635,note:"E2",pitch:82.4228913121043,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9966801232286429},{time:36.27729999995232,note:"E2",pitch:82.42572859948083,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949048821980568},{time:36.294,note:"E2",pitch:82.36670630429167,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979110387087928},{time:36.310699999809266,note:"E2",pitch:82.41874230478588,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964104105247458},{time:36.327599999904635,note:"E2",pitch:82.3936987699521,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948211276223873},{time:36.35319999980926,note:"E2",pitch:82.38140961080101,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978157653664397},{time:36.374799999952316,note:"E2",pitch:82.41333615374243,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9958890671640575},{time:36.39569999980927,note:"E2",pitch:82.38249897515182,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942894756585758},{time:36.41139999985695,note:"E2",pitch:82.39671798002023,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998131179661911},{time:36.42789999985695,note:"E2",pitch:82.43934785361706,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958411613464051},{time:36.44439999985695,note:"E2",pitch:82.42988578745314,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928735257144439},{time:36.460699999809265,note:"E2",pitch:82.3793925689011,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965657831132688},{time:36.477299999952315,note:"E2",pitch:82.39898367504809,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974957782981733},{time:36.494,note:"E2",pitch:82.39851564204318,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929894992620092},{time:36.510599999904635,note:"E2",pitch:82.36161091915297,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942705360724347},{time:36.52729999995232,note:"E2",pitch:82.3818568308865,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9967115535516058},{time:36.544,note:"E2",pitch:82.40770223796733,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948313628189425},{time:36.560699999809266,note:"E2",pitch:82.36424026406137,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927968310556992},{time:36.57729999995232,note:"E2",pitch:82.36040232413163,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960611700899165},{time:36.594,note:"E2",pitch:82.42621676872179,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9956041292636257},{time:36.61069999980926,note:"E2",pitch:82.38475749062647,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9920920829475932},{time:36.627299999952314,note:"E2",pitch:82.33677701695949,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9939688151302164},{time:36.644,note:"E2",pitch:82.36859972593443,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969275452763071},{time:36.66069999980927,note:"E2",pitch:82.39945434022853,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9910673294661763},{time:36.67729999995232,note:"E2",pitch:82.40931259198668,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9863893260398413},{time:36.694,note:"E2",pitch:82.38530275880883,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9950061872072951},{time:36.710699999809265,note:"E2",pitch:82.4004446431074,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9933284748950797},{time:36.727299999952315,note:"E2",pitch:82.38797776084434,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9917298721083512},{time:36.744,note:"E2",pitch:82.3552380244492,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9947443651268202},{time:36.76069999980926,note:"E2",pitch:82.40276485711533,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940883525866013},{time:36.77729999995232,note:"E2",pitch:82.38417905316773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9930472236216872},{time:36.794,note:"E2",pitch:82.35342836064638,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9917984213386148},{time:36.810699999809266,note:"E2",pitch:82.34695229863522,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960784778834864},{time:36.82739999985695,note:"E2",pitch:82.3907816721339,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9926510994720843},{time:36.844,note:"E2",pitch:82.39311906249773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9873789789045304},{time:36.86069999980926,note:"E2",pitch:82.37846129308979,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994540357083622},{time:36.87739999985695,note:"E2",pitch:82.37940933025729,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9953094560384841},{time:36.894,note:"E2",pitch:82.37186833623555,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9911126551474894},{time:36.91079999995232,note:"E2",pitch:82.36192604296421,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924306857524243},{time:36.92739999985695,note:"E2",pitch:82.37414765704453,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9950466966061242},{time:36.944,note:"E2",pitch:82.36244728000904,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.992407520943928},{time:36.960699999809265,note:"E2",pitch:82.36321609432109,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.990448532385642},{time:36.97739999985695,note:"E2",pitch:82.36481135002258,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9932946234632425},{time:36.99419999980927,note:"E2",pitch:82.35926779612373,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9933946415610109},{time:37.01079999995232,note:"E2",pitch:82.40096479580475,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9891939811870145},{time:37.02729999995232,note:"E2",pitch:82.39092564088092,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9926329100572673},{time:37.044,note:"E2",pitch:82.48002702922108,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9908392634699652},{time:37.06089999985695,note:"E2",pitch:82.86681960942613,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.865595134407755},{time:37.08789999985695,note:"E2",pitch:84.15617759316306,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.44560019495531833},{time:37.1095,note:"E2",pitch:82.23800890454747,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.5276207642939852},{time:37.129,note:"E2",pitch:82.37667432186967,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.7517943650737067},{time:37.145,note:"E2",pitch:82.53081149914135,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9513206175775508},{time:37.16089999985695,note:"E2",pitch:82.49378924634533,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9865961513565367},{time:37.17729999995232,note:"E2",pitch:82.41546237748081,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9912229013816898},{time:37.194,note:"E2",pitch:82.44551414079008,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9942633252539963},{time:37.21059999990463,note:"E2",pitch:82.45515805477338,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9914810184567386},{time:37.22739999985695,note:"E2",pitch:82.41022783527676,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9942958597352458},{time:37.244,note:"E2",pitch:82.41798656163787,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9967348917793402},{time:37.26069999980926,note:"E2",pitch:82.4080632061651,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940553245477304},{time:37.27729999995232,note:"E2",pitch:82.39761981383135,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99194782048599},{time:37.294,note:"E2",pitch:82.41296805340427,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964128543414006},{time:37.310699999809266,note:"E2",pitch:82.44582485472509,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934416008982794},{time:37.32729999995232,note:"E2",pitch:82.479838812994,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9913243880903906},{time:37.344,note:"E2",pitch:82.39416490621907,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948396371009096},{time:37.360599999904636,note:"E2",pitch:82.38750686923147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9943312759785101},{time:37.37739999985695,note:"E2",pitch:82.41185847150227,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.992157505973239},{time:37.394,note:"E2",pitch:82.4763587539136,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9919581097707351},{time:37.41069999980927,note:"E2",pitch:82.40937378374078,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951462457837295},{time:37.42729999995232,note:"E2",pitch:82.39199592430697,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9942568737989461},{time:37.444,note:"E2",pitch:82.43172126317656,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9915582990690552},{time:37.460799999952314,note:"E2",pitch:82.44316656100173,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959597855158648},{time:37.47769999980927,note:"E2",pitch:82.41860291833473,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948693541257114},{time:37.49419999980927,note:"E2",pitch:82.42377835852268,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9920987084080366},{time:37.51069999980926,note:"E2",pitch:82.40870745369874,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.994660035596155},{time:37.52729999995232,note:"E2",pitch:82.40922650932636,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9962506549108667},{time:37.544,note:"E2",pitch:82.41770576568831,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929813864704329},{time:37.56059999990463,note:"E2",pitch:82.49711034786162,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9929355853149673},{time:37.57729999995232,note:"E2",pitch:82.43986401462011,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9949207494295536},{time:37.594,note:"E2",pitch:82.38484848730839,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935952887425401},{time:37.61069999980926,note:"E2",pitch:82.47889270347264,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9912114060317379},{time:37.627299999952314,note:"E2",pitch:82.51053471063301,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9944362191662037},{time:37.644,note:"E2",pitch:82.4529847051143,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934937322154269},{time:37.66079999995232,note:"E2",pitch:82.42869986669271,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9910661552331419},{time:37.67729999995232,note:"E2",pitch:82.4642687873824,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9919662067627542},{time:37.69409999990463,note:"E2",pitch:82.43857537580521,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9950026415836817},{time:37.710799999952314,note:"E2",pitch:82.4134068148682,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9919298635154234},{time:37.727299999952315,note:"E2",pitch:82.45965230440312,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989833015113021},{time:37.744,note:"E2",pitch:82.4746161978185,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943624170360295},{time:37.76069999980926,note:"E2",pitch:82.37636060174223,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9923606129763414},{time:37.77729999995232,note:"E2",pitch:82.40876992666988,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9911457217723978},{time:37.794,note:"E2",pitch:82.48586202976033,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9936534033606677},{time:37.810699999809266,note:"E2",pitch:82.41157024227194,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9903539756104891},{time:37.8275,note:"E2",pitch:82.38844397595138,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9874826747438163},{time:37.84589999985695,note:"E2",pitch:82.31711092384508,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9898001397349816},{time:37.86169999980927,note:"E2",pitch:82.37239993275017,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960955679959795},{time:37.87819999980927,note:"E2",pitch:82.35951173570773,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.996882598543138},{time:37.894899999856946,note:"E2",pitch:82.3552774555303,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9972218758695135},{time:37.922,note:"E2",pitch:82.37395702848936,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998863175438402},{time:37.943899999856946,note:"E2",pitch:82.37544678066216,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998778707749381},{time:37.9655,note:"E2",pitch:82.35470174687552,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998878606619712},{time:37.982599999904636,note:"E2",pitch:82.3609869358568,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999254799004689},{time:37.999199999809264,note:"E2",pitch:82.34963048610624,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998971195151967},{time:38.015799999952314,note:"E2",pitch:82.34115960287157,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998829935239684},{time:38.0315,note:"E2",pitch:82.32813601965998,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999225000099727},{time:38.048,note:"E2",pitch:82.32149505114026,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999208354124249},{time:38.06429999995232,note:"E2",pitch:82.30028568887957,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999102828033415},{time:38.08079999995232,note:"E2",pitch:82.2818045049358,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999894465769259},{time:38.097799999952315,note:"E2",pitch:82.2906892241667,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999188287376768},{time:38.11369999980926,note:"E2",pitch:82.29236704895477,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999214970894599},{time:38.130299999952314,note:"E2",pitch:82.30746400338472,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999071704349234},{time:38.146399999856946,note:"E2",pitch:82.29396214729076,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999912877981572},{time:38.16289999985695,note:"E2",pitch:82.27200518440632,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999208193572571},{time:38.1795,note:"E2",pitch:82.2538614549947,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998675986178966},{time:38.1955,note:"E2",pitch:82.24136723797588,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998826807251362},{time:38.21239999985695,note:"E2",pitch:82.23244314126089,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999266111151002},{time:38.22919999980927,note:"E2",pitch:82.19748844559585,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998682098309786},{time:38.24509999990463,note:"E2",pitch:82.14721609058375,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998286402456102},{time:38.26229999995232,note:"E2",pitch:82.10619045547483,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999031608203666},{time:38.279,note:"E2",pitch:82.06103648749456,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998820434222608},{time:38.29479999995232,note:"E2",pitch:82.01972137382218,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.999879832904341},{time:38.311799999952314,note:"E2",pitch:82.02555978865098,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999027884869918},{time:38.32839999985695,note:"E2",pitch:82.02883846096941,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9998993710528197},{time:38.34429999995232,note:"E2",pitch:82.0468156603187,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999093128496384},{time:38.361299999952315,note:"E2",pitch:82.04874173919427,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9998912563810904},{time:38.3785,note:"E2",pitch:82.09110847963198,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998860150479914},{time:38.39439999985695,note:"E2",pitch:82.12371741583397,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999173787260673},{time:38.41159999990463,note:"E2",pitch:82.14682242415188,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998753591938936},{time:38.42869999980927,note:"E2",pitch:82.1349227821273,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998738315107545},{time:38.4445,note:"E2",pitch:82.12191045103052,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999091279695875},{time:38.4615,note:"E2",pitch:82.1521833382176,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998544933210667},{time:38.47829999995231,note:"E2",pitch:82.14802985850633,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998790905229811},{time:38.49429999995232,note:"E2",pitch:82.1430291951726,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999203192722774},{time:38.51159999990463,note:"E2",pitch:82.13425014581253,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999267324068768},{time:38.528599999904635,note:"E2",pitch:82.10846914754374,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998850432446744},{time:38.5445,note:"E2",pitch:82.1188587591198,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999228910508151},{time:38.56189999985695,note:"E2",pitch:82.09995664918624,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999327659885893},{time:38.57889999985695,note:"E2",pitch:82.10714634425065,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999094402235045},{time:38.59509999990463,note:"E2",pitch:82.10047187716985,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999237505254541},{time:38.61209999990463,note:"E2",pitch:82.10424688752427,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999251949190011},{time:38.62909999990463,note:"E2",pitch:82.11540401644886,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999268097570564},{time:38.64539999985695,note:"E2",pitch:82.11263979537102,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999046113031511},{time:38.67389999985695,note:"E2",pitch:82.15956493574103,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9996430126946336},{time:38.696,note:"E2",pitch:82.16876469913439,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9990697859346085},{time:38.71769999980926,note:"E2",pitch:82.13650687463691,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999860710261288},{time:38.7355,note:"E2",pitch:82.13576391050323,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999360186881745},{time:38.752,note:"E2",pitch:82.129552393099,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998670018114524},{time:38.76909999990463,note:"E2",pitch:82.11682361832985,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998414055686169},{time:38.786,note:"E2",pitch:82.10129991582187,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998923938438367},{time:38.80279999995231,note:"E2",pitch:82.08668507623963,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998954027407336},{time:38.81939999985695,note:"E2",pitch:82.0828188004235,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998752433779146},{time:38.8365,note:"E2",pitch:82.07058036297516,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998366699144015},{time:38.85339999985695,note:"E2",pitch:82.08527694977536,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998613569752166},{time:38.87,note:"E2",pitch:82.07798847576626,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998395038883672},{time:38.88689999985695,note:"E2",pitch:82.07272860240333,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998082302613795},{time:38.90379999995232,note:"E2",pitch:82.07993368683324,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998718542128131},{time:38.92059999990463,note:"E2",pitch:82.09161002696395,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997924939302294},{time:38.93769999980927,note:"E2",pitch:82.08749327965731,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996987751817983},{time:38.95459999990463,note:"E2",pitch:82.05225737665013,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997062206219596},{time:38.97139999985695,note:"E2",pitch:82.09164904969732,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998532239369524},{time:38.98879999995231,note:"E2",pitch:82.08404142038914,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997834586817902},{time:39.005799999952316,note:"E2",pitch:82.06456074897193,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996337537372142},{time:39.02279999995232,note:"E2",pitch:82.11468004115798,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997663869451401},{time:39.04009999990463,note:"E2",pitch:82.11122242575944,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995890350809162},{time:39.05729999995231,note:"E2",pitch:82.10341141425047,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995035364676568},{time:39.0745,note:"E2",pitch:82.10677909433022,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997238590314623},{time:39.091699999809265,note:"E2",pitch:82.14044728981705,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996545630040288},{time:39.10879999995232,note:"E2",pitch:82.11212627506674,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993715141934132},{time:39.125799999952314,note:"E2",pitch:82.0713673351546,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9993105166036571},{time:39.143099999904635,note:"E2",pitch:82.14104476305496,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996704429886165},{time:39.16,note:"E2",pitch:82.09258210211907,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996171684512234},{time:39.176799999952316,note:"E2",pitch:82.08767861827074,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995126194460511},{time:39.194,note:"E2",pitch:82.09211721937686,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999496660411836},{time:39.21089999985695,note:"E2",pitch:82.08879788218512,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992515416769407},{time:39.22779999995232,note:"E2",pitch:82.06598532941257,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9990145891546405},{time:39.24479999995231,note:"E2",pitch:82.06444933350588,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999573393756819},{time:39.26189999985695,note:"E2",pitch:82.11963837316874,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995395537405329},{time:39.27889999985695,note:"E2",pitch:82.09559644903212,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995013340028436},{time:39.2965,note:"E2",pitch:82.09011298237586,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992427176220531},{time:39.31309999990463,note:"E2",pitch:82.12180662530895,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999502570930531},{time:39.32989999985695,note:"E2",pitch:82.07349898837049,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9991089494175753},{time:39.34729999995232,note:"E2",pitch:82.0619150923767,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999280890356232},{time:39.36409999990463,note:"E2",pitch:82.1018711420549,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9994652078176216},{time:39.38089999985695,note:"E2",pitch:82.08098863871196,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9986138999342558},{time:39.39869999980927,note:"E2",pitch:82.0589415870949,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9983680935544328},{time:39.4275,note:"E2",pitch:82.11494193912425,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993923633866189},{time:39.449599999904635,note:"E2",pitch:82.07852659436908,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9988172010524181},{time:39.47109999990463,note:"E2",pitch:82.31632779605167,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9923054084346035},{time:39.48839999985695,note:"E2",pitch:82.66308448318809,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9700588284231628},{time:39.50539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.52229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.5395,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.55609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.57329999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.590299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.6075,note:"E2",pitch:82.95564765011905,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.8245476996715979},{time:39.6245,note:"E2",pitch:82.47394096320211,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9420477171708797},{time:39.6415,note:"E2",pitch:82.29185760031962,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9795272486421993},{time:39.65909999990463,note:"E2",pitch:82.32793393952693,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9869113890272558},{time:39.67609999990463,note:"E2",pitch:82.34725962038958,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9857316547785615},{time:39.693599999904635,note:"E2",pitch:82.23859148873575,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9886190233548007},{time:39.71109999990463,note:"E2",pitch:82.282012212177,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9890771429059271},{time:39.7285,note:"E2",pitch:82.30089484265989,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9875333407815674},{time:39.7455,note:"E2",pitch:82.15082771966603,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9872923700345098},{time:39.76259999990463,note:"E2",pitch:82.23138786299502,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9896989433334511},{time:39.78,note:"E2",pitch:82.25079860095296,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9862163824018921},{time:39.797199999809266,note:"E2",pitch:82.16505731566556,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9852432405966169},{time:39.814399999856946,note:"E2",pitch:82.21045081629977,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9915474899355274},{time:39.83259999990463,note:"E2",pitch:82.25516866283772,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9880314964811134},{time:39.850099999904636,note:"E2",pitch:82.16152243902935,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9872910435153415},{time:39.8675,note:"E2",pitch:82.17694328360223,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9889734542760493},{time:39.885299999952316,note:"E2",pitch:82.26173075966088,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.985839394744346},{time:39.9025,note:"E2",pitch:82.20155084206378,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9828578837761484},{time:39.920099999904636,note:"E2",pitch:82.22473617121288,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9904399755965017},{time:39.938299999952314,note:"E2",pitch:82.25296843443685,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9876242433783773},{time:39.9555,note:"E2",pitch:82.31442537254466,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9772630398441038},{time:39.97289999985695,note:"E2",pitch:82.31305103267304,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9860239360019136},{time:39.991099999904634,note:"E2",pitch:82.29724650312878,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9844707410990168},{time:40.00859999990463,note:"E2",pitch:82.34623557063571,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9821597837905358},{time:40.02659999990463,note:"E2",pitch:82.33417587152542,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9898957406551574},{time:40.044299999952315,note:"E2",pitch:82.3202092792015,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9919478273392031},{time:40.0615,note:"E2",pitch:82.29905233388608,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921352008080646},{time:40.079699999809264,note:"E2",pitch:82.3492057334437,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9922299811303219},{time:40.09809999990463,note:"E2",pitch:82.3644020314569,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994008595840981},{time:40.116,note:"E2",pitch:82.32009611828283,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9945552497620156},{time:40.13339999985695,note:"E2",pitch:82.31143941072384,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994463663758566},{time:40.15069999980926,note:"E2",pitch:82.29794690433656,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994818447377142},{time:40.16839999985695,note:"E2",pitch:82.29800030158471,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9947940032473355},{time:40.186,note:"E2",pitch:82.26900106103624,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9952655357261904},{time:40.20359999990463,note:"E2",pitch:82.220592695895,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.997016801355727},{time:40.221,note:"E2",pitch:82.21950019232658,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9968059978669714},{time:40.23889999985695,note:"E2",pitch:82.26078980323223,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9959844231208734},{time:40.27009999990463,note:"E2",pitch:82.17855810926429,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9980481037212598},{time:40.29289999985695,note:"E2",pitch:82.20229063323038,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9977489496748291},{time:40.316199999809264,note:"E2",pitch:82.16787910828242,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9984030564442037},{time:40.3355,note:"E2",pitch:82.13958168472655,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9987578734871363},{time:40.35319999980926,note:"E2",pitch:82.11459771047448,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9988049082898698},{time:40.370599999904634,note:"E2",pitch:82.08638727488612,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992196876650752},{time:40.38959999990463,note:"E2",pitch:82.1022502286711,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992569858158049},{time:40.40789999985695,note:"E2",pitch:82.11779618852593,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993654567193744},{time:40.426699999809266,note:"E2",pitch:82.0745201504514,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995291004551348},{time:40.444699999809266,note:"E2",pitch:82.09125786417884,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996604143207435},{time:40.462199999809265,note:"E2",pitch:82.10011862108381,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996782943597822},{time:40.47979999995231,note:"E2",pitch:82.10357896945614,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998153511140089},{time:40.49729999995232,note:"E2",pitch:82.10219496003752,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998357958379955},{time:40.5145,note:"E2",pitch:82.09943608961086,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999747119992989},{time:40.532,note:"E2",pitch:82.08807227975004,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998522847968729},{time:40.54969999980926,note:"E2",pitch:82.09844893391353,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998562426174118},{time:40.56719999980926,note:"E2",pitch:82.10053618046136,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997511335487559},{time:40.5845,note:"E2",pitch:82.08325754876998,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997425898209684},{time:40.602199999809265,note:"E2",pitch:82.09508780715969,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998854892688627},{time:40.61989999985695,note:"E2",pitch:82.11277783686586,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998425854145978},{time:40.6375,note:"E2",pitch:82.11335890258466,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998106948224006},{time:40.65479999995232,note:"E2",pitch:82.09377462440214,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999900159060104},{time:40.6725,note:"E2",pitch:82.09904417394014,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998044403204602},{time:40.69039999985695,note:"E2",pitch:82.09160144946708,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998092792881295},{time:40.708,note:"E2",pitch:82.08804013659798,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998677768615352},{time:40.726,note:"E2",pitch:82.10828793299343,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999018573174254},{time:40.743699999809266,note:"E2",pitch:82.08940585212993,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999812713668419},{time:40.761299999952314,note:"E2",pitch:82.09277284816028,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998596719758552},{time:40.77909999990463,note:"E2",pitch:82.1003446386572,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998679687581529},{time:40.79679999995231,note:"E2",pitch:82.11899017505655,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997906221898489},{time:40.814699999809264,note:"E2",pitch:82.1043024238254,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998283153993128},{time:40.83219999980926,note:"E2",pitch:82.12033665116279,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998373067477928},{time:40.85,note:"E2",pitch:82.1288470376085,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997331196308323},{time:40.86819999980926,note:"E2",pitch:82.1161366452535,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997692475681248},{time:40.88609999990463,note:"E2",pitch:82.12939730298486,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998744625262646},{time:40.90379999995232,note:"E2",pitch:82.12835303768331,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998440366446033},{time:40.92139999985695,note:"E2",pitch:82.12577212182904,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998005690648171},{time:40.939399999856946,note:"E2",pitch:82.10717342744702,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998553070944922},{time:40.9575,note:"E2",pitch:82.10739518309542,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998137140414087},{time:40.97519999980926,note:"E2",pitch:82.10126427752998,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997824895649785},{time:40.993,note:"E2",pitch:82.09700841238464,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998608994117006},{time:41.01069999980926,note:"E2",pitch:82.09609247805422,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998316328604488},{time:41.02879999995232,note:"E2",pitch:82.08847852226687,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998148626264083},{time:41.04709999990463,note:"E2",pitch:82.0875486971686,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998743496691702},{time:41.06509999990463,note:"E2",pitch:82.09460672867765,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999874805183623},{time:41.082799999952314,note:"E2",pitch:82.10339827390447,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998351569589232},{time:41.1005,note:"E2",pitch:82.09302829816966,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998368548695424},{time:41.13129999995232,note:"E2",pitch:82.11904122881269,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997581534105677},{time:41.15539999985695,note:"E2",pitch:82.10692100857703,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997701086731468},{time:41.17869999980927,note:"E2",pitch:82.10979844782153,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998064304150063},{time:41.19709999990463,note:"E2",pitch:82.1095194712464,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999777950808749},{time:41.21489999985695,note:"E2",pitch:82.09535005674198,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998294435910111},{time:41.23239999985695,note:"E2",pitch:82.11128198056106,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999707311185233},{time:41.25019999980927,note:"E2",pitch:82.09478979644784,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997735106709769},{time:41.26819999980926,note:"E2",pitch:82.10434921750952,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998180816832729},{time:41.286,note:"E2",pitch:82.12246479472721,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998193601016823},{time:41.304,note:"E2",pitch:82.11084688697493,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998443215395127},{time:41.32209999990463,note:"E2",pitch:82.09628531314378,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998031658579123},{time:41.33969999980926,note:"E2",pitch:82.10687918030168,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997068689224449},{time:41.35779999995231,note:"E2",pitch:82.12468326402272,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997125426129401},{time:41.375799999952314,note:"E2",pitch:82.09952555422939,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998624199361359},{time:41.39359999990463,note:"E2",pitch:82.11404764082293,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997313352962465},{time:41.41139999985695,note:"E2",pitch:82.11046594548799,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996368237256377},{time:41.42889999985695,note:"E2",pitch:82.07659382531861,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997324673812074},{time:41.447,note:"E2",pitch:82.09278158955355,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997858874530863},{time:41.46509999990463,note:"E2",pitch:82.11532639035114,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997018304199798},{time:41.48309999990463,note:"E2",pitch:82.10223980772261,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997799082135543},{time:41.500799999952314,note:"E2",pitch:82.11110751664879,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996131175597895},{time:41.518399999856946,note:"E2",pitch:82.1091969748525,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9994729625622938},{time:41.53629999995232,note:"E2",pitch:82.09299552464687,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996598883217445},{time:41.5545,note:"E2",pitch:82.10158881308803,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999840978648848},{time:41.57329999995232,note:"E2",pitch:82.11184568657893,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999613973833263},{time:41.59129999995232,note:"E2",pitch:82.10416718312302,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996657371520996},{time:41.60939999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.628099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.646699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.66489999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.683099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.701099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.71919999980926,note:"E2",pitch:81.95544157717583,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.3454884644042622},{time:41.7375,note:"E2",pitch:82.18991279251233,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.7349241813032847},{time:41.755799999952316,note:"E2",pitch:82.44791720814334,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9430563140098087},{time:41.774099999904635,note:"E2",pitch:82.12815657023056,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9911876630525001},{time:41.7925,note:"E2",pitch:82.16898849716472,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9942964035985682},{time:41.810799999952316,note:"E2",pitch:82.172184608515,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9915896715254746},{time:41.82929999995232,note:"E2",pitch:82.10515359759371,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9961774926163258},{time:41.8475,note:"E2",pitch:82.09908401741936,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9969224093723739},{time:41.865799999952316,note:"E2",pitch:82.12440126503193,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9944216939363315},{time:41.88419999980926,note:"E2",pitch:82.09817533559489,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9953228369711553},{time:41.9025,note:"E2",pitch:82.08768281292689,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.994066742555674},{time:41.920699999809266,note:"E2",pitch:82.14654676440536,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9915630969915554},{time:41.939699999809264,note:"E2",pitch:82.1018725040694,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9959981989593132},{time:41.96939999985695,note:"E2",pitch:82.15816221505165,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.992386668815783},{time:41.99569999980927,note:"E2",pitch:82.11717859370583,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.993498671383449},{time:42.01939999985695,note:"E2",pitch:82.11903155848267,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9937141454080916},{time:42.03889999985695,note:"E2",pitch:82.12125010765482,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9910532318113638},{time:42.05739999985695,note:"E2",pitch:82.04966660850104,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9953451532483513},{time:42.07579999995232,note:"E2",pitch:82.06217241520841,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9937866924118026},{time:42.0945,note:"E2",pitch:82.07734547319387,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9909826751029982},{time:42.11319999980927,note:"E2",pitch:82.05897794867582,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9956339143831059},{time:42.13159999990463,note:"E2",pitch:82.06521222427007,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9934422103945622},{time:42.15,note:"E2",pitch:82.06243713146421,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9892195110934239},{time:42.16839999985695,note:"E2",pitch:82.10998044078296,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9918600256779087},{time:42.186799999952314,note:"E2",pitch:82.63544837159492,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.8891483099279611},{time:42.20519999980927,note:"E2",pitch:83.87951950905163,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.604426249900829},{time:42.22369999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.24189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.260299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.278599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.29689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.31539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.333599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.352,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.370599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.389,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.407299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.4255,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.443899999856946,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.46239999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.48059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.499,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.51739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.536,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.55439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.57269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.591,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.60939999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.627699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.64589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.66429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.6825,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.70089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.71929999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.737699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.756099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.77429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.792799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.811399999856945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.83029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.86219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.88869999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.91229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.9315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.94979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.96809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.98679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.0055,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.02429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.042799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.061699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.08029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.09959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.11819999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.13659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.155,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.173699999809266,note:"Eb3",pitch:153.14008665240564,noteMidi:51,actualMidi:50.73,actualMidiChroma:2.729999999999997,centsOffset:-27.000000000000313,clarity:.6791587644235761},{time:43.1925,note:"E2",pitch:82.11661646105976,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.7751587545434546},{time:43.21109999990463,note:"E2",pitch:82.24613765969731,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9981448204747068},{time:43.229599999904636,note:"E2",pitch:82.25409902599843,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996605151943925},{time:43.24809999990463,note:"E2",pitch:82.26074657297455,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9997366336726969},{time:43.2665,note:"E2",pitch:82.22809406209312,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997551618660907},{time:43.28479999995232,note:"E2",pitch:82.20468057341911,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996705480542545},{time:43.30309999990463,note:"E2",pitch:82.2117861547224,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996773565946597},{time:43.32179999995232,note:"E2",pitch:82.23402708028264,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997033286095842},{time:43.340299999952315,note:"E2",pitch:82.219402993738,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997111531229734},{time:43.359,note:"E2",pitch:82.22359712086832,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997328260029832},{time:43.37759999990463,note:"E2",pitch:82.21850366740662,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999678252505035},{time:43.396399999856946,note:"E2",pitch:82.22884949003426,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996701267653378},{time:43.415,note:"E2",pitch:82.22964161726777,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997931938751208},{time:43.43389999985695,note:"E2",pitch:82.21992377085058,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999790740016195},{time:43.452599999904635,note:"E2",pitch:82.22313688123974,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997739549739464},{time:43.471299999952315,note:"E2",pitch:82.23301046507729,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998057271214407},{time:43.48979999995232,note:"E2",pitch:82.23054456861777,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998009840859794},{time:43.5085,note:"E2",pitch:82.21531875475647,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998110276972483},{time:43.52729999995232,note:"E2",pitch:82.2180797130223,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998252621496135},{time:43.546099999904634,note:"E2",pitch:82.21960277305838,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997773139332509},{time:43.564799999952314,note:"E2",pitch:82.22111865406144,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997918665311971},{time:43.58369999980926,note:"E2",pitch:82.2141644459832,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998346833491922},{time:43.60279999995232,note:"E2",pitch:82.21190365086306,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997874109134699},{time:43.62159999990463,note:"E2",pitch:82.19974323364211,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997961667564255},{time:43.6405,note:"E2",pitch:82.20956783267827,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998299223965006},{time:43.659,note:"E2",pitch:82.21524896709847,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998181677530482},{time:43.67779999995231,note:"E2",pitch:82.21294824749171,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.99981292914606},{time:43.69669999980926,note:"E2",pitch:82.21073689435546,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998866174067018},{time:43.71539999985695,note:"E2",pitch:82.21221239001581,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996811153754237},{time:43.734799999952315,note:"E2",pitch:82.20790768473205,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9995702457156028},{time:43.76619999980927,note:"E2",pitch:82.23041192116968,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999880528901059},{time:43.79289999985695,note:"E2",pitch:82.23787245629401,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998903303702349},{time:43.81639999985695,note:"E2",pitch:82.2531280769317,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998313573272526},{time:43.83609999990463,note:"E2",pitch:82.25728385822126,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996705656454026},{time:43.85479999995231,note:"E2",pitch:82.24893498356494,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999829301399032},{time:43.87339999985695,note:"E2",pitch:82.26605299263397,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999865729138989},{time:43.892199999809264,note:"E2",pitch:82.274661933324,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998033242667361},{time:43.911099999904636,note:"E2",pitch:82.28656650697889,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998672249298579},{time:43.929799999952316,note:"E2",pitch:82.29623147377124,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998580652953706},{time:43.94859999990463,note:"E2",pitch:82.2915630232528,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999856088581268},{time:43.96729999995232,note:"E2",pitch:82.27658045557315,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998851094265291},{time:43.986199999809266,note:"E2",pitch:82.298783155331,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995043607041652},{time:44.005199999809264,note:"E2",pitch:82.29331476629001,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987499924465908},{time:44.02459999990463,note:"E2",pitch:82.30575339771666,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.99945785863639},{time:44.043599999904636,note:"E2",pitch:82.31403477359575,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998493659489753},{time:44.06269999980927,note:"E2",pitch:82.31553261615427,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997671831596193},{time:44.08179999995232,note:"E2",pitch:82.30803750360273,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998392503007949},{time:44.10139999985695,note:"E2",pitch:82.32222949245946,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998261502473724},{time:44.120299999952316,note:"E2",pitch:82.31956086343743,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998066901059559},{time:44.138899999856946,note:"E2",pitch:82.32098800668297,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998437462173513},{time:44.15779999995232,note:"E2",pitch:82.35980331769267,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997001629236024},{time:44.176699999809266,note:"E2",pitch:82.3461318617823,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989819668020345},{time:44.195799999952314,note:"E2",pitch:82.35332856701451,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994838709141618},{time:44.214599999904635,note:"E2",pitch:82.36180336188575,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997824918488618},{time:44.233299999952315,note:"E2",pitch:82.3813228271697,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995440588411668},{time:44.252,note:"E2",pitch:82.37513337348551,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997747898137135},{time:44.27089999985695,note:"E2",pitch:82.40414899688034,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998116337539216},{time:44.289699999809265,note:"E2",pitch:82.39886534311955,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999730416433394},{time:44.30879999995231,note:"E2",pitch:82.40630527058654,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997516396744004},{time:44.32769999980926,note:"E2",pitch:82.4407917801939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997110019716331},{time:44.34669999980927,note:"E2",pitch:82.4355337919948,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9993952129016321},{time:44.366,note:"E2",pitch:82.42933462968905,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9996880413477243},{time:44.384699999809264,note:"E2",pitch:82.4686859419097,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995112016753751},{time:44.40369999980926,note:"E2",pitch:82.45087096051815,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987465474662542},{time:44.42269999980927,note:"E2",pitch:82.42241726348739,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99947161680889},{time:44.44159999990463,note:"E2",pitch:82.45569988239491,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997811399973386},{time:44.461,note:"E2",pitch:82.45490580084973,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995038885592749},{time:44.48,note:"E2",pitch:82.44893632399355,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997404822895675},{time:44.499,note:"E2",pitch:82.47252125942194,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997543433716913},{time:44.518,note:"E2",pitch:82.46656922266203,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996470879951431},{time:44.53689999985695,note:"E2",pitch:82.4441809420491,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998050499554125},{time:44.55589999985695,note:"E2",pitch:82.48140835391922,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994664959204158},{time:44.57469999980926,note:"E2",pitch:82.467277011062,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9974815001034614},{time:44.59389999985695,note:"E2",pitch:82.40402414919602,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989997044298917},{time:44.613,note:"E2",pitch:82.46840749900115,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9994100149947087},{time:44.631799999952314,note:"E2",pitch:82.42835104593551,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9977550634529138},{time:44.651199999809265,note:"E2",pitch:82.42352125417108,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9992123876034782},{time:44.682199999809264,note:"E2",pitch:82.43543839048714,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996553184108592},{time:44.707799999952314,note:"E2",pitch:82.38207641347448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995364052643367},{time:44.732,note:"E2",pitch:82.35335111606682,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999248736358112},{time:44.75139999985695,note:"E2",pitch:82.28775523688113,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9992084462862749},{time:44.770199999809265,note:"E2",pitch:82.32460840358257,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997242565805777},{time:44.78929999995232,note:"E2",pitch:82.3720516777738,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.997431135764991},{time:44.80829999995232,note:"E2",pitch:82.3348682450928,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9958018535732833},{time:44.82739999985695,note:"E2",pitch:82.34725263796352,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988078175213388},{time:44.84639999985695,note:"E2",pitch:82.35556902611141,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997359635858061},{time:44.86539999985695,note:"E2",pitch:82.3070630912128,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999349003004582},{time:44.8845,note:"E2",pitch:82.30476234142702,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996504264731527},{time:44.9035,note:"E2",pitch:82.30902905037259,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996549698200852},{time:44.922599999904634,note:"E2",pitch:82.3316810469033,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989672408092858},{time:44.941799999952316,note:"E2",pitch:82.66315100969597,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.962279772026271},{time:44.961,note:"E2",pitch:83.54253159391601,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9151634055484124},{time:44.98009999990463,note:"F2",pitch:85.92365727515521,noteMidi:41,actualMidi:40.72,actualMidiChroma:4.719999999999999,centsOffset:-28.000000000000114,clarity:.9415842373985015},{time:44.999699999809266,note:"F2",pitch:88.32377773676028,noteMidi:41,actualMidi:41.2,actualMidiChroma:5.200000000000003,centsOffset:20.000000000000284,clarity:.9047037486329828},{time:45.01889999985695,note:"F2",pitch:89.24030647828357,noteMidi:41,actualMidi:41.38,actualMidiChroma:5.380000000000003,centsOffset:38.000000000000256,clarity:.8709586329088026},{time:45.0385,note:"Bb0",pitch:28.79192897216877,noteMidi:22,actualMidi:21.79,actualMidiChroma:9.79,centsOffset:-21.000000000000085,clarity:.42759448621541907},{time:45.057699999809266,note:"E2",pitch:83.16962052508103,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.4981635804089706},{time:45.077,note:"E2",pitch:82.65105786975674,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.8572695698154007},{time:45.096299999952315,note:"E2",pitch:82.50751166550565,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994214815318401},{time:45.11529999995231,note:"E2",pitch:82.5070415762576,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9995542047072945},{time:45.13419999980926,note:"E2",pitch:82.4742638589799,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9994418621335797},{time:45.15339999985695,note:"E2",pitch:82.45304402004015,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996063964827044},{time:45.1725,note:"E2",pitch:82.46821159944338,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995696522559427},{time:45.191699999809266,note:"E2",pitch:82.48234880887964,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9995263738634748},{time:45.21059999990463,note:"E2",pitch:82.45680430449792,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996214957107981},{time:45.22979999995231,note:"E2",pitch:82.4479165553099,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997149650479145},{time:45.24909999990463,note:"E2",pitch:82.45812366351424,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996947366745843},{time:45.2685,note:"E2",pitch:82.46048647630637,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997366983875509},{time:45.287599999904636,note:"E2",pitch:82.43711028790453,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998127351876036},{time:45.30669999980927,note:"E2",pitch:82.42381961226971,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999789941417049},{time:45.32579999995232,note:"E2",pitch:82.42507955190949,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997815502209306},{time:45.34489999985695,note:"E2",pitch:82.4148010008443,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998341630384573},{time:45.364199999809266,note:"E2",pitch:82.40233345125183,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998054626871493},{time:45.383799999952316,note:"E2",pitch:82.39535018781342,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998185598911107},{time:45.403,note:"E2",pitch:82.39533290602775,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998486582046269},{time:45.42239999985695,note:"E2",pitch:82.39786286458343,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999857204481529},{time:45.44159999990463,note:"E2",pitch:82.38809625365053,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998692830913427},{time:45.46089999985695,note:"E2",pitch:82.38558958267978,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999807246950212},{time:45.480299999952315,note:"E2",pitch:82.38587368132295,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997622554626986},{time:45.499299999952314,note:"E2",pitch:82.39126608131086,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998618719513814},{time:45.51889999985695,note:"E2",pitch:82.3838109204246,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998635117175354},{time:45.538,note:"E2",pitch:82.37989467315028,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999863088147805},{time:45.55729999995231,note:"E2",pitch:82.36890656867406,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999087164698182},{time:45.5775,note:"E2",pitch:82.36687943256872,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999038776982587},{time:45.60919999980926,note:"E2",pitch:82.3683492143009,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998820583781765},{time:45.634799999952314,note:"E2",pitch:82.34958518956174,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996991681616123},{time:45.659,note:"E2",pitch:82.36916402710447,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996163546647239},{time:45.68019999980927,note:"E2",pitch:82.3711837513428,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99989537040058},{time:45.69919999980927,note:"E2",pitch:82.35823100639033,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998822614125942},{time:45.71839999985695,note:"E2",pitch:82.35951334493647,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998676386006196},{time:45.737799999952315,note:"E2",pitch:82.36585876288758,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998807099946845},{time:45.75709999990463,note:"E2",pitch:82.3737812588782,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998577596866056},{time:45.77659999990463,note:"E2",pitch:82.36877495261074,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998566056846983},{time:45.79629999995232,note:"E2",pitch:82.36919725323764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998494802947988},{time:45.81579999995232,note:"E2",pitch:82.36716506497832,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999874434196542},{time:45.83519999980926,note:"E2",pitch:82.38182008181434,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998590254495241},{time:45.854599999904636,note:"E2",pitch:82.37128263533015,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998632314798783},{time:45.873899999856945,note:"E2",pitch:82.3742563782405,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998806808404197},{time:45.893,note:"E2",pitch:82.37144111038432,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998771738893311},{time:45.91239999985695,note:"E2",pitch:82.37296433843431,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999892864100346},{time:45.93189999985695,note:"E2",pitch:82.36689592286369,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998739302375981},{time:45.951099999904635,note:"E2",pitch:82.36383788498786,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998569688084729},{time:45.9705,note:"E2",pitch:82.3627454783559,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998788314241125},{time:45.99009999990463,note:"E2",pitch:82.36860589436002,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998558928985091},{time:46.009699999809264,note:"E2",pitch:82.36034638305327,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998033706294933},{time:46.02939999985695,note:"E2",pitch:82.36375679360538,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998403966717149},{time:46.049,note:"E2",pitch:82.37117258462413,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998724265647354},{time:46.06869999980926,note:"E2",pitch:82.3714938891035,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998252875531506},{time:46.08829999995232,note:"E2",pitch:82.36149567763886,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998494683240864},{time:46.10779999995231,note:"E2",pitch:82.35769932603496,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999844021245508},{time:46.12709999990463,note:"E2",pitch:82.35853716339116,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999828289476099},{time:46.14659999990463,note:"E2",pitch:82.36168665798048,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999861425708815},{time:46.166199999809265,note:"E2",pitch:82.36359028595267,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998499480361431},{time:46.185699999809266,note:"E2",pitch:82.36349364009867,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997048695787072},{time:46.20519999980927,note:"E2",pitch:82.35910695610747,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997978461135091},{time:46.22469999980927,note:"E2",pitch:82.3742869698776,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99983118811042},{time:46.24419999980927,note:"E2",pitch:82.35731292751069,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999777725832999},{time:46.2635,note:"E2",pitch:82.36507080258241,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998214489139059},{time:46.284599999904636,note:"E2",pitch:82.36557739411812,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999821469573007},{time:46.30439999985695,note:"E2",pitch:82.35600902192401,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997850909502546},{time:46.324,note:"E2",pitch:82.3600036956412,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998256708211102},{time:46.34359999990463,note:"E2",pitch:82.37608578880072,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995320784575199},{time:46.363099999904634,note:"E2",pitch:82.35984779690406,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995239589541711},{time:46.382599999904635,note:"E2",pitch:82.36208263782953,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999825970860897},{time:46.40219999980926,note:"E2",pitch:82.35637755082887,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997515513547341},{time:46.422,note:"E2",pitch:82.34659272542908,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999677144261085},{time:46.44139999985695,note:"E2",pitch:82.36162578041599,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997504666467165},{time:46.46119999980927,note:"E2",pitch:82.3543671719154,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997345447787893},{time:46.48089999985695,note:"E2",pitch:82.3335159617247,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997627213117966},{time:46.500699999809264,note:"E2",pitch:82.36101413743589,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997836017608961},{time:46.533,note:"E2",pitch:82.33829023514761,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995919996309084},{time:46.559,note:"E2",pitch:82.34342657722526,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997240751189906},{time:46.583599999904635,note:"E2",pitch:82.33725055990337,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999552163197535},{time:46.60409999990463,note:"E2",pitch:82.34582081599386,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995026595133538},{time:46.62339999985695,note:"E2",pitch:82.36751019267899,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996704131299623},{time:46.64279999995232,note:"E2",pitch:82.33935542331332,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996070149157816},{time:46.66229999995232,note:"E2",pitch:82.34865340685364,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996881394367847},{time:46.68189999985695,note:"E2",pitch:82.37285158331913,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995771998571144},{time:46.7015,note:"E2",pitch:82.33703476395611,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999438247952753},{time:46.721,note:"E2",pitch:82.3448960053564,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996203192496864},{time:46.74059999990463,note:"E2",pitch:82.35731044691529,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994887823470435},{time:46.76009999990463,note:"E2",pitch:82.33326005033445,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999319735555332},{time:46.77959999990463,note:"E2",pitch:82.35898965165933,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995936051261367},{time:46.79889999985695,note:"E2",pitch:82.3527280177394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999664865646011},{time:46.8185,note:"E2",pitch:82.33056385109653,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994280428665832},{time:46.83789999985695,note:"E2",pitch:82.32659541110215,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995357958803766},{time:46.85739999985695,note:"E2",pitch:82.368849753511,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994690689453734},{time:46.877,note:"E2",pitch:82.32876490671673,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992690449053327},{time:46.896399999856946,note:"E2",pitch:82.34717938662624,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995707984968618},{time:46.91589999985695,note:"E2",pitch:82.36486143789281,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994757653277873},{time:46.9355,note:"E2",pitch:82.31913625904603,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990343135383455},{time:46.95519999980927,note:"E2",pitch:82.3475821337141,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993895857259361},{time:46.975,note:"E2",pitch:82.34648331956227,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993462181480623},{time:46.995,note:"E2",pitch:82.31442053349295,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990268301898055},{time:47.01479999995232,note:"E2",pitch:82.36446388639094,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994890929928033},{time:47.034599999904636,note:"E2",pitch:82.34553753733948,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992909614300629},{time:47.05459999990463,note:"E2",pitch:82.31160551750561,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992519345192363},{time:47.07439999985695,note:"E2",pitch:82.34597728586665,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994857202785852},{time:47.09439999985695,note:"E2",pitch:82.32802212686977,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990526588240982},{time:47.11379999995231,note:"E2",pitch:82.30383492857192,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990678941914268},{time:47.133299999952314,note:"E2",pitch:82.3574978552735,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994425656674792},{time:47.152799999952315,note:"E2",pitch:82.31364316919176,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985310271343764},{time:47.1725,note:"E2",pitch:82.31194193299035,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987189823262526},{time:47.192,note:"E2",pitch:82.36931011449848,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993463255094781},{time:47.211599999904635,note:"E2",pitch:82.30406882141605,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9988352682957924},{time:47.23129999995231,note:"E2",pitch:82.3028538959441,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990777138131932},{time:47.251,note:"E2",pitch:82.34987582793396,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9991011314162535},{time:47.27039999985695,note:"E2",pitch:82.29686891864797,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9988332843172998},{time:47.29,note:"E2",pitch:82.33105460803733,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992515779770201},{time:47.30969999980927,note:"E2",pitch:82.35953811580498,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990636092354919},{time:47.32929999995232,note:"E2",pitch:82.30823144450875,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987761309621419},{time:47.34879999995232,note:"E2",pitch:82.3241933950118,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991772636797123},{time:47.3685,note:"E2",pitch:82.3655584495174,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999257140393766},{time:47.38829999995232,note:"E2",pitch:82.31438281638083,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9982286987049065},{time:47.40789999985695,note:"E2",pitch:82.33588425309026,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988258379504771},{time:47.42809999990463,note:"E2",pitch:82.38087798036132,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989085528815735},{time:47.4605,note:"E2",pitch:82.35575060234584,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9991461519558413},{time:47.486599999904634,note:"E2",pitch:82.35846663856852,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990785565308471},{time:47.510899999856946,note:"E2",pitch:82.29648760920733,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991932375642563},{time:47.5315,note:"E2",pitch:82.38232267819365,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999106867075028},{time:47.55089999985695,note:"E2",pitch:82.43652484925283,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.99220262533035},{time:47.57059999990463,note:"E2",pitch:83.22709779672216,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.8702620764665383},{time:47.590199999809265,note:"F2",pitch:84.98845024401673,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.618631966961388},{time:47.609799999952315,note:"F2",pitch:89.27129014021556,noteMidi:41,actualMidi:41.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.8760432177460338},{time:47.629299999952316,note:"Gb2",pitch:90.70940764584971,noteMidi:42,actualMidi:41.66,actualMidiChroma:5.659999999999997,centsOffset:-34.00000000000034,clarity:.8490108992181611},{time:47.64889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.66809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.6875,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.707,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.72679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.746,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.765699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.7855,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.805099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.82469999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.86409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.883799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.904,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.92389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.943599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.9635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.983299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:48.0035,note:"C3",pitch:132.03388235514623,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.23444728342400367},{time:48.02379999995232,note:"E2",pitch:82.62399344611376,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.7630464612192469},{time:48.04389999985695,note:"E2",pitch:82.53343282372974,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9786130916457694},{time:48.06389999985695,note:"E2",pitch:82.44862578533242,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9986760556429886},{time:48.083899999856946,note:"E2",pitch:82.44411914596708,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9991855283692388},{time:48.103799999952315,note:"E2",pitch:82.42144251136845,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987357467437619},{time:48.12379999995232,note:"E2",pitch:82.41208974982801,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987482201407971},{time:48.144,note:"E2",pitch:82.44062801110923,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9989210563289532},{time:48.16379999995232,note:"E2",pitch:82.43471407100604,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9983336498418112},{time:48.1835,note:"E2",pitch:82.41461054010082,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987590776924833},{time:48.203199999809264,note:"E2",pitch:82.43751020334467,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9988961749613168},{time:48.22309999990463,note:"E2",pitch:82.43136602949066,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9989251670715049},{time:48.24289999985695,note:"E2",pitch:82.42584963990059,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999191002365734},{time:48.2625,note:"E2",pitch:82.431486826816,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9988469706230632},{time:48.282299999952315,note:"E2",pitch:82.42193621961998,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983990491776922},{time:48.302,note:"E2",pitch:82.42475254323465,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9990522573204146},{time:48.32179999995232,note:"E2",pitch:82.40488199395273,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981536017963748},{time:48.341699999809265,note:"E2",pitch:82.38241931830949,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979596104053172},{time:48.36189999985695,note:"E2",pitch:82.39844464831236,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999270036081569},{time:48.39479999995232,note:"E2",pitch:82.40455920892352,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980373879800766},{time:48.42139999985695,note:"E2",pitch:82.40349114668464,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998503416825244},{time:48.4465,note:"E2",pitch:82.40793585121392,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978563424550941},{time:48.467599999904635,note:"E2",pitch:82.36837713892803,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99891614865966},{time:48.48739999985695,note:"E2",pitch:82.406055548544,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975095339764124},{time:48.507199999809266,note:"E2",pitch:82.40360785595875,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9956602980134477},{time:48.527099999904635,note:"E2",pitch:82.40898250461584,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981289885248117},{time:48.547,note:"E2",pitch:82.40634777959893,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973220605083952},{time:48.566699999809266,note:"E2",pitch:82.38386304624132,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9960009542043196},{time:48.586599999904635,note:"E2",pitch:82.38696596370971,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983817380999085},{time:48.6065,note:"E2",pitch:82.39742632302925,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968995134668006},{time:48.62669999980927,note:"E2",pitch:82.37142271702753,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975802536627469},{time:48.64659999990463,note:"E2",pitch:82.36457177884262,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985924402139119},{time:48.66639999985695,note:"E2",pitch:82.39306397831389,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9963338349132016},{time:48.68629999995232,note:"E2",pitch:82.40403522724708,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9976842459190465},{time:48.70639999985695,note:"E2",pitch:82.38756233718449,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978469408887207},{time:48.7265,note:"E2",pitch:82.3944980670793,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996295313127689},{time:48.74659999990463,note:"E2",pitch:82.39158040151844,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9979767566149462},{time:48.766899999856946,note:"E2",pitch:82.41899430809694,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974241135599016},{time:48.786799999952315,note:"E2",pitch:82.41601692479064,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9961208735615799},{time:48.80669999980927,note:"E2",pitch:82.42708841887678,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99810884403675},{time:48.8265,note:"E2",pitch:82.42727448553917,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964762472059903},{time:48.8465,note:"E2",pitch:82.44753658930657,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944339848896675},{time:48.86639999985695,note:"E2",pitch:82.4332014506643,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9981596091046043},{time:48.88609999990463,note:"E2",pitch:82.42671949065979,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996876466247528},{time:48.90619999980927,note:"E2",pitch:82.47780766626374,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9955565986244892},{time:48.92619999980926,note:"E2",pitch:82.47858669269796,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979784598294117},{time:48.94619999980927,note:"E2",pitch:82.45603123513966,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9964105638678546},{time:48.96629999995232,note:"E2",pitch:82.444465618939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957780133540979},{time:48.98639999985695,note:"E2",pitch:82.44660175538782,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9977119668588301},{time:49.00659999990463,note:"E2",pitch:82.43737309063674,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956486832719378},{time:49.027099999904635,note:"E2",pitch:82.4687460363161,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9964090549266302},{time:49.047599999904634,note:"E2",pitch:82.4442832017001,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9979392396213029},{time:49.068,note:"E2",pitch:82.46066182893613,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9950391891525925},{time:49.0885,note:"E2",pitch:82.51307029085594,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958378899207219},{time:49.10939999985695,note:"E2",pitch:82.44524224977462,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962017385316386},{time:49.131399999856946,note:"E2",pitch:82.48341833477674,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9942447969615955},{time:49.1515,note:"E2",pitch:82.48176578408224,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978237067171847},{time:49.17139999985695,note:"E2",pitch:82.45956918203143,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959205015519359},{time:49.19159999990463,note:"E2",pitch:82.51804813128655,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9944961263917804},{time:49.211899999856946,note:"E2",pitch:82.46333639106089,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9973079650371801},{time:49.232,note:"E2",pitch:82.447089171056,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9945640855123941},{time:49.25179999995232,note:"E2",pitch:82.54566579074827,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949023540782491},{time:49.272,note:"E2",pitch:82.48871523141486,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9972253681229972},{time:49.292,note:"E2",pitch:82.465767047282,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9938677914638134},{time:49.312599999904634,note:"E2",pitch:82.51137313537711,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9937226680777655},{time:49.346,note:"E2",pitch:82.46075274354232,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9951933808937667},{time:49.37229999995232,note:"E2",pitch:82.53043636011203,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9943156643073223},{time:49.39729999995232,note:"E2",pitch:82.43010554280045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9954581629111203},{time:49.41839999985695,note:"E2",pitch:82.48787429718729,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9923481641711902},{time:49.43859999990463,note:"E2",pitch:82.54033688804412,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950678614402761},{time:49.459,note:"E2",pitch:82.43040454808533,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940693267830909},{time:49.47909999990463,note:"E2",pitch:82.49376317850805,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.992232382371327},{time:49.499199999809264,note:"E2",pitch:82.46759913289365,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9946219002918326},{time:49.51939999985695,note:"E2",pitch:82.46111927716072,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9927685805021298},{time:49.53959999990463,note:"E2",pitch:82.56607643953464,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9927236166017792},{time:49.56009999990463,note:"E2",pitch:82.46269462094958,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9942617047922937},{time:49.58019999980927,note:"E2",pitch:82.48707509237327,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9933713906254695},{time:49.60039999985695,note:"E2",pitch:82.53511118710735,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947637455338452},{time:49.6205,note:"E2",pitch:82.43544286879879,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9941481803913632},{time:49.6405,note:"E2",pitch:82.51236622016373,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9925762808770457},{time:49.66069999980927,note:"E2",pitch:82.55617053312845,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955027448718852},{time:49.68089999985695,note:"E2",pitch:82.42584821156721,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949886141877329},{time:49.70089999985695,note:"E2",pitch:82.51062628741191,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9941138818294206},{time:49.72109999990463,note:"E2",pitch:82.58401007875293,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9963350593969409},{time:49.7415,note:"E2",pitch:82.45481661500109,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948641518689385},{time:49.76159999990463,note:"E2",pitch:82.56586598255458,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947232331010412},{time:49.782,note:"E2",pitch:82.53863402039904,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.996360144884818},{time:49.80219999980927,note:"E2",pitch:82.45656611800311,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943469120524924},{time:49.82239999985695,note:"E2",pitch:82.57872508042104,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9963476985143274},{time:49.84269999980926,note:"E2",pitch:82.5257448760215,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968214892447378},{time:49.863,note:"E2",pitch:82.44547168554378,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.993740913950802},{time:49.883299999952314,note:"E2",pitch:82.60036555011618,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9959797829796742},{time:49.90389999985695,note:"E2",pitch:82.47942451668997,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9961365038183203},{time:49.92439999985695,note:"E2",pitch:82.41821474778045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952224922169677},{time:49.944799999952316,note:"E2",pitch:82.56290770483778,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9968456178941381},{time:49.96509999990463,note:"E2",pitch:82.44682495734472,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967292235904495},{time:49.9855,note:"E2",pitch:82.47459454365502,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967817678453912},{time:50.00629999995232,note:"E2",pitch:82.5136532396202,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978278707270789},{time:50.02679999995232,note:"E2",pitch:82.43445333532645,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9968008701004152},{time:50.04739999985695,note:"E2",pitch:82.43870032539618,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9965141659126999},{time:50.06789999985695,note:"E2",pitch:82.50370981252672,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9969309819603893},{time:50.08859999990463,note:"E2",pitch:82.41593694222499,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952462831208777},{time:50.10879999995232,note:"E2",pitch:82.42768595467155,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965921284535213},{time:50.129,note:"E2",pitch:82.48438612987955,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945302195216783},{time:50.149399999856946,note:"E2",pitch:82.35699488401193,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9926295555392741},{time:50.17,note:"E2",pitch:82.56337485750207,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949834981297556},{time:50.19039999985695,note:"E2",pitch:82.43351763602215,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934066065181355},{time:50.210699999809265,note:"E2",pitch:82.30414003789163,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9900314510850663},{time:50.23119999980926,note:"E2",pitch:82.51371794273618,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968541516866765},{time:50.25169999980927,note:"E2",pitch:82.43399643427429,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9947131257703461},{time:50.272899999856946,note:"E2",pitch:82.35991667772146,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9954989554713904},{time:50.3065,note:"E2",pitch:82.48488882644138,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957458488185154},{time:50.33329999995232,note:"E2",pitch:82.41641241994968,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968694376994378},{time:50.3585,note:"E2",pitch:82.49820978502004,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979752032999443},{time:50.3805,note:"E2",pitch:82.36929714338527,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969736378415064},{time:50.400599999904635,note:"E2",pitch:82.45617481532366,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.998530328987286},{time:50.42089999985695,note:"E2",pitch:82.40358426940004,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971556889254458},{time:50.4415,note:"E2",pitch:82.34818262989361,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9983794297868513},{time:50.46179999995232,note:"E2",pitch:82.48316433160461,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981758546184878},{time:50.482099999904634,note:"E2",pitch:82.42362313944619,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969389034220839},{time:50.502699999809266,note:"E2",pitch:82.36086217797481,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987270953214704},{time:50.523,note:"E2",pitch:82.45060749754428,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984395396383974},{time:50.54329999995232,note:"E2",pitch:82.38534220836783,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965120591686727},{time:50.563799999952316,note:"E2",pitch:82.35565287541777,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975993365524758},{time:50.584299999952314,note:"E2",pitch:82.44658285695085,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9980467434159905},{time:50.60469999980926,note:"E2",pitch:82.3609413288585,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975301266109113},{time:50.6255,note:"E2",pitch:82.38063571837249,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984263288921085},{time:50.64709999990463,note:"E2",pitch:82.41649574339954,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973510247980641},{time:50.667799999952315,note:"E2",pitch:82.32665358261265,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9981836345406663},{time:50.68809999990463,note:"E2",pitch:82.36162065984102,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989929942537401},{time:50.70809999990463,note:"E2",pitch:82.40545367625207,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973345564822793},{time:50.72839999985695,note:"E2",pitch:82.33771206266556,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975686698887856},{time:50.74869999980927,note:"E2",pitch:82.39251386405512,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99851778679718},{time:50.76919999980927,note:"E2",pitch:82.35831823480457,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9974607491441532},{time:50.7895,note:"E2",pitch:82.33696964944474,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979691013754675},{time:50.80969999980927,note:"E2",pitch:82.43026889888031,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975362748227212},{time:50.83019999980927,note:"E2",pitch:82.34095241680266,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9977357415336385},{time:50.85059999990463,note:"E2",pitch:82.33001456678494,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987476390892382},{time:50.870899999856945,note:"E2",pitch:82.39757200463791,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9977782453079129},{time:50.891899999856946,note:"E2",pitch:82.33476991166847,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980638292072399},{time:50.9125,note:"E2",pitch:82.32351919593007,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989033621914132},{time:50.933099999904634,note:"E2",pitch:82.36286941383017,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980182684867884},{time:50.95389999985695,note:"E2",pitch:82.28797176770992,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9981001014243276},{time:50.974299999952315,note:"E2",pitch:82.38208939086836,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985592549103472},{time:50.995299999952316,note:"E2",pitch:82.43032245562532,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9979186809480467},{time:51.01609999990463,note:"E2",pitch:82.3168888953788,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9984306283351359},{time:51.037,note:"E2",pitch:82.40975821632279,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986919224581499},{time:51.058,note:"E2",pitch:82.41248752652304,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975807672281292},{time:51.07869999980927,note:"E2",pitch:82.33923153683551,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990938638523872},{time:51.09969999980927,note:"E2",pitch:82.36084800422869,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979554941286892},{time:51.12039999985695,note:"E2",pitch:82.29885307644088,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9982247837124234},{time:51.14119999980927,note:"E2",pitch:82.37816660931254,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985425473791807},{time:51.16239999985695,note:"E2",pitch:82.42402304748258,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980832036447111},{time:51.182799999952316,note:"E2",pitch:82.30639376391227,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9983409784755537},{time:51.20339999985695,note:"E2",pitch:82.36089551410576,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998644006353743},{time:51.2245,note:"E2",pitch:82.39341327779357,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975686779328541},{time:51.259699999809264,note:"E2",pitch:82.38513871048774,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987719850561874},{time:51.2865,note:"E2",pitch:82.39365643129767,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978673853691049},{time:51.312899999856945,note:"E2",pitch:82.29239473578615,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989049325279566},{time:51.3355,note:"E2",pitch:82.3683181381829,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982109595341839},{time:51.35629999995231,note:"E2",pitch:82.29243728393882,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985178526568532},{time:51.376899999856946,note:"E2",pitch:82.31867709488249,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986536407560251},{time:51.39779999995232,note:"E2",pitch:82.39764502894323,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981110706125094},{time:51.41819999980927,note:"E2",pitch:82.28574405301308,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9990719027041806},{time:51.438799999952316,note:"E2",pitch:82.38577394122056,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9990639626074582},{time:51.45969999980927,note:"E2",pitch:82.297688334339,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.998605745200031},{time:51.48039999985695,note:"E2",pitch:82.27210536602968,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9989225720627246},{time:51.50109999990463,note:"E2",pitch:82.34108100867824,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982122321039029},{time:51.521799999952314,note:"E2",pitch:82.28492757045346,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9986825223736702},{time:51.54259999990463,note:"E2",pitch:82.33919538141286,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9986591175950963},{time:51.563299999952314,note:"E2",pitch:82.40467230416164,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981490989104458},{time:51.584,note:"E2",pitch:82.29167745074695,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989063361488704},{time:51.606,note:"E2",pitch:82.37233067227115,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990810692790788},{time:51.62709999990463,note:"E2",pitch:82.36187612325854,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982652136249257},{time:51.64879999995232,note:"E2",pitch:82.28373605032438,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9991433120434436},{time:51.66969999980927,note:"E2",pitch:82.65474962800543,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9968974893723157},{time:51.6905,note:"E2",pitch:83.18381542208593,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9818082132307637},{time:51.71129999995232,note:"E2",pitch:84.22833123066819,noteMidi:40,actualMidi:40.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9516504849659526},{time:51.732,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:51.7525,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:51.773299999952314,note:"E2",pitch:83.4021613408394,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.376000205425683},{time:51.79559999990463,note:"E2",pitch:82.77953791461218,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7639516029821607},{time:51.81659999990463,note:"E2",pitch:82.31737873195503,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9802543009492695},{time:51.83839999985695,note:"E2",pitch:82.40712301613362,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968407086608408},{time:51.859099999904636,note:"E2",pitch:82.35394693645136,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982287885250827},{time:51.87979999995232,note:"E2",pitch:82.34669602602732,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982854882503744},{time:51.901299999952315,note:"E2",pitch:82.36466448901513,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975801772679773},{time:51.922299999952315,note:"E2",pitch:82.36184117249921,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984652433280132},{time:51.943199999809266,note:"E2",pitch:82.33181298587974,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9977700877450673},{time:51.96419999980927,note:"E2",pitch:82.3438943873764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9972285937544427},{time:51.98529999995232,note:"E2",pitch:82.35796007304272,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984184321981076},{time:52.007899999856946,note:"E2",pitch:82.35789436190394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965057529411183},{time:52.02939999985695,note:"E2",pitch:82.3356908852333,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9977999145532692},{time:52.05159999990463,note:"E2",pitch:82.33926125364422,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9970424826676094},{time:52.07269999980927,note:"E2",pitch:82.35222232209999,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994534336438619},{time:52.09369999980927,note:"E2",pitch:82.33770466494558,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976230849325702},{time:52.11469999980927,note:"E2",pitch:82.32489303351495,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9963764914496949},{time:52.136,note:"E2",pitch:82.32368006304176,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9962483438730771},{time:52.17129999995232,note:"E2",pitch:82.33168780894556,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9952245566524738},{time:52.198099999904635,note:"E2",pitch:82.34711274561543,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9959676498789776},{time:52.225,note:"E2",pitch:82.32421296455253,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.996146013642047},{time:52.2465,note:"E2",pitch:82.33170333462014,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9936605322538128},{time:52.267,note:"E2",pitch:82.3266242713232,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9974413582869488},{time:52.28869999980927,note:"E2",pitch:82.33200943110776,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9960484013413549},{time:52.30969999980927,note:"E2",pitch:82.3448594435589,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9971202231440088},{time:52.33069999980926,note:"E2",pitch:82.34611741263463,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9957572537036583},{time:52.35279999995232,note:"E2",pitch:82.3531060904596,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9926512563174015},{time:52.37379999995232,note:"E2",pitch:82.34498276693394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9973353117749042},{time:52.39559999990463,note:"E2",pitch:82.34460350102475,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9955440332195735},{time:52.4165,note:"E2",pitch:82.3834419781596,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928081321322395},{time:52.43769999980927,note:"E2",pitch:82.34989462619576,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9968834701126355},{time:52.458599999904635,note:"E2",pitch:82.35275741491498,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9956333254239809},{time:52.47939999985695,note:"E2",pitch:82.37347469036584,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.996788990494224},{time:52.50179999995232,note:"E2",pitch:82.38825933099936,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951643198037488},{time:52.52279999995232,note:"E2",pitch:82.42677693105071,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.992534473040422},{time:52.544599999904634,note:"E2",pitch:82.39344559265511,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9970572654240186},{time:52.56539999985695,note:"E2",pitch:82.39996027550124,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948969263767822},{time:52.587,note:"E2",pitch:82.42511603221524,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9925392200932066},{time:52.60769999980926,note:"E2",pitch:82.44790546917704,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9969328125065715},{time:52.628799999952314,note:"E2",pitch:82.42123835952586,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951652547251797},{time:52.6515,note:"E2",pitch:82.40864453611918,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9966311846479528},{time:52.67239999985695,note:"E2",pitch:82.40770773653445,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.994847964700341},{time:52.694199999809264,note:"E2",pitch:82.41935151517552,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9924569320352816},{time:52.715,note:"E2",pitch:82.42067773156654,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9970306370794617},{time:52.736199999809266,note:"E2",pitch:82.4349544449235,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943235105498047},{time:52.757299999952316,note:"E2",pitch:82.42034562389026,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9908175636969361},{time:52.77979999995232,note:"E2",pitch:82.40240739325426,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.995684697056646},{time:52.80129999995231,note:"E2",pitch:82.40884618547604,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9934587912606787},{time:52.82329999995232,note:"E2",pitch:82.42810093416752,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969674262479771},{time:52.84419999980926,note:"E2",pitch:82.44399570647983,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944866653997053},{time:52.865699999809266,note:"E2",pitch:82.40312566405571,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9924830441907773},{time:52.886799999952316,note:"E2",pitch:82.41309634550915,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9972458351612374},{time:52.90969999980926,note:"E2",pitch:82.42557701789491,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9930251662384251},{time:52.93089999985695,note:"E2",pitch:82.4271305280365,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996869657051775},{time:52.952899999856946,note:"E2",pitch:82.43096021641344,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9968800142338807},{time:52.97409999990463,note:"E2",pitch:82.41798991478976,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9943973148664611},{time:52.995899999856945,note:"E2",pitch:82.4379262716461,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971377089413238},{time:53.01739999985695,note:"E2",pitch:82.44803033193585,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948747291613245},{time:53.04029999995232,note:"E2",pitch:82.40936793735051,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964565985880824},{time:53.062,note:"E2",pitch:82.45422758472827,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9977035949057722},{time:53.0985,note:"E2",pitch:82.4439466240537,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9935637861204896},{time:53.12519999980927,note:"E2",pitch:82.4431897148038,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970679987706887},{time:53.152099999904635,note:"E2",pitch:82.45472046066052,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943356808385602},{time:53.17389999985695,note:"E2",pitch:82.483448580256,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9972917664132694},{time:53.195099999904635,note:"E2",pitch:82.47833628427472,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945685575800951},{time:53.21629999995232,note:"E2",pitch:82.44174673636176,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9963047289525377},{time:53.23909999990463,note:"E2",pitch:82.47140523467606,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.995194557694191},{time:53.26019999980927,note:"E2",pitch:82.45839017823985,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944290572364309},{time:53.282,note:"E2",pitch:82.45625669057115,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971151517375461},{time:53.30339999985695,note:"E2",pitch:82.47204996615099,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.994634620565165},{time:53.32479999995232,note:"E2",pitch:82.47351780727011,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934701449506065},{time:53.34609999990463,note:"E2",pitch:82.5010365674202,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9964831358695676},{time:53.36859999990463,note:"E2",pitch:82.4859296060652,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.99400570167154},{time:53.38969999980927,note:"E2",pitch:82.46622881256656,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9954575573643751},{time:53.4115,note:"E2",pitch:82.50573442195066,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9942728052910184},{time:53.43239999985695,note:"E2",pitch:82.48318286582645,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9919430395909501},{time:53.45389999985695,note:"E2",pitch:82.48462072291721,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9943449897329231},{time:53.47519999980926,note:"E2",pitch:82.5179718965147,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945840793110108},{time:53.498,note:"E2",pitch:82.510640402924,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9941407948544452},{time:53.51919999980927,note:"E2",pitch:82.5337512767407,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948180811722409},{time:53.54109999990463,note:"E2",pitch:82.51207378065095,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948995283311604},{time:53.562199999809266,note:"E2",pitch:82.5419214321507,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950182548432167},{time:53.5835,note:"E2",pitch:82.57254476113634,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9951841727531985},{time:53.60469999980926,note:"E2",pitch:82.53048471092687,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9945201876227259},{time:53.62709999990463,note:"E2",pitch:82.57664465026248,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9943535488680766},{time:53.6485,note:"E2",pitch:82.59971826342661,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9950216575540765},{time:53.670699999809266,note:"E2",pitch:82.55954532424315,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9942945920038824},{time:53.691699999809266,note:"E2",pitch:82.62265187769069,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9944832067616574},{time:53.713,note:"E2",pitch:82.57118484660266,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9942921399679392},{time:53.73419999980926,note:"E2",pitch:82.57751416753652,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9948853852622506},{time:53.75709999990463,note:"E2",pitch:82.59775355270538,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9955036703126723},{time:53.779299999952315,note:"E2",pitch:82.48355558631005,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9953880649777318},{time:53.80069999980927,note:"E2",pitch:82.5643563995507,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9956445359281645},{time:53.82209999990463,note:"E2",pitch:82.47225598804096,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9952744534413114},{time:53.84359999990463,note:"E2",pitch:82.4368918614192,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944208506230723},{time:53.8665,note:"E2",pitch:82.52858323224487,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9944071569542245},{time:53.88869999980926,note:"E2",pitch:82.46296205205297,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9945763925690869},{time:53.91009999990463,note:"E2",pitch:82.50010925649748,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9955644324643629},{time:53.933,note:"E2",pitch:82.48649411970477,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.995298438082898},{time:53.97159999990463,note:"E2",pitch:83.6055311157199,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8634317154406261},{time:53.99959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.02659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.04889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.07059999990463,note:"E2",pitch:83.5742714474353,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.32986541218696175},{time:54.09389999985695,note:"E2",pitch:82.8460047837486,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8797800899542381},{time:54.11619999980927,note:"E2",pitch:82.6725835202908,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9960850668934569},{time:54.13829999995232,note:"E2",pitch:82.66623343314747,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9991207336009467},{time:54.15989999985695,note:"E2",pitch:82.64522056396005,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989305607555536},{time:54.182699999809266,note:"E2",pitch:82.63157890970744,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989600489940358},{time:54.204099999904635,note:"E2",pitch:82.62229363484983,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989630090720709},{time:54.2265,note:"E2",pitch:82.60555246409885,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9988753526002654},{time:54.2495,note:"E2",pitch:82.57853186950402,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9987550742492601},{time:54.283099999904636,note:"E2",pitch:82.63246959500948,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9987340796965327},{time:54.3095,note:"E2",pitch:82.56808354028043,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9988035390931032},{time:54.33189999985695,note:"E2",pitch:82.57229240059876,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987277929386948},{time:54.3535,note:"E2",pitch:82.59504310085022,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989528529419545},{time:54.375099999904634,note:"E2",pitch:82.5622348838363,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987405800403621},{time:54.397899999856946,note:"E2",pitch:82.58194552216023,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9986785795830144},{time:54.41989999985695,note:"E2",pitch:82.55622217489442,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985102888333728},{time:54.4415,note:"E2",pitch:82.5483441045895,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9984502291085846},{time:54.46279999995232,note:"E2",pitch:82.56736316909748,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.998872309508144},{time:54.4855,note:"E2",pitch:82.54206937971995,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985530803499927},{time:54.507299999952316,note:"E2",pitch:82.56718093671671,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985416769704187},{time:54.529,note:"E2",pitch:82.57747123211405,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9987644814775791},{time:54.55039999985695,note:"E2",pitch:82.5438075209454,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978040601914699},{time:54.573,note:"E2",pitch:82.59363690235261,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9979377005791719},{time:54.59519999980927,note:"E2",pitch:82.55278019380263,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985792897444838},{time:54.61709999990463,note:"E2",pitch:82.53681696772665,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9982778396054073},{time:54.6385,note:"E2",pitch:82.55358178199903,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986432169934574},{time:54.66129999995232,note:"E2",pitch:82.53401088875968,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9979960920976083},{time:54.68389999985695,note:"E2",pitch:82.57832950762955,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9980948647301204},{time:54.705899999856946,note:"E2",pitch:82.54951366238886,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983457521135506},{time:54.72789999985695,note:"E2",pitch:82.52464485778603,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981230382567077},{time:54.75059999990463,note:"E2",pitch:82.5587010321724,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986041874058458},{time:54.77309999990463,note:"E2",pitch:82.50932639109881,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979084599860073},{time:54.795,note:"E2",pitch:82.53098162147822,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978225755855448},{time:54.817099999904634,note:"E2",pitch:82.56273466525082,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983145225972123},{time:54.84009999990463,note:"E2",pitch:82.51994324863276,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9975573595501714},{time:54.86209999990463,note:"E2",pitch:82.55537872801567,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986265935699805},{time:54.884399999856946,note:"E2",pitch:82.51629538540986,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.998074165153298},{time:54.90709999990463,note:"E2",pitch:82.51181964325023,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9976770233198948},{time:54.92959999990463,note:"E2",pitch:82.52311043837997,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9983276054367423},{time:54.9525,note:"E2",pitch:82.50150891051366,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9974118404644798},{time:54.995199999809266,note:"E2",pitch:82.52279565917723,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979826814143564},{time:55.02419999980926,note:"E2",pitch:82.50447651898118,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9977711396120554},{time:55.051699999809266,note:"E2",pitch:82.50273277704416,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971826175643201},{time:55.075199999809264,note:"E2",pitch:82.49660580641145,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9955119624363107},{time:55.09829999995232,note:"E2",pitch:82.54023585514045,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.998112836063882},{time:55.120899999856945,note:"E2",pitch:82.48464963878439,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.996311743979021},{time:55.143,note:"E2",pitch:82.55322100024753,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976360795789105},{time:55.1665,note:"E2",pitch:82.51577167832647,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971609457407027},{time:55.188699999809266,note:"E2",pitch:82.46986793017389,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958749967496203},{time:55.21059999990463,note:"E2",pitch:82.5528979387942,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976922187897515},{time:55.23419999980926,note:"E2",pitch:82.48342464556019,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957062370524881},{time:55.256399999856946,note:"E2",pitch:82.51277699251355,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9967687565406607},{time:55.27839999985695,note:"E2",pitch:82.5363491865707,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9977178718827275},{time:55.3015,note:"E2",pitch:82.4743812027817,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9960058930945479},{time:55.323799999952314,note:"E2",pitch:82.5341826189072,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9981285869087628},{time:55.34589999985695,note:"E2",pitch:82.46433706111108,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9963614451623641},{time:55.369099999904634,note:"E2",pitch:82.54548292863794,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976914019960077},{time:55.39179999995232,note:"E2",pitch:82.51127558911628,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.99713235682934},{time:55.41379999995232,note:"E2",pitch:82.45465004923521,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956687192183864},{time:55.437,note:"E2",pitch:82.53098334253333,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978033042119421},{time:55.45939999985695,note:"E2",pitch:82.45624333705724,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959631893977985},{time:55.4815,note:"E2",pitch:82.50206330162149,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9967692459335211},{time:55.50469999980926,note:"E2",pitch:82.51512391838986,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9973569388705243},{time:55.527,note:"E2",pitch:82.45630588977465,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958443322031343},{time:55.549,note:"E2",pitch:82.54378028368548,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9975583951028995},{time:55.5725,note:"E2",pitch:82.45692918746586,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962079790982443},{time:55.594699999809265,note:"E2",pitch:82.45456614368173,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9966189698753851},{time:55.61669999980926,note:"E2",pitch:82.55262375202506,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978805222560396},{time:55.64019999980926,note:"E2",pitch:82.46471088593621,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.995147424868918},{time:55.66339999985695,note:"E2",pitch:82.56752819472564,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978775406133309},{time:55.68529999995231,note:"E2",pitch:82.51015441827985,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965170822907368},{time:55.708599999904635,note:"E2",pitch:82.46750676869569,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957002973168869},{time:55.731099999904636,note:"E2",pitch:82.53493452531998,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9974102524494839},{time:55.75319999980927,note:"E2",pitch:82.47278182610242,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956485301982383},{time:55.77639999985695,note:"E2",pitch:82.54653735930363,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978939996735505},{time:55.799099999904634,note:"E2",pitch:82.49024995240319,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958499915388046},{time:55.821299999952316,note:"E2",pitch:82.50938525595635,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9969736590690559},{time:55.845,note:"E2",pitch:82.58108770040371,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9978986687641225},{time:55.882199999809266,note:"E2",pitch:82.48109176193395,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968277792086155},{time:55.91159999990463,note:"E2",pitch:82.55751723701407,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9967940722779502},{time:55.938699999809266,note:"E2",pitch:82.47300250734236,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9965394331114368},{time:55.961,note:"E2",pitch:82.59043311823125,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9977458815254607},{time:55.984699999809266,note:"E2",pitch:82.48332198987266,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965258913960184},{time:56.0075,note:"E2",pitch:82.5357802086117,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983790545303748},{time:56.030099999904635,note:"E2",pitch:82.53594169930274,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9958619382258007},{time:56.05389999985695,note:"E2",pitch:82.47336045947608,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970498773990784},{time:56.07659999990463,note:"E2",pitch:82.6205097060535,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9979067415850693},{time:56.09909999990463,note:"E2",pitch:82.46739425516918,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959805847894643},{time:56.12279999995231,note:"E2",pitch:82.57893741577732,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9980757236515245},{time:56.145299999952314,note:"E3",pitch:165.02613008658565,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9014186589573825},{time:56.16729999995231,note:"E3",pitch:164.98837042604544,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9068272482472288},{time:56.19079999995232,note:"E3",pitch:165.15611332339574,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.91290486901406},{time:56.21329999995232,note:"E3",pitch:165.20184304243253,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9149175264927898},{time:56.2355,note:"E3",pitch:164.73669858677457,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9134073478241724},{time:56.25889999985695,note:"E3",pitch:165.15332761157197,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9180713084409575},{time:56.28129999995232,note:"E3",pitch:164.40543149349085,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9068981097256845},{time:56.30339999985695,note:"E3",pitch:165.29037508196754,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.907419570306665},{time:56.327,note:"E3",pitch:165.26475245296757,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9059009438351886},{time:56.3495,note:"E2",pitch:82.54828834663118,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.997991411064973},{time:56.372,note:"E3",pitch:165.0080218810867,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9024920135086347},{time:56.39539999985695,note:"E2",pitch:82.4319055603247,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970599291099518},{time:56.418,note:"E2",pitch:82.64619575140097,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9979315253783625},{time:56.44009999990463,note:"E2",pitch:82.49274400505065,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9963272252347082},{time:56.46339999985695,note:"E2",pitch:82.58525898306044,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9970275524250951},{time:56.486,note:"E2",pitch:82.65633357464539,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9965830622521992},{time:56.508,note:"E2",pitch:82.51721282942069,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948604977767843},{time:56.53169999980926,note:"E2",pitch:82.65568142257462,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9942425804954524},{time:56.55409999990463,note:"E2",pitch:82.54842487642289,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9917641919751219},{time:56.57659999990463,note:"E2",pitch:82.59972713766373,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946517335751395},{time:56.600099999904636,note:"E2",pitch:83.22337687998314,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9778649357319154},{time:56.622699999809264,note:"E2",pitch:83.01830436230304,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9520097771288789},{time:56.64479999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.66829999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.69069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.71269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.736299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.7735,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.802099999904634,note:"F4",pitch:343.9892163821738,noteMidi:65,actualMidi:64.74,actualMidiChroma:4.739999999999995,centsOffset:-26.00000000000051,clarity:.7047990557248056},{time:56.82919999980926,note:"E2",pitch:83.52068513966194,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.7574987446279806},{time:56.85209999990463,note:"E2",pitch:83.05904795357816,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9947832344192875},{time:56.875799999952314,note:"E2",pitch:82.96108237491764,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9987990417729122},{time:56.89839999985695,note:"E2",pitch:82.92220238223427,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9988090038622488},{time:56.92059999990463,note:"E2",pitch:82.87033236972574,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9985530263930968},{time:56.94409999990463,note:"E2",pitch:82.86605528295932,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.999013378975576},{time:56.966799999952315,note:"E2",pitch:82.86366129929512,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9988297123262839},{time:56.98939999985695,note:"E2",pitch:82.84925823453831,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.998901519784539},{time:57.01319999980927,note:"E2",pitch:82.83941644866994,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9987745932717473},{time:57.03629999995232,note:"E2",pitch:82.83734175927182,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.998845611582226},{time:57.05879999995231,note:"E2",pitch:82.82565763451883,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9993142767142729},{time:57.082799999952314,note:"E2",pitch:82.81836179793618,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9991189386977339},{time:57.10579999995232,note:"E2",pitch:82.80421836796125,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9992413398258435},{time:57.128099999904634,note:"E2",pitch:82.78530986016985,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9992586203021574},{time:57.15179999995232,note:"E2",pitch:82.77427154945666,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9993126466991953},{time:57.17429999995232,note:"E2",pitch:82.76862509291864,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9995502737475874},{time:57.196899999856946,note:"E2",pitch:82.76182545340178,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9991111891572189},{time:57.22069999980926,note:"E2",pitch:82.76208072260854,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995098089274563},{time:57.2435,note:"E2",pitch:82.75464104737044,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995729335300609},{time:57.266,note:"E2",pitch:82.75364703886787,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994502937702521},{time:57.28929999995232,note:"E2",pitch:82.7417435402428,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996168571742601},{time:57.31189999985695,note:"E2",pitch:82.74417757422779,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995363148776732},{time:57.33409999990463,note:"E2",pitch:82.73631320488353,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996459509779925},{time:57.35739999985695,note:"E2",pitch:82.71918769191089,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994945236371962},{time:57.38009999990463,note:"E2",pitch:82.72871761637138,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994354094076954},{time:57.4025,note:"E2",pitch:82.71813838856735,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996872216731134},{time:57.426,note:"E2",pitch:82.70480210986015,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9993841358051725},{time:57.44909999990463,note:"E2",pitch:82.70274422270289,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997357682179882},{time:57.471299999952315,note:"E2",pitch:82.68716723900916,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997297232399234},{time:57.49479999995231,note:"E2",pitch:82.69775314238609,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996231840955119},{time:57.5175,note:"E2",pitch:82.68625650944496,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997559854158595},{time:57.54019999980927,note:"E2",pitch:82.68624271662438,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996961335740906},{time:57.563799999952316,note:"E2",pitch:82.69830112438727,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997133879358273},{time:57.58639999985695,note:"E2",pitch:82.67574087932898,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9995761597206467},{time:57.6085,note:"E2",pitch:82.67777577871819,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9994087318691669},{time:57.632299999952316,note:"E2",pitch:82.66463043665767,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997162407466931},{time:57.66979999995232,note:"E2",pitch:82.6810056716948,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.999579855100734},{time:57.70039999985695,note:"E2",pitch:82.66864549873699,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997201971745113},{time:57.7285,note:"E2",pitch:82.68170288514999,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996153885771122},{time:57.75259999990463,note:"E2",pitch:82.64458831740836,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997630882529762},{time:57.77509999990463,note:"E2",pitch:82.66246303841719,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996149307464606},{time:57.79779999995232,note:"E2",pitch:82.65560436212067,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998044031749487},{time:57.821,note:"E2",pitch:82.63587031429356,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996053179764175},{time:57.8435,note:"E2",pitch:82.65235420826045,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.99972226875974},{time:57.865799999952316,note:"E2",pitch:82.61003909086374,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997429005182852},{time:57.8895,note:"E2",pitch:82.65213089949758,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9993731477544401},{time:57.91209999990463,note:"E2",pitch:82.61730228576693,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998518427461391},{time:57.9345,note:"E2",pitch:82.62020635044388,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995713440941927},{time:57.95789999985695,note:"E2",pitch:82.64634686025619,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9995209681435284},{time:57.98069999980927,note:"E2",pitch:82.59915880163413,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997148950837556},{time:58.00359999990463,note:"E2",pitch:82.63515142649767,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9994397666731203},{time:58.02739999985695,note:"E2",pitch:82.6192709449479,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997925424987244},{time:58.05039999985695,note:"E2",pitch:82.6164709588491,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995185149644925},{time:58.07319999980926,note:"E2",pitch:82.6364481138381,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996338499222048},{time:58.097,note:"E2",pitch:82.58536509737198,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999750413162019},{time:58.119699999809264,note:"E2",pitch:82.64789954472701,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999340602085951},{time:58.142299999952314,note:"E2",pitch:82.61360439067302,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997303426975037},{time:58.16569999980926,note:"E2",pitch:82.60595825098294,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989734648477082},{time:58.188299999952314,note:"E2",pitch:82.6666595436078,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.998837367491717},{time:58.210799999952314,note:"E2",pitch:82.58803486676557,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994697511964006},{time:58.23429999995231,note:"E2",pitch:82.63898247668443,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.998667553264383},{time:58.25769999980926,note:"E2",pitch:82.628810272115,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9994348134246422},{time:58.28019999980926,note:"E2",pitch:82.59871913291164,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989618122412622},{time:58.30419999980926,note:"E2",pitch:82.63320241759968,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9991179923337654},{time:58.327,note:"E2",pitch:82.56690974041916,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9995035824990026},{time:58.34969999980927,note:"E2",pitch:82.64199670988626,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9987985102893617},{time:58.373299999952316,note:"E2",pitch:82.59744057404322,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994286711698948},{time:58.3965,note:"E2",pitch:82.5726459070439,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992470654726446},{time:58.419,note:"E2",pitch:82.64354455602805,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989871680311637},{time:58.44289999985695,note:"E2",pitch:82.57219785978909,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9991331572007169},{time:58.466099999904635,note:"E2",pitch:82.63627620875012,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9988479304685569},{time:58.48889999985695,note:"E2",pitch:82.62530547369508,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9988867074005015},{time:58.512799999952314,note:"E2",pitch:82.58008684073764,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.998213357290922},{time:58.5505,note:"E2",pitch:82.54305320751538,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987394446346087},{time:58.5815,note:"E2",pitch:82.65823847297372,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9975880012170677},{time:58.608599999904634,note:"E2",pitch:82.55987512482989,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9982990619125331},{time:58.632199999809266,note:"E2",pitch:82.63227718879854,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9972135665664865},{time:58.65489999985695,note:"E2",pitch:82.61658404507095,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.997071983976781},{time:58.67789999985695,note:"E2",pitch:82.5527828672699,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9974206408242736},{time:58.7015,note:"E2",pitch:82.61200019699949,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9969386736828483},{time:58.72439999985695,note:"E2",pitch:82.51877131340292,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9970101258750077},{time:58.747099999904634,note:"E2",pitch:82.57002658791225,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9956233927801748},{time:58.77079999995232,note:"E2",pitch:82.63077154655622,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9957043451754544},{time:58.79389999985695,note:"E2",pitch:82.55574787670024,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948644475525015},{time:58.817099999904634,note:"E2",pitch:82.66972326838055,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9936526246138015},{time:58.84059999990463,note:"E2",pitch:82.54170913860622,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9953899675947611},{time:58.86379999995231,note:"E2",pitch:82.59334285698961,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9937939151985233},{time:58.88719999980926,note:"E2",pitch:82.65844171520403,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9921150534264882},{time:58.91059999990463,note:"E2",pitch:82.48531332886428,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9953166152583037},{time:58.93409999990463,note:"E2",pitch:82.59861904639843,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9930983067497863},{time:58.95729999995232,note:"E2",pitch:82.50350381589432,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9934194023969241},{time:58.98089999985695,note:"E2",pitch:82.65926045330465,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9843161580812563},{time:59.004599999904634,note:"E2",pitch:82.69907051554905,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9843660066820803},{time:59.02829999995232,note:"E2",pitch:83.13374425845664,noteMidi:40,actualMidi:40.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9162248386831493},{time:59.051699999809266,note:"E2",pitch:83.56332254086612,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.7204481108360881},{time:59.075199999809264,note:"E2",pitch:84.00873558992173,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.7908633633067126},{time:59.0985,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.12189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.145,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.16789999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.191,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.21419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.23729999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.26079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.28419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.3075,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.331,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.35409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.37819999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.41609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.446299999952316,note:"Eb3",pitch:159.76647693534275,noteMidi:51,actualMidi:51.46,actualMidiChroma:3.460000000000001,centsOffset:46.000000000000085,clarity:.30216439008276597},{time:59.474,note:"E2",pitch:82.50058046219291,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.915682376403467},{time:59.49719999980927,note:"E2",pitch:82.64421464277889,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9937526540895618},{time:59.5205,note:"E2",pitch:82.56313241957349,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9970504622888967},{time:59.54379999995231,note:"E2",pitch:82.59286942725134,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9961000861776199},{time:59.56729999995232,note:"E2",pitch:82.6034679433255,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9941790609346839},{time:59.5905,note:"E2",pitch:82.5850902889132,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9975664826638138},{time:59.61409999990463,note:"E2",pitch:82.58517462168669,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.994091506222361},{time:59.63759999990463,note:"E2",pitch:82.56911441791688,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955224210613522},{time:59.66129999995232,note:"E2",pitch:82.59353348782707,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9953388530474854},{time:59.68469999980927,note:"E2",pitch:82.56775854148623,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9927969952966009},{time:59.70829999995232,note:"E2",pitch:82.58144966254606,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9965422195893581},{time:59.731699999809265,note:"E2",pitch:82.59333422155919,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9940606402043812},{time:59.755199999809264,note:"E2",pitch:82.54904544082734,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9962782496029519},{time:59.778599999904635,note:"E2",pitch:82.56873402411169,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9953647720360834},{time:59.802,note:"E2",pitch:82.6053537974305,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9956037389943049},{time:59.82559999990463,note:"E2",pitch:82.56098994174928,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9958343847960833},{time:59.849199999809265,note:"E2",pitch:82.59352314445562,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9932739010162237},{time:59.8725,note:"E2",pitch:82.55640622934999,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9968369275043898},{time:59.89619999980926,note:"E2",pitch:82.54308362044283,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949303597956884},{time:59.9195,note:"E2",pitch:82.58223294188524,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9969907762692571},{time:59.943,note:"E2",pitch:82.5872059405624,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9898207227551978},{time:59.96659999990463,note:"E2",pitch:82.56459523447178,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9781928117876078},{time:59.99029999995231,note:"E2",pitch:82.55721331665575,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947784890862295},{time:60.014,note:"E2",pitch:82.62130968190009,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9770242866449053},{time:60.03809999990463,note:"E2",pitch:82.65071530524412,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9705279728728158},{time:60.062,note:"E2",pitch:82.57762998560327,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.993648857298183},{time:60.08589999985695,note:"E2",pitch:82.56474997682706,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9919876253469511},{time:60.109799999952315,note:"E2",pitch:82.74923521623238,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.970347270658479},{time:60.1335,note:"E2",pitch:84.09205415887133,noteMidi:40,actualMidi:40.35,actualMidiChroma:4.350000000000001,centsOffset:35.00000000000014,clarity:.7695245978562042},{time:60.15709999990463,note:"C1",pitch:32.3470884275573,noteMidi:24,actualMidi:23.81,actualMidiChroma:11.809999999999999,centsOffset:-19.000000000000128,clarity:.2790133261763117},{time:60.181,note:"E2",pitch:82.76497512689484,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7580361046046846},{time:60.20459999990463,note:"E2",pitch:82.76032063440769,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9462087074941223},{time:60.22789999985695,note:"E2",pitch:82.70042077385048,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9927524790720383},{time:60.2525,note:"E2",pitch:82.60135150293455,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9941140756635178},{time:60.28989999985695,note:"E2",pitch:82.56538018627792,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9935919621543547},{time:60.31939999985695,note:"E2",pitch:82.61328442942548,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.991768154787124},{time:60.3475,note:"E2",pitch:82.56577182063133,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9924111861290328},{time:60.371,note:"E2",pitch:82.61265440052226,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9913940246936903},{time:60.39429999995232,note:"E2",pitch:82.61703893691467,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9849766633421666},{time:60.417799999952315,note:"E2",pitch:82.53206710134543,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9941600436794573},{time:60.44139999985695,note:"E2",pitch:82.60276889138974,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9900310612863308},{time:60.46509999990463,note:"E2",pitch:82.52705691002568,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9929875942755615},{time:60.489,note:"E2",pitch:82.56150008366117,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948062819234025},{time:60.51229999995232,note:"E2",pitch:82.5399327234328,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9902908456362098},{time:60.536099999904636,note:"E2",pitch:82.54119962506465,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950936287181804},{time:60.55939999985695,note:"E2",pitch:82.58188782128221,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9926852141685316},{time:60.58339999985695,note:"E2",pitch:82.50575308306247,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9952316674278734},{time:60.607,note:"E2",pitch:82.56745558852062,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9934641881864934},{time:60.63059999990463,note:"E2",pitch:83.05630788250136,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9355199647258274},{time:60.654199999809265,note:"F2",pitch:84.95586245018873,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.6873081327358648},{time:60.67809999990463,note:"Bb0",pitch:29.83809604643441,noteMidi:22,actualMidi:22.41,actualMidiChroma:10.41,centsOffset:41.000000000000014,clarity:.6416665659839396},{time:60.701699999809264,note:"E2",pitch:82.78488229293471,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.8821270102615415},{time:60.72559999990463,note:"E2",pitch:82.62638835494137,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9730407413646702},{time:60.749199999809264,note:"E2",pitch:82.74555256524268,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9722261928287992},{time:60.77309999990463,note:"E2",pitch:82.58319862583032,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9861575084956087},{time:60.79689999985695,note:"E2",pitch:82.63891319584654,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9852224922278765},{time:60.820699999809264,note:"E2",pitch:82.56783531604668,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9840279193157642},{time:60.84439999985695,note:"E2",pitch:82.57264309933153,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9874159220452725},{time:60.86809999990463,note:"E2",pitch:82.60774511508772,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9818010271211932},{time:60.89179999995232,note:"E2",pitch:82.61202148759259,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9853035868557498},{time:60.91569999980926,note:"E2",pitch:82.65105834565094,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9801795199388152},{time:60.9395,note:"E2",pitch:82.58001096878208,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.983978521510636},{time:60.96339999985695,note:"E2",pitch:82.60284203092137,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9852446864252329},{time:60.9875,note:"E2",pitch:82.61480313936408,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9826823716645663},{time:61.012099999904635,note:"E2",pitch:82.58381615490578,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9889337138892955},{time:61.036099999904636,note:"E2",pitch:82.72045153936646,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9581447693711738},{time:61.0605,note:"E2",pitch:82.3443799130625,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.5490324904361046},{time:61.08439999985695,note:"F2",pitch:85.24792682751833,noteMidi:41,actualMidi:40.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.40627094712837675},{time:61.108599999904634,note:"E2",pitch:82.34197340279378,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9041153105901856},{time:61.132199999809266,note:"E2",pitch:82.68784041266224,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9896371337343055},{time:61.15609999990463,note:"E2",pitch:82.58965867681559,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9883734382030127},{time:61.17989999985695,note:"E2",pitch:82.60404400446727,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9917536620705079},{time:61.21839999985695,note:"E2",pitch:82.54098444442926,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9902327104067865},{time:61.2485,note:"E2",pitch:82.63562691356267,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.991211580580611},{time:61.277099999904635,note:"E2",pitch:82.57581463628935,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9927287404184426},{time:61.30139999985695,note:"E2",pitch:82.66375150026592,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9927630494456992},{time:61.325,note:"E2",pitch:82.62164752279617,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9902478828144723},{time:61.3485,note:"E2",pitch:82.62766914287617,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9957883046569549},{time:61.37229999995232,note:"E2",pitch:82.61646764557801,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9933994426638577},{time:61.39569999980927,note:"E2",pitch:82.7084052188416,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9933663790272504},{time:61.41969999980927,note:"E2",pitch:84.6179394946251,noteMidi:40,actualMidi:40.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.8304130766831435},{time:61.443299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.46719999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.49089999985695,note:"E2",pitch:83.97916174240441,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.7370726933826859},{time:61.51489999985695,note:"E2",pitch:83.85671786121331,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9504760479222796},{time:61.53869999980927,note:"E2",pitch:83.83406065578536,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.953754958029208},{time:61.56269999980927,note:"E2",pitch:83.7422621335407,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9596897225594034},{time:61.58629999995232,note:"E2",pitch:83.64721228875798,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9586383791637445},{time:61.61019999980927,note:"E2",pitch:83.61587906160005,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9640589430970863},{time:61.63389999985695,note:"E2",pitch:83.46619208173347,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9631812471329795},{time:61.6585,note:"E2",pitch:83.57840699431463,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9573055590300896},{time:61.682,note:"E2",pitch:83.51329362945097,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9672869217988307},{time:61.7065,note:"E2",pitch:83.50565058965606,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9635454052832699},{time:61.730299999952315,note:"E2",pitch:83.56231163566136,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.965269529469623},{time:61.755199999809264,note:"E2",pitch:83.56183128167613,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.957490765119303},{time:61.77869999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.803299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.8265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.85109999990463,note:"E2",pitch:83.65479258228008,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.8624105879377453},{time:61.874699999809266,note:"E2",pitch:83.58549660390747,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9670941269196476},{time:61.899399999856946,note:"E2",pitch:83.69678601233092,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.961036497043068},{time:61.923,note:"E2",pitch:83.47296405902145,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9693760111181291},{time:61.94769999980927,note:"E2",pitch:83.18539767900187,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.974624039622384},{time:61.9715,note:"E2",pitch:83.08421156757795,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9762086691020784},{time:61.996699999809266,note:"E2",pitch:82.88019705611202,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9817875974645176},{time:62.02159999990463,note:"E2",pitch:82.80563111167771,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9855343870184896},{time:62.0465,note:"E2",pitch:82.63451156817389,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9916522924081903},{time:62.07089999985695,note:"E2",pitch:82.58621256433244,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946213282277938},{time:62.095599999904636,note:"E2",pitch:82.50477842121624,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9974406399010007},{time:62.13579999995232,note:"E2",pitch:82.49663381258377,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978149648946157},{time:62.16539999985695,note:"E2",pitch:82.46119876876955,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987549952132184},{time:62.19459999990463,note:"E2",pitch:82.90169306621011,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9916145803997409},{time:62.218,note:"E2",pitch:84.57786527147223,noteMidi:40,actualMidi:40.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9425558132396645},{time:62.242299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.2665,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.29179999995232,note:"E2",pitch:83.53495805488615,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.6252527246159616},{time:62.31569999980927,note:"E2",pitch:83.49008640165191,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.881286514522742},{time:62.34059999990463,note:"E2",pitch:83.58715922892179,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9488106618366032},{time:62.36439999985695,note:"E2",pitch:83.57370917062302,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9352082467793821},{time:62.3895,note:"E2",pitch:83.72001790869332,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9545932024700505},{time:62.414099999904636,note:"E2",pitch:83.63971045688079,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9480526995916989},{time:62.43859999990463,note:"E2",pitch:83.70195724246774,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9596117935362827},{time:62.46319999980926,note:"E2",pitch:83.48877096493456,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9603594318110993},{time:62.48759999990463,note:"E2",pitch:83.47741164271902,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9592164345354206},{time:62.511799999952316,note:"E2",pitch:83.24667692804123,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9701889396260128},{time:62.537,note:"E2",pitch:83.24854985034067,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9671390224464318},{time:62.561,note:"E2",pitch:83.08133401539429,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9777829166385601},{time:62.58489999985695,note:"E2",pitch:82.93162590884522,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9811259451277436},{time:62.61,note:"E2",pitch:82.93767050234825,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9829474755050143},{time:62.63419999980926,note:"E2",pitch:82.8205112473183,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9855447373150952},{time:62.65889999985695,note:"E2",pitch:84.2234204223355,noteMidi:40,actualMidi:40.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9281076157176358},{time:62.682799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.70689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.7315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.756,note:"E3",pitch:163.0949614196495,noteMidi:52,actualMidi:51.82,actualMidiChroma:3.8200000000000003,centsOffset:-17.99999999999997,clarity:.8166110012083934},{time:62.78119999980927,note:"E3",pitch:165.53795352416245,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9353063620431215},{time:62.80539999985695,note:"E3",pitch:164.86130973502077,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.925689698676539},{time:62.82919999980926,note:"E3",pitch:164.89138449322215,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9126251257574687},{time:62.85409999990463,note:"E3",pitch:165.64381455904788,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8855159055395525},{time:62.878399999856946,note:"E2",pitch:82.64460625253605,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.994103376870882},{time:62.9035,note:"E2",pitch:82.46060861946985,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9939665319015631},{time:62.928,note:"E2",pitch:82.56159597011268,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9944059510753078},{time:62.952,note:"E2",pitch:82.61556264370284,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9965375709646906},{time:62.97689999985695,note:"E2",pitch:82.63363072125686,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9942007314710679},{time:63.00169999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:63.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:63.067799999952314,note:"C4",pitch:266.22214732232726,noteMidi:60,actualMidi:60.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.3558298091020813},{time:63.09839999985695,note:"E2",pitch:82.80712824560713,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7653124590933373},{time:63.12909999990463,note:"E2",pitch:82.64988866597557,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9953124933102941},{time:63.154,note:"E2",pitch:82.5764030864101,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9955305450505563},{time:63.179,note:"E2",pitch:82.62946105532791,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9940254182297252},{time:63.20309999990463,note:"E2",pitch:82.60191447324557,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9954281732836847},{time:63.22709999990463,note:"E2",pitch:82.61750322881585,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.994199127268999},{time:63.252199999809264,note:"E2",pitch:82.57035848716353,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9930220421325942},{time:63.27679999995232,note:"E2",pitch:82.54897467990062,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9959616469394632},{time:63.302,note:"E2",pitch:82.60832303548092,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9911641757576604},{time:63.32659999990463,note:"E2",pitch:82.5286716744456,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9934223031089573},{time:63.350799999952315,note:"E2",pitch:82.65467940461576,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9883739446279378},{time:63.375699999809264,note:"E2",pitch:82.53714023402665,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9935071102686521},{time:63.40029999995232,note:"E2",pitch:82.64245417504142,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9818787177250812},{time:63.4255,note:"E2",pitch:82.53616916863434,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9763707590081054},{time:63.44969999980926,note:"E2",pitch:82.6456898322779,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9848072900407345},{time:63.47369999980926,note:"E2",pitch:82.73493767836429,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9634191039152995},{time:63.49879999995232,note:"E2",pitch:82.58614528337907,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.987445668849432},{time:63.52339999985695,note:"E2",pitch:82.66203357109669,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9913671728359503},{time:63.54829999995231,note:"E2",pitch:82.59037095140197,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9944210648774288},{time:63.57259999990463,note:"E2",pitch:82.64187204890042,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9977283388693223},{time:63.5965,note:"E2",pitch:82.65362842017407,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9969912285316838},{time:63.620899999856945,note:"E2",pitch:82.6110188646513,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9991056574295101},{time:63.64589999985695,note:"E2",pitch:82.61769458480626,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9991739194870206},{time:63.671099999904634,note:"E2",pitch:82.57711404245822,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995216501015562},{time:63.69519999980926,note:"E2",pitch:82.59581020482784,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9993945762160195},{time:63.719099999904635,note:"E2",pitch:82.6013385528476,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996052023643216},{time:63.744,note:"E2",pitch:82.61300253809243,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994376064861257},{time:63.768399999856946,note:"E2",pitch:82.6251980371578,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9992840644350309},{time:63.79369999980926,note:"E2",pitch:82.59402453772884,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995646577075092},{time:63.81809999990463,note:"E2",pitch:82.62672120690675,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9993182820557678},{time:63.84219999980927,note:"E2",pitch:82.58398865277476,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994953368524335},{time:63.8675,note:"E2",pitch:82.59399622445923,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995566110731318},{time:63.892199999809264,note:"E2",pitch:82.5951893179298,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9993354990554195},{time:63.91729999995231,note:"E2",pitch:82.59943183476192,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996032545798954},{time:63.94159999990463,note:"E2",pitch:82.59586384963265,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995000447552513},{time:63.966099999904635,note:"E2",pitch:82.60262676270236,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995390076780666},{time:64.01059999990463,note:"E2",pitch:82.58415895446129,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995154196084144},{time:64.04129999995232,note:"E2",pitch:82.61301333776116,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995390736326897},{time:64.07229999995232,note:"E2",pitch:82.59790097772004,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996311318631115},{time:64.09789999985695,note:"E2",pitch:82.59632658638468,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997150360644298},{time:64.12309999990464,note:"E2",pitch:82.60245144590151,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996387587801365},{time:64.14759999990463,note:"E2",pitch:82.59371095843179,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999766944856546},{time:64.17189999985695,note:"E2",pitch:82.59818908808447,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.99943208086151},{time:64.197,note:"E2",pitch:82.59546583503634,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999792006764892},{time:64.22179999995231,note:"E2",pitch:82.60248050885893,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996850320646189},{time:64.247,note:"E2",pitch:82.56913842119403,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997776168765427},{time:64.27159999990464,note:"E2",pitch:82.60269863730078,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998079556529262},{time:64.29589999985694,note:"E2",pitch:82.61797757861585,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998091438072549},{time:64.32159999990463,note:"E2",pitch:82.5830182572338,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998950855934936},{time:64.34659999990463,note:"E2",pitch:82.59214402533229,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999880027722611},{time:64.372,note:"E2",pitch:82.57612207556642,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9999132923820184},{time:64.39669999980927,note:"E2",pitch:82.56217234647308,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998743846425668},{time:64.42119999980926,note:"E2",pitch:82.58299141893211,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998680975121772},{time:64.44639999985695,note:"E2",pitch:82.57828678226916,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998280461645095},{time:64.47139999985694,note:"E2",pitch:82.58675727150981,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998411099663684},{time:64.497,note:"E2",pitch:82.60239432324066,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998877596899547},{time:64.52169999980927,note:"E2",pitch:82.5996077718564,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998367934552164},{time:64.54609999990463,note:"E2",pitch:82.58285054001172,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999879510808114},{time:64.57139999985695,note:"E2",pitch:82.58772707079255,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998821616266866},{time:64.5965,note:"E2",pitch:82.6059129014951,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999872274006151},{time:64.62179999995232,note:"E2",pitch:82.59808112420797,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998949227257441},{time:64.64639999985695,note:"E2",pitch:82.62846101671634,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998815051952761},{time:64.671,note:"E2",pitch:82.58955314814501,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997599016782175},{time:64.69679999995232,note:"E2",pitch:82.5961711268845,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996546487651301},{time:64.72159999990463,note:"E2",pitch:82.60610709665607,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998789683325953},{time:64.74709999990463,note:"E2",pitch:82.59325140805825,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999855853950578},{time:64.77189999985696,note:"E2",pitch:82.59748242151669,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998786975322389},{time:64.79659999990463,note:"E2",pitch:82.60377166648443,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998789978728979},{time:64.83809999990463,note:"E2",pitch:82.62597288824932,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999881841555947},{time:64.86879999995232,note:"E2",pitch:82.60933710422901,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998675470864669},{time:64.89869999980927,note:"E2",pitch:82.60606940758454,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998307952245256},{time:64.92389999985694,note:"E2",pitch:82.6041942994518,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997014330326124},{time:64.94939999985695,note:"E2",pitch:82.60814618109853,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998721017196459},{time:64.97439999985694,note:"E2",pitch:82.60437206289315,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998495442473256},{time:64.99909999990463,note:"E2",pitch:82.61248567394628,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998498593882204},{time:65.02519999980926,note:"E2",pitch:82.63402046975172,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998796340805143},{time:65.05059999990463,note:"E2",pitch:82.6340046814268,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999837658877027},{time:65.07659999990463,note:"E2",pitch:82.61315863422473,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998642133613203},{time:65.10169999980927,note:"E2",pitch:82.6189238441658,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998622206803702},{time:65.1265,note:"E2",pitch:82.61570985639598,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998103421500559},{time:65.15189999985695,note:"E2",pitch:82.60131006278812,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996054118255984},{time:65.17729999995231,note:"E2",pitch:82.61481185240264,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998170505608641},{time:65.20259999990463,note:"E2",pitch:82.61158852747965,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997565759335316},{time:65.22719999980926,note:"E2",pitch:82.59378137527266,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997365470214561},{time:65.25189999985695,note:"E2",pitch:82.56926279116043,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998422105552152},{time:65.27769999980927,note:"E2",pitch:82.5666674678763,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997675689401149},{time:65.303,note:"E2",pitch:82.58054611356455,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998490458309703},{time:65.3285,note:"E2",pitch:82.58673113899394,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998363359502775},{time:65.35319999980926,note:"E2",pitch:82.56875703885129,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.999772442757461},{time:65.37769999980927,note:"E2",pitch:82.57018417243432,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997559253259283},{time:65.40309999990463,note:"E2",pitch:82.57181963681687,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997355761508118},{time:65.42829999995232,note:"E2",pitch:82.92078115044785,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9917559139360463},{time:65.45379999995231,note:"E2",pitch:84.39007798507006,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.7800887321767789},{time:65.47879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:65.5035,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:65.529,note:"E3",pitch:166.2599770177619,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.46910930482043867},{time:65.554,note:"E2",pitch:82.97696446957578,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.882074812115988},{time:65.57989999985695,note:"E2",pitch:82.70934910674502,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9939922649221415},{time:65.60559999990463,note:"E2",pitch:82.67143305307015,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9952704617573289},{time:65.64629999995232,note:"E2",pitch:82.64382752862126,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9925483867862681},{time:65.67659999990464,note:"E2",pitch:82.67975524383762,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9952189370005158},{time:65.70539999985695,note:"E2",pitch:82.58853892845194,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9938156712386359},{time:65.73029999995232,note:"E2",pitch:82.71893410494218,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9947315855242778},{time:65.75569999980927,note:"E2",pitch:82.72963215039712,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9908536702456701},{time:65.781,note:"E2",pitch:82.65114039311824,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.994155117263233},{time:65.80569999980926,note:"E2",pitch:82.70474945036966,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9921012891369827},{time:65.83139999985696,note:"E2",pitch:82.54662543051093,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9951269903818201},{time:65.85639999985695,note:"E2",pitch:82.68723302820753,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9936038182509748},{time:65.88239999985694,note:"E2",pitch:82.57402487713308,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9940482204059435},{time:65.908,note:"E2",pitch:82.68526425125776,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9942144865094917},{time:65.93329999995231,note:"E2",pitch:82.5551125658335,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9924651619092657},{time:65.9595,note:"E2",pitch:82.67403088452069,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9942784362581278},{time:65.98579999995232,note:"E2",pitch:82.62389045279247,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9925178762751017},{time:66.0115,note:"E2",pitch:82.58675935427576,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946529026843081},{time:66.03759999990463,note:"E2",pitch:82.73685218401933,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9916449450317657},{time:66.06359999990464,note:"E2",pitch:82.51036188353473,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948233809209626},{time:66.08929999995232,note:"E2",pitch:82.66188832821008,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9909362425060522},{time:66.11539999985695,note:"E2",pitch:82.50307414334411,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948450090820131},{time:66.14119999980926,note:"E2",pitch:82.64478074396791,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9932600572346502},{time:66.16629999995232,note:"E2",pitch:82.54615733112975,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9928965394168756},{time:66.192,note:"E2",pitch:82.60425577635662,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9945779791111704},{time:66.21789999985695,note:"E2",pitch:82.61129482629457,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9926176842309218},{time:66.24359999990463,note:"E2",pitch:82.50922551546762,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958320988825449},{time:66.26969999980926,note:"E2",pitch:82.54648391559276,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9904496150112863},{time:66.296,note:"E2",pitch:82.4615545114306,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9955338416959165},{time:66.3215,note:"E2",pitch:82.59143928950965,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9912879461409005},{time:66.34739999985695,note:"E2",pitch:82.40395963319544,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952387395971982},{time:66.37359999990463,note:"E2",pitch:82.55288476858524,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.992670619428651},{time:66.39939999985695,note:"E2",pitch:82.39981635148048,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9958421135090845},{time:66.42489999985695,note:"E2",pitch:82.51854049348066,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9928263110345483},{time:66.45089999985694,note:"E2",pitch:82.43507450429837,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.993957174026022},{time:66.47669999980927,note:"E2",pitch:82.45454305977184,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943575455961735},{time:66.50189999985695,note:"E2",pitch:82.47709848471015,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9923574063339231},{time:66.54359999990463,note:"E2",pitch:82.50860418590025,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9909922571998209},{time:66.57429999995232,note:"E2",pitch:82.39277627202924,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929542004961434},{time:66.6045,note:"E2",pitch:83.64536303966408,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.8094396093705498},{time:66.63,note:"F2",pitch:85.34469152079589,noteMidi:41,actualMidi:40.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.7777695455972307},{time:66.65459999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:66.68009999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:66.70559999990463,note:"E3",pitch:166.47004811400447,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.3156980830503784},{time:66.73059999990463,note:"E2",pitch:82.45995166905954,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9102326722524907},{time:66.7565,note:"E2",pitch:82.5624764129636,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9936215746311632},{time:66.78219999980927,note:"E2",pitch:82.44493779399481,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9991418593193515},{time:66.80719999980927,note:"E2",pitch:82.48644484607864,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9985762939884779},{time:66.83369999980927,note:"E2",pitch:82.46341589214246,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9982505731010747},{time:66.85979999995232,note:"E2",pitch:82.50534575436211,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9984256529439364},{time:66.88559999990463,note:"E2",pitch:82.45287332250777,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970806186010464},{time:66.91079999995232,note:"E2",pitch:82.5004252206262,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9984336191640324},{time:66.9365,note:"E2",pitch:82.50023437566584,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971266342588763},{time:66.96229999995232,note:"E2",pitch:82.44465737245602,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984749668312247},{time:66.98759999990463,note:"E2",pitch:82.53801575061375,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9965118824809878},{time:67.0145,note:"E2",pitch:82.40353054772731,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980857969557348},{time:67.04,note:"E2",pitch:82.49608325529462,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9954637003707774},{time:67.06509999990463,note:"E2",pitch:82.41877801438677,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9967787718891117},{time:67.0925,note:"E2",pitch:82.51147914628788,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971785841324419},{time:67.11839999985695,note:"E2",pitch:82.46040838389926,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9961250634298153},{time:67.14419999980926,note:"E2",pitch:82.50057951344645,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9973413892394234},{time:67.16909999990463,note:"E2",pitch:82.39760093678892,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971237185182957},{time:67.19569999980926,note:"E2",pitch:82.43037571733419,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981421178349024},{time:67.2215,note:"E2",pitch:82.45631669142293,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9951691846660253},{time:67.24719999980927,note:"E2",pitch:82.36565137790522,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975802694185063},{time:67.27219999980926,note:"E2",pitch:82.51958262000632,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945926932366689},{time:67.29869999980926,note:"E2",pitch:82.32509321820429,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9967354722994486},{time:67.32539999985696,note:"E2",pitch:82.47060097806876,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962938374637247},{time:67.367,note:"E2",pitch:82.31956736541261,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975601331315005},{time:67.39859999990463,note:"E2",pitch:82.38636617746283,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.993887796696896},{time:67.429,note:"E2",pitch:82.38852268321054,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952155331890395},{time:67.45509999990463,note:"E2",pitch:82.31591314936644,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9948747019045214},{time:67.481,note:"E2",pitch:82.3568683469327,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9963962540338969},{time:67.506,note:"E2",pitch:82.38382646091098,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9946360388396727},{time:67.53259999990463,note:"E2",pitch:82.26520901963605,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9966447481227334},{time:67.55859999990463,note:"E2",pitch:82.43536322721265,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944467422680532},{time:67.58439999985696,note:"E2",pitch:82.20015614066774,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9964306594809074},{time:67.60939999985695,note:"E2",pitch:82.4265709129976,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9906128270628614},{time:67.63619999980926,note:"E2",pitch:82.22318072586111,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9981426995435214},{time:67.66229999995231,note:"E2",pitch:82.77923978884753,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.8495277596919308},{time:67.68819999980927,note:"F2",pitch:87.51037468156026,noteMidi:41,actualMidi:41.04,actualMidiChroma:5.039999999999999,centsOffset:3.9999999999999147,clarity:.5766176539268351},{time:67.714,note:"E2",pitch:84.06364586674744,noteMidi:40,actualMidi:40.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.6729198147862974},{time:67.73979999995231,note:"E2",pitch:82.43256083476417,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.959838044891896},{time:67.76589999985696,note:"E2",pitch:82.47697029820554,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9912504596392608},{time:67.79209999990464,note:"E2",pitch:82.35149708938928,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9953203057186073},{time:67.8175,note:"E2",pitch:82.41047299761011,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9937924599835526},{time:67.84439999985695,note:"E2",pitch:82.35092514440818,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9943042031539591},{time:67.8705,note:"E2",pitch:82.42027369596201,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935449683480044},{time:67.89689999985696,note:"E2",pitch:82.3590639191281,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927182423289764},{time:67.92279999995232,note:"E2",pitch:82.41029985810147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940738796511113},{time:67.94889999985695,note:"E2",pitch:82.38478799824045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9909649129914584},{time:67.97509999990463,note:"E2",pitch:82.35665009384778,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9955498329186838},{time:68.00179999995231,note:"E2",pitch:82.39215571946396,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9857347569930823},{time:68.02819999980926,note:"E2",pitch:82.34106252350983,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.995201418557258},{time:68.05479999995232,note:"E2",pitch:82.4008666778096,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9907329826935296},{time:68.08129999995232,note:"E2",pitch:82.36702365346666,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9956178347181748},{time:68.10819999980926,note:"E2",pitch:82.43086156660029,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9914170937068718},{time:68.13389999985695,note:"E2",pitch:82.36830079928004,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9947798091030506},{time:68.15989999985695,note:"E2",pitch:82.44705281507188,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989029538857892},{time:68.18629999995231,note:"E2",pitch:82.39130704416543,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9923910317798885},{time:68.21259999990463,note:"E2",pitch:82.4554776393791,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9831784311940481},{time:68.23869999980927,note:"E2",pitch:82.45120584105655,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9736027107900043},{time:68.26519999980927,note:"E2",pitch:82.49984015974059,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9863251036962737},{time:68.30739999985695,note:"E2",pitch:82.44261771530432,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9880400184407421},{time:68.34089999985694,note:"E2",pitch:82.3861380289082,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9931712702771875},{time:68.37169999980927,note:"E2",pitch:82.4313391263533,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9927170540582892},{time:68.39759999990463,note:"E2",pitch:82.41902013841496,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9918017240647572},{time:68.4235,note:"E2",pitch:83.18945731712415,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.8471586133749298},{time:68.44959999990463,note:"F2",pitch:89.27141982013418,noteMidi:41,actualMidi:41.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.7939084522656579},{time:68.476,note:"A3",pitch:223.56502511908496,noteMidi:57,actualMidi:57.28,actualMidiChroma:9.280000000000001,centsOffset:28.000000000000114,clarity:.23194061597463733},{time:68.50239999985695,note:"E2",pitch:82.72304954319137,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.7444575933080557},{time:68.5285,note:"E2",pitch:82.4850107157395,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9501172500875725},{time:68.5545,note:"E2",pitch:82.42534195395034,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9953329375076407},{time:68.58079999995232,note:"E2",pitch:82.43689845818382,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959688796449484},{time:68.60709999990463,note:"E2",pitch:82.428647955897,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9927318325635497},{time:68.6335,note:"E2",pitch:82.43928101674578,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967422247403306},{time:68.65979999995231,note:"E2",pitch:82.41957593686095,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9955005751065755},{time:68.68609999990463,note:"E2",pitch:82.39749035962197,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973641590991633},{time:68.71229999995232,note:"E2",pitch:82.43113652992183,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9912005775643422},{time:68.7385,note:"E2",pitch:82.36463226204856,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965756531354089},{time:68.76429999995231,note:"E2",pitch:82.39783728587231,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9923731297737532},{time:68.7905,note:"E2",pitch:82.33029020073107,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9961747477229608},{time:68.81709999990463,note:"E2",pitch:82.37098549060745,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9948567602469751},{time:68.84339999985694,note:"E2",pitch:82.31788345246082,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9953528320730101},{time:68.8695,note:"E2",pitch:82.37330677441285,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9943562861201087},{time:68.89589999985695,note:"E2",pitch:82.31722236947667,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9943945617775398},{time:68.92219999980927,note:"E2",pitch:82.39266072270495,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9938181544583102},{time:68.94839999985695,note:"E2",pitch:82.36240928562741,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9906735850932904},{time:68.97459999990463,note:"E2",pitch:82.37123394340763,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.995241836140039},{time:69.00139999985694,note:"E2",pitch:82.33491784585841,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921389420121045},{time:69.02819999980926,note:"E2",pitch:82.37281212834714,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9958428403952695},{time:69.05479999995232,note:"E2",pitch:82.36747728273393,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9936656899471501},{time:69.08169999980926,note:"E2",pitch:82.36243436109913,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9963970779453177},{time:69.12479999995232,note:"E2",pitch:82.32660434715653,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9927816466532136},{time:69.15829999995232,note:"E2",pitch:82.38673498707239,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940051509967276},{time:69.18779999995232,note:"E2",pitch:82.32489615174887,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994489827188545},{time:69.21529999995232,note:"E2",pitch:82.37586452553013,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9939842793630476},{time:69.24189999985695,note:"E2",pitch:82.30991759924706,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9955228382474672},{time:69.26809999990463,note:"E2",pitch:82.38560042983792,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928816914558354},{time:69.29419999980927,note:"E2",pitch:82.29720211460382,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921081225936348},{time:69.32009999990463,note:"E2",pitch:82.3734350175703,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924810385148817},{time:69.34729999995231,note:"E2",pitch:82.35071796969751,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9905187012807062},{time:69.37359999990463,note:"E2",pitch:82.37857857670616,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.993378651239567},{time:69.39979999995232,note:"E2",pitch:82.34082009035339,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9911331834620825},{time:69.426,note:"E2",pitch:82.61325431292539,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9301838933231608},{time:69.45239999985695,note:"F2",pitch:88.44465982127204,noteMidi:41,actualMidi:41.22,actualMidiChroma:5.219999999999999,centsOffset:21.999999999999886,clarity:.39742007402585955},{time:69.47969999980927,note:"G2",pitch:96.16448881599558,noteMidi:43,actualMidi:42.67,actualMidiChroma:6.670000000000002,centsOffset:-32.99999999999983,clarity:.18558182415535462},{time:69.50609999990463,note:"E2",pitch:83.06221481323776,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.8073113790544539},{time:69.53259999990463,note:"E2",pitch:82.60119777217938,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9563383858015584},{time:69.5585,note:"E2",pitch:82.4822857658961,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9841957079017902},{time:69.5845,note:"E2",pitch:82.48023267136709,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9867511880154609},{time:69.61209999990463,note:"E2",pitch:82.45683127072566,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9906048994868399},{time:69.6385,note:"E2",pitch:82.43990875094492,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9878730228336678},{time:69.6645,note:"E2",pitch:82.43778479661341,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9905496863027565},{time:69.69069999980927,note:"E2",pitch:82.40043035530859,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9837653533159312},{time:69.71679999995231,note:"E2",pitch:82.33637239822093,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9900983331024236},{time:69.7445,note:"E2",pitch:82.3928902684589,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9849015161341015},{time:69.771,note:"E2",pitch:82.36454809514443,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.990111002195647},{time:69.79789999985695,note:"E2",pitch:82.4135055405154,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9890847559122449},{time:69.82409999990463,note:"E2",pitch:82.31966355620268,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9895547721527009},{time:69.85059999990463,note:"E2",pitch:82.42894793290122,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9869969519990605},{time:69.87809999990463,note:"E2",pitch:82.29055838175685,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.987385522218517},{time:69.90569999980927,note:"E2",pitch:82.44245625197867,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9857548021138314},{time:69.9335,note:"E2",pitch:82.29019163350456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9862328908791653},{time:69.9615,note:"E2",pitch:82.44994529924466,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9884559160352921},{time:69.99009999990463,note:"E2",pitch:82.27618900609156,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9899003103134163},{time:70.03579999995232,note:"E2",pitch:82.40453956763045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9843462137705785},{time:70.069,note:"E2",pitch:82.45301834156886,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989979724991926},{time:70.09979999995231,note:"E2",pitch:82.31904530018636,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9923108088473924},{time:70.12739999985695,note:"E2",pitch:82.40517447759079,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9927767014916782},{time:70.15539999985695,note:"E2",pitch:82.34852999222247,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9912258181551437},{time:70.1835,note:"E2",pitch:82.45155248789341,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9929899385461027},{time:70.21179999995232,note:"E2",pitch:82.31421581613209,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9918743520113509},{time:70.23969999980926,note:"E2",pitch:82.4278435021353,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949800087768637},{time:70.26759999990463,note:"E2",pitch:82.32511515643408,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9965332117832872},{time:70.29539999985695,note:"E2",pitch:82.39866199622283,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964215178418101},{time:70.32309999990463,note:"E2",pitch:82.32818667428528,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9970023924860811},{time:70.35119999980927,note:"E2",pitch:82.37964056968818,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988125636542975},{time:70.37869999980927,note:"E2",pitch:82.33840858689395,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965644429207572},{time:70.4065,note:"E2",pitch:82.38102726016311,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993314544511378},{time:70.43429999995232,note:"E2",pitch:82.34766243619123,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995010462332488},{time:70.4625,note:"E2",pitch:82.35945829143435,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997986636215899},{time:70.49039999985695,note:"E2",pitch:82.3449123542824,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997444686441526},{time:70.51819999980927,note:"E2",pitch:82.34369872763149,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998669166595562},{time:70.54589999985694,note:"E2",pitch:82.36010183037534,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999739390258199},{time:70.57369999980926,note:"E2",pitch:82.37579601188247,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998893217386922},{time:70.60159999990464,note:"E2",pitch:82.37932533257975,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998184094429377},{time:70.62979999995231,note:"E2",pitch:82.37243322940513,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998839002623185},{time:70.65789999985695,note:"E2",pitch:82.46051799165939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9558498868710075},{time:70.68569999980926,note:"E2",pitch:83.59188615444664,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8085188527595264},{time:70.71369999980926,note:"F2",pitch:89.18326810449862,noteMidi:41,actualMidi:41.37,actualMidiChroma:5.369999999999997,centsOffset:36.999999999999744,clarity:.8990466342320218},{time:70.74159999990464,note:"B2",pitch:122.97253423946107,noteMidi:47,actualMidi:46.93,actualMidiChroma:10.93,centsOffset:-7.000000000000028,clarity:.3677742588861541},{time:70.7695,note:"E2",pitch:82.70508168233565,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9037444704107429},{time:70.79689999985695,note:"E2",pitch:82.66107442553054,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9694544778859324},{time:70.82469999980927,note:"E2",pitch:82.4287208977717,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9915594785940129},{time:70.85279999995231,note:"E2",pitch:82.38598164987667,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9882533403086597},{time:70.88029999995231,note:"E2",pitch:82.39377721538222,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9931144181605589},{time:70.90869999980927,note:"E2",pitch:82.37454554886538,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9896163464289316},{time:70.95369999980926,note:"E2",pitch:82.4584844435961,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9900521636009216},{time:70.98639999985694,note:"E2",pitch:82.377116814274,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9938896008410154},{time:71.018,note:"E2",pitch:82.44118700681818,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9886246453420426},{time:71.04619999980926,note:"E2",pitch:82.35224126331381,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9944962763477179},{time:71.07409999990463,note:"E2",pitch:82.42668935734463,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9867618502752009},{time:71.10219999980926,note:"E2",pitch:82.38589958876763,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9934726933787204},{time:71.13069999980927,note:"E2",pitch:82.4041923647424,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9890655677902629},{time:71.15929999995231,note:"E2",pitch:82.37042531440014,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.991311180859114},{time:71.1875,note:"E2",pitch:82.40089956786859,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9793198878545724},{time:71.21539999985694,note:"E2",pitch:82.37153946301612,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924148606923922},{time:71.2435,note:"E2",pitch:82.41355354268231,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.967978395981433},{time:71.27139999985695,note:"E2",pitch:82.44369122151845,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9926113070645641},{time:71.29939999985694,note:"E2",pitch:82.30020964607426,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9914160053517236},{time:71.327,note:"E2",pitch:82.36672725366297,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9930010498641764},{time:71.35459999990464,note:"E2",pitch:82.47694493069517,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9886729825605585},{time:71.38259999990463,note:"E2",pitch:82.37423672652564,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979001717804721},{time:71.41059999990463,note:"E2",pitch:82.4155136013669,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968144441559446},{time:71.43859999990464,note:"E2",pitch:82.37223707025369,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988287841083832},{time:71.4665,note:"E2",pitch:82.43181726814565,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992060927614403},{time:71.49479999995232,note:"E2",pitch:82.40905107420062,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9995777710587106},{time:71.523,note:"E2",pitch:82.40278337852233,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997076830441927},{time:71.55089999985695,note:"E2",pitch:82.35942132210586,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998593312775768},{time:71.57869999980926,note:"E2",pitch:82.36365202280972,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998078113450362},{time:71.60669999980927,note:"E2",pitch:82.3804624497764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998759351408637},{time:71.63469999980927,note:"E2",pitch:82.36717912489507,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999267827233211},{time:71.66259999990463,note:"E2",pitch:82.36297610514565,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999320118341899},{time:71.69039999985695,note:"E2",pitch:82.35601994429877,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999505046341142},{time:71.7185,note:"E2",pitch:82.35530005685548,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999455923697553},{time:71.7465,note:"E2",pitch:82.36027684041213,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999948228777157},{time:71.77439999985695,note:"E2",pitch:82.37628687173925,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999472707372234},{time:71.80219999980926,note:"E2",pitch:82.35621878994186,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999560681872168},{time:71.83019999980927,note:"E2",pitch:82.35111377351859,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999507580896534},{time:71.87539999985695,note:"E2",pitch:82.33718584815051,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999611497060386},{time:71.90879999995232,note:"E2",pitch:82.34748269415131,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999603817326346},{time:71.93989999985695,note:"E2",pitch:82.33007516298059,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999619153137189},{time:71.96809999990464,note:"E2",pitch:82.32505456661023,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999661399907893},{time:71.99609999990463,note:"E2",pitch:82.32335709720877,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999534930137628},{time:72.02439999985695,note:"E2",pitch:82.40932341809597,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.8972250467376739},{time:72.05289999985695,note:"G0",pitch:24.71605952403583,noteMidi:19,actualMidi:19.15,actualMidiChroma:7.149999999999999,centsOffset:14.999999999999858,clarity:.38630681595032},{time:72.081,note:"E2",pitch:82.54364345491597,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.8406108284841878},{time:72.10929999995231,note:"E2",pitch:82.43296245318287,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9802500447674731},{time:72.13759999990464,note:"E2",pitch:82.4271615593277,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9941882826235542},{time:72.16579999995231,note:"E2",pitch:82.32548003774919,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9949419251448859},{time:72.19409999990464,note:"E2",pitch:82.44166611384108,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9825967264186772},{time:72.22189999985694,note:"E2",pitch:82.40507627301031,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9938752198297891},{time:72.24989999985695,note:"E2",pitch:82.43792343138884,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9860922399171841},{time:72.27779999995232,note:"E2",pitch:82.39246307904773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951978662739265},{time:72.30559999990463,note:"E2",pitch:82.43783557707359,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9899140904576882},{time:72.33329999995232,note:"E2",pitch:82.41397477141334,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935425043434947},{time:72.36119999980926,note:"E2",pitch:82.47296369875383,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9851591868650047},{time:72.389,note:"E2",pitch:82.40766480287444,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951175018993723},{time:72.41709999990464,note:"E2",pitch:82.49037048341667,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9865866256266571},{time:72.44479999995232,note:"E2",pitch:82.34677349942488,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9932024945826754},{time:72.4725,note:"E2",pitch:82.49960664824496,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.986088001070641},{time:72.50079999995232,note:"E2",pitch:82.37680492286091,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927391897146975},{time:72.52869999980926,note:"E2",pitch:82.4700099001872,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9902007459797915},{time:72.55689999985695,note:"E2",pitch:82.25813889085003,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9930193418856135},{time:72.58459999990463,note:"E2",pitch:82.48002557158995,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9880826187780798},{time:72.61279999995232,note:"E2",pitch:82.29971170874425,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9932543005879779},{time:72.64069999980927,note:"E2",pitch:82.47623137391689,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.987210269995515},{time:72.66889999985695,note:"E2",pitch:82.25779810457486,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9922325950763451},{time:72.69779999995231,note:"E2",pitch:82.48977510185209,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9903684448080838},{time:72.72609999990463,note:"E2",pitch:82.24148886606658,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9928654098184495},{time:72.7545,note:"E2",pitch:82.66813383006533,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9700272034936717},{time:72.80059999990463,note:"E2",pitch:83.2591876151722,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9268025155163286},{time:72.83519999980926,note:"E2",pitch:84.31874351354018,noteMidi:40,actualMidi:40.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9652600425985831},{time:72.86679999995232,note:"F2",pitch:85.76314146889614,noteMidi:41,actualMidi:40.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.9738684682471224},{time:72.89369999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.92079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.94809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.97519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.00319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.03059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.05839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.08589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.1135,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.14089999985696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.16839999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.1955,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.223,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.2505,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.27769999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.30489999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.33229999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.35969999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.38689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.41409999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.44119999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.46859999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.49579999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.52319999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.55069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.57819999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.60539999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.6325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.66039999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.70479999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.73939999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.77079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.7985,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.82539999985696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.8525,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.87959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.90709999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.93409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.96129999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.98889999985695,note:"G0",pitch:24.40172431627982,noteMidi:19,actualMidi:18.93,actualMidiChroma:6.93,centsOffset:-7.000000000000028,clarity:.0024795603146685607},{time:74.01689999985695,note:"C3",pitch:130.1364414860251,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.7811231455440719},{time:74.04439999985695,note:"C3",pitch:130.3549945055354,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997016626049842},{time:74.07189999985695,note:"C3",pitch:130.35972722613084,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997733887954467},{time:74.09959999990463,note:"C3",pitch:130.39319465877642,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9996679716266996},{time:74.12709999990463,note:"C3",pitch:130.44179301685287,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995467561144409},{time:74.15439999985695,note:"C3",pitch:130.54583649733152,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9995158265398913},{time:74.1815,note:"C3",pitch:130.5798532889092,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999535261922432},{time:74.20879999995232,note:"C3",pitch:130.64971863202135,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994558370470408},{time:74.236,note:"C3",pitch:130.8125769393012,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9994929267752646},{time:74.263,note:"C3",pitch:131.03456286648668,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9994175313678966},{time:74.29,note:"C3",pitch:131.1290739669394,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.99953573371414},{time:74.31729999995231,note:"C3",pitch:131.20598983866654,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9995937107697763},{time:74.34439999985695,note:"C3",pitch:131.5733890012716,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999527380043375},{time:74.37139999985695,note:"C3",pitch:131.8353693688385,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999552402159857},{time:74.39869999980927,note:"C3",pitch:131.9911052150588,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9995395467772603},{time:74.426,note:"C3",pitch:132.50901630428632,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9992823852981836},{time:74.45319999980927,note:"C3",pitch:133.32486256806197,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9991401168901533},{time:74.48039999985694,note:"C3",pitch:134.12289409055595,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9991593992165306},{time:74.508,note:"C3",pitch:134.359159684644,noteMidi:48,actualMidi:48.46,actualMidiChroma:.46000000000000085,centsOffset:46.000000000000085,clarity:.9990784193759339},{time:74.53559999990463,note:"Db3",pitch:135.06365159659555,noteMidi:49,actualMidi:48.55,actualMidiChroma:.5499999999999972,centsOffset:-45.000000000000284,clarity:.9991011729383565},{time:74.56259999990463,note:"Db3",pitch:136.02752054298847,noteMidi:49,actualMidi:48.68,actualMidiChroma:.6799999999999997,centsOffset:-32.00000000000003,clarity:.999216295602583},{time:74.59,note:"Db3",pitch:137.23827392311827,noteMidi:49,actualMidi:48.83,actualMidiChroma:.8299999999999983,centsOffset:-17.00000000000017,clarity:.9993086251765604},{time:74.61779999995231,note:"Db3",pitch:137.93427897207923,noteMidi:49,actualMidi:48.92,actualMidiChroma:.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9988245486320295},{time:74.661,note:"Db3",pitch:140.02107546400632,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9987374981061024},{time:74.69529999995231,note:"Db3",pitch:141.36037739730386,noteMidi:49,actualMidi:49.34,actualMidiChroma:1.3400000000000034,centsOffset:34.00000000000034,clarity:.9973562500446214},{time:74.72869999980927,note:"D3",pitch:142.87921533170433,noteMidi:50,actualMidi:49.53,actualMidiChroma:1.5300000000000011,centsOffset:-46.999999999999886,clarity:.9978764300849043},{time:74.75709999990464,note:"D3",pitch:143.3407438867229,noteMidi:50,actualMidi:49.58,actualMidiChroma:1.5799999999999983,centsOffset:-42.00000000000017,clarity:.9977965386847423},{time:74.785,note:"D3",pitch:143.35168764487122,noteMidi:50,actualMidi:49.58,actualMidiChroma:1.5799999999999983,centsOffset:-42.00000000000017,clarity:.999208908990795},{time:74.81259999990463,note:"D3",pitch:143.51996406523037,noteMidi:50,actualMidi:49.6,actualMidiChroma:1.6000000000000014,centsOffset:-39.99999999999986,clarity:.9975489987489823},{time:74.84039999985694,note:"D3",pitch:143.41980689238605,noteMidi:50,actualMidi:49.59,actualMidiChroma:1.5900000000000034,centsOffset:-40.99999999999966,clarity:.9986697220482448},{time:74.86769999980926,note:"D3",pitch:142.91222875782643,noteMidi:50,actualMidi:49.53,actualMidiChroma:1.5300000000000011,centsOffset:-46.999999999999886,clarity:.9984041707843652},{time:74.89529999995231,note:"Db3",pitch:140.2637577505204,noteMidi:49,actualMidi:49.21,actualMidiChroma:1.2100000000000009,centsOffset:21.000000000000085,clarity:.9961816634763387},{time:74.923,note:"Db3",pitch:137.9781275605608,noteMidi:49,actualMidi:48.92,actualMidiChroma:.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9977958541260072},{time:74.95029999995232,note:"Db3",pitch:136.66854354769083,noteMidi:49,actualMidi:48.76,actualMidiChroma:.759999999999998,centsOffset:-24.0000000000002,clarity:.9980099394652555},{time:74.97789999985694,note:"Db3",pitch:135.58339291485882,noteMidi:49,actualMidi:48.62,actualMidiChroma:.6199999999999974,centsOffset:-38.000000000000256,clarity:.9979813321494859},{time:75.00579999995232,note:"C3",pitch:134.18924304156147,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9982265692692742},{time:75.03379999995232,note:"C3",pitch:133.44204882365207,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9982467381692501},{time:75.06159999990463,note:"C3",pitch:132.7570804841408,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9981130434936745},{time:75.08929999995232,note:"C3",pitch:132.25349989658932,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9980347757500247},{time:75.11709999990464,note:"C3",pitch:132.00844031987467,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9978204838533138},{time:75.1445,note:"C3",pitch:131.3357776267379,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9975882658905526},{time:75.172,note:"C3",pitch:131.36793924106786,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9979498530946032},{time:75.19929999995232,note:"C3",pitch:131.14900422113544,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9977461728529349},{time:75.2265,note:"C3",pitch:130.8790299664779,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9975669813926729},{time:75.25369999980927,note:"C3",pitch:130.62580177456735,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975583482982131},{time:75.281,note:"C3",pitch:130.26691976133603,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9971198081806207},{time:75.30839999985695,note:"C3",pitch:130.18721296152876,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9974448639224249},{time:75.33569999980926,note:"C3",pitch:130.1249847115752,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9968791895180722},{time:75.36309999990463,note:"C3",pitch:129.9471625516687,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9968910778195301},{time:75.39059999990464,note:"C3",pitch:129.87517932079317,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9967737452243277},{time:75.41789999985694,note:"C3",pitch:129.76805073864008,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9971229314855208},{time:75.446,note:"C3",pitch:129.7430584402438,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9966798538373887},{time:75.47389999985695,note:"C3",pitch:129.76908046631058,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9902814614099107},{time:75.50179999995231,note:"C3",pitch:128.85581231213254,noteMidi:48,actualMidi:47.74,actualMidiChroma:11.740000000000002,centsOffset:-25.9999999999998,clarity:.8678887518288931},{time:75.52929999995231,note:"D3",pitch:146.89617621741255,noteMidi:50,actualMidi:50.01,actualMidiChroma:2.009999999999998,centsOffset:.999999999999801,clarity:.3469336757549133},{time:75.55689999985695,note:"E4",pitch:320.4811420323986,noteMidi:64,actualMidi:63.51,actualMidiChroma:3.509999999999998,centsOffset:-49.0000000000002,clarity:.5230640395360666},{time:75.58539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.62919999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.66419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.72339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.75079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.77839999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.80589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.83329999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.86089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.88829999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.91589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.94359999990463,note:"Db3",pitch:137.12757359265908,noteMidi:49,actualMidi:48.82,actualMidiChroma:.8200000000000003,centsOffset:-17.99999999999997,clarity:.017290512267051472},{time:75.97119999980927,note:"C3",pitch:129.97846208350447,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.8803844376069563},{time:75.99909999990463,note:"C3",pitch:130.48218499186956,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997164837922554},{time:76.02709999990464,note:"C3",pitch:130.4901015463832,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997388837108758},{time:76.05519999980926,note:"C3",pitch:130.51670422270416,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996903094444249},{time:76.08309999990463,note:"C3",pitch:130.53507545817035,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996586793583901},{time:76.11109999990464,note:"C3",pitch:130.46529823814788,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996431987959085},{time:76.13859999990463,note:"C3",pitch:130.35403452305405,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9996462348417445},{time:76.16589999985695,note:"C3",pitch:130.44085446348348,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996805271421536},{time:76.1935,note:"C3",pitch:130.87022826724902,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9997370702088695},{time:76.22079999995232,note:"C3",pitch:131.27385753473837,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9997831423408883},{time:76.2485,note:"C3",pitch:131.47990380571343,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9997753957359805},{time:76.27569999980926,note:"C3",pitch:131.7460313888682,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998080163722598},{time:76.30309999990463,note:"C3",pitch:132.16284273440922,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997854196747831},{time:76.3305,note:"C3",pitch:132.70621941029006,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997048052687312},{time:76.35779999995232,note:"C3",pitch:133.03347722401665,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9997266211665519},{time:76.38519999980926,note:"C3",pitch:133.53770197083304,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9997356525075283},{time:76.41279999995231,note:"C3",pitch:134.1042533354951,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9997191485659407},{time:76.44019999980927,note:"Db3",pitch:134.91357949967278,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9996143905984916},{time:76.46779999995232,note:"Db3",pitch:135.43815397112107,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9995170667993278},{time:76.49529999995232,note:"Db3",pitch:135.68384311137345,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9996603725576669},{time:76.52389999985695,note:"Db3",pitch:135.46998112592712,noteMidi:49,actualMidi:48.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.99973316649465},{time:76.55269999980926,note:"C3",pitch:134.08033801499428,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9990519935376874},{time:76.5985,note:"C3",pitch:131.65883420630684,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9995566099786224},{time:76.63419999980927,note:"C3",pitch:130.81716920583114,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9996562066768071},{time:76.66739999985695,note:"C3",pitch:130.54163362757774,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996094569047109},{time:76.69519999980926,note:"C3",pitch:130.47076330689734,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995659525295189},{time:76.72319999980927,note:"C3",pitch:130.44593274328494,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995611270207618},{time:76.75089999985695,note:"C3",pitch:130.4888009839236,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9994588255344787},{time:76.77889999985695,note:"C3",pitch:130.6176388698313,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993333343085773},{time:76.80669999980927,note:"C3",pitch:130.87365546223043,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9992514375164099},{time:76.8345,note:"C3",pitch:131.57233453719246,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999151934281489},{time:76.86269999980927,note:"C3",pitch:132.183923616285,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9991429547284625},{time:76.89069999980927,note:"C3",pitch:132.7277997874191,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9990871032102184},{time:76.919,note:"C3",pitch:133.1040662614129,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9991285704629362},{time:76.947,note:"C3",pitch:133.11033761567128,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9991746303068254},{time:76.97519999980926,note:"C3",pitch:133.0550785893541,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9991218036530576},{time:77.00359999990464,note:"C3",pitch:132.58906579820163,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9989070062036127},{time:77.03169999980926,note:"C3",pitch:131.43051790604127,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9985114453187727},{time:77.06009999990464,note:"C3",pitch:130.68819402373205,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986559968684539},{time:77.0885,note:"C3",pitch:130.47904918733562,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9984315536035737},{time:77.11659999990464,note:"C3",pitch:130.41485010562272,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9984119816985988},{time:77.14419999980926,note:"C3",pitch:130.37609427150346,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9981612482663067},{time:77.17179999995231,note:"C3",pitch:130.53957283474716,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9982900361203662},{time:77.19979999995232,note:"C3",pitch:130.89988843759508,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9980106671223119},{time:77.22729999995232,note:"C3",pitch:131.4114680294554,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9982118210947206},{time:77.25509999990463,note:"C3",pitch:131.90125278839352,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9985088056371438},{time:77.28269999980927,note:"C3",pitch:132.08581783581118,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9983040666605092},{time:77.31059999990464,note:"C3",pitch:132.06644215055422,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9981931780831523},{time:77.3385,note:"C3",pitch:132.019346211736,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9981483570964365},{time:77.36619999980927,note:"C3",pitch:131.60904986858304,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9982084047737381},{time:77.39429999995231,note:"C3",pitch:130.7835555881623,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9979285723122899},{time:77.42229999995232,note:"C3",pitch:130.20979120820905,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9973177102505346},{time:77.44989999985695,note:"C3",pitch:130.04475076813975,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9974256048869776},{time:77.47769999980926,note:"C3",pitch:130.13382080828524,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9973062123579197},{time:77.5055,note:"C3",pitch:130.24863978740757,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.997446715367353},{time:77.53439999985694,note:"C3",pitch:130.62472643959137,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9973628977862745},{time:77.57979999995231,note:"C3",pitch:131.5970662079883,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9972972683710104},{time:77.61419999980926,note:"C3",pitch:131.94053700288137,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.997571351539964},{time:77.647,note:"C3",pitch:132.14076651620584,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9976894783100079},{time:77.67509999990463,note:"C3",pitch:132.20463191649992,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9977773521805098},{time:77.70289999985695,note:"C3",pitch:131.60582121486163,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9976338764559358},{time:77.7305,note:"C3",pitch:130.68289310296197,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975355545027078},{time:77.7585,note:"C3",pitch:130.28963037818352,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9972178176284601},{time:77.78669999980926,note:"C3",pitch:130.06898473351848,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9968409252299573},{time:77.81489999985695,note:"C3",pitch:130.1892482698399,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9968239437182298},{time:77.843,note:"C3",pitch:130.36736128742456,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.997323777944505},{time:77.87119999980926,note:"C3",pitch:130.94840995611904,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9973230474030643},{time:77.89919999980927,note:"C3",pitch:131.52087501851813,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9974546970235814},{time:77.92729999995231,note:"C3",pitch:132.03492979047758,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9977705038707718},{time:77.95539999985695,note:"C3",pitch:132.21462999608784,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9973902564374555},{time:77.98379999995231,note:"C3",pitch:131.8592825583887,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9971490809070112},{time:78.01239999985695,note:"C3",pitch:130.89783171549828,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9974649147925128},{time:78.04089999985695,note:"C3",pitch:130.3577970781534,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.998115209753994},{time:78.06929999995232,note:"C3",pitch:130.25090333718802,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9979807553636704},{time:78.09769999980927,note:"C3",pitch:130.2037557890306,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9975811255236522},{time:78.12629999995232,note:"C3",pitch:130.39079988840837,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9977946771509494},{time:78.15469999980927,note:"C3",pitch:130.92904563075786,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9981236836944376},{time:78.183,note:"C3",pitch:131.7806361281761,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9980772451042519},{time:78.21119999980927,note:"C3",pitch:132.22757441217158,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9981351660889786},{time:78.23929999995232,note:"C3",pitch:132.20272018749927,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9983183732331469},{time:78.2675,note:"C3",pitch:132.1110334985013,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9975698071137344},{time:78.29569999980926,note:"C3",pitch:131.5068493150685,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9970072507858276},{time:78.324,note:"C3",pitch:130.44125470085865,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9968892207823998},{time:78.35189999985695,note:"C3",pitch:130.08832015505584,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9969902024042412},{time:78.37979999995231,note:"C3",pitch:129.99634019312518,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9964547678983138},{time:78.40769999980927,note:"C3",pitch:130.13538375563257,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9965289722178277},{time:78.43569999980926,note:"C3",pitch:130.73975800447775,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9959937360855307},{time:78.46369999980926,note:"C3",pitch:131.74094172947375,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9965706528590665},{time:78.49259999990463,note:"C3",pitch:132.38512668946058,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.994911201639745},{time:78.53789999985695,note:"C3",pitch:132.55680170805857,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9949042914767077},{time:78.57229999995232,note:"C3",pitch:132.0817789035668,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9943894472108852},{time:78.60479999995232,note:"C3",pitch:131.275892581275,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9928538647982705},{time:78.6335,note:"C3",pitch:130.5197757484671,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9885967793658956},{time:78.66209999990463,note:"C3",pitch:130.30996978700296,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9933103523353957},{time:78.69029999995232,note:"C3",pitch:130.46351772714334,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9933263712595704},{time:78.71859999990463,note:"C3",pitch:130.54796057696902,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9973140458509384},{time:78.74709999990463,note:"C3",pitch:131.498144694371,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9989065849955523},{time:78.77529999995231,note:"C3",pitch:132.4892972081337,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9996298898813301},{time:78.80379999995232,note:"C3",pitch:133.42812019769022,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9997407696331067},{time:78.83239999985695,note:"C3",pitch:133.97775928612398,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9998669228997912},{time:78.86079999995232,note:"C3",pitch:133.9659765913497,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9998709598192015},{time:78.88939999985695,note:"C3",pitch:133.388774855017,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9996910403900543},{time:78.91789999985694,note:"C3",pitch:132.34290498014795,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9991038479033882},{time:78.94619999980927,note:"C3",pitch:130.93168172041226,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.999227628138744},{time:78.97469999980926,note:"C3",pitch:130.49784553221153,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9998682210185628},{time:79.0035,note:"C3",pitch:130.44611812176692,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998951891823502},{time:79.03209999990463,note:"C3",pitch:130.47276215849254,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998218514862174},{time:79.06079999995232,note:"C3",pitch:131.3386259636343,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9995750510426262},{time:79.08919999980927,note:"C3",pitch:132.48384906887134,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994540190448937},{time:79.11759999990463,note:"C3",pitch:132.8737662218173,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9998104760552486},{time:79.14579999995232,note:"C3",pitch:133.22871450631305,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998116873653267},{time:79.17379999995232,note:"C3",pitch:133.36250486192142,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9998620753952316},{time:79.20179999995231,note:"C3",pitch:133.27154519624153,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998617660763003},{time:79.23,note:"C3",pitch:132.6471581547279,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999499984649578},{time:79.25809999990463,note:"C3",pitch:131.51162921862328,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9985835838855017},{time:79.28629999995232,note:"C3",pitch:130.5218723077897,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9990386565350242},{time:79.31459999990463,note:"C3",pitch:129.93142049824266,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9996100847914171},{time:79.343,note:"C3",pitch:130.01842080518972,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9998239060238276},{time:79.37129999995231,note:"C3",pitch:130.22750677441263,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999621120879862},{time:79.3995,note:"C3",pitch:130.943596436129,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9991483788731905},{time:79.42789999985695,note:"C3",pitch:131.4586694649226,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9992982618315516},{time:79.457,note:"C3",pitch:132.72903510116677,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9994599141768354},{time:79.5095,note:"C3",pitch:133.16449367548395,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999210091849342},{time:79.54559999990464,note:"C3",pitch:132.1851570922144,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9990946228963153},{time:79.5785,note:"C3",pitch:130.8493809653112,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.999459886787804},{time:79.60709999990463,note:"C3",pitch:130.2374768666117,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9997065308716273},{time:79.63529999995231,note:"C3",pitch:130.23499205206696,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999023921145174},{time:79.66379999995232,note:"C3",pitch:130.21688392293152,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999499204853919},{time:79.69239999985695,note:"C3",pitch:130.53973906611066,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997878258880384},{time:79.721,note:"C3",pitch:131.12126983367665,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9996313893503626},{time:79.74969999980927,note:"C3",pitch:131.67622204711571,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9996766656070442},{time:79.77859999990463,note:"C3",pitch:132.26131577522636,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9997050630210467},{time:79.80729999995232,note:"C3",pitch:133.1364347803019,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9998749027090028},{time:79.83559999990463,note:"C3",pitch:133.30631213809144,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9999387283465424},{time:79.864,note:"C3",pitch:133.1471748236014,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999019222444971},{time:79.89259999990463,note:"C3",pitch:132.40151485573733,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999587398383607},{time:79.92119999980926,note:"C3",pitch:130.97387552126867,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9985849164735754},{time:79.94969999980927,note:"C3",pitch:130.27759173221236,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9993725279489318},{time:79.97819999980926,note:"C3",pitch:129.86303713427495,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9997931650451264},{time:80.00709999990464,note:"C3",pitch:130.03722445688874,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9998945030391972},{time:80.036,note:"C3",pitch:130.2439938549255,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9996489258755936},{time:80.065,note:"C3",pitch:131.0156362009115,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.999220384125497},{time:80.09409999990463,note:"C3",pitch:132.03673166752336,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.999143229569512},{time:80.12279999995232,note:"C3",pitch:133.07157554321955,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9992362320380828},{time:80.15159999990463,note:"C3",pitch:133.44134757893644,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9998026484120786},{time:80.18019999980926,note:"C3",pitch:133.28561083411714,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998283725526704},{time:80.20869999980927,note:"C3",pitch:132.49359117101167,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9987515842624077},{time:80.23729999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.26579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.32279999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.35139999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.37979999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.40839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.4375,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.48309999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.5185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.551,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.57959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.608,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.63669999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.66509999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.69379999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.72219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.75109999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.78,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.80839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.83689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.86519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.89339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.922,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.95059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.97919999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.00819999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.03709999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.06579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.09439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.12309999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.15189999985695,note:"C3",pitch:129.43072464596725,noteMidi:48,actualMidi:47.82,actualMidiChroma:11.82,centsOffset:-17.99999999999997,clarity:.5732621903954076},{time:81.18039999985695,note:"C3",pitch:129.55318324079823,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.9888406156879341},{time:81.20919999980927,note:"C3",pitch:130.07367094943055,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9997888431261615},{time:81.23789999985695,note:"C3",pitch:130.08153590166813,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.99978739036127},{time:81.26639999985694,note:"C3",pitch:130.0763604820101,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9996963692585794},{time:81.29519999980927,note:"C3",pitch:130.053456091158,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9995874910935498},{time:81.32359999990463,note:"C3",pitch:129.98029284084868,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9996306108227486},{time:81.35209999990464,note:"C3",pitch:129.9588908254307,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999738048868462},{time:81.38089999985695,note:"C3",pitch:130.12952482689374,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998301240236067},{time:81.41009999990463,note:"C3",pitch:130.3665538285122,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998548787546113},{time:81.45659999990463,note:"C3",pitch:130.6883533100996,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997789373344936},{time:81.49719999980927,note:"C3",pitch:131.01000784937622,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998054007397812},{time:81.53039999985695,note:"C3",pitch:131.19322026377966,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999134551443447},{time:81.55889999985695,note:"C3",pitch:131.3294368504119,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999171726975575},{time:81.58759999990463,note:"C3",pitch:131.40739568282712,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999254012329075},{time:81.61629999995232,note:"C3",pitch:131.44591378519806,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999191043363815},{time:81.645,note:"C3",pitch:131.4171553910885,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9998921734599158},{time:81.6735,note:"C3",pitch:131.32268349558805,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999366653852633},{time:81.70219999980927,note:"C3",pitch:131.04707321881966,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998635789492418},{time:81.73129999995231,note:"C3",pitch:130.75393405033537,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9998820027009359},{time:81.76009999990464,note:"C3",pitch:130.44868686727713,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9999100771009104},{time:81.78889999985695,note:"C3",pitch:130.10779681112402,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9999345849489103},{time:81.81769999980926,note:"C3",pitch:129.99211340961767,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999410135206297},{time:81.84629999995232,note:"C3",pitch:129.8854867410476,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999546247701794},{time:81.87529999995232,note:"C3",pitch:129.8379902736612,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999618912313828},{time:81.90439999985695,note:"C3",pitch:129.87486844530665,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999599527822092},{time:81.93359999990463,note:"C3",pitch:129.91373557065924,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999652732096749},{time:81.96209999990464,note:"C3",pitch:129.9975514036747,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999716478117513},{time:81.99109999990463,note:"C3",pitch:130.31858387806125,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9999537117910258},{time:82.02039999985695,note:"C3",pitch:130.88134740533758,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999290930457541},{time:82.0495,note:"C3",pitch:131.39864495836696,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999575070125033},{time:82.07809999990464,note:"C3",pitch:131.59660341288176,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999704847294382},{time:82.10669999980927,note:"C3",pitch:131.82792158357896,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999015942045766},{time:82.13509999990464,note:"C3",pitch:131.9650826852782,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998428131227435},{time:82.164,note:"C3",pitch:131.82378937176944,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999125263483535},{time:82.19259999990463,note:"C3",pitch:131.04144108672114,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9996623842481185},{time:82.22109999990464,note:"C3",pitch:130.24570157542377,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9998922770814147},{time:82.24959999990463,note:"C3",pitch:130.03535607643775,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.999954203239497},{time:82.27839999985694,note:"C3",pitch:130.0550049287606,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999634031332363},{time:82.30679999995232,note:"C3",pitch:130.1986407471304,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999467665490549},{time:82.33589999985695,note:"C3",pitch:130.6871529419585,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998491957318372},{time:82.36479999995231,note:"C3",pitch:131.7009103486414,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995439811687881},{time:82.39469999980926,note:"C3",pitch:132.8662983307451,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997153722591321},{time:82.442,note:"C3",pitch:133.1658736426278,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9995386352051092},{time:82.48179999995232,note:"C3",pitch:131.66288360331686,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.999327532738338},{time:82.51489999985695,note:"C3",pitch:130.49264239710664,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.999858718970998},{time:82.54369999980926,note:"C3",pitch:130.0817458542944,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999336603501625},{time:82.57289999985694,note:"C3",pitch:130.01618793473997,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999557477132051},{time:82.6015,note:"C3",pitch:130.1098107722208,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9999381895581259},{time:82.63029999995231,note:"C3",pitch:130.5097034812004,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9999148034430156},{time:82.65929999995231,note:"C3",pitch:131.31532972018152,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9997720344241152},{time:82.68829999995232,note:"C3",pitch:131.8969264654777,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9997764525039834},{time:82.71719999980927,note:"C3",pitch:132.55121396321059,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9999097023598331},{time:82.74629999995231,note:"C3",pitch:132.68892102906622,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997534422225627},{time:82.7755,note:"C3",pitch:132.48728590270872,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994491099658127},{time:82.8045,note:"C3",pitch:131.38239085807612,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9995156230600486},{time:82.8335,note:"C3",pitch:130.24902315543326,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9996910943519346},{time:82.86259999990463,note:"C3",pitch:129.8296432786506,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9998465948480231},{time:82.89139999985694,note:"C3",pitch:129.8406577865055,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.999890359834982},{time:82.92019999980927,note:"C3",pitch:130.01344552346094,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999699848172444},{time:82.949,note:"C3",pitch:130.25296987753413,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9992657281651418},{time:82.97789999985694,note:"C3",pitch:130.67646569187855,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996384407720527},{time:83.00709999990464,note:"C3",pitch:131.53122247995532,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9998257524778218},{time:83.0365,note:"C3",pitch:131.9432693669085,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.999904263558701},{time:83.066,note:"C3",pitch:132.12597132450443,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999676654568681},{time:83.09489999985695,note:"C3",pitch:131.79058328960332,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9997889575926564},{time:83.12419999980926,note:"C3",pitch:130.70267120376582,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9995397660315675},{time:83.15309999990463,note:"C3",pitch:129.93685041131474,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9998308193286682},{time:83.18189999985695,note:"C3",pitch:129.7892688841941,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9999166130605808},{time:83.21079999995231,note:"C3",pitch:129.88661088847059,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999548758314027},{time:83.2395,note:"C3",pitch:130.0332471370521,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999365535649396},{time:83.26839999985695,note:"C3",pitch:130.23200740659837,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999852815837766},{time:83.29729999995232,note:"C3",pitch:131.02218229516245,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998618083498059},{time:83.326,note:"C3",pitch:131.72431956063988,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995638047794309},{time:83.35529999995232,note:"C3",pitch:132.1848252579758,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997678404324475},{time:83.38569999980926,note:"C3",pitch:132.33473341382378,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999478540254003},{time:83.43169999980927,note:"C3",pitch:131.54439194617902,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999624766163631},{time:83.467,note:"C3",pitch:130.2910058431589,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9996375519295739},{time:83.50019999980927,note:"C3",pitch:129.86181004957174,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.999895562683534},{time:83.529,note:"C3",pitch:129.85866463836908,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999030316586648},{time:83.55809999990463,note:"C3",pitch:129.91898291996227,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999210669130711},{time:83.58719999980927,note:"C3",pitch:130.19149064529645,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9997082405078359},{time:83.61579999995232,note:"C3",pitch:131.2650513494843,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9993273332703083},{time:83.64509999990463,note:"C3",pitch:132.1946520562132,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9994727150979124},{time:83.67419999980926,note:"C3",pitch:132.8273597192754,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.999235483579703},{time:83.70329999995232,note:"C3",pitch:132.81310972477146,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9986651785151608},{time:83.73279999995232,note:"C3",pitch:132.53944017688283,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9977867232244115},{time:83.76179999995232,note:"C3",pitch:131.57798535514644,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9970423423292374},{time:83.79109999990463,note:"C3",pitch:130.46966918311426,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9971165061639979},{time:83.82069999980926,note:"C3",pitch:129.54513289676214,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.9974241748331067},{time:83.85,note:"C3",pitch:129.5824079405555,noteMidi:48,actualMidi:47.84,actualMidiChroma:11.840000000000003,centsOffset:-15.999999999999659,clarity:.9977742509724905},{time:83.8795,note:"C3",pitch:129.67416905046449,noteMidi:48,actualMidi:47.85,actualMidiChroma:11.850000000000001,centsOffset:-14.999999999999858,clarity:.9975974722180929},{time:83.9085,note:"C3",pitch:129.7378282208796,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9971636105677604},{time:83.938,note:"C3",pitch:130.32946214351765,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9971998334812611},{time:83.96739999985695,note:"C3",pitch:131.54051694974547,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9959080110879874},{time:83.99689999985695,note:"C3",pitch:132.43910581941958,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9947632314895039},{time:84.02629999995231,note:"C3",pitch:132.3211517794819,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9946299031081018},{time:84.05579999995231,note:"C3",pitch:132.16321404628502,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9950754952220571},{time:84.0855,note:"C3",pitch:131.13193285149552,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.995435943338709},{time:84.11509999990463,note:"C3",pitch:130.1127680162053,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9949801622379617},{time:84.14429999995231,note:"C3",pitch:129.5218369460415,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.995929468309118},{time:84.17409999990463,note:"C3",pitch:129.594961415978,noteMidi:48,actualMidi:47.84,actualMidiChroma:11.840000000000003,centsOffset:-15.999999999999659,clarity:.9963969270892257},{time:84.20379999995231,note:"C3",pitch:129.8211268901263,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9964231599918953},{time:84.23329999995232,note:"C3",pitch:130.0423063614795,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9950817301263761},{time:84.26259999990464,note:"C3",pitch:130.78981050964632,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9938588144143843},{time:84.29209999990464,note:"C3",pitch:131.6165336827071,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9944653712777161},{time:84.3215,note:"C3",pitch:132.59913308170113,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9964317148089776},{time:84.35139999985695,note:"C3",pitch:133.1664555307044,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.997281850786063},{time:84.39929999995232,note:"C3",pitch:132.51404213573755,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994129513729568},{time:84.43429999995232,note:"C3",pitch:130.76076622057064,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9994946166468246},{time:84.46909999990463,note:"C3",pitch:130.1003040719027,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9995630201102088},{time:84.501,note:"C3",pitch:129.74082543045483,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9998165146340163},{time:84.53019999980927,note:"C3",pitch:129.8806986613202,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9998472068735573},{time:84.5595,note:"C3",pitch:130.0997428274062,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9996765378274901},{time:84.58889999985695,note:"C3",pitch:130.58170281931126,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993095847385653},{time:84.61819999980926,note:"C3",pitch:131.20824375597604,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9989910849044605},{time:84.64729999995231,note:"C3",pitch:131.8497437529174,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998120411628832},{time:84.67669999980926,note:"C3",pitch:132.22189316442163,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9999113650314158},{time:84.70589999985695,note:"C3",pitch:132.26538560782313,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.999956828870566},{time:84.73519999980927,note:"C3",pitch:131.8065878814358,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9996657686235793},{time:84.76439999985695,note:"C3",pitch:130.61184406369784,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993624093165074},{time:84.79379999995231,note:"C3",pitch:130.09412298084257,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994082109790234},{time:84.82289999985694,note:"C3",pitch:129.8475874980886,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9998298760800104},{time:84.8525,note:"C3",pitch:129.80583629163658,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999390520840201},{time:84.88189999985696,note:"C3",pitch:129.83471870504889,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999326736694378},{time:84.91159999990464,note:"C3",pitch:130.07396402411908,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9997003155424764},{time:84.94089999985695,note:"C3",pitch:130.41649544344799,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9991525849095417},{time:84.97029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:84.99979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.0295,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.05929999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.08889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.1185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.14769999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.17689999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.20579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.23469999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.26389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.29279999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.3225,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.35219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.4005,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.43539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.46959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.50089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.5305,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.56,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.58919999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.6185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.64769999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.677,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.70639999985696,note:"C3",pitch:130.1690476109279,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.8895896676950272},{time:85.73579999995232,note:"C3",pitch:130.0447488864072,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994082721074733},{time:85.7655,note:"C3",pitch:129.97955966602026,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999605488925063},{time:85.79509999990464,note:"C3",pitch:130.02409329558841,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994246232234083},{time:85.8245,note:"C3",pitch:129.98185518407868,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9989771235694072},{time:85.854,note:"C3",pitch:129.93103805043464,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9994661511115339},{time:85.88359999990463,note:"C3",pitch:129.88009380632874,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999560455895466},{time:85.91309999990463,note:"C3",pitch:129.9053837933992,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999575085956014},{time:85.94229999995231,note:"C3",pitch:130.05978519024137,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9995863098107698},{time:85.97159999990463,note:"C3",pitch:130.25061840948533,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9994315454677647},{time:86.00119999980926,note:"C3",pitch:130.44190133839587,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9994957006109715},{time:86.03089999985694,note:"C3",pitch:130.69774130222746,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996507470551634},{time:86.06059999990464,note:"C3",pitch:131.10804747326034,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9997474096322669},{time:86.09019999980927,note:"C3",pitch:131.47031690538202,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9997452957194071},{time:86.12179999995232,note:"C3",pitch:131.86516352489943,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998020046029978},{time:86.15209999990464,note:"C3",pitch:132.12098093697304,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9996236191300838},{time:86.1835,note:"C3",pitch:132.1503723137375,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9991243290541512},{time:86.213,note:"C3",pitch:132.07950083625204,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998238998383648},{time:86.24239999985694,note:"C3",pitch:132.0588900345859,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9997713650460867},{time:86.2725,note:"C3",pitch:132.09914680936487,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9996050749008134},{time:86.32089999985695,note:"C3",pitch:132.09293719867608,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9993307886757634},{time:86.35609999990463,note:"C3",pitch:132.0359644989856,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9998221096123565},{time:86.38919999980926,note:"C3",pitch:131.41855890109557,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.999750094148748},{time:86.42039999985695,note:"C3",pitch:130.7733987896671,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9996436572493863},{time:86.44989999985695,note:"C3",pitch:130.35664363592795,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997142027406163},{time:86.4795,note:"C3",pitch:130.16034524810308,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9996939806911271},{time:86.50909999990463,note:"C3",pitch:129.9540998667191,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9996767550668544},{time:86.54059999990463,note:"C3",pitch:129.86146517280486,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9996410212643845},{time:86.571,note:"C3",pitch:129.87256325745545,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9993754076221855},{time:86.60239999985694,note:"C3",pitch:129.93566088690355,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9994686704525186},{time:86.63209999990464,note:"C3",pitch:129.9516470481635,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9988978564678774},{time:86.66189999985694,note:"C3",pitch:129.96265058905675,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9988950641732011},{time:86.69389999985695,note:"C3",pitch:129.90317958747053,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999030654819169},{time:86.72439999985694,note:"C3",pitch:129.89280464344247,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9993308961701608},{time:86.756,note:"C3",pitch:129.8156884121825,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9992274362228777},{time:86.78569999980927,note:"C3",pitch:129.79514573316902,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9990029441356967},{time:86.81539999985695,note:"C3",pitch:129.78149429111912,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9994317606810412},{time:86.84769999980927,note:"C3",pitch:129.78920891825885,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.999136238100963},{time:86.87819999980927,note:"C3",pitch:129.7825225272838,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9987636176145465},{time:86.90969999980926,note:"C3",pitch:131.90509874219197,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9596373990694538},{time:86.93959999990463,note:"Db3",pitch:140.95898506014944,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.6653973985282189},{time:86.96909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:87.00109999990464,note:"Bb3",pitch:229.6926223113825,noteMidi:58,actualMidi:57.75,actualMidiChroma:9.75,centsOffset:-25,clarity:.02321549320556171},{time:87.03189999985695,note:"C3",pitch:130.16854278276128,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9142103459962101},{time:87.06389999985694,note:"C3",pitch:129.92065244141577,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9983322057047843},{time:87.09369999980926,note:"C3",pitch:129.91104242929626,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9991079448103903},{time:87.12359999990463,note:"C3",pitch:129.86444750205467,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9991013105883297},{time:87.15559999990464,note:"C3",pitch:129.87269423401742,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9990480988629926},{time:87.18659999990463,note:"C3",pitch:129.83333081751783,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9991925963847308},{time:87.23659999990463,note:"C3",pitch:129.9226890005417,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999086955984982},{time:87.27159999990464,note:"C3",pitch:129.98215446701425,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9993114338523732},{time:87.30479999995232,note:"C3",pitch:130.0003947363846,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9993490928387629},{time:87.33579999995231,note:"C3",pitch:130.1916454067025,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9993937610540407},{time:87.36539999985695,note:"C3",pitch:130.33951650264865,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9992658085148491},{time:87.39519999980926,note:"C3",pitch:130.48933280032315,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9993967526763221},{time:87.42669999980926,note:"C3",pitch:130.63614316055646,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994374996685345},{time:87.45729999995231,note:"C3",pitch:130.74026309001806,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.999414982895054},{time:87.489,note:"C3",pitch:131.0544904137235,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9995516235146873},{time:87.51869999980927,note:"C3",pitch:131.2165293998828,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9994517782143753},{time:87.54879999995232,note:"C3",pitch:131.51906098784187,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9996715879618456},{time:87.58019999980927,note:"C3",pitch:131.61878675711282,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.99947580975196},{time:87.61059999990464,note:"C3",pitch:131.74772182981505,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9992688563788299},{time:87.642,note:"C3",pitch:131.9337619358694,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9987819038032377},{time:87.67169999980926,note:"C3",pitch:132.11761216337504,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.999074752562624},{time:87.7035,note:"C3",pitch:132.39626201220253,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9994072771072382},{time:87.73409999990463,note:"C3",pitch:132.58356452733506,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9993286937189758},{time:87.7655,note:"C3",pitch:132.83703665515287,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999289541059742},{time:87.79509999990464,note:"C3",pitch:133.22157905398427,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9992411342469616},{time:87.82689999985695,note:"C3",pitch:133.2867344209024,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9990868713898102},{time:87.85779999995232,note:"C3",pitch:133.42334504355327,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9990669627153288},{time:87.88919999980926,note:"C3",pitch:133.67150542804043,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9990866843765609},{time:87.91909999990463,note:"C3",pitch:133.7892086706009,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9989910559760204},{time:87.95109999990463,note:"C3",pitch:133.8845041050841,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.9988899914925611},{time:87.98169999980927,note:"C3",pitch:133.96058209062457,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.998711320673582},{time:88.01389999985695,note:"C3",pitch:134.06786169470456,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9986348832863108},{time:88.04429999995232,note:"C3",pitch:134.0763915880449,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9987611212977612},{time:88.07669999980926,note:"C3",pitch:134.08068106123378,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9988914198910592},{time:88.11059999990464,note:"C3",pitch:134.03008115953713,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9981159782774789},{time:88.15879999995232,note:"C3",pitch:134.04230126801536,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9974200649274714},{time:88.19459999990464,note:"C3",pitch:134.0614159247188,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9977735240370613},{time:88.23029999995232,note:"C3",pitch:134.07759517849243,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9984739427217768},{time:88.26009999990464,note:"C3",pitch:133.9421987794151,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.998560953240542},{time:88.292,note:"C3",pitch:133.98520638626385,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.99893445749046},{time:88.32439999985695,note:"C3",pitch:134.06796682494436,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9976688805186704},{time:88.35409999990463,note:"C3",pitch:134.13606442046623,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9941796198967552},{time:88.38619999980926,note:"C3",pitch:133.63341608147311,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9890342372065355},{time:88.41819999980926,note:"C3",pitch:133.6817547231097,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.9841264392286817},{time:88.448,note:"C3",pitch:133.76326429090935,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9824464402159876},{time:88.47989999985695,note:"C3",pitch:133.64930849487652,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9858034133594771},{time:88.5105,note:"C3",pitch:133.5142278989381,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9903085593102787},{time:88.54229999995232,note:"C3",pitch:133.32326917896583,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9926325060191274},{time:88.57209999990464,note:"C3",pitch:133.1522494309247,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9949989417994871},{time:88.60409999990463,note:"C3",pitch:133.0912510327167,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9968410550606812},{time:88.63609999990463,note:"C3",pitch:133.15475779210593,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9985707573037779},{time:88.66609999990463,note:"C3",pitch:133.1860991960026,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9994908722334266},{time:88.69789999985694,note:"C3",pitch:133.19383862608444,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999110403961211},{time:88.73029999995232,note:"C3",pitch:133.15650960700177,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999503727742294},{time:88.76009999990464,note:"C3",pitch:133.14367980909321,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999499603137245},{time:88.792,note:"C3",pitch:133.11752247436036,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999555097022323},{time:88.82419999980927,note:"C3",pitch:133.06684436967504,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999572952869364},{time:88.85429999995232,note:"C3",pitch:133.0017377446405,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9999613178805298},{time:88.88629999995231,note:"C3",pitch:132.88483875465192,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999599156663663},{time:88.91869999980926,note:"C3",pitch:132.79356281547155,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999671111449473},{time:88.956,note:"C3",pitch:132.74664613609846,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999643362909723},{time:88.99529999995232,note:"C3",pitch:132.58575097777438,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9999529977475774},{time:89.02809999990463,note:"C3",pitch:132.45454785910258,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999534453081296},{time:89.059,note:"C3",pitch:132.15941982070052,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999445017859863},{time:89.11059999990464,note:"C3",pitch:132.01584237647532,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9999635593256642},{time:89.14709999990463,note:"C3",pitch:131.8909237364915,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999561395044942},{time:89.18259999990464,note:"C3",pitch:131.81063482667514,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999561266568158},{time:89.2125,note:"C3",pitch:131.81969503945828,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999595613231911},{time:89.2445,note:"C3",pitch:131.75159065246075,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999958408851942},{time:89.27689999985695,note:"C3",pitch:131.6798074696672,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999553931770073},{time:89.30689999985695,note:"C3",pitch:131.70582683782052,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999601491697021},{time:89.33929999995232,note:"C3",pitch:131.57968710470342,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999561602517844},{time:89.37179999995232,note:"C3",pitch:131.44924503278412,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999456536296769},{time:89.40169999980927,note:"C3",pitch:131.3037633804693,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9999564679478112},{time:89.43379999995231,note:"C3",pitch:131.1789783000874,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999593108498068},{time:89.46669999980926,note:"C3",pitch:131.1839121113604,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999538979293945},{time:89.49679999995232,note:"C3",pitch:131.0726067155647,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9999513253776477},{time:89.52859999990463,note:"C3",pitch:130.9799920788173,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999581091610885},{time:89.561,note:"C3",pitch:131.0005107738657,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999575956675102},{time:89.59129999995231,note:"C3",pitch:130.9419490366748,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999552591507879},{time:89.62329999995232,note:"C3",pitch:130.90205157087104,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999546966905548},{time:89.656,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.686,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.71809999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.75039999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.78029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.812,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.84479999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.87509999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.90719999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.94009999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.97059999990464,note:"C3",pitch:131.7163516122135,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.8550514318343261},{time:90.00309999990463,note:"C3",pitch:131.25275899631913,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9905657251899953},{time:90.03629999995232,note:"C3",pitch:131.10067265316056,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.999428387666562},{time:90.06789999985695,note:"C3",pitch:131.09588594336807,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9994096103587964},{time:90.1195,note:"C3",pitch:131.07724499383914,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9992789707806438},{time:90.15829999995232,note:"C3",pitch:131.13393592082087,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9994055430508269},{time:90.192,note:"C3",pitch:131.1213677454967,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9991555289836818},{time:90.225,note:"C3",pitch:131.10795498746955,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9991354082174659},{time:90.25769999980926,note:"C3",pitch:131.161613442175,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9992968105487385},{time:90.28759999990463,note:"C3",pitch:131.30190873023113,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9993555296266585},{time:90.31959999990464,note:"C3",pitch:131.58099586314978,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9994314207312911},{time:90.35179999995232,note:"C3",pitch:131.7758022791766,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9991700099769041},{time:90.382,note:"C3",pitch:131.86763218024942,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9993057850311544},{time:90.41379999995232,note:"C3",pitch:131.95499290336,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9994259260453617},{time:90.44629999995232,note:"C3",pitch:132.153638670821,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.999546634380124},{time:90.47889999985695,note:"C3",pitch:132.42227746879567,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999290806150313},{time:90.51109999990463,note:"C3",pitch:132.44296355450302,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9993722700995384},{time:90.54139999985695,note:"C3",pitch:132.46134886991317,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9992006039682124},{time:90.57309999990463,note:"C3",pitch:132.60899181452112,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9992157144783036},{time:90.60579999995231,note:"C3",pitch:132.74172017306518,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9991059477407198},{time:90.636,note:"C3",pitch:132.8087014140001,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9989572697533511},{time:90.668,note:"C3",pitch:132.79176687458352,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9990295169865959},{time:90.7005,note:"C3",pitch:132.7738325226028,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9984534456605516},{time:90.73279999995232,note:"C3",pitch:132.7883229648017,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9980525438282548},{time:90.76839999985695,note:"C3",pitch:132.83194695100528,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9978896060112952},{time:90.80669999980927,note:"C3",pitch:132.79881931930427,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9980209602360723},{time:90.84,note:"C3",pitch:132.740726026717,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9973231230922011},{time:90.8735,note:"C3",pitch:132.81812413985656,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9967333360474129},{time:90.90679999995231,note:"C3",pitch:132.64329949067937,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9963684228830729},{time:90.93959999990463,note:"C3",pitch:132.67708524595423,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.995323632817879},{time:90.97219999980926,note:"C3",pitch:132.73603526104674,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9947693373563204},{time:91.00489999985695,note:"C3",pitch:132.78628184803807,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9947868029422722},{time:91.03719999980926,note:"C3",pitch:132.8133224009139,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9948914204649384},{time:91.07009999990463,note:"C3",pitch:132.80681103925414,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9953242421594695},{time:91.10329999995231,note:"C3",pitch:132.73378763052315,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9967482259413245},{time:91.1555,note:"C3",pitch:132.81806444271436,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9962118238342796},{time:91.194,note:"C3",pitch:132.74327437408414,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9947957038987099},{time:91.23139999985695,note:"C3",pitch:132.8508911840896,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9919391144222729},{time:91.26419999980926,note:"C3",pitch:132.6033813462675,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9901852755331788},{time:91.29659999990463,note:"C3",pitch:132.63775254680056,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9912067462516774},{time:91.32929999995231,note:"C3",pitch:132.65881857912,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9920255956352761},{time:91.36179999995231,note:"C3",pitch:132.70948731496424,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9929622873752102},{time:91.39459999990463,note:"C3",pitch:132.82230409395345,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9939570120582175},{time:91.42679999995232,note:"C3",pitch:132.6629742161958,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9954231575187471},{time:91.45919999980927,note:"C3",pitch:132.6807117295336,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9962879314698156},{time:91.49139999985695,note:"C3",pitch:132.62663445066704,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971658290576499},{time:91.524,note:"C3",pitch:132.4649631096671,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9982245960237393},{time:91.55659999990463,note:"C3",pitch:132.2319909874056,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.999246299746261},{time:91.58939999985695,note:"C3",pitch:131.9416875631291,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9996762363958602},{time:91.622,note:"C3",pitch:131.81733043822103,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993523018263382},{time:91.65489999985695,note:"C3",pitch:131.50094172481914,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9990392828205543},{time:91.68719999980927,note:"C3",pitch:131.30822772610884,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9990942810159211},{time:91.71969999980927,note:"C3",pitch:131.14241513129235,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9997496956648355},{time:91.7525,note:"C3",pitch:130.99202417114734,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999218478444085},{time:91.78529999995231,note:"C3",pitch:130.8819132440457,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999332773446632},{time:91.81819999980927,note:"C3",pitch:130.8327944772433,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9999249039121452},{time:91.851,note:"C3",pitch:130.74640332038496,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999358060561576},{time:91.88369999980927,note:"C3",pitch:130.65445798637452,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999443660409106},{time:91.91629999995232,note:"C3",pitch:130.70517277622366,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999644123106286},{time:91.94939999985695,note:"C3",pitch:130.66762363175914,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999542690451442},{time:91.9825,note:"C3",pitch:130.60467245886457,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999505353864571},{time:92.01539999985695,note:"C3",pitch:130.60687338308682,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999534028513466},{time:92.0485,note:"C3",pitch:130.57154160798663,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999569895445255},{time:92.0815,note:"C3",pitch:130.59334515059723,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999956057534714},{time:92.11439999985694,note:"C3",pitch:130.6178721558263,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999959830267251},{time:92.14769999980926,note:"C3",pitch:130.60654451139058,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999551951091377},{time:92.20109999990463,note:"C3",pitch:130.72633459899586,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999347822592455},{time:92.2415,note:"C3",pitch:131.0572211433047,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998808436633873},{time:92.27819999980926,note:"C3",pitch:131.31900463701388,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999229498099851},{time:92.3105,note:"C3",pitch:131.45353671520905,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999365846663899},{time:92.34359999990463,note:"C3",pitch:131.60833581074525,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999243329582583},{time:92.377,note:"C3",pitch:131.89017836787426,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999925873888099},{time:92.40969999980926,note:"C3",pitch:132.19996095898918,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999479798542481},{time:92.44239999985695,note:"C3",pitch:132.3670308591541,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999939425083344},{time:92.475,note:"C3",pitch:132.476573272638,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999943776995952},{time:92.50739999985694,note:"C3",pitch:132.66147128967557,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999436321707265},{time:92.54069999980926,note:"C3",pitch:132.808704,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999500154886398},{time:92.57379999995231,note:"C3",pitch:132.89711722401634,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999482882952968},{time:92.6065,note:"C3",pitch:132.94485033246332,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999529511958585},{time:92.63939999985695,note:"C3",pitch:132.94922198856653,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999494737640156},{time:92.67239999985695,note:"C3",pitch:132.95113853922166,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999413641523383},{time:92.70539999985695,note:"C3",pitch:132.92363510593097,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999415899871096},{time:92.73789999985695,note:"C3",pitch:132.90534128124142,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999930791548092},{time:92.771,note:"C3",pitch:132.29718181637296,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9996404562005061},{time:92.80389999985695,note:"C3",pitch:131.71619163129168,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9997959644096319},{time:92.8375,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.87019999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.90339999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.93659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.96919999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.00189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.03529999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.06879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.10219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.15429999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.19359999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.22969999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.26269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.29509999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.32809999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.3605,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.39319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.42569999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.45889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.49139999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.52459999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.55779999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.59059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.6235,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.65609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.68909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.72179999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.754,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.78689999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.8195,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.85219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.88459999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.91729999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.94979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.983,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.01609999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.04969999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.08309999990463,note:"D3",pitch:142.69587717205525,noteMidi:50,actualMidi:49.51,actualMidiChroma:1.509999999999998,centsOffset:-49.0000000000002,clarity:.29788434170722766},{time:94.1165,note:"C3",pitch:130.00190845824918,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9167995073213149},{time:94.15019999980926,note:"C3",pitch:130.46211389867682,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996291399078743},{time:94.20309999990464,note:"C3",pitch:131.16928926452735,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9997391388233225},{time:94.24379999995232,note:"C3",pitch:131.9618310954713,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9996525811257513},{time:94.281,note:"C3",pitch:132.8780326550286,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997556087465611},{time:94.31409999990463,note:"C3",pitch:133.11982841648717,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.999873141571257},{time:94.34689999985694,note:"C3",pitch:132.7300778482547,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9995971740839416},{time:94.37929999995232,note:"C3",pitch:130.84544886920366,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9995197656497545},{time:94.412,note:"C3",pitch:130.11723571475775,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998647744667544},{time:94.44509999990463,note:"C3",pitch:130.13073643162045,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.999907710368138},{time:94.47779999995231,note:"C3",pitch:130.35864842077956,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998332423950309},{time:94.511,note:"C3",pitch:131.83322371702496,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993050421230834},{time:94.54369999980926,note:"C3",pitch:133.31926421160492,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9997564558990142},{time:94.57669999980926,note:"C3",pitch:133.62270311079152,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.999912903453879},{time:94.60939999985695,note:"C3",pitch:132.4538172250806,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9993553028734183},{time:94.64239999985695,note:"C3",pitch:130.900359524163,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9996713906350223},{time:94.67519999980927,note:"C3",pitch:129.94860329369126,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9998858464137328},{time:94.70859999990464,note:"C3",pitch:129.92412691953328,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999299275747724},{time:94.74169999980927,note:"C3",pitch:130.43467655182675,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998407364025361},{time:94.77479999995232,note:"C3",pitch:131.28948451542794,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9997139767666496},{time:94.80789999985694,note:"C3",pitch:132.19626903628554,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.999882965082957},{time:94.84129999995231,note:"C3",pitch:132.40469935061716,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999952310660678},{time:94.87439999985695,note:"C3",pitch:132.0793719656844,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998707769317505},{time:94.90729999995231,note:"C3",pitch:130.96525855304316,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9997072274382539},{time:94.94009999990463,note:"C3",pitch:130.11620647733372,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998541028812689},{time:94.97329999995232,note:"C3",pitch:130.10968364740114,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9995510029202492},{time:95.00629999995232,note:"C3",pitch:130.46593266398642,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996078112554869},{time:95.03969999980926,note:"C3",pitch:132.0134917788598,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9994391561508174},{time:95.07309999990463,note:"C3",pitch:133.19567584070833,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9998292611251891},{time:95.107,note:"C3",pitch:133.6804102716013,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.999961914788841},{time:95.15929999995231,note:"C3",pitch:132.445139449053,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9995771014578985},{time:95.19859999990463,note:"C3",pitch:130.99807088973577,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9996672986125361},{time:95.23389999985694,note:"C3",pitch:130.17365515926133,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999922602441579},{time:95.268,note:"C3",pitch:130.21960218540613,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999264712541525},{time:95.30079999995232,note:"C3",pitch:130.96381951813203,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9996973741577762},{time:95.33419999980927,note:"C3",pitch:132.43720449924913,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9994116394164898},{time:95.367,note:"C3",pitch:133.66413358349158,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9997951639588614},{time:95.39989999985696,note:"C3",pitch:134.25501315071034,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9999788883390224},{time:95.43259999990464,note:"C3",pitch:134.14186833058218,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9999477047021088},{time:95.46539999985694,note:"C3",pitch:132.84715689662713,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9990598931665353},{time:95.49819999980926,note:"C3",pitch:130.82480061572468,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9993676410699877},{time:95.53129999995231,note:"C3",pitch:129.97402797726946,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9997051541956772},{time:95.56469999980926,note:"C3",pitch:130.08934188087022,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.999783500722458},{time:95.59739999985695,note:"C3",pitch:130.87511884585177,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9995290380223061},{time:95.63009999990463,note:"C3",pitch:132.99220402169274,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9995579254222591},{time:95.66319999980927,note:"C3",pitch:134.44425002521857,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9996869620308928},{time:95.696,note:"Db3",pitch:134.81597071748288,noteMidi:49,actualMidi:48.52,actualMidiChroma:.5200000000000031,centsOffset:-47.99999999999969,clarity:.9999017296423673},{time:95.7295,note:"C3",pitch:134.15176677627286,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9995942406910387},{time:95.76239999985695,note:"C3",pitch:132.21261185870472,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9988988313268514},{time:95.7955,note:"C3",pitch:130.63428982614863,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996736533216755},{time:95.82839999985696,note:"C3",pitch:130.0771982499312,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9998348036719698},{time:95.86169999980926,note:"C3",pitch:130.03975272775529,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999364862095952},{time:95.89519999980926,note:"C3",pitch:130.38702697817743,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998337124702168},{time:95.92859999990463,note:"C3",pitch:131.27868533541687,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9996186650232985},{time:95.96179999995232,note:"C3",pitch:132.36717454920043,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999909962988287},{time:95.99529999995232,note:"C3",pitch:132.66922623478507,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999651202234183},{time:96.02819999980926,note:"C3",pitch:132.5079215306246,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998808642182553},{time:96.06169999980926,note:"C3",pitch:131.03394137100676,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9996627109406333},{time:96.095,note:"C3",pitch:130.37901022852822,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998426523637356},{time:96.12889999985696,note:"C3",pitch:130.28848562957455,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9999216691358832},{time:96.18279999995232,note:"C3",pitch:130.76861852344462,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9995799906989795},{time:96.22319999980927,note:"C3",pitch:132.22371356796603,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9992780923190345},{time:96.26009999990464,note:"C3",pitch:132.93632319716036,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9996124776109028},{time:96.29319999980926,note:"C3",pitch:132.66185583498452,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9992941887295999},{time:96.32589999985694,note:"C3",pitch:131.6602521200452,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9992602632515002},{time:96.35909999990463,note:"C3",pitch:130.3916085512424,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9980280182692205},{time:96.3925,note:"C3",pitch:130.28674373217234,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.997390697751424},{time:96.42539999985695,note:"C3",pitch:130.4889918148063,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9957800339751266},{time:96.45869999980927,note:"C3",pitch:131.2620738602981,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9984161066779507},{time:96.491,note:"C3",pitch:131.77616596835628,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.997796236448238},{time:96.52429999995232,note:"C3",pitch:131.7160988367074,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9962135371360539},{time:96.557,note:"C3",pitch:131.67651653525397,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9946504971685535},{time:96.591,note:"C3",pitch:131.2022299448803,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9914982300385979},{time:96.62379999995231,note:"C3",pitch:130.30145617239472,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9945327634060845},{time:96.657,note:"C3",pitch:128.31727572011937,noteMidi:48,actualMidi:47.67,actualMidiChroma:11.670000000000002,centsOffset:-32.99999999999983,clarity:.985559039234527},{time:96.68989999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.7235,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.75639999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.78959999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.82229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.85619999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.88909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.92319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.956,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.99019999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.04439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.08519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.12219999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.15469999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.188,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.22019999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.25339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.28589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.3195,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.35189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.38539999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.41829999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.45179999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.48489999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.51879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.551,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.5845,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.61709999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.65119999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.68389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.71779999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.75059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.78389999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.81679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.85069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.88369999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.91789999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.95089999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.00539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.04579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.08359999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.11689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.15039999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.183,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.21659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.249,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.28219999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.31529999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.34859999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0}],oht="pitch-offset-cents",sht="0.13.3",lht="2024-09-06T16:50:35.256Z",cht={pastTime:eht,firstTimeStamp:iht,minVolumeDecibels:nht,colorArea:aht,bendValues:rht,_appId:oht,_softwareVersion:sht,_date:lht};function G_(t){let e,i,a;return{c(){e=K("p"),i=oe("Current closest note: "),a=oe(t[5])},m(r,s){Ct(r,e,s),B(e,i),B(e,a)},p(r,s){s&32&&Ge(a,r[5])},d(r){r&&bt(e)}}}function uht(t){let e,i,a;return{c(){e=K("p"),e.textContent="1) Play or sing a note as accurately as possible.",i=q(),a=K("p"),a.textContent="2) Bend/sing a note 25 cents higher (for example as a vibrato)."},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function dht(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M=t[3]?"play":"pause",m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt=t[9].length>0&&G_(t);function vt(jt){t[16](jt)}let Ot={label:"past seconds",callback:t[11],min:5,max:60,step:5};t[6]!==void 0&&(Ot.value=t[6]),p=new na({props:Ot}),Me.push(()=>De(p,"value",vt));function ft(jt){t[18](jt)}let St={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:t[17],min:-40,max:-5,step:5};t[7]!==void 0&&(St.value=t[7]),v=new na({props:St}),Me.push(()=>De(v,"value",ft));function Mt(jt){t[19](jt)}let Pt={label:"colors",title:"Use blue for low and red for high",callback:t[11]};t[8]!==void 0&&(Pt.checked=t[8]),b=new R9({props:Pt}),Me.push(()=>De(b,"checked",Mt));function Vt(jt){t[23](jt)}let ie={saveToStorage:pht,callback:t[22]};return t[9]!==void 0&&(ie.notes=t[9]),N=new Y9({props:ie}),Me.push(()=>De(N,"notes",Vt)),J=new aa({props:{loadData:t[14],getExportData:t[13],appId:t[0].id}}),G=new z9({props:{$$slots:{default:[uht]},$$scope:{ctx:t}}}),j=new J9({props:{appId:t[0].id}}),tt=new Sa({props:{key:" ",keyDown:t[15]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing hitting the correct pitch (for example an
            exact C) or playing/singing off-tune. The line chart below shows how
            far you bend up and down over time.`,u=q(),Tt&&Tt.c(),d=q(),c=K("div"),f=K("button"),m=oe(M),A=q(),Ft(p.$$.fragment),E=q(),Ft(v.$$.fragment),x=q(),Ft(b.$$.fragment),S=q(),R=K("button"),R.textContent="resume",I=q(),P=K("div"),L=q(),k=K("div"),Ft(N.$$.fragment),H=q(),U=K("button"),U.textContent="example",W=q(),Ft(J.$$.fragment),Q=q(),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),nt=q(),Ft(tt.$$.fragment),dt(l,"class","explanation"),dt(f,"title","Pause the moving visualization (shortcut: space)"),gn(f,"width","75px"),dt(R,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),dt(c,"class","control"),dt(P,"class","visualization"),dt(k,"class","control"),dt(e,"class","app")},m(jt,Wt){Ct(jt,e,Wt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),Tt&&Tt.m(e,null),B(e,d),B(e,c),B(c,f),B(f,m),B(c,A),kt(p,c,null),B(c,E),kt(v,c,null),B(c,x),kt(b,c,null),B(c,S),B(c,R),B(e,I),B(e,P),t[21](P),B(e,L),B(e,k),kt(N,k,null),B(k,H),B(k,U),B(k,W),kt(J,k,null),B(e,Q),kt(G,e,null),B(e,z),kt(j,e,null),B(e,nt),kt(tt,e,null),ht=!0,pt||(gt=[Ue(f,"click",t[15]),Ue(R,"click",t[20]),Ue(U,"click",t[24])],pt=!0)},p(jt,Wt){(!ht||Wt&1)&&a!==(a=jt[0].title+"")&&Ge(r,a),jt[9].length>0?Tt?Tt.p(jt,Wt):(Tt=G_(jt),Tt.c(),Tt.m(e,d)):Tt&&(Tt.d(1),Tt=null),(!ht||Wt&8)&&M!==(M=jt[3]?"play":"pause")&&Ge(m,M);const me={};!y&&Wt&64&&(y=!0,me.value=jt[6],Re(()=>y=!1)),p.$set(me);const Yt={};Wt&132&&(Yt.callback=jt[17]),!w&&Wt&128&&(w=!0,Yt.value=jt[7],Re(()=>w=!1)),v.$set(Yt);const pe={};!O&&Wt&256&&(O=!0,pe.checked=jt[8],Re(()=>O=!1)),b.$set(pe);const Qe={};Wt&16&&(Qe.callback=jt[22]),!$&&Wt&512&&($=!0,Qe.notes=jt[9],Re(()=>$=!1)),N.$set(Qe);const ni={};Wt&1&&(ni.appId=jt[0].id),J.$set(ni);const ei={};Wt&268435456&&(ei.$$scope={dirty:Wt,ctx:jt}),G.$set(ei);const Ci={};Wt&1&&(Ci.appId=jt[0].id),j.$set(Ci)},i(jt){ht||(Rt(p.$$.fragment,jt),Rt(v.$$.fragment,jt),Rt(b.$$.fragment,jt),Rt(N.$$.fragment,jt),Rt(J.$$.fragment,jt),Rt(G.$$.fragment,jt),Rt(j.$$.fragment,jt),Rt(tt.$$.fragment,jt),ht=!0)},o(jt){Dt(p.$$.fragment,jt),Dt(v.$$.fragment,jt),Dt(b.$$.fragment,jt),Dt(N.$$.fragment,jt),Dt(J.$$.fragment,jt),Dt(G.$$.fragment,jt),Dt(j.$$.fragment,jt),Dt(tt.$$.fragment,jt),ht=!1},d(jt){jt&&bt(e),Tt&&Tt.d(),Nt(p),Nt(v),Nt(b),t[21](null),Nt(N),Nt(J),Nt(G),Nt(j),Nt(tt),pt=!1,f9(gt)}}}function hht(t){let e,i;return e=new ra({props:{loadData:t[14],$$slots:{default:[dht]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&268436479&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let fht=900,mht=500;const pht=()=>{};function ght(t,e,i){let{appInfo:a}=e,r,s,l,u,d=!1,c=performance.now(),f=new window.AudioContext,M,m=10,A=-25,p=!1,y=[];function E(U,W){s.getFloatTimeDomainData(U);const J=l.findPitch(U,W),Q=J[0],G=J[1],z=Ga.fromFreq(Q),j=Ga.midi(z),nt=Ff.freqToMidi(Q),tt=(nt-j)*100,pt={time:(performance.now()-c)/1e3,note:z,pitch:Q,noteMidi:j,actualMidi:nt,actualMidiChroma:nt%12,centsOffset:tt,clarity:G};y.push(pt),v(),u=requestAnimationFrame(()=>E(U,W))}const v=()=>{if(!r)return;i(5,M=m4(y.slice(-30),Q=>Q.note)),i(1,r.textContent="",r);let U;y.length>0?U=y.at(-1).time:U=(performance.now()-c)/1e3;const W=U-m,J=Bn({width:fht,height:mht,marginBottom:50,padding:0,x:{domain:[W,U],label:"time in seconds"},y:{domain:[-50,50],label:"offset in cents",grid:!0},marks:[Vo({anchor:"left",tickSize:0}),Vo({anchor:"right",tickSize:0}),H9([0]),OM(y,{x:"time",y:"centsOffset",clip:!0,curve:"basis"}),p?Qrt(y,{x:"time",y1:"centsOffset",y2:0,clip:!0,curve:"basis",positiveFill:"var(--accent)",negativeFill:"#eeccbb"}):null]});r.appendChild(J)},w=()=>{s=f.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(U=>{f.createMediaStreamSource(U).connect(s),i(2,l=_l.forFloat32Array(s.fftSize)),i(2,l.minVolumeDecibels=A,l);const W=new Float32Array(l.inputLength);E(W,f.sampleRate)}),v()};c9(w);const x=()=>({pastTime:m,firstTimeStamp:c,minVolumeDecibels:A,colorArea:p,bendValues:y}),b=U=>{i(3,d=!0),cancelAnimationFrame(u),i(6,m=U.pastTime),i(4,c=U.firstTimeStamp),i(7,A=U.minVolumeDecibels),i(8,p=U.colorArea??!1),i(9,y=U.bendValues),v()};r9(()=>{clearTimeout(u),cancelAnimationFrame(u)});const O=()=>{i(3,d=!d),d?cancelAnimationFrame(u):w()};function S(U){m=U,i(6,m)}const R=()=>i(2,l.minVolumeDecibels=A,l);function I(U){A=U,i(7,A)}function P(U){p=U,i(8,p)}const L=()=>{f.resume(),w()};function k(U){Me[U?"unshift":"push"](()=>{r=U,i(1,r)})}const N=()=>{i(4,c=performance.now()),v()};function $(U){y=U,i(9,y)}const H=()=>b(cht);return t.$$set=U=>{"appInfo"in U&&i(0,a=U.appInfo)},[a,r,l,d,c,M,m,A,p,y,f,v,w,x,b,O,S,R,I,P,L,k,N,$,H]}class Mht extends Ki{constructor(e){super(),Wi(this,e,ght,hht,ji,{appInfo:0})}}const Aht=125,yht=15,vht=!1,bht=[0,.40389999997615816,.887,1.354,1.845,2.3038999999761582,2.764,3.228,3.625,4.083,4.359,4.696,5.132,5.571,6.018899999976158,6.485899999976158,6.937,7.421899999976159,7.91,8.359,8.859,9.326,9.778899999976158,10.255,10.721,11.172,11.682899999976158,12.072,12.543,13.01,13.49,13.986,14.497,14.933,15.43,15.881899999976158,16.372,16.749,17.225,17.712,18.239,18.682,19.137,19.599,20.08489999997616,20.542899999976157,20.999,21.485,21.958,22.442,22.889,23.123,23.376899999976157,23.853,24.349,24.809,25.02689999997616,25.26,25.724,26.18689999997616,26.663,26.883,27.128,27.61,28.056,28.537,28.744,28.985,29.497,29.931899999976157,30.434,30.656,30.863,31.094,31.326,31.563,31.81789999997616,32.046899999976155,32.272,32.509,32.738,33.218,33.437,33.696,34.175,34.64,35.19,35.58,36.039,36.24689999997616,36.493,37.474,38.43289999997616,39.328,40.297,40.5,40.767,41.181,42.123,43.051,51.08889999997616,51.289,51.491899999976155,52.462,53.41189999997616,53.614,53.854,54.062,54.293,54.812,55.03,55.256,55.76,55.983,56.198899999976156,56.69089999997616,56.898,57.139],Cht="rhythm-sheet-music",Eht="0.16.1",_ht="2024-10-07T17:37:00.193Z",H_={tempo:Aht,pastNoteCount:yht,useDotted:vht,notes:bht,_appId:Cht,_softwareVersion:Eht,_date:_ht};function wht(t,e,i){let{element:a}=e,{touchStart:r=()=>{}}=e,{touchEnd:s=()=>{}}=e;const l=f=>{r()},u=f=>{s()},d=()=>{a.addEventListener("touchstart",l),a.addEventListener("touchend",u)};return r9(()=>{a.removeEventListener("touchstart",l),a.removeEventListener("touchend",u)}),t.$$set=f=>{"element"in f&&i(0,a=f.element),"touchStart"in f&&i(1,r=f.touchStart),"touchEnd"in f&&i(2,s=f.touchEnd)},t.$$.update=()=>{t.$$.dirty&1&&a&&d()},[a,r,s]}class Vl extends Ki{constructor(e){super(),Wi(this,e,wht,null,ji,{element:0,touchStart:1,touchEnd:2})}}function Oht(t,e,i){const a=t.slice();return a[29]=e[i],a}function xht(t,e,i){const a=t.slice();return a[32]=e[i],a}function Sht(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[32]} note`,e.__value=t[32],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Tht(t){let e,i=$e(DP),a=[];for(let r=0;r<i.length;r+=1)a[r]=Sht(xht(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function Iht(t){let e;return{c(){e=K("option"),e.textContent=`${t[29].symbol} ${t[29].name}`,e.__value=t[29].name,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Bht(t){let e,i,a,r=$e(Wf),s=[];for(let l=0;l<r.length;l+=1)s[l]=Iht(Oht(t,r,l));return{c(){e=K("option"),e.textContent="auto",i=q();for(let l=0;l<s.length;l+=1)s[l].c();a=V9(),e.__value="auto",Qi(e,e.__value)},m(l,u){Ct(l,e,u),Ct(l,i,u);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,u);Ct(l,a,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a)),xi(s,l)}}}function Rht(t){let e,i,a,r,s;return{c(){e=K("p"),e.textContent="1) Switch back and forth between quarters and eighths.",i=q(),a=K("p"),a.textContent="2) Switch between eighths and eighth triplets.",r=q(),s=K("p"),s.textContent=`3) Set the target to dotted-half notes and try to play them
                accurately.`},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function Dht(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe;function ni(xt){t[15](xt)}let ei={callback:t[11]};t[1]!==void 0&&(ei.value=t[1]),E=new Hr({props:ei}),Me.push(()=>De(E,"value",ni));function Ci(xt){t[16](xt)}let ai={callback:t[11]};t[4]!==void 0&&(ai.value=t[4]),x=new iu({props:ai}),Me.push(()=>De(x,"value",Ci));function ti(xt){t[17](xt)}let be={label:"dotted notes",title:"Use dotted notes? If not, the closest non-dotted note will be taken.",callback:t[11]};t[5]!==void 0&&(be.checked=t[5]),S=new R9({props:be}),Me.push(()=>De(S,"checked",ti));function ye(xt){t[18](xt)}let ne={label:"filtering",title:"You can filter out notes that are shorter than a given note duration.",callback:t[11],$$slots:{default:[Tht]},$$scope:{ctx:t}};t[2]!==void 0&&(ne.value=t[2]),L=new ia({props:ne}),Me.push(()=>De(L,"value",ye));function Et(xt){t[19](xt)}let yt={label:"target",title:"You can choose a single duration you want to practice and turn of automaticly guessing the closest one.",callback:t[11],$$slots:{default:[Bht]},$$scope:{ctx:t}};t[6]!==void 0&&(yt.value=t[6]),$=new ia({props:yt}),Me.push(()=>De($,"value",Et)),G=new F0({props:{tempo:t[1],accent:4}});function Ht(xt){t[21](xt)}let wt={saveToStorage:t[14],callback:t[11]};return t[7]!==void 0&&(wt.notes=t[7]),j=new Y9({props:wt}),Me.push(()=>De(j,"notes",Ht)),gt=new ha({props:{appId:t[0].id,loadData:t[13]}}),vt=new aa({props:{loadData:t[13],getExportData:t[12],appId:t[0].id}}),ft=new z9({props:{$$slots:{default:[Rht]},$$scope:{ctx:t}}}),Mt=new J9({props:{appId:t[0].id}}),Vt=new k9({props:{noteOn:t[10]}}),jt=new Sa({props:{key:" ",keyDown:t[23]}}),me=new Vl({props:{element:t[3],touchStart:t[24]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),u=oe(`This app helps practicing the timing of notes. Set a tempo and start
            playing. The time between the notes you play will be displayed as
            note symbols, so you can see whether you play, for example, correct
            quarter notes. Bars and numbers show you how many percent of the
            detected note duration you played, for example a -5 means your note
            was 5% too short. `),d=K("span"),c=oe("Blue stands for notes that were too long (playing too slow)"),f=oe(`
            and
            `),M=K("span"),m=oe("orange for short (fast) ones"),A=oe("."),p=q(),y=K("div"),Ft(E.$$.fragment),w=q(),Ft(x.$$.fragment),O=q(),Ft(S.$$.fragment),I=q(),P=K("div"),Ft(L.$$.fragment),N=q(),Ft($.$$.fragment),U=q(),W=K("div"),J=q(),Q=K("div"),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),tt=q(),ht=K("button"),ht.textContent="example",pt=q(),Ft(gt.$$.fragment),Tt=q(),Ft(vt.$$.fragment),Ot=q(),Ft(ft.$$.fragment),St=q(),Ft(Mt.$$.fragment),Pt=q(),Ft(Vt.$$.fragment),ie=q(),Ft(jt.$$.fragment),Wt=q(),Ft(me.$$.fragment),gn(d,"color",t[9]),gn(M,"color",t[8]),dt(l,"class","explanation"),dt(y,"class","control"),dt(P,"class","control"),dt(W,"class","visualization"),dt(Q,"class","control"),dt(e,"class","app")},m(xt,Qt){Ct(xt,e,Qt),B(e,i),B(i,r),B(e,s),B(e,l),B(l,u),B(l,d),B(d,c),B(l,f),B(l,M),B(M,m),B(l,A),B(e,p),B(e,y),kt(E,y,null),B(y,w),kt(x,y,null),B(y,O),kt(S,y,null),B(e,I),B(e,P),kt(L,P,null),B(P,N),kt($,P,null),B(e,U),B(e,W),t[20](W),B(e,J),B(e,Q),kt(G,Q,null),B(Q,z),kt(j,Q,null),B(Q,tt),B(Q,ht),B(Q,pt),kt(gt,Q,null),B(Q,Tt),kt(vt,Q,null),B(e,Ot),kt(ft,e,null),B(e,St),kt(Mt,e,null),B(e,Pt),kt(Vt,e,null),B(e,ie),kt(jt,e,null),B(e,Wt),kt(me,e,null),Yt=!0,pe||(Qe=Ue(ht,"click",t[22]),pe=!0)},p(xt,Qt){(!Yt||Qt[0]&1)&&a!==(a=xt[0].title+"")&&Ge(r,a);const ut={};!v&&Qt[0]&2&&(v=!0,ut.value=xt[1],Re(()=>v=!1)),E.$set(ut);const X={};!b&&Qt[0]&16&&(b=!0,X.value=xt[4],Re(()=>b=!1)),x.$set(X);const Z={};!R&&Qt[0]&32&&(R=!0,Z.checked=xt[5],Re(()=>R=!1)),S.$set(Z);const _t={};Qt[1]&16&&(_t.$$scope={dirty:Qt,ctx:xt}),!k&&Qt[0]&4&&(k=!0,_t.value=xt[2],Re(()=>k=!1)),L.$set(_t);const Gt={};Qt[1]&16&&(Gt.$$scope={dirty:Qt,ctx:xt}),!H&&Qt[0]&64&&(H=!0,Gt.value=xt[6],Re(()=>H=!1)),$.$set(Gt);const Zt={};Qt[0]&2&&(Zt.tempo=xt[1]),G.$set(Zt);const ue={};!nt&&Qt[0]&128&&(nt=!0,ue.notes=xt[7],Re(()=>nt=!1)),j.$set(ue);const ve={};Qt[0]&1&&(ve.appId=xt[0].id),gt.$set(ve);const Fe={};Qt[0]&1&&(Fe.appId=xt[0].id),vt.$set(Fe);const Je={};Qt[1]&16&&(Je.$$scope={dirty:Qt,ctx:xt}),ft.$set(Je);const ii={};Qt[0]&1&&(ii.appId=xt[0].id),Mt.$set(ii);const re={};Qt[0]&8&&(re.element=xt[3]),me.$set(re)},i(xt){Yt||(Rt(E.$$.fragment,xt),Rt(x.$$.fragment,xt),Rt(S.$$.fragment,xt),Rt(L.$$.fragment,xt),Rt($.$$.fragment,xt),Rt(G.$$.fragment,xt),Rt(j.$$.fragment,xt),Rt(gt.$$.fragment,xt),Rt(vt.$$.fragment,xt),Rt(ft.$$.fragment,xt),Rt(Mt.$$.fragment,xt),Rt(Vt.$$.fragment,xt),Rt(jt.$$.fragment,xt),Rt(me.$$.fragment,xt),Yt=!0)},o(xt){Dt(E.$$.fragment,xt),Dt(x.$$.fragment,xt),Dt(S.$$.fragment,xt),Dt(L.$$.fragment,xt),Dt($.$$.fragment,xt),Dt(G.$$.fragment,xt),Dt(j.$$.fragment,xt),Dt(gt.$$.fragment,xt),Dt(vt.$$.fragment,xt),Dt(ft.$$.fragment,xt),Dt(Mt.$$.fragment,xt),Dt(Vt.$$.fragment,xt),Dt(jt.$$.fragment,xt),Dt(me.$$.fragment,xt),Yt=!1},d(xt){xt&&bt(e),Nt(E),Nt(x),Nt(S),Nt(L),Nt($),t[20](null),Nt(G),Nt(j),Nt(gt),Nt(vt),Nt(ft),Nt(Mt),Nt(Vt),Nt(jt),Nt(me),pe=!1,Qe()}}}function Pht(t){let e,i;return e=new ra({props:{loadData:t[13],$$slots:{default:[Dht]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&255|r[1]&16&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let V_=900;function Lht(t,e,i){let a,{appInfo:r}=e,s,l=90,u=10,d=!1,c=16,f="auto",M=0,m=[];const A=Z0[1],p=Z0[0],y=Wf,E=y.filter(W=>!W.dotted),v=async W=>{m.length===0&&(M=W.timestamp);const J=(W.timestamp-M)/1e3;m.length>0&&J-m.at(-1)<a||(i(7,m=[...m,J]),w())},w=()=>{if(i(3,s.textContent="",s),m.length===0)return;let W=ta(l);const J=m.slice(-(u+1)),G=J.map((tt,ht)=>ht===0?0:tt-J[ht-1]).map(tt=>tt/W);let z;if(f==="auto"){const tt=d?y:E;z=G.map(ht=>{const pt=Pc(tt,Tt=>Math.abs(ht-Tt.beats)),gt=tt[pt];return{...gt,beats:ht,offsetPercent:(ht/gt.beats*100).toFixed()}})}else{const tt=Wf.filter(ht=>ht.name===f)[0];z=G.map(ht=>({...tt,beats:ht,offsetPercent:(ht/tt.beats*100).toFixed()}))}const j=Bn({width:V_,height:100,marginTop:10,marginBottom:0,marginLeft:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"",domain:Ei(1,u),ticks:[]},y:{},marks:[Ta(z,{text:"symbol",x:(tt,ht)=>ht,fontSize:40})]});s.appendChild(j);const nt=Bn({width:V_,height:180,marginLeft:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:null,domain:Ei(1,u),tickSize:0,ticks:[]},y:{label:"percent too long",domain:[-30,30],ticks:Ei(-30,31,10),grid:!0},color:{domain:["short","long"],range:[p,A]},marks:[Kd(z,{x:(tt,ht)=>ht,y:tt=>tt.offsetPercent-100,fill:tt=>tt.offsetPercent<100?"long":"short",ry:4}),gM(z,{x:(tt,ht)=>ht,y:tt=>tt.offsetPercent-100+(tt.offsetPercent<100?-4:4),text:tt=>tt.offsetPercent-100,fill:"#666",stroke:"white",strokeWidth:8}),H9([0])]});s.appendChild(nt)};c9(w);const x=()=>({tempo:l,pastNoteCount:u,useDotted:d,notes:m}),b=W=>{O(),i(1,l=W.tempo),i(4,u=W.pastNoteCount),i(5,d=W.useDotted),i(7,m=W.notes),w()},O=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(H_.notes)&&da(r.id,x())};r9(O);function S(W){l=W,i(1,l)}function R(W){u=W,i(4,u)}function I(W){d=W,i(5,d)}function P(W){c=W,i(2,c)}function L(W){f=W,i(6,f)}function k(W){Me[W?"unshift":"push"](()=>{s=W,i(3,s)})}function N(W){m=W,i(7,m)}const $=()=>b(H_),H=()=>v({timestamp:performance.now()}),U=()=>v({timestamp:performance.now()});return t.$$set=W=>{"appInfo"in W&&i(0,r=W.appInfo)},t.$$.update=()=>{t.$$.dirty[0]&6&&(a=ta(l)*4/c)},[r,l,c,s,u,d,f,m,A,p,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U]}class kht extends Ki{constructor(e){super(),Wi(this,e,Lht,Pht,ji,{appInfo:0},null,[-1,-1])}}const Nht=60,Fht=120,Uht=10,$ht="off",Ght="",Hht=120,Vht=122.60000002384186,Qht=[0,.3333333333333333,.6666666666666666,1,1.3333333333333333,1.6666666666666665,2,2.333333333333333,2.6666666666666665,3,3.333333333333333,3.6666666666666665,4,4.333333333333333,4.666666666666666,5,5.333333333333333,5.666666666666666,6,6.333333333333333,6.666666666666666,7,7.333333333333333,7.666666666666666],zht=9,Jht={dataType:"Map",value:[[60,[15.741799999952317,16.069,16.380899999976158,16.66889999997616,17.04489999997616,17.405,17.717,18.092899999976158,18.42910000002384,18.740899999976158,19.117,19.428799999952318,19.740899999976158,20.093,20.429,20.716899999976157,21.093,21.429299999952317,21.765100000023843,22.11689999997616,22.428899999976156,22.789,23.14089999997616,23.47689999997616,23.813]],[70,[32.40529999995232,32.692899999976156,32.97270000004768,33.26079999995232,33.548799999952315,33.860899999976155,34.11679999995231,34.40479999995232,34.692799999952314,34.95679999995232,35.188799999952316,35.500799999952314,35.78879999995232,36.09279999995232,36.40470000004768,36.692899999976156,36.996799999952316,37.28479999995232,37.572799999952316,37.884799999952314,38.164799999952315,38.45279999995232,38.76470000004768,39.02110000002384,39.308700000047686]],[80,[47.237100000023844,47.47679999995232,47.74070000004768,48.028700000047685,48.23660000002384,48.500700000047686,48.71660000002384,48.95660000002384,49.23660000002384,49.47660000002384,49.76470000004768,50.052600000023844,50.26060000002384,50.500600000023844,50.76489999997616,50.98079999995232,51.237,51.500700000047686,51.74060000002384,51.95660000002384,52.23670000004768,52.47660000002384,52.74070000004768,53.00460000002384,53.23660000002384,53.47660000002384]],[90,[60.813299999952314,61.02879999995232,61.23660000002384,61.476700000047686,61.71660000002384,61.90860000002384,62.14860000002384,62.35660000002384,62.57260000002384,62.78860000002384,63.02860000002384,63.26060000002384,63.47660000002384,63.69270000004769,63.90870000004768,64.1485,64.35660000002385,64.57260000002384,64.78839999997616,65.0285,65.21270000004769,65.47660000002384,65.69270000004768,65.9325,66.17260000002385,66.3805]],[100,[73.357,73.57239999997616,73.7885,74.0045,74.19639999997615,74.38039999997616,74.5725,74.7885,74.98060000002384,75.1965,75.4045,75.5965,75.7885,76.0045,76.1965,76.40439999997616,76.6205,76.7885,76.98039999997616,77.1725,77.35639999997616,77.5725,77.76439999997616,77.95639999997616,78.14839999997616,78.35639999997616]],[110,[85.07689999997616,85.29239999997615,85.45239999997615,85.64429999995231,85.83629999995232,86.02839999997616,86.2205,86.4045,86.59629999995232,86.76429999995231,86.95629999995232,87.12439999997616,87.31629999995232,87.50039999997615,87.6685,87.83620000004768,88.02839999997616,88.2205,88.38029999995231,88.57229999995232,88.76439999997616,88.93239999997616,89.12439999997616,89.29229999995232,89.45229999995232,89.64439999997616]],[120,[98.14920000004768,98.31639999997616,98.45229999995232,98.62029999995232,98.81220000004768,98.98029999995232,99.14820000004768,99.3165,99.47620000004768,99.64420000004769,99.78839999997616,99.98020000004769,100.12420000004768,100.3165,100.47639999997615,100.64410000002384,100.83620000004768,101.00420000004769,101.17229999995232,101.34010000002384,101.52429999995232,101.69220000004768,101.88429999995232,102.02829999995231,102.19620000004768,102.34010000002384]]]},jht="speed-up",Wht="0.16.2",Kht="2024-10-09T13:23:03.740Z",A6={initialTempo:Nht,targetTempo:Fht,tempoIncrease:Uht,quantize:$ht,currentStep:Ght,currentTempo:Hht,firstTimeStamp:Vht,exerciseNotes:Qht,exerciseBeatCount:zht,practiceRecordings:Jht,_appId:jht,_softwareVersion:Wht,_date:Kht},Xht=60,Yht=120,qht=10,Zht="off",tft="",eft=120,ift=1.0217684000000954e6,nft=[0,.7,1,1.7,2,2.7,3,3.7,4,4.7,5,5.7,6,6.7,7,7.7],aft=9,rft={dataType:"Map",value:[[60,[7.783699999928475,8.471799999952315,8.6635,9.5675,9.855199999928475,10.615799999952316,10.879199999928474,11.591699999928474,11.8555,12.519399999976159,12.759199999928475,13.479399999976158,13.711099999904633,14.4075,14.735299999952316,15.431599999904632,15.783199999928474]],[70,[24.359699999928473,24.903299999952317,25.143399999976157,25.759399999976157,26.047199999928473,26.6155,26.95109999990463,27.5275,27.83139999997616,28.359299999952317,28.66309999990463,29.2635,29.575199999928476,30.095199999928475,30.383299999952317,30.927299999952318,31.239199999928474]],[80,[39.239599999904634,39.69519999992848,39.95119999992848,40.47929999995232,40.735,41.21519999992847,41.52739999997616,41.97519999992848,42.23909999990463,42.69539999997616,42.97489999997616,43.479199999928476,43.735199999928476,44.215299999952315,44.52719999992848,44.99919999992847,45.263199999928474]],[90,[55.4555,55.90329999995232,56.167099999904636,56.598899999976155,56.831,57.238899999976155,57.479199999928476,57.85519999992847,58.119,58.527099999904635,58.76719999992847,59.23879999995231,59.47889999997616,59.92729999995232,60.167,60.57519999992847,60.839]],[100,[67.97529999995231,68.359,68.551,68.99889999997616,69.19109999990464,69.62319999992847,69.81489999997616,70.23889999997616,70.38289999997616,70.76679999995231,70.97479999995231,71.43079999995231,71.59879999995232,71.99879999995231,72.21519999992847,72.647,72.81519999992848]],[110,[79.6955,80.04679999995231,80.21469999992847,80.64679999995232,80.79079999995231,81.11869999992848,81.28669999992847,81.71879999995231,81.887,82.23869999992847,82.40689999997616,82.79079999995231,82.95869999992847,83.33509999990463,83.50279999995232,83.911,84.07069999992848]],[120,[90.69539999997616,91.00689999997616,91.143,91.55069999992847,91.6945,92.05479999995232,92.21479999995232,92.55089999997615,92.7185,93.03059999990464,93.19059999990463,93.55069999992847,93.7185,94.05469999992847,94.21459999990464,94.55059999990463,94.71859999990463]]]},oft="speed-up",sft="0.16.2",lft="2024-10-09T13:50:16.093Z",Q_={initialTempo:Xht,targetTempo:Yht,tempoIncrease:qht,quantize:Zht,currentStep:tft,currentTempo:eft,firstTimeStamp:ift,exerciseNotes:nft,exerciseBeatCount:aft,practiceRecordings:rft,_appId:oft,_softwareVersion:sft,_date:lft};function cft(t,e,i){const a=t.slice();return a[37]=e[i],a}function uft(t,e,i){const a=t.slice();return a[37]=e[i],a}function dft(t){let e;return{c(){e=K("option"),e.textContent=`${t[37]}`,e.__value=t[37],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function hft(t){let e,i=$e(["off","32nd","16th","8th","triplet","quintuplet"]),a=[];for(let r=0;r<6;r+=1)a[r]=dft(uft(t,i,r));return{c(){for(let r=0;r<6;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<6;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function fft(t){let e;return{c(){e=K("option"),e.textContent=`${t[37]}`,e.__value=t[37],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function mft(t){let e;return{c(){e=oe("triplet example")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function pft(t){let e;return{c(){e=oe("swing example")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function gft(t){let e,i,a,r,s,l,u,d,c,f;return s=new Sc({props:{onclick:t[29],$$slots:{default:[mft]},$$scope:{ctx:t}}}),u=new Sc({props:{onclick:t[30],$$slots:{default:[pft]},$$scope:{ctx:t}}}),{c(){e=K("p"),i=oe("1) Select a pre-defined below and play it from 60 to 120 bpm."),a=K("br"),r=q(),Ft(s.$$.fragment),l=q(),Ft(u.$$.fragment),d=q(),c=K("p"),c.textContent=`2) Input your own exercise, optionally quantize it, and practice
                it.`},m(M,m){Ct(M,e,m),B(e,i),B(e,a),B(e,r),kt(s,e,null),B(e,l),kt(u,e,null),Ct(M,d,m),Ct(M,c,m),f=!0},p(M,m){const A={};m[1]&2048&&(A.$$scope={dirty:m,ctx:M}),s.$set(A);const p={};m[1]&2048&&(p.$$scope={dirty:m,ctx:M}),u.$set(p)},i(M){f||(Rt(s.$$.fragment,M),Rt(u.$$.fragment,M),f=!0)},o(M){Dt(s.$$.fragment,M),Dt(u.$$.fragment,M),f=!1},d(M){M&&(bt(e),bt(d),bt(c)),Nt(s),Nt(u)}}}function Mft(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe,ni,ei,Ci,ai,ti,be,ye,ne,Et,yt,Ht,wt,xt,Qt,ut,X,Z;function _t(Pe){t[22](Pe)}let Gt={label:"initial tempo",title:"Set a tempo at which you are able to input the exercise precisely (in BPM)",callback:t[17]};t[2]!==void 0&&(Gt.value=t[2]),c=new Hr({props:Gt}),Me.push(()=>De(c,"value",_t));function Zt(Pe){t[23](Pe)}let ue={label:"target tempo",title:"Set the tempo you want to be able to play the exercise at (in BPM)",callback:t[17]};t[3]!==void 0&&(ue.value=t[3]),m=new Hr({props:ue}),Me.push(()=>De(m,"value",Zt));function ve(Pe){t[24](Pe)}let Fe={title:"Set the tempo increase between practice runs (in BPM)",label:"step",min:1,max:20,step:1};t[4]!==void 0&&(Fe.value=t[4]),y=new na({props:Fe}),Me.push(()=>De(y,"value",ve));function Je(Pe){t[25](Pe)}let ii={label:"quantize exercise",callback:t[17],$$slots:{default:[hft]},$$scope:{ctx:t}};t[5]!==void 0&&(ii.value=t[5]),w=new ia({props:ii}),Me.push(()=>De(w,"value",Je));let re=$e(["quarter","eighth","triplets","quintuplets","swing"]),Mi=[];for(let Pe=0;Pe<5;Pe+=1)Mi[Pe]=fft(cft(t,re,Pe));return Yt=new Y9({props:{saveToStorage:t[21],title:"Clear practice but not exercise",disabled:t[6]!=="",callback:t[27]}}),ei=new ha({props:{appId:t[0].id,loadData:t[20]}}),ai=new aa({props:{loadData:t[20],getExportData:t[19],appId:t[0].id}}),be=new z9({props:{$$slots:{default:[gft]},$$scope:{ctx:t}}}),ne=new J9({props:{appId:t[0].id}}),yt=new k9({props:{noteOn:t[12]}}),wt=new Sa({props:{key:" ",keyDown:t[31]}}),Qt=new Vl({props:{element:t[1],touchStart:t[32]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing playing faster. Adjust the initial and
            target tempo, record an exercise at the inital tempo, and then
            practice it with increasing speed until you reach your target tempo.
            All repetitions will be shown time-aligned, so you can see at which
            tempo you start to struggle keeping up.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),Ft(w.$$.fragment),b=q(),O=K("div"),S=K("label"),R=oe(`pre-defined exercise
                `),I=K("select"),P=K("option");for(let Pe=0;Pe<5;Pe+=1)Mi[Pe].c();L=q(),k=K("button"),N=oe("input exercise"),H=q(),U=K("button"),W=oe("save exercise"),Q=q(),G=K("button"),z=oe("start practice"),nt=q(),tt=K("button"),ht=oe("stop practice"),gt=q(),Tt=K("div"),vt=oe("current step: "),Ot=K("b"),ft=oe(t[6]),St=oe(` current tempo:
            `),Mt=K("b"),Pt=oe(t[7]),Vt=oe(" BPM"),ie=q(),jt=K("div"),Wt=q(),me=K("div"),Ft(Yt.$$.fragment),pe=q(),Qe=K("button"),Qe.textContent="example",ni=q(),Ft(ei.$$.fragment),Ci=q(),Ft(ai.$$.fragment),ti=q(),Ft(be.$$.fragment),ye=q(),Ft(ne.$$.fragment),Et=q(),Ft(yt.$$.fragment),Ht=q(),Ft(wt.$$.fragment),xt=q(),Ft(Qt.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),P.selected=!0,P.disabled=!0,P.__value="",Qi(P,P.__value),dt(k,"title","Start recording the exercise."),k.disabled=$=t[6]==="input exercise"||t[6]==="practice",dt(U,"title","Stop recording the exercise."),U.disabled=J=t[6]!=="input exercise",dt(G,"title","Start recording the practice with speed-up."),G.disabled=j=t[9].length===0,dt(tt,"title","Stop recording the practice with speed-up."),tt.disabled=pt=t[6]!=="practice",dt(O,"class","control"),dt(jt,"class","visualization"),dt(me,"class","control"),dt(e,"class","app")},m(Pe,ke){Ct(Pe,e,ke),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(d,v),kt(w,d,null),B(e,b),B(e,O),B(O,S),B(S,R),B(S,I),B(I,P);for(let we=0;we<5;we+=1)Mi[we]&&Mi[we].m(I,null);B(O,L),B(O,k),B(k,N),B(O,H),B(O,U),B(U,W),B(O,Q),B(O,G),B(G,z),B(O,nt),B(O,tt),B(tt,ht),B(e,gt),B(e,Tt),B(Tt,vt),B(Tt,Ot),B(Ot,ft),B(Tt,St),B(Tt,Mt),B(Mt,Pt),B(Tt,Vt),B(e,ie),B(e,jt),t[26](jt),B(e,Wt),B(e,me),kt(Yt,me,null),B(me,pe),B(me,Qe),B(me,ni),kt(ei,me,null),B(me,Ci),kt(ai,me,null),B(e,ti),kt(be,e,null),B(e,ye),kt(ne,e,null),B(e,Et),kt(yt,e,null),B(e,Ht),kt(wt,e,null),B(e,xt),kt(Qt,e,null),ut=!0,X||(Z=[Ue(I,"change",t[18]),Ue(k,"click",t[13]),Ue(U,"click",t[14]),Ue(G,"click",t[15]),Ue(tt,"click",t[16]),Ue(Qe,"click",t[28])],X=!0)},p(Pe,ke){(!ut||ke[0]&1)&&a!==(a=Pe[0].title+"")&&Ge(r,a);const we={};!f&&ke[0]&4&&(f=!0,we.value=Pe[2],Re(()=>f=!1)),c.$set(we);const Ii={};!A&&ke[0]&8&&(A=!0,Ii.value=Pe[3],Re(()=>A=!1)),m.$set(Ii);const wn={};!E&&ke[0]&16&&(E=!0,wn.value=Pe[4],Re(()=>E=!1)),y.$set(wn);const Ke={};ke[1]&2048&&(Ke.$$scope={dirty:ke,ctx:Pe}),!x&&ke[0]&32&&(x=!0,Ke.value=Pe[5],Re(()=>x=!1)),w.$set(Ke),(!ut||ke[0]&64&&$!==($=Pe[6]==="input exercise"||Pe[6]==="practice"))&&(k.disabled=$),(!ut||ke[0]&64&&J!==(J=Pe[6]!=="input exercise"))&&(U.disabled=J),(!ut||ke[0]&512&&j!==(j=Pe[9].length===0))&&(G.disabled=j),(!ut||ke[0]&64&&pt!==(pt=Pe[6]!=="practice"))&&(tt.disabled=pt),(!ut||ke[0]&64)&&Ge(ft,Pe[6]),(!ut||ke[0]&128)&&Ge(Pt,Pe[7]);const yn={};ke[0]&64&&(yn.disabled=Pe[6]!==""),ke[0]&1280&&(yn.callback=Pe[27]),Yt.$set(yn);const Be={};ke[0]&1&&(Be.appId=Pe[0].id),ei.$set(Be);const En={};ke[0]&1&&(En.appId=Pe[0].id),ai.$set(En);const bi={};ke[1]&2048&&(bi.$$scope={dirty:ke,ctx:Pe}),be.$set(bi);const on={};ke[0]&1&&(on.appId=Pe[0].id),ne.$set(on);const $n={};ke[0]&2&&($n.element=Pe[1]),Qt.$set($n)},i(Pe){ut||(Rt(c.$$.fragment,Pe),Rt(m.$$.fragment,Pe),Rt(y.$$.fragment,Pe),Rt(w.$$.fragment,Pe),Rt(Yt.$$.fragment,Pe),Rt(ei.$$.fragment,Pe),Rt(ai.$$.fragment,Pe),Rt(be.$$.fragment,Pe),Rt(ne.$$.fragment,Pe),Rt(yt.$$.fragment,Pe),Rt(wt.$$.fragment,Pe),Rt(Qt.$$.fragment,Pe),ut=!0)},o(Pe){Dt(c.$$.fragment,Pe),Dt(m.$$.fragment,Pe),Dt(y.$$.fragment,Pe),Dt(w.$$.fragment,Pe),Dt(Yt.$$.fragment,Pe),Dt(ei.$$.fragment,Pe),Dt(ai.$$.fragment,Pe),Dt(be.$$.fragment,Pe),Dt(ne.$$.fragment,Pe),Dt(yt.$$.fragment,Pe),Dt(wt.$$.fragment,Pe),Dt(Qt.$$.fragment,Pe),ut=!1},d(Pe){Pe&&bt(e),Nt(c),Nt(m),Nt(y),Nt(w),xi(Mi,Pe),t[26](null),Nt(Yt),Nt(ei),Nt(ai),Nt(be),Nt(ne),Nt(yt),Nt(wt),Nt(Qt),X=!1,f9(Z)}}}function Aft(t){let e,i;return e=new ra({props:{loadData:t[20],$$slots:{default:[Mft]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&2047|r[1]&2048&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let z_=900;function yft(t,e,i){const a=t[0];return t.map(s=>{let l=s-a;if(e!=="off"){let u;e==="8th"&&(u=i/2),e==="16th"&&(u=i/4),e==="32nd"&&(u=i/8),e==="triplet"&&(u=i/3),e==="quintuplet"&&(u=i/5),l=Math.round(l/u)*u}return l/i})}function vft(t,e,i){let{appInfo:a}=e,r,s=new xM,l=60,u=120,d=10,c="off",f="",M=u,m=performance.now(),A=[],p,y=new Map,E=!0,v;const w=async ht=>{const gt=(ht.timestamp-m)/1e3;if(f==="input exercise")i(9,A=[...A,gt]);else if(f==="practice"){y.has(M)||y.set(M,[]);const Tt=y.get(M);E&&Tt.push(gt)}I()},x=async()=>{const ht=y.get(M);if(!ht||!ht.length)return;const pt=Ir(ht),Tt=(performance.now()-m)/1e3-pt;let vt=ta(M);Tt/vt>=p&&(console.log("increasing bpm"),s.stop(),M<u?(i(7,M+=d),E=!1,await g7(1),s.start(240,1,3),await g7(3),s.start(M,4),y.has(M)&&y.set(M,[]),E=!0):R())},b=()=>{i(6,f="input exercise"),i(9,A=[]),i(10,y=new Map),s.start(l,4),I()},O=()=>{if(i(6,f=""),s.stop(),A.length>0){const ht=ca(A)-Ir(A);let pt=ta(l);p=Math.ceil(ht/pt)}},S=async()=>{if(A.length===0){alert("You need to input an exercise first");return}i(6,f="practice"),i(7,M=l),i(10,y=new Map),s.start(M,4),v=setInterval(x,100)},R=()=>{console.log("stop practice"),i(6,f=""),i(7,M=u),clearInterval(v),s.stop()},I=()=>{if(i(1,r.textContent="",r),A.length===0)return;let ht=ta(l);const pt=yft(A,c,ht);let gt=Math.ceil(ca(pt)/4*4)+1;const Tt=Bn({width:z_,height:70,marginTop:5,marginLeft:40,marginBottom:35,x:{label:"time in beats",domain:[0,gt],tickSize:0},y:{label:"exercise",ticks:[],labelAnchor:"center"},marks:[Ta([0],{text:""}),Ar(Ei(0,gt,1),{stroke:"#ccc"}),Ar(Ei(0,gt+1,4),{stroke:"#c8c8c8",strokeWidth:3}),Mr(pt,{stroke:"#333",strokeWidth:.89,inset:8})]});r.appendChild(Tt);for(const[vt,Ot]of y){const ft=Ot[0];ht=ta(vt);const St=Ot.map(Pt=>(Pt-ft)/ht),Mt=Bn({width:z_,height:40,marginTop:0,marginLeft:40,marginBottom:5,x:{domain:[0,gt],tickSize:0,ticks:[]},y:{label:`${vt}
bpm`,ticks:[],labelAnchor:"center"},marks:[Ta([0],{text:""}),Ar(Ei(0,gt+1,4),{stroke:"#c8c8c8",strokeWidth:3}),Mr(pt,{stroke:"#ddd",strokeWidth:.8}),Mr(St,{stroke:"#000",strokeWidth:.9,x:Pt=>Pt,inset:10})]});r.appendChild(Mt)}};c9(I);const P=ht=>{const pt=ht.target.value,gt=8,Tt=new Map([["quarter",Ei(0,gt,1)],["eighth",Ei(0,gt,.5)],["triplets",Ei(0,gt,1/3)],["quintuplets",Ei(0,gt,1/5)],["swing",Ei(0,gt,.5).map((ft,St)=>St%2===0?ft:ft+.2)]]),vt=ta(l);i(5,c="off");const Ot=Tt.get(pt);i(9,A=Ot.map(ft=>ft*vt)),p=Math.ceil(ca(Ot)+1),I()},L=()=>({initialTempo:l,targetTempo:u,tempoIncrease:d,quantize:c,currentStep:f,currentTempo:M,firstTimeStamp:m,exerciseNotes:A,exerciseBeatCount:p,practiceRecordings:y}),k=ht=>{N(),i(2,l=ht.initialTempo),i(3,u=ht.targetTempo),i(4,d=ht.tempoIncrease),i(5,c=ht.quantize),i(6,f=ht.currentStep),i(7,M=ht.currentTempo),i(8,m=ht.firstTimeStamp),i(9,A=ht.exerciseNotes),p=ht.exerciseBeatCount,i(10,y=ht.practiceRecordings),y.dataType&&i(10,y=new Map(y.value)),I()},N=()=>{const ht=JSON.stringify(y,yf);A.length>0&&ht!==JSON.stringify(A6.practiceRecordings,yf)&&ht!==JSON.stringify(Q_.practiceRecordings,yf)&&da(a.id,L())};r9(()=>{clearInterval(v),s.stop(),N()});function $(ht){l=ht,i(2,l)}function H(ht){u=ht,i(3,u)}function U(ht){d=ht,i(4,d)}function W(ht){c=ht,i(5,c)}function J(ht){Me[ht?"unshift":"push"](()=>{r=ht,i(1,r)})}const Q=()=>{s.stop(),i(10,y=new Map),i(8,m=performance.now()),I()},G=()=>k(A6),z=()=>k(A6),j=()=>k(Q_),nt=()=>w({timestamp:performance.now()}),tt=()=>w({timestamp:performance.now()});return t.$$set=ht=>{"appInfo"in ht&&i(0,a=ht.appInfo)},[a,r,l,u,d,c,f,M,m,A,y,s,w,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt]}class bft extends Ki{constructor(e){super(),Wi(this,e,vft,Aft,ji,{appInfo:0},null,[-1,-1])}}function Cft(t,e,i){const a=t.slice();return a[34]=e[i],a}function Eft(t,e,i){const a=t.slice();return a[34]=e[i],a}function _ft(t){let e;return{c(){e=K("option"),e.textContent=`${t[34]}`,e.__value=t[34],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function wft(t){let e,i=$e(["off","32nd","16th","8th","triplet","quintuplet"]),a=[];for(let r=0;r<6;r+=1)a[r]=_ft(Eft(t,i,r));return{c(){for(let r=0;r<6;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<6;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function Oft(t){let e;return{c(){e=K("option"),e.textContent=`${t[34]}`,e.__value=t[34],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function xft(t){let e,i,a;return{c(){e=K("p"),e.textContent="1) Select a pre-defined below and play it from 60 to 120 bpm.",i=q(),a=K("p"),a.textContent=`2) Input your own exercise, optionally quantize it, and practice
                it.`},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function Sft(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe,ni,ei,Ci,ai,ti,be,ye,ne,Et,yt,Ht;function wt(ve){t[21](ve)}let xt={label:"initial tempo",title:"Set a tempo at which you are able to input the exercise precisely (in BPM)",callback:t[16]};t[2]!==void 0&&(xt.value=t[2]),c=new Hr({props:xt}),Me.push(()=>De(c,"value",wt));function Qt(ve){t[22](ve)}let ut={label:"target tempo",title:"Set the tempo you want to be able to play the exercise at (in BPM)",callback:t[16]};t[3]!==void 0&&(ut.value=t[3]),m=new Hr({props:ut}),Me.push(()=>De(m,"value",Qt));function X(ve){t[23](ve)}let Z={title:"Set the tempo increase between practice runs (in BPM)",label:"step",min:1,max:20,step:1};t[4]!==void 0&&(Z.value=t[4]),y=new na({props:Z}),Me.push(()=>De(y,"value",X));function _t(ve){t[24](ve)}let Gt={label:"quantize exercise",callback:t[16],$$slots:{default:[wft]},$$scope:{ctx:t}};t[5]!==void 0&&(Gt.value=t[5]),w=new ia({props:Gt}),Me.push(()=>De(w,"value",_t));let Zt=$e(["quarter","eighth","triplets","swing"]),ue=[];for(let ve=0;ve<4;ve+=1)ue[ve]=Oft(Cft(t,Zt,ve));return Yt=new Y9({props:{saveToStorage:t[20],title:"Clear practice but not exercise",disabled:t[6]!=="",callback:t[26]}}),Qe=new ha({props:{appId:t[0].id,loadData:t[19]}}),ei=new aa({props:{loadData:t[19],getExportData:t[18],appId:t[0].id}}),ai=new z9({props:{$$slots:{default:[xft]},$$scope:{ctx:t}}}),be=new J9({props:{appId:t[0].id}}),ne=new k9({props:{noteOn:t[11]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing playing faster on guitar. Adjust the
            initial and target tempo, record an exercise at the inital tempo,
            and then practice it with increasing speed until you reach your
            target tempo. All repetitions will be shown time-aligned, so you can
            see at which tempo you start to struggle keeping up. The notes you
            play are displayed in a tablature-like visualization with crosses,
            numbers above notes indicate the fret. The darkness (white to black)
            encodes the notes' velocities, so eventual noise (unintended notes)
            is less distracting.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),Ft(w.$$.fragment),b=q(),O=K("div"),S=K("label"),R=oe(`exercise
                `),I=K("select"),P=K("option");for(let ve=0;ve<4;ve+=1)ue[ve].c();L=q(),k=K("button"),N=oe("input exercise"),H=q(),U=K("button"),W=oe("save exercise"),Q=q(),G=K("button"),z=oe("start practice"),nt=q(),tt=K("button"),ht=oe("stop practice"),gt=q(),Tt=K("div"),vt=oe("current step: "),Ot=K("b"),ft=oe(t[6]),St=oe(` current tempo:
            `),Mt=K("b"),Pt=oe(t[7]),Vt=oe(" BPM"),ie=q(),jt=K("div"),Wt=q(),me=K("div"),Ft(Yt.$$.fragment),pe=q(),Ft(Qe.$$.fragment),ni=q(),Ft(ei.$$.fragment),Ci=q(),Ft(ai.$$.fragment),ti=q(),Ft(be.$$.fragment),ye=q(),Ft(ne.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),P.selected=!0,P.disabled=!0,P.__value="",Qi(P,P.__value),dt(k,"title","Start recording the exercise."),k.disabled=$=t[6]==="input exercise"||t[6]==="practice",dt(U,"title","Stop recording the exercise."),U.disabled=J=t[6]!=="input exercise",dt(G,"title","Start recording the practice with speed-up."),G.disabled=j=t[9].length===0,dt(tt,"title","Stop recording the practice with speed-up."),tt.disabled=pt=t[6]!=="practice",dt(O,"class","control"),dt(jt,"class","visualization"),dt(me,"class","control"),dt(e,"class","app")},m(ve,Fe){Ct(ve,e,Fe),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(d,v),kt(w,d,null),B(e,b),B(e,O),B(O,S),B(S,R),B(S,I),B(I,P);for(let Je=0;Je<4;Je+=1)ue[Je]&&ue[Je].m(I,null);B(O,L),B(O,k),B(k,N),B(O,H),B(O,U),B(U,W),B(O,Q),B(O,G),B(G,z),B(O,nt),B(O,tt),B(tt,ht),B(e,gt),B(e,Tt),B(Tt,vt),B(Tt,Ot),B(Ot,ft),B(Tt,St),B(Tt,Mt),B(Mt,Pt),B(Tt,Vt),B(e,ie),B(e,jt),t[25](jt),B(e,Wt),B(e,me),kt(Yt,me,null),B(me,pe),kt(Qe,me,null),B(me,ni),kt(ei,me,null),B(e,Ci),kt(ai,e,null),B(e,ti),kt(be,e,null),B(e,ye),kt(ne,e,null),Et=!0,yt||(Ht=[Ue(I,"change",t[17]),Ue(k,"click",t[12]),Ue(U,"click",t[13]),Ue(G,"click",t[14]),Ue(tt,"click",t[15])],yt=!0)},p(ve,Fe){(!Et||Fe[0]&1)&&a!==(a=ve[0].title+"")&&Ge(r,a);const Je={};!f&&Fe[0]&4&&(f=!0,Je.value=ve[2],Re(()=>f=!1)),c.$set(Je);const ii={};!A&&Fe[0]&8&&(A=!0,ii.value=ve[3],Re(()=>A=!1)),m.$set(ii);const re={};!E&&Fe[0]&16&&(E=!0,re.value=ve[4],Re(()=>E=!1)),y.$set(re);const Mi={};Fe[1]&256&&(Mi.$$scope={dirty:Fe,ctx:ve}),!x&&Fe[0]&32&&(x=!0,Mi.value=ve[5],Re(()=>x=!1)),w.$set(Mi),(!Et||Fe[0]&64&&$!==($=ve[6]==="input exercise"||ve[6]==="practice"))&&(k.disabled=$),(!Et||Fe[0]&64&&J!==(J=ve[6]!=="input exercise"))&&(U.disabled=J),(!Et||Fe[0]&512&&j!==(j=ve[9].length===0))&&(G.disabled=j),(!Et||Fe[0]&64&&pt!==(pt=ve[6]!=="practice"))&&(tt.disabled=pt),(!Et||Fe[0]&64)&&Ge(ft,ve[6]),(!Et||Fe[0]&128)&&Ge(Pt,ve[7]);const Pe={};Fe[0]&64&&(Pe.disabled=ve[6]!==""),Fe[0]&1280&&(Pe.callback=ve[26]),Yt.$set(Pe);const ke={};Fe[0]&1&&(ke.appId=ve[0].id),Qe.$set(ke);const we={};Fe[0]&1&&(we.appId=ve[0].id),ei.$set(we);const Ii={};Fe[1]&256&&(Ii.$$scope={dirty:Fe,ctx:ve}),ai.$set(Ii);const wn={};Fe[0]&1&&(wn.appId=ve[0].id),be.$set(wn)},i(ve){Et||(Rt(c.$$.fragment,ve),Rt(m.$$.fragment,ve),Rt(y.$$.fragment,ve),Rt(w.$$.fragment,ve),Rt(Yt.$$.fragment,ve),Rt(Qe.$$.fragment,ve),Rt(ei.$$.fragment,ve),Rt(ai.$$.fragment,ve),Rt(be.$$.fragment,ve),Rt(ne.$$.fragment,ve),Et=!0)},o(ve){Dt(c.$$.fragment,ve),Dt(m.$$.fragment,ve),Dt(y.$$.fragment,ve),Dt(w.$$.fragment,ve),Dt(Yt.$$.fragment,ve),Dt(Qe.$$.fragment,ve),Dt(ei.$$.fragment,ve),Dt(ai.$$.fragment,ve),Dt(be.$$.fragment,ve),Dt(ne.$$.fragment,ve),Et=!1},d(ve){ve&&bt(e),Nt(c),Nt(m),Nt(y),Nt(w),xi(ue,ve),t[25](null),Nt(Yt),Nt(Qe),Nt(ei),Nt(ai),Nt(be),Nt(ne),yt=!1,f9(Ht)}}}function Tft(t){let e,i;return e=new ra({props:{loadData:t[19],$$slots:{default:[Sft]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&2047|r[1]&256&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let J_=900,j_=150,Xm=6;function Ift(t,e,i){const a=t[0].time;return t.map(s=>{let l=s.time-a;if(e!=="off"){let d;e==="8th"&&(d=i/2),e==="16th"&&(d=i/4),e==="32nd"&&(d=i/8),l=Math.round(l/d)*d}const u=l/i;return{...s,time:u}})}function Bft(t,e,i){let{appInfo:a}=e,r,s=new xM,l=!0,u,d=60,c=120,f=10,M="off",m="",A=c,p=performance.now(),y=[],E,v=new Map,w=[64,59,55,50,45,40];const x=w.map(Ga.fromMidiSharps),b=async j=>{const nt=(j.timestamp-p)/1e3,tt=j.message.channel-1,ht={time:nt,string:tt,fret:j.note.number-w[tt],velocity:j.rawVelocity};if(m==="input exercise")i(9,y=[...y,ht]);else if(m==="practice"){v.has(A)||v.set(A,[]);const pt=v.get(A);l&&pt.push(ht)}L()},O=async()=>{const j=v.get(A);if(!j||!j.length)return;const nt=Ir(j,Tt=>Tt.time),ht=(performance.now()-p)/1e3-nt;let pt=ta(A);ht/pt>=E&&(console.log("increasing bpm"),s.stop(),A<=c?(i(7,A+=f),l=!1,await g7(1),s.start(A,4),v.has(A)&&v.set(A,[]),l=!0):P())},S=()=>{i(6,m="input exercise"),i(9,y=[]),i(10,v=new Map),s.start(d,4),L()},R=()=>{if(i(6,m=""),s.stop(),y.length>0){const j=ca(y,tt=>tt.time)-Ir(y,tt=>tt.time);let nt=ta(d);E=Math.ceil(j/nt)}},I=async()=>{if(y.length===0){alert("You need to input an exercise first");return}i(6,m="practice"),i(7,A=d),i(10,v=new Map),s.start(A,4),u=setInterval(O,100)},P=()=>{i(6,m=""),i(7,A=c),clearInterval(u),s.stop()},L=()=>{if(i(1,r.textContent="",r),y.length===0)return;let j=ta(d);const nt=Ift(y,M,j);let tt=Math.ceil(ca(nt,pt=>pt.time)/4*4)+.5;const ht=Bn({width:J_,height:j_,marginLeft:40,x:{label:"time in beats",domain:[0,tt]},y:{domain:Ei(0,Xm),tickFormat:pt=>x[pt],tickSize:0},marks:[H9(Ei(0,Xm),{stroke:"#eee",strokeDasharray:"6 6"}),Ar(Ei(0,tt,1),{stroke:"#ccc"}),Ar(Ei(0,tt,4),{stroke:"#aaa"}),Mr(nt,{stroke:"#333",x:pt=>pt.time,y:pt=>pt.string,strokeWidth:2}),Ta(nt,{text:"fret",fill:"velocity",x:pt=>pt.time,y:pt=>pt.string,textAnchor:"middle",dy:-10})]});r.appendChild(ht);for(const[pt,gt]of v){if(gt.length===0)continue;const Tt=gt[0].time;j=ta(pt);const vt=gt.map(ft=>({...ft,time:(ft.time-Tt)/j})),Ot=Bn({width:J_,height:j_,marginLeft:40,x:{label:"time in beats",domain:[0,tt]},y:{label:`${pt} BPM`,domain:Ei(0,Xm),tickFormat:ft=>x[ft],tickSize:0},color:{domain:[0,100],scheme:"Greys"},marks:[H9(Ei(0,Xm),{stroke:"#eee",strokeDasharray:"6 6"}),Ar(Ei(0,tt,1),{stroke:"#ccc"}),Ar(Ei(0,tt,4),{stroke:"#aaa"}),Mr(vt,{stroke:"velocity",x:ft=>ft.time,y:ft=>ft.string,strokeWidth:1.2}),Ta(vt,{text:"fret",fill:"velocity",x:ft=>ft.time,y:ft=>ft.string,textAnchor:"middle",dy:-10})]});r.appendChild(Ot)}};c9(L);const k=j=>{const nt=j.target.value,tt=new Map([["quarter",Ei(0,8,1)],["eighth",Ei(0,8,.5)],["triplets",Ei(0,8,1/3)],["swing",Ei(0,8,.5).map((gt,Tt)=>Tt%2===0?gt:gt+.2)]]),ht=ta(d);i(5,M="off");const pt=tt.get(nt);i(9,y=pt.map(gt=>gt*ht)),E=Math.ceil(ca(pt)+1),i(9,y=y.map(gt=>({time:gt,string:5,fret:0}))),L()},N=()=>({initialTempo:d,targetTempo:c,tempoIncrease:f,quantize:M,currentStep:m,currentTempo:A,firstTimeStamp:p,exerciseNotes:y,exerciseBeatCount:E,practiceRecordings:v}),$=j=>{H(),i(2,d=j.initialTempo),i(3,c=j.targetTempo),i(4,f=j.tempoIncrease),i(5,M=j.quantize),i(6,m=j.currentStep),i(7,A=j.currentTempo),i(8,p=j.firstTimeStamp),i(9,y=j.exerciseNotes),E=j.exerciseBeatCount,i(10,v=j.practiceRecordings),v.dataType&&i(10,v=new Map(v.value)),L()},H=()=>{y.length>0&&da(a.id,N())};r9(()=>{clearInterval(u),s.stop(),H()});function U(j){d=j,i(2,d)}function W(j){c=j,i(3,c)}function J(j){f=j,i(4,f)}function Q(j){M=j,i(5,M)}function G(j){Me[j?"unshift":"push"](()=>{r=j,i(1,r)})}const z=()=>{i(10,v=new Map),i(8,p=performance.now()),L()};return t.$$set=j=>{"appInfo"in j&&i(0,a=j.appInfo)},[a,r,d,c,f,M,m,A,p,y,v,b,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z]}class Rft extends Ki{constructor(e){super(),Wi(this,e,Bft,Tft,ji,{appInfo:0},null,[-1,-1])}}const Dft=17,Pft=.07,Lft=[{number:40,velocity:98,time:13.264099999999628,channel:6,string:5,fret:0,end:20.250099999999627,duration:6.985999999999999},{number:45,velocity:90,time:13.475099999999628,channel:5,string:4,fret:0,end:14.705199999999255,duration:1.2300999999996272},{number:52,velocity:127,time:13.714099999999627,channel:4,string:3,fret:2,end:14.728099999999628,duration:1.0140000000000011},{number:45,velocity:92,time:14.710099999999628,channel:5,string:4,fret:0,end:15.473199999999254,duration:.7630999999996266},{number:53,velocity:127,time:14.732099999999628,channel:4,string:3,fret:3,end:15.475099999999628,duration:.7430000000000003},{number:72,velocity:61,time:14.744199999999255,channel:2,string:1,fret:13,end:14.747199999999255,duration:.0030000000000001137},{number:61,velocity:127,time:14.751099999999628,channel:2,string:1,fret:2,end:15.505099999999628,duration:.7539999999999996},{number:57,velocity:127,time:14.754099999999628,channel:3,string:2,fret:2,end:15.495099999999628,duration:.7409999999999997},{number:64,velocity:115,time:14.759099999999627,channel:1,string:0,fret:0,end:15.794199999999256,duration:1.0350999999996287},{number:45,velocity:90,time:15.481099999999627,channel:5,string:4,fret:0,end:16.439099999999627,duration:.9580000000000002},{number:68,velocity:113,time:15.498199999999255,channel:3,string:2,fret:13,end:15.506099999999627,duration:.007900000000372387},{number:52,velocity:126,time:15.502199999999254,channel:4,string:3,fret:2,end:15.834199999999255,duration:.33200000000000074},{number:78,velocity:68,time:15.508099999999628,channel:2,string:1,fret:19,end:15.517099999999628,duration:.009000000000000341},{number:58,velocity:122,time:15.510199999999255,channel:3,string:2,fret:3,end:15.820099999999627,duration:.309900000000372},{number:60,velocity:111,time:15.520099999999628,channel:2,string:1,fret:1,end:15.807099999999627,duration:.28699999999999903},{number:64,velocity:127,time:15.800199999999254,channel:1,string:0,fret:0,end:16.744199999999253,duration:.9439999999999991},{number:61,velocity:127,time:15.812099999999628,channel:2,string:1,fret:2,end:16.376099999999628,duration:.5640000000000001},{number:58,velocity:127,time:15.824099999999628,channel:3,string:2,fret:3,end:16.398199999999257,duration:.5740999999996284},{number:52,velocity:121,time:15.839199999999256,channel:4,string:3,fret:2,end:16.416199999999254,duration:.5769999999999982},{number:60,velocity:90,time:16.381099999999627,channel:2,string:1,fret:1,end:16.726099999999626,duration:.34499999999999886},{number:58,velocity:120,time:16.402199999999254,channel:3,string:2,fret:3,end:16.715099999999627,duration:.3129000000003721},{number:52,velocity:114,time:16.425199999999254,channel:4,string:3,fret:2,end:16.700099999999626,duration:.27490000000037185},{number:45,velocity:72,time:16.44909999999963,channel:5,string:4,fret:0,end:16.67909999999963,duration:.23000000000000043},{number:45,velocity:94,time:16.686199999999253,channel:5,string:4,fret:0,end:17.004099999999628,duration:.31790000000037466},{number:53,velocity:127,time:16.704099999999627,channel:4,string:3,fret:3,end:17.00209999999963,duration:.2980000000000018},{number:58,velocity:127,time:16.718099999999627,channel:3,string:2,fret:3,end:17.311099999999627,duration:.593},{number:61,velocity:121,time:16.73109999999963,channel:2,string:1,fret:2,end:17.320099999999627,duration:.5889999999999986},{number:64,velocity:120,time:16.747199999999253,channel:1,string:0,fret:0,end:17.329099999999627,duration:.581900000000374},{number:52,velocity:107,time:17.007099999999628,channel:4,string:3,fret:2,end:17.297199999999254,duration:.2900999999996259},{number:45,velocity:103,time:17.012099999999627,channel:5,string:4,fret:0,end:18.284199999999256,duration:1.2720999999996287},{number:53,velocity:127,time:17.303099999999628,channel:4,string:3,fret:3,end:18.267099999999626,duration:.9639999999999986},{number:58,velocity:127,time:17.317099999999627,channel:3,string:2,fret:3,end:17.882099999999628,duration:.5650000000000013},{number:61,velocity:127,time:17.324199999999255,channel:2,string:1,fret:2,end:17.902099999999628,duration:.5779000000003727},{number:64,velocity:117,time:17.33309999999963,channel:1,string:0,fret:0,end:17.92009999999963,duration:.5869999999999997},{number:57,velocity:80,time:17.887099999999627,channel:3,string:2,fret:2,end:18.257099999999628,duration:.370000000000001},{number:61,velocity:121,time:17.907099999999627,channel:2,string:1,fret:2,end:18.243199999999256,duration:.3360999999996288},{number:65,velocity:118,time:17.924199999999257,channel:1,string:0,fret:1,end:19.152099999999628,duration:1.2279000000003713},{number:61,velocity:127,time:18.248199999999255,channel:2,string:1,fret:2,end:18.800099999999627,duration:.5519000000003729},{number:58,velocity:127,time:18.260199999999255,channel:3,string:2,fret:3,end:18.818199999999255,duration:.5579999999999998},{number:53,velocity:127,time:18.27209999999963,channel:4,string:3,fret:3,end:18.83609999999963,duration:.5640000000000001},{number:45,velocity:80,time:18.293099999999626,channel:5,string:4,fret:0,end:18.857099999999626,duration:.5640000000000001},{number:61,velocity:114,time:18.806099999999628,channel:2,string:1,fret:2,end:19.141199999999255,duration:.3350999999996276},{number:58,velocity:127,time:18.823099999999627,channel:3,string:2,fret:3,end:19.120199999999254,duration:.29709999999962733},{number:52,velocity:120,time:18.840099999999627,channel:4,string:3,fret:2,end:19.105199999999254,duration:.2650999999996273},{number:45,velocity:80,time:18.864199999999254,channel:5,string:4,fret:0,end:19.099099999999627,duration:.2349000000003727},{number:45,velocity:96,time:19.10609999999963,channel:5,string:4,fret:0,end:19.708199999999255,duration:.602099999999627},{number:71,velocity:100,time:19.125099999999627,channel:3,string:2,fret:16,end:19.149099999999628,duration:.02400000000000091},{number:52,velocity:126,time:19.130099999999626,channel:4,string:3,fret:2,end:19.709099999999626,duration:.5790000000000006},{number:57,velocity:127,time:19.146099999999628,channel:3,string:2,fret:2,end:19.413099999999627,duration:.26699999999999946},{number:61,velocity:124,time:19.146099999999628,channel:2,string:1,fret:2,end:19.405099999999628,duration:.25900000000000034},{number:64,velocity:108,time:19.15609999999963,channel:1,string:0,fret:0,end:19.750099999999627,duration:.5939999999999976},{number:60,velocity:98,time:19.407099999999627,channel:2,string:1,fret:1,end:19.742099999999628,duration:.33500000000000085},{number:57,velocity:111,time:19.417199999999255,channel:3,string:2,fret:2,end:19.729099999999626,duration:.3119000000003709},{number:45,velocity:96,time:19.71409999999963,channel:5,string:4,fret:0,end:20.270199999999257,duration:.5560999999996277},{number:67,velocity:69,time:19.71409999999963,channel:4,string:3,fret:17,end:19.719099999999628,duration:.004999999999999005},{number:53,velocity:127,time:19.723099999999626,channel:4,string:3,fret:3,end:20.273099999999626,duration:.5500000000000007},{number:58,velocity:125,time:19.733199999999254,channel:3,string:2,fret:3,end:20.291199999999254,duration:.5579999999999998},{number:61,velocity:121,time:19.744199999999253,channel:2,string:1,fret:2,end:20.30409999999963,duration:.5599000000003755},{number:64,velocity:116,time:19.756099999999627,channel:1,string:0,fret:0,end:20.559099999999628,duration:.8030000000000008},{number:40,velocity:71,time:20.26309999999963,channel:6,string:5,fret:0,end:22.244099999999627,duration:1.980999999999998},{number:62,velocity:92,time:20.277099999999628,channel:4,string:3,fret:12,end:20.29509999999963,duration:.018000000000000682},{number:45,velocity:99,time:20.279099999999627,channel:5,string:4,fret:0,end:21.784199999999256,duration:1.5050999999996293},{number:53,velocity:114,time:20.29209999999963,channel:4,string:3,fret:3,end:20.610199999999256,duration:.3180999999996281},{number:58,velocity:103,time:20.297199999999254,channel:3,string:2,fret:3,end:20.588099999999628,duration:.29090000000037364},{number:60,velocity:86,time:20.309099999999628,channel:2,string:1,fret:1,end:20.576099999999627,duration:.26699999999999946},{number:64,velocity:69,time:20.564099999999627,channel:1,string:0,fret:0,end:21.309099999999628,duration:.745000000000001},{number:61,velocity:119,time:20.58009999999963,channel:2,string:1,fret:2,end:21.29809999999963,duration:.718},{number:58,velocity:124,time:20.595199999999256,channel:3,string:2,fret:3,end:21.287099999999626,duration:.6919000000003699},{number:52,velocity:114,time:20.617099999999628,channel:4,string:3,fret:2,end:21.273099999999626,duration:.6559999999999988},{number:52,velocity:110,time:21.277099999999628,channel:4,string:3,fret:2,end:21.793199999999256,duration:.5160999999996285},{number:58,velocity:124,time:21.29209999999963,channel:3,string:2,fret:3,end:21.543099999999626,duration:.25099999999999767},{number:61,velocity:115,time:21.302099999999626,channel:2,string:1,fret:2,end:21.532099999999627,duration:.23000000000000043},{number:64,velocity:90,time:21.314199999999254,channel:1,string:0,fret:0,end:21.518099999999627,duration:.2039000000003739},{number:64,velocity:109,time:21.523099999999626,channel:1,string:0,fret:0,end:21.824199999999255,duration:.30109999999962866},{number:61,velocity:113,time:21.537199999999256,channel:2,string:1,fret:2,end:21.812099999999628,duration:.27490000000037185},{number:58,velocity:104,time:21.547099999999627,channel:3,string:2,fret:3,end:21.800199999999254,duration:.25309999999962685},{number:45,velocity:105,time:21.791099999999627,channel:5,string:4,fret:0,end:23.228199999999255,duration:1.437099999999628},{number:53,velocity:125,time:21.79809999999963,channel:4,string:3,fret:3,end:22.270099999999626,duration:.47199999999999775},{number:57,velocity:117,time:21.813199999999256,channel:3,string:2,fret:2,end:22.283199999999255,duration:.46999999999999886},{number:61,velocity:121,time:21.817099999999627,channel:2,string:1,fret:2,end:22.288199999999254,duration:.4710999999996268},{number:64,velocity:103,time:21.82709999999963,channel:1,string:0,fret:0,end:22.523099999999626,duration:.695999999999998},{number:49,velocity:39,time:22.251199999999255,channel:6,string:5,fret:9,end:22.285099999999627,duration:.03390000000037219},{number:52,velocity:113,time:22.279099999999627,channel:4,string:3,fret:2,end:22.561099999999627,duration:.28200000000000003},{number:40,velocity:56,time:22.282099999999627,channel:6,string:5,fret:0,end:23.213199999999254,duration:.9310999999996277},{number:57,velocity:107,time:22.286099999999628,channel:3,string:2,fret:2,end:22.544099999999627,duration:.2579999999999991},{number:61,velocity:109,time:22.293099999999626,channel:2,string:1,fret:2,end:22.533199999999255,duration:.24009999999962872},{number:64,velocity:87,time:22.527199999999254,channel:1,string:0,fret:0,end:22.986199999999254,duration:.45899999999999963},{number:60,velocity:120,time:22.538199999999254,channel:2,string:1,fret:1,end:23.006099999999627,duration:.46790000000037324},{number:58,velocity:127,time:22.549099999999626,channel:3,string:2,fret:3,end:23.024099999999628,duration:.4750000000000014},{number:52,velocity:123,time:22.565099999999628,channel:4,string:3,fret:2,end:23.039099999999628,duration:.4740000000000002},{number:64,velocity:88,time:22.989099999999627,channel:1,string:0,fret:0,end:23.288199999999254,duration:.2990999999996262},{number:61,velocity:110,time:23.01009999999963,channel:2,string:1,fret:2,end:23.26909999999963,duration:.25900000000000034},{number:57,velocity:106,time:23.02809999999963,channel:3,string:2,fret:2,end:23.258099999999626,duration:.22999999999999687},{number:52,velocity:96,time:23.049099999999626,channel:4,string:3,fret:2,end:23.231199999999255,duration:.1820999999996289},{number:40,velocity:58,time:23.224199999999254,channel:6,string:5,fret:0,end:23.697199999999256,duration:.47300000000000253},{number:45,velocity:101,time:23.237199999999255,channel:5,string:4,fret:0,end:23.500099999999627,duration:.2629000000003714},{number:52,velocity:127,time:23.256199999999254,channel:4,string:3,fret:2,end:23.402199999999254,duration:.1460000000000008},{number:58,velocity:127,time:23.261099999999626,channel:3,string:2,fret:3,end:23.371199999999256,duration:.11009999999962972},{number:60,velocity:120,time:23.27509999999963,channel:2,string:1,fret:1,end:23.356199999999255,duration:.08109999999962625},{number:64,velocity:104,time:23.292199999999255,channel:1,string:0,fret:0,end:23.437099999999628,duration:.14490000000037284},{number:64,velocity:83,time:23.44109999999963,channel:1,string:0,fret:0,end:23.741099999999626,duration:.29999999999999716},{number:59,velocity:107,time:23.459099999999626,channel:2,string:1,fret:0,end:23.732199999999256,duration:.27309999999962997},{number:55,velocity:104,time:23.477099999999627,channel:3,string:2,fret:0,end:23.723099999999626,duration:.24599999999999866},{number:50,velocity:108,time:23.491099999999626,channel:4,string:3,fret:0,end:23.619099999999627,duration:.1280000000000001},{number:45,velocity:106,time:23.508199999999256,channel:5,string:4,fret:0,end:23.604099999999626,duration:.0959000000003698},{number:53,velocity:69,time:23.702199999999255,channel:5,string:4,fret:8,end:23.736199999999254,duration:.03399999999999892},{number:40,velocity:111,time:23.707099999999627,channel:6,string:5,fret:0,end:23.72009999999963,duration:.013000000000001677},{number:62,velocity:110,time:23.71709999999963,channel:6,string:5,fret:22,end:23.736199999999254,duration:.019099999999625084},{number:56,velocity:127,time:23.727199999999254,channel:3,string:2,fret:1,end:24.213099999999628,duration:.4859000000003739},{number:52,velocity:127,time:23.730099999999627,channel:4,string:3,fret:2,end:24.19909999999963,duration:.4690000000000012},{number:47,velocity:91,time:23.73409999999963,channel:5,string:4,fret:2,end:24.194099999999626,duration:.4599999999999973},{number:40,velocity:108,time:23.73409999999963,channel:6,string:5,fret:0,end:25.178099999999628,duration:1.443999999999999},{number:60,velocity:125,time:23.73709999999963,channel:2,string:1,fret:1,end:24.483099999999627,duration:.7459999999999987},{number:64,velocity:101,time:23.74309999999963,channel:1,string:0,fret:0,end:24.47009999999963,duration:.7270000000000003},{number:47,velocity:100,time:24.201099999999627,channel:5,string:4,fret:2,end:24.976199999999256,duration:.7750999999996289},{number:53,velocity:119,time:24.203099999999626,channel:4,string:3,fret:3,end:24.508099999999626,duration:.3049999999999997},{number:55,velocity:123,time:24.21709999999963,channel:3,string:2,fret:0,end:24.50209999999963,duration:.28500000000000014},{number:64,velocity:120,time:24.474199999999254,channel:1,string:0,fret:0,end:24.913199999999254,duration:.43900000000000006},{number:59,velocity:121,time:24.488099999999626,channel:2,string:1,fret:0,end:24.939099999999627,duration:.4510000000000005},{number:55,velocity:124,time:24.506199999999254,channel:3,string:2,fret:0,end:25.21109999999963,duration:.7049000000003751},{number:52,velocity:112,time:24.517099999999626,channel:4,string:3,fret:2,end:25.190099999999628,duration:.6730000000000018},{number:64,velocity:101,time:24.918099999999626,channel:1,string:0,fret:0,end:25.23709999999963,duration:.3190000000000026},{number:59,velocity:92,time:24.942199999999254,channel:2,string:1,fret:0,end:25.224099999999627,duration:.2819000000003733},{number:47,velocity:91,time:24.982199999999256,channel:5,string:4,fret:2,end:25.195199999999254,duration:.2129999999999974},{number:40,velocity:88,time:25.18809999999963,channel:6,string:5,fret:0,end:25.64709999999963,duration:.45899999999999963},{number:47,velocity:103,time:25.201099999999627,channel:5,string:4,fret:2,end:25.42909999999963,duration:.22800000000000153},{number:53,velocity:116,time:25.208199999999255,channel:4,string:3,fret:3,end:25.415099999999626,duration:.20690000000037045},{number:55,velocity:115,time:25.215099999999627,channel:3,string:2,fret:0,end:25.395099999999626,duration:.17999999999999972},{number:59,velocity:126,time:25.227199999999254,channel:2,string:1,fret:0,end:25.384099999999627,duration:.1569000000003733},{number:64,velocity:116,time:25.242099999999628,channel:1,string:0,fret:0,end:25.370199999999254,duration:.12809999999962685},{number:64,velocity:94,time:25.373199999999255,channel:1,string:0,fret:0,end:25.696199999999255,duration:.3230000000000004},{number:59,velocity:113,time:25.389099999999626,channel:2,string:1,fret:0,end:25.687099999999628,duration:.2980000000000018},{number:55,velocity:113,time:25.401199999999253,channel:3,string:2,fret:0,end:25.674099999999626,duration:.27290000000037296},{number:52,velocity:115,time:25.42009999999963,channel:4,string:3,fret:2,end:25.66709999999963,duration:.2469999999999999},{number:47,velocity:102,time:25.43509999999963,channel:5,string:4,fret:2,end:25.65609999999963,duration:.22100000000000009},{number:40,velocity:101,time:25.658099999999628,channel:6,string:5,fret:0,end:26.134099999999627,duration:.4759999999999991},{number:48,velocity:112,time:25.664199999999255,channel:5,string:4,fret:3,end:26.157099999999627,duration:.4929000000003718},{number:53,velocity:127,time:25.670199999999255,channel:4,string:3,fret:3,end:26.15009999999963,duration:.4799000000003737},{number:56,velocity:127,time:25.681099999999628,channel:3,string:2,fret:1,end:26.17009999999963,duration:.48900000000000077},{number:59,velocity:121,time:25.69109999999963,channel:2,string:1,fret:0,end:26.193099999999628,duration:.5019999999999989},{number:64,velocity:100,time:25.701099999999627,channel:1,string:0,fret:0,end:26.401099999999627,duration:.6999999999999993},{number:40,velocity:97,time:26.143199999999254,channel:6,string:5,fret:0,end:26.944099999999626,duration:.8009000000003716},{number:67,velocity:92,time:26.15309999999963,channel:4,string:3,fret:17,end:26.172099999999627,duration:.01899999999999835},{number:47,velocity:96,time:26.162099999999626,channel:5,string:4,fret:2,end:26.461199999999256,duration:.2990999999996298},{number:53,velocity:115,time:26.169099999999627,channel:4,string:3,fret:3,end:26.444099999999626,duration:.2749999999999986},{number:55,velocity:115,time:26.175099999999627,channel:3,string:2,fret:0,end:26.43509999999963,duration:.26000000000000156},{number:59,velocity:114,time:26.198099999999627,channel:2,string:1,fret:0,end:26.415099999999626,duration:.21699999999999875},{number:64,velocity:81,time:26.404099999999627,channel:1,string:0,fret:0,end:26.867199999999254,duration:.4630999999996277},{number:59,velocity:111,time:26.42009999999963,channel:2,string:1,fret:0,end:26.883199999999256,duration:.4630999999996277},{number:55,velocity:121,time:26.43809999999963,channel:3,string:2,fret:0,end:26.898199999999257,duration:.4600999999996276},{number:53,velocity:124,time:26.448199999999254,channel:4,string:3,fret:3,end:26.915099999999626,duration:.466900000000372},{number:47,velocity:102,time:26.469099999999628,channel:5,string:4,fret:2,end:26.928099999999628,duration:.45899999999999963},{number:64,velocity:58,time:26.87109999999963,channel:1,string:0,fret:0,end:29.29209999999963,duration:2.4209999999999994},{number:59,velocity:102,time:26.888199999999255,channel:2,string:1,fret:0,end:27.17909999999963,duration:.29090000000037364},{number:55,velocity:110,time:26.904199999999253,channel:3,string:2,fret:0,end:27.163199999999254,duration:.25900000000000034},{number:53,velocity:122,time:26.919099999999627,channel:4,string:3,fret:3,end:27.15309999999963,duration:.23400000000000176},{number:47,velocity:96,time:26.937099999999628,channel:5,string:4,fret:2,end:27.145199999999257,duration:.2080999999996287},{number:40,velocity:88,time:26.951099999999627,channel:6,string:5,fret:0,end:27.123099999999628,duration:.1720000000000006},{number:40,velocity:92,time:27.133099999999626,channel:6,string:5,fret:0,end:27.38809999999963,duration:.25500000000000256},{number:47,velocity:101,time:27.15009999999963,channel:5,string:4,fret:2,end:27.739099999999627,duration:.5889999999999986},{number:52,velocity:113,time:27.158099999999628,channel:4,string:3,fret:2,end:27.360099999999626,duration:.20199999999999818},{number:55,velocity:118,time:27.16709999999963,channel:3,string:2,fret:0,end:27.349199999999254,duration:.18209999999962534},{number:59,velocity:113,time:27.183099999999627,channel:2,string:1,fret:0,end:29.132099999999628,duration:1.9490000000000016},{number:55,velocity:114,time:27.35309999999963,channel:3,string:2,fret:0,end:28.959099999999626,duration:1.605999999999998},{number:53,velocity:118,time:27.364099999999627,channel:4,string:3,fret:3,end:28.770199999999257,duration:1.406099999999629},{number:40,velocity:94,time:27.398199999999257,channel:6,string:5,fret:0,end:27.652099999999628,duration:.25390000000037105},{number:40,velocity:87,time:27.70209999999963,channel:6,string:5,fret:0,end:28.407099999999627,duration:.7049999999999983},{number:47,velocity:64,time:27.753099999999627,channel:5,string:4,fret:2,end:28.59509999999963,duration:.8420000000000023},{number:40,velocity:84,time:28.538099999999627,channel:6,string:5,fret:0,end:31.107099999999626,duration:2.568999999999999},{number:47,velocity:81,time:28.722199999999255,channel:5,string:4,fret:2,end:30.264199999999256,duration:1.5420000000000016},{number:52,velocity:124,time:28.903199999999256,channel:4,string:3,fret:2,end:30.250199999999253,duration:1.3469999999999978},{number:55,velocity:106,time:29.085099999999628,channel:3,string:2,fret:0,end:31.09209999999963,duration:2.0070000000000014},{number:59,velocity:101,time:29.254099999999628,channel:2,string:1,fret:0,end:31.078099999999626,duration:1.823999999999998},{number:64,velocity:95,time:29.42009999999963,channel:1,string:0,fret:0,end:30.960099999999628,duration:1.5399999999999991}],kft="strumming-pattern",Nft="2024-07-03T17:17:43.861Z",W_={pastSeconds:Dft,maxNoteDistance:Pft,notes:Lft,_appId:kft,_date:Nft};function Fft(t){let e,i,a,r,s;return{c(){e=K("p"),e.innerHTML="1) Strum up and down alternating: <code>U D U D</code>.",i=q(),a=K("p"),a.innerHTML=`2) Strumming a pattern like <code>D U U D</code> or
                <code>D D U D</code>.`,r=q(),s=K("p"),s.textContent=`3) Strum chords like Am, E, G, D and make sure you only strum
                the strings you intend.`},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function Uft(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j;function nt(ft){t[13](ft)}let tt={title:"time in seconds for past notes to be shown",label:"time",callback:t[9],min:10,max:300,step:10};t[2]!==void 0&&(tt.value=t[2]),c=new na({props:tt}),Me.push(()=>De(c,"value",nt));function ht(ft){t[14](ft)}let pt={title:"maximum distance between notes such that they still count as beloning to the same chord",label:"max. note distance",callback:t[9],min:.01,max:5,step:.01};t[3]!==void 0&&(pt.value=t[3]),m=new na({props:pt}),Me.push(()=>De(m,"value",ht));function gt(ft){t[17](ft)}let Tt={saveToStorage:t[12],callback:t[16]};t[5]!==void 0&&(Tt.notes=t[5]),w=new Y9({props:Tt}),Me.push(()=>De(w,"notes",gt)),R=new ha({props:{appId:t[0].id,loadData:t[11]}});function vt(ft){t[19](ft)}let Ot={callback:t[9]};return t[5]!==void 0&&(Ot.notes=t[5]),P=new y0({props:Ot}),Me.push(()=>De(P,"notes",vt)),N=new aa({props:{loadData:t[11],getExportData:t[10],appId:t[0].id}}),H=new z9({props:{$$slots:{default:[Fft]},$$scope:{ctx:t}}}),W=new J9({props:{appId:t[0].id}}),Q=new k9({props:{noteOn:t[7],noteOff:t[8]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app shows you how you strummed (up or down? which strings?), so
            you can make sure you strumm a pattern as intended. The upper chart
            shows you the when you played a note on which string. The lower
            chart shows you the time between the start of the first and last
            note of the chord (rectangle width) and which strings it spanned
            (rectangle y and height). Blue chords were strummed upward and
            orange ones downward. The strumming direction is further indicated
            by arrow heads. Due to how guitar tabs are drawn from the point of
            view of the guitarist, downward strumming will result in upward
            arrows in the lower visualization. Single notes are drawn in red.
            The opactiy encodes the notes' mean velocity (loudness).`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),y=K("div"),E=q(),v=K("div"),Ft(w.$$.fragment),b=q(),O=K("button"),O.textContent="example",S=q(),Ft(R.$$.fragment),I=q(),Ft(P.$$.fragment),k=q(),Ft(N.$$.fragment),$=q(),Ft(H.$$.fragment),U=q(),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(y,"class","visualization"),dt(v,"class","control"),dt(e,"class","app")},m(ft,St){Ct(ft,e,St),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(e,p),B(e,y),t[15](y),B(e,E),B(e,v),kt(w,v,null),B(v,b),B(v,O),B(v,S),kt(R,v,null),B(v,I),kt(P,v,null),B(v,k),kt(N,v,null),B(e,$),kt(H,e,null),B(e,U),kt(W,e,null),B(e,J),kt(Q,e,null),G=!0,z||(j=Ue(O,"click",t[18]),z=!0)},p(ft,St){(!G||St&1)&&a!==(a=ft[0].title+"")&&Ge(r,a);const Mt={};!f&&St&4&&(f=!0,Mt.value=ft[2],Re(()=>f=!1)),c.$set(Mt);const Pt={};!A&&St&8&&(A=!0,Pt.value=ft[3],Re(()=>A=!1)),m.$set(Pt);const Vt={};St&80&&(Vt.callback=ft[16]),!x&&St&32&&(x=!0,Vt.notes=ft[5],Re(()=>x=!1)),w.$set(Vt);const ie={};St&1&&(ie.appId=ft[0].id),R.$set(ie);const jt={};!L&&St&32&&(L=!0,jt.notes=ft[5],Re(()=>L=!1)),P.$set(jt);const Wt={};St&1&&(Wt.appId=ft[0].id),N.$set(Wt);const me={};St&16777216&&(me.$$scope={dirty:St,ctx:ft}),H.$set(me);const Yt={};St&1&&(Yt.appId=ft[0].id),W.$set(Yt)},i(ft){G||(Rt(c.$$.fragment,ft),Rt(m.$$.fragment,ft),Rt(w.$$.fragment,ft),Rt(R.$$.fragment,ft),Rt(P.$$.fragment,ft),Rt(N.$$.fragment,ft),Rt(H.$$.fragment,ft),Rt(W.$$.fragment,ft),Rt(Q.$$.fragment,ft),G=!0)},o(ft){Dt(c.$$.fragment,ft),Dt(m.$$.fragment,ft),Dt(w.$$.fragment,ft),Dt(R.$$.fragment,ft),Dt(P.$$.fragment,ft),Dt(N.$$.fragment,ft),Dt(H.$$.fragment,ft),Dt(W.$$.fragment,ft),Dt(Q.$$.fragment,ft),G=!1},d(ft){ft&&bt(e),Nt(c),Nt(m),t[15](null),Nt(w),Nt(R),Nt(P),Nt(N),Nt(H),Nt(W),Nt(Q),z=!1,j()}}}function $ft(t){let e,i;return e=new ra({props:{loadData:t[11],$$slots:{default:[Uft]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&16777343&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let Gft=900,Hft=200,y6=6;function Vft(t,e,i){let{appInfo:a}=e,r=[64,59,55,50,45,40];const s=r.map(Ga.fromMidiSharps);let l,u=10,d=.05;const c=L7("guitarMidiMinVelocity")??0,f=L7("guitarMidiMinDuration")??0;console.log({minVelo:c,minDur:f});let M,m=[],A=new Map;const p=k=>{m.length===0&&i(4,M=k.timestamp);const N=(k.timestamp-M)/1e3,$=k.message.channel-1,H={number:k.note.number,velocity:k.rawVelocity,time:N,channel:k.message.channel,string:$,fret:k.note.number-r[$]};if(A.has(k.note.number)){const U=A.get(k.note.number);U.end===void 0&&(U.end=N)}i(5,m=[...m,H]),A.set(k.note.number,H),E()},y=k=>{if(A.has(k.note.number)){const N=A.get(k.note.number),$=(k.timestamp-M)/1e3;N.end=$,N.duration=N.end-N.time}E()},E=()=>{const k=m.filter(z=>z.velocity>=c&&(z.duration===void 0||z.duration>=f));let N=.5;k.length>0&&(N=m.at(-1).time+.5);const $=N-u,H=m.filter(z=>z.end>$||z.end===void 0),W=dp(H,d).map(z=>{const j=Oa(z,pt=>pt.string),nt=Oa(z,pt=>pt.time),tt=z.slice(1).map((pt,gt)=>pt.string-z[gt].string);let ht;return j[0]===j[1]?ht="single note":ht=Md(tt)>0?"up":"down",{minString:j[0],maxString:j[1],minTime:nt[0],maxTime:nt[1],direction:ht,meanVelocity:Ol(z,pt=>pt.velocity)}}),J={width:Gft,height:Hft,marginTop:0,marginLeft:45,marginBottom:35},Q=Bn({...J,x:{label:"time in seconds",domain:[$,N]},y:{label:"string",grid:!0,domain:Ei(0,y6),tickFormat:z=>s[z]},color:{label:"string",type:"categorical",scheme:"observable10",reverse:!0,legend:!0,marginLeft:100,width:300,domain:Ei(1,y6+1)},opacity:{domain:[0,127]},marks:[Mr(H,{clip:!0,x:"time",y:"string",stroke:"channel",opacity:"velocity",strokeWidth:3})]}),G=Bn({...J,x:{label:"time in seconds",domain:[$,N]},y:{label:"string",grid:!0,domain:Ei(0,y6),tickFormat:z=>s[z],padding:.7},color:{label:"strumming",type:"categorical",scheme:"observable10",legend:!0,marginLeft:100,width:300,domain:["up","down","single note"]},marks:[rP(W,{clip:!0,x1:"minTime",x2:"maxTime",y1:"minString",y2:"maxString",fill:"direction",opacity:"meanVelocity",rx:5}),f0(W,{clip:!0,x:z=>(z.minTime+z.maxTime)/2,y:z=>z.direction==="down"?z.minString:z.maxString,fill:"direction",symbol:"diamond",r:8})]});i(1,l.textContent="",l),l.appendChild(Q),l.appendChild(G)};c9(()=>{E()});const v=()=>({pastSeconds:u,maxNoteDistance:d,notes:m}),w=k=>{x(),i(2,u=k.pastSeconds),i(3,d=k.maxNoteDistance),i(5,m=k.notes),E()},x=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(W_.notes)&&da(a.id,v())};r9(x);function b(k){u=k,i(2,u)}function O(k){d=k,i(3,d)}function S(k){Me[k?"unshift":"push"](()=>{l=k,i(1,l)})}const R=()=>{i(6,A=new Map),i(4,M=performance.now()),E()};function I(k){m=k,i(5,m)}const P=()=>w(W_);function L(k){m=k,i(5,m)}return t.$$set=k=>{"appInfo"in k&&i(0,a=k.appInfo)},[a,l,u,d,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L]}class Qft extends Ki{constructor(e){super(),Wi(this,e,Vft,$ft,ji,{appInfo:0})}}function K_(t,e){return t==null?e:typeof t=="function"?t:i=>i[t]}function zft(t,e,i,a,r,s){const l=new Float64Array(s),u=(s-1)/(r-a);for(let d=0;d<t.length;++d){const c=t[d],f=e(c,d,t),M=i(c,d,t);if(!(Number.isFinite(f)&&Number.isFinite(M)))continue;const m=(f-a)*u,A=Math.floor(m),p=A+1;0<=A&&p<s?(l[A]+=(p-m)*M,l[p]+=(m-A)*M):A===-1?l[p]+=(m-A)*M:p===s&&(l[A]+=(p-m)*M)}return l}function X_(t,e=!1){const i=new Float64Array(5),a=new Float64Array(4);Jft(i,a,t);const r=Float64Array.of(0,a[1]-i[1]*a[0],a[2]-i[2]*a[0],a[3]-i[3]*a[0],-i[4]*a[0]),s=1+i[1]+i[2]+i[3]+i[4],l=(a[0]+a[1]+a[2]+a[3])/s,u=(r[1]+r[2]+r[3]+r[4])/s;return{sigma:t,negative:e,a:i,b_causal:a,b_anticausal:r,sum_causal:l,sum_anticausal:u}}function Jft(t,e,i){const r=Float64Array.of(.84,1.8675,.84,-1.8675,-.34015,-.1299,-.34015,.1299),s=Math.exp(-1.783/i),l=Math.exp(-1.723/i),u=.6318/i,d=1.997/i,c=Float64Array.of(-s*Math.cos(u),s*Math.sin(u),-s*Math.cos(-u),s*Math.sin(-u),-l*Math.cos(d),l*Math.sin(d),-l*Math.cos(-d),l*Math.sin(-d)),f=i*2.5066282746310007,M=Float64Array.of(r[0],r[1],0,0,0,0,0,0),m=Float64Array.of(1,0,c[0],c[1],0,0,0,0,0,0);let A,p;for(p=2;p<8;p+=2){for(M[p]=c[p]*M[p-2]-c[p+1]*M[p-1],M[p+1]=c[p]*M[p-1]+c[p+1]*M[p-2],A=p-2;A>0;A-=2)M[A]+=c[p]*M[A-2]-c[p+1]*M[A-1],M[A+1]+=c[p]*M[A-1]+c[p+1]*M[A-2];for(A=0;A<=p;A+=2)M[A]+=r[p]*m[A]-r[p+1]*m[A+1],M[A+1]+=r[p]*m[A+1]+r[p+1]*m[A];for(m[p+2]=c[p]*m[p]-c[p+1]*m[p+1],m[p+3]=c[p]*m[p+1]+c[p+1]*m[p],A=p;A>0;A-=2)m[A]+=c[p]*m[A-2]-c[p+1]*m[A-1],m[A+1]+=c[p]*m[A-1]+c[p+1]*m[A-2]}for(p=0;p<4;++p)A=p<<1,e[p]=M[A]/f,t[p+1]=m[A+2]}function jft(t,e,i,a=1,r=new Float64Array(i),s=new Float64Array(i),l=new Float64Array(5),u=r,d=Wft){const c=a*2,f=a*3,M=a*4,m=a*i;let A,p;for(d(r,e,i,a,t.b_causal,3,t.a,4,t.sum_causal,l,t.sigma),p=4,A=M;p<i;++p,A+=a)r[p]=t.b_causal[0]*e[A]+t.b_causal[1]*e[A-a]+t.b_causal[2]*e[A-c]+t.b_causal[3]*e[A-f]-t.a[1]*r[p-1]-t.a[2]*r[p-2]-t.a[3]*r[p-3]-t.a[4]*r[p-4];for(d(s,e,i,-a,t.b_anticausal,4,t.a,4,t.sum_anticausal,l,t.sigma),p=4,A=m-a*5;p<i;++p,A-=a)s[p]=t.b_anticausal[1]*e[A+a]+t.b_anticausal[2]*e[A+c]+t.b_anticausal[3]*e[A+f]+t.b_anticausal[4]*e[A+M]-t.a[1]*s[p-1]-t.a[2]*s[p-2]-t.a[3]*s[p-3]-t.a[4]*s[p-4];if(t.negative)for(p=0,A=0;p<i;++p,A+=a)u[A]=r[p]+s[i-p-1];else for(p=0,A=0;p<i;++p,A+=a)u[A]=Math.max(0,r[p]+s[i-p-1]);return u}function Wft(t,e,i,a,r,s,l,u,d,c,f,M=.5){const m=Math.abs(a)*i,A=a<0?m+a:0;let p,y,E;for(y=0;y<u;++y)for(c[y]=y<=s?r[y]:0,E=1;E<=u&&E<=y;++E)c[y]-=l[E]*c[y-E];for(E=0;E<u;++E)for(t[E]=0,y=1;y<=E;++y)p=A+a*y,p>=0&&p<m&&(t[E]+=c[E-y]*e[p]);const v=e[A],w=Math.ceil(f*10);for(y=0;y<w;++y){for(E=0;E<u;++E)t[E]+=c[E]*v;if(d-=Math.abs(c[0]),d<=M)break;for(c[u]=y+u<=s?r[y+u]:0,E=1;E<=u;++E)c[u]-=l[E]*c[u-E];for(E=0;E<u;++E)c[E]=c[E+1]}}function Kft(t,e,i=0){const a=t.length;let r,s;for(let l=0;l<a;++l){const u=e(t[l],l,t);u!=null&&(r===void 0?u>=u&&(r=s=u):(u<r&&(r=u),u>s&&(s=u)))}return[r-i,s+i]}function Xft(t,e){const i=t.map(e).filter(c=>c!=null&&c>=c);i.sort((c,f)=>c-f);const a=Yft(i),r=Y_(i,.25),s=Y_(i,.75),l=i.length,u=(s-r)/1.34;return 1.06*(Math.min(a,u)||a||Math.abs(r)||1)*Math.pow(l,-.2)}function Yft(t){const e=t.length;let i=0,a,r=0,s=0;for(let l=0;l<e;++l){const u=t[l];a=u-r,r+=a/++i,s+=a*(u-r)}return i>1?Math.sqrt(s/(i-1)):NaN}function Y_(t,e){const i=t.length;if(!i)return NaN;if((e=+e)<=0||i<2)return t[0];if(e>=1)return t[i-1];const a=(i-1)*e,r=Math.floor(a),s=t[r];return s+(t[r+1]-s)*(a-r)}function H1(t,e={}){const{adjust:i=1,pad:a=3,bins:r=512}=e,s=K_(e.x,v=>v),l=K_(e.weight,()=>1/t.length);let u=e.bandwidth??i*Xft(t,s);const[d,c]=e.extent??Kft(t,s,a*u),f=zft(t,s,l,d,c,r),M=(c-d)/(r-1),m=f.some(v=>v<0);let A=X_(u/M,m),p;function*y(v="x",w="y"){const x=E.grid(),b=1/M;for(let O=0;O<r;++O)yield{[v]:d+O*M,[w]:x[O]*b}}const E={[Symbol.iterator]:y,points:y,grid:()=>p||(p=jft(A,f,r)),extent:()=>[d,c],bandwidth(v){return arguments.length?(v!==u&&(u=v,p=null,A=X_(u/M,m)),E):u}};return E}const qft=60,Zft="4:3",t1t=96,e1t=-.05,i1t=8,n1t=[{time:0,velocity:.5},{time:.416,velocity:.5},{time:.787,velocity:.5},{time:1.166,velocity:.5},{time:1.502,velocity:.5},{time:1.820099999964237,velocity:.5},{time:2.16,velocity:.5},{time:2.448099999964237,velocity:.5},{time:2.751,velocity:.5},{time:3.069,velocity:.5},{time:3.449099999964237,velocity:.5},{time:3.749,velocity:.5},{time:4.069099999964237,velocity:.5},{time:4.415,velocity:.5},{time:4.7320999999642375,velocity:.5},{time:5.065,velocity:.5},{time:5.42,velocity:.5},{time:5.730099999964237,velocity:.5},{time:6.050099999964237,velocity:.5},{time:6.405,velocity:.5},{time:6.705,velocity:.5},{time:7.041099999964238,velocity:.5},{time:7.373,velocity:.5},{time:7.674,velocity:.5},{time:8.022099999964237,velocity:.5},{time:8.385,velocity:.5},{time:8.7,velocity:.5},{time:9.024099999964237,velocity:.5},{time:9.392,velocity:.5},{time:9.709,velocity:.5},{time:10.026,velocity:.5},{time:10.378,velocity:.5},{time:10.691099999964237,velocity:.5},{time:11.024099999964237,velocity:.5},{time:11.372099999964238,velocity:.5},{time:11.683099999964238,velocity:.5},{time:12.021099999964237,velocity:.5},{time:12.367099999964237,velocity:.5},{time:12.701099999964237,velocity:.5},{time:13.033099999964238,velocity:.5},{time:13.353099999964238,velocity:.5},{time:13.679,velocity:.5},{time:14.011099999964237,velocity:.5},{time:14.352099999964237,velocity:.5},{time:14.688099999964237,velocity:.5},{time:15.012099999964237,velocity:.5},{time:15.374099999964237,velocity:.5},{time:15.68,velocity:.5},{time:16.011,velocity:.5},{time:16.372,velocity:.5},{time:17.028,velocity:.5},{time:18.033099999964236,velocity:.5},{time:18.042099999964236,velocity:.5},{time:19.030099999964236,velocity:.5},{time:19.692,velocity:.5},{time:20.024,velocity:.5},{time:21.01809999996424,velocity:.5},{time:21.38109999996424,velocity:.5},{time:21.73609999996424,velocity:.5},{time:22.065099999964236,velocity:.5},{time:22.386,velocity:.5},{time:22.694099999964237,velocity:.5},{time:23.030099999964236,velocity:.5},{time:23.347,velocity:.5},{time:23.63109999996424,velocity:.5},{time:23.997,velocity:.5},{time:24.34909999996424,velocity:.5},{time:24.687,velocity:.5},{time:25.028099999964237,velocity:.5},{time:25.385,velocity:.5},{time:25.683,velocity:.5},{time:26.014099999964237,velocity:.5},{time:26.378,velocity:.5},{time:26.697099999964237,velocity:.5},{time:27.027099999964236,velocity:.5},{time:27.373099999964236,velocity:.5},{time:27.692,velocity:.5},{time:28.049099999964238,velocity:.5},{time:28.404,velocity:.5},{time:28.70709999996424,velocity:.5},{time:29.045,velocity:.5},{time:29.397099999964237,velocity:.5},{time:29.709099999964238,velocity:.5},{time:30.055,velocity:.5},{time:30.41609999996424,velocity:.5},{time:30.726,velocity:.5},{time:31.062099999964236,velocity:.5},{time:31.418099999964237,velocity:.5},{time:31.745099999964236,velocity:.5}],a1t="sub-division-linear",r1t="0.15.1",o1t="2024-10-02T14:24:44.616Z",vf={tempo:qft,grid:Zft,binNote:t1t,adjustTime:e1t,pastBars:i1t,notes:n1t,_appId:a1t,_softwareVersion:r1t,_date:o1t};function s1t(t){let e,i,a,r,s,l,u;return{c(){e=K("label"),i=oe(`adjust
    `),a=K("input"),r=q(),s=K("button"),s.textContent="auto",dt(a,"type","number"),dt(a,"step",G7),dt(a,"min",t[2]),dt(a,"max",WP),gn(a,"width","55px"),dt(a,"class","svelte-pqwly5"),dt(e,"title","Shift all notes by an amount in seconds"),dt(s,"class","svelte-pqwly5")},m(d,c){Ct(d,e,c),B(e,i),B(e,a),Qi(a,t[0]),Ct(d,r,c),Ct(d,s,c),l||(u=[Ue(a,"input",t[7]),Ue(a,"change",function(){Fo(t[1])&&t[1].apply(this,arguments)}),Ue(a,"mousewheel",t[8]),Ue(s,"click",t[3])],l=!0)},p(d,[c]){t=d,c&1&&ur(a.value)!==t[0]&&Qi(a,t[0])},i:Ne,o:Ne,d(d){d&&(bt(e),bt(r),bt(s)),l=!1,f9(u)}}}const WP=2,G7=.01;function l1t(t,e,i){let{adjustTime:a}=e,{notes:r}=e,{grid:s}=e,{tempo:l}=e,{draw:u}=e;const d=-2,c=()=>{if(!r||r.length===0){i(0,a=0);return}const[m,A]=s.split(":").map(O=>+O),p=ta(l)*m,y=p/(m*A),E=Ei(0,p+y,y),v=r.map(O=>{const S=O%p;let R=1/0;for(const I of E){const P=I-S;Math.abs(P)<Math.abs(R)&&(R=P)}return R}),w=Ol(v),x=Math.round(w*100)/100,b=()=>{i(0,a=a+(x-a)/20),Math.abs(a-x)>.001?setTimeout(b,1e3/60):i(0,a=x),u()};setTimeout(b,1e3/60)};function f(){a=ur(this.value),i(0,a)}const M=m=>{m.preventDefault();const A=m.deltaY<0?G7:-G7,p=Math.min(WP,Math.max(d,a+A));i(0,a=+p.toFixed(12)),u()};return t.$$set=m=>{"adjustTime"in m&&i(0,a=m.adjustTime),"notes"in m&&i(4,r=m.notes),"grid"in m&&i(5,s=m.grid),"tempo"in m&&i(6,l=m.tempo),"draw"in m&&i(1,u=m.draw)},[a,u,d,c,r,s,l,f,M]}class V1 extends Ki{constructor(e){super(),Wi(this,e,l1t,s1t,ji,{adjustTime:0,notes:4,grid:5,tempo:6,draw:1})}}function c1t(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p;return c=new Sa({props:{key:"z",ctrlKey:!0,keyDown:t[2]}}),M=new Sa({props:{key:"y",ctrlKey:!0,keyDown:t[3]}}),{c(){e=K("button"),i=oe(""),r=q(),s=K("button"),l=oe(""),d=q(),Ft(c.$$.fragment),f=q(),Ft(M.$$.fragment),dt(e,"title","undo the last note (shortcut: CTRL+Z)"),e.disabled=a=!t[0]||t[0].length===0,dt(e,"class","left svelte-1s8rvm6"),dt(s,"title","redo the last undone note (shortcut: CTRL+Y)"),s.disabled=u=!t[0]||t[1].length===0,dt(s,"class","right svelte-1s8rvm6")},m(y,E){Ct(y,e,E),B(e,i),Ct(y,r,E),Ct(y,s,E),B(s,l),Ct(y,d,E),kt(c,y,E),Ct(y,f,E),kt(M,y,E),m=!0,A||(p=[Ue(e,"click",t[2]),Ue(s,"click",t[3])],A=!0)},p(y,[E]){(!m||E&1&&a!==(a=!y[0]||y[0].length===0))&&(e.disabled=a),(!m||E&3&&u!==(u=!y[0]||y[1].length===0))&&(s.disabled=u)},i(y){m||(Rt(c.$$.fragment,y),Rt(M.$$.fragment,y),m=!0)},o(y){Dt(c.$$.fragment,y),Dt(M.$$.fragment,y),m=!1},d(y){y&&(bt(e),bt(r),bt(s),bt(d),bt(f)),Nt(c,y),Nt(M,y),A=!1,f9(p)}}}function u1t(t,e,i){let{data:a=[]}=e,{callback:r=()=>{}}=e,s=[];const l=()=>{!a||a.length===0||(s.push(a.at(-1)),i(0,a=[...a.slice(0,-1)]),r())},u=()=>{!a||s.length===0||(i(0,a=[...a,s.at(-1)]),i(1,s=s.slice(0,-1)),r())};return t.$$set=d=>{"data"in d&&i(0,a=d.data),"callback"in d&&i(4,r=d.callback)},[a,s,l,u,r]}class hp extends Ki{constructor(e){super(),Wi(this,e,u1t,c1t,ji,{data:0,callback:4})}}function d1t(t,e,i){let{callback:a=()=>{}}=e,{element:r=document.body}=e;const s=new ResizeObserver(a);return c9(()=>{document.addEventListener("resize",a),s.observe(r)}),r9(()=>{document.removeEventListener("resize",a),s.unobserve(r)}),t.$$set=l=>{"callback"in l&&i(0,a=l.callback),"element"in l&&i(1,r=l.element)},[a,r]}class TM extends Ki{constructor(e){super(),Wi(this,e,d1t,null,ji,{callback:0,element:1})}}function h1t(t,e,i){const a=t.slice();return a[34]=e[i],a}function f1t(t,e,i){const a=t.slice();return a[34]=e[i],a}function m1t(t){let e;return{c(){e=K("option"),e.textContent=`${t[34].label}`,e.__value=t[34].divisions,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function p1t(t){let e,i=$e(Tr),a=[];for(let r=0;r<i.length;r+=1)a[r]=m1t(f1t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function g1t(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[34]} note`,e.__value=t[34],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function M1t(t){let e,i=$e(Vr),a=[];for(let r=0;r<i.length;r+=1)a[r]=g1t(h1t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function A1t(t){let e,i,a,r,s;return{c(){e=K("p"),e.textContent="1) Play triplets.",i=q(),a=K("p"),a.textContent=`2) Switch back and forth between a half bar of eighths and a
                half bar of triplets.`,r=q(),s=K("p"),s.textContent=`3) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!`},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function y1t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R=t[7]?"area":"bars",I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe,ni,ei,Ci,ai,ti,be,ye,ne,Et,yt,Ht;function wt(we){t[17](we)}let xt={callback:t[13]};t[3]!==void 0&&(xt.value=t[3]),c=new Hr({props:xt}),Me.push(()=>De(c,"value",wt));function Qt(we){t[18](we)}let ut={label:"grid",title:"The whole circle is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:t[13],$$slots:{default:[p1t]},$$scope:{ctx:t}};t[4]!==void 0&&(ut.value=t[4]),m=new ia({props:ut}),Me.push(()=>De(m,"value",Qt));function X(we){t[19](we)}let Z={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:t[13],$$slots:{default:[M1t]},$$scope:{ctx:t}};t[5]!==void 0&&(Z.value=t[5]),y=new ia({props:Z}),Me.push(()=>De(y,"value",X));function _t(we){t[20](we)}let Gt={tempo:t[3],grid:t[4],notes:t[10].map(q_),draw:t[13]};t[6]!==void 0&&(Gt.adjustTime=t[6]),x=new V1({props:Gt}),Me.push(()=>De(x,"adjustTime",_t));function Zt(we){t[22](we)}let ue={label:"bar scores",title:"Show scores (percentage of notes within gray areas) per bar",callback:t[13]};t[9]!==void 0&&(ue.checked=t[9]),L=new R9({props:ue}),Me.push(()=>De(L,"checked",Zt));function ve(we){t[23](we)}let Fe={label:"loudness",title:"Show loudness in the note tick width, for example to see if you set accents correctly",callback:t[13]};t[8]!==void 0&&(Fe.checked=t[8]),$=new R9({props:Fe}),Me.push(()=>De($,"checked",ve)),nt=new F0({props:{tempo:t[3],accent:+t[4].split(":")[0]}});function Je(we){t[26](we)}let ii={callback:t[13]};t[10]!==void 0&&(ii.data=t[10]),ht=new hp({props:ii}),Me.push(()=>De(ht,"data",Je));function re(we){t[27](we)}let Mi={saveToStorage:t[16],callback:t[13]};t[10]!==void 0&&(Mi.notes=t[10]),Tt=new Y9({props:Mi}),Me.push(()=>De(Tt,"notes",re)),Mt=new ha({props:{appId:t[0].id,loadData:t[15]}});function Pe(we){t[29](we)}let ke={callback:t[13]};return t[10]!==void 0&&(ke.notes=t[10]),Vt=new y0({props:ke}),Me.push(()=>De(Vt,"notes",Pe)),Wt=new aa({props:{loadData:t[15],getExportData:t[14],appId:t[0].id}}),Yt=new z9({props:{$$slots:{default:[A1t]},$$scope:{ctx:t}}}),Qe=new J9({props:{appId:t[0].id}}),ei=new k9({props:{noteOn:t[11],controlChange:t[12]}}),ai=new Sa({props:{key:" ",keyDown:t[30]}}),be=new Vl({props:{element:t[1],touchStart:t[31]}}),ne=new TM({props:{callback:t[13]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets. Choose your tempo and subdivision, and start playing. The
            bar or area chart will show you a summary of when you played notes.
            Use the integrated metronome. All notes will be timed relative to
            the first one, but you can adjust all notes to make them earlier or
            later in case you messed up the first. Each bar you play will be
            shown its own layer around the circle. The lightgray areas show
            where a note would have to be to be timed well (depending on the
            binning setting), the score in the center shows the percentage of
            notes that are inside these areas.<br/> <i>Try playing without looking and focus on the metronome. Try to
                play all notes such that they are within a gray area!</i>`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),w=K("div"),Ft(x.$$.fragment),O=q(),S=K("button"),I=oe(R),P=q(),Ft(L.$$.fragment),N=q(),Ft($.$$.fragment),U=q(),W=K("div"),J=K("canvas"),Q=q(),G=K("div"),z=q(),j=K("div"),Ft(nt.$$.fragment),tt=q(),Ft(ht.$$.fragment),gt=q(),Ft(Tt.$$.fragment),Ot=q(),ft=K("button"),ft.textContent="example",St=q(),Ft(Mt.$$.fragment),Pt=q(),Ft(Vt.$$.fragment),jt=q(),Ft(Wt.$$.fragment),me=q(),Ft(Yt.$$.fragment),pe=q(),Ft(Qe.$$.fragment),ni=q(),Ft(ei.$$.fragment),Ci=q(),Ft(ai.$$.fragment),ti=q(),Ft(be.$$.fragment),ye=q(),Ft(ne.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(S,"title","Toggle between bars and area"),dt(w,"class","control"),gn(J,"width",af+"px"),gn(J,"height",rf+"px"),dt(W,"class","visualization"),dt(j,"class","control"),dt(e,"class","app")},m(we,Ii){Ct(we,e,Ii),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,v),B(e,w),kt(x,w,null),B(w,O),B(w,S),B(S,I),B(w,P),kt(L,w,null),B(w,N),kt($,w,null),B(e,U),B(e,W),B(W,J),t[24](J),B(e,Q),B(e,G),t[25](G),B(e,z),B(e,j),kt(nt,j,null),B(j,tt),kt(ht,j,null),B(j,gt),kt(Tt,j,null),B(j,Ot),B(j,ft),B(j,St),kt(Mt,j,null),B(j,Pt),kt(Vt,j,null),B(j,jt),kt(Wt,j,null),B(e,me),kt(Yt,e,null),B(e,pe),kt(Qe,e,null),B(e,ni),kt(ei,e,null),B(e,Ci),kt(ai,e,null),B(e,ti),kt(be,e,null),B(e,ye),kt(ne,e,null),Et=!0,yt||(Ht=[Ue(S,"click",t[21]),Ue(ft,"click",t[28])],yt=!0)},p(we,Ii){(!Et||Ii[0]&1)&&a!==(a=we[0].title+"")&&Ge(r,a);const wn={};!f&&Ii[0]&8&&(f=!0,wn.value=we[3],Re(()=>f=!1)),c.$set(wn);const Ke={};Ii[1]&256&&(Ke.$$scope={dirty:Ii,ctx:we}),!A&&Ii[0]&16&&(A=!0,Ke.value=we[4],Re(()=>A=!1)),m.$set(Ke);const yn={};Ii[1]&256&&(yn.$$scope={dirty:Ii,ctx:we}),!E&&Ii[0]&32&&(E=!0,yn.value=we[5],Re(()=>E=!1)),y.$set(yn);const Be={};Ii[0]&8&&(Be.tempo=we[3]),Ii[0]&16&&(Be.grid=we[4]),Ii[0]&1024&&(Be.notes=we[10].map(q_)),!b&&Ii[0]&64&&(b=!0,Be.adjustTime=we[6],Re(()=>b=!1)),x.$set(Be),(!Et||Ii[0]&128)&&R!==(R=we[7]?"area":"bars")&&Ge(I,R);const En={};!k&&Ii[0]&512&&(k=!0,En.checked=we[9],Re(()=>k=!1)),L.$set(En);const bi={};!H&&Ii[0]&256&&(H=!0,bi.checked=we[8],Re(()=>H=!1)),$.$set(bi);const on={};Ii[0]&8&&(on.tempo=we[3]),Ii[0]&16&&(on.accent=+we[4].split(":")[0]),nt.$set(on);const $n={};!pt&&Ii[0]&1024&&(pt=!0,$n.data=we[10],Re(()=>pt=!1)),ht.$set($n);const Pn={};!vt&&Ii[0]&1024&&(vt=!0,Pn.notes=we[10],Re(()=>vt=!1)),Tt.$set(Pn);const M9={};Ii[0]&1&&(M9.appId=we[0].id),Mt.$set(M9);const qa={};!ie&&Ii[0]&1024&&(ie=!0,qa.notes=we[10],Re(()=>ie=!1)),Vt.$set(qa);const va={};Ii[0]&1&&(va.appId=we[0].id),Wt.$set(va);const hr={};Ii[1]&256&&(hr.$$scope={dirty:Ii,ctx:we}),Yt.$set(hr);const ka={};Ii[0]&1&&(ka.appId=we[0].id),Qe.$set(ka);const Kt={};Ii[0]&2&&(Kt.element=we[1]),be.$set(Kt)},i(we){Et||(Rt(c.$$.fragment,we),Rt(m.$$.fragment,we),Rt(y.$$.fragment,we),Rt(x.$$.fragment,we),Rt(L.$$.fragment,we),Rt($.$$.fragment,we),Rt(nt.$$.fragment,we),Rt(ht.$$.fragment,we),Rt(Tt.$$.fragment,we),Rt(Mt.$$.fragment,we),Rt(Vt.$$.fragment,we),Rt(Wt.$$.fragment,we),Rt(Yt.$$.fragment,we),Rt(Qe.$$.fragment,we),Rt(ei.$$.fragment,we),Rt(ai.$$.fragment,we),Rt(be.$$.fragment,we),Rt(ne.$$.fragment,we),Et=!0)},o(we){Dt(c.$$.fragment,we),Dt(m.$$.fragment,we),Dt(y.$$.fragment,we),Dt(x.$$.fragment,we),Dt(L.$$.fragment,we),Dt($.$$.fragment,we),Dt(nt.$$.fragment,we),Dt(ht.$$.fragment,we),Dt(Tt.$$.fragment,we),Dt(Mt.$$.fragment,we),Dt(Vt.$$.fragment,we),Dt(Wt.$$.fragment,we),Dt(Yt.$$.fragment,we),Dt(Qe.$$.fragment,we),Dt(ei.$$.fragment,we),Dt(ai.$$.fragment,we),Dt(be.$$.fragment,we),Dt(ne.$$.fragment,we),Et=!1},d(we){we&&bt(e),Nt(c),Nt(m),Nt(y),Nt(x),Nt(L),Nt($),t[24](null),t[25](null),Nt(nt),Nt(ht),Nt(Tt),Nt(Mt),Nt(Vt),Nt(Wt),Nt(Yt),Nt(Qe),Nt(ei),Nt(ai),Nt(be),Nt(ne),yt=!1,f9(Ht)}}}function v1t(t){let e,i;return e=new ra({props:{loadData:t[15],$$slots:{default:[y1t]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&2047|r[1]&256&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let af=900,rf=800;const q_=t=>t.time;function b1t(t,e,i){let{appInfo:a}=e;const r=Math.PI*2;let s,l,u=120,d=Tr[0].divisions,c=64,f=0,M=!1,m=!1,A=!1,p=0,y=[];const E=j=>{y.length===0&&(p=j.timestamp);const tt={time:(j.timestamp-p)/1e3,velocity:j.velocity};i(10,y=[...y,tt]),w()},v=j=>{const nt=j.controller.number;nt===14?i(3,u=La(j.rawValue,0,120)+60):nt===15?i(4,d=Tr[La(Math.floor(j.rawValue/5),0,Tr.length-1)]):nt===16?i(5,c=Vr[La(Math.floor(j.rawValue/5),0,Vr.length-1)]):nt===17&&i(6,f=(La(j.rawValue,0,100)-50)/100),w()},w=()=>{var ai;const j=af/2,nt=rf/2,tt=af*.18,ht=tt*.8,pt=tt*.9,gt=tt*.95,Tt=tt*.68,vt=Math.PI/2,Ot=s.getContext("2d"),ft=window.devicePixelRatio,St=s.getBoundingClientRect();i(1,s.width=St.width*ft,s),i(1,s.height=St.height*ft,s),Ot.scale(ft,ft),i(1,s.style.width=`${St.width}px`,s),i(1,s.style.height=`${St.height}px`,s),Ot.clearRect(0,0,af,rf);const[Mt,Pt]=d.split(":").map(ti=>+ti),Vt=ta(u)*Mt,ie=y.map(ti=>({...ti,time:ti.time+f})),Wt=ie.map(ti=>ti.time%Vt).map(ti=>ti/Vt*r),me=tt*.2,Yt=c*Mt/4;if(ie.length>0){Ot.lineWidth=2,Ot.strokeStyle="#888";const ti=Math.floor(ie.at(-1).time/Vt)+1,be=(rf/2-tt-me-10)/ti;for(const[ye,ne]of ie.entries()){m&&(Ot.lineWidth=ne.velocity*4);const Et=ne.time/Vt*r-vt,yt=Math.cos(Et),Ht=Math.sin(Et),wt=Math.max(0,Math.floor(ne.time/Vt)),xt=tt+me+wt*be+5,Qt=xt+be;Ot.beginPath(),Ot.moveTo(j+yt*xt,nt+Ht*xt),Ot.lineTo(j+yt*Qt,nt+Ht*Qt),Ot.stroke()}Ot.lineWidth=1,Ot.strokeStyle="#eee",Ot.fillStyle="transparent";for(let ye=0;ye<ti;ye++){const ne=tt+me+ye*be+5;Ot.beginPath(),Ot.arc(j,nt,ne,0,2*Math.PI),Ot.closePath(),Ot.stroke()}}Ot.fillStyle="#f8f8f8aa";const pe=r/Yt,Qe=Ei(Mt*Pt).map(ti=>r/(Mt*Pt)*ti-vt),ni=rf/2;Ot.beginPath();for(const ti of Qe){const be=Math.cos(ti-pe),ye=Math.sin(ti-pe),ne=Math.cos(ti+pe),Et=Math.sin(ti+pe);Ot.moveTo(j,nt),Ot.lineTo(j+be*ni,nt+ye*ni),Ot.lineTo(j+ne*ni,nt+Et*ni),Ot.closePath()}if(Ot.fill(),!M){Ot.fillStyle="#f8f8f8",Ot.strokeStyle="#aaa";const be=g3().domain([0,r]).thresholds(Ei(Yt).map(ne=>ne/Yt*r))(Wt),ye=ca(be,ne=>ne.length);for(const ne of be){if(ne.length===0)continue;const Et=ne.length/ye*me,yt=tt+Et,Ht=ne.x0-vt,wt=Math.cos(Ht),xt=Math.sin(Ht),Qt=ne.x1-vt,ut=Math.cos(Qt),X=Math.sin(Qt);Ot.beginPath(),Ot.moveTo(j+wt*tt,nt+xt*tt),Ot.lineTo(j+wt*yt,nt+xt*yt),Ot.arc(j,nt,yt,Ht,Qt),Ot.lineTo(j+ut*tt,nt+X*tt),Ot.closePath(),Ot.fill(),Ot.stroke()}}if(M&&Wt.length>1){let ti=4/c,Et=H1(Wt,{bandwidth:ti,pad:0,bins:360,extent:[0,r]}).bandwidth(ti);const yt=ca([...Et],Ht=>Ht.y);Et=[...Et].map(Ht=>({...Ht,x:Ht.x<0?Ht.x+r:Ht.x})),Et.sort((Ht,wt)=>Ht.x-wt.x),Ot.beginPath();for(const[Ht,wt]of Et.entries()){const xt=wt.x-vt;let Qt=wt.y;(Ht===0||Ht===Et.length-1)&&(Qt=(Et.at(0).y+Et.at(-1).y)/2);const ut=tt+Qt/yt*me,X=Math.cos(xt),Z=Math.sin(xt);Ht===0?Ot.moveTo(j+X*ut,nt+Z*ut):Ot.lineTo(j+X*ut,nt+Z*ut)}Ot.closePath(),Ot.fillStyle=X0.accent,Ot.fill(),Ot.strokeStyle="#aaa",Ot.stroke()}Ot.strokeStyle="#aaa",Ot.fillStyle="white",U4(Ot,j,nt,tt),Ot.lineWidth=2,Ot.fill(),Ot.stroke();const ei=Ei(Mt).map(ti=>r/Mt*ti-vt),Ci=Ei(Mt*Pt).map(ti=>r/(Mt*Pt)*ti-vt);Ot.beginPath(),Ot.lineWidth=2,Ot.fillStyle="#ccc",Ot.font="18px sans-serif",Ot.textAlign="center",Ot.textBaseline="center";for(const[ti,be]of ei.entries()){const ye=Math.cos(be),ne=Math.sin(be);Ot.moveTo(j+ye*ht,nt+ne*ht),Ot.lineTo(j+ye*gt,nt+ne*gt),Ot.fillText(ti+1,j+ye*Tt,nt+ne*Tt+7)}Ot.stroke(),Ot.lineWidth=1,Ot.beginPath();for(const ti of Ci){const be=Math.cos(ti),ye=Math.sin(ti);Ot.moveTo(j+be*pt,nt+ye*pt),Ot.lineTo(j+be*gt,nt+ye*gt)}if(Ot.stroke(),y.length>0){const ti=Uf(y.map(be=>be.time),d,u,c,f);Ot.fillText((ti/y.length*100).toFixed()+"%",j,nt+7)}if(i(2,l.innerText="",l),A){const ti=Math.ceil((((ai=y.at(-1))==null?void 0:ai.time)??0)/Mt),be=ti,ne=Is(y,yt=>Math.floor(yt.time/Mt)).map(([yt,Ht])=>Uf(Ht.map(xt=>xt.time),d,u,c,f)/Ht.length*100),Et=Bn({width:af,height:110,x:{label:"bar",domain:Ei(ti-be,ti),tickFormat:yt=>yt+1},y:{label:"percent of notes in gray areas, per bar",domain:[0,100]},marks:[Ll(ne,{y:Q9,x:(yt,Ht)=>Ht,fill:"var(--accent)",tip:!0}),H9([0]),H9([100])]});l.appendChild(Et)}};c9(w);const x=()=>({tempo:u,grid:d,binNote:c,adjustTime:f,showKde:M,showLoudness:m,showBarScores:A,notes:y}),b=j=>{O(),i(3,u=j.tempo),i(4,d=j.grid),i(5,c=j.binNote),i(6,f=j.adjustTime),i(7,M=j.showKde??!1),i(8,m=j.showLoudness??!1),i(9,A=j.showBarScores??!1),i(10,y=j.notes),w()},O=()=>{y.length>0&&JSON.stringify(y)!==JSON.stringify(vf.notes)&&da(a.id,x())};r9(O);function S(j){u=j,i(3,u)}function R(j){d=j,i(4,d)}function I(j){c=j,i(5,c)}function P(j){f=j,i(6,f)}const L=()=>{i(7,M=!M),w()};function k(j){A=j,i(9,A)}function N(j){m=j,i(8,m)}function $(j){Me[j?"unshift":"push"](()=>{s=j,i(1,s)})}function H(j){Me[j?"unshift":"push"](()=>{l=j,i(2,l)})}function U(j){y=j,i(10,y)}function W(j){y=j,i(10,y)}const J=()=>b(vf);function Q(j){y=j,i(10,y)}const G=()=>E({timestamp:performance.now(),velocity:.5}),z=()=>E({timestamp:performance.now(),velocity:.5});return t.$$set=j=>{"appInfo"in j&&i(0,a=j.appInfo)},[a,s,l,u,d,c,f,M,m,A,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z]}class C1t extends Ki{constructor(e){super(),Wi(this,e,b1t,v1t,ji,{appInfo:0},null,[-1,-1])}}function E1t(t,e,i){const a=t.slice();return a[33]=e[i],a}function _1t(t,e,i){const a=t.slice();return a[33]=e[i],a}function w1t(t){let e;return{c(){e=K("option"),e.textContent=`${t[33].label}`,e.__value=t[33].divisions,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function O1t(t){let e,i=$e(Tr),a=[];for(let r=0;r<i.length;r+=1)a[r]=w1t(_1t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function x1t(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[33]} note`,e.__value=t[33],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function S1t(t){let e,i=$e(Vr),a=[];for(let r=0;r<i.length;r+=1)a[r]=x1t(E1t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function T1t(t){let e;return{c(){e=oe("example")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function I1t(t){let e,i,a,r,s,l,u,d;return a=new Sc({props:{onclick:t[29],$$slots:{default:[T1t]},$$scope:{ctx:t}}}),{c(){e=K("p"),i=oe(`1) Play triplets.
                `),Ft(a.$$.fragment),r=q(),s=K("p"),s.textContent=`2) Switch back and forth between a half bar of eighths and a
                half bar of triplets.`,l=q(),u=K("p"),u.textContent=`3) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!`},m(c,f){Ct(c,e,f),B(e,i),kt(a,e,null),Ct(c,r,f),Ct(c,s,f),Ct(c,l,f),Ct(c,u,f),d=!0},p(c,f){const M={};f[1]&128&&(M.$$scope={dirty:f,ctx:c}),a.$set(M)},i(c){d||(Rt(a.$$.fragment,c),d=!0)},o(c){Dt(a.$$.fragment,c),d=!1},d(c){c&&(bt(e),bt(r),bt(s),bt(l),bt(u)),Nt(a)}}}function B1t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe,ni,ei,Ci,ai,ti,be,ye,ne;function Et(ke){t[17](ke)}let yt={callback:t[13]};t[2]!==void 0&&(yt.value=t[2]),c=new Hr({props:yt}),Me.push(()=>De(c,"value",Et));function Ht(ke){t[18](ke)}let wt={label:"grid",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:t[13],$$slots:{default:[O1t]},$$scope:{ctx:t}};t[3]!==void 0&&(wt.value=t[3]),m=new ia({props:wt}),Me.push(()=>De(m,"value",Ht));function xt(ke){t[19](ke)}let Qt={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:t[13],$$slots:{default:[S1t]},$$scope:{ctx:t}};t[4]!==void 0&&(Qt.value=t[4]),y=new ia({props:Qt}),Me.push(()=>De(y,"value",xt));function ut(ke){t[20](ke)}let X={tempo:t[2],grid:t[3],notes:t[9].map(Z_),draw:t[13]};t[5]!==void 0&&(X.adjustTime=t[5]),x=new V1({props:X}),Me.push(()=>De(x,"adjustTime",ut));function Z(ke){t[21](ke)}let _t={title:"The number of most recent bars that are shown in the rows at the bottom.",label:"past bars",callback:t[13],step:1,min:8,max:32};t[6]!==void 0&&(_t.value=t[6]),S=new na({props:_t}),Me.push(()=>De(S,"value",Z));function Gt(ke){t[22](ke)}let Zt={label:"bar scores",title:"Show scores (percentage of notes within gray areas) per bar",callback:t[13]};t[8]!==void 0&&(Zt.checked=t[8]),P=new R9({props:Zt}),Me.push(()=>De(P,"checked",Gt));function ue(ke){t[23](ke)}let ve={label:"loudness",title:"Show loudness in the note tick width, for example to see if you set accents correctly",callback:t[13]};t[7]!==void 0&&(ve.checked=t[7]),N=new R9({props:ve}),Me.push(()=>De(N,"checked",ue)),j=new F0({props:{tempo:t[2],accent:+t[3].split(":")[0]}});function Fe(ke){t[25](ke)}let Je={callback:t[13]};t[9]!==void 0&&(Je.data=t[9]),tt=new hp({props:Je}),Me.push(()=>De(tt,"data",Fe));function ii(ke){t[26](ke)}let re={saveToStorage:t[16],callback:t[13]};t[9]!==void 0&&(re.notes=t[9]),gt=new Y9({props:re}),Me.push(()=>De(gt,"notes",ii)),St=new ha({props:{appId:t[0].id,loadData:t[15]}});function Mi(ke){t[28](ke)}let Pe={callback:t[13]};return t[9]!==void 0&&(Pe.notes=t[9]),Pt=new y0({props:Pe}),Me.push(()=>De(Pt,"notes",Mi)),jt=new aa({props:{loadData:t[15],getExportData:t[14],appId:t[0].id}}),me=new z9({props:{$$slots:{default:[I1t]},$$scope:{ctx:t}}}),pe=new J9({props:{appId:t[0].id}}),ni=new Sa({props:{key:" ",keyDown:t[30]}}),Ci=new Vl({props:{element:t[1],touchStart:t[31]}}),ti=new k9({props:{noteOn:t[11],controlChange:t[12]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets. Choose your tempo and subdivision, and start playing. The
            bar and area charts will show you a summary of when you played
            notes. Use the integrated metronome. All notes will be timed
            relative to the first one, but you can adjust all notes to make them
            earlier or later in case you messed up the first. The last few bars
            you play will be shown in a row below.<br/> <i>Try playing without looking and focus on the metronome. Try to
                play all notes such that they are within a gray area!</i>`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),w=K("div"),Ft(x.$$.fragment),O=q(),Ft(S.$$.fragment),I=q(),Ft(P.$$.fragment),k=q(),Ft(N.$$.fragment),H=q(),U=K("div"),W=q(),J=K("div"),Q=oe(t[10]),G=q(),z=K("div"),Ft(j.$$.fragment),nt=q(),Ft(tt.$$.fragment),pt=q(),Ft(gt.$$.fragment),vt=q(),Ot=K("button"),Ot.textContent="example",ft=q(),Ft(St.$$.fragment),Mt=q(),Ft(Pt.$$.fragment),ie=q(),Ft(jt.$$.fragment),Wt=q(),Ft(me.$$.fragment),Yt=q(),Ft(pe.$$.fragment),Qe=q(),Ft(ni.$$.fragment),ei=q(),Ft(Ci.$$.fragment),ai=q(),Ft(ti.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(w,"class","control"),dt(U,"class","visualization"),dt(z,"class","control"),dt(e,"class","app")},m(ke,we){Ct(ke,e,we),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,v),B(e,w),kt(x,w,null),B(w,O),kt(S,w,null),B(w,I),kt(P,w,null),B(w,k),kt(N,w,null),B(e,H),B(e,U),t[24](U),B(e,W),B(e,J),B(J,Q),B(e,G),B(e,z),kt(j,z,null),B(z,nt),kt(tt,z,null),B(z,pt),kt(gt,z,null),B(z,vt),B(z,Ot),B(z,ft),kt(St,z,null),B(z,Mt),kt(Pt,z,null),B(z,ie),kt(jt,z,null),B(e,Wt),kt(me,e,null),B(e,Yt),kt(pe,e,null),B(e,Qe),kt(ni,e,null),B(e,ei),kt(Ci,e,null),B(e,ai),kt(ti,e,null),be=!0,ye||(ne=Ue(Ot,"click",t[27]),ye=!0)},p(ke,we){(!be||we[0]&1)&&a!==(a=ke[0].title+"")&&Ge(r,a);const Ii={};!f&&we[0]&4&&(f=!0,Ii.value=ke[2],Re(()=>f=!1)),c.$set(Ii);const wn={};we[1]&128&&(wn.$$scope={dirty:we,ctx:ke}),!A&&we[0]&8&&(A=!0,wn.value=ke[3],Re(()=>A=!1)),m.$set(wn);const Ke={};we[1]&128&&(Ke.$$scope={dirty:we,ctx:ke}),!E&&we[0]&16&&(E=!0,Ke.value=ke[4],Re(()=>E=!1)),y.$set(Ke);const yn={};we[0]&4&&(yn.tempo=ke[2]),we[0]&8&&(yn.grid=ke[3]),we[0]&512&&(yn.notes=ke[9].map(Z_)),!b&&we[0]&32&&(b=!0,yn.adjustTime=ke[5],Re(()=>b=!1)),x.$set(yn);const Be={};!R&&we[0]&64&&(R=!0,Be.value=ke[6],Re(()=>R=!1)),S.$set(Be);const En={};!L&&we[0]&256&&(L=!0,En.checked=ke[8],Re(()=>L=!1)),P.$set(En);const bi={};!$&&we[0]&128&&($=!0,bi.checked=ke[7],Re(()=>$=!1)),N.$set(bi),(!be||we[0]&1024)&&Ge(Q,ke[10]);const on={};we[0]&4&&(on.tempo=ke[2]),we[0]&8&&(on.accent=+ke[3].split(":")[0]),j.$set(on);const $n={};!ht&&we[0]&512&&(ht=!0,$n.data=ke[9],Re(()=>ht=!1)),tt.$set($n);const Pn={};!Tt&&we[0]&512&&(Tt=!0,Pn.notes=ke[9],Re(()=>Tt=!1)),gt.$set(Pn);const M9={};we[0]&1&&(M9.appId=ke[0].id),St.$set(M9);const qa={};!Vt&&we[0]&512&&(Vt=!0,qa.notes=ke[9],Re(()=>Vt=!1)),Pt.$set(qa);const va={};we[0]&1&&(va.appId=ke[0].id),jt.$set(va);const hr={};we[1]&128&&(hr.$$scope={dirty:we,ctx:ke}),me.$set(hr);const ka={};we[0]&1&&(ka.appId=ke[0].id),pe.$set(ka);const Kt={};we[0]&2&&(Kt.element=ke[1]),Ci.$set(Kt)},i(ke){be||(Rt(c.$$.fragment,ke),Rt(m.$$.fragment,ke),Rt(y.$$.fragment,ke),Rt(x.$$.fragment,ke),Rt(S.$$.fragment,ke),Rt(P.$$.fragment,ke),Rt(N.$$.fragment,ke),Rt(j.$$.fragment,ke),Rt(tt.$$.fragment,ke),Rt(gt.$$.fragment,ke),Rt(St.$$.fragment,ke),Rt(Pt.$$.fragment,ke),Rt(jt.$$.fragment,ke),Rt(me.$$.fragment,ke),Rt(pe.$$.fragment,ke),Rt(ni.$$.fragment,ke),Rt(Ci.$$.fragment,ke),Rt(ti.$$.fragment,ke),be=!0)},o(ke){Dt(c.$$.fragment,ke),Dt(m.$$.fragment,ke),Dt(y.$$.fragment,ke),Dt(x.$$.fragment,ke),Dt(S.$$.fragment,ke),Dt(P.$$.fragment,ke),Dt(N.$$.fragment,ke),Dt(j.$$.fragment,ke),Dt(tt.$$.fragment,ke),Dt(gt.$$.fragment,ke),Dt(St.$$.fragment,ke),Dt(Pt.$$.fragment,ke),Dt(jt.$$.fragment,ke),Dt(me.$$.fragment,ke),Dt(pe.$$.fragment,ke),Dt(ni.$$.fragment,ke),Dt(Ci.$$.fragment,ke),Dt(ti.$$.fragment,ke),be=!1},d(ke){ke&&bt(e),Nt(c),Nt(m),Nt(y),Nt(x),Nt(S),Nt(P),Nt(N),t[24](null),Nt(j),Nt(tt),Nt(gt),Nt(St),Nt(Pt),Nt(jt),Nt(me),Nt(pe),Nt(ni),Nt(Ci),Nt(ti),ye=!1,ne()}}}function R1t(t){let e,i;return e=new ra({props:{loadData:t[15],$$slots:{default:[B1t]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&2047|r[1]&128&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let Ym=900;const Z_=t=>t.time;function D1t(t,e,i){let{appInfo:a}=e,r,s=120,l=Tr[0].divisions,u=64,d=0,c=8,f=!1,M=!1,m=0,A=[],p="";const y=z=>{A.length===0&&(m=z.timestamp);const nt={time:(z.timestamp-m)/1e3,velocity:z.velocity};i(9,A=[...A,nt]),v()},E=z=>{const j=z.controller.number;j===14?i(2,s=La(z.rawValue,0,120)+60):j===15?i(3,l=Tr[La(Math.floor(z.rawValue/5),0,Tr.length-1)]):j===16?i(4,u=Vr[La(Math.floor(z.rawValue/5),0,Vr.length-1)]):j===17&&i(5,d=(La(z.rawValue,0,100)-50)/100),v()},v=()=>{var ie;const[z,j]=l.split(":").map(jt=>+jt),nt=ta(s),tt=A.map(jt=>{const Wt=(jt.time+d)/nt;return{...jt,time:Wt}}),ht=Math.ceil((((ie=tt.at(-1))==null?void 0:ie.time)??0)/z),pt=tt.map(jt=>({...jt,time:jt.time%z}));let gt=[];if(pt.length>0){let jt=4/u,Wt=1,me=Ym/2;gt=H1(pt.map(pe=>pe.time),{bandwidth:jt,pad:Wt,bins:me,extent:[0,z]}).bandwidth(jt)}const Tt=Ei(0,z+1,1),vt=Ei(0,z,1/j),Ot=[Mr(vt,{stroke:"#888"}),Mr(Tt,{stroke:"#888",strokeWidth:3})],ft={width:Ym,height:100,marginTop:0,marginLeft:40,marginBottom:10,padding:0,x:{label:null,domain:[0,z],ticks:[]},y:{axis:!1}},St=Bn({...ft,marks:[Ll(pt,cp({y:"count"},{x:"time",fill:"#ccc",thresholds:Ei(0,z+1,4/u)})),H9([0]),...Ot]}),Mt=Bn({...ft,marks:[up(gt,{x:"x",y:"y",fill:jt=>X0.accent,clip:!0}),H9([0]),...Ot]}),Pt=Bn({...ft,height:50,marginBottom:30,x:{ticks:[...vt,z],label:"time in beats",domain:[0,z]},marks:[Mr(pt,{x:"time",stroke:"#0002",clip:!0})]}),Vt=Bn({...ft,height:180,marginBottom:30,x:{ticks:[...vt,z],label:"time in beats",domain:[0,z]},y:{domain:Ei(ht-c,ht),tickFormat:jt=>jt+1,label:"recent bars"},marks:[Mr(tt,{x:jt=>jt.time%z,y:(jt,Wt)=>Math.floor(jt.time/z),strokeWidth:f?jt=>jt.velocity*4:1,clip:!0}),Mr([...vt,z],{x:jt=>jt,stroke:"#ccc",opacity:.7,clip:!0,strokeWidth:Ym/u*2})]});if(i(1,r.textContent="",r),r.appendChild(St),r.appendChild(Mt),r.appendChild(Pt),r.appendChild(Vt),A.length>0){const Wt=(Uf(A.map(me=>me.time),l,s,u,d)/A.length*100).toFixed();i(10,p=`${Wt}% of notes are within the gray areas`)}if(M){const Wt=Is(A,Yt=>Math.floor(Yt.time/z)).map(([Yt,pe])=>Uf(pe.map(ni=>ni.time),l,s,u,d)/pe.length*100),me=Bn({width:Ym,height:110,x:{label:"bar",domain:Ei(ht-c,ht),tickFormat:Yt=>Yt+1},y:{label:"percent of notes in gray areas, per bar",domain:[0,100]},marks:[Ll(Wt,{y:Q9,x:(Yt,pe)=>pe,fill:"var(--accent)"}),H9([0]),H9([100])]});r.appendChild(me)}};c9(v);const w=()=>({tempo:s,grid:l,binNote:u,adjustTime:d,pastBars:c,showLoudness:f,showBarScores:M,notes:A}),x=z=>{b(),i(2,s=z.tempo),i(3,l=z.grid),i(4,u=z.binNote),i(5,d=z.adjustTime),i(6,c=z.pastBars),i(7,f=z.showLoudness??!1),i(8,M=z.showBarScores??!1),i(9,A=z.notes),v()},b=()=>{A.length>0&&JSON.stringify(A)!==JSON.stringify(vf.notes)&&da(a.id,w())};r9(b);function O(z){s=z,i(2,s)}function S(z){l=z,i(3,l)}function R(z){u=z,i(4,u)}function I(z){d=z,i(5,d)}function P(z){c=z,i(6,c)}function L(z){M=z,i(8,M)}function k(z){f=z,i(7,f)}function N(z){Me[z?"unshift":"push"](()=>{r=z,i(1,r)})}function $(z){A=z,i(9,A)}function H(z){A=z,i(9,A)}const U=()=>x(vf);function W(z){A=z,i(9,A)}const J=()=>x(vf),Q=()=>y({timestamp:performance.now(),velocity:.5}),G=()=>y({timestamp:performance.now(),velocity:.5});return t.$$set=z=>{"appInfo"in z&&i(0,a=z.appInfo)},[a,r,s,l,u,d,c,f,M,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G]}class P1t extends Ki{constructor(e){super(),Wi(this,e,D1t,R1t,ji,{appInfo:0},null,[-1,-1])}}const L1t=120,k1t=0,N1t=0,F1t=500,U1t=[0,.224,.4748999999761581,.712,.982,1.238,1.472,1.726899999976158,2.222,2.425,2.67,2.918899999976158,3.191,3.5288999999761583,3.768,4.046,4.327,4.585,4.848,5.068,5.331,5.565899999976158,5.819,6.364899999976158,6.593,6.843,7.0838999999761585,7.366899999976158,7.673899999976158,7.966,8.201,8.472899999976159,8.762,8.895,9.198,9.494,9.715899999976157,9.977,10.497,10.748,10.969,11.241,11.508,11.845,12.11,12.385,12.634,12.943,13.154,13.431,13.699,13.945,14.187,14.802,15.013,15.305899999976159,15.526899999976159,15.845899999976158,16.117899999976157,16.381,16.639,16.91889999997616,17.193899999976157,17.405,17.67,17.947,18.178899999976156,18.444,18.988,19.215,19.50689999997616,19.715,19.97989999997616,20.293,20.595899999976158,20.914899999976157,21.209,21.501,21.75389999997616,21.988,22.284,22.539899999976157,22.763,23.233,23.460899999976156,23.691,23.705,24.171,24.46,24.754,24.975899999976157,25.239,25.50689999997616,25.779,26.03289999997616,26.255,26.478,26.767,27.045899999976157,27.576,27.801,28.07389999997616,28.308,28.604,28.86,29.104,29.344899999976157,29.638899999976157,29.911899999976157,30.23389999997616,30.391899999976157,30.754,31.048,31.306,31.876,32.140899999976156,32.392,32.648,32.921,33.266,33.451,33.805899999976155,34.13,34.38989999997616,34.60589999997616,34.874,35.12,35.355,35.65289999997616,36.23,36.481,36.737,36.974,37.291,37.576899999976156,37.871,38.142,38.451899999976156,38.708,38.919,39.184,39.473,39.72889999997616,39.98689999997616,40.54,40.76489999997616,41.009,41.267,41.56289999997616,41.852,42.088,42.34289999997616,42.61589999997616,42.86,43.149,43.429,43.729,43.954,44.23389999997616,44.794,45.031,45.335,45.545,45.881,46.165,46.44,46.67989999997616,46.95689999997616,46.97089999997616,47.298,47.471,47.821,48.13589999997616,48.373,48.64489999997616,49.23389999997616,49.462,49.751,50.03489999997616,50.312,50.719,50.984,51.256,51.552,51.826,52.111,52.354899999976155,52.616899999976155,52.878,53.134,53.662,53.917,54.21089999997616,54.471,54.776,55.113,55.366,55.621,55.887,55.894,56.427,56.558,56.853,57.152,57.44389999997616,57.673,58.428,58.65989999997616,58.91989999997616,59.13089999997616,59.444,59.782,60.05,60.35,60.59,60.91189999997616,61.134,61.40789999997616,61.677899999976155,61.918,62.18,62.708,62.952,63.206,63.514,63.819,64.152,64.415,64.725,65.014,65.319,65.537,65.83089999997615,66.101,66.31389999997616,66.598,67.11,67.431,67.715,67.987,68.286,68.619,68.87989999997616,69.25389999997616,69.561,69.81,70.11,70.404,70.648,70.954,71.181,71.435,72.06089999997616,72.31,72.521,72.84789999997616,73.12989999997616,73.489,73.71889999997616,73.984,74.164,74.422,74.612,74.84189999997616,75.116,75.325,75.54789999997615,76.00689999997616,76.21789999997615,76.443,76.675,76.886,77.177,77.359,77.627,77.85389999997616,78.12689999997616,78.29789999997615,78.485,78.69589999997616,78.895,79.134,79.556,79.748,79.98889999997616,80.19989999997615,80.42,80.671,80.903,81.09689999997616,81.35789999997615,81.572,81.745,81.92689999997616,82.14789999997616,82.384,82.58,83.026,83.227,83.43089999997616,83.687,83.92789999997616,84.191,84.41889999997616,84.643,84.874,85.11,85.3,85.492,85.74,85.961,86.167,86.619,86.818,87.072,87.368,87.619,87.928,88.17689999997616,88.39989999997616,88.595,88.85289999997616,89.073,89.26689999997616,89.535,89.71689999997616,89.931,90.288,90.525,90.743,91.003,91.24,91.543,91.76389999997616,91.97889999997616,92.226,92.517,92.706,92.962,93.20089999997616,93.438,93.68,94.183,94.39589999997615,94.662,94.87689999997616,95.168,95.5,95.819,96.016,96.25489999997616,96.57989999997616,96.81589999997615,97.08589999997616,97.335,97.551,97.814,98.31789999997616,98.54089999997616,98.82189999997615,99.03789999997616,99.377,99.705,99.99589999997616,100.24189999997616,100.515,100.809,101.081,101.327,101.604,101.834,102.13189999997616,102.672,102.925,103.183,103.42689999997616,103.70589999997615,104.049,104.288,104.563,104.776,105.115,105.385,105.601,105.909,106.112,106.39389999997616,106.945,107.25989999997616,107.594,107.82089999997616,108.101,108.47,108.77,109.083,109.42389999997616,109.762,110.02989999997615,110.45589999997615,110.788,111.074,111.353,111.827,112.078,112.416,112.629,112.942,113.304,113.57589999997616,113.83889999997616,114.094,114.378,114.596,114.866,115.194,115.43789999997615,115.667],$1t="tempo-drift",G1t="0.17.3",H1t="2024-10-23T16:53:41.890Z",tw={tempo:L1t,binNote:k1t,filterNote:N1t,barLimit:F1t,notes:U1t,_appId:$1t,_softwareVersion:G1t,_date:H1t};function V1t(t,e,i){const a=t.slice();return a[26]=e[i],a}function Q1t(t,e,i){const a=t.slice();return a[26]=e[i],a}function z1t(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[26]} note`,e.__value=t[26],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function J1t(t){let e,i,a,r=$e(Vr),s=[];for(let l=0;l<r.length;l+=1)s[l]=z1t(Q1t(t,r,l));return{c(){e=K("option"),e.textContent="off",i=q();for(let l=0;l<s.length;l+=1)s[l].c();a=V9(),e.__value=0,Qi(e,e.__value)},m(l,u){Ct(l,e,u),Ct(l,i,u);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,u);Ct(l,a,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a)),xi(s,l)}}}function j1t(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[26]} note`,e.__value=t[26],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function W1t(t){let e,i,a,r=$e(Vr),s=[];for(let l=0;l<r.length;l+=1)s[l]=j1t(V1t(t,r,l));return{c(){e=K("option"),e.textContent="off",i=q();for(let l=0;l<s.length;l+=1)s[l].c();a=V9(),e.__value=0,Qi(e,e.__value)},m(l,u){Ct(l,e,u),Ct(l,i,u);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,u);Ct(l,a,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a)),xi(s,l)}}}function K1t(t){let e,i,a,r,s;return{c(){e=K("p"),e.textContent=`1) Choose a tempo and play only quarter notes. After the
                count-in, keep the tempo as constant as possible for a few
                minutes.`,i=q(),a=K("p"),a.textContent=`2) Play a piece/song (that has constant tempo). After the
                count-in, keep the tempo as constant as possible for a few
                minutes.`,r=q(),s=K("p"),s.textContent=`3) Try to play at a given tempo without count-in, just by
                guessing how fast it is supposed to be played. You can use the
                randomize tempo button () to get challenged for a random tempo.`},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function X1t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me;function Yt(wt){t[13](wt)}let pe={};t[2]!==void 0&&(pe.value=t[2]),c=new Hr({props:pe}),Me.push(()=>De(c,"value",Yt)),c.$on("change",t[9]);function Qe(wt){t[15](wt)}let ni={label:"rounding",title:"You can change between seeing exact bar heights and binned (rounded) heights.",callback:t[9],$$slots:{default:[J1t]},$$scope:{ctx:t}};t[3]!==void 0&&(ni.value=t[3]),p=new ia({props:ni}),Me.push(()=>De(p,"value",Qe));function ei(wt){t[16](wt)}let Ci={label:"filtering",title:"You can filter out notes that are shorter than a given note duration.",callback:t[9],$$slots:{default:[W1t]},$$scope:{ctx:t}};t[4]!==void 0&&(Ci.value=t[4]),v=new ia({props:Ci}),Me.push(()=>De(v,"value",ei));function ai(wt){t[17](wt)}let ti={title:"The number of most recent notes that are shown as bars.",label:"bars",callback:t[9],step:25,min:25,max:1e3};t[5]!==void 0&&(ti.value=t[5]),b=new na({props:ti}),Me.push(()=>De(b,"value",ai));function be(wt){t[18](wt)}let ye={label:qB+" line",title:"Show a line for the (likely) eighth notes' duration over time.",callback:t[9]};t[6]!==void 0&&(ye.checked=t[6]),R=new R9({props:ye}),Me.push(()=>De(R,"checked",be)),$=new F0({props:{tempo:t[2],accent:4,beepCount:8,showBeepCountInput:!0}});function ne(wt){t[20](wt)}let Et={saveToStorage:t[12],callback:t[9]};t[7]!==void 0&&(Et.notes=t[7]),U=new Y9({props:Et}),Me.push(()=>De(U,"notes",ne)),z=new ha({props:{appId:t[0].id,loadData:t[11]}});function yt(wt){t[22](wt)}let Ht={callback:t[9],allowSound:!1};return t[7]!==void 0&&(Ht.notes=t[7]),nt=new y0({props:Ht}),Me.push(()=>De(nt,"notes",yt)),pt=new aa({props:{loadData:t[11],getExportData:t[10],appId:t[0].id}}),Tt=new z9({props:{$$slots:{default:[K1t]},$$scope:{ctx:t}}}),Ot=new J9({props:{appId:t[0].id}}),St=new k9({props:{noteOn:t[8]}}),Pt=new Sa({props:{key:" ",keyDown:t[23]}}),ie=new Vl({props:{element:t[1],touchStart:t[24]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing keeping a constant tempo. Choose your
            tempo, activate the metronome, and start playing. Once the metronome
            stops, try to keep a constant tempo as long as possible. The time
            between two note onsets will be shown as a bar, so you can see how
            well you still hit, for example, quarter notes after playing for
            some time. Bar heights are either exact or rounded to a certain
            duration precision for a clearer overview when monitoring live. You
            can filter very short inter-note times, which happen when playing
            two notes at roughly the same time, for example in a chord.
            <i>Try playing without looking, so you don&#39;t correct based on what
                you see!</i>`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),m=K("button"),m.textContent="",A=q(),Ft(p.$$.fragment),E=q(),Ft(v.$$.fragment),x=q(),Ft(b.$$.fragment),S=q(),Ft(R.$$.fragment),P=q(),L=K("div"),k=q(),N=K("div"),Ft($.$$.fragment),H=q(),Ft(U.$$.fragment),J=q(),Q=K("button"),Q.textContent="example",G=q(),Ft(z.$$.fragment),j=q(),Ft(nt.$$.fragment),ht=q(),Ft(pt.$$.fragment),gt=q(),Ft(Tt.$$.fragment),vt=q(),Ft(Ot.$$.fragment),ft=q(),Ft(St.$$.fragment),Mt=q(),Ft(Pt.$$.fragment),Vt=q(),Ft(ie.$$.fragment),dt(l,"class","explanation"),dt(m,"title","randomize tempo"),dt(d,"class","control"),dt(L,"class","visualization"),dt(N,"class","control"),dt(e,"class","app")},m(wt,xt){Ct(wt,e,xt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),B(d,m),B(d,A),kt(p,d,null),B(d,E),kt(v,d,null),B(d,x),kt(b,d,null),B(d,S),kt(R,d,null),B(e,P),B(e,L),t[19](L),B(e,k),B(e,N),kt($,N,null),B(N,H),kt(U,N,null),B(N,J),B(N,Q),B(N,G),kt(z,N,null),B(N,j),kt(nt,N,null),B(N,ht),kt(pt,N,null),B(e,gt),kt(Tt,e,null),B(e,vt),kt(Ot,e,null),B(e,ft),kt(St,e,null),B(e,Mt),kt(Pt,e,null),B(e,Vt),kt(ie,e,null),jt=!0,Wt||(me=[Ue(m,"click",t[14]),Ue(Q,"click",t[21])],Wt=!0)},p(wt,xt){(!jt||xt[0]&1)&&a!==(a=wt[0].title+"")&&Ge(r,a);const Qt={};!f&&xt[0]&4&&(f=!0,Qt.value=wt[2],Re(()=>f=!1)),c.$set(Qt);const ut={};xt[1]&1&&(ut.$$scope={dirty:xt,ctx:wt}),!y&&xt[0]&8&&(y=!0,ut.value=wt[3],Re(()=>y=!1)),p.$set(ut);const X={};xt[1]&1&&(X.$$scope={dirty:xt,ctx:wt}),!w&&xt[0]&16&&(w=!0,X.value=wt[4],Re(()=>w=!1)),v.$set(X);const Z={};!O&&xt[0]&32&&(O=!0,Z.value=wt[5],Re(()=>O=!1)),b.$set(Z);const _t={};!I&&xt[0]&64&&(I=!0,_t.checked=wt[6],Re(()=>I=!1)),R.$set(_t);const Gt={};xt[0]&4&&(Gt.tempo=wt[2]),$.$set(Gt);const Zt={};!W&&xt[0]&128&&(W=!0,Zt.notes=wt[7],Re(()=>W=!1)),U.$set(Zt);const ue={};xt[0]&1&&(ue.appId=wt[0].id),z.$set(ue);const ve={};!tt&&xt[0]&128&&(tt=!0,ve.notes=wt[7],Re(()=>tt=!1)),nt.$set(ve);const Fe={};xt[0]&1&&(Fe.appId=wt[0].id),pt.$set(Fe);const Je={};xt[1]&1&&(Je.$$scope={dirty:xt,ctx:wt}),Tt.$set(Je);const ii={};xt[0]&1&&(ii.appId=wt[0].id),Ot.$set(ii);const re={};xt[0]&2&&(re.element=wt[1]),ie.$set(re)},i(wt){jt||(Rt(c.$$.fragment,wt),Rt(p.$$.fragment,wt),Rt(v.$$.fragment,wt),Rt(b.$$.fragment,wt),Rt(R.$$.fragment,wt),Rt($.$$.fragment,wt),Rt(U.$$.fragment,wt),Rt(z.$$.fragment,wt),Rt(nt.$$.fragment,wt),Rt(pt.$$.fragment,wt),Rt(Tt.$$.fragment,wt),Rt(Ot.$$.fragment,wt),Rt(St.$$.fragment,wt),Rt(Pt.$$.fragment,wt),Rt(ie.$$.fragment,wt),jt=!0)},o(wt){Dt(c.$$.fragment,wt),Dt(p.$$.fragment,wt),Dt(v.$$.fragment,wt),Dt(b.$$.fragment,wt),Dt(R.$$.fragment,wt),Dt($.$$.fragment,wt),Dt(U.$$.fragment,wt),Dt(z.$$.fragment,wt),Dt(nt.$$.fragment,wt),Dt(pt.$$.fragment,wt),Dt(Tt.$$.fragment,wt),Dt(Ot.$$.fragment,wt),Dt(St.$$.fragment,wt),Dt(Pt.$$.fragment,wt),Dt(ie.$$.fragment,wt),jt=!1},d(wt){wt&&bt(e),Nt(c),Nt(p),Nt(v),Nt(b),Nt(R),t[19](null),Nt($),Nt(U),Nt(z),Nt(nt),Nt(pt),Nt(Tt),Nt(Ot),Nt(St),Nt(Pt),Nt(ie),Wt=!1,f9(me)}}}function Y1t(t){let e,i;return e=new ra({props:{loadData:t[11],$$slots:{default:[X1t]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&255|r[1]&1&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let q1t=900,Z1t=400;function t2t(t,e,i){let{appInfo:a}=e,r,s=120,l=0,u=64,d=50,c=!1,f=0,M=[];const m=$=>{M.length===0&&(f=$.timestamp);const H=($.timestamp-f)/1e3;i(7,M=[...M,H]),A()},A=()=>{const $=ta(s),H=$/4,U=$/2,W=$*2,J=$*4,Q=[0,H,U,U*1.5,$,$*1.5,W,W*1.5],G=["0","","",".","",".","","."];let z=M.map((gt,Tt)=>Tt===0?0:gt-M[Tt-1]);if(u!==0){const gt=J/u;z=z.filter(Tt=>Tt>=gt)}let j=z;if(l!==0){const gt=J/l;j=z.map(Tt=>Math.round(Tt/gt)*gt)}const nt=j.slice(-d),ht=nt.map((gt,Tt)=>({index:Tt,duration:gt})).filter(gt=>gt.duration>.75*U&&gt.duration<1.25*U),pt=Bn({width:q1t,height:Z1t,marginLeft:45,marginRight:1,style:'font-size: 24px; font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{axis:!1},y:{label:null,ticks:Q,tickFormat:gt=>{const Tt=Q.indexOf(gt);return G[Tt]},domain:[0,W*1.1],tickSize:0},marks:[Kd(nt,{x:(gt,Tt)=>Tt,y:gt=>gt,fill:"#ddd",inset:0,dx:.5,ry1:4}),H9(Q,{stroke:"#aaa"}),c?Crt(ht,Trt({k:20,anchor:"middle"},{x:"index",y:"duration",strokeWidth:2})):null]});i(1,r.textContent="",r),r.appendChild(pt)},p=()=>({tempo:s,binNote:l,filterNote:u,barLimit:d,showEighthLine:c,notes:M}),y=$=>{E(),i(2,s=$.tempo),i(3,l=$.binNote??"off"),i(4,u=$.filterNote??"off"),i(5,d=$.barLimit),i(6,c=$.showEighthLine??!1),i(7,M=$.notes),A()},E=()=>{M.length>0&&JSON.stringify(M)!==JSON.stringify(tw.notes)&&da(a.id,p())};c9(A),r9(E);function v($){s=$,i(2,s)}const w=()=>{let $=s;for(;$===s;)$=Math.round(Math.random()*12+6)*10;i(2,s=$)};function x($){l=$,i(3,l)}function b($){u=$,i(4,u)}function O($){d=$,i(5,d)}function S($){c=$,i(6,c)}function R($){Me[$?"unshift":"push"](()=>{r=$,i(1,r)})}function I($){M=$,i(7,M)}const P=()=>y(tw);function L($){M=$,i(7,M)}const k=()=>m({timestamp:performance.now()}),N=()=>m({timestamp:performance.now()});return t.$$set=$=>{"appInfo"in $&&i(0,a=$.appInfo)},[a,r,s,l,u,d,c,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N]}class e2t extends Ki{constructor(e){super(),Wi(this,e,t2t,Y1t,ji,{appInfo:0},null,[-1,-1])}}var Al,hd,i1,yl,vl,n1,ys,fd,Rc,Oo,vs,Dc,K0,md,xo,bs;class i2t{constructor(){Dn(this,Al,null);Dn(this,hd,null);Dn(this,i1,1);Dn(this,yl,null);Dn(this,vl,!1);Dn(this,n1,!1);xn(this,"currentPlayTime",null);Dn(this,ys,new AudioContext);Dn(this,fd,null);Dn(this,Rc,null);Dn(this,Oo,0);Dn(this,vs,-1);Dn(this,Dc,[]);Dn(this,K0,[]);Dn(this,md,null);Dn(this,xo,!1);Dn(this,bs,!1);xn(this,"onTimeChange",e=>(Cn(this,Al,e),this));xn(this,"onStop",e=>(Cn(this,hd,e),this));xn(this,"setVolume",e=>(Cn(this,i1,e),this));xn(this,"setLogging",e=>(Cn(this,n1,e),this));xn(this,"isPlaying",()=>Ve(this,xo));xn(this,"isPaused",()=>Ve(this,bs));xn(this,"playNotes",(e,i=0,a=-1,r=1,s=!1)=>{if(Ve(this,xo)&&!Ve(this,bs)&&!Ve(this,vl)&&this.stop(),!e||e.length===0){console.warn("[PLAYER] Was called with no data");return}Cn(this,Dc,[...e]);let l=new Oc(e).sortByTime();Cn(this,md,l.getDuration()),i>0&&(l=l.filter(u=>u.start>=i).shiftTime(-i),console.log(`[Player] Will start at ${i.toFixed(2)} seconds with ${l.length()} notes left`)),r!==1&&r>0&&(l=l.scaleTime(1/r),Cn(this,md,Ve(this,md)/r)),e=l.getNotes(),console.log(`[Player] Playing ${e.length} notes, speed ${r}, and volume ${Ve(this,i1)}`),Ve(this,ys).state==="suspended"&&Ve(this,ys).resume(),Cn(this,Oo,i),Cn(this,vs,a),Cn(this,yl,r),Cn(this,vl,s),Cn(this,K0,[...e]),this._start()});xn(this,"_start",()=>{console.log("[Player] Starting"),Cn(this,xo,!0),Cn(this,bs,!1),Cn(this,Rc,Ve(this,ys).currentTime),this._scheduler()});xn(this,"_updateTime",e=>{const i=(e-Ve(this,Rc))*Ve(this,yl)+Ve(this,Oo);this.currentPlayTime=i,Ve(this,Al)&&Ve(this,Al).call(this,i)});xn(this,"_playNote",(e,i)=>{const a=e.getDuration();Ve(this,n1)&&console.log(`[Player] Playing ${e.getName()} for ${a}s`);const r=Ve(this,ys).createOscillator();r.connect(Ve(this,ys).destination);const s=Ps[e.pitch].frequency;r.frequency.value=s,r.start(i),r.stop(i+a)});xn(this,"_scheduler",()=>{const a=Ve(this,ys).currentTime;this._updateTime(a);const r=(Ve(this,vs)-Ve(this,Oo))/Ve(this,yl)+Ve(this,Oo);for(;Ve(this,K0).length>0;){const l=Ve(this,Rc)+Ve(this,K0)[0].start;if(l>a+.1||Ve(this,vs)!==-1&&Ve(this,K0)[0].start+Ve(this,Oo)>=r)break;const u=Ve(this,K0).shift();this._playNote(u,l)}const s=a-Ve(this,Rc)+Ve(this,Oo);Ve(this,vs)!==-1&&s>=r?this._stopOrLoop():s>=Ve(this,md)?this._stopOrLoop():Cn(this,fd,setTimeout(this._scheduler,33))});xn(this,"_stopOrLoop",()=>{Ve(this,vl)?this.playNotes(Ve(this,Dc),Ve(this,Oo),Ve(this,vs),Ve(this,yl),Ve(this,vl)):this.stop()});xn(this,"stop",(e=!0)=>{if(Ve(this,xo))return console.log("[Player] Stopping player"),clearTimeout(Ve(this,fd)),this.currentPlayTime=null,Cn(this,xo,!1),Cn(this,bs,!1),Cn(this,Dc,[]),Cn(this,K0,[]),Ve(this,Al)&&Ve(this,Al).call(this,null),e&&Ve(this,hd)&&Ve(this,hd).call(this),this});xn(this,"pause",()=>(console.log("[Player] Pausing player"),clearTimeout(Ve(this,fd)),Cn(this,bs,!0),this));xn(this,"resume",()=>{if(console.log("[Player] Resuming player"),!Ve(this,K0)||Ve(this,K0).length===0){console.warn("[Player] Cannot resume player since it has not been started!");return}return this.playNotes(Ve(this,Dc),this.currentPlayTime,Ve(this,vs),Ve(this,yl),Ve(this,vl)),this});xn(this,"pauseOrResume",()=>{if(!Ve(this,xo)){console.warn("[Player] Cannot pause / resume when player is not playing!");return}return Ve(this,bs)?this.resume():this.pause(),this})}toggle(e,i=0,a=-1,r=1,s=!1){Ve(this,xo)?this.stop():this.playNotes(e,i,a,r,s)}}Al=new WeakMap,hd=new WeakMap,i1=new WeakMap,yl=new WeakMap,vl=new WeakMap,n1=new WeakMap,ys=new WeakMap,fd=new WeakMap,Rc=new WeakMap,Oo=new WeakMap,vs=new WeakMap,Dc=new WeakMap,K0=new WeakMap,md=new WeakMap,xo=new WeakMap,bs=new WeakMap;function n2t(t){let e,i,a;return{c(){e=K("button"),e.textContent="play rhythm",dt(e,"title","Play the current rhythm grid")},m(r,s){Ct(r,e,s),i||(a=Ue(e,"click",t[7]),i=!0)},p:Ne,i:Ne,o:Ne,d(r){r&&bt(e),i=!1,a()}}}function a2t(t,e,i){let a,{notes:r=[]}=e,{startAt:s=0}=e,{endAt:l=-1}=e,{speed:u=1}=e,{loop:d=!1}=e;const c=new i2t;r9(()=>{c.stop()});const f=()=>{c.toggle(a,s,l,u,d)};return t.$$set=M=>{"notes"in M&&i(6,r=M.notes),"startAt"in M&&i(0,s=M.startAt),"endAt"in M&&i(1,l=M.endAt),"speed"in M&&i(2,u=M.speed),"loop"in M&&i(3,d=M.loop)},t.$$.update=()=>{t.$$.dirty&64&&i(4,a=r.map(M=>({pitch:M.number,start:M.time,duration:M.duration??.075,velocity:127})))},[s,l,u,d,a,c,r,f]}class r2t extends Ki{constructor(e){super(),Wi(this,e,a2t,n2t,ji,{notes:6,startAt:0,endAt:1,speed:2,loop:3})}}const o2t=60,s2t="4:3",l2t="4:2",c2t=48,u2t=.01,d2t=6,h2t=[{time:0,number:74},{time:.388,number:74},{time:.851,number:74},{time:1.496,number:74},{time:1.9820999999996274,number:74},{time:2.4810999999996275,number:74},{time:2.9740999999996274,number:74},{time:3.5200999999996276,number:74},{time:3.976,number:74},{time:4.474099999999628,number:74},{time:4.972099999999627,number:74},{time:5.51,number:74},{time:6.013,number:74},{time:6.492,number:74},{time:6.970099999999627,number:74},{time:7.5130999999996275,number:74},{time:7.989,number:74},{time:8.473,number:74},{time:8.965099999999627,number:74},{time:9.478,number:74},{time:9.991,number:74},{time:10.514,number:74},{time:10.983,number:74},{time:11.489099999999627,number:74},{time:11.972,number:74},{time:12.48,number:74},{time:12.991,number:74},{time:13.505099999999628,number:74},{time:13.984,number:74},{time:14.496,number:74},{time:14.975,number:74},{time:15.46,number:74},{time:15.991,number:59},{time:16.202,number:59},{time:16.487,number:59},{time:16.748099999999628,number:59},{time:16.997,number:59},{time:17.233099999999627,number:59},{time:17.494,number:59},{time:17.738,number:59},{time:18.019,number:59},{time:18.259,number:59},{time:18.5,number:59},{time:18.752,number:59},{time:18.992,number:59},{time:19.227,number:59},{time:19.494,number:59},{time:19.748,number:59},{time:19.993,number:59},{time:20.232099999999626,number:59},{time:20.484,number:59},{time:20.726,number:59},{time:24.053,number:59},{time:24.291,number:59},{time:24.537,number:59},{time:24.896,number:59},{time:25.164,number:59},{time:25.421099999999626,number:59},{time:25.691,number:59},{time:25.96,number:59},{time:26.286,number:59},{time:40.02609999999963,number:59},{time:40.499,number:59},{time:40.758,number:59},{time:41.004,number:59},{time:41.484,number:59},{time:41.753,number:59},{time:41.992,number:59},{time:42.553,number:59},{time:42.774,number:59},{time:43.002,number:59},{time:43.542,number:59},{time:43.772,number:59},{time:44.086,number:59},{time:48.038,number:59},{time:48.31,number:59},{time:48.609,number:59},{time:48.924099999999626,number:59},{time:49.286,number:59},{time:49.614099999999624,number:59},{time:50,number:59},{time:50.29,number:59},{time:50.628,number:59},{time:50.964,number:59},{time:51.318,number:59},{time:51.677,number:59},{time:51.98409999999963,number:59},{time:52.323,number:59},{time:52.647099999999625,number:59},{time:52.994,number:59},{time:53.353,number:59},{time:53.665099999999626,number:59},{time:54.002,number:59},{time:54.383,number:59},{time:54.67,number:59},{time:55.031099999999626,number:59},{time:55.353,number:59},{time:55.687,number:59},{time:56.001,number:59},{time:56.35509999999963,number:59},{time:56.650099999999625,number:59},{time:56.967,number:59},{time:57.333099999999625,number:59},{time:57.66109999999963,number:59},{time:57.98609999999963,number:59},{time:58.297,number:59},{time:58.622,number:59},{time:58.934,number:59},{time:59.309,number:59},{time:59.668,number:59},{time:59.993,number:59},{time:60.363,number:59},{time:60.649,number:59},{time:60.974,number:59},{time:61.309,number:59},{time:61.644,number:59},{time:61.979,number:59},{time:62.31,number:59},{time:62.63909999999963,number:59},{time:62.999,number:59},{time:63.323,number:59},{time:63.671099999999626,number:59},{time:63.988099999999626,number:59},{time:64.363,number:59},{time:64.657,number:59},{time:64.99,number:59},{time:65.353,number:59},{time:65.655,number:59},{time:65.94509999999963,number:59},{time:66.25909999999963,number:59},{time:66.607,number:59},{time:66.94709999999962,number:59},{time:67.293,number:59},{time:67.67009999999962,number:59},{time:67.958,number:59},{time:71.93,number:74},{time:72.32509999999962,number:74},{time:72.74,number:74},{time:73.24709999999963,number:74},{time:73.655,number:74},{time:74.10109999999963,number:74},{time:74.37109999999963,number:74},{time:74.63909999999963,number:74},{time:74.94009999999963,number:74},{time:75.343,number:74},{time:75.716,number:74},{time:76.091,number:74},{time:76.353,number:74},{time:76.678,number:74},{time:77.019,number:74},{time:77.34609999999962,number:74},{time:77.663,number:74},{time:78.011,number:74},{time:78.33609999999963,number:74},{time:78.662,number:74},{time:79.00009999999963,number:74},{time:79.356,number:74},{time:79.708,number:74},{time:80.073,number:74},{time:84.018,number:59},{time:84.302,number:59},{time:84.645,number:59},{time:85.002,number:59},{time:85.315,number:59},{time:85.61509999999963,number:59},{time:85.987,number:59},{time:86.343,number:59},{time:86.624,number:59},{time:86.99309999999963,number:59},{time:87.358,number:59},{time:87.65909999999963,number:59},{time:87.989,number:59},{time:88.3,number:59},{time:88.64309999999963,number:59},{time:88.966,number:59},{time:89.299,number:59},{time:89.618,number:59},{time:90.00409999999962,number:59},{time:90.345,number:59},{time:90.635,number:59},{time:90.992,number:59},{time:91.328,number:59},{time:91.66,number:59},{time:92.027,number:59},{time:92.421,number:74},{time:93.034,number:74},{time:93.458,number:74},{time:93.88209999999962,number:74},{time:94.41309999999963,number:74},{time:94.96709999999963,number:74},{time:95.531,number:74},{time:96.016,number:74},{time:96.49,number:74},{time:97.007,number:74},{time:97.51609999999962,number:74},{time:98.023,number:74},{time:98.527,number:74},{time:99.033,number:74},{time:99.538,number:74},{time:100,number:74},{time:100.506,number:74},{time:101.006,number:74},{time:101.517,number:74},{time:101.988,number:74},{time:102.495,number:74},{time:103.001,number:74},{time:103.497,number:74},{time:103.975,number:74}],f2t="two-handed-timing",m2t="0.13.3",p2t="2024-09-12T14:48:10.466Z",ew={tempo:o2t,gridLeft:s2t,gridRight:l2t,binNote:c2t,adjustTime:u2t,pastBars:d2t,notes:h2t,_appId:f2t,_softwareVersion:m2t,_date:p2t};function g2t(t,e,i){const a=t.slice();return a[36]=e[i],a}function M2t(t,e,i){const a=t.slice();return a[36]=e[i],a}function A2t(t,e,i){const a=t.slice();return a[36]=e[i],a}function y2t(t){let e;return{c(){e=K("option"),e.textContent=`${t[36].label}`,e.__value=t[36].divisions,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function v2t(t){let e,i=$e(Tr),a=[];for(let r=0;r<i.length;r+=1)a[r]=y2t(A2t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function b2t(t){let e;return{c(){e=K("option"),e.textContent=`${t[36].label}`,e.__value=t[36].divisions,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function C2t(t){let e,i=$e(Tr),a=[];for(let r=0;r<i.length;r+=1)a[r]=b2t(M2t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function E2t(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[36]} note`,e.__value=t[36],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function _2t(t){let e,i=$e(Vr),a=[];for(let r=0;r<i.length;r+=1)a[r]=E2t(g2t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function w2t(t){let e,i,a;return{c(){e=K("p"),e.innerHTML=`1) Only single notes. Play triplets with your right and eighths
                with your left hand.
                <i>Try playing without looking, focus on the metronome.</i>`,i=q(),a=K("p"),a.textContent=`2) Play the same rhythm as in 1) but using different notes, to
                form a melody.`},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function O2t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q=t[9]?"density area":"histogram",G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe,ni,ei,Ci,ai,ti,be,ye,ne,Et;function yt(re){t[19](re)}let Ht={callback:t[14]};t[3]!==void 0&&(Ht.value=t[3]),M=new Hr({props:Ht}),Me.push(()=>De(M,"value",yt));function wt(re){t[20](re)}let xt={label:"drum mode",title:"Toggle between piano keyboard and drum mode"};t[8]!==void 0&&(xt.checked=t[8]),p=new R9({props:xt}),Me.push(()=>De(p,"checked",wt));function Qt(re){t[21](re)}let ut={label:"grid left",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:t[14],$$slots:{default:[v2t]},$$scope:{ctx:t}};t[4]!==void 0&&(ut.value=t[4]),v=new ia({props:ut}),Me.push(()=>De(v,"value",Qt));function X(re){t[22](re)}let Z={label:"right",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:t[14],$$slots:{default:[C2t]},$$scope:{ctx:t}};t[5]!==void 0&&(Z.value=t[5]),b=new ia({props:Z}),Me.push(()=>De(b,"value",X));function _t(re){t[23](re)}let Gt={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:t[14],$$slots:{default:[_2t]},$$scope:{ctx:t}};t[6]!==void 0&&(Gt.value=t[6]),I=new ia({props:Gt}),Me.push(()=>De(I,"value",_t));function Zt(re){t[24](re)}let ue={tempo:t[3],grid:t[4],notes:t[11].map(nw),draw:t[14]};t[7]!==void 0&&(ue.adjustTime=t[7]),k=new V1({props:ue}),Me.push(()=>De(k,"adjustTime",Zt));function ve(re){t[25](re)}let Fe={title:"The number of past bars to be shown. Allows to 'forget' mistakes in the beginning.",label:"bars",callback:t[14],min:1,max:100};t[10]!==void 0&&(Fe.value=t[10]),H=new na({props:Fe}),Me.push(()=>De(H,"value",ve)),gt=new F0({props:{tempo:t[3],accent:+t[4].split(":")[0]}}),vt=new r2t({props:{notes:t[18](t[4],t[5],t[3])}});function Je(re){t[29](re)}let ii={saveToStorage:t[17],callback:t[14]};return t[11]!==void 0&&(ii.notes=t[11]),ft=new Y9({props:ii}),Me.push(()=>De(ft,"notes",Je)),ie=new ha({props:{appId:t[0].id,loadData:t[16]}}),Wt=new aa({props:{loadData:t[16],getExportData:t[15],appId:t[0].id}}),Yt=new z9({props:{$$slots:{default:[w2t]},$$scope:{ctx:t}}}),Qe=new J9({props:{appId:t[0].id}}),ei=new Sa({props:{key:"f",keyDown:t[31]}}),ai=new Sa({props:{key:"j",keyDown:t[32]}}),be=new k9({props:{noteOn:t[12],controlChange:t[13]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing beat sub-divisions such as eighths or
            triplets on a piano or drum. You can choose a different sub-division
            for each hand. The chart will show you how a summary of where your
            notes started, the top one is for your right hand and the bottom one
            for your left hand.`,u=q(),d=K("p"),d.innerHTML=`<b>Keyboard mode:</b> Left hand plays keys left of the middle A,
            right hand others.
            <b>Drum mode:</b> Left hand plays snare, right hand any other drum.
            <b>PC keyboard:</b> <code>f</code>
            for left and <code>j</code> for right.`,c=q(),f=K("div"),Ft(M.$$.fragment),A=q(),Ft(p.$$.fragment),E=q(),Ft(v.$$.fragment),x=q(),Ft(b.$$.fragment),S=q(),R=K("div"),Ft(I.$$.fragment),L=q(),Ft(k.$$.fragment),$=q(),Ft(H.$$.fragment),W=q(),J=K("button"),G=oe(Q),z=q(),j=K("div"),nt=q(),tt=K("div"),ht=q(),pt=K("div"),Ft(gt.$$.fragment),Tt=q(),Ft(vt.$$.fragment),Ot=q(),Ft(ft.$$.fragment),Mt=q(),Pt=K("button"),Pt.textContent="example",Vt=q(),Ft(ie.$$.fragment),jt=q(),Ft(Wt.$$.fragment),me=q(),Ft(Yt.$$.fragment),pe=q(),Ft(Qe.$$.fragment),ni=q(),Ft(ei.$$.fragment),Ci=q(),Ft(ai.$$.fragment),ti=q(),Ft(be.$$.fragment),dt(l,"class","explanation"),dt(d,"class","explanation"),dt(f,"class","control"),dt(J,"title","Toggle between an area chart and a histogram of the note density"),gn(J,"width","120px"),dt(R,"class","control"),dt(j,"class","visualization"),dt(tt,"class","visualization"),dt(pt,"class","control"),dt(e,"class","app")},m(re,Mi){Ct(re,e,Mi),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),B(e,c),B(e,f),kt(M,f,null),B(f,A),kt(p,f,null),B(f,E),kt(v,f,null),B(f,x),kt(b,f,null),B(e,S),B(e,R),kt(I,R,null),B(R,L),kt(k,R,null),B(R,$),kt(H,R,null),B(R,W),B(R,J),B(J,G),B(e,z),B(e,j),t[27](j),B(e,nt),B(e,tt),t[28](tt),B(e,ht),B(e,pt),kt(gt,pt,null),B(pt,Tt),kt(vt,pt,null),B(pt,Ot),kt(ft,pt,null),B(pt,Mt),B(pt,Pt),B(pt,Vt),kt(ie,pt,null),B(pt,jt),kt(Wt,pt,null),B(e,me),kt(Yt,e,null),B(e,pe),kt(Qe,e,null),B(e,ni),kt(ei,e,null),B(e,Ci),kt(ai,e,null),B(e,ti),kt(be,e,null),ye=!0,ne||(Et=[Ue(J,"click",t[26]),Ue(Pt,"click",t[30])],ne=!0)},p(re,Mi){(!ye||Mi[0]&1)&&a!==(a=re[0].title+"")&&Ge(r,a);const Pe={};!m&&Mi[0]&8&&(m=!0,Pe.value=re[3],Re(()=>m=!1)),M.$set(Pe);const ke={};!y&&Mi[0]&256&&(y=!0,ke.checked=re[8],Re(()=>y=!1)),p.$set(ke);const we={};Mi[1]&4096&&(we.$$scope={dirty:Mi,ctx:re}),!w&&Mi[0]&16&&(w=!0,we.value=re[4],Re(()=>w=!1)),v.$set(we);const Ii={};Mi[1]&4096&&(Ii.$$scope={dirty:Mi,ctx:re}),!O&&Mi[0]&32&&(O=!0,Ii.value=re[5],Re(()=>O=!1)),b.$set(Ii);const wn={};Mi[1]&4096&&(wn.$$scope={dirty:Mi,ctx:re}),!P&&Mi[0]&64&&(P=!0,wn.value=re[6],Re(()=>P=!1)),I.$set(wn);const Ke={};Mi[0]&8&&(Ke.tempo=re[3]),Mi[0]&16&&(Ke.grid=re[4]),Mi[0]&2048&&(Ke.notes=re[11].map(nw)),!N&&Mi[0]&128&&(N=!0,Ke.adjustTime=re[7],Re(()=>N=!1)),k.$set(Ke);const yn={};!U&&Mi[0]&1024&&(U=!0,yn.value=re[10],Re(()=>U=!1)),H.$set(yn),(!ye||Mi[0]&512)&&Q!==(Q=re[9]?"density area":"histogram")&&Ge(G,Q);const Be={};Mi[0]&8&&(Be.tempo=re[3]),Mi[0]&16&&(Be.accent=+re[4].split(":")[0]),gt.$set(Be);const En={};Mi[0]&56&&(En.notes=re[18](re[4],re[5],re[3])),vt.$set(En);const bi={};!St&&Mi[0]&2048&&(St=!0,bi.notes=re[11],Re(()=>St=!1)),ft.$set(bi);const on={};Mi[0]&1&&(on.appId=re[0].id),ie.$set(on);const $n={};Mi[0]&1&&($n.appId=re[0].id),Wt.$set($n);const Pn={};Mi[1]&4096&&(Pn.$$scope={dirty:Mi,ctx:re}),Yt.$set(Pn);const M9={};Mi[0]&1&&(M9.appId=re[0].id),Qe.$set(M9)},i(re){ye||(Rt(M.$$.fragment,re),Rt(p.$$.fragment,re),Rt(v.$$.fragment,re),Rt(b.$$.fragment,re),Rt(I.$$.fragment,re),Rt(k.$$.fragment,re),Rt(H.$$.fragment,re),Rt(gt.$$.fragment,re),Rt(vt.$$.fragment,re),Rt(ft.$$.fragment,re),Rt(ie.$$.fragment,re),Rt(Wt.$$.fragment,re),Rt(Yt.$$.fragment,re),Rt(Qe.$$.fragment,re),Rt(ei.$$.fragment,re),Rt(ai.$$.fragment,re),Rt(be.$$.fragment,re),ye=!0)},o(re){Dt(M.$$.fragment,re),Dt(p.$$.fragment,re),Dt(v.$$.fragment,re),Dt(b.$$.fragment,re),Dt(I.$$.fragment,re),Dt(k.$$.fragment,re),Dt(H.$$.fragment,re),Dt(gt.$$.fragment,re),Dt(vt.$$.fragment,re),Dt(ft.$$.fragment,re),Dt(ie.$$.fragment,re),Dt(Wt.$$.fragment,re),Dt(Yt.$$.fragment,re),Dt(Qe.$$.fragment,re),Dt(ei.$$.fragment,re),Dt(ai.$$.fragment,re),Dt(be.$$.fragment,re),ye=!1},d(re){re&&bt(e),Nt(M),Nt(p),Nt(v),Nt(b),Nt(I),Nt(k),Nt(H),t[27](null),t[28](null),Nt(gt),Nt(vt),Nt(ft),Nt(ie),Nt(Wt),Nt(Yt),Nt(Qe),Nt(ei),Nt(ai),Nt(be),ne=!1,f9(Et)}}}function x2t(t){let e,i;return e=new ra({props:{loadData:t[16],$$slots:{default:[O2t]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&4095|r[1]&4096&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let iw=900;const nw=t=>t.time;function S2t(t,e,i){let{appInfo:a}=e,r,s,l=60,u=Tr[0].divisions,d=Tr[1].divisions,c=96,f=0,M=!1,m=M?40:69,A=!0,p=4,y=0,E=[];const v=tt=>{E.length===0&&(y=tt.timestamp);const pt={time:(tt.timestamp-y)/1e3,number:tt.note.number};i(11,E=[...E,pt]),b()},w=tt=>{const ht=tt.controller.number;ht===14?i(3,l=La(tt.rawValue,0,120)+60):ht===15?i(6,c=Vr[La(Math.floor(tt.rawValue/5),0,Vr.length-1)]):ht===16?i(7,f=(La(tt.rawValue,0,100)-50)/100):ht===17&&i(10,p=La(tt.rawValue,0,99)+1),b()},x=(tt=!0)=>{const ht=tt?u:d,[pt,gt]=ht.split(":").map(Vt=>+Vt),Tt=ta(l);let vt=E.filter(Vt=>tt&&Vt.number<m||!tt&&Vt.number>=m);if(vt=vt.map(Vt=>(Vt.time+f)/Tt),p>0&&vt.length>0){const Vt=(E.at(-1).time+f)/Tt,ie=Math.ceil(Vt/pt);vt=vt.filter(jt=>jt/pt>=ie-p)}vt=vt.map(Vt=>Vt%pt);let Ot=[];if(vt.length>0){let Vt=4/c,ie=1,jt=iw/2;Ot=H1(vt,{bandwidth:Vt,pad:ie,bins:jt,extent:[0,pt]}).bandwidth(Vt)}const ft=Ei(0,pt+1,1),St=Ei(0,pt*gt,1/gt),Mt=Bn({width:iw,height:tt?170:183,marginTop:15,marginLeft:30,marginRight:10,marginBottom:15,padding:0,x:{label:"time in beats",domain:[0,4],ticks:[]},y:{label:tt?"left hand":"right hand",reverse:tt,ticks:[],labelOffset:-10,labelAnchor:"top",labelArrow:null},marks:[A?up(Ot,{x:"x",y:"y",fill:Vt=>"#e4f0fa",clip:!0}):Ll(vt,cp({y:"count"},{x:Vt=>Vt,fill:"#eee",thresholds:Ei(0,pt+1,4/c),ry2:4})),H9([0]),Mr(St,{stroke:"#888"}),Mr(ft,{stroke:"#888",strokeWidth:3})]}),Pt=tt?r:s;Pt.textContent="",Pt.appendChild(Mt)},b=()=>{x(!1),x(!0)},O=()=>({tempo:l,gridLeft:u,gridRight:d,binNote:c,adjustTime:f,pastBars:p,notes:E}),S=tt=>{R(),i(3,l=tt.tempo),i(4,u=tt.gridLeft),i(5,d=tt.gridRight),i(6,c=tt.binNote),i(7,f=tt.adjustTime??0),i(10,p=tt.pastBars),i(11,E=tt.notes),b()},R=()=>{E.length>0&&JSON.stringify(E)!==JSON.stringify(ew.notes)&&da(a.id,O())};c9(b),r9(R);const I=(tt,ht,pt)=>{if(!tt)return[];const gt=ta(pt);let Tt=[tt,ht].flatMap((vt,Ot)=>{const[ft,St]=vt.split(":").map(Pt=>+Pt);return Ei(0,ft,1/St).map(Pt=>({time:Pt*gt,number:69}))});return Tt.sort((vt,Ot)=>vt.time-Ot.time),Tt};function P(tt){l=tt,i(3,l)}function L(tt){M=tt,i(8,M)}function k(tt){u=tt,i(4,u)}function N(tt){d=tt,i(5,d)}function $(tt){c=tt,i(6,c)}function H(tt){f=tt,i(7,f)}function U(tt){p=tt,i(10,p)}const W=()=>{i(9,A=!A),b()};function J(tt){Me[tt?"unshift":"push"](()=>{s=tt,i(2,s)})}function Q(tt){Me[tt?"unshift":"push"](()=>{r=tt,i(1,r)})}function G(tt){E=tt,i(11,E)}const z=()=>S(ew),j=()=>v({timestamp:performance.now(),note:{number:0}}),nt=()=>v({timestamp:performance.now(),note:{number:127}});return t.$$set=tt=>{"appInfo"in tt&&i(0,a=tt.appInfo)},[a,r,s,l,u,d,c,f,M,A,p,E,v,w,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt]}class T2t extends Ki{constructor(e){super(),Wi(this,e,S2t,x2t,ji,{appInfo:0},null,[-1,-1])}}const I2t=60,B2t="4:3",R2t=64,D2t=-.04,P2t=2,L2t=!0,k2t=[{time:0,number:36,drum:"KD"},{time:.006099999994039536,number:46,drum:"HH"},{time:.12009999999403953,number:36,drum:"KD"},{time:.33109999999403955,number:42,drum:"HH"},{time:.6620999999940396,number:42,drum:"HH"},{time:.994,number:26,drum:"HH"},{time:.9970999999940395,number:38,drum:"SN"},{time:1.3280999999940395,number:46,drum:"HH"},{time:1.6600999999940396,number:46,drum:"HH"},{time:1.9890999999940395,number:36,drum:"KD"},{time:1.994,number:46,drum:"HH"},{time:2.0660999999940395,number:36,drum:"KD"},{time:2.3200999999940395,number:42,drum:"HH"},{time:2.6470999999940394,number:42,drum:"HH"},{time:2.9800999999940396,number:38,drum:"SN"},{time:2.9800999999940396,number:22,drum:"HH"},{time:3.3210999999940394,number:22,drum:"HH"},{time:3.656,number:22,drum:"HH"},{time:3.9820999999940394,number:36,drum:"KD"},{time:3.9900999999940394,number:42,drum:"HH"},{time:4.09709999999404,number:36,drum:"KD"},{time:4.32,number:42,drum:"HH"},{time:4.642,number:42,drum:"HH"},{time:4.966,number:42,drum:"HH"},{time:4.96709999999404,number:38,drum:"SN"},{time:5.2960999999940395,number:38,drum:"SN"},{time:5.303099999994039,number:42,drum:"HH"},{time:5.639099999994039,number:42,drum:"HH"},{time:5.94909999999404,number:36,drum:"KD"},{time:5.966099999994039,number:42,drum:"HH"},{time:6.052,number:36,drum:"KD"},{time:6.301099999994039,number:22,drum:"HH"},{time:6.6340999999940395,number:42,drum:"HH"},{time:6.95609999999404,number:22,drum:"HH"},{time:6.96409999999404,number:38,drum:"SN"},{time:7.267,number:38,drum:"SN"},{time:7.299,number:22,drum:"HH"},{time:7.357,number:38,drum:"SN"},{time:7.62109999999404,number:22,drum:"HH"},{time:7.939099999994039,number:36,drum:"KD"},{time:7.950099999994039,number:22,drum:"HH"},{time:8.031,number:36,drum:"KD"},{time:8.297099999994039,number:22,drum:"HH"},{time:8.60709999999404,number:42,drum:"HH"},{time:8.900099999994039,number:38,drum:"SN"},{time:8.92109999999404,number:22,drum:"HH"},{time:9.24809999999404,number:42,drum:"HH"},{time:9.563,number:48,drum:"TO"},{time:9.57009999999404,number:42,drum:"HH"},{time:9.71909999999404,number:48,drum:"TO"},{time:9.86309999999404,number:36,drum:"KD"},{time:9.876,number:42,drum:"HH"},{time:9.921,number:36,drum:"KD"},{time:10.204,number:42,drum:"HH"},{time:10.55509999999404,number:42,drum:"HH"},{time:10.858099999994039,number:40,drum:"SN"},{time:10.86009999999404,number:38,drum:"SN"},{time:10.87909999999404,number:42,drum:"HH"},{time:11.206,number:42,drum:"HH"},{time:11.52909999999404,number:48,drum:"TO"},{time:11.544099999994039,number:42,drum:"HH"},{time:11.68909999999404,number:48,drum:"TO"},{time:11.83009999999404,number:36,drum:"KD"},{time:11.853,number:42,drum:"HH"},{time:11.90109999999404,number:36,drum:"KD"},{time:12.175099999994039,number:42,drum:"HH"},{time:12.513,number:42,drum:"HH"},{time:12.853,number:40,drum:"SN"},{time:12.855099999994039,number:38,drum:"SN"},{time:12.86,number:42,drum:"HH"},{time:13.192,number:42,drum:"HH"},{time:13.528099999994039,number:42,drum:"HH"},{time:13.541099999994039,number:48,drum:"TO"},{time:13.67109999999404,number:48,drum:"TO"},{time:13.85109999999404,number:36,drum:"KD"},{time:13.85609999999404,number:42,drum:"HH"},{time:14.191099999994039,number:42,drum:"HH"},{time:14.534099999994039,number:42,drum:"HH"},{time:14.86209999999404,number:38,drum:"SN"},{time:14.86809999999404,number:42,drum:"HH"},{time:15.20909999999404,number:42,drum:"HH"},{time:15.547099999994039,number:42,drum:"HH"},{time:15.550099999994039,number:48,drum:"TO"},{time:15.691099999994039,number:48,drum:"TO"},{time:15.85109999999404,number:36,drum:"KD"},{time:15.871,number:42,drum:"HH"},{time:15.92309999999404,number:36,drum:"KD"},{time:16.205,number:42,drum:"HH"},{time:16.54309999999404,number:42,drum:"HH"},{time:16.87109999999404,number:38,drum:"SN"},{time:16.872,number:42,drum:"HH"},{time:17.223,number:42,drum:"HH"},{time:17.55609999999404,number:48,drum:"TO"},{time:17.56709999999404,number:42,drum:"HH"},{time:17.73309999999404,number:48,drum:"TO"},{time:17.87509999999404,number:36,drum:"KD"},{time:17.90409999999404,number:42,drum:"HH"},{time:17.93209999999404,number:36,drum:"KD"},{time:18.239,number:42,drum:"HH"},{time:18.58909999999404,number:42,drum:"HH"},{time:18.91209999999404,number:38,drum:"SN"},{time:18.91509999999404,number:42,drum:"HH"},{time:19.279,number:42,drum:"HH"},{time:19.56109999999404,number:49,drum:"CC"},{time:19.61109999999404,number:42,drum:"HH"},{time:19.61509999999404,number:48,drum:"TO"},{time:19.76609999999404,number:48,drum:"TO"},{time:19.941,number:36,drum:"KD"},{time:19.95509999999404,number:42,drum:"HH"},{time:20.020099999994038,number:36,drum:"KD"},{time:20.302099999994038,number:42,drum:"HH"},{time:20.62909999999404,number:42,drum:"HH"},{time:20.97,number:38,drum:"SN"},{time:20.97709999999404,number:42,drum:"HH"},{time:21.31809999999404,number:42,drum:"HH"},{time:21.64909999999404,number:36,drum:"KD"},{time:21.667,number:42,drum:"HH"},{time:21.98909999999404,number:36,drum:"KD"},{time:22.004,number:42,drum:"HH"},{time:22.33,number:42,drum:"HH"},{time:22.66309999999404,number:42,drum:"HH"},{time:22.994,number:38,drum:"SN"},{time:23,number:42,drum:"HH"},{time:23.35309999999404,number:42,drum:"HH"},{time:23.69909999999404,number:42,drum:"HH"},{time:24.00109999999404,number:36,drum:"KD"},{time:24.02409999999404,number:42,drum:"HH"},{time:24.34909999999404,number:42,drum:"HH"},{time:24.67609999999404,number:42,drum:"HH"},{time:24.99509999999404,number:38,drum:"SN"},{time:25.01,number:42,drum:"HH"},{time:25.334,number:42,drum:"HH"},{time:25.67309999999404,number:42,drum:"HH"},{time:25.80409999999404,number:36,drum:"KD"},{time:25.869099999994038,number:36,drum:"KD"},{time:25.99509999999404,number:42,drum:"HH"},{time:26.18409999999404,number:36,drum:"KD"},{time:26.31809999999404,number:42,drum:"HH"},{time:26.645099999994038,number:42,drum:"HH"},{time:26.98509999999404,number:40,drum:"SN"},{time:26.987,number:38,drum:"SN"},{time:26.99009999999404,number:42,drum:"HH"},{time:27.33509999999404,number:42,drum:"HH"},{time:27.65709999999404,number:42,drum:"HH"},{time:27.983,number:36,drum:"KD"},{time:28.00309999999404,number:42,drum:"HH"},{time:28.05909999999404,number:36,drum:"KD"},{time:28.323,number:42,drum:"HH"},{time:28.638,number:42,drum:"HH"},{time:28.98309999999404,number:38,drum:"SN"},{time:28.995,number:42,drum:"HH"},{time:29.32709999999404,number:42,drum:"HH"},{time:29.663,number:42,drum:"HH"},{time:29.82809999999404,number:36,drum:"KD"},{time:29.99209999999404,number:42,drum:"HH"},{time:30.308099999994038,number:36,drum:"KD"},{time:30.33009999999404,number:42,drum:"HH"},{time:30.66109999999404,number:42,drum:"HH"},{time:31.00409999999404,number:42,drum:"HH"},{time:31.00409999999404,number:38,drum:"SN"},{time:31.32809999999404,number:42,drum:"HH"},{time:31.66409999999404,number:42,drum:"HH"},{time:31.997099999994038,number:36,drum:"KD"},{time:32.00009999999404,number:42,drum:"HH"},{time:32.067,number:36,drum:"KD"},{time:32.34409999999404,number:42,drum:"HH"},{time:32.673,number:42,drum:"HH"},{time:33.001,number:40,drum:"SN"},{time:33.00409999999404,number:38,drum:"SN"},{time:33.013,number:42,drum:"HH"},{time:33.350099999994036,number:42,drum:"HH"},{time:33.667099999994036,number:48,drum:"TO"},{time:33.696,number:42,drum:"HH"},{time:33.83109999999404,number:48,drum:"TO"},{time:33.98009999999404,number:36,drum:"KD"},{time:34.01609999999404,number:42,drum:"HH"},{time:34.349,number:42,drum:"HH"},{time:34.683,number:42,drum:"HH"},{time:35.006,number:40,drum:"SN"},{time:35.009,number:38,drum:"SN"},{time:35.018,number:42,drum:"HH"},{time:35.36209999999404,number:42,drum:"HH"},{time:35.67909999999404,number:45,drum:"TO"},{time:35.704,number:42,drum:"HH"},{time:35.83509999999404,number:45,drum:"TO"},{time:36.033,number:36,drum:"KD"},{time:36.03509999999404,number:42,drum:"HH"},{time:36.347099999994036,number:42,drum:"HH"},{time:36.681,number:42,drum:"HH"},{time:37.01809999999404,number:40,drum:"SN"},{time:37.02009999999404,number:42,drum:"HH"},{time:37.37309999999404,number:42,drum:"HH"},{time:37.68609999999404,number:43,drum:"TO"},{time:37.712,number:42,drum:"HH"},{time:37.859,number:43,drum:"TO"},{time:38.028,number:36,drum:"KD"},{time:38.03,number:42,drum:"HH"},{time:38.364,number:42,drum:"HH"},{time:38.699,number:42,drum:"HH"},{time:39.03809999999404,number:40,drum:"SN"},{time:39.04,number:38,drum:"SN"},{time:39.04509999999404,number:42,drum:"HH"},{time:39.40009999999404,number:42,drum:"HH"},{time:39.73,number:48,drum:"TO"},{time:39.73409999999404,number:42,drum:"HH"},{time:39.898,number:48,drum:"TO"},{time:40.06709999999404,number:42,drum:"HH"},{time:40.07209999999404,number:36,drum:"KD"},{time:40.40009999999404,number:42,drum:"HH"},{time:40.72309999999404,number:42,drum:"HH"},{time:41.06009999999404,number:40,drum:"SN"},{time:41.06209999999404,number:38,drum:"SN"},{time:41.064,number:42,drum:"HH"},{time:41.39609999999404,number:42,drum:"HH"},{time:41.71309999999404,number:42,drum:"HH"},{time:41.75809999999404,number:45,drum:"TO"},{time:41.886,number:45,drum:"TO"},{time:42.063,number:36,drum:"KD"},{time:42.07409999999404,number:42,drum:"HH"},{time:42.39609999999404,number:42,drum:"HH"},{time:42.71109999999404,number:42,drum:"HH"},{time:43.03009999999404,number:40,drum:"SN"},{time:43.03209999999404,number:38,drum:"SN"},{time:43.049,number:42,drum:"HH"},{time:43.37109999999404,number:42,drum:"HH"},{time:43.70109999999404,number:58,drum:"TO"},{time:43.72309999999404,number:42,drum:"HH"},{time:43.85109999999404,number:43,drum:"TO"},{time:45.81209999999404,number:46,drum:"HH"},{time:46.55709999999404,number:48,drum:"TO"},{time:46.641,number:48,drum:"TO"},{time:46.67209999999404,number:48,drum:"TO"},{time:46.69009999999404,number:48,drum:"TO"},{time:46.77309999999404,number:48,drum:"TO"},{time:185.34209999999405,number:38,drum:"SN"},{time:185.389,number:38,drum:"SN"},{time:189.95309999999404,number:48,drum:"TO"},{time:189.99509999999404,number:48,drum:"TO"}],N2t="sub-division-drums",F2t="0.13.3",U2t="2024-09-12T14:36:06.891Z",$2t={tempo:I2t,grid:B2t,binNote:R2t,adjustTime:D2t,pastBars:P2t,showKde:L2t,notes:k2t,_appId:N2t,_softwareVersion:F2t,_date:U2t};function G2t(t,e,i){const a=t.slice();return a[32]=e[i],a}function H2t(t,e,i){const a=t.slice();return a[32]=e[i],a}function V2t(t){let e;return{c(){e=K("option"),e.textContent=`${t[32].label}`,e.__value=t[32].divisions,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Q2t(t){let e,i=$e(Tr),a=[];for(let r=0;r<i.length;r+=1)a[r]=V2t(H2t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function z2t(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[32]} note`,e.__value=t[32],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function J2t(t){let e,i=$e(Vr),a=[];for(let r=0;r<i.length;r+=1)a[r]=z2t(G2t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function j2t(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent="1) Play the kick on beat 1 and 3 and the snare on 2 and 4.",i=q(),a=K("p"),a.textContent="2) Play 1) and add the hi-hat on beat 1, 2, 3, 4.",r=q(),s=K("p"),s.textContent="3) Play 2) and sometimes add a fill on the toms.",l=q(),u=K("p"),u.textContent=`4) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!`},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function W2t(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L=t[6]?"density area":"histogram",k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe,ni,ei,Ci,ai,ti,be,ye,ne,Et;function yt(re){t[15](re)}let Ht={callback:t[11]};t[2]!==void 0&&(Ht.value=t[2]),c=new Hr({props:Ht}),Me.push(()=>De(c,"value",yt));function wt(re){t[16](re)}let xt={label:"grid",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:t[11],$$slots:{default:[Q2t]},$$scope:{ctx:t}};t[3]!==void 0&&(xt.value=t[3]),m=new ia({props:xt}),Me.push(()=>De(m,"value",wt));function Qt(re){t[17](re)}let ut={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:t[11],$$slots:{default:[J2t]},$$scope:{ctx:t}};t[4]!==void 0&&(ut.value=t[4]),y=new ia({props:ut}),Me.push(()=>De(y,"value",Qt));function X(re){t[18](re)}let Z={tempo:t[2],grid:t[3],notes:t[8].map(rw),draw:t[11]};t[5]!==void 0&&(Z.adjustTime=t[5]),x=new V1({props:Z}),Me.push(()=>De(x,"adjustTime",X));function _t(re){t[19](re)}let Gt={title:"The number of past bars to be shown. Allows to 'forget' mistakes in the beginning.",label:"last bars",callback:t[11],min:1,max:100};t[7]!==void 0&&(Gt.value=t[7]),S=new na({props:Gt}),Me.push(()=>De(S,"value",_t)),W=new F0({props:{tempo:t[2],accent:+t[3].split(":")[0]}});function Zt(re){t[22](re)}let ue={callback:t[11]};t[8]!==void 0&&(ue.data=t[8]),Q=new hp({props:ue}),Me.push(()=>De(Q,"data",Zt));function ve(re){t[23](re)}let Fe={saveToStorage:t[14],callback:t[11]};t[8]!==void 0&&(Fe.notes=t[8]),j=new Y9({props:Fe}),Me.push(()=>De(j,"notes",ve)),gt=new ha({props:{appId:t[0].id,loadData:t[13]}});function Je(re){t[25](re)}let ii={callback:t[11]};return t[8]!==void 0&&(ii.notes=t[8]),vt=new y0({props:ii}),Me.push(()=>De(vt,"notes",Je)),St=new aa({props:{loadData:t[13],getExportData:t[12],appId:t[0].id}}),Pt=new z9({props:{$$slots:{default:[j2t]},$$scope:{ctx:t}}}),ie=new J9({props:{appId:t[0].id}}),Wt=new Sa({props:{key:"s",keyDown:t[26]}}),Yt=new Sa({props:{key:"h",keyDown:t[27]}}),Qe=new Sa({props:{key:"t",keyDown:t[28]}}),ei=new Sa({props:{key:"k",keyDown:t[29]}}),ai=new k9({props:{noteOn:t[9],controlChange:t[10]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets on drums. Connect a MIDI drum kit and start playing to the
            metronome. The chart will show you how a summary of where your notes
            started, one for each type of drum. If you do not have a MIDI drum
            kit, you can press keys:
            <code>h</code>, <code>s</code>, <code>t</code>, and <code>k</code>
            for hi-hat, snare, tom, and kick drum.
            <i>Try playing without looking, focus on the metronome.</i>`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),w=K("div"),Ft(x.$$.fragment),O=q(),Ft(S.$$.fragment),I=q(),P=K("button"),k=oe(L),N=q(),$=K("div"),H=q(),U=K("div"),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),z=q(),Ft(j.$$.fragment),tt=q(),ht=K("button"),ht.textContent="example",pt=q(),Ft(gt.$$.fragment),Tt=q(),Ft(vt.$$.fragment),ft=q(),Ft(St.$$.fragment),Mt=q(),Ft(Pt.$$.fragment),Vt=q(),Ft(ie.$$.fragment),jt=q(),Ft(Wt.$$.fragment),me=q(),Ft(Yt.$$.fragment),pe=q(),Ft(Qe.$$.fragment),ni=q(),Ft(ei.$$.fragment),Ci=q(),Ft(ai.$$.fragment),ti=q(),be=K("style"),be.textContent=`code {
            margin-right: 2px;
            padding: 4px;
            border-radius: 4px;
            background-color: #eee;
            box-shadow: #ccc 1px 1px;
        }`,dt(l,"class","explanation"),dt(d,"class","control"),dt(P,"title","Toggle between an area chart and a histogram of the note density"),gn(P,"width","120px"),dt(w,"class","control"),dt($,"class","visualization"),dt(U,"class","control"),dt(e,"class","app")},m(re,Mi){Ct(re,e,Mi),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(e,v),B(e,w),kt(x,w,null),B(w,O),kt(S,w,null),B(w,I),B(w,P),B(P,k),B(e,N),B(e,$),t[21]($),B(e,H),B(e,U),kt(W,U,null),B(U,J),kt(Q,U,null),B(U,z),kt(j,U,null),B(U,tt),B(U,ht),B(U,pt),kt(gt,U,null),B(U,Tt),kt(vt,U,null),B(U,ft),kt(St,U,null),B(e,Mt),kt(Pt,e,null),B(e,Vt),kt(ie,e,null),B(e,jt),kt(Wt,e,null),B(e,me),kt(Yt,e,null),B(e,pe),kt(Qe,e,null),B(e,ni),kt(ei,e,null),B(e,Ci),kt(ai,e,null),Ct(re,ti,Mi),Ct(re,be,Mi),ye=!0,ne||(Et=[Ue(P,"click",t[20]),Ue(ht,"click",t[24])],ne=!0)},p(re,Mi){(!ye||Mi[0]&1)&&a!==(a=re[0].title+"")&&Ge(r,a);const Pe={};!f&&Mi[0]&4&&(f=!0,Pe.value=re[2],Re(()=>f=!1)),c.$set(Pe);const ke={};Mi[1]&64&&(ke.$$scope={dirty:Mi,ctx:re}),!A&&Mi[0]&8&&(A=!0,ke.value=re[3],Re(()=>A=!1)),m.$set(ke);const we={};Mi[1]&64&&(we.$$scope={dirty:Mi,ctx:re}),!E&&Mi[0]&16&&(E=!0,we.value=re[4],Re(()=>E=!1)),y.$set(we);const Ii={};Mi[0]&4&&(Ii.tempo=re[2]),Mi[0]&8&&(Ii.grid=re[3]),Mi[0]&256&&(Ii.notes=re[8].map(rw)),!b&&Mi[0]&32&&(b=!0,Ii.adjustTime=re[5],Re(()=>b=!1)),x.$set(Ii);const wn={};!R&&Mi[0]&128&&(R=!0,wn.value=re[7],Re(()=>R=!1)),S.$set(wn),(!ye||Mi[0]&64)&&L!==(L=re[6]?"density area":"histogram")&&Ge(k,L);const Ke={};Mi[0]&4&&(Ke.tempo=re[2]),Mi[0]&8&&(Ke.accent=+re[3].split(":")[0]),W.$set(Ke);const yn={};!G&&Mi[0]&256&&(G=!0,yn.data=re[8],Re(()=>G=!1)),Q.$set(yn);const Be={};!nt&&Mi[0]&256&&(nt=!0,Be.notes=re[8],Re(()=>nt=!1)),j.$set(Be);const En={};Mi[0]&1&&(En.appId=re[0].id),gt.$set(En);const bi={};!Ot&&Mi[0]&256&&(Ot=!0,bi.notes=re[8],Re(()=>Ot=!1)),vt.$set(bi);const on={};Mi[0]&1&&(on.appId=re[0].id),St.$set(on);const $n={};Mi[1]&64&&($n.$$scope={dirty:Mi,ctx:re}),Pt.$set($n);const Pn={};Mi[0]&1&&(Pn.appId=re[0].id),ie.$set(Pn)},i(re){ye||(Rt(c.$$.fragment,re),Rt(m.$$.fragment,re),Rt(y.$$.fragment,re),Rt(x.$$.fragment,re),Rt(S.$$.fragment,re),Rt(W.$$.fragment,re),Rt(Q.$$.fragment,re),Rt(j.$$.fragment,re),Rt(gt.$$.fragment,re),Rt(vt.$$.fragment,re),Rt(St.$$.fragment,re),Rt(Pt.$$.fragment,re),Rt(ie.$$.fragment,re),Rt(Wt.$$.fragment,re),Rt(Yt.$$.fragment,re),Rt(Qe.$$.fragment,re),Rt(ei.$$.fragment,re),Rt(ai.$$.fragment,re),ye=!0)},o(re){Dt(c.$$.fragment,re),Dt(m.$$.fragment,re),Dt(y.$$.fragment,re),Dt(x.$$.fragment,re),Dt(S.$$.fragment,re),Dt(W.$$.fragment,re),Dt(Q.$$.fragment,re),Dt(j.$$.fragment,re),Dt(gt.$$.fragment,re),Dt(vt.$$.fragment,re),Dt(St.$$.fragment,re),Dt(Pt.$$.fragment,re),Dt(ie.$$.fragment,re),Dt(Wt.$$.fragment,re),Dt(Yt.$$.fragment,re),Dt(Qe.$$.fragment,re),Dt(ei.$$.fragment,re),Dt(ai.$$.fragment,re),ye=!1},d(re){re&&(bt(e),bt(ti),bt(be)),Nt(c),Nt(m),Nt(y),Nt(x),Nt(S),t[21](null),Nt(W),Nt(Q),Nt(j),Nt(gt),Nt(vt),Nt(St),Nt(Pt),Nt(ie),Nt(Wt),Nt(Yt),Nt(Qe),Nt(ei),Nt(ai),ne=!1,f9(Et)}}}function K2t(t){let e,i;return e=new ra({props:{loadData:t[13],$$slots:{default:[W2t]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&511|r[1]&64&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let aw=900;const rw=t=>t.time;function X2t(t,e,i){let{appInfo:a}=e,r,s=60,l=Tr[0].divisions,u=64,d=0,c=!0,f=4,M=0,m=[];const A=G=>{var nt;m.length===0&&(M=G.timestamp);const j={time:(G.timestamp-M)/1e3,number:G.note.number,drum:((nt=r4.get(G.note.number))==null?void 0:nt.label)??G.note.number};i(8,m=[...m,j]),E()},p=G=>{const z=G.controller.number;z===14?i(2,s=La(G.rawValue,0,120)+60):z===15?i(4,u=Vr[La(Math.floor(G.rawValue/5),0,Vr.length-1)]):z===16?i(5,d=(La(G.rawValue,0,100)-50)/100):z===17&&i(7,f=La(G.rawValue,0,99)+1),E()},y=(G="KD",z="Kick Drum",j=null)=>{const[nt,tt]=l.split(":").map(St=>+St),ht=ta(s);let pt=m.filter(St=>St.drum===G);if(pt=pt.map(St=>(St.time+d)/ht),f>0&&pt.length>0){const St=Math.floor(pt.at(-1)/nt);pt=pt.filter(Mt=>Mt/nt>=St-f)}pt=pt.map(St=>St%nt);let gt=[];if(pt.length>0){let St=4/u,Mt=1,Pt=aw/2;gt=H1(pt,{bandwidth:St,pad:Mt,bins:Pt,extent:[0,nt]}).bandwidth(St)}const Tt=Ei(0,nt+1,1),vt=Ei(0,nt,1/tt),Ot=Bn({width:aw,height:j?120:110,marginLeft:20,marginBottom:j?30:20,padding:0,x:{label:j,domain:[0,4],ticks:Tt.slice(0,-1),round:!0,tickFormat:St=>(St+1).toFixed()},y:{axis:!1},marks:[c?up(gt,{x:"x",y:"y",fill:St=>X0.accent,clip:!0}):Ll(pt,cp({y:"count"},{x:St=>St,fill:"#ccc",thresholds:Ei(0,nt+1,4/u)})),H9([0]),Mr(vt,{stroke:"#888"}),Mr(Tt,{stroke:"#888",strokeWidth:3})]}),ft=document.createElement("span");ft.innerText=z,r.appendChild(ft),r.appendChild(Ot)},E=()=>{i(1,r.textContent="",r),y("HH","Hi-Hat"),y("SN","Snare"),y("TO","Toms"),y("KD","Kick Drum","beats")};c9(E);const v=()=>({tempo:s,grid:l,binNote:u,adjustTime:d,pastBars:f,showKde:c,notes:m}),w=G=>{x(),i(2,s=G.tempo),i(3,l=G.grid),i(4,u=G.binNote),i(5,d=G.adjustTime),i(7,f=G.pastBars??100),i(6,c=G.showKde??!1),i(8,m=G.notes),E()},x=()=>{m.length>0&&da(a.id,v())};r9(x);function b(G){s=G,i(2,s)}function O(G){l=G,i(3,l)}function S(G){u=G,i(4,u)}function R(G){d=G,i(5,d)}function I(G){f=G,i(7,f)}const P=()=>{i(6,c=!c),E()};function L(G){Me[G?"unshift":"push"](()=>{r=G,i(1,r)})}function k(G){m=G,i(8,m)}function N(G){m=G,i(8,m)}const $=()=>w($2t);function H(G){m=G,i(8,m)}const U=()=>A({timestamp:performance.now(),note:{number:38}}),W=()=>A({timestamp:performance.now(),note:{number:46}}),J=()=>A({timestamp:performance.now(),note:{number:48}}),Q=()=>A({timestamp:performance.now(),note:{number:36}});return t.$$set=G=>{"appInfo"in G&&i(0,a=G.appInfo)},[a,r,s,l,u,d,c,f,m,A,p,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q]}class Y2t extends Ki{constructor(e){super(),Wi(this,e,X2t,K2t,ji,{appInfo:0},null,[-1,-1])}}function q2t(t,e,i){const a=t.slice();return a[30]=e[i],a}function Z2t(t,e,i){const a=t.slice();return a[30]=e[i],a}function tmt(t){let e;return{c(){e=K("option"),e.textContent=`${t[30].label}`,e.__value=t[30].divisions,Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function emt(t){let e,i=$e(Tr),a=[];for(let r=0;r<i.length;r+=1)a[r]=tmt(Z2t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function imt(t){let e;return{c(){e=K("option"),e.textContent=`1/${t[30]} note`,e.__value=t[30],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function nmt(t){let e,i=$e(Vr),a=[];for(let r=0;r<i.length;r+=1)a[r]=imt(q2t(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p:Ne,d(r){r&&bt(e),xi(a,r)}}}function amt(t){let e,i,a,r,s;return{c(){e=K("p"),e.textContent="1) Play triplets.",i=q(),a=K("p"),a.textContent=`2) Switch back and forth between a half bar of eighths and a half
            bar of triplets.`,r=q(),s=K("p"),s.textContent=`3) Play a swing feel, where you shift every second note a bit late.
            Try to do this consistently!`},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function rmt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S=t[7]?"area":"bars",R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt;function Wt(be){t[14](be)}let me={callback:t[11]};t[3]!==void 0&&(me.value=t[3]),c=new Hr({props:me}),Me.push(()=>De(c,"value",Wt));function Yt(be){t[15](be)}let pe={label:"grid",title:"The whole circle is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:t[11],$$slots:{default:[emt]},$$scope:{ctx:t}};t[4]!==void 0&&(pe.value=t[4]),m=new ia({props:pe}),Me.push(()=>De(m,"value",Yt));function Qe(be){t[17](be)}let ni={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:t[16],$$slots:{default:[nmt]},$$scope:{ctx:t}};t[5]!==void 0&&(ni.value=t[5]),y=new ia({props:ni}),Me.push(()=>De(y,"value",Qe));function ei(be){t[18](be)}let Ci={tempo:t[3],grid:t[4],notes:t[8],draw:t[11]};t[6]!==void 0&&(Ci.adjustTime=t[6]),w=new V1({props:Ci}),Me.push(()=>De(w,"adjustTime",ei)),$=new F0({props:{tempo:t[3],accent:+t[4].split(":")[0]}});function ai(be){t[22](be)}let ti={saveToStorage:t[13],callback:t[21]};return t[8]!==void 0&&(ti.notes=t[8]),U=new Y9({props:ti}),Me.push(()=>De(U,"notes",ai)),Q=new ha({props:{appId:t[0].id,loadData:omt}}),pt=new z9({props:{$$slots:{default:[amt]},$$scope:{ctx:t}}}),Tt=new J9({props:{appId:t[0].id}}),Ot=new k9({props:{noteOn:t[10]}}),St=new Sa({props:{key:" ",keyDown:t[24]}}),Pt=new Vl({props:{element:t[1],touchStart:t[25]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
        triplets. In this version, you can compare to earlier takes below.
        Choose your tempo and subdivision, and start playing. The bar or area
        chart will show you a summary of when you played notes. Use the
        integrated metronome. All notes will be timed relative to the first one,
        but you can adjust all notes to make them earlier or later in case you
        messed up the first. Your most recent earlier takes will be shown
        smaller below (new to old, left to right and top to bottom).<br/> <i>Try playing without looking and focus on the metronome.</i>`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),Ft(w.$$.fragment),b=q(),O=K("button"),R=oe(S),I=q(),P=K("div"),L=K("canvas"),k=q(),N=K("div"),Ft($.$$.fragment),H=q(),Ft(U.$$.fragment),J=q(),Ft(Q.$$.fragment),G=q(),z=K("div"),j=K("h3"),j.textContent="History",nt=q(),tt=K("canvas"),ht=q(),Ft(pt.$$.fragment),gt=q(),Ft(Tt.$$.fragment),vt=q(),Ft(Ot.$$.fragment),ft=q(),Ft(St.$$.fragment),Mt=q(),Ft(Pt.$$.fragment),dt(l,"class","explanation"),dt(O,"title","Toggle between bars and area"),dt(d,"class","control"),gn(L,"width",hl/2+"px"),gn(L,"height",hl/2+"px"),dt(P,"class","visualization"),dt(N,"class","control"),gn(tt,"width",hl+"px"),gn(tt,"height",t[9]/2+"px"),dt(z,"class","visualization"),dt(e,"class","app")},m(be,ye){Ct(be,e,ye),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(d,v),kt(w,d,null),B(d,b),B(d,O),B(O,R),B(e,I),B(e,P),B(P,L),t[20](L),B(e,k),B(e,N),kt($,N,null),B(N,H),kt(U,N,null),B(N,J),kt(Q,N,null),B(e,G),B(e,z),B(z,j),B(z,nt),B(z,tt),t[23](tt),B(e,ht),kt(pt,e,null),B(e,gt),kt(Tt,e,null),B(e,vt),kt(Ot,e,null),B(e,ft),kt(St,e,null),B(e,Mt),kt(Pt,e,null),Vt=!0,ie||(jt=Ue(O,"click",t[19]),ie=!0)},p(be,ye){(!Vt||ye[0]&1)&&a!==(a=be[0].title+"")&&Ge(r,a);const ne={};!f&&ye[0]&8&&(f=!0,ne.value=be[3],Re(()=>f=!1)),c.$set(ne);const Et={};ye[1]&16&&(Et.$$scope={dirty:ye,ctx:be}),!A&&ye[0]&16&&(A=!0,Et.value=be[4],Re(()=>A=!1)),m.$set(Et);const yt={};ye[1]&16&&(yt.$$scope={dirty:ye,ctx:be}),!E&&ye[0]&32&&(E=!0,yt.value=be[5],Re(()=>E=!1)),y.$set(yt);const Ht={};ye[0]&8&&(Ht.tempo=be[3]),ye[0]&16&&(Ht.grid=be[4]),ye[0]&256&&(Ht.notes=be[8]),!x&&ye[0]&64&&(x=!0,Ht.adjustTime=be[6],Re(()=>x=!1)),w.$set(Ht),(!Vt||ye[0]&128)&&S!==(S=be[7]?"area":"bars")&&Ge(R,S);const wt={};ye[0]&8&&(wt.tempo=be[3]),ye[0]&16&&(wt.accent=+be[4].split(":")[0]),$.$set(wt);const xt={};!W&&ye[0]&256&&(W=!0,xt.notes=be[8],Re(()=>W=!1)),U.$set(xt);const Qt={};ye[0]&1&&(Qt.appId=be[0].id),Q.$set(Qt);const ut={};ye[1]&16&&(ut.$$scope={dirty:ye,ctx:be}),pt.$set(ut);const X={};ye[0]&1&&(X.appId=be[0].id),Tt.$set(X);const Z={};ye[0]&2&&(Z.element=be[1]),Pt.$set(Z)},i(be){Vt||(Rt(c.$$.fragment,be),Rt(m.$$.fragment,be),Rt(y.$$.fragment,be),Rt(w.$$.fragment,be),Rt($.$$.fragment,be),Rt(U.$$.fragment,be),Rt(Q.$$.fragment,be),Rt(pt.$$.fragment,be),Rt(Tt.$$.fragment,be),Rt(Ot.$$.fragment,be),Rt(St.$$.fragment,be),Rt(Pt.$$.fragment,be),Vt=!0)},o(be){Dt(c.$$.fragment,be),Dt(m.$$.fragment,be),Dt(y.$$.fragment,be),Dt(w.$$.fragment,be),Dt($.$$.fragment,be),Dt(U.$$.fragment,be),Dt(Q.$$.fragment,be),Dt(pt.$$.fragment,be),Dt(Tt.$$.fragment,be),Dt(Ot.$$.fragment,be),Dt(St.$$.fragment,be),Dt(Pt.$$.fragment,be),Vt=!1},d(be){be&&bt(e),Nt(c),Nt(m),Nt(y),Nt(w),t[20](null),Nt($),Nt(U),Nt(Q),t[23](null),Nt(pt),Nt(Tt),Nt(Ot),Nt(St),Nt(Pt),ie=!1,jt()}}}let hl=850;const omt=()=>{};function smt(t,e,i){let{appInfo:a}=e;const r=Math.PI*2;let s,l,u=hl,d=120,c=Tr[0].divisions,f=64,M=0,m=!0,A=0,p=[];const y=J=>{p.length===0&&(A=J.timestamp);const Q=(J.timestamp-A)/1e3;i(8,p=[...p,Q]),v()},E=(J,Q,G,z,j,nt,tt,ht,pt,gt)=>{const Tt=ht,vt=ht,Ot=pt+Tt/2,ft=gt+vt/2,St=Tt*.4,Mt=St*.8,Pt=St*.9,Vt=St*.95,ie=St*.68,jt=Math.PI/2,Wt=J.getContext("2d"),[me,Yt]=z.split(":").map(be=>+be),pe=ta(G)*me,ei=Q.map(be=>be+nt).map(be=>be%pe).map(be=>be/pe*r),Ci=Tt*.08;if(!tt){const be=j*me/4;Wt.fillStyle="#f8f8f8",Wt.strokeStyle="#aaa";const ne=g3().domain([0,r]).thresholds(Ei(be).map(yt=>yt/be*r))(ei),Et=ca(ne,yt=>yt.length);for(const yt of ne){if(yt.length===0)continue;const Ht=yt.length/Et*Ci,wt=St+Ht,xt=yt.x0-jt,Qt=Math.cos(xt),ut=Math.sin(xt),X=yt.x1-jt,Z=Math.cos(X),_t=Math.sin(X);Wt.beginPath(),Wt.moveTo(Ot+Qt*St,ft+ut*St),Wt.lineTo(Ot+Qt*wt,ft+ut*wt),Wt.arc(Ot,ft,wt,xt,X),Wt.lineTo(Ot+Z*St,ft+_t*St),Wt.closePath(),Wt.fill(),Wt.stroke()}}if(tt&&ei.length>1){let be=4/j,yt=H1(ei,{bandwidth:be,pad:0,bins:360,extent:[0,r]}).bandwidth(be);const Ht=ca([...yt],wt=>wt.y);yt=[...yt].map(wt=>({...wt,x:wt.x<0?wt.x+r:wt.x})),yt.sort((wt,xt)=>wt.x-xt.x);for(const[wt,xt]of yt.entries()){const Qt=xt.x-jt;let ut=xt.y;(wt===0||wt===yt.length-1)&&(ut=(yt.at(0).y+yt.at(-1).y)/2);const X=St+ut/Ht*Ci,Z=Math.cos(Qt),_t=Math.sin(Qt);wt===0?Wt.moveTo(Ot+Z*X,ft+_t*X):Wt.lineTo(Ot+Z*X,ft+_t*X)}Wt.closePath(),Wt.fillStyle=X0.accent,Wt.fill(),Wt.strokeStyle="#aaa",Wt.stroke()}Wt.strokeStyle="#aaa",Wt.fillStyle="white",U4(Wt,Ot,ft,St),Wt.lineWidth=2,Wt.fill(),Wt.stroke();const ai=Ei(me).map(be=>r/me*be-jt),ti=Ei(me*Yt).map(be=>r/(me*Yt)*be-jt);Wt.beginPath(),Wt.lineWidth=2,Wt.fillStyle="#ccc",Wt.font=`${ht*.08}px sans-serif`,Wt.textAlign="center",Wt.textBaseline="middle";for(const[be,ye]of ai.entries()){const ne=Math.cos(ye),Et=Math.sin(ye);Wt.moveTo(Ot+ne*Mt,ft+Et*Mt),Wt.lineTo(Ot+ne*Vt,ft+Et*Vt),Wt.fillText(be+1,Ot+ne*ie,ft+Et*ie)}Wt.stroke(),Wt.lineWidth=1,Wt.beginPath();for(const be of ti){const ye=Math.cos(be),ne=Math.sin(be);Wt.moveTo(Ot+ye*Pt,ft+ne*Pt),Wt.lineTo(Ot+ye*Vt,ft+ne*Vt)}if(Wt.stroke(),Q.length>0){const be=Uf(Q,z,G,j,nt);Wt.fillText((be/Q.length*100).toFixed()+"%",Ot,ft)}},v=()=>{const J=s.getContext("2d"),Q=window.devicePixelRatio,G=s.getBoundingClientRect();i(1,s.width=G.width*Q,s),i(1,s.height=G.height*Q,s),J.scale(Q,Q),i(1,s.style.width=`${G.width}px`,s),i(1,s.style.height=`${G.height}px`,s),J.clearRect(0,0,hl,u),E(s,p,d,c,f,M,m,hl/2,0,0)},w=()=>{const Q=RP(a.id).slice(-8),G=l.getContext("2d"),z=window.devicePixelRatio,j=l.getBoundingClientRect();i(2,l.width=j.width*z,l),i(2,l.height=j.height*z,l),G.scale(z,z),i(2,l.style.width=`${j.width}px`,l),i(2,l.style.height=`${j.height}px`,l),G.fillStyle="white",G.fillRect(0,0,hl,u);const nt=4;for(const[tt,ht]of Q.entries()){const pt=ht.data,gt=pt.tempo,Tt=pt.grid,vt=pt.adjustTime,Ot=pt.notes,ft=hl/nt,St=tt%nt*ft,Mt=Math.floor(tt/nt)*ft;G.font="12px sans-serif",G.textBaseline="top",G.textAlign="center",G.fillStyle="#333",G.fillText(ht.date.slice(0,16).replace("T","  "),St+ft/2,Mt),G.fillText(`tempo: ${gt} grid: ${Tt} adjust: ${vt}`,St+ft/2,Mt+12),E(l,Ot,gt,Tt,f,vt,m,ft*.8,St+ft*.1,Mt+22)}};c9(()=>{v(),w()});const x=()=>({tempo:d,grid:c,binNote:f,adjustTime:M,showKde:m,notes:p}),b=()=>{p.length>0&&da(a.id,x())};r9(b);function O(J){d=J,i(3,d)}function S(J){c=J,i(4,c)}const R=()=>{v(),w()};function I(J){f=J,i(5,f)}function P(J){M=J,i(6,M)}const L=()=>{i(7,m=!m),v(),w()};function k(J){Me[J?"unshift":"push"](()=>{s=J,i(1,s)})}const N=()=>{v(),w()};function $(J){p=J,i(8,p)}function H(J){Me[J?"unshift":"push"](()=>{l=J,i(2,l)})}const U=()=>y({timestamp:performance.now()}),W=()=>y({timestamp:performance.now()});return t.$$set=J=>{"appInfo"in J&&i(0,a=J.appInfo)},[a,s,l,d,c,f,M,m,p,u,y,v,w,b,O,S,R,I,P,L,k,N,$,H,U,W]}class lmt extends Ki{constructor(e){super(),Wi(this,e,smt,rmt,ji,{appInfo:0},null,[-1,-1])}}function cmt(t){let e,i,a;return{c(){e=K("p"),e.textContent="1) Play or sing a note as accurately as possible.",i=q(),a=K("p"),a.textContent="2) Bend/sing a note 25 cents higher (for example as a vibrato)."},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function umt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k;function N(W){t[8](W)}let $={label:"past seconds",callback:t[7],min:.05,max:1,step:.05};t[5]!==void 0&&($.value=t[5]),c=new na({props:$}),Me.push(()=>De(c,"value",N));function H(W){t[10](W)}let U={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:t[9],min:-40,max:-5,step:5};return t[6]!==void 0&&(U.value=t[6]),m=new na({props:U}),Me.push(()=>De(m,"value",H)),b=new z9({props:{$$slots:{default:[cmt]},$$scope:{ctx:t}}}),S=new J9({props:{appId:t[0].id}}),I=new TM({props:{callback:t[7]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing hitting the correct pitch (for example an
        exact C) or playing/singing off-tune. Similar to a tuner, the needle
        shows you how far you are off the closest note in cents (0 is perfectly
        on the note, +/-50% is extactly between two valid notes).`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),y=K("button"),y.textContent="resume",E=q(),v=K("div"),w=K("canvas"),x=q(),Ft(b.$$.fragment),O=q(),Ft(S.$$.fragment),R=q(),Ft(I.$$.fragment),dt(l,"class","explanation"),dt(y,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),dt(d,"class","control"),gn(w,"width",bo+"px"),gn(w,"height",of+"px"),dt(v,"class","visualization"),dt(e,"class","app")},m(W,J){Ct(W,e,J),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),B(d,y),B(e,E),B(e,v),B(v,w),t[12](w),t[13](v),B(e,x),kt(b,e,null),B(e,O),kt(S,e,null),B(e,R),kt(I,e,null),P=!0,L||(k=Ue(y,"click",t[11]),L=!0)},p(W,[J]){(!P||J&1)&&a!==(a=W[0].title+"")&&Ge(r,a);const Q={};!f&&J&32&&(f=!0,Q.value=W[5],Re(()=>f=!1)),c.$set(Q);const G={};J&80&&(G.callback=W[9]),!A&&J&64&&(A=!0,G.value=W[6],Re(()=>A=!1)),m.$set(G);const z={};J&524288&&(z.$$scope={dirty:J,ctx:W}),b.$set(z);const j={};J&1&&(j.appId=W[0].id),S.$set(j)},i(W){P||(Rt(c.$$.fragment,W),Rt(m.$$.fragment,W),Rt(b.$$.fragment,W),Rt(S.$$.fragment,W),Rt(I.$$.fragment,W),P=!0)},o(W){Dt(c.$$.fragment,W),Dt(m.$$.fragment,W),Dt(b.$$.fragment,W),Dt(S.$$.fragment,W),Dt(I.$$.fragment,W),P=!1},d(W){W&&bt(e),Nt(c),Nt(m),t[12](null),t[13](null),Nt(b),Nt(S),Nt(I),L=!1,k()}}}let bo=700,of=360;const dmt=16;function hmt(t,e,i){let{appInfo:a}=e,r,s,l,u,d,c,f=.25,M=-25,m=0,A=[];function p(S,R){u.getFloatTimeDomainData(S);const I=d.findPitch(S,R),P=I[0],L=I[1],k=Ga.fromFreq(P),N=Ga.midi(k),$=Ff.freqToMidi(P),H=($-N)*100,W={time:(performance.now()-m)/1e3,pitch:P,note:k,noteMidi:N,actualMidi:$,actualMidiChroma:$%12,centsOffset:H,clarity:L};A.push(W),A=A.slice(-(1e3/dmt)*f),y(),c=requestAnimationFrame(()=>p(S,R))}const y=()=>{const S=bo/2,R=of-10,I=bo*.45,P=bo*.35,L=bo*.4,k=bo*.3,N=bo*.1,$=s.getContext("2d"),H=window.devicePixelRatio,U=s.getBoundingClientRect();i(2,s.width=U.width*H,s),i(2,s.height=U.height*H,s),$.scale(H,H),i(2,s.style.width=`${U.width}px`,s),i(2,s.style.height=`${U.height}px`,s),$.clearRect(0,0,bo,of);const W=y1().domain([-50,50]).range([-Math.PI,0]),J=Ol(A,z=>z.centsOffset);if($.lineWidth=10,$.lineCap="round",$.strokeStyle="#aaa",J>-100){const z=W(J),j=Math.cos(z),nt=Math.sin(z);$.beginPath(),$.moveTo(S+j*N,R+nt*N),$.lineTo(S+j*I,R+nt*I),$.stroke()}$.fillStyle="white",U4($,S,R,N),$.lineWidth=2,$.stroke(),$.lineWidth=2,$.fill(),$.stroke();const Q=Ei(-50,51,25).map(W),G=Ei(-50,51,5).map(W);$.beginPath(),$.lineWidth=2;for(const z of Q){const j=Math.cos(z),nt=Math.sin(z);$.moveTo(S+j*P,R+nt*P),$.lineTo(S+j*I,R+nt*I)}$.stroke(),$.lineWidth=1,$.beginPath();for(const z of G){const j=Math.cos(z),nt=Math.sin(z);$.moveTo(S+j*L,R+nt*L),$.lineTo(S+j*I,R+nt*I)}$.stroke(),$.fillStyle="#888",$.font="30px Arial",$.textAlign="center",$.textBaseline="middle",$.fillText("too low",S-bo*.35,of*.15),$.fillText("too high",S+bo*.35,of*.15);for(const z of[-50,-25,0,25,50]){const j=W(z),nt=Math.cos(j),tt=Math.sin(j);$.fillText(z,S+nt*k,R+tt*k)}if($.font="60px Arial",A.length>0){const z=m4(A,j=>j.note);$.fillText(z,S,R-20)}};c9(()=>{m=performance.now(),i(3,l=new window.AudioContext),u=l.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(S=>{l.createMediaStreamSource(S).connect(u),i(4,d=_l.forFloat32Array(u.fftSize)),i(4,d.minVolumeDecibels=M,d);const R=new Float32Array(d.inputLength);p(R,l.sampleRate)}),y()}),r9(()=>{clearTimeout(c),cancelAnimationFrame(c)});function E(S){f=S,i(5,f)}const v=()=>i(4,d.minVolumeDecibels=M,d);function w(S){M=S,i(6,M)}const x=()=>l.resume();function b(S){Me[S?"unshift":"push"](()=>{s=S,i(2,s)})}function O(S){Me[S?"unshift":"push"](()=>{r=S,i(1,r)})}return t.$$set=S=>{"appInfo"in S&&i(0,a=S.appInfo)},[a,r,s,l,d,f,M,y,E,v,w,x,b,O]}class fmt extends Ki{constructor(e){super(),Wi(this,e,hmt,umt,ji,{appInfo:0})}}const mmt=60,pmt=5,gmt=!1,Mmt=[{number:59,time:0,duration:1.213523544,end:1.213523544},{number:59,time:5.473900000095368,duration:2.108099999904632,end:7.582},{number:59,time:19.631,duration:3.041999999999998,end:22.673},{number:59,time:25.201,duration:4.341000000000001,end:29.542},{number:59,time:31.323,duration:3.8810000000000002,end:35.204}],Amt="duration-bars",ymt="0.13.3",vmt="2024-09-06T16:40:29.988Z",ow={tempo:mmt,pastNoteCount:pmt,showClosestDuration:gmt,notes:Mmt,_appId:Amt,_softwareVersion:ymt,_date:vmt};function bmt(t){let e;return{c(){e=K("p"),e.innerHTML=`1) Play a quarter note <span class="icon"> </span>, a half
                note
                <span class="icon"> </span>, a dotted half note
                <span class="icon">. </span>
                , and a whole note <span class="icon"></span> <span class="icon" style="font-size: 14px"></span>.`},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Cmt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt;function Wt(ne){t[17](ne)}let me={callback:t[12]};t[1]!==void 0&&(me.value=t[1]),c=new Hr({props:me}),Me.push(()=>De(c,"value",Wt));function Yt(ne){t[18](ne)}let pe={callback:t[12],step:1,min:1,max:12};t[3]!==void 0&&(pe.value=t[3]),m=new iu({props:pe}),Me.push(()=>De(m,"value",Yt));function Qe(ne){t[19](ne)}let ni={callback:t[12],label:"pies",title:"Toggles between pie and bar chart encoding"};t[4]!==void 0&&(ni.checked=t[4]),y=new R9({props:ni}),Me.push(()=>De(y,"checked",Qe));function ei(ne){t[20](ne)}let Ci={callback:t[12],label:"show closest duration",title:"Show the closest note duration as an inner piece"};t[5]!==void 0&&(Ci.checked=t[5]),w=new R9({props:Ci}),Me.push(()=>De(w,"checked",ei)),P=new F0({props:{tempo:t[1],accent:4}});function ai(ne){t[22](ne)}let ti={callback:t[12]};t[7]!==void 0&&(ti.data=t[7]),k=new hp({props:ti}),Me.push(()=>De(k,"data",ai));function be(ne){t[24](ne)}let ye={saveToStorage:t[15],callback:t[23]};return t[7]!==void 0&&(ye.notes=t[7]),H=new Y9({props:ye}),Me.push(()=>De(H,"notes",be)),G=new ha({props:{appId:t[0].id,loadData:t[14]}}),j=new aa({props:{loadData:t[14],getExportData:t[13],appId:t[0].id}}),tt=new z9({props:{$$slots:{default:[bmt]},$$scope:{ctx:t}}}),pt=new J9({props:{appId:t[0].id}}),Tt=new k9({props:{noteOn:t[9],noteOff:t[10],controlChange:t[11]}}),Ot=new Sa({props:{key:" ",keyDown:t[26],keyUp:t[27]}}),St=new Vl({props:{element:t[2],touchStart:t[28],touchEnd:t[29]}}),Pt=new TM({props:{callback:t[12]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing how long you hold notes. Set a tempo,
            start the metronome, and try to play different note durations
            (whole, half, quarter, eighth). You can also try dotted notes. Each
            note will be shown as a pie chart, that shows how much of a whole
            note you played. For example, if you tried to play a half note, the
            pie chart should be half full. If you play longer than a whole note,
            the addtional time will be shown in red. You can also switch to a
            bar ('test tube') encoding.`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),Ft(y.$$.fragment),v=q(),Ft(w.$$.fragment),b=q(),O=K("div"),S=K("canvas"),R=q(),I=K("div"),Ft(P.$$.fragment),L=q(),Ft(k.$$.fragment),$=q(),Ft(H.$$.fragment),W=q(),J=K("button"),J.textContent="example",Q=q(),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),nt=q(),Ft(tt.$$.fragment),ht=q(),Ft(pt.$$.fragment),gt=q(),Ft(Tt.$$.fragment),vt=q(),Ft(Ot.$$.fragment),ft=q(),Ft(St.$$.fragment),Mt=q(),Ft(Pt.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),gn(S,"width",sf+"px"),gn(S,"height",x0+"px"),dt(O,"class","visualization"),dt(I,"class","control"),dt(e,"class","app")},m(ne,Et){Ct(ne,e,Et),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(d,p),kt(y,d,null),B(d,v),kt(w,d,null),B(e,b),B(e,O),B(O,S),t[21](S),B(e,R),B(e,I),kt(P,I,null),B(I,L),kt(k,I,null),B(I,$),kt(H,I,null),B(I,W),B(I,J),B(I,Q),kt(G,I,null),B(I,z),kt(j,I,null),B(e,nt),kt(tt,e,null),B(e,ht),kt(pt,e,null),B(e,gt),kt(Tt,e,null),B(e,vt),kt(Ot,e,null),B(e,ft),kt(St,e,null),B(e,Mt),kt(Pt,e,null),Vt=!0,ie||(jt=Ue(J,"click",t[25]),ie=!0)},p(ne,Et){(!Vt||Et[0]&1)&&a!==(a=ne[0].title+"")&&Ge(r,a);const yt={};!f&&Et[0]&2&&(f=!0,yt.value=ne[1],Re(()=>f=!1)),c.$set(yt);const Ht={};!A&&Et[0]&8&&(A=!0,Ht.value=ne[3],Re(()=>A=!1)),m.$set(Ht);const wt={};!E&&Et[0]&16&&(E=!0,wt.checked=ne[4],Re(()=>E=!1)),y.$set(wt);const xt={};!x&&Et[0]&32&&(x=!0,xt.checked=ne[5],Re(()=>x=!1)),w.$set(xt);const Qt={};Et[0]&2&&(Qt.tempo=ne[1]),P.$set(Qt);const ut={};!N&&Et[0]&128&&(N=!0,ut.data=ne[7],Re(()=>N=!1)),k.$set(ut);const X={};Et[0]&256&&(X.callback=ne[23]),!U&&Et[0]&128&&(U=!0,X.notes=ne[7],Re(()=>U=!1)),H.$set(X);const Z={};Et[0]&1&&(Z.appId=ne[0].id),G.$set(Z);const _t={};Et[0]&1&&(_t.appId=ne[0].id),j.$set(_t);const Gt={};Et[1]&16&&(Gt.$$scope={dirty:Et,ctx:ne}),tt.$set(Gt);const Zt={};Et[0]&1&&(Zt.appId=ne[0].id),pt.$set(Zt);const ue={};Et[0]&64&&(ue.keyDown=ne[26]),Et[0]&64&&(ue.keyUp=ne[27]),Ot.$set(ue);const ve={};Et[0]&4&&(ve.element=ne[2]),St.$set(ve)},i(ne){Vt||(Rt(c.$$.fragment,ne),Rt(m.$$.fragment,ne),Rt(y.$$.fragment,ne),Rt(w.$$.fragment,ne),Rt(P.$$.fragment,ne),Rt(k.$$.fragment,ne),Rt(H.$$.fragment,ne),Rt(G.$$.fragment,ne),Rt(j.$$.fragment,ne),Rt(tt.$$.fragment,ne),Rt(pt.$$.fragment,ne),Rt(Tt.$$.fragment,ne),Rt(Ot.$$.fragment,ne),Rt(St.$$.fragment,ne),Rt(Pt.$$.fragment,ne),Vt=!0)},o(ne){Dt(c.$$.fragment,ne),Dt(m.$$.fragment,ne),Dt(y.$$.fragment,ne),Dt(w.$$.fragment,ne),Dt(P.$$.fragment,ne),Dt(k.$$.fragment,ne),Dt(H.$$.fragment,ne),Dt(G.$$.fragment,ne),Dt(j.$$.fragment,ne),Dt(tt.$$.fragment,ne),Dt(pt.$$.fragment,ne),Dt(Tt.$$.fragment,ne),Dt(Ot.$$.fragment,ne),Dt(St.$$.fragment,ne),Dt(Pt.$$.fragment,ne),Vt=!1},d(ne){ne&&bt(e),Nt(c),Nt(m),Nt(y),Nt(w),t[21](null),Nt(P),Nt(k),Nt(H),Nt(G),Nt(j),Nt(tt),Nt(pt),Nt(Tt),Nt(Ot),Nt(St),Nt(Pt),ie=!1,jt()}}}function Emt(t){let e,i;return e=new ra({props:{loadData:t[14],$$slots:{default:[Cmt]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&511|r[1]&16&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let sf=900,x0=400;function _mt(t,e,i){let a,r,{appInfo:s}=e,l;const u=2*Math.PI;let d=60,c=4,f=!0,M=!1,m=!1,A,p=[],y=new Map;const E=nt=>{p.length===0&&(A=nt.timestamp);const tt=(nt.timestamp-A)/1e3,ht={number:nt.note.number,time:tt,duration:0};if(y.has(nt.note.number)){const pt=y.get(nt.note.number);pt.end===void 0&&(pt.end=tt)}i(7,p=[...p,ht]),y.set(nt.note.number,ht),O()},v=nt=>{if(y.has(nt.note.number)){const tt=y.get(nt.note.number),ht=(nt.timestamp-A)/1e3;tt.end=ht,tt.duration=tt.end-tt.time}O()},w=nt=>{const tt=La(nt.rawValue*2,20,250);i(3,c=tt),O()},x=()=>{const nt=(x0-50)/2,tt=(sf-30)/c,ht=Math.min(tt*.4,x0*.3),pt=ht*.5,gt=ht*.75,Tt=ht+15,vt=l.getContext("2d"),Ot=window.devicePixelRatio,ft=l.getBoundingClientRect();i(2,l.width=ft.width*Ot,l),i(2,l.height=ft.height*Ot,l),vt.scale(Ot,Ot),i(2,l.style.width=`${ft.width}px`,l),i(2,l.style.height=`${ft.height}px`,l),vt.clearRect(0,0,sf,x0);for(const[St,Mt]of p.slice(-c).entries()){const Pt=tt*(St+.5)+15;vt.fillStyle=X0.accent;const Vt=Math.min(Mt.duration/a,1);vt.beginPath(),vt.moveTo(Pt,nt),vt.arc(Pt,nt,ht,-Math.PI/2,Vt*u-Math.PI/2),vt.closePath(),vt.fill();let ie=null;if(Mt.duration>0){const me=Pc(r,Yt=>Math.abs(Mt.duration-Yt.seconds));if(ie=r[me],M){vt.fillStyle=X0.accentDark;const Yt=Math.min(ie.seconds/a,1);vt.beginPath(),vt.moveTo(Pt,nt),vt.arc(Pt,nt,gt,-Math.PI/2,Yt*u-Math.PI/2),vt.closePath(),vt.fill()}}if(Mt.duration>a){vt.fillStyle=X0.wrong;const me=Math.min((Mt.duration-a)/a,1);vt.beginPath(),vt.moveTo(Pt,nt),vt.arc(Pt,nt,ht,-Math.PI/2,me*u-Math.PI/2),vt.closePath(),vt.fill()}vt.lineWidth=2,vt.strokeStyle="#aaa",U4(vt,Pt,nt,ht);const jt=Ei(4).map(me=>me*u/4),Wt=Ei(8).map(me=>me*u/8);vt.beginPath();for(const me of jt){const Yt=Math.cos(me),pe=Math.sin(me);vt.moveTo(Pt+Yt*pt,nt+pe*pt),vt.lineTo(Pt+Yt*ht,nt+pe*ht)}vt.lineWidth=1;for(const me of Wt){const Yt=Math.cos(me),pe=Math.sin(me);vt.moveTo(Pt+Yt*gt,nt+pe*gt),vt.lineTo(Pt+Yt*ht,nt+pe*ht)}if(vt.stroke(),vt.fillStyle="#666",vt.font='20px "Noto Music", sans-serif',vt.textAlign="center",vt.textBaseline="bottom",vt.textBaseline="middle",St===0&&c<=8&&(vt.fillText(gC,Pt,nt-Tt),vt.fillText(MC,Pt+Tt,nt),vt.fillText(Lm,Pt,nt+Tt),vt.fillText(Lm+".",Pt-Tt,nt)),vt.font='16px "Noto Music", sans-serif',Mt.duration>0){vt.fillText(`closest: ${ie.symbol}`,Pt,x0-50);const me=Mt.duration/ie.seconds*100;vt.fillText(`${me.toFixed()}%`,Pt,x0-30);let Yt="";me<80?Yt="too short":me<90?Yt="short":me<110?Yt="good!":me<120?Yt="long":Yt="too long",vt.fillText(`${Yt}`,Pt,x0-10)}}},b=()=>{const nt=(sf-10)/c,tt=nt*.8,ht=x0*.7,pt=10,gt=pt+ht,Tt=l.getContext("2d"),vt=window.devicePixelRatio,Ot=l.getBoundingClientRect();i(2,l.width=Ot.width*vt,l),i(2,l.height=Ot.height*vt,l),Tt.scale(vt,vt),i(2,l.style.width=`${Ot.width}px`,l),i(2,l.style.height=`${Ot.height}px`,l),Tt.clearRect(0,0,sf,x0),Tt.textBaseline="middle";for(const[ft,St]of p.slice(-c).entries()){const Mt=nt*(ft+.1)+10;Tt.fillStyle=X0.accent;const Pt=Math.min(St.duration/a,1),Vt=ht*Pt;Tt.fillRect(Mt,gt-Vt,tt,Vt);let ie=null;if(St.duration>0){const jt=Pc(r,Wt=>Math.abs(St.duration-Wt.seconds));if(ie=r[jt],M){Tt.fillStyle=X0.accentDark;const Wt=Math.min(ie.seconds/a,1),me=ht*Wt;Tt.fillRect(Mt,gt-me,tt/2,me)}}if(St.duration>a){Tt.fillStyle=X0.wrong;const jt=Math.min((St.duration-a)/a,1),Wt=ht*jt;Tt.fillRect(Mt,gt-Wt,tt,Wt)}Tt.lineWidth=2,Tt.strokeStyle="#aaa",Tt.fillStyle="#aaa",Tt.strokeRect(Mt,pt,tt,ht),Tt.fillRect(Mt,pt+ht/2,tt*.4,1);for(const jt of Ei(pt,pt+ht,ht/4))Tt.fillRect(Mt,jt,tt*.2,1);for(const jt of Ei(pt,pt+ht,ht/8))Tt.fillRect(Mt,jt,tt*.1,1);if(Tt.font='16px "Noto Music", sans-serif',Tt.fillStyle="#666",St.duration>0){const jt=Pc(r,Qe=>Math.abs(St.duration-Qe.seconds)),Wt=r[jt];Tt.textAlign="center";const me=Mt+tt/2;Tt.fillText(`closest: ${Wt.symbol}`,me,x0-50);const Yt=St.duration/Wt.seconds*100;Tt.fillText(`${Yt.toFixed()}%`,me,x0-30);let pe="";Yt<80?pe="too short":Yt<90?pe="short":Yt<110?pe="good!":Yt<120?pe="long":pe="too long",Tt.fillText(`${pe}`,me,x0-10)}Tt.font='20px "Noto Music", sans-serif',ft===0&&(Tt.textAlign="right",Tt.fillText(gC,Mt-5,pt),Tt.fillText(Lm+".",Mt-5,pt+ht*.25),Tt.fillText(Lm,Mt-5,pt+ht*.5),Tt.fillText(MC,Mt-5,pt+ht*.75),Tt.fillText(qB,Mt-5,pt+ht*.875))}},O=()=>{f?x():b()},S=()=>({tempo:d,pastNoteCount:c,usePies:f,showClosestDuration:M,notes:p}),R=nt=>{I(),i(1,d=nt.tempo),i(3,c=nt.pastNoteCount),i(4,f=nt.usePies??!0),i(5,M=nt.showClosestDuration),i(7,p=nt.notes),O()},I=()=>{p.length>0&&JSON.stringify(p)!==JSON.stringify(ow.notes)&&da(s.id,S())};r9(I);function P(nt){d=nt,i(1,d)}function L(nt){c=nt,i(3,c)}function k(nt){f=nt,i(4,f)}function N(nt){M=nt,i(5,M)}function $(nt){Me[nt?"unshift":"push"](()=>{l=nt,i(2,l)})}function H(nt){p=nt,i(7,p)}const U=()=>{i(8,y=new Map),O()};function W(nt){p=nt,i(7,p)}const J=()=>R(ow),Q=()=>{m||(i(6,m=!0),E({note:{number:0},timestamp:performance.now()}))},G=()=>{i(6,m=!1),v({note:{number:0},timestamp:performance.now()})},z=()=>{E({note:{number:0},timestamp:performance.now()})},j=()=>{v({note:{number:0},timestamp:performance.now()})};return t.$$set=nt=>{"appInfo"in nt&&i(0,s=nt.appInfo)},t.$$.update=()=>{t.$$.dirty[0]&2&&i(16,a=ta(d)*4),t.$$.dirty[0]&65536&&(r=Wf.filter(nt=>!nt.tuplet).map(nt=>({...nt,seconds:nt.beats*(a/4)})))},[s,d,l,c,f,M,m,p,y,E,v,w,O,S,R,I,a,P,L,k,N,$,H,U,W,J,Q,G,z,j]}class wmt extends Ki{constructor(e){super(),Wi(this,e,_mt,Emt,ji,{appInfo:0},null,[-1,-1])}}const Omt=2,xmt=5,Smt=[0,.265,.538,.8090999999046325,1.081,1.32,1.596,1.853,2.136,2.41,2.677,2.93,3.206,3.472,3.735,4.007,4.259,4.522,4.781,5.056,5.331,5.599,5.834,6.078,6.344,6.613,6.881,7.171,7.426,7.71,7.994,8.26,8.525,8.804,9.061,9.315,9.599,9.872,10.136,10.41,10.673,10.941,11.209,11.466,11.714,11.978099999904632,12.251099999904632,12.524,12.811,13.068,13.279,13.488,13.681,13.873,14.077,14.269,14.468,14.664,14.869,15.070099999904633,15.267,15.484,15.694,15.896,16.099,16.308099999904634,16.513,16.73,16.934,17.32909999990463,17.532,17.756,17.98,18.187,18.399,18.635,18.851,19.077,19.283099999904632,19.475,19.690099999904632,19.902,20.101,20.303,20.508,20.71,20.906,21.110099999904634,21.298,21.494,21.687,21.871,22.066,22.258,22.449,22.647,22.845,23.043,23.247,23.438,23.631,23.821,24.014,24.217,24.415,24.609,24.808,25.007,25.208,25.407,25.603,25.799,25.999,26.19,26.396,26.584,26.784,26.974,27.158,27.338],Tmt="tempo-change",Imt="2024-09-02T18:50:05.143Z",sw={timeBinSize:Omt,tempoBinSize:xmt,notes:Smt,_appId:Tmt,_date:Imt};function Bmt(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent="1) Play at a contant tempo.",i=q(),a=K("p"),a.textContent=`2) Start with tempo 90 and smoothly increase until you reach
                150.`,r=q(),s=K("p"),s.textContent="3) Start with tempo 90 and suddenly jump to 150.",l=q(),u=K("p"),u.textContent=`4) Switch back and forth between two tempi, try to always hit
                the same two BPM values.`},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function Rmt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt;function vt(jt){t[10](jt)}let Ot={title:"Size of the time bins in seconds",label:"time step",callback:t[6],min:1,max:10,step:1};t[2]!==void 0&&(Ot.value=t[2]),c=new na({props:Ot}),Me.push(()=>De(c,"value",vt));function ft(jt){t[11](jt)}let St={title:"Size of the tempo bins in BPM",label:"tempo step",callback:t[6],min:2,max:20,step:1};t[3]!==void 0&&(St.value=t[3]),m=new na({props:St}),Me.push(()=>De(m,"value",ft)),w=new F0({props:{tempo:120,accent:4,beepCount:8,showBeepCountInput:!0}});function Mt(jt){t[13](jt)}let Pt={saveToStorage:t[9],callback:t[6]};t[4]!==void 0&&(Pt.notes=t[4]),b=new Y9({props:Pt}),Me.push(()=>De(b,"notes",Mt)),P=new ha({props:{appId:t[0].id,loadData:t[8]}});function Vt(jt){t[15](jt)}let ie={callback:t[6]};return t[4]!==void 0&&(ie.notes=t[4]),k=new y0({props:ie}),Me.push(()=>De(k,"notes",Vt)),H=new aa({props:{loadData:t[8],getExportData:t[7],appId:t[0].id}}),W=new z9({props:{$$slots:{default:[Bmt]},$$scope:{ctx:t}}}),Q=new J9({props:{appId:t[0].id}}),z=new k9({props:{noteOn:t[5]}}),nt=new Sa({props:{key:" ",keyDown:t[16]}}),ht=new Vl({props:{element:t[1],touchStart:t[17]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.innerHTML=`This app helps practicing tempo changes. Start playing at one tempo
            then change to another one as accurately as you can. The chart shows
            you the tempo over time, so can see whether you changed correctly. <i>This app assumes tempi between 60 and 180 bpm. Try playing
                without looking!</i>`,u=q(),d=K("div"),Ft(c.$$.fragment),M=q(),Ft(m.$$.fragment),p=q(),y=K("div"),E=q(),v=K("div"),Ft(w.$$.fragment),x=q(),Ft(b.$$.fragment),S=q(),R=K("button"),R.textContent="example",I=q(),Ft(P.$$.fragment),L=q(),Ft(k.$$.fragment),$=q(),Ft(H.$$.fragment),U=q(),Ft(W.$$.fragment),J=q(),Ft(Q.$$.fragment),G=q(),Ft(z.$$.fragment),j=q(),Ft(nt.$$.fragment),tt=q(),Ft(ht.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(y,"class","visualization"),dt(v,"class","control"),dt(e,"class","app")},m(jt,Wt){Ct(jt,e,Wt),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,M),kt(m,d,null),B(e,p),B(e,y),t[12](y),B(e,E),B(e,v),kt(w,v,null),B(v,x),kt(b,v,null),B(v,S),B(v,R),B(v,I),kt(P,v,null),B(v,L),kt(k,v,null),B(v,$),kt(H,v,null),B(e,U),kt(W,e,null),B(e,J),kt(Q,e,null),B(e,G),kt(z,e,null),B(e,j),kt(nt,e,null),B(e,tt),kt(ht,e,null),pt=!0,gt||(Tt=Ue(R,"click",t[14]),gt=!0)},p(jt,Wt){(!pt||Wt&1)&&a!==(a=jt[0].title+"")&&Ge(r,a);const me={};!f&&Wt&4&&(f=!0,me.value=jt[2],Re(()=>f=!1)),c.$set(me);const Yt={};!A&&Wt&8&&(A=!0,Yt.value=jt[3],Re(()=>A=!1)),m.$set(Yt);const pe={};!O&&Wt&16&&(O=!0,pe.notes=jt[4],Re(()=>O=!1)),b.$set(pe);const Qe={};Wt&1&&(Qe.appId=jt[0].id),P.$set(Qe);const ni={};!N&&Wt&16&&(N=!0,ni.notes=jt[4],Re(()=>N=!1)),k.$set(ni);const ei={};Wt&1&&(ei.appId=jt[0].id),H.$set(ei);const Ci={};Wt&1048576&&(Ci.$$scope={dirty:Wt,ctx:jt}),W.$set(Ci);const ai={};Wt&1&&(ai.appId=jt[0].id),Q.$set(ai);const ti={};Wt&2&&(ti.element=jt[1]),ht.$set(ti)},i(jt){pt||(Rt(c.$$.fragment,jt),Rt(m.$$.fragment,jt),Rt(w.$$.fragment,jt),Rt(b.$$.fragment,jt),Rt(P.$$.fragment,jt),Rt(k.$$.fragment,jt),Rt(H.$$.fragment,jt),Rt(W.$$.fragment,jt),Rt(Q.$$.fragment,jt),Rt(z.$$.fragment,jt),Rt(nt.$$.fragment,jt),Rt(ht.$$.fragment,jt),pt=!0)},o(jt){Dt(c.$$.fragment,jt),Dt(m.$$.fragment,jt),Dt(w.$$.fragment,jt),Dt(b.$$.fragment,jt),Dt(P.$$.fragment,jt),Dt(k.$$.fragment,jt),Dt(H.$$.fragment,jt),Dt(W.$$.fragment,jt),Dt(Q.$$.fragment,jt),Dt(z.$$.fragment,jt),Dt(nt.$$.fragment,jt),Dt(ht.$$.fragment,jt),pt=!1},d(jt){jt&&bt(e),Nt(c),Nt(m),t[12](null),Nt(w),Nt(b),Nt(P),Nt(k),Nt(H),Nt(W),Nt(Q),Nt(z),Nt(nt),Nt(ht),gt=!1,Tt()}}}function Dmt(t){let e,i;return e=new ra({props:{loadData:t[8],$$slots:{default:[Rmt]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,[r]){const s={};r&1048607&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}let v6=900,Pmt=600;const Lmt=.025;function kmt(t,e,i){let{appInfo:a}=e,r,s,l=5,u=5,d=[];const c=R=>{const I=[],L=g3().domain([0,R.at(-1)]).thresholds(Ei(0,R.at(-1)+l,l))(R);for(const k of L){const $=k.map((Q,G)=>G===0?0:Q-k[G-1]).filter(Q=>Q>.0125&&Q<1.5),H=$.map(Q=>{for(Q=iet(Q);Q>180;)Q/=2;for(;Q<60;)Q*=2;return Q=Math.round(Q),Q}),W=g3().domain([60,180]).thresholds(Ei(60,181,u))(H),J=J7(W,Q=>Q.length);console.log(J);for(const[Q,G]of W.entries())G.length>0&&I.push({time0:k.x0,time1:k.x1,tempo0:G.x0,tempo1:G.x1,count:G.length,confidence:G.length/$.length,max:Q===J})}return I},f=R=>{d.length===0&&(s=R.timestamp);const I=(R.timestamp-s)/1e3;(d.length===0||Math.abs(I-d.at(-1))>Lmt)&&i(4,d=[...d,I]),M()},M=()=>{i(1,r.textContent="",r);const R=c(d);R.length>0&&R.at(-1).time1;const I=Bn({width:v6,height:Pmt,marginBottom:50,padding:0,x:{label:"time in seconds"},y:{label:"tempo in BPM",grid:!0},color:{label:"confidence",scheme:"Blues",legend:!0,marginLeft:v6*.3,width:v6*.6,type:"sqrt",domain:[0,1]},marks:[rP(R,{x1:"time0",x2:"time1",y1:"tempo0",y2:"tempo1",fill:"confidence",clip:!0,tip:!0,stroke:"max",strokeWidth:1,rx:3,inset:1}),H9([60,90,120,150,180]),Ar([d.at(-1)],{opacity:0})]});r.appendChild(I)},m=()=>({timeBinSize:l,tempoBinSize:u,notes:d}),A=R=>{i(2,l=R.timeBinSize),i(3,u=R.tempoBinSize),i(4,d=R.notes),M()},p=()=>{d.length>0&&JSON.stringify(d)!==JSON.stringify(sw.notes)&&da(a.id,m())};c9(M),r9(p);function y(R){l=R,i(2,l)}function E(R){u=R,i(3,u)}function v(R){Me[R?"unshift":"push"](()=>{r=R,i(1,r)})}function w(R){d=R,i(4,d)}const x=()=>A(sw);function b(R){d=R,i(4,d)}const O=()=>f({timestamp:performance.now()}),S=()=>f({timestamp:performance.now()});return t.$$set=R=>{"appInfo"in R&&i(0,a=R.appInfo)},[a,r,l,u,d,f,M,m,A,p,y,E,v,w,x,b,O,S]}class Nmt extends Ki{constructor(e){super(),Wi(this,e,kmt,Dmt,ji,{appInfo:0})}}function lw(t,e,i){const a=t.slice();return a[36]=e[i],a[38]=i,a}function cw(t,e,i){const a=t.slice();return a[39]=e[i],a[38]=i,a}function uw(t){let e;return{c(){e=K("option"),e.textContent=`${t[39].label}`,e.__value=t[38],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Fmt(t){let e,i=$e(t[12]),a=[];for(let r=0;r<i.length;r+=1)a[r]=uw(cw(t,i,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=V9()},m(r,s){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,s);Ct(r,e,s)},p(r,s){if(s[0]&4096){i=$e(r[12]);let l;for(l=0;l<i.length;l+=1){const u=cw(r,i,l);a[l]?a[l].p(u,s):(a[l]=uw(u),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(r){r&&bt(e),xi(a,r)}}}function dw(t){let e,i,a,r,s=t[36].name+"",l,u,d,c;function f(...M){return t[26](t[38],...M)}return{c(){var M;e=K("label"),i=K("input"),r=q(),l=oe(s),u=q(),dt(i,"type","color"),i.value=a=(M=t[10].colors)==null?void 0:M[t[38]+1],dt(i,"class","svelte-19kpp6s"),dt(e,"title","change color"),dt(e,"class","svelte-19kpp6s")},m(M,m){Ct(M,e,m),B(e,i),B(e,r),B(e,l),B(e,u),d||(c=Ue(i,"change",f),d=!0)},p(M,m){var A;t=M,m[0]&1024&&a!==(a=(A=t[10].colors)==null?void 0:A[t[38]+1])&&(i.value=a),m[0]&2048&&s!==(s=t[36].name+"")&&Ge(l,s)},d(M){M&&bt(e),d=!1,c()}}}function Umt(t){let e,i,a,r,s,l,u;return{c(){e=K("p"),e.textContent=`1) Improvise something in the scale of C major pentatonic. Check
                if you only used this scale's notes using the colors.`,i=q(),a=K("p"),a.textContent=`2) Improvise something in A minor pentatonic. Check if you only
                used this scale's notes using the colors and how often and when
                you used the tonic A.`,r=q(),s=K("p"),s.textContent=`3) Improvise in A minor blues, see how often and when you used
                the blue note (D#).`,l=q(),u=K("p"),u.textContent="4) Improvise in a scale you do not know yet."},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function $mt(t){let e,i,a=t[0].title+"",r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt;function Vt(yt){t[20](yt)}function ie(yt){t[21](yt)}let jt={callback:t[16],allowedScales:["major","minor"]};t[1]!==void 0&&(jt.scaleRoot=t[1]),t[2]!==void 0&&(jt.scaleType=t[2]),c=new Xd({props:jt}),Me.push(()=>De(c,"scaleRoot",Vt)),Me.push(()=>De(c,"scaleType",ie));function Wt(yt){t[22](yt)}let me={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",callback:t[16],min:.05,max:2,step:.05};t[6]!==void 0&&(me.value=t[6]),A=new na({props:me}),Me.push(()=>De(A,"value",Wt));function Yt(yt){t[23](yt)}let pe={title:"The number of played chords that is displayed",label:"chord count",callback:t[16],min:10,max:100,step:10};t[5]!==void 0&&(pe.value=t[5]),E=new na({props:pe}),Me.push(()=>De(E,"value",Yt));function Qe(yt){t[24](yt)}let ni={label:"show duration",title:"Show duration in the bar's height?",callback:t[16]};t[7]!==void 0&&(ni.checked=t[7]),x=new R9({props:ni}),Me.push(()=>De(x,"checked",Qe));function ei(yt){t[25](yt)}let Ci={label:"colors",title:"Choose a color map",callback:t[16],$$slots:{default:[Fmt]},$$scope:{ctx:t}};t[3]!==void 0&&(Ci.value=t[3]),S=new ia({props:Ci}),Me.push(()=>De(S,"value",ei));let ai=$e(t[11]),ti=[];for(let yt=0;yt<ai.length;yt+=1)ti[yt]=dw(lw(t,ai,yt));function be(yt){t[29](yt)}let ye={saveToStorage:t[19],callback:t[28]};t[8]!==void 0&&(ye.notes=t[8]),H=new Y9({props:ye}),Me.push(()=>De(H,"notes",be)),G=new ha({props:{appId:t[0].id,loadData:t[18]}});function ne(yt){t[31](yt)}let Et={callback:t[16]};return t[8]!==void 0&&(Et.notes=t[8]),j=new y0({props:Et}),Me.push(()=>De(j,"notes",ne)),ht=new aa({props:{loadData:t[18],getExportData:t[17],appId:t[0].id}}),gt=new z9({props:{$$slots:{default:[Umt]},$$scope:{ctx:t}}}),vt=new J9({props:{appId:t[0].id}}),ft=new k9({props:{noteOn:t[13],noteOff:t[14],controlChange:t[15]}}),{c(){e=K("main"),i=K("h2"),r=oe(a),s=q(),l=K("p"),l.textContent=`This app helps practicing improvising in a scale by coloring the
            different scale degrees to show you which you play when. Notes that
            you play are shown as bars. Optionally, the bars' height encodes the
            notes' durations. You can change the colors if you like.`,u=q(),d=K("div"),Ft(c.$$.fragment),m=q(),Ft(A.$$.fragment),y=q(),Ft(E.$$.fragment),w=q(),Ft(x.$$.fragment),O=q(),Ft(S.$$.fragment),I=q(),P=K("div");for(let yt=0;yt<ti.length;yt+=1)ti[yt].c();L=q(),k=K("div"),N=q(),$=K("div"),Ft(H.$$.fragment),W=q(),J=K("button"),J.textContent="example",Q=q(),Ft(G.$$.fragment),z=q(),Ft(j.$$.fragment),tt=q(),Ft(ht.$$.fragment),pt=q(),Ft(gt.$$.fragment),Tt=q(),Ft(vt.$$.fragment),Ot=q(),Ft(ft.$$.fragment),dt(l,"class","explanation"),dt(d,"class","control"),dt(P,"class","legend svelte-19kpp6s"),dt(k,"class","visualization"),dt($,"class","control"),dt(e,"class","app")},m(yt,Ht){Ct(yt,e,Ht),B(e,i),B(i,r),B(e,s),B(e,l),B(e,u),B(e,d),kt(c,d,null),B(d,m),kt(A,d,null),B(d,y),kt(E,d,null),B(d,w),kt(x,d,null),B(d,O),kt(S,d,null),B(e,I),B(e,P);for(let wt=0;wt<ti.length;wt+=1)ti[wt]&&ti[wt].m(P,null);B(e,L),B(e,k),t[27](k),B(e,N),B(e,$),kt(H,$,null),B($,W),B($,J),B($,Q),kt(G,$,null),B($,z),kt(j,$,null),B($,tt),kt(ht,$,null),B(e,pt),kt(gt,e,null),B(e,Tt),kt(vt,e,null),B(e,Ot),kt(ft,e,null),St=!0,Mt||(Pt=Ue(J,"click",t[30]),Mt=!0)},p(yt,Ht){(!St||Ht[0]&1)&&a!==(a=yt[0].title+"")&&Ge(r,a);const wt={};!f&&Ht[0]&2&&(f=!0,wt.scaleRoot=yt[1],Re(()=>f=!1)),!M&&Ht[0]&4&&(M=!0,wt.scaleType=yt[2],Re(()=>M=!1)),c.$set(wt);const xt={};!p&&Ht[0]&64&&(p=!0,xt.value=yt[6],Re(()=>p=!1)),A.$set(xt);const Qt={};!v&&Ht[0]&32&&(v=!0,Qt.value=yt[5],Re(()=>v=!1)),E.$set(Qt);const ut={};!b&&Ht[0]&128&&(b=!0,ut.checked=yt[7],Re(()=>b=!1)),x.$set(ut);const X={};if(Ht[1]&1024&&(X.$$scope={dirty:Ht,ctx:yt}),!R&&Ht[0]&8&&(R=!0,X.value=yt[3],Re(()=>R=!1)),S.$set(X),Ht[0]&68608){ai=$e(yt[11]);let Fe;for(Fe=0;Fe<ai.length;Fe+=1){const Je=lw(yt,ai,Fe);ti[Fe]?ti[Fe].p(Je,Ht):(ti[Fe]=dw(Je),ti[Fe].c(),ti[Fe].m(P,null))}for(;Fe<ti.length;Fe+=1)ti[Fe].d(1);ti.length=ai.length}const Z={};Ht[0]&512&&(Z.callback=yt[28]),!U&&Ht[0]&256&&(U=!0,Z.notes=yt[8],Re(()=>U=!1)),H.$set(Z);const _t={};Ht[0]&1&&(_t.appId=yt[0].id),G.$set(_t);const Gt={};!nt&&Ht[0]&256&&(nt=!0,Gt.notes=yt[8],Re(()=>nt=!1)),j.$set(Gt);const Zt={};Ht[0]&1&&(Zt.appId=yt[0].id),ht.$set(Zt);const ue={};Ht[1]&1024&&(ue.$$scope={dirty:Ht,ctx:yt}),gt.$set(ue);const ve={};Ht[0]&1&&(ve.appId=yt[0].id),vt.$set(ve)},i(yt){St||(Rt(c.$$.fragment,yt),Rt(A.$$.fragment,yt),Rt(E.$$.fragment,yt),Rt(x.$$.fragment,yt),Rt(S.$$.fragment,yt),Rt(H.$$.fragment,yt),Rt(G.$$.fragment,yt),Rt(j.$$.fragment,yt),Rt(ht.$$.fragment,yt),Rt(gt.$$.fragment,yt),Rt(vt.$$.fragment,yt),Rt(ft.$$.fragment,yt),St=!0)},o(yt){Dt(c.$$.fragment,yt),Dt(A.$$.fragment,yt),Dt(E.$$.fragment,yt),Dt(x.$$.fragment,yt),Dt(S.$$.fragment,yt),Dt(H.$$.fragment,yt),Dt(G.$$.fragment,yt),Dt(j.$$.fragment,yt),Dt(ht.$$.fragment,yt),Dt(gt.$$.fragment,yt),Dt(vt.$$.fragment,yt),Dt(ft.$$.fragment,yt),St=!1},d(yt){yt&&bt(e),Nt(c),Nt(A),Nt(E),Nt(x),Nt(S),xi(ti,yt),t[27](null),Nt(H),Nt(G),Nt(j),Nt(ht),Nt(gt),Nt(vt),Nt(ft),Mt=!1,Pt()}}}function Gmt(t){let e,i;return e=new ra({props:{loadData:t[18],$$slots:{default:[$mt]},$$scope:{ctx:t}}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&4095|r[1]&1024&&(s.$$scope={dirty:r,ctx:a}),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}function Hmt(t,e,i){let a,r,s,{appInfo:l}=e,u=window.innerWidth<1200?900:window.innerWidth-200,d;const c=M0;let f="C",M="major",m=50,A=.1,p=!0,y,E=[],v=new Map,w=0;const x=[{label:"all",colors:["#eee",...Co]},{label:"1 4 7",colors:["#eeeeee",Co[0],"#dddddd","#dddddd",Co[1],"#dddddd","#dddddd",Co[2]]},{label:"1 4 5 7",colors:["#eeeeee",Co[0],"#dddddd","#dddddd",Co[1],Co[2],"#dddddd",Co[3]]}],b=tt=>{E.length===0&&(y=tt.timestamp);const ht=(tt.timestamp-y)/1e3,pt={name:tt.note.name+(tt.note.accidental??""),number:tt.note.number,velocity:tt.velocity,time:ht,channel:tt.message.channel,duration:0};if(v.has(tt.note.number)){const gt=v.get(tt.note.number);gt.end===void 0&&(gt.end=ht)}i(8,E=[...E,pt]),v.set(tt.note.number,pt),R()},O=tt=>{if(v.has(tt.note.number)){const ht=v.get(tt.note.number),pt=(tt.timestamp-y)/1e3;ht.end=pt,ht.duration=ht.end-ht.time}R()},S=tt=>{const ht=La(tt.rawValue*2,20,250);i(5,m=ht),R()},R=()=>{const tt=E.slice(-m),ht=1;i(4,d.textContent="",d);const pt=Bn({width:u,height:250,marginLeft:45,marginRight:10,marginBottom:50,padding:0,x:{axis:!1},y:{axis:p,domain:[0,ht],label:"duration in seconds",labelAnchor:"center"},color:{domain:Ei(-1,7),range:s.colors,legend:!0,tickFormat:ft=>ft===-1?"non-scale":a[ft],width:500,marginLeft:u/2-250},marks:[H9([0],{stroke:"#ddd"}),Kd(tt,{x:(ft,St)=>St,y:ft=>p&&ft.duration>0?ft.duration:ht,fill:ft=>a.indexOf(ft.name),stroke:ft=>a.indexOf(ft.name),fillOpacity:ft=>p&&ft.duration===0?0:1,inset:1.5,rx:4}),Ta(tt,{x:(ft,St)=>St,y:0,text:ft=>ft.name.split("").join(`
`),fontSize:12,dy:16})]});d.appendChild(pt);const gt=dp(E,A).slice(-m).map(ft=>ft.sort((St,Mt)=>St.number-Mt.number)),Tt=gt.map(ft=>Nf.detect(ft.map(St=>St.name))),vt=gt.flatMap((ft,St)=>ft.map((Mt,Pt)=>({...Mt,chordIndex:St,noteIndex:Pt}))),Ot=Bn({width:u,height:300,marginLeft:30,marginRight:50,marginBottom:120,padding:0,x:{axis:!1},y:{ticks:[],label:"chord notes sorted by pitch",labelAnchor:"center"},color:{domain:Ei(-1,7),range:s.colors},marks:[H9([0],{stroke:"#ddd"}),Ll(vt,{y1:ft=>ft.noteIndex,y2:ft=>ft.noteIndex+1,x:"chordIndex",fill:ft=>a.indexOf(ft.name),stroke:ft=>a.indexOf(ft.name),offset:"normalize",rx:4,inset:1.5}),Ta(vt,{x:"chordIndex",y:"noteIndex",text:ft=>ft.name.split("").join(`
`),fontSize:10,fill:"black",stroke:"#eee",strokeWidth:2,dy:-12}),Ta(Tt,{x:(ft,St)=>St,y:0,text:ft=>ft.join("   "),fontSize:10,dy:8,rotate:45,textAnchor:"start"})]});d.appendChild(Ot)};c9(R);const I=()=>({root:f,scaleType:M,pastNoteCount:m,showDuration:p,notes:E}),P=tt=>{L(),i(1,f=tt.root),i(2,M=tt.scaleType),i(5,m=tt.pastNoteCount),i(7,p=tt.showDuration),i(8,E=tt.notes),R()},L=()=>{E.length>0&&JSON.stringify(E)!==JSON.stringify(o4.notes)&&da(l.id,I())};r9(L);function k(tt){f=tt,i(1,f)}function N(tt){M=tt,i(2,M)}function $(tt){A=tt,i(6,A)}function H(tt){m=tt,i(5,m)}function U(tt){p=tt,i(7,p)}function W(tt){w=tt,i(3,w)}const J=(tt,ht)=>{i(10,s.colors[tt+1]=ht.target.value,s),i(10,s={...s,colors:[...s.colors]}),R()};function Q(tt){Me[tt?"unshift":"push"](()=>{d=tt,i(4,d)})}const G=()=>{i(9,v=new Map),R()};function z(tt){E=tt,i(8,E)}const j=()=>P(o4);function nt(tt){E=tt,i(8,E)}return t.$$set=tt=>{"appInfo"in tt&&i(0,l=tt.appInfo)},t.$$.update=()=>{t.$$.dirty[0]&6&&(a=sr.get(`${f} ${M}`).notes.map(tt=>c[kl.get(tt)])),t.$$.dirty[0]&4&&i(11,r=[...(M==="major"?Uot:$ot).values()]),t.$$.dirty[0]&8&&i(10,s=x[w])},[l,f,M,w,d,m,A,p,E,v,s,r,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt]}class Vmt extends Ki{constructor(e){super(),Wi(this,e,Hmt,Gmt,ji,{appInfo:0},null,[-1,-1])}}const Yr=[{id:"accents",title:"Accents",description:"Practice accenting notes by playing them louder",input:"MIDI",instruments:["drum","guitar/bass","keyboard"],data:["order","ioi","dynamics"],skills:["accents"],patterns:["duration/ioi as symbol","dynamics as font-size","time is linear","time encoded non-linearly","update after note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:nst},{id:"chord-arpeggio-timing",title:"Chord and Arpeggio Timing",description:"See how spaced out the notes in a chord or arpeggio are, and how much time lies between these",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","onset/time","ioi","pitch"],skills:["chord-timing","arpeggio-timing"],patterns:["onset as tick","compressed pitches","chord detection","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:Ast},{id:"chord-diagrams",title:"Chord Diagrams",description:"See what chords you play on a guitar/bass as chord diagrams",input:"MIDI",instruments:["guitar/bass"],data:["order","onset/time","pitch","dynamics","instrument"],skills:["chord-notes"],patterns:["instrument layout","chord detection","time is linear","time is collapsed","update on note"],timeScale:["a few notes"],difficulty:["beginner","intermediate","advanced"],component:Ist},{id:"dynamics",title:"Dynamics",description:"Practice controlling the loudness of notes",input:"MIDI",instruments:["drum","guitar/bass","keyboard"],data:["order","dynamics"],skills:["constant-dynamics","(de)crescendo","accents"],patterns:["dynamics as bar","baselines as grid","time is linear","time encoded linearly","update on note","musical units"],timeScale:["a few notes","a few bars"],difficulty:["beginner","intermediate","advanced"],component:Ect},{id:"duration-pies",title:"Duration Pies",description:"Practice holding notes for different durations",input:"MIDI",instruments:["guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["duration"],patterns:["duration as bar","duration as pie","baselines as angle","time is circular","time encoded circular","time encoded linearly","update on note","musical units"],timeScale:["a single note","a few notes"],difficulty:["beginner"],component:wmt},{id:"fretboard-heatmap",title:"Fretboard Heatmap",description:"Learn improvising with a scale at different fretboard positions",input:"MIDI",instruments:["guitar/bass"],data:["instrument","pitch"],skills:["instrument-layout","scale-notes"],patterns:["distribution as heatmap","instrument layout","time is collapsed","update on note"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:Fct},{id:"fretboard-improvisation-intervals",title:"Fretboard Improvisation Intervals",description:"Learn jumping through a scale in intervals of different size",input:"MIDI",instruments:["guitar/bass"],data:["order","pitch","instrument","pitch-interval"],skills:["instrument-layout","pitch-intervals"],patterns:["instrument layout","time is instant","update on note"],timeScale:["a few notes"],difficulty:["advanced"],component:Wct},{id:"fretboard-jitter",title:"Fretboard Jitter",description:"See how you play across different fretboard positions over time",input:"MIDI",instruments:["guitar/bass"],data:["order","instrument"],skills:["instrument-layout"],patterns:["distribution as jitter","instrument layout","time is linear","time encoded non-linearly","update on note"],timeScale:["a full song"],difficulty:["intermediate","advanced"],component:aut},{id:"fretboard-spacetime-cube",title:"Fretboard Spacetime Cube",description:"See how you play across different fretboard positions over time (in 3D)",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","instrument"],skills:["instrument-layout"],patterns:["spacetime cube","instrument layout","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:mut},{id:"improvisation-intervals",title:"Improvisation Intervals",description:"See how often you use different intervals in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","pitch","pitch-interval"],skills:["pitch-intervals"],patterns:["distribution as histogram","time is collapsed","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:_ut},{id:"improvisation-note-colors",title:"Improvisation Note Colors",description:"See how often you use different kinds of notes in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","duration/ioi as bar","time is linear","time encoded non-linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:Qut},{id:"improvisation-note-colors2",title:"Improvisation Note Colors 2",description:"See how often you use different kinds of notes in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","duration/ioi as bar","time is linear","time encoded non-linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:Vmt},{id:"improvisation-scale-degrees",title:"Improvisation Scale Degrees",description:"See how often you use different scale degrees in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["pitch"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","distribution as histogram","time is collapsed","update on note"],timeScale:["a few bars","a full song"],difficulty:["advanced"],component:sdt},{id:"improvisation-scale-degrees-bar",title:"Improvisation Scale Degrees (Bar)",description:"See how often you use different scale degrees in improvisation, for each played bar",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["pitch","onset/time"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","distribution as histogram","facets","time segments","time is linear","time is collapsed","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:wdt},{id:"keyboard-histogram",title:"Keyboard Histogram",description:"See how often you play different keyboard keys and if they belong to a chosen scale",input:"MIDI",instruments:["keyboard"],data:["pitch","instrument"],skills:["instrument-layout","scale-notes"],patterns:["distribution as histogram","instrument layout","time is collapsed","update on note","instrument as color"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:Fdt},{id:"pitch-bend-audio",title:"Pitch Bend",description:"Practice pitch bends and vibratos",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","bending","vibrato","on-pitch"],patterns:["pitch as line","baselines as grid","time is linear","time encoded linearly","update real-time"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:tht},{id:"pitch-offset-cents",title:"Pitch Offset",description:"See how well you are on pitch over time",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","bending","vibrato","on-pitch"],patterns:["pitch as line","baselines as grid","explicit difference","difference as color","time is linear","time encoded linearly","update real-time","dual encoding"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:Mht},{id:"pitch-offset-cents-needle",title:"Pitch Offset (Tuner)",description:"See how well you are on pitch at a moment",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","on-pitch"],patterns:["pitch as angle","baselines as grid","explicit difference","time is instant","update real-time"],timeScale:["a single note"],difficulty:["intermediate","advanced"],component:fmt},{id:"rhythm-sheet-music",title:"Rhythm Sheet Music",description:"Practice note timing and get feedback as staff notation and offset in percent",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["sub-division","tempo-keeping"],patterns:["duration/ioi as symbol","time is linear","time encoded non-linearly","update after note"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:kht},{id:"speed-up",title:"Speed-Up",description:"Record/choose a short exercise then practice it with steadily increasing tempo",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time","exercise"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["phrase repetition","facets","increasing difficulty","comparison between takes","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:bft},{id:"speed-up-tab",title:"Speed-Up Tab",description:"Record/choose a short guitar exercise then practice it with steadily increasing tempo",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","exercise","instrument"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["phrase repetition","facets","increasing difficulty","comparison between takes","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:Rft},{id:"sub-division",title:"Sub-Division (Circular)",description:"Practice rhythmic playing in different sub-divisions",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded circular","baselines as grid","distribution as histogram","distribution as density","target areas","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:C1t},{id:"sub-division-drums",title:"Sub-Division (Drums)",description:"Practice rhythmic playing in different sub-divisions, separated by drum",input:"MIDI",instruments:["drum","pc-key"],data:["onset/time","instrument"],skills:["sub-division","timing-consistency","synchronized-body-parts","swing-feel"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","facets","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:Y2t},{id:"sub-division-linear",title:"Sub-Division (Linear)",description:"Practice rhythmic playing in different sub-divisions",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:P1t},{id:"sub-division-history",title:"Sub-Division (History)",description:"Practice rhythmic playing in different sub-divisions, compared to previous recordings",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded circular","baselines as grid","distribution as histogram","distribution as density","facets","comparison between takes","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:lmt},{id:"strumming-pattern",title:"Strumming Pattern",description:"Practice up/down strumming patterns on guitar",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","instrument"],skills:["strumming-direction","strumming-strings"],patterns:["direction as arrow","direction as color","chord detection","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:Qft},{id:"tempo-drift",title:"Tempo Drift",description:"Practice keeping your tempo constant over a longer stretch of playing",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["tempo-keeping"],patterns:["duration/ioi as bar","baselines as grid","time is linear","time encoded non-linearly","update on note"],timeScale:["a full song"],difficulty:["beginner","intermediate","advanced"],component:e2t},{id:"tempo-change",title:"Tempo Change",description:"Practice changing the tempo as intended",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["tempo-changing","tempo-keeping"],patterns:["baselines as grid","time is linear","time encoded linearly","update real-time"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:Nmt},{id:"two-handed-timing",title:"Two-Handed Timing",description:"Practice playing sub-divisions with a different rhythm for each hand",input:"MIDI",instruments:["keyboard","drum","pc-key"],data:["onset/time","instrument"],skills:["sub-division","timing-consistency","syncopation","synchronized-timing","synchronized-body-parts"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","facets","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:T2t}];new Map(Yr.map(t=>[t.id,t]));function hw(t){let e;const i=t[3].default,a=a1(i,t,t[2],null);return{c(){a&&a.c()},m(r,s){a&&a.m(r,s),e=!0},p(r,s){a&&a.p&&(!e||s&4)&&o1(a,i,r,r[2],e?r1(i,r[2],s,null):s1(r[2]),null)},i(r){e||(Rt(a,r),e=!0)},o(r){Dt(a,r),e=!1},d(r){a&&a.d(r)}}}function Qmt(t){let e,i,a,r,s,l,u,d,c=t[1]&&hw(t);return{c(){e=K("main"),i=K("button"),a=K("h3"),r=oe(t[0]),s=q(),c&&c.c(),dt(a,"class","svelte-10c9d6o"),dt(i,"class","svelte-10c9d6o")},m(f,M){Ct(f,e,M),B(e,i),B(i,a),B(a,r),B(e,s),c&&c.m(e,null),l=!0,u||(d=Ue(i,"click",t[4]),u=!0)},p(f,[M]){(!l||M&1)&&Ge(r,f[0]),f[1]?c?(c.p(f,M),M&2&&Rt(c,1)):(c=hw(f),c.c(),Rt(c,1),c.m(e,null)):c&&(so(),Dt(c,1,1,()=>{c=null}),lo())},i(f){l||(Rt(c),l=!0)},o(f){Dt(c),l=!1},d(f){f&&bt(e),c&&c.d(),u=!1,d()}}}function zmt(t,e,i){let{$$slots:a={},$$scope:r}=e,{heading:s=""}=e,l=!1;const u=()=>i(1,l=!l);return t.$$set=d=>{"heading"in d&&i(0,s=d.heading),"$$scope"in d&&i(2,r=d.$$scope)},[s,l,r,a,u]}class S0 extends Ki{constructor(e){super(),Wi(this,e,zmt,Qmt,ji,{heading:0})}}function Jmt(t,e,i){const a=t.slice();return a[22]=e[i],a}function jmt(t,e,i){const a=t.slice();return a[22]=e[i],a}function fw(t,e,i){const a=t.slice();return a[27]=e[i],a}function Wmt(t,e,i){const a=t.slice();return a[30]=e[i],a}function Kmt(t,e,i){const a=t.slice();return a[33]=e[i],a}function Xmt(t,e,i){const a=t.slice();return a[36]=e[i],a}function Ymt(t,e,i){const a=t.slice();return a[30]=e[i],a[40]=i,a}function mw(t,e,i){const a=t.slice();return a[41]=e[i],a}function pw(t,e,i){const a=t.slice();return a[22]=e[i],a}function gw(t,e,i){const a=t.slice();return a[41]=e[i],a}function qmt(t,e,i){const a=t.slice();return a[22]=e[i],a}function Mw(t,e,i){const a=t.slice();return a[41]=e[i],a}function Aw(t,e,i){const a=t.slice();return a[22]=e[i],a}function yw(t,e,i){const a=t.slice();return a[41]=e[i],a}function vw(t,e,i){const a=t.slice();return a[22]=e[i],a}function bw(t,e,i){const a=t.slice();return a[27]=e[i],a}function Cw(t,e,i){const a=t.slice();return a[30]=e[i],a}function Ew(t,e,i){const a=t.slice();return a[22]=e[i],a}function _w(t,e,i){const a=t.slice();return a[27]=e[i],a}function ww(t,e,i){const a=t.slice();return a[30]=e[i],a}function Zmt(t,e,i){const a=t.slice();return a[27]=e[i],a}function t3t(t,e,i){const a=t.slice();return a[30]=e[i],a}function e3t(t,e,i){const a=t.slice();return a[27]=e[i],a[40]=i,a}function Ow(t,e,i){const a=t.slice();return a[41]=e[i],a}function xw(t,e,i){const a=t.slice();return a[41]=e[i],a}function Sw(t,e,i){const a=t.slice();return a[41]=e[i],a}function Tw(t,e,i){const a=t.slice();return a[22]=e[i],a}function Iw(t,e,i){const a=t.slice();return a[41]=e[i],a}function Bw(t,e,i){const a=t.slice();return a[41]=e[i],a}function Rw(t,e,i){const a=t.slice();return a[41]=e[i],a}function Dw(t,e,i){const a=t.slice();return a[22]=e[i],a}function Pw(t,e,i){const a=t.slice();return a[22]=e[i],a}function Lw(t,e,i){const a=t.slice();return a[41]=e[i],a}function kw(t){let e;return{c(){e=K("th"),e.textContent=`${t[41]}`,dt(e,"class","small svelte-lpe55a")},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Nw(t){let e,i=t[22]+"",a;return{c(){e=K("th"),a=oe(i),dt(e,"class","small svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&2&&i!==(i=r[22]+"")&&Ge(a,i)},d(r){r&&bt(e)}}}function Fw(t){let e;return{c(){e=K("th"),e.textContent=`${t[22]}`,dt(e,"class","small svelte-lpe55a")},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function Uw(t){let e,i=t[22].instruments.includes(t[41])?"":"",a;return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&1&&i!==(i=r[22].instruments.includes(r[41])?"":"")&&Ge(a,i)},d(r){r&&bt(e)}}}function $w(t){let e,i=t[22].data.includes(t[41])?"":"",a;return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&3&&i!==(i=r[22].data.includes(r[41])?"":"")&&Ge(a,i)},d(r){r&&bt(e)}}}function Gw(t){let e,i=t[22].timeScale.includes(t[41])?"":"",a;return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&1&&i!==(i=r[22].timeScale.includes(r[41])?"":"")&&Ge(a,i)},d(r){r&&bt(e)}}}function Hw(t){let e,i,a=t[22].title+"",r,s,l,u=t[22].input==="MIDI"?"":"",d,c,f,M=t[22].input==="audio"?"":"",m,A,p,y,E,v,w,x,b,O,S,R=$e([...t[6]]),I=[];for(let $=0;$<R.length;$+=1)I[$]=Uw(Rw(t,R,$));let P=$e([...t[1]]),L=[];for(let $=0;$<P.length;$+=1)L[$]=$w(Bw(t,P,$));let k=$e(t[7]),N=[];for(let $=0;$<k.length;$+=1)N[$]=Gw(Iw(t,k,$));return{c(){e=K("tr"),i=K("td"),r=oe(a),s=q(),l=K("td"),d=oe(u),c=q(),f=K("td"),m=oe(M),A=q(),p=K("td"),y=q();for(let $=0;$<I.length;$+=1)I[$].c();E=q(),v=K("td"),w=q();for(let $=0;$<L.length;$+=1)L[$].c();x=q(),b=K("td"),O=q();for(let $=0;$<N.length;$+=1)N[$].c();S=q(),gn(i,"text-align","right"),dt(i,"class","svelte-lpe55a"),dt(l,"class","svelte-lpe55a"),dt(f,"class","svelte-lpe55a"),dt(p,"class","spacer svelte-lpe55a"),dt(v,"class","spacer svelte-lpe55a"),dt(b,"class","spacer svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m($,H){Ct($,e,H),B(e,i),B(i,r),B(e,s),B(e,l),B(l,d),B(e,c),B(e,f),B(f,m),B(e,A),B(e,p),B(e,y);for(let U=0;U<I.length;U+=1)I[U]&&I[U].m(e,null);B(e,E),B(e,v),B(e,w);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(e,null);B(e,x),B(e,b),B(e,O);for(let U=0;U<N.length;U+=1)N[U]&&N[U].m(e,null);B(e,S)},p($,H){if(H[0]&1&&a!==(a=$[22].title+"")&&Ge(r,a),H[0]&1&&u!==(u=$[22].input==="MIDI"?"":"")&&Ge(d,u),H[0]&1&&M!==(M=$[22].input==="audio"?"":"")&&Ge(m,M),H[0]&65){R=$e([...$[6]]);let U;for(U=0;U<R.length;U+=1){const W=Rw($,R,U);I[U]?I[U].p(W,H):(I[U]=Uw(W),I[U].c(),I[U].m(e,E))}for(;U<I.length;U+=1)I[U].d(1);I.length=R.length}if(H[0]&3){P=$e([...$[1]]);let U;for(U=0;U<P.length;U+=1){const W=Bw($,P,U);L[U]?L[U].p(W,H):(L[U]=$w(W),L[U].c(),L[U].m(e,x))}for(;U<L.length;U+=1)L[U].d(1);L.length=P.length}if(H[0]&129){k=$e($[7]);let U;for(U=0;U<k.length;U+=1){const W=Iw($,k,U);N[U]?N[U].p(W,H):(N[U]=Gw(W),N[U].c(),N[U].m(e,S))}for(;U<N.length;U+=1)N[U].d(1);N.length=k.length}},d($){$&&bt(e),xi(I,$),xi(L,$),xi(N,$)}}}function Vw(t){let e,i=t[0].filter(r).length+"",a;function r(...s){return t[9](t[41],...s)}return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){t=s,l[0]&1&&i!==(i=t[0].filter(r).length+"")&&Ge(a,i)},d(s){s&&bt(e)}}}function Qw(t){let e,i=t[0].filter(r).length+"",a;function r(...s){return t[10](t[41],...s)}return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){t=s,l[0]&3&&i!==(i=t[0].filter(r).length+"")&&Ge(a,i)},d(s){s&&bt(e)}}}function zw(t){let e,i=t[0].filter(r).length+"",a;function r(...s){return t[11](t[41],...s)}return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){t=s,l[0]&1&&i!==(i=t[0].filter(r).length+"")&&Ge(a,i)},d(s){s&&bt(e)}}}function i3t(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt,Vt,ie,jt,Wt,me,Yt,pe,Qe=t[0].length+"",ni,ei,Ci,ai=t[0].filter(rO).length+"",ti,be,ye,ne=t[0].filter(oO).length+"",Et,yt,Ht,wt,xt,Qt,ut,X,Z,_t,Gt=$e([...t[6]]),Zt=[];for(let Ke=0;Ke<Gt.length;Ke+=1)Zt[Ke]=kw(Lw(t,Gt,Ke));let ue=$e([...t[1]]),ve=[];for(let Ke=0;Ke<ue.length;Ke+=1)ve[Ke]=Nw(Pw(t,ue,Ke));let Fe=$e(t[7]),Je=[];for(let Ke=0;Ke<Fe.length;Ke+=1)Je[Ke]=Fw(Dw(t,Fe,Ke));let ii=$e(t[0]),re=[];for(let Ke=0;Ke<ii.length;Ke+=1)re[Ke]=Hw(Tw(t,ii,Ke));let Mi=$e([...t[6]]),Pe=[];for(let Ke=0;Ke<Mi.length;Ke+=1)Pe[Ke]=Vw(Sw(t,Mi,Ke));let ke=$e([...t[1]]),we=[];for(let Ke=0;Ke<ke.length;Ke+=1)we[Ke]=Qw(xw(t,ke,Ke));let Ii=$e(t[7]),wn=[];for(let Ke=0;Ke<Ii.length;Ke+=1)wn[Ke]=zw(Ow(t,Ii,Ke));return{c(){e=K("table"),i=K("thead"),a=K("tr"),r=K("th"),r.textContent="app",s=q(),l=K("th"),l.textContent="input",u=q(),d=K("th"),c=q(),f=K("th"),M=oe("instrument"),m=q(),A=K("th"),p=q(),y=K("th"),E=oe("data"),w=q(),x=K("th"),b=q(),O=K("th"),S=oe("time scale"),R=q(),I=K("thead"),P=K("tr"),L=K("th"),k=q(),N=K("th"),N.textContent="MIDI",$=q(),H=K("th"),H.textContent="audio",U=q(),W=K("th"),J=q();for(let Ke=0;Ke<Zt.length;Ke+=1)Zt[Ke].c();Q=q(),G=K("th"),z=q();for(let Ke=0;Ke<ve.length;Ke+=1)ve[Ke].c();j=q(),nt=K("th"),tt=q();for(let Ke=0;Ke<Je.length;Ke+=1)Je[Ke].c();ht=q(),pt=K("thead"),gt=K("tr"),Tt=K("th"),vt=q(),Ot=K("th"),ft=q(),St=K("th"),Mt=q(),Pt=K("th"),Vt=q(),ie=K("th"),jt=q(),Wt=K("tbody");for(let Ke=0;Ke<re.length;Ke+=1)re[Ke].c();me=q(),Yt=K("tr"),pe=K("td"),ni=oe(Qe),ei=q(),Ci=K("td"),ti=oe(ai),be=q(),ye=K("td"),Et=oe(ne),yt=q(),Ht=K("td"),wt=q();for(let Ke=0;Ke<Pe.length;Ke+=1)Pe[Ke].c();xt=q(),Qt=K("td"),ut=q();for(let Ke=0;Ke<we.length;Ke+=1)we[Ke].c();X=q(),Z=K("td"),_t=q();for(let Ke=0;Ke<wn.length;Ke+=1)wn[Ke].c();gn(r,"min-width","270px"),dt(l,"colspan","2"),gn(l,"border-bottom","4px solid "+Z0[0]),dt(d,"class","spacer svelte-lpe55a"),dt(f,"colspan",t[6].size),gn(f,"border-bottom","4px solid "+Z0[1]),dt(A,"class","spacer svelte-lpe55a"),dt(y,"colspan",v=t[1].size),gn(y,"border-bottom","4px solid "+Z0[2]),dt(x,"class","spacer svelte-lpe55a"),dt(O,"colspan",t[7].length),gn(O,"border-bottom","4px solid "+Z0[3]),dt(a,"class","svelte-lpe55a"),dt(N,"class","small svelte-lpe55a"),dt(H,"class","small svelte-lpe55a"),dt(W,"class","spacer svelte-lpe55a"),dt(G,"class","spacer svelte-lpe55a"),dt(nt,"class","spacer svelte-lpe55a"),dt(P,"class","svelte-lpe55a"),dt(Ot,"colspan","2"),dt(St,"colspan",t[6].size),dt(Pt,"colspan",t[6].size),dt(ie,"colspan",t[7].length),dt(gt,"class","svelte-lpe55a"),dt(pe,"class","svelte-lpe55a"),dt(Ci,"class","svelte-lpe55a"),dt(ye,"class","svelte-lpe55a"),dt(Ht,"class","spacer svelte-lpe55a"),dt(Qt,"class","spacer svelte-lpe55a"),dt(Z,"class","spacer svelte-lpe55a"),dt(Yt,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m(Ke,yn){Ct(Ke,e,yn),B(e,i),B(i,a),B(a,r),B(a,s),B(a,l),B(a,u),B(a,d),B(a,c),B(a,f),B(f,M),B(a,m),B(a,A),B(a,p),B(a,y),B(y,E),B(a,w),B(a,x),B(a,b),B(a,O),B(O,S),B(e,R),B(e,I),B(I,P),B(P,L),B(P,k),B(P,N),B(P,$),B(P,H),B(P,U),B(P,W),B(P,J);for(let Be=0;Be<Zt.length;Be+=1)Zt[Be]&&Zt[Be].m(P,null);B(P,Q),B(P,G),B(P,z);for(let Be=0;Be<ve.length;Be+=1)ve[Be]&&ve[Be].m(P,null);B(P,j),B(P,nt),B(P,tt);for(let Be=0;Be<Je.length;Be+=1)Je[Be]&&Je[Be].m(P,null);B(e,ht),B(e,pt),B(pt,gt),B(gt,Tt),B(gt,vt),B(gt,Ot),B(gt,ft),B(gt,St),B(gt,Mt),B(gt,Pt),B(gt,Vt),B(gt,ie),B(e,jt),B(e,Wt);for(let Be=0;Be<re.length;Be+=1)re[Be]&&re[Be].m(Wt,null);B(Wt,me),B(Wt,Yt),B(Yt,pe),B(pe,ni),B(Yt,ei),B(Yt,Ci),B(Ci,ti),B(Yt,be),B(Yt,ye),B(ye,Et),B(Yt,yt),B(Yt,Ht),B(Yt,wt);for(let Be=0;Be<Pe.length;Be+=1)Pe[Be]&&Pe[Be].m(Yt,null);B(Yt,xt),B(Yt,Qt),B(Yt,ut);for(let Be=0;Be<we.length;Be+=1)we[Be]&&we[Be].m(Yt,null);B(Yt,X),B(Yt,Z),B(Yt,_t);for(let Be=0;Be<wn.length;Be+=1)wn[Be]&&wn[Be].m(Yt,null)},p(Ke,yn){if(yn[0]&2&&v!==(v=Ke[1].size)&&dt(y,"colspan",v),yn[0]&64){Gt=$e([...Ke[6]]);let Be;for(Be=0;Be<Gt.length;Be+=1){const En=Lw(Ke,Gt,Be);Zt[Be]?Zt[Be].p(En,yn):(Zt[Be]=kw(En),Zt[Be].c(),Zt[Be].m(P,Q))}for(;Be<Zt.length;Be+=1)Zt[Be].d(1);Zt.length=Gt.length}if(yn[0]&2){ue=$e([...Ke[1]]);let Be;for(Be=0;Be<ue.length;Be+=1){const En=Pw(Ke,ue,Be);ve[Be]?ve[Be].p(En,yn):(ve[Be]=Nw(En),ve[Be].c(),ve[Be].m(P,j))}for(;Be<ve.length;Be+=1)ve[Be].d(1);ve.length=ue.length}if(yn[0]&128){Fe=$e(Ke[7]);let Be;for(Be=0;Be<Fe.length;Be+=1){const En=Dw(Ke,Fe,Be);Je[Be]?Je[Be].p(En,yn):(Je[Be]=Fw(En),Je[Be].c(),Je[Be].m(P,null))}for(;Be<Je.length;Be+=1)Je[Be].d(1);Je.length=Fe.length}if(yn[0]&195){ii=$e(Ke[0]);let Be;for(Be=0;Be<ii.length;Be+=1){const En=Tw(Ke,ii,Be);re[Be]?re[Be].p(En,yn):(re[Be]=Hw(En),re[Be].c(),re[Be].m(Wt,me))}for(;Be<re.length;Be+=1)re[Be].d(1);re.length=ii.length}if(yn[0]&1&&Qe!==(Qe=Ke[0].length+"")&&Ge(ni,Qe),yn[0]&1&&ai!==(ai=Ke[0].filter(rO).length+"")&&Ge(ti,ai),yn[0]&1&&ne!==(ne=Ke[0].filter(oO).length+"")&&Ge(Et,ne),yn[0]&65){Mi=$e([...Ke[6]]);let Be;for(Be=0;Be<Mi.length;Be+=1){const En=Sw(Ke,Mi,Be);Pe[Be]?Pe[Be].p(En,yn):(Pe[Be]=Vw(En),Pe[Be].c(),Pe[Be].m(Yt,xt))}for(;Be<Pe.length;Be+=1)Pe[Be].d(1);Pe.length=Mi.length}if(yn[0]&3){ke=$e([...Ke[1]]);let Be;for(Be=0;Be<ke.length;Be+=1){const En=xw(Ke,ke,Be);we[Be]?we[Be].p(En,yn):(we[Be]=Qw(En),we[Be].c(),we[Be].m(Yt,X))}for(;Be<we.length;Be+=1)we[Be].d(1);we.length=ke.length}if(yn[0]&129){Ii=$e(Ke[7]);let Be;for(Be=0;Be<Ii.length;Be+=1){const En=Ow(Ke,Ii,Be);wn[Be]?wn[Be].p(En,yn):(wn[Be]=zw(En),wn[Be].c(),wn[Be].m(Yt,null))}for(;Be<wn.length;Be+=1)wn[Be].d(1);wn.length=Ii.length}},d(Ke){Ke&&bt(e),xi(Zt,Ke),xi(ve,Ke),xi(Je,Ke),xi(re,Ke),xi(Pe,Ke),xi(we,Ke),xi(wn,Ke)}}}function n3t(t){let e,i,a;return{c(){e=K("th"),e.textContent=`${t[27].title}`,i=q(),a=K("th"),dt(e,"colspan",t[27].children.length),gn(e,"border-bottom","4px solid "+Z0[t[40]]),dt(a,"class","spacer svelte-lpe55a")},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function a3t(t){let e;return{c(){e=K("th"),e.textContent=`${t[30].title}`,dt(e,"class","small svelte-lpe55a")},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function r3t(t){let e,i,a=$e(t[27].children),r=[];for(let s=0;s<a.length;s+=1)r[s]=a3t(t3t(t,a,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=q(),i=K("th"),dt(i,"class","spacer svelte-lpe55a")},m(s,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,l);Ct(s,e,l),Ct(s,i,l)},p:Ne,d(s){s&&(bt(e),bt(i)),xi(r,s)}}}function Jw(t){let e,i=t[22].skills.includes(t[30].id)?"":"",a;return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&1&&i!==(i=r[22].skills.includes(r[30].id)?"":"")&&Ge(a,i)},d(r){r&&bt(e)}}}function jw(t){let e,i,a=$e(t[27].children),r=[];for(let s=0;s<a.length;s+=1)r[s]=Jw(ww(t,a,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=q(),i=K("th"),dt(i,"class","spacer svelte-lpe55a")},m(s,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,l);Ct(s,e,l),Ct(s,i,l)},p(s,l){if(l[0]&1){a=$e(s[27].children);let u;for(u=0;u<a.length;u+=1){const d=ww(s,a,u);r[u]?r[u].p(d,l):(r[u]=Jw(d),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}},d(s){s&&(bt(e),bt(i)),xi(r,s)}}}function Ww(t){let e,i,a=t[22].title+"",r,s,l,u,d=t[22].skills.length+"",c,f,M=$e(P0),m=[];for(let A=0;A<M.length;A+=1)m[A]=jw(_w(t,M,A));return{c(){e=K("tr"),i=K("td"),r=oe(a),s=q();for(let A=0;A<m.length;A+=1)m[A].c();l=q(),u=K("td"),c=oe(d),f=q(),gn(i,"text-align","right"),dt(i,"class","svelte-lpe55a"),dt(u,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m(A,p){Ct(A,e,p),B(e,i),B(i,r),B(e,s);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(e,null);B(e,l),B(e,u),B(u,c),B(e,f)},p(A,p){if(p[0]&1&&a!==(a=A[22].title+"")&&Ge(r,a),p[0]&1){M=$e(P0);let y;for(y=0;y<M.length;y+=1){const E=_w(A,M,y);m[y]?m[y].p(E,p):(m[y]=jw(E),m[y].c(),m[y].m(e,l))}for(;y<m.length;y+=1)m[y].d(1);m.length=M.length}p[0]&1&&d!==(d=A[22].skills.length+"")&&Ge(c,d)},d(A){A&&bt(e),xi(m,A)}}}function Kw(t){let e,i=t[0].filter(r).length+"",a;function r(...s){return t[12](t[30],...s)}return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){t=s,l[0]&1&&i!==(i=t[0].filter(r).length+"")&&Ge(a,i)},d(s){s&&bt(e)}}}function Xw(t){let e,i,a=$e(t[27].children),r=[];for(let s=0;s<a.length;s+=1)r[s]=Kw(Cw(t,a,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=q(),i=K("td"),dt(i,"class","spacer svelte-lpe55a")},m(s,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,l);Ct(s,e,l),Ct(s,i,l)},p(s,l){if(l[0]&1){a=$e(s[27].children);let u;for(u=0;u<a.length;u+=1){const d=Cw(s,a,u);r[u]?r[u].p(d,l):(r[u]=Kw(d),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}},d(s){s&&(bt(e),bt(i)),xi(r,s)}}}function o3t(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E=t[0].length+"",v,w,x,b,O=$e(P0),S=[];for(let $=0;$<O.length;$+=1)S[$]=n3t(e3t(t,O,$));let R=$e(P0),I=[];for(let $=0;$<R.length;$+=1)I[$]=r3t(Zmt(t,R,$));let P=$e(t[0]),L=[];for(let $=0;$<P.length;$+=1)L[$]=Ww(Ew(t,P,$));let k=$e(P0),N=[];for(let $=0;$<k.length;$+=1)N[$]=Xw(bw(t,k,$));return{c(){e=K("table"),i=K("thead"),a=K("tr"),r=K("th"),r.textContent="app",s=q();for(let $=0;$<S.length;$+=1)S[$].c();l=q(),u=K("thead"),d=K("tr"),c=K("th"),f=q();for(let $=0;$<I.length;$+=1)I[$].c();M=q(),m=K("tbody");for(let $=0;$<L.length;$+=1)L[$].c();A=q(),p=K("tr"),y=K("td"),v=oe(E),w=q();for(let $=0;$<N.length;$+=1)N[$].c();x=q(),b=K("td"),gn(r,"min-width","270px"),dt(a,"class","svelte-lpe55a"),dt(d,"class","svelte-lpe55a"),dt(y,"class","svelte-lpe55a"),dt(b,"class","svelte-lpe55a"),dt(p,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m($,H){Ct($,e,H),B(e,i),B(i,a),B(a,r),B(a,s);for(let U=0;U<S.length;U+=1)S[U]&&S[U].m(a,null);B(e,l),B(e,u),B(u,d),B(d,c),B(d,f);for(let U=0;U<I.length;U+=1)I[U]&&I[U].m(d,null);B(e,M),B(e,m);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(m,null);B(m,A),B(m,p),B(p,y),B(y,v),B(p,w);for(let U=0;U<N.length;U+=1)N[U]&&N[U].m(p,null);B(p,x),B(p,b)},p($,H){if(H[0]&1){P=$e($[0]);let U;for(U=0;U<P.length;U+=1){const W=Ew($,P,U);L[U]?L[U].p(W,H):(L[U]=Ww(W),L[U].c(),L[U].m(m,A))}for(;U<L.length;U+=1)L[U].d(1);L.length=P.length}if(H[0]&1&&E!==(E=$[0].length+"")&&Ge(v,E),H[0]&1){k=$e(P0);let U;for(U=0;U<k.length;U+=1){const W=bw($,k,U);N[U]?N[U].p(W,H):(N[U]=Xw(W),N[U].c(),N[U].m(p,x))}for(;U<N.length;U+=1)N[U].d(1);N.length=k.length}},d($){$&&bt(e),xi(S,$),xi(I,$),xi(L,$),xi(N,$)}}}function Yw(t){let e,i=t[22]+"",a;return{c(){e=K("th"),a=oe(i),dt(e,"class","small svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&4&&i!==(i=r[22]+"")&&Ge(a,i)},d(r){r&&bt(e)}}}function qw(t){let e,i=t[22].patterns.includes(t[41])?"":"",a;return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&5&&i!==(i=r[22].patterns.includes(r[41])?"":"")&&Ge(a,i)},d(r){r&&bt(e)}}}function Zw(t){let e,i,a=t[22].title+"",r,s,l,u,d=t[22].patterns.length+"",c,f,M=$e([...t[2]]),m=[];for(let A=0;A<M.length;A+=1)m[A]=qw(yw(t,M,A));return{c(){e=K("tr"),i=K("td"),r=oe(a),s=q();for(let A=0;A<m.length;A+=1)m[A].c();l=q(),u=K("td"),c=oe(d),f=q(),gn(i,"text-align","right"),dt(i,"class","svelte-lpe55a"),dt(u,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m(A,p){Ct(A,e,p),B(e,i),B(i,r),B(e,s);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(e,null);B(e,l),B(e,u),B(u,c),B(e,f)},p(A,p){if(p[0]&1&&a!==(a=A[22].title+"")&&Ge(r,a),p[0]&5){M=$e([...A[2]]);let y;for(y=0;y<M.length;y+=1){const E=yw(A,M,y);m[y]?m[y].p(E,p):(m[y]=qw(E),m[y].c(),m[y].m(e,l))}for(;y<m.length;y+=1)m[y].d(1);m.length=M.length}p[0]&1&&d!==(d=A[22].patterns.length+"")&&Ge(c,d)},d(A){A&&bt(e),xi(m,A)}}}function tO(t){let e,i=t[0].filter(r).length+"",a;function r(...s){return t[13](t[41],...s)}return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){t=s,l[0]&5&&i!==(i=t[0].filter(r).length+"")&&Ge(a,i)},d(s){s&&bt(e)}}}function s3t(t){let e,i,a,r,s,l,u,d,c,f,M=t[0].length+"",m,A,p,y,E=$e([...t[2]]),v=[];for(let S=0;S<E.length;S+=1)v[S]=Yw(vw(t,E,S));let w=$e(t[0]),x=[];for(let S=0;S<w.length;S+=1)x[S]=Zw(Aw(t,w,S));let b=$e([...t[2]]),O=[];for(let S=0;S<b.length;S+=1)O[S]=tO(Mw(t,b,S));return{c(){e=K("table"),i=K("thead"),a=K("tr"),r=K("th"),r.textContent="app",s=q();for(let S=0;S<v.length;S+=1)v[S].c();l=q(),u=K("tbody");for(let S=0;S<x.length;S+=1)x[S].c();d=q(),c=K("tr"),f=K("td"),m=oe(M),A=q();for(let S=0;S<O.length;S+=1)O[S].c();p=q(),y=K("td"),gn(r,"min-width","270px"),dt(a,"class","svelte-lpe55a"),dt(f,"class","svelte-lpe55a"),dt(y,"class","svelte-lpe55a"),dt(c,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m(S,R){Ct(S,e,R),B(e,i),B(i,a),B(a,r),B(a,s);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(a,null);B(e,l),B(e,u);for(let I=0;I<x.length;I+=1)x[I]&&x[I].m(u,null);B(u,d),B(u,c),B(c,f),B(f,m),B(c,A);for(let I=0;I<O.length;I+=1)O[I]&&O[I].m(c,null);B(c,p),B(c,y)},p(S,R){if(R[0]&4){E=$e([...S[2]]);let I;for(I=0;I<E.length;I+=1){const P=vw(S,E,I);v[I]?v[I].p(P,R):(v[I]=Yw(P),v[I].c(),v[I].m(a,null))}for(;I<v.length;I+=1)v[I].d(1);v.length=E.length}if(R[0]&5){w=$e(S[0]);let I;for(I=0;I<w.length;I+=1){const P=Aw(S,w,I);x[I]?x[I].p(P,R):(x[I]=Zw(P),x[I].c(),x[I].m(u,d))}for(;I<x.length;I+=1)x[I].d(1);x.length=w.length}if(R[0]&1&&M!==(M=S[0].length+"")&&Ge(m,M),R[0]&5){b=$e([...S[2]]);let I;for(I=0;I<b.length;I+=1){const P=Mw(S,b,I);O[I]?O[I].p(P,R):(O[I]=tO(P),O[I].c(),O[I].m(c,p))}for(;I<O.length;I+=1)O[I].d(1);O.length=b.length}},d(S){S&&bt(e),xi(v,S),xi(x,S),xi(O,S)}}}function l3t(t){let e;return{c(){e=K("th"),e.textContent=`${t[22]}`,dt(e,"class","small svelte-lpe55a")},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function eO(t){let e,i=t[22].difficulty.includes(t[41])?"":"",a;return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(r,s){Ct(r,e,s),B(e,a)},p(r,s){s[0]&1&&i!==(i=r[22].difficulty.includes(r[41])?"":"")&&Ge(a,i)},d(r){r&&bt(e)}}}function iO(t){let e,i,a=t[22].title+"",r,s,l,u=$e(["beginner","intermediate","advanced"]),d=[];for(let c=0;c<3;c+=1)d[c]=eO(gw(t,u,c));return{c(){e=K("tr"),i=K("td"),r=oe(a),s=q();for(let c=0;c<3;c+=1)d[c].c();l=q(),gn(i,"text-align","right"),dt(i,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m(c,f){Ct(c,e,f),B(e,i),B(i,r),B(e,s);for(let M=0;M<3;M+=1)d[M]&&d[M].m(e,null);B(e,l)},p(c,f){if(f[0]&1&&a!==(a=c[22].title+"")&&Ge(r,a),f[0]&1){u=$e(["beginner","intermediate","advanced"]);let M;for(M=0;M<3;M+=1){const m=gw(c,u,M);d[M]?d[M].p(m,f):(d[M]=eO(m),d[M].c(),d[M].m(e,l))}for(;M<3;M+=1)d[M].d(1)}},d(c){c&&bt(e),xi(d,c)}}}function nO(t){let e,i=t[0].filter(r).length+"",a;function r(...s){return t[14](t[41],...s)}return{c(){e=K("td"),a=oe(i),dt(e,"class","svelte-lpe55a")},m(s,l){Ct(s,e,l),B(e,a)},p(s,l){t=s,l[0]&1&&i!==(i=t[0].filter(r).length+"")&&Ge(a,i)},d(s){s&&bt(e)}}}function c3t(t){let e,i,a,r,s,l,u,d,c,f,M=t[0].length+"",m,A,p=$e(["beginner","intermediate","advanced"]),y=[];for(let b=0;b<3;b+=1)y[b]=l3t(qmt(t,p,b));let E=$e(t[0]),v=[];for(let b=0;b<E.length;b+=1)v[b]=iO(pw(t,E,b));let w=$e(["beginner","intermediate","advanced"]),x=[];for(let b=0;b<3;b+=1)x[b]=nO(mw(t,w,b));return{c(){e=K("table"),i=K("thead"),a=K("tr"),r=K("th"),r.textContent="app",s=q();for(let b=0;b<3;b+=1)y[b].c();l=q(),u=K("tbody");for(let b=0;b<v.length;b+=1)v[b].c();d=q(),c=K("tr"),f=K("td"),m=oe(M),A=q();for(let b=0;b<3;b+=1)x[b].c();gn(r,"min-width","270px"),dt(a,"class","svelte-lpe55a"),dt(f,"class","svelte-lpe55a"),dt(c,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m(b,O){Ct(b,e,O),B(e,i),B(i,a),B(a,r),B(a,s);for(let S=0;S<3;S+=1)y[S]&&y[S].m(a,null);B(e,l),B(e,u);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(u,null);B(u,d),B(u,c),B(c,f),B(f,m),B(c,A);for(let S=0;S<3;S+=1)x[S]&&x[S].m(c,null)},p(b,O){if(O[0]&1){E=$e(b[0]);let S;for(S=0;S<E.length;S+=1){const R=pw(b,E,S);v[S]?v[S].p(R,O):(v[S]=iO(R),v[S].c(),v[S].m(u,d))}for(;S<v.length;S+=1)v[S].d(1);v.length=E.length}if(O[0]&1&&M!==(M=b[0].length+"")&&Ge(m,M),O[0]&1){w=$e(["beginner","intermediate","advanced"]);let S;for(S=0;S<3;S+=1){const R=mw(b,w,S);x[S]?x[S].p(R,O):(x[S]=nO(R),x[S].c(),x[S].m(c,null))}for(;S<3;S+=1)x[S].d(1)}},d(b){b&&bt(e),xi(y,b),xi(v,b),xi(x,b)}}}function u3t(t){let e,i,a,r,s,l;return{c(){e=K("tr"),i=K("td"),i.textContent=`${t[40]===0?t[36].title:""}`,a=q(),r=K("td"),r.textContent=`${t[30].title}`,s=q(),l=K("td"),l.textContent=`${t[30].description}`,dt(i,"class","svelte-lpe55a"),dt(r,"class","svelte-lpe55a"),gn(l,"width","820px"),gn(l,"padding","5px 0"),dt(l,"class","svelte-lpe55a"),dt(e,"class","svelte-lpe55a")},m(u,d){Ct(u,e,d),B(e,i),B(e,a),B(e,r),B(e,s),B(e,l)},p:Ne,d(u){u&&bt(e)}}}function d3t(t){let e,i,a,r,s=$e(t[36].children),l=[];for(let u=0;u<s.length;u+=1)l[u]=u3t(Ymt(t,s,u));return{c(){for(let u=0;u<l.length;u+=1)l[u].c();e=q(),i=K("tr"),a=q(),r=K("tr"),gn(i,"height","20px"),dt(i,"class","svelte-lpe55a"),dt(r,"class","svelte-lpe55a")},m(u,d){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(u,d);Ct(u,e,d),Ct(u,i,d),Ct(u,a,d),Ct(u,r,d)},p:Ne,d(u){u&&(bt(e),bt(i),bt(a),bt(r)),xi(l,u)}}}function h3t(t){let e,i,a,r,s=$e(P0),l=[];for(let u=0;u<s.length;u+=1)l[u]=d3t(Xmt(t,s,u));return{c(){e=K("table"),i=K("thead"),i.innerHTML='<tr class="svelte-lpe55a"><th style="width: fit-content">category</th> <th style="width: fit-content">skill</th> <th>explanation</th></tr>',a=q(),r=K("tbody");for(let u=0;u<l.length;u+=1)l[u].c();gn(e,"text-align","left"),dt(e,"class","svelte-lpe55a")},m(u,d){Ct(u,e,d),B(e,i),B(e,a),B(e,r);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(r,null)},p:Ne,d(u){u&&bt(e),xi(l,u)}}}function f3t(t){let e;return{c(){e=K("li"),e.textContent=`${t[33].title} `,gn(e,"font-size","12px")},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function m3t(t){let e,i,a,r,s;function l(...f){return t[16](t[30],...f)}function u(...f){return t[17](t[30],...f)}let d=$e(Yr.filter(u)),c=[];for(let f=0;f<d.length;f+=1)c[f]=f3t(Kmt(t,d,f));return{c(){e=K("li"),i=K("b"),i.textContent=`${t[30].title} (${Yr.filter(l).length})`,a=q(),r=K("ul");for(let f=0;f<c.length;f+=1)c[f].c();s=q()},m(f,M){Ct(f,e,M),B(e,i),B(e,a),B(e,r);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(r,null);B(e,s)},p(f,M){t=f},d(f){f&&bt(e),xi(c,f)}}}function aO(t){let e,i,a,r,s,l=$e(t[27].children),u=[];for(let d=0;d<l.length;d+=1)u[d]=m3t(Wmt(t,l,d));return{c(){e=K("li"),i=K("b"),i.textContent=`${t[27].title} (${new Set(t[27].children.flatMap(t[15])).size})`,a=q(),r=K("ul");for(let d=0;d<u.length;d+=1)u[d].c();s=q()},m(d,c){Ct(d,e,c),B(e,i),B(e,a),B(e,r);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(r,null);B(e,s)},p:Ne,d(d){d&&bt(e),xi(u,d)}}}function p3t(t){let e,i=$e(P0),a=[];for(let r=0;r<i.length;r+=1)a[r]=aO(fw(t,i,r));return{c(){e=K("ul");for(let r=0;r<a.length;r+=1)a[r].c();dt(e,"class","list svelte-lpe55a")},m(r,s){Ct(r,e,s);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,null)},p(r,s){if(s&0){i=$e(P0);let l;for(l=0;l<i.length;l+=1){const u=fw(r,i,l);a[l]?a[l].p(u,s):(a[l]=aO(u),a[l].c(),a[l].m(e,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(r){r&&bt(e),xi(a,r)}}}function g3t(t){let e;return{c(){e=K("option"),e.textContent=`${t[22]}`,e.__value=t[22],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function M3t(t){let e;return{c(){e=K("option"),e.textContent=`${t[22]}`,e.__value=t[22],Qi(e,e.__value)},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function A3t(t){let e,i,a,r,s,l,u,d,c,f,M,m,A=$e(["skills","patterns","data","instruments"]),p=[];for(let v=0;v<4;v+=1)p[v]=g3t(jmt(t,A,v));let y=$e(["skills","patterns","data","instruments"]),E=[];for(let v=0;v<4;v+=1)E[v]=M3t(Jmt(t,y,v));return{c(){e=K("div"),i=K("label"),a=oe(`row
                `),r=K("select");for(let v=0;v<4;v+=1)p[v].c();s=q(),l=K("label"),u=oe(`column
                `),d=K("select");for(let v=0;v<4;v+=1)E[v].c();c=q(),f=K("div"),t[4]===void 0&&Zr(()=>t[18].call(r)),t[5]===void 0&&Zr(()=>t[19].call(d)),dt(f,"class","visualization")},m(v,w){Ct(v,e,w),B(e,i),B(i,a),B(i,r);for(let x=0;x<4;x+=1)p[x]&&p[x].m(r,null);wa(r,t[4],!0),B(e,s),B(e,l),B(l,u),B(l,d);for(let x=0;x<4;x+=1)E[x]&&E[x].m(d,null);wa(d,t[5],!0),B(e,c),B(e,f),t[20](f),M||(m=[Ue(r,"change",t[18]),Ue(r,"change",t[8]),Ue(d,"change",t[19]),Ue(d,"change",t[8]),Ue(f,"load",t[21])],M=!0)},p(v,w){w[0]&16&&wa(r,v[4]),w[0]&32&&wa(d,v[5])},d(v){v&&bt(e),xi(p,v),xi(E,v),t[20](null),M=!1,f9(m)}}}function y3t(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E,v;return r=new S0({props:{heading:"Inputs and Instruments",$$slots:{default:[i3t]},$$scope:{ctx:t}}}),l=new S0({props:{heading:"Skills",$$slots:{default:[o3t]},$$scope:{ctx:t}}}),d=new S0({props:{heading:"Design Patterns",$$slots:{default:[s3t]},$$scope:{ctx:t}}}),f=new S0({props:{heading:"Difficulty",$$slots:{default:[c3t]},$$scope:{ctx:t}}}),m=new S0({props:{heading:"Skill Descriptions",$$slots:{default:[h3t]},$$scope:{ctx:t}}}),p=new S0({props:{heading:"Apps by Skill",$$slots:{default:[p3t]},$$scope:{ctx:t}}}),E=new S0({props:{heading:"App Meta Data Relations",$$slots:{default:[A3t]},$$scope:{ctx:t}}}),{c(){e=K("main"),i=K("p"),i.textContent="This page contains overviews over apps and skills.",a=q(),Ft(r.$$.fragment),s=q(),Ft(l.$$.fragment),u=q(),Ft(d.$$.fragment),c=q(),Ft(f.$$.fragment),M=q(),Ft(m.$$.fragment),A=q(),Ft(p.$$.fragment),y=q(),Ft(E.$$.fragment),dt(i,"class","explanation")},m(w,x){Ct(w,e,x),B(e,i),B(e,a),kt(r,e,null),B(e,s),kt(l,e,null),B(e,u),kt(d,e,null),B(e,c),kt(f,e,null),B(e,M),kt(m,e,null),B(e,A),kt(p,e,null),B(e,y),kt(E,e,null),v=!0},p(w,x){const b={};x[0]&3|x[3]&1&&(b.$$scope={dirty:x,ctx:w}),r.$set(b);const O={};x[0]&1|x[3]&1&&(O.$$scope={dirty:x,ctx:w}),l.$set(O);const S={};x[0]&5|x[3]&1&&(S.$$scope={dirty:x,ctx:w}),d.$set(S);const R={};x[0]&1|x[3]&1&&(R.$$scope={dirty:x,ctx:w}),f.$set(R);const I={};x[3]&1&&(I.$$scope={dirty:x,ctx:w}),m.$set(I);const P={};x[3]&1&&(P.$$scope={dirty:x,ctx:w}),p.$set(P);const L={};x[0]&56|x[3]&1&&(L.$$scope={dirty:x,ctx:w}),E.$set(L)},i(w){v||(Rt(r.$$.fragment,w),Rt(l.$$.fragment,w),Rt(d.$$.fragment,w),Rt(f.$$.fragment,w),Rt(m.$$.fragment,w),Rt(p.$$.fragment,w),Rt(E.$$.fragment,w),v=!0)},o(w){Dt(r.$$.fragment,w),Dt(l.$$.fragment,w),Dt(d.$$.fragment,w),Dt(f.$$.fragment,w),Dt(m.$$.fragment,w),Dt(p.$$.fragment,w),Dt(E.$$.fragment,w),v=!1},d(w){w&&bt(e),Nt(r),Nt(l),Nt(d),Nt(f),Nt(m),Nt(p),Nt(E)}}}const rO=t=>t.input==="MIDI",oO=t=>t.input==="audio";function v3t(t,e,i){let{apps:a=[]}=e,r=new Set(["drum","guitar/bass","keyboard","singing","pc-key","touch"]),{allData:s=new Set}=e,{allPatterns:l=new Set}=e,u=["a single note","a few notes","a few bars","a full song"],d,c="skills",f="patterns";const M=()=>{const P=new Map;for(const N of a)for(const $ of N[f]){P.has($)||P.set($,new Map);const H=P.get($);for(const U of N[c])H.has(U)||H.set(U,new Set),H.get(U).add(N.title)}const L=[];for(const[N,$]of P.entries())for(const[H,U]of $.entries())L.push({k1:N,k2:H,apps:[...U]});const k=Bn({margin:10,marginLeft:150,marginRight:50,marginBottom:100,width:1e3,aspectRatio:1.2,grid:!0,x:{label:f,tickRotate:45},y:{label:c},color:{label:"number of apps",legend:!0,scheme:"blues"},marks:[a4(L,{x:N=>N.k1,y:N=>N.k2,fill:N=>N.apps.length,title:N=>`${N.k1} | ${N.k2}

${N.apps.join(`
`)}`,rx:5}),Ta(L,{x:N=>N.k1,y:N=>N.k2,text:N=>N.apps.length,stroke:"#fffc",strokeWidth:2.5,fill:"black"})]});i(3,d.textContent="",d),d.appendChild(k)},m=(P,L)=>L.instruments.includes(P),A=(P,L)=>L.data.includes(P),p=(P,L)=>L.timeScale.includes(P),y=(P,L)=>L.skills.includes(P.id),E=(P,L)=>L.patterns.includes(P),v=(P,L)=>L.difficulty.includes(P),w=P=>Yr.filter(L=>L.skills.includes(P.id)),x=(P,L)=>L.skills.includes(P.id),b=(P,L)=>L.skills.includes(P.id);function O(){c=eo(this),i(4,c)}function S(){f=eo(this),i(5,f)}function R(P){Me[P?"unshift":"push"](()=>{d=P,i(3,d)})}const I=()=>M();return t.$$set=P=>{"apps"in P&&i(0,a=P.apps),"allData"in P&&i(1,s=P.allData),"allPatterns"in P&&i(2,l=P.allPatterns)},[a,s,l,d,c,f,r,u,M,m,A,p,y,E,v,w,x,b,O,S,R,I]}class b3t extends Ki{constructor(e){super(),Wi(this,e,v3t,y3t,ji,{apps:0,allData:1,allPatterns:2},null,[-1,-1,-1,-1])}}function C3t(t){let e;return{c(){e=K("p"),e.textContent=`This website contains a collection of small apps for learning
            musical instruments. They are each tailored to specific musical
            skills and sometimes also specific kind of musical data or
            instrument.`,dt(e,"class","explanation")},m(i,a){Ct(i,e,a)},p:Ne,d(i){i&&bt(e)}}}function E3t(t){let e,i,a,r,s;return{c(){e=K("p"),e.textContent=`Many app require a MIDI instrument, such as a keyboard or electronic
            drum kit. Other MIDI instruments will work too, just try it! A few
            apps work with audio and should therefore supported any (pitched)
            instrument and singing. Some apps can also be used with a PC
            keyboard (spacebar if not explained otherwise) or a touch screen.
            The most tricky to use are the guitar (fretboard) apps, which
            require are MIDI guitar or a guitar with an added MIDI pickup.`,i=q(),a=K("h4"),a.textContent="What if I only have a MIDI keyboard without synthesizer?",r=q(),s=K("p"),s.innerHTML=`You can simply open a web synth in another tab! For example,
            <a href="https://midi.city/" target="_blank" referrerpolicy="no-referrer">midi.city</a>.`,dt(e,"class","explanation"),dt(s,"class","explanation")},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function _3t(t){let e,i,a,r,s,l,u,d,c;return{c(){e=K("p"),e.innerHTML=`<b>App Menu ().</b>
            The app menu lists all apps with a short description and icons that indicate
            the supported instruments. You can filter and sort apps by different
            aspects with the sidebar on the left. Apps that you never used before
            are marked with a .`,i=q(),a=K("p"),a.innerHTML=`<b>Tools ().</b>
            The tools page contains smaller, but sometimes helpful tools. For example,
            you can see which MIDI messages your instrument sends.`,r=q(),s=K("p"),s.innerHTML=`<b>Settings ().</b>
            Global settings that apply to multiple (but not all) apps. Here you can
            export and delete all locally stored data.`,l=q(),u=K("p"),u.innerHTML=`<b>Data and Saving.</b>
            You can export and import a take in most apps. Whenever you leave an
            app, reset, or load from the history, your current take will be auto-saved
            and added to the history. Use the history button too see the modal with
            the auto-saved takes where you can load or delete them.
            <i>No data is sent anywhere, it all is saved in your browser. You
                can export or reset it in the settings.</i> <span class="warning">Warning:</span> Auto-save only works when you reset
            or exit the app by returning to the home screen. If you refresh the page
            or close the tab while in an app, its current data will be lost.`,d=q(),c=K("p"),c.innerHTML=`<b>Importing.</b>
            Import a recorded take from a file through the import button or by dragging
            and dropping a file on the app (a blue background indicates that you
            can drop it).`,dt(e,"class","explanation"),dt(a,"class","explanation"),dt(s,"class","explanation"),dt(u,"class","explanation"),dt(c,"class","explanation")},m(f,M){Ct(f,e,M),Ct(f,i,M),Ct(f,a,M),Ct(f,r,M),Ct(f,s,M),Ct(f,l,M),Ct(f,u,M),Ct(f,d,M),Ct(f,c,M)},p:Ne,d(f){f&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u),bt(d),bt(c))}}}function w3t(t){let e,i,a,r,s,l,u;return{c(){e=K("h4"),e.textContent="General",i=q(),a=K("ul"),a.innerHTML=`<li class="svelte-1b83tv2"><code class="svelte-1b83tv2">CTRL</code>+<code class="svelte-1b83tv2">F</code> focuses the search bar in the app
                menu</li> <li class="svelte-1b83tv2"><code class="svelte-1b83tv2">CTRL</code>+<code class="svelte-1b83tv2">+</code> and <code class="svelte-1b83tv2">CTRL</code>+<code class="svelte-1b83tv2">-</code> zooms in and out</li> <li class="svelte-1b83tv2"><code class="svelte-1b83tv2">F11</code> toggles fullscreen.</li>`,r=q(),s=K("h4"),s.textContent="App",l=q(),u=K("ul"),u.innerHTML=`<li class="svelte-1b83tv2"><code class="svelte-1b83tv2">m</code> toggles the metronome</li> <li class="svelte-1b83tv2"><code class="svelte-1b83tv2">r</code> resets the played data</li> <li class="svelte-1b83tv2">(history modal) <code class="svelte-1b83tv2">Escape</code> closes the modal</li> <li class="svelte-1b83tv2">(some apps) <code class="svelte-1b83tv2">CTRL</code>+<code class="svelte-1b83tv2">Z</code> un-does the last note</li> <li class="svelte-1b83tv2">(some apps) <code class="svelte-1b83tv2">CTRL</code>+<code class="svelte-1b83tv2">Y</code> re-does the last undone
                note</li>`,dt(a,"class","svelte-1b83tv2"),dt(u,"class","svelte-1b83tv2")},m(d,c){Ct(d,e,c),Ct(d,i,c),Ct(d,a,c),Ct(d,r,c),Ct(d,s,c),Ct(d,l,c),Ct(d,u,c)},p:Ne,d(d){d&&(bt(e),bt(i),bt(a),bt(r),bt(s),bt(l),bt(u))}}}function O3t(t){let e,i,a;return{c(){e=K("h4"),e.textContent="MIDI",i=q(),a=K("p"),a.innerHTML=`If MIDI input does not work, make sure that the device is connected
            and works. The browser can also see MIDI devices that are <i>not in use in other software</i>, such as other browsers that you have opened this website in. Some
            MIDI software requires a MIDI loopback that simulates a hardware
            MIDI device. We recommend
            <a href="https://www.tobias-erichsen.de/software/loopmidi.html">loopMIDI</a> for Windows.`,dt(a,"class","explanation")},m(r,s){Ct(r,e,s),Ct(r,i,s),Ct(r,a,s)},p:Ne,d(r){r&&(bt(e),bt(i),bt(a))}}}function x3t(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y;return l=new S0({props:{heading:"What is this website?",$$slots:{default:[C3t]},$$scope:{ctx:t}}}),d=new S0({props:{heading:"What do I need to use the apps?",$$slots:{default:[E3t]},$$scope:{ctx:t}}}),f=new S0({props:{heading:"How do I use this website?",$$slots:{default:[_3t]},$$scope:{ctx:t}}}),m=new S0({props:{heading:"Keyboard Shortcuts",$$slots:{default:[w3t]},$$scope:{ctx:t}}}),p=new S0({props:{heading:"Troubleshooting",$$slots:{default:[O3t]},$$scope:{ctx:t}}}),{c(){e=K("main"),i=K("h2"),i.textContent="Help",a=q(),r=K("p"),r.textContent="Click on a topic to show helpful information.",s=q(),Ft(l.$$.fragment),u=q(),Ft(d.$$.fragment),c=q(),Ft(f.$$.fragment),M=q(),Ft(m.$$.fragment),A=q(),Ft(p.$$.fragment),dt(r,"class","explanation")},m(E,v){Ct(E,e,v),B(e,i),B(e,a),B(e,r),B(e,s),kt(l,e,null),B(e,u),kt(d,e,null),B(e,c),kt(f,e,null),B(e,M),kt(m,e,null),B(e,A),kt(p,e,null),y=!0},p(E,[v]){const w={};v&1&&(w.$$scope={dirty:v,ctx:E}),l.$set(w);const x={};v&1&&(x.$$scope={dirty:v,ctx:E}),d.$set(x);const b={};v&1&&(b.$$scope={dirty:v,ctx:E}),f.$set(b);const O={};v&1&&(O.$$scope={dirty:v,ctx:E}),m.$set(O);const S={};v&1&&(S.$$scope={dirty:v,ctx:E}),p.$set(S)},i(E){y||(Rt(l.$$.fragment,E),Rt(d.$$.fragment,E),Rt(f.$$.fragment,E),Rt(m.$$.fragment,E),Rt(p.$$.fragment,E),y=!0)},o(E){Dt(l.$$.fragment,E),Dt(d.$$.fragment,E),Dt(f.$$.fragment,E),Dt(m.$$.fragment,E),Dt(p.$$.fragment,E),y=!1},d(E){E&&bt(e),Nt(l),Nt(d),Nt(f),Nt(m),Nt(p)}}}class S3t extends Ki{constructor(e){super(),Wi(this,e,null,x3t,ji,{})}}function sO(t,e,i){const a=t.slice();return a[10]=e[i],a[12]=i,a}function lO(t,e,i){const a=t.slice();return a[13]=e[i],a}function cO(t,e,i){const a=t.slice();return a[16]=e[i],a}function uO(t){let e;return{c(){e=K("div"),gn(e,"background-color",t[16]<=t[1]?"var(--accent)":"#eee"),dt(e,"class","svelte-5546bh")},m(i,a){Ct(i,e,a)},p(i,a){a&2&&gn(e,"background-color",i[16]<=i[1]?"var(--accent)":"#eee")},d(i){i&&bt(e)}}}function dO(t){let e,i,a=$e(t[0].selection),r=[];for(let l=0;l<a.length;l+=1)r[l]=hO(lO(t,a,l));const s=l=>Dt(r[l],1,1,()=>{r[l]=null});return{c(){e=K("div");for(let l=0;l<r.length;l+=1)r[l].c();dt(e,"class","svelte-5546bh")},m(l,u){Ct(l,e,u);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);i=!0},p(l,u){if(u&1){a=$e(l[0].selection);let d;for(d=0;d<a.length;d+=1){const c=lO(l,a,d);r[d]?(r[d].p(c,u),Rt(r[d],1)):(r[d]=hO(c),r[d].c(),Rt(r[d],1),r[d].m(e,null))}for(so(),d=a.length;d<r.length;d+=1)s(d);lo()}},i(l){if(!i){for(let u=0;u<a.length;u+=1)Rt(r[u]);i=!0}},o(l){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)Dt(r[u]);i=!1},d(l){l&&bt(e),xi(r,l)}}}function hO(t){let e,i;return e=new R9({props:{label:t[13].text,title:t[13].title,checked:!1,callback:t[13].action}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r&1&&(s.label=a[13].text),r&1&&(s.title=a[13].title),r&1&&(s.callback=a[13].action),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}function fO(t){let e,i=t[10].text+"",a,r,s;return{c(){e=K("button"),a=oe(i),dt(e,"style",t[12]===0?"background: var(--accent)":"")},m(l,u){Ct(l,e,u),B(e,a),r||(s=Ue(e,"click",function(){Fo(t[10].action)&&t[10].action.apply(this,arguments)}),r=!0)},p(l,u){t=l,u&1&&i!==(i=t[10].text+"")&&Ge(a,i)},d(l){l&&bt(e),r=!1,s()}}}function T3t(t){let e,i,a,r,s,l=t[1]+1+"",u,d,c=t[2].length+"",f,M,m,A,p,y,E=t[0].text+"",v,w,x,b,O,S=$e(Ei(t[2].length)),R=[];for(let k=0;k<S.length;k+=1)R[k]=uO(cO(t,S,k));let I=t[0].selection&&dO(t),P=$e(t[0].options),L=[];for(let k=0;k<P.length;k+=1)L[k]=fO(sO(t,P,k));return{c(){e=K("main"),i=K("h2"),i.textContent="Welcome!",a=q(),r=K("div"),s=oe("step "),u=oe(l),d=oe(" of "),f=oe(c),M=q(),m=K("div");for(let k=0;k<R.length;k+=1)R[k].c();A=q(),p=K("div"),y=K("p"),v=oe(E),w=q(),I&&I.c(),x=q(),b=K("div");for(let k=0;k<L.length;k+=1)L[k].c();dt(r,"class","svelte-5546bh"),dt(m,"class","progress svelte-5546bh"),dt(y,"class","explanation"),dt(p,"class","svelte-5546bh"),dt(b,"class","svelte-5546bh")},m(k,N){Ct(k,e,N),B(e,i),B(e,a),B(e,r),B(r,s),B(r,u),B(r,d),B(r,f),B(e,M),B(e,m);for(let $=0;$<R.length;$+=1)R[$]&&R[$].m(m,null);B(e,A),B(e,p),B(p,y),B(y,v),B(e,w),I&&I.m(e,null),B(e,x),B(e,b);for(let $=0;$<L.length;$+=1)L[$]&&L[$].m(b,null);O=!0},p(k,[N]){if((!O||N&2)&&l!==(l=k[1]+1+"")&&Ge(u,l),N&6){S=$e(Ei(k[2].length));let $;for($=0;$<S.length;$+=1){const H=cO(k,S,$);R[$]?R[$].p(H,N):(R[$]=uO(H),R[$].c(),R[$].m(m,null))}for(;$<R.length;$+=1)R[$].d(1);R.length=S.length}if((!O||N&1)&&E!==(E=k[0].text+"")&&Ge(v,E),k[0].selection?I?(I.p(k,N),N&1&&Rt(I,1)):(I=dO(k),I.c(),Rt(I,1),I.m(e,x)):I&&(so(),Dt(I,1,1,()=>{I=null}),lo()),N&1){P=$e(k[0].options);let $;for($=0;$<P.length;$+=1){const H=sO(k,P,$);L[$]?L[$].p(H,N):(L[$]=fO(H),L[$].c(),L[$].m(b,null))}for(;$<L.length;$+=1)L[$].d(1);L.length=P.length}},i(k){O||(Rt(I),O=!0)},o(k){Dt(I),O=!1},d(k){k&&bt(e),xi(R,k),I&&I.d(),xi(L,k)}}}function I3t(t,e,i){let a,r,{finishWelcome:s}=e,{allInstruments:l=new Set}=e,{allDifficulties:u=["beginner","intermediate","advanced"]}=e,d="start",c=new Set,f=new Set,M=new Set;const m=[{id:"start",text:"This website contains a colelction of small apps that help you practice you instrument by giving you visual feedback. To make it easier for you to get started, please answer the following few questions, so we can pick appropriate settings for you. You can repeat this process or adapt settings anytime.",options:[{text:"sure!",action:()=>{i(6,d="instrument")}},{text:"no thanks, take me to the full website now",action:s}]},{id:"instrument",text:"Please select all instruments that you have:",selection:[...l].map(A=>({text:A,action:()=>{c=pf(c,A)}})),options:[{text:"continue",action:()=>{i(6,d="difficulty")}},{text:"back",action:()=>{i(6,d="start")}}]},{id:"difficulty",text:"Please select you current levels of experience for which you want to see apps:",selection:u.map(A=>({text:A,action:()=>{M=pf(M,A)}})),options:[{text:"continue",action:()=>{i(6,d="skills")}},{text:"back",action:()=>{i(6,d="instrument")}}]},{id:"skills",text:"Please select a skill you want to practise:",selection:cet.map(A=>({text:A.title,title:A.description,action:()=>{f=new Set([A.id])}})),options:[{text:"continue",action:()=>{i(6,d="end")}},{text:"back",action:()=>{i(6,d="difficulty")}}]},{id:"end",text:"All done! Remember that you can repeat this process and adapt settings anytime.",options:[{text:"show me the apps now!",action:()=>{s({skills:f,instruments:c,difficulties:M})}},{text:"back",action:()=>{i(6,d="skills")}}]}];return t.$$set=A=>{"finishWelcome"in A&&i(3,s=A.finishWelcome),"allInstruments"in A&&i(4,l=A.allInstruments),"allDifficulties"in A&&i(5,u=A.allDifficulties)},t.$$.update=()=>{t.$$.dirty&64&&i(0,a=m.filter(A=>A.id===d)[0]),t.$$.dirty&1&&i(1,r=m.indexOf(a))},[a,r,m,s,l,u,d]}class B3t extends Ki{constructor(e){super(),Wi(this,e,I3t,T3t,ji,{finishWelcome:3,allInstruments:4,allDifficulties:5})}}function mO(t){let e;return{c(){e=K("span"),e.textContent="audio",dt(e,"title","works with audio")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function pO(t){let e;return{c(){e=K("span"),e.textContent="MIDI",dt(e,"title","requires a MIDI instrument")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function gO(t){let e;return{c(){e=K("span"),e.textContent=`${YB}`,dt(e,"title","works with guitar/bass")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function MO(t){let e;return{c(){e=K("span"),e.textContent=`${XB}`,dt(e,"title","works with drum")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function AO(t){let e;return{c(){e=K("span"),e.textContent=`${KB}`,dt(e,"title","works with keyboard")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function yO(t){let e;return{c(){e=K("span"),e.textContent=`${aet}`,dt(e,"title","works with singing")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function vO(t){let e;return{c(){e=K("span"),e.textContent=`${ret}`,dt(e,"title","you can use PC keyboard if you don't have an instrument")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function bO(t){let e;return{c(){e=K("span"),e.textContent=`${oet}`,dt(e,"title","you can use touch screen if you don't have an instrument")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function R3t(t){let e,i,a,r,s=t[0].instruments.includes("guitar/bass"),l,u=t[0].instruments.includes("drum"),d,c=t[0].instruments.includes("keyboard"),f,M=t[0].instruments.includes("singing"),m,A=t[0].instruments.includes("pc-key"),p,y=t[0].instruments.includes("touch"),E=t[0].input==="audio"&&mO(),v=t[0].input==="MIDI"&&pO(),w=s&&gO(),x=u&&MO(),b=c&&AO(),O=M&&yO(),S=A&&vO(),R=y&&bO();return{c(){e=K("div"),i=K("span"),E&&E.c(),a=q(),v&&v.c(),r=q(),w&&w.c(),l=q(),x&&x.c(),d=q(),b&&b.c(),f=q(),O&&O.c(),m=q(),S&&S.c(),p=q(),R&&R.c(),dt(i,"class","data-type svelte-324j6v"),dt(e,"class","tags")},m(I,P){Ct(I,e,P),B(e,i),E&&E.m(i,null),B(i,a),v&&v.m(i,null),B(e,r),w&&w.m(e,null),B(e,l),x&&x.m(e,null),B(e,d),b&&b.m(e,null),B(e,f),O&&O.m(e,null),B(e,m),S&&S.m(e,null),B(e,p),R&&R.m(e,null)},p(I,[P]){I[0].input==="audio"?E||(E=mO(),E.c(),E.m(i,a)):E&&(E.d(1),E=null),I[0].input==="MIDI"?v||(v=pO(),v.c(),v.m(i,null)):v&&(v.d(1),v=null),P&1&&(s=I[0].instruments.includes("guitar/bass")),s?w||(w=gO(),w.c(),w.m(e,l)):w&&(w.d(1),w=null),P&1&&(u=I[0].instruments.includes("drum")),u?x||(x=MO(),x.c(),x.m(e,d)):x&&(x.d(1),x=null),P&1&&(c=I[0].instruments.includes("keyboard")),c?b||(b=AO(),b.c(),b.m(e,f)):b&&(b.d(1),b=null),P&1&&(M=I[0].instruments.includes("singing")),M?O||(O=yO(),O.c(),O.m(e,m)):O&&(O.d(1),O=null),P&1&&(A=I[0].instruments.includes("pc-key")),A?S||(S=vO(),S.c(),S.m(e,p)):S&&(S.d(1),S=null),P&1&&(y=I[0].instruments.includes("touch")),y?R||(R=bO(),R.c(),R.m(e,null)):R&&(R.d(1),R=null)},i:Ne,o:Ne,d(I){I&&bt(e),E&&E.d(),v&&v.d(),w&&w.d(),x&&x.d(),b&&b.d(),O&&O.d(),S&&S.d(),R&&R.d()}}}function D3t(t,e,i){let{app:a}=e;return t.$$set=r=>{"app"in r&&i(0,a=r.app)},[a]}class P3t extends Ki{constructor(e){super(),Wi(this,e,D3t,R3t,ji,{app:0})}}function CO(t,e,i){const a=t.slice();return a[47]=e[i],a}function EO(t,e,i){const a=t.slice();return a[50]=e[i],a}function _O(t,e,i){const a=t.slice();return a[50]=e[i],a}function wO(t,e,i){const a=t.slice();return a[50]=e[i],a}function L3t(t){let e,i,a;var r=t[0].component;function s(l,u){return{props:{appInfo:l[0]}}}return r&&(e=f3(r,s(t))),{c(){e&&Ft(e.$$.fragment),i=V9()},m(l,u){e&&kt(e,l,u),Ct(l,i,u),a=!0},p(l,u){if(u[0]&1&&r!==(r=l[0].component)){if(e){so();const d=e;Dt(d.$$.fragment,1,0,()=>{Nt(d,1)}),lo()}r?(e=f3(r,s(l)),Ft(e.$$.fragment),Rt(e.$$.fragment,1),kt(e,i.parentNode,i)):e=null}else if(r){const d={};u[0]&1&&(d.appInfo=l[0]),e.$set(d)}},i(l){a||(e&&Rt(e.$$.fragment,l),a=!0)},o(l){e&&Dt(e.$$.fragment,l),a=!1},d(l){l&&bt(i),e&&Nt(e,l)}}}function k3t(t){let e,i;return e=new B3t({props:{allInstruments:t[14],finishWelcome:t[43]}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p(a,r){const s={};r[0]&209&&(s.finishWelcome=a[43]),e.$set(s)},i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}function N3t(t){let e,i;return e=new S3t({}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p:Ne,i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}function F3t(t){let e,i;return e=new b3t({props:{apps:Yr,allData:t[15],allPatterns:t[18]}}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p:Ne,i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}function U3t(t){let e,i;return e=new fot({}),{c(){Ft(e.$$.fragment)},m(a,r){kt(e,a,r),i=!0},p:Ne,i(a){i||(Rt(e.$$.fragment,a),i=!0)},o(a){Dt(e.$$.fragment,a),i=!1},d(a){Nt(e,a)}}}function $3t(t){let e,i,a;function r(l){t[42](l)}let s={rows:t[11]};return t[10]!==void 0&&(s.currentTool=t[10]),e=new uot({props:s}),Me.push(()=>De(e,"currentTool",r)),{c(){Ft(e.$$.fragment)},m(l,u){kt(e,l,u),a=!0},p(l,u){const d={};u[0]&2048&&(d.rows=l[11]),!i&&u[0]&1024&&(i=!0,d.currentTool=l[10],Re(()=>i=!1)),e.$set(d)},i(l){a||(Rt(e.$$.fragment,l),a=!0)},o(l){Dt(e.$$.fragment,l),a=!1},d(l){Nt(e,l)}}}function G3t(t){let e,i,a,r,s,l,u,d,c,f,M=t[11]?" rows":" grid",m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k,N,$,H,U,W,J,Q;function G(Pt){t[27](Pt)}let z={callback:t[26],style:"margin-left: -10px",$$slots:{default:[V3t]},$$scope:{ctx:t}};t[9]!==void 0&&(z.value=t[9]),u=new ia({props:z}),Me.push(()=>De(u,"value",G));function j(Pt){t[29](Pt)}let nt={};t[6]!==void 0&&(nt.currentSkills=t[6]),p=new het({props:nt}),Me.push(()=>De(p,"currentSkills",j));let tt=$e(t[14].values()),ht=[];for(let Pt=0;Pt<tt.length;Pt+=1)ht[Pt]=OO(wO(t,tt,Pt));let pt=$e(["beginner","intermediate","advanced"]),gt=[];for(let Pt=0;Pt<3;Pt+=1)gt[Pt]=xO(_O(t,pt,Pt));let Tt=$e(t[13].values()),vt=[];for(let Pt=0;Pt<Tt.length;Pt+=1)vt[Pt]=SO(EO(t,Tt,Pt));let Ot=(t[8]!==""||t[6].size===1||t[4].size<t[14].size||t[7].size<t[17].size||t[5].size<t[13].size)&&TO(t),ft=$e(t[12]),St=[];for(let Pt=0;Pt<ft.length;Pt+=1)St[Pt]=FO(CO(t,ft,Pt));const Mt=Pt=>Dt(St[Pt],1,1,()=>{St[Pt]=null});return{c(){e=K("div"),i=K("div"),a=K("div"),r=K("input"),s=q(),l=K("div"),Ft(u.$$.fragment),c=q(),f=K("button"),m=oe(M),A=q(),Ft(p.$$.fragment),E=q(),v=K("div"),w=K("h2"),w.textContent="instrument",x=q();for(let Pt=0;Pt<ht.length;Pt+=1)ht[Pt].c();b=q(),O=K("div"),S=K("h2"),S.textContent="difficulty",R=q();for(let Pt=0;Pt<3;Pt+=1)gt[Pt].c();I=q(),P=K("div"),L=K("h2"),L.textContent="input",k=q();for(let Pt=0;Pt<vt.length;Pt+=1)vt[Pt].c();N=q(),$=K("div"),Ot&&Ot.c(),H=q();for(let Pt=0;Pt<St.length;Pt+=1)St[Pt].c();dt(r,"class","search-box"),dt(r,"type","search"),dt(r,"placeholder","search by title"),dt(f,"class","row-button"),dt(i,"class","filter"),dt($,"class",U="grid "+(t[11]?"rows":"")),dt(e,"class","grid-filter-app")},m(Pt,Vt){Ct(Pt,e,Vt),B(e,i),B(i,a),B(a,r),Qi(r,t[8]),B(i,s),B(i,l),kt(u,l,null),B(l,c),B(l,f),B(f,m),B(i,A),kt(p,i,null),B(i,E),B(i,v),B(v,w),B(v,x);for(let ie=0;ie<ht.length;ie+=1)ht[ie]&&ht[ie].m(v,null);B(i,b),B(i,O),B(O,S),B(O,R);for(let ie=0;ie<3;ie+=1)gt[ie]&&gt[ie].m(O,null);B(i,I),B(i,P),B(P,L),B(P,k);for(let ie=0;ie<vt.length;ie+=1)vt[ie]&&vt[ie].m(P,null);B(e,N),B(e,$),Ot&&Ot.m($,null),B($,H);for(let ie=0;ie<St.length;ie+=1)St[ie]&&St[ie].m($,null);W=!0,J||(Q=[Ue(r,"input",t[25]),Ue(f,"click",t[28])],J=!0)},p(Pt,Vt){Vt[0]&256&&r.value!==Pt[8]&&Qi(r,Pt[8]);const ie={};Vt[1]&67108864&&(ie.$$scope={dirty:Vt,ctx:Pt}),!d&&Vt[0]&512&&(d=!0,ie.value=Pt[9],Re(()=>d=!1)),u.$set(ie),(!W||Vt[0]&2048)&&M!==(M=Pt[11]?" rows":" grid")&&Ge(m,M);const jt={};if(!y&&Vt[0]&64&&(y=!0,jt.currentSkills=Pt[6],Re(()=>y=!1)),p.$set(jt),Vt[0]&16400){tt=$e(Pt[14].values());let Wt;for(Wt=0;Wt<tt.length;Wt+=1){const me=wO(Pt,tt,Wt);ht[Wt]?ht[Wt].p(me,Vt):(ht[Wt]=OO(me),ht[Wt].c(),ht[Wt].m(v,null))}for(;Wt<ht.length;Wt+=1)ht[Wt].d(1);ht.length=tt.length}if(Vt[0]&128){pt=$e(["beginner","intermediate","advanced"]);let Wt;for(Wt=0;Wt<3;Wt+=1){const me=_O(Pt,pt,Wt);gt[Wt]?gt[Wt].p(me,Vt):(gt[Wt]=xO(me),gt[Wt].c(),gt[Wt].m(O,null))}for(;Wt<3;Wt+=1)gt[Wt].d(1)}if(Vt[0]&8224){Tt=$e(Pt[13].values());let Wt;for(Wt=0;Wt<Tt.length;Wt+=1){const me=EO(Pt,Tt,Wt);vt[Wt]?vt[Wt].p(me,Vt):(vt[Wt]=SO(me),vt[Wt].c(),vt[Wt].m(P,null))}for(;Wt<vt.length;Wt+=1)vt[Wt].d(1);vt.length=Tt.length}if(Pt[8]!==""||Pt[6].size===1||Pt[4].size<Pt[14].size||Pt[7].size<Pt[17].size||Pt[5].size<Pt[13].size?Ot?Ot.p(Pt,Vt):(Ot=TO(Pt),Ot.c(),Ot.m($,H)):Ot&&(Ot.d(1),Ot=null),Vt[0]&4109){ft=$e(Pt[12]);let Wt;for(Wt=0;Wt<ft.length;Wt+=1){const me=CO(Pt,ft,Wt);St[Wt]?(St[Wt].p(me,Vt),Rt(St[Wt],1)):(St[Wt]=FO(me),St[Wt].c(),Rt(St[Wt],1),St[Wt].m($,null))}for(so(),Wt=ft.length;Wt<St.length;Wt+=1)Mt(Wt);lo()}(!W||Vt[0]&2048&&U!==(U="grid "+(Pt[11]?"rows":"")))&&dt($,"class",U)},i(Pt){if(!W){Rt(u.$$.fragment,Pt),Rt(p.$$.fragment,Pt);for(let Vt=0;Vt<ft.length;Vt+=1)Rt(St[Vt]);W=!0}},o(Pt){Dt(u.$$.fragment,Pt),Dt(p.$$.fragment,Pt),St=St.filter(Boolean);for(let Vt=0;Vt<St.length;Vt+=1)Dt(St[Vt]);W=!1},d(Pt){Pt&&bt(e),Nt(u),Nt(p),xi(ht,Pt),xi(gt,Pt),xi(vt,Pt),Ot&&Ot.d(),xi(St,Pt),J=!1,f9(Q)}}}function H3t(t){let e,i,a;return{c(){e=K("input"),dt(e,"type","password"),dt(e,"placeholder","password")},m(r,s){Ct(r,e,s),Qi(e,t[1]),i||(a=Ue(e,"input",t[24]),i=!0)},p(r,s){s[0]&2&&e.value!==r[1]&&Qi(e,r[1])},i:Ne,o:Ne,d(r){r&&bt(e),i=!1,a()}}}function V3t(t){let e,i,a,r,s;return{c(){e=K("option"),e.textContent=`${H5} title (A-Z)`,i=q(),a=K("option"),a.textContent=`${H5} most used`,r=q(),s=K("option"),s.textContent=`${H5} recently used`,e.__value="title",Qi(e,e.__value),a.__value="used",Qi(a,a.__value),s.__value="recent",Qi(s,s.__value)},m(l,u){Ct(l,e,u),Ct(l,i,u),Ct(l,a,u),Ct(l,r,u),Ct(l,s,u)},p:Ne,d(l){l&&(bt(e),bt(i),bt(a),bt(r),bt(s))}}}function OO(t){let e,i=t[50]+"",a,r,s,l,u;function d(){return t[30](t[50])}function c(){return t[31](t[50])}return{c(){e=K("button"),a=oe(i),r=q(),dt(e,"class",s=t[4].has(t[50])?"active":"hidden"),dt(e,"title","click to toggle, double-click to only show this")},m(f,M){Ct(f,e,M),B(e,a),B(e,r),l||(u=[Ue(e,"click",d),Ue(e,"dblclick",c)],l=!0)},p(f,M){t=f,M[0]&16&&s!==(s=t[4].has(t[50])?"active":"hidden")&&dt(e,"class",s)},d(f){f&&bt(e),l=!1,f9(u)}}}function xO(t){let e,i,a,r,s,l;function u(){return t[32](t[50])}function d(){return t[33](t[50])}return{c(){e=K("button"),i=oe(t[50]),a=q(),dt(e,"class",r=t[7].has(t[50])?"active":"hidden"),dt(e,"title","click to toggle, double-click to only show this")},m(c,f){Ct(c,e,f),B(e,i),B(e,a),s||(l=[Ue(e,"click",u),Ue(e,"dblclick",d)],s=!0)},p(c,f){t=c,f[0]&128&&r!==(r=t[7].has(t[50])?"active":"hidden")&&dt(e,"class",r)},d(c){c&&bt(e),s=!1,f9(l)}}}function SO(t){let e,i=t[50]+"",a,r,s,l,u;function d(){return t[34](t[50])}function c(){return t[35](t[50])}return{c(){e=K("button"),a=oe(i),r=q(),dt(e,"class",s=t[5].has(t[50])?"active":"hidden"),dt(e,"title","click to toggle, double-click to only show this")},m(f,M){Ct(f,e,M),B(e,a),B(e,r),l||(u=[Ue(e,"click",d),Ue(e,"dblclick",c)],l=!0)},p(f,M){t=f,M[0]&32&&s!==(s=t[5].has(t[50])?"active":"hidden")&&dt(e,"class",s)},d(f){f&&bt(e),l=!1,f9(u)}}}function TO(t){let e,i,a,r,s,l,u,d,c=t[12].length+"",f,M,m=Yr.length+"",A,p,y=t[8]!==""&&IO(t),E=t[6].size===1&&BO(t),v=t[4].size<t[14].size&&RO(t),w=t[7].size<t[17].size&&DO(t),x=t[5].size<t[13].size&&PO(t);return{c(){e=K("div"),i=oe(`current filters:
            `),y&&y.c(),a=q(),E&&E.c(),r=q(),v&&v.c(),s=q(),w&&w.c(),l=q(),x&&x.c(),u=q(),d=K("div"),f=oe(c),M=oe(" of "),A=oe(m),p=oe(" apps shown"),gn(d,"display","inline-block"),dt(e,"class","current-filters")},m(b,O){Ct(b,e,O),B(e,i),y&&y.m(e,null),B(e,a),E&&E.m(e,null),B(e,r),v&&v.m(e,null),B(e,s),w&&w.m(e,null),B(e,l),x&&x.m(e,null),B(e,u),B(e,d),B(d,f),B(d,M),B(d,A),B(d,p)},p(b,O){b[8]!==""?y?y.p(b,O):(y=IO(b),y.c(),y.m(e,a)):y&&(y.d(1),y=null),b[6].size===1?E?E.p(b,O):(E=BO(b),E.c(),E.m(e,r)):E&&(E.d(1),E=null),b[4].size<b[14].size?v?v.p(b,O):(v=RO(b),v.c(),v.m(e,s)):v&&(v.d(1),v=null),b[7].size<b[17].size?w?w.p(b,O):(w=DO(b),w.c(),w.m(e,l)):w&&(w.d(1),w=null),b[5].size<b[13].size?x?x.p(b,O):(x=PO(b),x.c(),x.m(e,u)):x&&(x.d(1),x=null),O[0]&4096&&c!==(c=b[12].length+"")&&Ge(f,c)},d(b){b&&bt(e),y&&y.d(),E&&E.d(),v&&v.d(),w&&w.d(),x&&x.d()}}}function IO(t){let e,i,a,r,s,l;return{c(){e=K("button"),i=oe("search: "),a=oe(t[8]),r=oe(" "),dt(e,"title","click to remove this filter")},m(u,d){Ct(u,e,d),B(e,i),B(e,a),B(e,r),s||(l=Ue(e,"click",t[36]),s=!0)},p(u,d){d[0]&256&&Ge(a,u[8])},d(u){u&&bt(e),s=!1,l()}}}function BO(t){let e,i,a=[...t[6]]+"",r,s,l,u;return{c(){e=K("button"),i=oe("skill: "),r=oe(a),s=oe(" "),dt(e,"title","click to remove this filter")},m(d,c){Ct(d,e,c),B(e,i),B(e,r),B(e,s),l||(u=Ue(e,"click",t[37]),l=!0)},p(d,c){c[0]&64&&a!==(a=[...d[6]]+"")&&Ge(r,a)},d(d){d&&bt(e),l=!1,u()}}}function RO(t){let e,i=t[4].size+"",a,r,s,l;return{c(){e=K("button"),a=oe(i),r=oe(" instruments "),dt(e,"title","click to remove this filter")},m(u,d){Ct(u,e,d),B(e,a),B(e,r),s||(l=Ue(e,"click",t[38]),s=!0)},p(u,d){d[0]&16&&i!==(i=u[4].size+"")&&Ge(a,i)},d(u){u&&bt(e),s=!1,l()}}}function DO(t){let e,i,a=[...t[7]].join(", ")+"",r,s,l,u;return{c(){e=K("button"),i=oe("difficulty: "),r=oe(a),s=oe(" "),dt(e,"title","click to remove this filter")},m(d,c){Ct(d,e,c),B(e,i),B(e,r),B(e,s),l||(u=Ue(e,"click",t[39]),l=!0)},p(d,c){c[0]&128&&a!==(a=[...d[7]].join(", ")+"")&&Ge(r,a)},d(d){d&&bt(e),l=!1,u()}}}function PO(t){let e,i,a=[...t[5]]+"",r,s,l,u;return{c(){e=K("button"),i=oe("input: "),r=oe(a),s=oe(" "),dt(e,"title","click to remove this filter")},m(d,c){Ct(d,e,c),B(e,i),B(e,r),B(e,s),l||(u=Ue(e,"click",t[40]),l=!0)},p(d,c){c[0]&32&&a!==(a=[...d[5]]+"")&&Ge(r,a)},d(d){d&&bt(e),l=!1,u()}}}function LO(t){let e;return{c(){e=K("span"),e.textContent="",dt(e,"title","You never used this app, try it!")},m(i,a){Ct(i,e,a)},d(i){i&&bt(e)}}}function kO(t){let e,i=t[2].get(t[47].id)+"",a,r;return{c(){e=oe("Used "),a=oe(i),r=oe(" times.")},m(s,l){Ct(s,e,l),Ct(s,a,l),Ct(s,r,l)},p(s,l){l[0]&4100&&i!==(i=s[2].get(s[47].id)+"")&&Ge(a,i)},d(s){s&&(bt(e),bt(a),bt(r))}}}function NO(t){let e,i=dC(new Date(t[3].get(t[47].id)))+"",a,r;return{c(){e=oe("Last used "),a=oe(i),r=oe(".")},m(s,l){Ct(s,e,l),Ct(s,a,l),Ct(s,r,l)},p(s,l){l[0]&4104&&i!==(i=dC(new Date(s[3].get(s[47].id)))+"")&&Ge(a,i)},d(s){s&&(bt(e),bt(a),bt(r))}}}function FO(t){let e,i,a=t[47].title+"",r,s,l=!t[2].get(t[47].id),u,d,c=t[47].description+"",f,M,m,A=t[2].get(t[47].id)>0,p,y=t[2].get(t[47].id)>0,E,v,w,x,b,O,S=l&&LO(),R=A&&kO(t),I=y&&NO(t);v=new P3t({props:{app:t[47]}});function P(){return t[41](t[47])}return{c(){e=K("div"),i=K("h2"),r=oe(a),s=q(),S&&S.c(),u=q(),d=K("div"),f=oe(c),M=q(),m=K("div"),R&&R.c(),p=q(),I&&I.c(),E=q(),Ft(v.$$.fragment),w=q(),dt(d,"class","description"),dt(m,"class","usage"),dt(e,"class","card")},m(L,k){Ct(L,e,k),B(e,i),B(i,r),B(i,s),S&&S.m(i,null),B(e,u),B(e,d),B(d,f),B(e,M),B(e,m),R&&R.m(m,null),B(m,p),I&&I.m(m,null),B(e,E),kt(v,e,null),B(e,w),x=!0,b||(O=Ue(e,"click",P),b=!0)},p(L,k){t=L,(!x||k[0]&4096)&&a!==(a=t[47].title+"")&&Ge(r,a),k[0]&4100&&(l=!t[2].get(t[47].id)),l?S||(S=LO(),S.c(),S.m(i,null)):S&&(S.d(1),S=null),(!x||k[0]&4096)&&c!==(c=t[47].description+"")&&Ge(f,c),k[0]&4100&&(A=t[2].get(t[47].id)>0),A?R?R.p(t,k):(R=kO(t),R.c(),R.m(m,p)):R&&(R.d(1),R=null),k[0]&4100&&(y=t[2].get(t[47].id)>0),y?I?I.p(t,k):(I=NO(t),I.c(),I.m(m,null)):I&&(I.d(1),I=null);const N={};k[0]&4096&&(N.app=t[47]),v.$set(N)},i(L){x||(Rt(v.$$.fragment,L),x=!0)},o(L){Dt(v.$$.fragment,L),x=!1},d(L){L&&bt(e),S&&S.d(),R&&R.d(),I&&I.d(),Nt(v),b=!1,O()}}}function Q3t(t){let e,i,a,r,s,l,u,d,c,f,M,m,A,p,y,E,v,w,x,b,O,S,R,I,P,L,k;const N=[H3t,G3t,$3t,U3t,F3t,N3t,k3t,L3t],$=[];function H(U,W){return U[1]!==z3t?0:U[0]?U[0]==="tools"?2:U[0]==="settings"?3:U[0]==="overview"?4:U[0]==="help"?5:U[0]==="welcome"?6:7:1}return p=H(t),y=$[p]=N[p](t),I=new Sa({props:{key:"f",ctrlKey:!0,keyDown:t[45]}}),{c(){e=K("main"),i=K("header"),a=K("h1"),a.textContent="Musical Instrument Learning Apps",r=q(),s=K("nav"),l=K("button"),l.textContent=" apps",u=q(),d=K("button"),d.textContent=" tools",c=q(),f=K("button"),f.textContent=" settings",M=q(),m=K("button"),m.textContent="help",A=q(),y.c(),E=q(),v=K("div"),w=K("span"),w.textContent=`version ${u4}`,x=q(),b=K("button"),b.textContent="app overview",O=q(),S=K("a"),S.textContent="GitHub",R=q(),Ft(I.$$.fragment),gn(b,"background","none"),gn(b,"color","#aaa"),gn(b,"font-weight","normal"),dt(S,"href","https://github.com/visvar/mila"),dt(v,"class","version-number")},m(U,W){Ct(U,e,W),B(e,i),B(i,a),B(i,r),B(i,s),B(s,l),B(s,u),B(s,d),B(s,c),B(s,f),B(s,M),B(s,m),B(e,A),$[p].m(e,null),B(e,E),B(e,v),B(v,w),B(v,x),B(v,b),B(v,O),B(v,S),Ct(U,R,W),kt(I,U,W),P=!0,L||(k=[Ue(l,"click",t[20]),Ue(d,"click",t[21]),Ue(f,"click",t[22]),Ue(m,"click",t[23]),Ue(b,"click",t[44])],L=!0)},p(U,W){let J=p;p=H(U),p===J?$[p].p(U,W):(so(),Dt($[J],1,1,()=>{$[J]=null}),lo(),y=$[p],y?y.p(U,W):(y=$[p]=N[p](U),y.c()),Rt(y,1),y.m(e,E));const Q={};W[0]&1&&(Q.keyDown=U[45]),I.$set(Q)},i(U){P||(Rt(y),Rt(I.$$.fragment,U),P=!0)},o(U){Dt(y),Dt(I.$$.fragment,U),P=!1},d(U){U&&(bt(e),bt(R)),$[p].d(),Nt(I,U),L=!1,f9(k)}}}let z3t="milamila";function J3t(t,e,i){let a,r,s=null;const l=VO(window,"d");l&&l!==""&&(s=Yr.filter(Vt=>Vt.id===l)[0]);let u=localStorage.getItem("pwd")??"";window.onpopstate=Vt=>{s!==null&&i(0,s=null)},window.onbeforeunload=function(){};let d=new Map,c=new Map;const f=new Set(Yr.flatMap(Vt=>Vt.input).sort()),M=new Set(["drum","guitar/bass","keyboard","singing","pc-key","touch"]),m=new Set(Yr.flatMap(Vt=>Vt.data)),A=new Set(Yr.flatMap(Vt=>Vt.skills).sort()),p=new Set(["beginner","intermediate","advanced"]),y=new Set(Yr.flatMap(Vt=>Vt.patterns).sort());let E=new Set(M),v=new Set(f),w=new Set(A),x=new Set(p),b="",O=localStorage.getItem("display-app-sorting")??"title",S=null,R=localStorage.getItem("display-app-rows")==="true"||!1;const I=()=>{i(0,s=null),bc(window,"d","")},P=()=>{i(0,s="tools"),i(10,S=null),bc(window,"d","tools")},L=()=>{i(0,s="settings"),bc(window,"d","settings")},k=()=>{i(0,s="help"),bc(window,"d","help")};function N(){u=this.value,i(1,u)}function $(){b=this.value,i(8,b)}const H=Vt=>{localStorage.setItem("display-app-sorting",Vt.target.value)};function U(Vt){O=Vt,i(9,O)}const W=()=>{i(11,R=!R),localStorage.setItem("display-app-rows",R.toString())};function J(Vt){w=Vt,i(6,w)}const Q=Vt=>i(4,E=pf(E,Vt)),G=Vt=>i(4,E=new Set([Vt])),z=Vt=>i(7,x=pf(x,Vt)),j=Vt=>i(7,x=new Set([Vt])),nt=Vt=>i(5,v=pf(v,Vt)),tt=Vt=>i(5,v=new Set([Vt])),ht=()=>{i(8,b="")},pt=()=>{i(6,w=new Set(A))},gt=()=>{i(4,E=new Set(M))},Tt=()=>{i(7,x=new Set(p))},vt=()=>{i(5,v=new Set(f))},Ot=Vt=>{i(0,s=Vt),bc(window,"d",Vt.id)};function ft(Vt){S=Vt,i(10,S)}const St=Vt=>{if(Vt){const{instruments:ie,skills:jt,difficulties:Wt}=Vt;i(4,E=new Set([ie])),i(6,w=new Set([jt])),i(7,x=new Set([Wt]))}i(0,s=null)},Mt=()=>{i(0,s="overview"),bc(window,"d","overview")},Pt=()=>{s||document.querySelector(".search-box").focus()};return t.$$.update=()=>{if(t.$$.dirty[0]&2&&localStorage.setItem("pwd",u),t.$$.dirty[0]&1){let Vt;localStorage.getItem("usage")!==null?(Vt=localStorage.getItem("usage"),Vt=JSON.parse(Vt)):Vt={appClicks:{}};const ie=Vt.appClicks;if(s){const jt=ie[s.id]??[];jt.push(new Date().toISOString()),ie[s.id]=jt,localStorage.setItem("usage",JSON.stringify(Vt))}else i(2,d=new Map(Yr.map(jt=>{var Wt;return[jt.id,((Wt=ie[jt.id])==null?void 0:Wt.length)??0]}))),i(3,c=new Map(Yr.map(jt=>{var me;const Wt=(me=ie[jt.id])==null?void 0:me.at(-1);return[jt.id,Wt||"never"]})))}t.$$.dirty[0]&496&&i(19,a=Yr.filter(Vt=>Vt.title.toLowerCase().includes(b)&&G5(E,Vt.instruments)&&G5(w,Vt.skills)&&G5(x,Vt.difficulty)&&v.has(Vt.input))),t.$$.dirty[0]&524812&&i(12,r=a.sort((Vt,ie)=>{if(O==="title")return Vt.title<ie.title?-1:1;if(O==="used")return d.get(ie.id)-d.get(Vt.id);if(O==="recent"){const jt=c.get(Vt.id),Wt=c.get(ie.id);return jt==="never"?1:Wt==="never"||jt>Wt?-1:1}}))},[s,u,d,c,E,v,w,x,b,O,S,R,r,f,M,m,A,p,y,a,I,P,L,k,N,$,H,U,W,J,Q,G,z,j,nt,tt,ht,pt,gt,Tt,vt,Ot,ft,St,Mt,Pt]}class j3t extends Ki{constructor(e){super(),Wi(this,e,J3t,Q3t,ji,{},null,[-1,-1])}}new j3t({target:document.getElementById("app")});
